!function(modules){var installedModules={},installedChunks={2:0};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.e=function(chunkId){if(0!==installedChunks[chunkId]){var chunk=require("./"+({5:"vendors~pdfjsWorker"}[chunkId]||chunkId)+".js"),moreModules=chunk.modules,chunkIds=chunk.ids;for(var moduleId in moreModules)modules[moduleId]=moreModules[moduleId];for(var i=0;i<chunkIds.length;i++)installedChunks[chunkIds[i]]=0}return Promise.all([])},__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__.oe=function(err){process.nextTick(function(){throw err})},__webpack_require__(__webpack_require__.s=1764)}([function(module,exports,__webpack_require__){module.exports=__webpack_require__(299)},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var obj,_defineProperty=__webpack_require__(359),_defineProperty2=(obj=_defineProperty)&&obj.__esModule?obj:{default:obj};exports.default=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),(0,_defineProperty2.default)(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}()},function(module,exports){function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}module.exports=function(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)})}}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(648),__esModule:!0}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var obj,_assign=__webpack_require__(355),_assign2=(obj=_assign)&&obj.__esModule?obj:{default:obj};exports.default=_assign2.default||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var obj,_typeof2=__webpack_require__(97),_typeof3=(obj=_typeof2)&&obj.__esModule?obj:{default:obj};exports.default=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!==(void 0===call?"undefined":(0,_typeof3.default)(call))&&"function"!=typeof call?self:call}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _setPrototypeOf2=_interopRequireDefault(__webpack_require__(661)),_create2=_interopRequireDefault(__webpack_require__(665)),_typeof3=_interopRequireDefault(__webpack_require__(97));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+(void 0===superClass?"undefined":(0,_typeof3.default)(superClass)));subClass.prototype=(0,_create2.default)(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(_setPrototypeOf2.default?(0,_setPrototypeOf2.default)(subClass,superClass):subClass.__proto__=superClass)}},function(module,exports){module.exports=require("util")},function(module,exports){var core=module.exports={version:"2.6.9"};"number"==typeof __e&&(__e=core)},function(module,exports){module.exports=require("stream")},function(module,exports,__webpack_require__){var baseGet=__webpack_require__(163);module.exports=function(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return void 0===result?defaultValue:result}},function(module,exports){var isArray=Array.isArray;module.exports=isArray},function(module,exports,__webpack_require__){"use strict";var key,buffer=__webpack_require__(59),Buffer=buffer.Buffer,safer={};for(key in buffer)buffer.hasOwnProperty(key)&&"SlowBuffer"!==key&&"Buffer"!==key&&(safer[key]=buffer[key]);var Safer=safer.Buffer={};for(key in Buffer)Buffer.hasOwnProperty(key)&&"allocUnsafe"!==key&&"allocUnsafeSlow"!==key&&(Safer[key]=Buffer[key]);if(safer.Buffer.prototype=Buffer.prototype,Safer.from&&Safer.from!==Uint8Array.from||(Safer.from=function(value,encodingOrOffset,length){if("number"==typeof value)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof value);if(value&&void 0===value.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof value);return Buffer(value,encodingOrOffset,length)}),Safer.alloc||(Safer.alloc=function(size,fill,encoding){if("number"!=typeof size)throw new TypeError('The "size" argument must be of type number. Received type '+typeof size);if(size<0||size>=2*(1<<30))throw new RangeError('The value "'+size+'" is invalid for option "size"');var buf=Buffer(size);return fill&&0!==fill.length?"string"==typeof encoding?buf.fill(fill,encoding):buf.fill(fill):buf.fill(0),buf}),!safer.kStringMaxLength)try{safer.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(e){}safer.constants||(safer.constants={MAX_LENGTH:safer.kMaxLength},safer.kStringMaxLength&&(safer.constants.MAX_STRING_LENGTH=safer.kStringMaxLength)),module.exports=safer},function(module,exports,__webpack_require__){var defineProperty=__webpack_require__(251);module.exports=function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){defineProperty(target,key,source[key])})}return target}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(299)},function(module,exports,__webpack_require__){var global=__webpack_require__(24),core=__webpack_require__(9),ctx=__webpack_require__(60),hide=__webpack_require__(70),has=__webpack_require__(85),$export=function(type,name,source){var key,own,out,IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,IS_WRAP=type&$export.W,exports=IS_GLOBAL?core:core[name]||(core[name]={}),expProto=exports.prototype,target=IS_GLOBAL?global:IS_STATIC?global[name]:(global[name]||{}).prototype;for(key in IS_GLOBAL&&(source=name),source)(own=!IS_FORCED&&target&&void 0!==target[key])&&has(exports,key)||(out=own?target[key]:source[key],exports[key]=IS_GLOBAL&&"function"!=typeof target[key]?source[key]:IS_BIND&&own?ctx(out,global):IS_WRAP&&target[key]==out?function(C){var F=function(a,b,c){if(this instanceof C){switch(arguments.length){case 0:return new C;case 1:return new C(a);case 2:return new C(a,b)}return new C(a,b,c)}return C.apply(this,arguments)};return F.prototype=C.prototype,F}(out):IS_PROTO&&"function"==typeof out?ctx(Function.call,out):out,IS_PROTO&&((exports.virtual||(exports.virtual={}))[key]=out,type&$export.R&&expProto&&!expProto[key]&&hide(expProto,key,out)))};$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,module.exports=$export},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var obj,_promise=__webpack_require__(73),_promise2=(obj=_promise)&&obj.__esModule?obj:{default:obj};exports.default=function(fn){return function(){var gen=fn.apply(this,arguments);return new _promise2.default(function(resolve,reject){return function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return _promise2.default.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}("next")})}}},function(module,exports,__webpack_require__){var assert=__webpack_require__(192),Stream=__webpack_require__(10).Stream,util=__webpack_require__(8),UUID_REGEXP=/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/;function _capitalize(str){return str.charAt(0).toUpperCase()+str.slice(1)}function _toss(name,expected,oper,arg,actual){throw new assert.AssertionError({message:util.format("%s (%s) is required",name,expected),actual:void 0===actual?typeof arg:actual(arg),expected:expected,operator:oper||"===",stackStartFunction:_toss.caller})}function _getClass(arg){return Object.prototype.toString.call(arg).slice(8,-1)}function noop(){}var types={bool:{check:function(arg){return"boolean"==typeof arg}},func:{check:function(arg){return"function"==typeof arg}},string:{check:function(arg){return"string"==typeof arg}},object:{check:function(arg){return"object"==typeof arg&&null!==arg}},number:{check:function(arg){return"number"==typeof arg&&!isNaN(arg)}},finite:{check:function(arg){return"number"==typeof arg&&!isNaN(arg)&&isFinite(arg)}},buffer:{check:function(arg){return Buffer.isBuffer(arg)},operator:"Buffer.isBuffer"},array:{check:function(arg){return Array.isArray(arg)},operator:"Array.isArray"},stream:{check:function(arg){return arg instanceof Stream},operator:"instanceof",actual:_getClass},date:{check:function(arg){return arg instanceof Date},operator:"instanceof",actual:_getClass},regexp:{check:function(arg){return arg instanceof RegExp},operator:"instanceof",actual:_getClass},uuid:{check:function(arg){return"string"==typeof arg&&UUID_REGEXP.test(arg)},operator:"isUUID"}};module.exports=function _setExports(ndebug){var out,keys=Object.keys(types);return out=process.env.NODE_NDEBUG?noop:function(arg,msg){arg||_toss(msg,"true",arg)},keys.forEach(function(k){if(ndebug)out[k]=noop;else{var type=types[k];out[k]=function(arg,msg){type.check(arg)||_toss(msg,k,type.operator,arg,type.actual)}}}),keys.forEach(function(k){var name="optional"+_capitalize(k);if(ndebug)out[name]=noop;else{var type=types[k];out[name]=function(arg,msg){null!=arg&&(type.check(arg)||_toss(msg,k,type.operator,arg,type.actual))}}}),keys.forEach(function(k){var name="arrayOf"+_capitalize(k);if(ndebug)out[name]=noop;else{var type=types[k],expected="["+k+"]";out[name]=function(arg,msg){var i;for(Array.isArray(arg)||_toss(msg,expected,type.operator,arg,type.actual),i=0;i<arg.length;i++)type.check(arg[i])||_toss(msg,expected,type.operator,arg,type.actual)}}}),keys.forEach(function(k){var name="optionalArrayOf"+_capitalize(k);if(ndebug)out[name]=noop;else{var type=types[k],expected="["+k+"]";out[name]=function(arg,msg){var i;if(null!=arg)for(Array.isArray(arg)||_toss(msg,expected,type.operator,arg,type.actual),i=0;i<arg.length;i++)type.check(arg[i])||_toss(msg,expected,type.operator,arg,type.actual)}}}),Object.keys(assert).forEach(function(k){out[k]="AssertionError"!==k&&ndebug?noop:assert[k]}),out._setExports=_setExports,out}(process.env.NODE_NDEBUG)},function(module,exports,__webpack_require__){var baseMatches=__webpack_require__(551),baseMatchesProperty=__webpack_require__(561),identity=__webpack_require__(96),isArray=__webpack_require__(12),property=__webpack_require__(564);module.exports=function(value){return"function"==typeof value?value:null==value?identity:"object"==typeof value?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}},function(module,exports){module.exports=require("url")},function(module,exports){module.exports=function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}},function(module,exports,__webpack_require__){try{var util=__webpack_require__(8);if("function"!=typeof util.inherits)throw"";module.exports=util.inherits}catch(e){module.exports=__webpack_require__(1054)}},function(module,exports){module.exports=require("crypto")},function(module,exports){var global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=global)},function(module,exports,__webpack_require__){var store=__webpack_require__(232)("wks"),uid=__webpack_require__(168),Symbol=__webpack_require__(24).Symbol,USE_SYMBOL="function"==typeof Symbol;(module.exports=function(name){return store[name]||(store[name]=USE_SYMBOL&&Symbol[name]||(USE_SYMBOL?Symbol:uid)("Symbol."+name))}).store=store},function(module,exports){function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}module.exports=function(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}},function(module,exports){module.exports=function(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(84)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(module,exports,__webpack_require__){const{filterLevel:filterLevel,filterSecrets:filterSecrets}=__webpack_require__(629),Secret=__webpack_require__(344),{LOG_LEVEL:LOG_LEVEL}=process.env;let level=LOG_LEVEL||"debug";const format=__webpack_require__(630),filters=[filterLevel,filterSecrets],filterOut=function(){for(const filter of filters)if(!1===filter.apply(null,arguments))return!0;return!1};function log(type,message,label,namespace){filterOut(level,type,message,label,namespace)||console.log(format(type,message,label,namespace))}log.addFilter=function(filter){return filters.push(filter)},log.setLevel=function(lvl){level=lvl};["debug","info","warn","error","ok","critical"].forEach(level=>{log[level]=function(message,label,namespace){return log(level,message,label,namespace)}}),module.exports=log,log.setNoRetry=obj=>(obj?obj.no_retry=!0:obj={no_retry:!0},obj.no_retry),log.Secret=Secret,log.namespace=function(namespace){return function(type,message,label,ns=namespace){log(type,message,label,ns)}}},function(module){module.exports=JSON.parse('{"0":"uncategorized","100":"potentialTransfer","200":"check","300":"atm","200100":"incomeCat","200110":"activityIncome","200120":"replacementIncome","200130":"interests","200140":"dividends","200150":"donationsReceived","200160":"allocations","200170":"rentalIncome","200180":"additionalIncome","200190":"retirement","400100":"dailyLife","400110":"supermarket","400111":"tobaccoPress","400112":"shoppingECommerce","400120":"consumerLoan","400130":"dressing","400140":"pets","400150":"telecom","400160":"snaksAndworkMeals","400170":"charity","400180":"giftsOffered","400190":"personalCare","400200":"transportation","400205":"vehiculePurchase","400210":"vehiculeLoan","400220":"vehiculeRental","400230":"vehiculeInsurance","400240":"vehiculeMaintenance","400250":"vehiculeGas","400260":"privateParking","400270":"parkingAndToll","400280":"publicTransportation","400290":"taxi","400300":"services","400310":"post","400320":"legalCounsel","400330":"homeAssistance","400340":"bankFees","400350":"financialAdvisor","400400":"kids","400410":"kidsAllowance","400420":"schoolRestaurant","400430":"childCare","400440":"schoolInsurance","400450":"toysAndGifts","400460":"pensionPaid","400470":"kidsActivities","400500":"tax","400510":"incomeTax","400520":"socialTax","400530":"wealthTax","400540":"realEstateTax","400600":"health","400610":"healthExpenses","400620":"healthInsurance","400700":"activities","400710":"activityFees","400720":"activityEquipments","400730":"activityLessons","400740":"electronicsAndMultimedia","400750":"booksMoviesMusic","400760":"hobbyAndPassion","400800":"goingOutAndTravel","400810":"restaurantsAndBars","400820":"goingOutEntertainment","400830":"goingOutCulture","400840":"travel","400850":"journey","400900":"educationAndTraining","400910":"tuition","400920":"eduBooksAndSupplies","400930":"studentLoan","400940":"eduLessons","401000":"homeAndRealEstate","401010":"realEstateLoan","401020":"rent","401030":"homeCharges","401040":"homeInsurance","401050":"homeImprovement","401060":"homeHardware","401070":"water","401080":"power","600100":"excludeFromBudgetCat","600110":"internalTransfer","600120":"creditCardPayment","600130":"loanCredit","600140":"professionalExpenses","600150":"investmentBuySell","600160":"friendBorrowing","600170":"savings"}')},function(module,exports){function _getPrototypeOf(o){return module.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},_getPrototypeOf(o)}module.exports=_getPrototypeOf},function(module,exports){module.exports=function(value){return null!=value&&"object"==typeof value}},function(module,exports,__webpack_require__){var freeGlobal=__webpack_require__(302),freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();module.exports=root},,function(module,exports,__webpack_require__){var getTimezoneOffsetInMilliseconds=__webpack_require__(599),isDate=__webpack_require__(430),MILLISECONDS_IN_HOUR=36e5,MILLISECONDS_IN_MINUTE=6e4,DEFAULT_ADDITIONAL_DIGITS=2,parseTokenDateTimeDelimeter=/[T ]/,parseTokenPlainTime=/:/,parseTokenYY=/^(\d{2})$/,parseTokensYYY=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],parseTokenYYYY=/^(\d{4})/,parseTokensYYYYY=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],parseTokenMM=/^-(\d{2})$/,parseTokenDDD=/^-?(\d{3})$/,parseTokenMMDD=/^-?(\d{2})-?(\d{2})$/,parseTokenWww=/^-?W(\d{2})$/,parseTokenWwwD=/^-?W(\d{2})-?(\d{1})$/,parseTokenHH=/^(\d{2}([.,]\d*)?)$/,parseTokenHHMM=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,parseTokenHHMMSS=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,parseTokenTimezone=/([Z+-].*)$/,parseTokenTimezoneZ=/^(Z)$/,parseTokenTimezoneHH=/^([+-])(\d{2})$/,parseTokenTimezoneHHMM=/^([+-])(\d{2}):?(\d{2})$/;function dayOfISOYear(isoYear,week,day){week=week||0,day=day||0;var date=new Date(0);date.setUTCFullYear(isoYear,0,4);var diff=7*week+day+1-(date.getUTCDay()||7);return date.setUTCDate(date.getUTCDate()+diff),date}module.exports=function(argument,dirtyOptions){if(isDate(argument))return new Date(argument.getTime());if("string"!=typeof argument)return new Date(argument);var additionalDigits=(dirtyOptions||{}).additionalDigits;additionalDigits=null==additionalDigits?DEFAULT_ADDITIONAL_DIGITS:Number(additionalDigits);var dateStrings=function(dateString){var timeString,dateStrings={},array=dateString.split(parseTokenDateTimeDelimeter);if(parseTokenPlainTime.test(array[0])?(dateStrings.date=null,timeString=array[0]):(dateStrings.date=array[0],timeString=array[1]),timeString){var token=parseTokenTimezone.exec(timeString);token?(dateStrings.time=timeString.replace(token[1],""),dateStrings.timezone=token[1]):dateStrings.time=timeString}return dateStrings}(argument),parseYearResult=function(dateString,additionalDigits){var token,parseTokenYYY=parseTokensYYY[additionalDigits],parseTokenYYYYY=parseTokensYYYYY[additionalDigits];if(token=parseTokenYYYY.exec(dateString)||parseTokenYYYYY.exec(dateString)){var yearString=token[1];return{year:parseInt(yearString,10),restDateString:dateString.slice(yearString.length)}}if(token=parseTokenYY.exec(dateString)||parseTokenYYY.exec(dateString)){var centuryString=token[1];return{year:100*parseInt(centuryString,10),restDateString:dateString.slice(centuryString.length)}}return{year:null}}(dateStrings.date,additionalDigits),year=parseYearResult.year,date=function(dateString,year){if(null===year)return null;var token,date,month,week;if(0===dateString.length)return(date=new Date(0)).setUTCFullYear(year),date;if(token=parseTokenMM.exec(dateString))return date=new Date(0),month=parseInt(token[1],10)-1,date.setUTCFullYear(year,month),date;if(token=parseTokenDDD.exec(dateString)){date=new Date(0);var dayOfYear=parseInt(token[1],10);return date.setUTCFullYear(year,0,dayOfYear),date}if(token=parseTokenMMDD.exec(dateString)){date=new Date(0),month=parseInt(token[1],10)-1;var day=parseInt(token[2],10);return date.setUTCFullYear(year,month,day),date}if(token=parseTokenWww.exec(dateString))return week=parseInt(token[1],10)-1,dayOfISOYear(year,week);if(token=parseTokenWwwD.exec(dateString)){week=parseInt(token[1],10)-1;var dayOfWeek=parseInt(token[2],10)-1;return dayOfISOYear(year,week,dayOfWeek)}return null}(parseYearResult.restDateString,year);if(date){var offset,timestamp=date.getTime(),time=0;if(dateStrings.time&&(time=function(timeString){var token,hours,minutes;if(token=parseTokenHH.exec(timeString))return(hours=parseFloat(token[1].replace(",",".")))%24*MILLISECONDS_IN_HOUR;if(token=parseTokenHHMM.exec(timeString))return hours=parseInt(token[1],10),minutes=parseFloat(token[2].replace(",",".")),hours%24*MILLISECONDS_IN_HOUR+minutes*MILLISECONDS_IN_MINUTE;if(token=parseTokenHHMMSS.exec(timeString)){hours=parseInt(token[1],10),minutes=parseInt(token[2],10);var seconds=parseFloat(token[3].replace(",","."));return hours%24*MILLISECONDS_IN_HOUR+minutes*MILLISECONDS_IN_MINUTE+1e3*seconds}return null}(dateStrings.time)),dateStrings.timezone)timezoneString=dateStrings.timezone,offset=((token=parseTokenTimezoneZ.exec(timezoneString))?0:(token=parseTokenTimezoneHH.exec(timezoneString))?(absoluteOffset=60*parseInt(token[2],10),"+"===token[1]?-absoluteOffset:absoluteOffset):(token=parseTokenTimezoneHHMM.exec(timezoneString))?(absoluteOffset=60*parseInt(token[2],10)+parseInt(token[3],10),"+"===token[1]?-absoluteOffset:absoluteOffset):0)*MILLISECONDS_IN_MINUTE;else{var fullTime=timestamp+time,fullTimeDate=new Date(fullTime);offset=getTimezoneOffsetInMilliseconds(fullTimeDate);var fullTimeDateNextDay=new Date(fullTime);fullTimeDateNextDay.setDate(fullTimeDate.getDate()+1);var offsetDiff=getTimezoneOffsetInMilliseconds(fullTimeDateNextDay)-getTimezoneOffsetInMilliseconds(fullTimeDate);offsetDiff>0&&(offset+=offsetDiff)}return new Date(timestamp+time+offset)}var timezoneString,token,absoluteOffset;return new Date(argument)}},function(module,exports){module.exports=function(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}},function(module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},function(module,exports,__webpack_require__){const omit=__webpack_require__(98),pick=__webpack_require__(164),size=__webpack_require__(280),omitBy=__webpack_require__(473),isUndefined=__webpack_require__(401),fromPairs=__webpack_require__(92),pickBy=__webpack_require__(147),flatMap=__webpack_require__(417),groupBy=__webpack_require__(41),sortBy=__webpack_require__(74),get=__webpack_require__(11),{parallelMap:parallelMap}=__webpack_require__(684),CozyClient=__webpack_require__(414).default,log=__webpack_require__(29).namespace("Document"),querystring=__webpack_require__(186),DATABASE_DOES_NOT_EXIST="Database does not exist.";function isDifferent(o1,o2){if(0===Object.keys(o1).length)return!0;for(let key in o1)if(o1[key]!==o2[key])return!0;return!1}const indexes={},userAttributes=["shortLabel"];function sanitizeKey(key){return key.startsWith("\\")?key.slice(1):key}const withoutUndefined=x=>omitBy(x,isUndefined),flagForDeletion=x=>Object.assign({},x,{_deleted:!0});module.exports=class{static registerClient(client){if(this.cozyClient)throw console.warn("Document already has been registered, this is not possible to re-register as the client is shared globally between all classes. This is to prevent concurrency bugs."),new Error("Document cannot be re-registered to a client.");this.cozyClient=client}static copyWithClient(client){const BaseClass=this;class ExtendedClass extends BaseClass{}return ExtendedClass.cozyClient=null,ExtendedClass.registerClient(client),ExtendedClass}static usesCozyClient(){return this.cozyClient instanceof CozyClient}static getIndex(doctype,fields){if(this.usesCozyClient())throw new Error("This method is not implemented yet with CozyClient");return this.getIndexViaOldClient(doctype,fields)}static getIndexViaOldClient(doctype,fields){const key=`${doctype}:${fields.slice().join(",")}`;return indexes[key]||(indexes[key]=this.cozyClient.data.defineIndex(doctype,fields).then(index=>(indexes[key]=index,index))),Promise.resolve(indexes[key])}static addCozyMetadata(attributes){return attributes.cozyMetadata||(attributes.cozyMetadata={}),attributes.cozyMetadata.updatedAt=new Date,!attributes.cozyMetadata.createdByApp&&this.createdByApp&&(attributes.cozyMetadata.createdByApp=this.createdByApp),this.createdByApp&&function(cozyMetadata,appSlug){cozyMetadata.updatedByApps||(cozyMetadata.updatedByApps=[]);const now=new Date;for(const appInfo of cozyMetadata.updatedByApps)if(appInfo.slug===appSlug)return void(appInfo.date=now);cozyMetadata.updatedByApps.push({slug:appSlug,date:now})}(attributes.cozyMetadata,this.createdByApp),attributes}static async get(id){if(!this.usesCozyClient())throw new Error("This method is not implemented with cozy-client-js");if(!this.doctype)throw new Error("doctype is not defined");return(await this.cozyClient.collection(this.doctype).get(id)).data}static async createOrUpdate(attributes){return this.usesCozyClient()?this.createOrUpdateViaNewClient(attributes):this.createOrUpdateViaOldClient(attributes)}static async createOrUpdateViaNewClient(attributes){const selector=fromPairs(this.idAttributes.map(idAttribute=>[idAttribute,get(attributes,sanitizeKey(idAttribute))]));let results=[];const compactedSelector=withoutUndefined(selector);if(size(compactedSelector)===this.idAttributes.length&&(results=await this.queryAll(selector)),0===results.length)return this.create(this.addCozyMetadata(attributes));if(1===results.length){const update=omit(attributes,userAttributes);if(!this.checkAttributes||isDifferent(pick(results[0],this.checkAttributes),pick(update,this.checkAttributes))){delete update.dateImport;const updated=this.addCozyMetadata({...results[0],...update});return this.cozyClient.save(updated)}return log("debug",`[createOrUpdate] Didn't update ${results[0]._id} because its \`checkedAttributes\` (${this.checkAttributes}) didn't change.`),results[0]}throw new Error("Create or update with selectors that returns more than 1 result\n"+JSON.stringify(selector)+"\n"+JSON.stringify(results))}static async createOrUpdateViaOldClient(attributes){const selector=fromPairs(this.idAttributes.map(idAttribute=>[idAttribute,get(attributes,sanitizeKey(idAttribute))]));let results=[];const compactedSelector=withoutUndefined(selector);if(size(compactedSelector)===this.idAttributes.length){const index=await this.getIndex(this.doctype,this.idAttributes);results=await this.cozyClient.data.query(index,{selector:selector})}if(0===results.length)return this.cozyClient.data.create(this.doctype,this.addCozyMetadata(attributes));if(1===results.length){const id=results[0]._id,update=omit(attributes,userAttributes);return!this.checkAttributes||isDifferent(pick(results[0],this.checkAttributes),pick(update,this.checkAttributes))?(delete update.dateImport,this.cozyClient.data.updateAttributes(this.doctype,id,this.addCozyMetadata(update))):(log("debug",`[bulkSave] Didn't update ${results[0]._id} because its \`checkedAttributes\` (${this.checkAttributes}) didn't change.`),results[0])}throw new Error("Create or update with selectors that returns more than 1 result\n"+JSON.stringify(selector)+"\n"+JSON.stringify(results))}static create(attributes){return this.usesCozyClient()?this.createViaNewClient(attributes):this.createViaOldClient(attributes)}static createViaNewClient(attributes){return this.cozyClient.create(this.doctype,attributes)}static createViaOldClient(attributes){return this.cozyClient.data.create(this.doctype,attributes)}static bulkSave(documents,concurrency,logProgress){return parallelMap(documents,doc=>(logProgress&&logProgress(doc),this.createOrUpdate(doc)),concurrency=concurrency||30)}static query(index,options){if(this.usesCozyClient())throw new Error("This method is not implemented yet with CozyClient");return this.queryViaOldClient(index,options)}static queryViaOldClient(index,options){return this.cozyClient.data.query(index,options)}static async fetchAll(){const stackClient=this.usesCozyClient()?this.cozyClient.stackClient:this.cozyClient;try{return(await stackClient.fetchJSON("GET",`/data/${this.doctype}/_all_docs?include_docs=true`)).rows.filter(x=>0!==x.id.indexOf("_design")&&x.doc).map(x=>x.doc)}catch(e){return e&&e.response&&e.response.status&&e.response.status,[]}}static async updateAll(docs){const stackClient=this.usesCozyClient()?this.cozyClient.stackClient:this.cozyClient;if(!docs||!docs.length)return Promise.resolve([]);try{return await stackClient.fetchJSON("POST",`/data/${this.doctype}/_bulk_docs`,{docs:docs})}catch(e){if(e.reason&&e.reason.reason&&e.reason.reason==DATABASE_DOES_NOT_EXIST){const firstDoc=await this.create(docs[0]),resp=await this.updateAll(docs.slice(1));return resp.unshift({ok:!0,id:firstDoc._id,rev:firstDoc._rev}),resp}throw e}}static async deleteAll(docs){return this.updateAll(docs.map(flagForDeletion))}static findDuplicates(docs){const idAttributes=this.idAttributes,groups=pickBy(groupBy(docs,doc=>idAttributes.map(idAttrPath=>get(doc,idAttrPath)).join("#$$$$#")),group=>group.length>1);return flatMap(groups,group=>group.slice(1))}static async deleteDuplicates(priorityFn){let allDocs=await this.fetchAll();priorityFn&&(allDocs=sortBy(allDocs,priorityFn));const duplicates=this.findDuplicates(allDocs);return this.deleteAll(duplicates)}static async fetchChanges(since,options={}){const stackClient=this.usesCozyClient()?this.cozyClient.stackClient:this.cozyClient,queryParams={since:since,include_docs:"true"};options.params&&Object.assign(queryParams,options.params);const result=await stackClient.fetchJSON("GET",`/data/${this.doctype}/_changes?${querystring.stringify(queryParams)}`),newLastSeq=result.last_seq;let docs=result.results.map(x=>x.doc).filter(Boolean);return options.includeDesign||(docs=docs.filter(doc=>0!==doc._id.indexOf("_design"))),options.includeDeleted||(docs=docs.filter(doc=>!doc._deleted)),{newLastSeq:newLastSeq,documents:docs}}static async queryAll(selector,index){return this.usesCozyClient()?this.queryAllViaNewClient(selector):this.queryAllViaOldClient(selector,index)}static async queryAllViaNewClient(selector){if(!selector)return this.fetchAll();const result=[],query=this.cozyClient.find(this.doctype).where(selector);let resp={next:!0};for(;resp&&resp.next;)resp=await this.cozyClient.query(query.offset(result.length)),result.push(...resp.data);return result}static async queryAllViaOldClient(selector,index){if(!selector)return await this.fetchAll();index||(index=await this.cozyClient.data.defineIndex(this.doctype,Object.keys(selector)));const result=[];let resp={next:!0};for(;resp&&resp.next;)resp=await this.cozyClient.data.query(index,{selector:selector,wholeResponse:!0,skip:result.length}),result.push(...resp.docs);return result}static async getAll(ids){const stackClient=this.usesCozyClient()?this.cozyClient.stackClient:this.cozyClient;let resp;try{resp=await stackClient.fetchJSON("POST",`/data/${this.doctype}/_all_docs?include_docs=true`,{keys:ids})}catch(error){if(error.message.match(/not_found/))return[];throw error}return resp.rows.filter(row=>row.doc).map(row=>row.doc)}}},function(module,exports,__webpack_require__){var _typeof=__webpack_require__(621),assertThisInitialized=__webpack_require__(282);module.exports=function(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?assertThisInitialized(self):call}},function(module,exports,__webpack_require__){var setPrototypeOf=__webpack_require__(622);module.exports=function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&setPrototypeOf(subClass,superClass)}},function(module,exports,__webpack_require__){var baseAssignValue=__webpack_require__(102),createAggregator=__webpack_require__(342),hasOwnProperty=Object.prototype.hasOwnProperty,groupBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?result[key].push(value):baseAssignValue(result,key,[value])});module.exports=groupBy},function(module,exports,__webpack_require__){const Account=__webpack_require__(683),AdministrativeProcedure=__webpack_require__(773),Application=__webpack_require__(392),Document=__webpack_require__(38),BalanceHistory=__webpack_require__(776),BankAccount=__webpack_require__(249),BankingReconciliator=__webpack_require__(779),BankTransaction=__webpack_require__(780),BankAccountStats=__webpack_require__(782),Contact=__webpack_require__(390),CozyFile=__webpack_require__(395),CozyFolder=__webpack_require__(785),Group=__webpack_require__(786),Permission=__webpack_require__(787);module.exports={Account:Account,AdministrativeProcedure:AdministrativeProcedure,Application:Application,Document:Document,BalanceHistory:BalanceHistory,BankAccount:BankAccount,BankingReconciliator:BankingReconciliator,BankTransaction:BankTransaction,BankAccountStats:BankAccountStats,Contact:Contact,CozyFile:CozyFile,CozyFolder:CozyFolder,Group:Group,registerClient:Document.registerClient,Permission:Permission}},function(module,exports){module.exports=require("events")},function(module,exports,__webpack_require__){var anObject=__webpack_require__(49),IE8_DOM_DEFINE=__webpack_require__(346),toPrimitive=__webpack_require__(229),dP=Object.defineProperty;exports.f=__webpack_require__(28)?Object.defineProperty:function(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");return"value"in Attributes&&(O[P]=Attributes.value),O}},function(module,exports,__webpack_require__){module.exports=Key;var edCompat,assert=__webpack_require__(18),algs=__webpack_require__(57),crypto=__webpack_require__(23),Fingerprint=__webpack_require__(260),Signature=__webpack_require__(121),DiffieHellman=__webpack_require__(443).DiffieHellman,errs=__webpack_require__(112),utils=__webpack_require__(46),PrivateKey=__webpack_require__(53);try{edCompat=__webpack_require__(799)}catch(e){}var InvalidAlgorithmError=errs.InvalidAlgorithmError,KeyParseError=errs.KeyParseError,formats={};function Key(opts){assert.object(opts,"options"),assert.arrayOfObject(opts.parts,"options.parts"),assert.string(opts.type,"options.type"),assert.optionalString(opts.comment,"options.comment");var algInfo=algs.info[opts.type];if("object"!=typeof algInfo)throw new InvalidAlgorithmError(opts.type);for(var sz,partLookup={},i=0;i<opts.parts.length;++i){var part=opts.parts[i];partLookup[part.name]=part}if(this.type=opts.type,this.parts=opts.parts,this.part=partLookup,this.comment=void 0,this.source=opts.source,this._rfc4253Cache=opts._rfc4253Cache,this._hashCache={},this.curve=void 0,"ecdsa"===this.type){var curve=this.part.curve.data.toString();this.curve=curve,sz=algs.curves[curve].size}else if("ed25519"===this.type||"curve25519"===this.type)sz=256,this.curve="curve25519";else{var szPart=this.part[algInfo.sizePart];sz=8*(sz=szPart.data.length)-utils.countZeros(szPart.data)}this.size=sz}formats.auto=__webpack_require__(800),formats.pem=__webpack_require__(142),formats.pkcs1=__webpack_require__(444),formats.pkcs8=__webpack_require__(264),formats.rfc4253=__webpack_require__(143),formats.ssh=__webpack_require__(802),formats["ssh-private"]=__webpack_require__(305),formats.openssh=formats["ssh-private"],formats.dnssec=__webpack_require__(445),formats.putty=__webpack_require__(803),formats.ppk=formats.putty,Key.formats=formats,Key.prototype.toBuffer=function(format,options){return void 0===format&&(format="ssh"),assert.string(format,"format"),assert.object(formats[format],"formats[format]"),assert.optionalObject(options,"options"),"rfc4253"===format?(void 0===this._rfc4253Cache&&(this._rfc4253Cache=formats.rfc4253.write(this)),this._rfc4253Cache):formats[format].write(this,options)},Key.prototype.toString=function(format,options){return this.toBuffer(format,options).toString()},Key.prototype.hash=function(algo,type){if(assert.string(algo,"algorithm"),assert.optionalString(type,"type"),void 0===type&&(type="ssh"),algo=algo.toLowerCase(),void 0===algs.hashAlgs[algo])throw new InvalidAlgorithmError(algo);var buf,cacheKey=algo+"||"+type;if(this._hashCache[cacheKey])return this._hashCache[cacheKey];if("ssh"===type)buf=this.toBuffer("rfc4253");else{if("spki"!==type)throw new Error("Hash type "+type+" not supported");buf=formats.pkcs8.pkcs8ToBuffer(this)}var hash=crypto.createHash(algo).update(buf).digest();return this._hashCache[cacheKey]=hash,hash},Key.prototype.fingerprint=function(algo,type){void 0===algo&&(algo="sha256"),void 0===type&&(type="ssh"),assert.string(algo,"algorithm"),assert.string(type,"type");var opts={type:"key",hash:this.hash(algo,type),algorithm:algo,hashType:type};return new Fingerprint(opts)},Key.prototype.defaultHashAlgorithm=function(){var hashAlgo="sha1";return"rsa"===this.type&&(hashAlgo="sha256"),"dsa"===this.type&&this.size>1024&&(hashAlgo="sha256"),"ed25519"===this.type&&(hashAlgo="sha512"),"ecdsa"===this.type&&(hashAlgo=this.size<=256?"sha256":this.size<=384?"sha384":"sha512"),hashAlgo},Key.prototype.createVerify=function(hashAlgo){if(void 0===hashAlgo&&(hashAlgo=this.defaultHashAlgorithm()),assert.string(hashAlgo,"hash algorithm"),"ed25519"===this.type&&void 0!==edCompat)return new edCompat.Verifier(this,hashAlgo);if("curve25519"===this.type)throw new Error("Curve25519 keys are not suitable for signing or verification");var v,nm,err;try{nm=hashAlgo.toUpperCase(),v=crypto.createVerify(nm)}catch(e){err=e}(void 0===v||err instanceof Error&&err.message.match(/Unknown message digest/))&&(nm="RSA-",nm+=hashAlgo.toUpperCase(),v=crypto.createVerify(nm)),assert.ok(v,"failed to create verifier");var oldVerify=v.verify.bind(v),key=this.toBuffer("pkcs8"),curve=this.curve,self=this;return v.verify=function(signature,fmt){if(Signature.isSignature(signature,[2,0]))return signature.type===self.type&&((!signature.hashAlgorithm||signature.hashAlgorithm===hashAlgo)&&((!signature.curve||"ecdsa"!==self.type||signature.curve===curve)&&oldVerify(key,signature.toBuffer("asn1"))));if("string"==typeof signature||Buffer.isBuffer(signature))return oldVerify(key,signature,fmt);throw Signature.isSignature(signature,[1,0])?new Error("signature was created by too old a version of sshpk and cannot be verified"):new TypeError("signature must be a string, Buffer, or Signature object")},v},Key.prototype.createDiffieHellman=function(){if("rsa"===this.type)throw new Error("RSA keys do not support Diffie-Hellman");return new DiffieHellman(this)},Key.prototype.createDH=Key.prototype.createDiffieHellman,Key.parse=function(data,format,options){"string"!=typeof data&&assert.buffer(data,"data"),void 0===format&&(format="auto"),assert.string(format,"format"),"string"==typeof options&&(options={filename:options}),assert.optionalObject(options,"options"),void 0===options&&(options={}),assert.optionalString(options.filename,"options.filename"),void 0===options.filename&&(options.filename="(unnamed)"),assert.object(formats[format],"formats[format]");try{var k=formats[format].read(data,options);return k instanceof PrivateKey&&(k=k.toPublic()),k.comment||(k.comment=options.filename),k}catch(e){if("KeyEncryptedError"===e.name)throw e;throw new KeyParseError(options.filename,format,e)}},Key.isKey=function(obj,ver){return utils.isCompatible(obj,Key,ver)},Key.prototype._sshpkApiVersion=[1,7],Key._oldVersionDetect=function(obj){return assert.func(obj.toBuffer),assert.func(obj.fingerprint),obj.createDH?[1,4]:obj.defaultHashAlgorithm?[1,3]:obj.formats.auto?[1,2]:obj.formats.pkcs1?[1,1]:[1,0]}},function(module,exports,__webpack_require__){module.exports={bufferSplit:function(buf,chr){assert.buffer(buf),assert.string(chr);for(var parts=[],lastPart=0,matches=0,i=0;i<buf.length;++i)if(buf[i]===chr.charCodeAt(matches)?++matches:matches=buf[i]===chr.charCodeAt(0)?1:0,matches>=chr.length){var newPart=i+1;parts.push(buf.slice(lastPart,newPart-matches)),lastPart=newPart,matches=0}lastPart<=buf.length&&parts.push(buf.slice(lastPart,buf.length));return parts},addRSAMissing:function(key){assert.object(key),assertCompatible(key,PrivateKey,[1,1]);var buf,d=new jsbn(key.part.d.data);if(!key.part.dmodp){var p=new jsbn(key.part.p.data),dmodp=d.mod(p.subtract(1));buf=bigintToMpBuf(dmodp),key.part.dmodp={name:"dmodp",data:buf},key.parts.push(key.part.dmodp)}if(!key.part.dmodq){var q=new jsbn(key.part.q.data),dmodq=d.mod(q.subtract(1));buf=bigintToMpBuf(dmodq),key.part.dmodq={name:"dmodq",data:buf},key.parts.push(key.part.dmodq)}},calculateDSAPublic:function(g,p,x){return assert.buffer(g),assert.buffer(p),assert.buffer(x),g=new jsbn(g),p=new jsbn(p),x=new jsbn(x),bigintToMpBuf(g.modPow(x,p))},calculateED25519Public:function(k){assert.buffer(k);var kp=nacl.sign.keyPair.fromSeed(new Uint8Array(k));return Buffer.from(kp.publicKey)},calculateX25519Public:function(k){assert.buffer(k);var kp=nacl.box.keyPair.fromSeed(new Uint8Array(k));return Buffer.from(kp.publicKey)},mpNormalize:mpNormalize,mpDenormalize:function(buf){assert.buffer(buf);for(;buf.length>1&&0===buf[0];)buf=buf.slice(1);return buf},ecNormalize:function(buf,addZero){if(assert.buffer(buf),0===buf[0]&&4===buf[1])return addZero?buf:buf.slice(1);if(4===buf[0]){if(!addZero)return buf}else{for(;0===buf[0];)buf=buf.slice(1);if(2===buf[0]||3===buf[0])throw new Error("Compressed elliptic curve points are not supported");if(4!==buf[0])throw new Error("Not a valid elliptic curve point");if(!addZero)return buf}var b=Buffer.alloc(buf.length+1);return b[0]=0,buf.copy(b,1),b},countZeros:function(buf){var o=0,obit=8;for(;o<buf.length;){var mask=1<<obit;if((buf[o]&mask)===mask)break;--obit<0&&(o++,obit=8)}return 8*o+(8-obit)-1},assertCompatible:assertCompatible,isCompatible:function(obj,klass,needVer){if(null===obj||"object"!=typeof obj)return!1;void 0===needVer&&(needVer=klass.prototype._sshpkApiVersion);if(obj instanceof klass&&klass.prototype._sshpkApiVersion[0]==needVer[0])return!0;var proto=Object.getPrototypeOf(obj),depth=0;for(;proto.constructor.name!==klass.name;)if(!(proto=Object.getPrototypeOf(proto))||++depth>MAX_CLASS_DEPTH)return!1;if(proto.constructor.name!==klass.name)return!1;var ver=proto._sshpkApiVersion;void 0===ver&&(ver=klass._oldVersionDetect(obj));return!(ver[0]!=needVer[0]||ver[1]<needVer[1])},opensslKeyDeriv:function(cipher,salt,passphrase,count){assert.buffer(salt,"salt"),assert.buffer(passphrase,"passphrase"),assert.number(count,"iteration count");var D,D_prev,bufs,clen=CIPHER_LEN[cipher];assert.object(clen,"supported cipher"),salt=salt.slice(0,PKCS5_SALT_LEN);var material=Buffer.alloc(0);for(;material.length<clen.key+clen.iv;){bufs=[],D_prev&&bufs.push(D_prev),bufs.push(passphrase),bufs.push(salt),D=Buffer.concat(bufs);for(var j=0;j<count;++j)D=crypto.createHash("md5").update(D).digest();material=Buffer.concat([material,D]),D_prev=D}return{key:material.slice(0,clen.key),iv:material.slice(clen.key,clen.key+clen.iv)}},opensshCipherInfo:function(cipher){var inf={};switch(cipher){case"3des-cbc":inf.keySize=24,inf.blockSize=8,inf.opensslName="des-ede3-cbc";break;case"blowfish-cbc":inf.keySize=16,inf.blockSize=8,inf.opensslName="bf-cbc";break;case"aes128-cbc":case"aes128-ctr":case"aes128-gcm@openssh.com":inf.keySize=16,inf.blockSize=16,inf.opensslName="aes-128-"+cipher.slice(7,10);break;case"aes192-cbc":case"aes192-ctr":case"aes192-gcm@openssh.com":inf.keySize=24,inf.blockSize=16,inf.opensslName="aes-192-"+cipher.slice(7,10);break;case"aes256-cbc":case"aes256-ctr":case"aes256-gcm@openssh.com":inf.keySize=32,inf.blockSize=16,inf.opensslName="aes-256-"+cipher.slice(7,10);break;default:throw new Error('Unsupported openssl cipher "'+cipher+'"')}return inf},publicFromPrivateECDSA:function(curveName,priv){assert.string(curveName,"curveName"),assert.buffer(priv);var params=algs.curves[curveName],p=new jsbn(params.p),a=new jsbn(params.a),b=new jsbn(params.b),curve=new ec.ECCurveFp(p,a,b),G=curve.decodePointHex(params.G.toString("hex")),d=new jsbn(mpNormalize(priv)),pub=G.multiply(d);pub=Buffer.from(curve.encodePointHex(pub),"hex");var parts=[];return parts.push({name:"curve",data:Buffer.from(curveName)}),parts.push({name:"Q",data:pub}),new Key({type:"ecdsa",curve:curve,parts:parts})},zeroPadToLength:function(buf,len){assert.buffer(buf),assert.number(len);for(;buf.length>len;)assert.equal(buf[0],0),buf=buf.slice(1);for(;buf.length<len;){var b=Buffer.alloc(buf.length+1);b[0]=0,buf.copy(b,1),buf=b}return buf},writeBitString:function(der,buf,tag){void 0===tag&&(tag=asn1.Ber.BitString);var b=Buffer.alloc(buf.length+1);b[0]=0,buf.copy(b,1),der.writeBuffer(b,tag)},readBitString:function(der,tag){void 0===tag&&(tag=asn1.Ber.BitString);var buf=der.readString(tag,!0);return assert.strictEqual(buf[0],0,"bit strings with unused bits are not supported (0x"+buf[0].toString(16)+")"),buf.slice(1)},pbkdf2:function(hashAlg,salt,iterations,size,passphrase){var hkey=Buffer.alloc(salt.length+4);salt.copy(hkey);var gen=0,ts=[],i=1;for(;gen<size;){var t=T(i++);gen+=t.length,ts.push(t)}return Buffer.concat(ts).slice(0,size);function T(I){hkey.writeUInt32BE(I,hkey.length-4);var hmac=crypto.createHmac(hashAlg,passphrase);hmac.update(hkey);for(var Ti=hmac.digest(),Uc=Ti,c=1;c++<iterations;){(hmac=crypto.createHmac(hashAlg,passphrase)).update(Uc),Uc=hmac.digest();for(var x=0;x<Ti.length;++x)Ti[x]^=Uc[x]}return Ti}}};var assert=__webpack_require__(18),Buffer=__webpack_require__(13).Buffer,PrivateKey=__webpack_require__(53),Key=__webpack_require__(45),crypto=__webpack_require__(23),algs=__webpack_require__(57),asn1=__webpack_require__(122),ec=__webpack_require__(304),jsbn=__webpack_require__(261).BigInteger,nacl=__webpack_require__(262),MAX_CLASS_DEPTH=3;function assertCompatible(obj,klass,needVer,name){if(void 0===name&&(name="object"),assert.ok(obj,name+" must not be null"),assert.object(obj,name+" must be an object"),void 0===needVer&&(needVer=klass.prototype._sshpkApiVersion),!(obj instanceof klass&&klass.prototype._sshpkApiVersion[0]==needVer[0])){for(var proto=Object.getPrototypeOf(obj),depth=0;proto.constructor.name!==klass.name;)proto=Object.getPrototypeOf(proto),assert.ok(proto&&++depth<=MAX_CLASS_DEPTH,name+" must be a "+klass.name+" instance");assert.strictEqual(proto.constructor.name,klass.name,name+" must be a "+klass.name+" instance");var ver=proto._sshpkApiVersion;void 0===ver&&(ver=klass._oldVersionDetect(obj)),assert.ok(ver[0]==needVer[0]&&ver[1]>=needVer[1],name+" must be compatible with "+klass.name+" klass version "+needVer[0]+"."+needVer[1])}}var CIPHER_LEN={"des-ede3-cbc":{key:24,iv:8},"aes-128-cbc":{key:16,iv:16},"aes-256-cbc":{key:32,iv:16}},PKCS5_SALT_LEN=8;function mpNormalize(buf){for(assert.buffer(buf);buf.length>1&&0===buf[0]&&0==(128&buf[1]);)buf=buf.slice(1);if(128==(128&buf[0])){var b=Buffer.alloc(buf.length+1);b[0]=0,buf.copy(b,1),buf=b}return buf}function bigintToMpBuf(bigint){var buf=Buffer.from(bigint.toByteArray());return buf=mpNormalize(buf)}},function(module,exports){module.exports=require("path")},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var obj,_defineProperty=__webpack_require__(359),_defineProperty2=(obj=_defineProperty)&&obj.__esModule?obj:{default:obj};exports.default=function(obj,key,value){return key in obj?(0,_defineProperty2.default)(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(37);module.exports=function(it){if(!isObject(it))throw TypeError(it+" is not an object!");return it}},function(module,__webpack_exports__,__webpack_require__){"use strict";var tree=__webpack_require__(30),detect_node=__webpack_require__(397),detect_node_default=__webpack_require__.n(detect_node),palette=__webpack_require__(398),palette_default=__webpack_require__.n(palette),memoize=__webpack_require__(250),getCssVariableValue=__webpack_require__.n(memoize)()(function(variableName){return window.getComputedStyle(document.body).getPropertyValue("--".concat(variableName)).trim()});__webpack_require__.d(__webpack_exports__,"a",function(){return categoriesStyle}),__webpack_require__.d(__webpack_exports__,"c",function(){return categoriesMap_getCategoryIdFromName}),__webpack_require__.d(__webpack_exports__,"d",function(){return categoriesMap_getCategoryName}),__webpack_require__.d(__webpack_exports__,"e",function(){return getParentCategory}),__webpack_require__.d(__webpack_exports__,"f",function(){return isParentOf});var categoriesMap_getColor=function(color){return detect_node_default.a?palette_default.a[color]:getCssVariableValue(color)},categoriesStyle={kids:{color:categoriesMap_getColor("azure")},dailyLife:{color:categoriesMap_getColor("melon")},educationAndTraining:{color:categoriesMap_getColor("blazeOrange")},health:{color:categoriesMap_getColor("pomegranate")},homeAndRealEstate:{color:categoriesMap_getColor("mango")},incomeCat:{color:categoriesMap_getColor("emerald")},activities:{color:categoriesMap_getColor("fuchsia")||"#FC4C83"},excludeFromBudgetCat:{color:categoriesMap_getColor("darkPeriwinkle")},services:{color:categoriesMap_getColor("purpley")},tax:{color:categoriesMap_getColor("lightishPurple")},transportation:{color:categoriesMap_getColor("puertoRico")},goingOutAndTravel:{color:categoriesMap_getColor("weirdGreen")},uncategorized:{color:categoriesMap_getColor("coolGrey")}},categoriesMap_getCategoryIdFromName=function(name){return Object.keys(tree).find(function(id){return tree[id]===name})};for(var categoriesMap_catName in categoriesStyle){var category=categoriesStyle[categoriesMap_catName];category.name=categoriesMap_catName,category.id=categoriesMap_getCategoryIdFromName(categoriesMap_catName),category.children={}}var categoriesMap_getCategoryName=function(id){if(null===id)return"awaiting";if(void 0===id)return tree[0];var categoryName=tree[id];return void 0===categoryName?tree[0]:categoryName},categoryToParent=new Map(Object.keys(tree).map(function(id){return[id,function(idStr){for(var k=parseInt(idStr,10),m=10,name=tree[k];!categoriesStyle.hasOwnProperty(name);)name=tree[k-=k%m],m*=10;return categoriesStyle[name]}(id)]})),getParentCategory=function(catId){var parent=categoryToParent.get(catId);return parent&&parent.name},isParentOf=function(possibleParentCatId,catId){var parent=categoryToParent.get(catId);return Boolean(parent&&parent.id==possibleParentCatId)};Object.keys(tree).forEach(function(catId){var catName=tree[catId],parentName=getParentCategory(catId);categoriesStyle[parentName]&&(categoriesStyle[parentName].children[catId]={name:catName,color:categoriesStyle[parentName].color,id:catId})});__webpack_exports__.b=categoryToParent},,function(module,exports,__webpack_require__){"use strict";var es5=__webpack_require__(287),canEvaluate="undefined"==typeof navigator,errorObj={e:{}},tryCatchTarget,globalObject="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null;function tryCatcher(){try{var target=tryCatchTarget;return tryCatchTarget=null,target.apply(this,arguments)}catch(e){return errorObj.e=e,errorObj}}function tryCatch(fn){return tryCatchTarget=fn,tryCatcher}var inherits=function(Child,Parent){var hasProp={}.hasOwnProperty;function T(){for(var propertyName in this.constructor=Child,this.constructor$=Parent,Parent.prototype)hasProp.call(Parent.prototype,propertyName)&&"$"!==propertyName.charAt(propertyName.length-1)&&(this[propertyName+"$"]=Parent.prototype[propertyName])}return T.prototype=Parent.prototype,Child.prototype=new T,Child.prototype};function isPrimitive(val){return null==val||!0===val||!1===val||"string"==typeof val||"number"==typeof val}function isObject(value){return"function"==typeof value||"object"==typeof value&&null!==value}function maybeWrapAsError(maybeError){return isPrimitive(maybeError)?new Error(safeToString(maybeError)):maybeError}function withAppended(target,appendee){var i,len=target.length,ret=new Array(len+1);for(i=0;i<len;++i)ret[i]=target[i];return ret[i]=appendee,ret}function getDataPropertyOrDefault(obj,key,defaultValue){if(!es5.isES5)return{}.hasOwnProperty.call(obj,key)?obj[key]:void 0;var desc=Object.getOwnPropertyDescriptor(obj,key);return null!=desc?null==desc.get&&null==desc.set?desc.value:defaultValue:void 0}function notEnumerableProp(obj,name,value){if(isPrimitive(obj))return obj;var descriptor={value:value,configurable:!0,enumerable:!1,writable:!0};return es5.defineProperty(obj,name,descriptor),obj}function thrower(r){throw r}var inheritedDataKeys=function(){var excludedPrototypes=[Array.prototype,Object.prototype,Function.prototype],isExcludedProto=function(val){for(var i=0;i<excludedPrototypes.length;++i)if(excludedPrototypes[i]===val)return!0;return!1};if(es5.isES5){var getKeys=Object.getOwnPropertyNames;return function(obj){for(var ret=[],visitedKeys=Object.create(null);null!=obj&&!isExcludedProto(obj);){var keys;try{keys=getKeys(obj)}catch(e){return ret}for(var i=0;i<keys.length;++i){var key=keys[i];if(!visitedKeys[key]){visitedKeys[key]=!0;var desc=Object.getOwnPropertyDescriptor(obj,key);null!=desc&&null==desc.get&&null==desc.set&&ret.push(key)}}obj=es5.getPrototypeOf(obj)}return ret}}var hasProp={}.hasOwnProperty;return function(obj){if(isExcludedProto(obj))return[];var ret=[];enumeration:for(var key in obj)if(hasProp.call(obj,key))ret.push(key);else{for(var i=0;i<excludedPrototypes.length;++i)if(hasProp.call(excludedPrototypes[i],key))continue enumeration;ret.push(key)}return ret}}(),thisAssignmentPattern=/this\s*\.\s*\S+\s*=/;function isClass(fn){try{if("function"==typeof fn){var keys=es5.names(fn.prototype),hasMethods=es5.isES5&&keys.length>1,hasMethodsOtherThanConstructor=keys.length>0&&!(1===keys.length&&"constructor"===keys[0]),hasThisAssignmentAndStaticMethods=thisAssignmentPattern.test(fn+"")&&es5.names(fn).length>0;if(hasMethods||hasMethodsOtherThanConstructor||hasThisAssignmentAndStaticMethods)return!0}return!1}catch(e){return!1}}function toFastProperties(obj){function FakeConstructor(){}FakeConstructor.prototype=obj;var receiver=new FakeConstructor;function ic(){return typeof receiver.foo}return ic(),ic(),obj}var rident=/^[a-z$_][a-z$_0-9]*$/i;function isIdentifier(str){return rident.test(str)}function filledRange(count,prefix,suffix){for(var ret=new Array(count),i=0;i<count;++i)ret[i]=prefix+i+suffix;return ret}function safeToString(obj){try{return obj+""}catch(e){return"[no string representation]"}}function isError(obj){return obj instanceof Error||null!==obj&&"object"==typeof obj&&"string"==typeof obj.message&&"string"==typeof obj.name}function markAsOriginatingFromRejection(e){try{notEnumerableProp(e,"isOperational",!0)}catch(ignore){}}function originatesFromRejection(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)}function canAttachTrace(obj){return isError(obj)&&es5.propertyIsWritable(obj,"stack")}var ensureErrorObject="stack"in new Error?function(value){return canAttachTrace(value)?value:new Error(safeToString(value))}:function(value){if(canAttachTrace(value))return value;try{throw new Error(safeToString(value))}catch(err){return err}};function classString(obj){return{}.toString.call(obj)}function copyDescriptors(from,to,filter){for(var keys=es5.names(from),i=0;i<keys.length;++i){var key=keys[i];if(filter(key))try{es5.defineProperty(to,key,es5.getDescriptor(from,key))}catch(ignore){}}}var asArray=function(v){return es5.isArray(v)?v:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var ArrayFrom="function"==typeof Array.from?function(v){return Array.from(v)}:function(v){for(var itResult,ret=[],it=v[Symbol.iterator]();!(itResult=it.next()).done;)ret.push(itResult.value);return ret};asArray=function(v){return es5.isArray(v)?v:null!=v&&"function"==typeof v[Symbol.iterator]?ArrayFrom(v):null}}var isNode="undefined"!=typeof process&&"[object process]"===classString(process).toLowerCase(),hasEnvVariables="undefined"!=typeof process&&void 0!==process.env;function env(key){return hasEnvVariables?process.env[key]:void 0}function getNativePromise(){if("function"==typeof Promise)try{var promise=new Promise(function(){});if("[object Promise]"==={}.toString.call(promise))return Promise}catch(e){}}function domainBind(self,cb){return self.bind(cb)}var ret={isClass:isClass,isIdentifier:isIdentifier,inheritedDataKeys:inheritedDataKeys,getDataPropertyOrDefault:getDataPropertyOrDefault,thrower:thrower,isArray:es5.isArray,asArray:asArray,notEnumerableProp:notEnumerableProp,isPrimitive:isPrimitive,isObject:isObject,isError:isError,canEvaluate:canEvaluate,errorObj:errorObj,tryCatch:tryCatch,inherits:inherits,withAppended:withAppended,maybeWrapAsError:maybeWrapAsError,toFastProperties:toFastProperties,filledRange:filledRange,toString:safeToString,canAttachTrace:canAttachTrace,ensureErrorObject:ensureErrorObject,originatesFromRejection:originatesFromRejection,markAsOriginatingFromRejection:markAsOriginatingFromRejection,classString:classString,copyDescriptors:copyDescriptors,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:isNode,hasEnvVariables:hasEnvVariables,env:env,global:globalObject,getNativePromise:getNativePromise,domainBind:domainBind},version;ret.isRecentNode=ret.isNode&&(process.versions&&process.versions.node?version=process.versions.node.split(".").map(Number):process.version&&(version=process.version.split(".").map(Number)),0===version[0]&&version[1]>10||version[0]>0),ret.isNode&&ret.toFastProperties(process);try{throw new Error}catch(e){ret.lastLineError=e}module.exports=ret},function(module,exports,__webpack_require__){module.exports=PrivateKey;var assert=__webpack_require__(18),Buffer=__webpack_require__(13).Buffer,algs=__webpack_require__(57),crypto=__webpack_require__(23),Signature=(__webpack_require__(260),__webpack_require__(121)),errs=__webpack_require__(112),util=__webpack_require__(8),utils=__webpack_require__(46),dhe=__webpack_require__(443),generateECDSA=dhe.generateECDSA,generateED25519=dhe.generateED25519,edCompat=__webpack_require__(799),nacl=__webpack_require__(262),Key=__webpack_require__(45),KeyParseError=(errs.InvalidAlgorithmError,errs.KeyParseError),formats=(errs.KeyEncryptedError,{});function PrivateKey(opts){assert.object(opts,"options"),Key.call(this,opts),this._pubCache=void 0}formats.auto=__webpack_require__(800),formats.pem=__webpack_require__(142),formats.pkcs1=__webpack_require__(444),formats.pkcs8=__webpack_require__(264),formats.rfc4253=__webpack_require__(143),formats["ssh-private"]=__webpack_require__(305),formats.openssh=formats["ssh-private"],formats.ssh=formats["ssh-private"],formats.dnssec=__webpack_require__(445),util.inherits(PrivateKey,Key),PrivateKey.formats=formats,PrivateKey.prototype.toBuffer=function(format,options){return void 0===format&&(format="pkcs1"),assert.string(format,"format"),assert.object(formats[format],"formats[format]"),assert.optionalObject(options,"options"),formats[format].write(this,options)},PrivateKey.prototype.hash=function(algo,type){return this.toPublic().hash(algo,type)},PrivateKey.prototype.fingerprint=function(algo,type){return this.toPublic().fingerprint(algo,type)},PrivateKey.prototype.toPublic=function(){if(this._pubCache)return this._pubCache;for(var algInfo=algs.info[this.type],pubParts=[],i=0;i<algInfo.parts.length;++i){var p=algInfo.parts[i];pubParts.push(this.part[p])}return this._pubCache=new Key({type:this.type,source:this,parts:pubParts}),this.comment&&(this._pubCache.comment=this.comment),this._pubCache},PrivateKey.prototype.derive=function(newType){var priv,pub,pair;if(assert.string(newType,"type"),"ed25519"===this.type&&"curve25519"===newType)return 0===(priv=this.part.k.data)[0]&&(priv=priv.slice(1)),pair=nacl.box.keyPair.fromSecretKey(new Uint8Array(priv)),pub=Buffer.from(pair.publicKey),new PrivateKey({type:"curve25519",parts:[{name:"A",data:utils.mpNormalize(pub)},{name:"k",data:utils.mpNormalize(priv)}]});if("curve25519"===this.type&&"ed25519"===newType)return 0===(priv=this.part.k.data)[0]&&(priv=priv.slice(1)),pair=nacl.sign.keyPair.fromSeed(new Uint8Array(priv)),pub=Buffer.from(pair.publicKey),new PrivateKey({type:"ed25519",parts:[{name:"A",data:utils.mpNormalize(pub)},{name:"k",data:utils.mpNormalize(priv)}]});throw new Error("Key derivation not supported from "+this.type+" to "+newType)},PrivateKey.prototype.createVerify=function(hashAlgo){return this.toPublic().createVerify(hashAlgo)},PrivateKey.prototype.createSign=function(hashAlgo){if(void 0===hashAlgo&&(hashAlgo=this.defaultHashAlgorithm()),assert.string(hashAlgo,"hash algorithm"),"ed25519"===this.type&&void 0!==edCompat)return new edCompat.Signer(this,hashAlgo);if("curve25519"===this.type)throw new Error("Curve25519 keys are not suitable for signing or verification");var v,nm,err;try{nm=hashAlgo.toUpperCase(),v=crypto.createSign(nm)}catch(e){err=e}(void 0===v||err instanceof Error&&err.message.match(/Unknown message digest/))&&(nm="RSA-",nm+=hashAlgo.toUpperCase(),v=crypto.createSign(nm)),assert.ok(v,"failed to create verifier");var oldSign=v.sign.bind(v),key=this.toBuffer("pkcs1"),type=this.type,curve=this.curve;return v.sign=function(){var sig=oldSign(key);return"string"==typeof sig&&(sig=Buffer.from(sig,"binary")),(sig=Signature.parse(sig,type,"asn1")).hashAlgorithm=hashAlgo,sig.curve=curve,sig},v},PrivateKey.parse=function(data,format,options){"string"!=typeof data&&assert.buffer(data,"data"),void 0===format&&(format="auto"),assert.string(format,"format"),"string"==typeof options&&(options={filename:options}),assert.optionalObject(options,"options"),void 0===options&&(options={}),assert.optionalString(options.filename,"options.filename"),void 0===options.filename&&(options.filename="(unnamed)"),assert.object(formats[format],"formats[format]");try{var k=formats[format].read(data,options);return assert.ok(k instanceof PrivateKey,"key is not a private key"),k.comment||(k.comment=options.filename),k}catch(e){if("KeyEncryptedError"===e.name)throw e;throw new KeyParseError(options.filename,format,e)}},PrivateKey.isPrivateKey=function(obj,ver){return utils.isCompatible(obj,PrivateKey,ver)},PrivateKey.generate=function(type,options){switch(void 0===options&&(options={}),assert.object(options,"options"),type){case"ecdsa":return void 0===options.curve&&(options.curve="nistp256"),assert.string(options.curve,"options.curve"),generateECDSA(options.curve);case"ed25519":return generateED25519();default:throw new Error('Key generation not supported with key type "'+type+'"')}},PrivateKey.prototype._sshpkApiVersion=[1,6],PrivateKey._oldVersionDetect=function(obj){return assert.func(obj.toPublic),assert.func(obj.createSign),obj.derive?[1,3]:obj.defaultHashAlgorithm?[1,2]:obj.formats.auto?[1,1]:[1,0]}},function(module,exports){module.exports=function(obj){return obj&&obj.__esModule?obj:{default:obj}}},function(module,exports){module.exports=require("zlib")},function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},function(module,exports,__webpack_require__){var Buffer=__webpack_require__(13).Buffer,algInfo={dsa:{parts:["p","q","g","y"],sizePart:"p"},rsa:{parts:["e","n"],sizePart:"n"},ecdsa:{parts:["curve","Q"],sizePart:"Q"},ed25519:{parts:["A"],sizePart:"A"}};algInfo.curve25519=algInfo.ed25519;var algPrivInfo={dsa:{parts:["p","q","g","y","x"]},rsa:{parts:["n","e","d","iqmp","p","q"]},ecdsa:{parts:["curve","Q","d"]},ed25519:{parts:["A","k"]}};algPrivInfo.curve25519=algPrivInfo.ed25519;var curves={nistp256:{size:256,pkcs8oid:"1.2.840.10045.3.1.7",p:Buffer.from("00ffffffff 00000001 00000000 0000000000000000 ffffffff ffffffff ffffffff".replace(/ /g,""),"hex"),a:Buffer.from("00FFFFFFFF 00000001 00000000 0000000000000000 FFFFFFFF FFFFFFFF FFFFFFFC".replace(/ /g,""),"hex"),b:Buffer.from("5ac635d8 aa3a93e7 b3ebbd55 769886bc651d06b0 cc53b0f6 3bce3c3e 27d2604b".replace(/ /g,""),"hex"),s:Buffer.from("00c49d3608 86e70493 6a6678e1 139d26b7819f7e90".replace(/ /g,""),"hex"),n:Buffer.from("00ffffffff 00000000 ffffffff ffffffffbce6faad a7179e84 f3b9cac2 fc632551".replace(/ /g,""),"hex"),G:Buffer.from("046b17d1f2 e12c4247 f8bce6e5 63a440f277037d81 2deb33a0 f4a13945 d898c2964fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e162bce3357 6b315ece cbb64068 37bf51f5".replace(/ /g,""),"hex")},nistp384:{size:384,pkcs8oid:"1.3.132.0.34",p:Buffer.from("00ffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff fffffffeffffffff 00000000 00000000 ffffffff".replace(/ /g,""),"hex"),a:Buffer.from("00FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFEFFFFFFFF 00000000 00000000 FFFFFFFC".replace(/ /g,""),"hex"),b:Buffer.from("b3312fa7 e23ee7e4 988e056b e3f82d19181d9c6e fe814112 0314088f 5013875ac656398d 8a2ed19d 2a85c8ed d3ec2aef".replace(/ /g,""),"hex"),s:Buffer.from("00a335926a a319a27a 1d00896a 6773a4827acdac73".replace(/ /g,""),"hex"),n:Buffer.from("00ffffffff ffffffff ffffffff ffffffffffffffff ffffffff c7634d81 f4372ddf581a0db2 48b0a77a ecec196a ccc52973".replace(/ /g,""),"hex"),G:Buffer.from("04aa87ca22 be8b0537 8eb1c71e f320ad746e1d3b62 8ba79b98 59f741e0 82542a385502f25d bf55296c 3a545e38 72760ab73617de4a 96262c6f 5d9e98bf 9292dc29f8f41dbd 289a147c e9da3113 b5f0b8c00a60b1ce 1d7e819d 7a431d7c 90ea0e5f".replace(/ /g,""),"hex")},nistp521:{size:521,pkcs8oid:"1.3.132.0.35",p:Buffer.from("01ffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffff".replace(/ /g,""),"hex"),a:Buffer.from("01FFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFFFFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFC".replace(/ /g,""),"hex"),b:Buffer.from("51953eb961 8e1c9a1f 929a21a0 b68540eea2da725b 99b315f3 b8b48991 8ef109e156193951 ec7e937b 1652c0bd 3bb1bf073573df88 3d2c34f1 ef451fd4 6b503f00".replace(/ /g,""),"hex"),s:Buffer.from("00d09e8800 291cb853 96cc6717 393284aaa0da64ba".replace(/ /g,""),"hex"),n:Buffer.from("01ffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff fffffffa51868783 bf2f966b 7fcc0148 f709a5d03bb5c9b8 899c47ae bb6fb71e 91386409".replace(/ /g,""),"hex"),G:Buffer.from("0400c6 858e06b7 0404e9cd 9e3ecb66 2395b4429c648139 053fb521 f828af60 6b4d3dbaa14b5e77 efe75928 fe1dc127 a2ffa8de3348b3c1 856a429b f97e7e31 c2e5bd660118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd998f54449 579b4468 17afbd17 273e662c97ee7299 5ef42640 c550b901 3fad0761353c7086 a272c240 88be9476 9fd16650".replace(/ /g,""),"hex")}};module.exports={info:algInfo,privInfo:algPrivInfo,hashAlgs:{md5:!0,sha1:!0,sha256:!0,sha384:!0,sha512:!0},curves:curves}},function(module,exports,__webpack_require__){const{env2formats:env2formats}=__webpack_require__(1242),{filterLevel:filterLevel,filterSecrets:filterSecrets}=__webpack_require__(1243),Secret=__webpack_require__(948),{NODE_ENV:NODE_ENV,LOG_LEVEL:LOG_LEVEL}=process.env,env=env2formats[NODE_ENV]&&NODE_ENV||"production";let level=LOG_LEVEL||"debug";const format=env2formats[env],filters=[filterLevel,filterSecrets],filterOut=function(){for(const filter of filters)if(!1===filter.apply(null,arguments))return!0;return!1};function log(type,message,label,namespace){filterOut(level,type,message,label,namespace)||console.log(format(type,message,label,namespace))}log.addFilter=function(filter){return filters.push(filter)},log.setLevel=function(lvl){level=lvl};["debug","info","warn","error","ok","critical"].forEach(level=>{log[level]=function(message,label,namespace){return log(level,message,label,namespace)}}),module.exports=log,log.setNoRetry=obj=>(obj?obj.no_retry=!0:obj={no_retry:!0},obj.no_retry),log.Secret=Secret,log.namespace=function(namespace){return function(type,message,label,ns=namespace){log(type,message,label,ns)}}},function(module,exports){module.exports=require("buffer")},function(module,exports,__webpack_require__){var aFunction=__webpack_require__(126);module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.normalizeDoctype=void 0;var _typeof3=_interopRequireDefault(__webpack_require__(97)),_set2=_interopRequireDefault(__webpack_require__(725)),_from2=_interopRequireDefault(__webpack_require__(224)),_toConsumableArray3=_interopRequireDefault(__webpack_require__(69)),_getIterator3=_interopRequireDefault(__webpack_require__(72)),_keys2=_interopRequireDefault(__webpack_require__(66)),_values2=_interopRequireDefault(__webpack_require__(132)),_defineProperty3=_interopRequireDefault(__webpack_require__(48)),_promise2=_interopRequireDefault(__webpack_require__(73)),_objectWithoutProperties3=_interopRequireDefault(__webpack_require__(89)),_regenerator2=_interopRequireDefault(__webpack_require__(15)),_taggedTemplateLiteral3=_interopRequireDefault(__webpack_require__(108)),_asyncToGenerator3=_interopRequireDefault(__webpack_require__(17)),_classCallCheck3=_interopRequireDefault(__webpack_require__(1)),_createClass3=_interopRequireDefault(__webpack_require__(2)),_assign2=_interopRequireDefault(__webpack_require__(355)),_extends3=_interopRequireDefault(__webpack_require__(5)),_templateObject=(0,_taggedTemplateLiteral3.default)(["/data/","/",""],["/data/","/",""]),_templateObject2=(0,_taggedTemplateLiteral3.default)(["/data/","/_find"],["/data/","/_find"]),_templateObject3=(0,_taggedTemplateLiteral3.default)(["/data/","/_all_docs?include_docs=true"],["/data/","/_all_docs?include_docs=true"]),_templateObject4=(0,_taggedTemplateLiteral3.default)(["/data/","/","?rev=",""],["/data/","/","?rev=",""]),_templateObject5=(0,_taggedTemplateLiteral3.default)(["/data/","/_index"],["/data/","/_index"]);exports.normalizeDoc=normalizeDoc;var _utils=__webpack_require__(109),_uniq2=_interopRequireDefault(__webpack_require__(178)),_transform2=_interopRequireDefault(__webpack_require__(737)),_head2=_interopRequireDefault(__webpack_require__(485)),_omit2=_interopRequireDefault(__webpack_require__(98)),_startsWith2=_interopRequireDefault(__webpack_require__(738)),_qs2=_interopRequireDefault(__webpack_require__(289)),_Collection=__webpack_require__(244),_Collection2=_interopRequireDefault(_Collection),querystring=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(__webpack_require__(384));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function normalizeDoc(){var doc=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},doctype=arguments[1],id=doc._id||doc.id;return(0,_extends3.default)({id:id,_id:id,_type:doctype},doc)}var flagForDeletion=function(x){return(0,_assign2.default)({},x,{_deleted:!0})},DocumentCollection=function(){function DocumentCollection(doctype,stackClient){(0,_classCallCheck3.default)(this,DocumentCollection),this.doctype=doctype,this.stackClient=stackClient,this.indexes={}}var _ref16,_ref14,_ref13,_ref12,_ref11,_ref10,_ref9,_ref7,_ref6,_ref4,_ref3,_ref2,_ref;return(0,_createClass3.default)(DocumentCollection,[{key:"all",value:(_ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var limit,_options$skip,skip,keys,isUsingAllDocsRoute,route,url,params,path,resp,data,_this=this,options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return limit=options.limit,_options$skip=options.skip,skip=void 0===_options$skip?0:_options$skip,keys=options.keys,route=(isUsingAllDocsRoute=!!keys||null===limit)?"_all_docs":"_normal_docs",url=(0,_utils.uri)(_templateObject,this.doctype,route),params={include_docs:!0,limit:limit,skip:skip,keys:keys},path=querystring.buildURL(url,params),resp=void 0,_context.prev=7,_context.next=10,this.stackClient.fetchJSON("GET",path);case 10:resp=_context.sent,_context.next=16;break;case 13:return _context.prev=13,_context.t0=_context.catch(7),_context.abrupt("return",(0,_Collection.dontThrowNotFoundError)(_context.t0));case 16:return data=void 0,data=isUsingAllDocsRoute?resp.rows.filter(function(doc){return doc&&null!==doc.doc&&!doc.error&&!(0,_startsWith2.default)(doc.id,"_design")}).map(function(row){return normalizeDoc(row.doc,_this.doctype)}):resp.rows.map(function(row){return normalizeDoc(row,_this.doctype)}),_context.abrupt("return",{data:data,meta:{count:isUsingAllDocsRoute?data.length:resp.total_rows},skip:skip,next:skip+resp.rows.length<resp.total_rows});case 19:case"end":return _context.stop()}},_callee,this,[[7,13]])})),function(){return _ref.apply(this,arguments)})},{key:"find",value:(_ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(selector){var _options$skip2,skip,resp,_this2=this,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _options$skip2=options.skip,skip=void 0===_options$skip2?0:_options$skip2,resp=void 0,_context2.prev=2,_context2.t0=this.stackClient,_context2.t1=(0,_utils.uri)(_templateObject2,this.doctype),_context2.next=7,this.toMangoOptions(selector,options);case 7:return _context2.t2=_context2.sent,_context2.next=10,_context2.t0.fetchJSON.call(_context2.t0,"POST",_context2.t1,_context2.t2);case 10:resp=_context2.sent,_context2.next=16;break;case 13:return _context2.prev=13,_context2.t3=_context2.catch(2),_context2.abrupt("return",(0,_Collection.dontThrowNotFoundError)(_context2.t3));case 16:return _context2.abrupt("return",{data:resp.docs.map(function(doc){return normalizeDoc(doc,_this2.doctype)}),meta:{count:resp.next?skip+resp.docs.length+1:resp.docs.length},next:resp.next,skip:skip});case 17:case"end":return _context2.stop()}},_callee2,this,[[2,13]])})),function(_x4){return _ref2.apply(this,arguments)})},{key:"get",value:(_ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(id){return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.abrupt("return",_Collection2.default.get(this.stackClient,(0,_utils.uri)(_templateObject,this.doctype,id),{normalize:this.constructor.normalizeDoctype(this.doctype)}));case 1:case"end":return _context3.stop()}},_callee3,this)})),function(_x5){return _ref3.apply(this,arguments)})},{key:"getAll",value:(_ref4=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(ids){var resp,rows,_this3=this;return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return resp=void 0,_context4.prev=1,_context4.next=4,this.stackClient.fetchJSON("POST",(0,_utils.uri)(_templateObject3,this.doctype),{keys:ids});case 4:resp=_context4.sent,_context4.next=10;break;case 7:return _context4.prev=7,_context4.t0=_context4.catch(1),_context4.abrupt("return",(0,_Collection.dontThrowNotFoundError)(_context4.t0));case 10:return rows=resp.rows.filter(function(row){return row.doc}),_context4.abrupt("return",{data:rows.map(function(row){return normalizeDoc(row.doc,_this3.doctype)}),meta:{count:rows.length}});case 12:case"end":return _context4.stop()}},_callee4,this,[[1,7]])})),function(_x6){return _ref4.apply(this,arguments)})},{key:"create",value:(_ref6=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee5(_ref5){var hasFixedId,method,endpoint,resp,_id=_ref5._id,document=(_ref5._type,(0,_objectWithoutProperties3.default)(_ref5,["_id","_type"]));return _regenerator2.default.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return method=(hasFixedId=!!_id)?"PUT":"POST",endpoint=(0,_utils.uri)(_templateObject,this.doctype,hasFixedId?_id:""),_context5.next=5,this.stackClient.fetchJSON(method,endpoint,document);case 5:return resp=_context5.sent,_context5.abrupt("return",{data:normalizeDoc(resp.data,this.doctype)});case 7:case"end":return _context5.stop()}},_callee5,this)})),function(_x7){return _ref6.apply(this,arguments)})},{key:"update",value:(_ref7=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee6(document){var resp;return _regenerator2.default.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,this.stackClient.fetchJSON("PUT",(0,_utils.uri)(_templateObject,this.doctype,document._id),document);case 2:return resp=_context6.sent,_context6.abrupt("return",{data:normalizeDoc(resp.data,this.doctype)});case 4:case"end":return _context6.stop()}},_callee6,this)})),function(_x8){return _ref7.apply(this,arguments)})},{key:"destroy",value:(_ref9=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee7(_ref8){var resp,_id=_ref8._id,_rev=_ref8._rev,document=(0,_objectWithoutProperties3.default)(_ref8,["_id","_rev"]);return _regenerator2.default.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.next=2,this.stackClient.fetchJSON("DELETE",(0,_utils.uri)(_templateObject4,this.doctype,_id,_rev));case 2:return resp=_context7.sent,_context7.abrupt("return",{data:normalizeDoc((0,_extends3.default)({},document,{_id:_id,_rev:resp.rev,_deleted:!0}),this.doctype)});case 4:case"end":return _context7.stop()}},_callee7,this)})),function(_x9){return _ref9.apply(this,arguments)})},{key:"updateAll",value:(_ref10=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee8(docs){var stackClient,update,firstDoc,resp;return _regenerator2.default.wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:if(stackClient=this.stackClient,docs&&docs.length){_context8.next=3;break}return _context8.abrupt("return",_promise2.default.resolve([]));case 3:return _context8.prev=3,_context8.next=6,stackClient.fetchJSON("POST","/data/"+this.doctype+"/_bulk_docs",{docs:docs});case 6:return update=_context8.sent,_context8.abrupt("return",update);case 10:if(_context8.prev=10,_context8.t0=_context8.catch(3),!_context8.t0.reason||!_context8.t0.reason.reason||"Database does not exist."!==_context8.t0.reason.reason){_context8.next=23;break}return _context8.next=15,this.create(docs[0]);case 15:return firstDoc=_context8.sent,_context8.next=18,this.updateAll(docs.slice(1));case 18:return(resp=_context8.sent).unshift({ok:!0,id:firstDoc._id,rev:firstDoc._rev}),_context8.abrupt("return",resp);case 23:throw _context8.t0;case 24:case"end":return _context8.stop()}},_callee8,this,[[3,10]])})),function(_x10){return _ref10.apply(this,arguments)})},{key:"destroyAll",value:function(docs){return this.updateAll(docs.map(flagForDeletion))}},{key:"toMangoOptions",value:(_ref11=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee9(selector){var sort,indexedFields,fields,_options$skip3,skip,limit,indexId,sortOrders,sortOrder,_loop,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,field,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _regenerator2.default.wrap(function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:if(sort=options.sort,indexedFields=options.indexedFields,fields=options.fields,_options$skip3=options.skip,skip=void 0===_options$skip3?0:_options$skip3,limit=options.limit,sort&&!Array.isArray(sort)&&(console.warn('Passing an object to the "sort" is deprecated, please use an array instead.'),sort=(0,_transform2.default)(sort,function(acc,order,field){return acc.push((0,_defineProperty3.default)({},field,order))},[])),indexedFields=indexedFields||this.getIndexFields({sort:sort,selector:selector}),_context9.t0=options.indexId,_context9.t0){_context9.next=9;break}return _context9.next=8,this.getIndexId(indexedFields);case 8:_context9.t0=_context9.sent;case 9:if(indexId=_context9.t0,!sort){_context9.next=35;break}if(!((sortOrders=(0,_uniq2.default)(sort.map(function(sortOption){return(0,_head2.default)((0,_values2.default)(sortOption))}))).length>1)){_context9.next=14;break}throw new Error("Mango sort can only use a single order (asc or desc).");case 14:for(sortOrder=sortOrders.length>0?(0,_head2.default)(sortOrders):"asc",_loop=function(field){sort.find(function(sortOption){return(0,_head2.default)((0,_keys2.default)(sortOption))===field})||sort.push((0,_defineProperty3.default)({},field,sortOrder))},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0,_context9.prev=19,_iterator=(0,_getIterator3.default)(indexedFields);!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)field=_step.value,_loop(field);_context9.next=27;break;case 23:_context9.prev=23,_context9.t1=_context9.catch(19),_didIteratorError=!0,_iteratorError=_context9.t1;case 27:_context9.prev=27,_context9.prev=28,!_iteratorNormalCompletion&&_iterator.return&&_iterator.return();case 30:if(_context9.prev=30,!_didIteratorError){_context9.next=33;break}throw _iteratorError;case 33:return _context9.finish(30);case 34:return _context9.finish(27);case 35:return _context9.abrupt("return",{selector:selector,use_index:indexId,fields:fields?[].concat((0,_toConsumableArray3.default)(fields),["_id","_type","class"]):void 0,limit:limit,skip:skip,sort:sort});case 36:case"end":return _context9.stop()}},_callee9,this,[[19,23,27,35],[28,,30,34]])})),function(_x12){return _ref11.apply(this,arguments)})},{key:"checkUniquenessOf",value:(_ref12=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee10(property,value){var indexId,existingDocs;return _regenerator2.default.wrap(function(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return _context10.next=2,this.getUniqueIndexId(property);case 2:return indexId=_context10.sent,_context10.next=5,this.find((0,_defineProperty3.default)({},property,value),{indexId:indexId,fields:["_id"]});case 5:return existingDocs=_context10.sent,_context10.abrupt("return",0===existingDocs.data.length);case 7:case"end":return _context10.stop()}},_callee10,this)})),function(_x13,_x14){return _ref12.apply(this,arguments)})},{key:"getUniqueIndexId",value:function(property){return this.getIndexId([property],this.doctype+"/"+property)}},{key:"getIndexId",value:(_ref13=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee11(fields){var indexName=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getIndexNameFromFields(fields);return _regenerator2.default.wrap(function(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:if(this.indexes[indexName]){_context11.next=4;break}return _context11.next=3,this.createIndex(fields);case 3:this.indexes[indexName]=_context11.sent;case 4:return _context11.abrupt("return",this.indexes[indexName].id);case 5:case"end":return _context11.stop()}},_callee11,this)})),function(_x16){return _ref13.apply(this,arguments)})},{key:"createIndex",value:(_ref14=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee12(fields){var indexDef,resp,indexResp,selector,options;return _regenerator2.default.wrap(function(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:return indexDef={index:{fields:fields}},_context12.next=3,this.stackClient.fetchJSON("POST",(0,_utils.uri)(_templateObject5,this.doctype),indexDef);case 3:if(resp=_context12.sent,indexResp={id:resp.id,fields:fields},"exists"!==resp.result){_context12.next=7;break}return _context12.abrupt("return",indexResp);case 7:return selector=(0,_defineProperty3.default)({},fields[0],{$gt:null}),options={indexId:indexResp.id},_context12.next=11,(0,_utils.attempt)(this.find(selector,options));case 11:if(!_context12.sent){_context12.next=13;break}return _context12.abrupt("return",indexResp);case 13:return _context12.next=15,(0,_utils.sleep)(1e3);case 15:return _context12.next=17,(0,_utils.attempt)(this.find(selector,options));case 17:if(!_context12.sent){_context12.next=19;break}return _context12.abrupt("return",indexResp);case 19:return _context12.next=21,(0,_utils.sleep)(500);case 21:return _context12.abrupt("return",indexResp);case 22:case"end":return _context12.stop()}},_callee12,this)})),function(_x17){return _ref14.apply(this,arguments)})},{key:"getIndexNameFromFields",value:function(fields){return"by_"+fields.join("_and_")}},{key:"getIndexFields",value:function(_ref15){var selector=_ref15.selector,_ref15$sort=_ref15.sort,sort=void 0===_ref15$sort?[]:_ref15$sort;return(0,_from2.default)(new _set2.default([].concat((0,_toConsumableArray3.default)(sort.map(function(sortOption){return(0,_head2.default)((0,_keys2.default)(sortOption))})),(0,_toConsumableArray3.default)((0,_keys2.default)(selector)))))}},{key:"fetchChanges",value:(_ref16=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee13(){var haveDocsIds,urlParams,method,endpoint,params,result,newLastSeq,docs,couchOptions=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _regenerator2.default.wrap(function(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:return haveDocsIds=couchOptions.doc_ids&&couchOptions.doc_ids.length>0,urlParams="","object"!==(void 0===couchOptions?"undefined":(0,_typeof3.default)(couchOptions))?(urlParams="?include_docs=true&since="+couchOptions,console.warn('fetchChanges use couchOptions as Object not a string, since is deprecated, please use fetchChanges({include_docs: true, since: "'+couchOptions+'"}).')):(0,_keys2.default)(couchOptions).length>0&&(urlParams="?"+[_qs2.default.stringify((0,_omit2.default)(couchOptions,"doc_ids")),haveDocsIds&&void 0===couchOptions.filter?"filter=_doc_ids":void 0].filter(Boolean).join("&")),method=haveDocsIds?"POST":"GET",endpoint="/data/"+this.doctype+"/_changes"+urlParams,params=haveDocsIds?{doc_ids:couchOptions.doc_ids}:void 0,_context13.next=8,this.stackClient.fetchJSON(method,endpoint,params);case 8:return result=_context13.sent,newLastSeq=result.last_seq,docs=result.results.map(function(x){return x.doc}).filter(Boolean),options.includeDesign||(docs=docs.filter(function(doc){return 0!==doc._id.indexOf("_design")})),options.includeDeleted||(docs=docs.filter(function(doc){return!doc._deleted})),_context13.abrupt("return",{newLastSeq:newLastSeq,documents:docs});case 14:case"end":return _context13.stop()}},_callee13,this)})),function(){return _ref16.apply(this,arguments)})}],[{key:"normalizeDoctype",value:function(doctype){return this.normalizeDoctypeRawApi(doctype)}},{key:"normalizeDoctypeJsonApi",value:function(doctype){return function(data,response){return normalizeDoc(data,doctype)}}},{key:"normalizeDoctypeRawApi",value:function(doctype){return function(data,response){return normalizeDoc(response,doctype)}}}]),DocumentCollection}();exports.default=DocumentCollection;exports.normalizeDoctype=DocumentCollection.normalizeDoctype},function(module,exports,__webpack_require__){var identity=__webpack_require__(96),overRest=__webpack_require__(313),setToString=__webpack_require__(268);module.exports=function(func,start){return setToString(overRest(func,start,identity),func+"")}},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(118),isLength=__webpack_require__(205);module.exports=function(value){return null!=value&&isLength(value.length)&&!isFunction(value)}},function(module,exports){module.exports=require("http")},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(671),__esModule:!0}},function(module,exports){module.exports=require("fs")},function(module,exports,__webpack_require__){var arrayLikeKeys=__webpack_require__(314),baseKeys=__webpack_require__(278),isArrayLike=__webpack_require__(64);module.exports=function(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var obj,_from=__webpack_require__(224),_from2=(obj=_from)&&obj.__esModule?obj:{default:obj};exports.default=function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return(0,_from2.default)(arr)}},function(module,exports,__webpack_require__){var dP=__webpack_require__(44),createDesc=__webpack_require__(127);module.exports=__webpack_require__(28)?function(object,key,value){return dP.f(object,key,createDesc(1,value))}:function(object,key,value){return object[key]=value,object}},function(module,exports,__webpack_require__){var IObject=__webpack_require__(230),defined=__webpack_require__(226);module.exports=function(it){return IObject(defined(it))}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(691),__esModule:!0}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(693),__esModule:!0}},function(module,exports,__webpack_require__){var baseFlatten=__webpack_require__(116),baseOrderBy=__webpack_require__(595),baseRest=__webpack_require__(63),isIterateeCall=__webpack_require__(144),sortBy=baseRest(function(collection,iteratees){if(null==collection)return[];var length=iteratees.length;return length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])?iteratees=[]:length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])&&(iteratees=[iteratees[0]]),baseOrderBy(collection,baseFlatten(iteratees,1),[])});module.exports=sortBy},function(module,exports,__webpack_require__){var arrayWithHoles=__webpack_require__(623),iterableToArrayLimit=__webpack_require__(624),nonIterableRest=__webpack_require__(625);module.exports=function(arr,i){return arrayWithHoles(arr)||iterableToArrayLimit(arr,i)||nonIterableRest()}},function(module,exports,__webpack_require__){"use strict";var _flag=__webpack_require__(54)(__webpack_require__(223));function enableFlags(flagsToEnable){Array.isArray(flagsToEnable)&&flagsToEnable.forEach(function(flagToEnable){return(0,_flag.default)(flagToEnable,!0)})}"undefined"!=typeof window&&(_flag.default.connect=__webpack_require__(634).default,_flag.default.FlagSwitcher=__webpack_require__(637).default),enableFlags([]),_flag.default.enable=enableFlags,module.exports=_flag.default},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(101),getRawTag=__webpack_require__(501),objectToString=__webpack_require__(502),nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function(value){return null==value?void 0===value?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)}},,,function(module,exports,__webpack_require__){var assignValue=__webpack_require__(187),baseAssignValue=__webpack_require__(102);module.exports=function(source,props,object,customizer){var isNew=!object;object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):void 0;void 0===newValue&&(newValue=source[key]),isNew?baseAssignValue(object,key,newValue):assignValue(object,key,newValue)}return object}},function(module,exports,__webpack_require__){var baseToString=__webpack_require__(216);module.exports=function(value){return null==value?"":baseToString(value)}},function(module,exports,__webpack_require__){var baseIsNative=__webpack_require__(505),getValue=__webpack_require__(508);module.exports=function(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}},function(module,exports,__webpack_require__){"use strict";var $at=__webpack_require__(639)(!0);__webpack_require__(227)(String,"String",function(iterated){this._t=String(iterated),this._i=0},function(){var point,O=this._t,index=this._i;return index>=O.length?{value:void 0,done:!0}:(point=$at(O,index),this._i+=point.length,{value:point,done:!1})})},function(module,exports){module.exports=function(exec){try{return!!exec()}catch(e){return!0}}},function(module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},function(module,exports,__webpack_require__){var defined=__webpack_require__(226);module.exports=function(it){return Object(defined(it))}},function(module,exports,__webpack_require__){var baseAssignValue=__webpack_require__(102),keyBy=__webpack_require__(342)(function(result,value,key){baseAssignValue(result,key,value)});module.exports=keyBy},function(module,exports,__webpack_require__){(function(module){var __WEBPACK_AMD_DEFINE_RESULT__;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var undefined,LARGE_ARRAY_SIZE=200,CORE_ERROR_TEXT="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",FUNC_ERROR_TEXT="Expected a function",HASH_UNDEFINED="__lodash_hash_undefined__",MAX_MEMOIZE_SIZE=500,PLACEHOLDER="__lodash_placeholder__",CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2,WRAP_BIND_FLAG=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_BOUND_FLAG=4,WRAP_CURRY_FLAG=8,WRAP_CURRY_RIGHT_FLAG=16,WRAP_PARTIAL_FLAG=32,WRAP_PARTIAL_RIGHT_FLAG=64,WRAP_ARY_FLAG=128,WRAP_REARG_FLAG=256,WRAP_FLIP_FLAG=512,DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...",HOT_COUNT=800,HOT_SPAN=16,LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2,INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,MAX_INTEGER=17976931348623157e292,NAN=NaN,MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1,wrapFlags=[["ary",WRAP_ARY_FLAG],["bind",WRAP_BIND_FLAG],["bindKey",WRAP_BIND_KEY_FLAG],["curry",WRAP_CURRY_FLAG],["curryRight",WRAP_CURRY_RIGHT_FLAG],["flip",WRAP_FLIP_FLAG],["partial",WRAP_PARTIAL_FLAG],["partialRight",WRAP_PARTIAL_RIGHT_FLAG],["rearg",WRAP_REARG_FLAG]],argsTag="[object Arguments]",arrayTag="[object Array]",asyncTag="[object AsyncFunction]",boolTag="[object Boolean]",dateTag="[object Date]",domExcTag="[object DOMException]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",nullTag="[object Null]",objectTag="[object Object]",proxyTag="[object Proxy]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",undefinedTag="[object Undefined]",weakMapTag="[object WeakMap]",weakSetTag="[object WeakSet]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reEscapedHtml=/&(?:amp|lt|gt|quot|#39);/g,reUnescapedHtml=/[&<>"']/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source),reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=RegExp(reRegExpChar.source),reTrim=/^\s+|\s+$/g,reTrimStart=/^\s+/,reTrimEnd=/\s+$/,reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /,reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,reEscapeChar=/\\(\\)?/g,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reFlags=/\w*$/,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsOctal=/^0o[0-7]+$/i,reIsUint=/^(?:0|[1-9]\d*)$/,reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,reNoMatch=/($^)/,reUnescapedString=/['\n\r\u2028\u2029\\]/g,rsComboRange="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",rsBreakRange="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsAstral="[\\ud800-\\udfff]",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboRange+"]",rsDigits="\\d+",rsDingbat="[\\u2700-\\u27bf]",rsLower="[a-z\\xdf-\\xf6\\xf8-\\xff]",rsMisc="[^\\ud800-\\udfff"+rsBreakRange+rsDigits+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsNonAstral="[^\\ud800-\\udfff]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="[A-Z\\xc0-\\xd6\\xd8-\\xde]",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",reOptMod="(?:"+rsCombo+"|"+rsFitz+")"+"?",rsSeq="[\\ufe0e\\ufe0f]?"+reOptMod+("(?:\\u200d(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")[\\ufe0e\\ufe0f]?"+reOptMod+")*"),rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reApos=RegExp("[']","g"),reComboMark=RegExp(rsCombo,"g"),reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g"),reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+(?:['](?:d|ll|m|re|s|t|ve))?",rsUpper+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsDigits,rsEmoji].join("|"),"g"),reHasUnicode=RegExp("[\\u200d\\ud800-\\udfff"+rsComboRange+"\\ufe0e\\ufe0f]"),reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,contextProps=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],templateCounter=-1,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;var stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},freeParseFloat=parseFloat,freeParseInt=parseInt,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;return types||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}(),nodeIsArrayBuffer=nodeUtil&&nodeUtil.isArrayBuffer,nodeIsDate=nodeUtil&&nodeUtil.isDate,nodeIsMap=nodeUtil&&nodeUtil.isMap,nodeIsRegExp=nodeUtil&&nodeUtil.isRegExp,nodeIsSet=nodeUtil&&nodeUtil.isSet,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function arrayAggregator(array,setter,iteratee,accumulator){for(var index=-1,length=null==array?0:array.length;++index<length;){var value=array[index];setter(accumulator,value,iteratee(value),array)}return accumulator}function arrayEach(array,iteratee){for(var index=-1,length=null==array?0:array.length;++index<length&&!1!==iteratee(array[index],index,array););return array}function arrayEachRight(array,iteratee){for(var length=null==array?0:array.length;length--&&!1!==iteratee(array[length],length,array););return array}function arrayEvery(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(!predicate(array[index],index,array))return!1;return!0}function arrayFilter(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}function arrayIncludes(array,value){return!!(null==array?0:array.length)&&baseIndexOf(array,value,0)>-1}function arrayIncludesWith(array,value,comparator){for(var index=-1,length=null==array?0:array.length;++index<length;)if(comparator(value,array[index]))return!0;return!1}function arrayMap(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}function arrayReduceRight(array,iteratee,accumulator,initAccum){var length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[--length]);length--;)accumulator=iteratee(accumulator,array[length],length,array);return accumulator}function arraySome(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}var asciiSize=baseProperty("length");function baseFindKey(collection,predicate,eachFunc){var result;return eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection))return result=key,!1}),result}function baseFindIndex(array,predicate,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){return value==value?function(array,value,fromIndex){var index=fromIndex-1,length=array.length;for(;++index<length;)if(array[index]===value)return index;return-1}(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}function baseIndexOfWith(array,value,fromIndex,comparator){for(var index=fromIndex-1,length=array.length;++index<length;)if(comparator(array[index],value))return index;return-1}function baseIsNaN(value){return value!=value}function baseMean(array,iteratee){var length=null==array?0:array.length;return length?baseSum(array,iteratee)/length:NAN}function baseProperty(key){return function(object){return null==object?undefined:object[key]}}function basePropertyOf(object){return function(key){return null==object?undefined:object[key]}}function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){return eachFunc(collection,function(value,index,collection){accumulator=initAccum?(initAccum=!1,value):iteratee(accumulator,value,index,collection)}),accumulator}function baseSum(array,iteratee){for(var result,index=-1,length=array.length;++index<length;){var current=iteratee(array[index]);current!==undefined&&(result=result===undefined?current:result+current)}return result}function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}function baseUnary(func){return function(value){return func(value)}}function baseValues(object,props){return arrayMap(props,function(key){return object[key]})}function cacheHas(cache,key){return cache.has(key)}function charsStartIndex(strSymbols,chrSymbols){for(var index=-1,length=strSymbols.length;++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1;);return index}function charsEndIndex(strSymbols,chrSymbols){for(var index=strSymbols.length;index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1;);return index}var deburrLetter=basePropertyOf({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),escapeHtmlChar=basePropertyOf({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function escapeStringChar(chr){return"\\"+stringEscapes[chr]}function hasUnicode(string){return reHasUnicode.test(string)}function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach(function(value,key){result[++index]=[key,value]}),result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function replaceHolders(array,placeholder){for(var index=-1,length=array.length,resIndex=0,result=[];++index<length;){var value=array[index];value!==placeholder&&value!==PLACEHOLDER||(array[index]=PLACEHOLDER,result[resIndex++]=index)}return result}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}function setToPairs(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=[value,value]}),result}function stringSize(string){return hasUnicode(string)?function(string){var result=reUnicode.lastIndex=0;for(;reUnicode.test(string);)++result;return result}(string):asciiSize(string)}function stringToArray(string){return hasUnicode(string)?function(string){return string.match(reUnicode)||[]}(string):function(string){return string.split("")}(string)}var unescapeHtmlChar=basePropertyOf({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var _=function runInContext(context){var uid,Array=(context=null==context?root:_.defaults(root.Object(),context,_.pick(root,contextProps))).Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError,arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=context["__core-js_shared__"],funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,idCounter=0,maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"",nativeObjectToString=objectProto.toString,objectCtorString=funcToString.call(Object),oldDash=root._,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer=moduleExports?context.Buffer:undefined,Symbol=context.Symbol,Uint8Array=context.Uint8Array,allocUnsafe=Buffer?Buffer.allocUnsafe:undefined,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,spreadableSymbol=Symbol?Symbol.isConcatSpreadable:undefined,symIterator=Symbol?Symbol.iterator:undefined,symToStringTag=Symbol?Symbol.toStringTag:undefined,defineProperty=function(){try{var func=getNative(Object,"defineProperty");return func({},"",{}),func}catch(e){}}(),ctxClearTimeout=context.clearTimeout!==root.clearTimeout&&context.clearTimeout,ctxNow=Date&&Date.now!==root.Date.now&&Date.now,ctxSetTimeout=context.setTimeout!==root.setTimeout&&context.setTimeout,nativeCeil=Math.ceil,nativeFloor=Math.floor,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:undefined,nativeIsFinite=context.isFinite,nativeJoin=arrayProto.join,nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max,nativeMin=Math.min,nativeNow=Date.now,nativeParseInt=context.parseInt,nativeRandom=Math.random,nativeReverse=arrayProto.reverse,DataView=getNative(context,"DataView"),Map=getNative(context,"Map"),Promise=getNative(context,"Promise"),Set=getNative(context,"Set"),WeakMap=getNative(context,"WeakMap"),nativeCreate=getNative(Object,"create"),metaMap=WeakMap&&new WeakMap,realNames={},dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),symbolProto=Symbol?Symbol.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper)return value;if(hasOwnProperty.call(value,"__wrapped__"))return wrapperClone(value)}return new LodashWrapper(value)}var baseCreate=function(){function object(){}return function(proto){if(!isObject(proto))return{};if(objectCreate)return objectCreate(proto);object.prototype=proto;var result=new object;return object.prototype=undefined,result}}();function baseLodash(){}function LodashWrapper(value,chainAll){this.__wrapped__=value,this.__actions__=[],this.__chain__=!!chainAll,this.__index__=0,this.__values__=undefined}function LazyWrapper(value){this.__wrapped__=value,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=MAX_ARRAY_LENGTH,this.__views__=[]}function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}function arraySample(array){var length=array.length;return length?array[baseRandom(0,length-1)]:undefined}function arraySampleSize(array,n){return shuffleSelf(copyArray(array),baseClamp(n,0,array.length))}function arrayShuffle(array){return shuffleSelf(copyArray(array))}function assignMergeValue(object,key,value){(value===undefined||eq(object[key],value))&&(value!==undefined||key in object)||baseAssignValue(object,key,value)}function assignValue(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(value!==undefined||key in object)||baseAssignValue(object,key,value)}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseAggregator(collection,setter,iteratee,accumulator){return baseEach(collection,function(value,key,collection){setter(accumulator,value,iteratee(value),collection)}),accumulator}function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}function baseAssignValue(object,key,value){"__proto__"==key&&defineProperty?defineProperty(object,key,{configurable:!0,enumerable:!0,value:value,writable:!0}):object[key]=value}function baseAt(object,paths){for(var index=-1,length=paths.length,result=Array(length),skip=null==object;++index<length;)result[index]=skip?undefined:get(object,paths[index]);return result}function baseClamp(number,lower,upper){return number==number&&(upper!==undefined&&(number=number<=upper?number:upper),lower!==undefined&&(number=number>=lower?number:lower)),number}function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=bitmask&CLONE_DEEP_FLAG,isFlat=bitmask&CLONE_FLAT_FLAG,isFull=bitmask&CLONE_SYMBOLS_FLAG;if(customizer&&(result=object?customizer(value,key,object,stack):customizer(value)),result!==undefined)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=function(array){var length=array.length,result=new array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}(value),!isDeep)return copyArray(value,result)}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value))return cloneBuffer(value,isDeep);if(tag==objectTag||tag==argsTag||isFunc&&!object){if(result=isFlat||isFunc?{}:initCloneObject(value),!isDeep)return isFlat?function(source,object){return copyObject(source,getSymbolsIn(source),object)}(value,function(object,source){return object&&copyObject(source,keysIn(source),object)}(result,value)):function(source,object){return copyObject(source,getSymbols(source),object)}(value,baseAssign(result,value))}else{if(!cloneableTags[tag])return object?value:{};result=function(object,tag,isDeep){var symbol,Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return function(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return new Ctor;case numberTag:case stringTag:return new Ctor(object);case regexpTag:return function(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));return result.lastIndex=regexp.lastIndex,result}(object);case setTag:return new Ctor;case symbolTag:return symbol=object,symbolValueOf?Object(symbolValueOf.call(symbol)):{}}}(value,tag,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked)return stacked;stack.set(value,result),isSet(value)?value.forEach(function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack))}):isMap(value)&&value.forEach(function(subValue,key){result.set(key,baseClone(subValue,bitmask,customizer,key,value,stack))});var props=isArr?undefined:(isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys)(value);return arrayEach(props||value,function(subValue,key){props&&(subValue=value[key=subValue]),assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))}),result}function baseConformsTo(object,source,props){var length=props.length;if(null==object)return!length;for(object=Object(object);length--;){var key=props[length],predicate=source[key],value=object[key];if(value===undefined&&!(key in object)||!predicate(value))return!1}return!0}function baseDelay(func,wait,args){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return setTimeout(function(){func.apply(undefined,args)},wait)}function baseDifference(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=!0,length=array.length,result=[],valuesLength=values.length;if(!length)return result;iteratee&&(values=arrayMap(values,baseUnary(iteratee))),comparator?(includes=arrayIncludesWith,isCommon=!1):values.length>=LARGE_ARRAY_SIZE&&(includes=cacheHas,isCommon=!1,values=new SetCache(values));outer:for(;++index<length;){var value=array[index],computed=null==iteratee?value:iteratee(value);if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var valuesIndex=valuesLength;valuesIndex--;)if(values[valuesIndex]===computed)continue outer;result.push(value)}else includes(values,computed,comparator)||result.push(value)}return result}lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:lodash}},lodash.prototype=baseLodash.prototype,lodash.prototype.constructor=lodash,LodashWrapper.prototype=baseCreate(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper,LazyWrapper.prototype=baseCreate(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper,Hash.prototype.clear=function(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0},Hash.prototype.delete=function(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result},Hash.prototype.get=function(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(data,key)?data[key]:undefined},Hash.prototype.has=function(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key)},Hash.prototype.set=function(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value,this},ListCache.prototype.clear=function(){this.__data__=[],this.size=0},ListCache.prototype.delete=function(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0||(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,0))},ListCache.prototype.get=function(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1]},ListCache.prototype.has=function(key){return assocIndexOf(this.__data__,key)>-1},ListCache.prototype.set=function(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this},MapCache.prototype.clear=function(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}},MapCache.prototype.delete=function(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result},MapCache.prototype.get=function(key){return getMapData(this,key).get(key)},MapCache.prototype.has=function(key){return getMapData(this,key).has(key)},MapCache.prototype.set=function(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this},SetCache.prototype.add=SetCache.prototype.push=function(value){return this.__data__.set(value,HASH_UNDEFINED),this},SetCache.prototype.has=function(value){return this.__data__.has(value)},Stack.prototype.clear=function(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result},Stack.prototype.get=function(key){return this.__data__.get(key)},Stack.prototype.has=function(key){return this.__data__.has(key)},Stack.prototype.set=function(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this};var baseEach=createBaseEach(baseForOwn),baseEachRight=createBaseEach(baseForOwnRight,!0);function baseEvery(collection,predicate){var result=!0;return baseEach(collection,function(value,index,collection){return result=!!predicate(value,index,collection)}),result}function baseExtremum(array,iteratee,comparator){for(var index=-1,length=array.length;++index<length;){var value=array[index],current=iteratee(value);if(null!=current&&(computed===undefined?current==current&&!isSymbol(current):comparator(current,computed)))var computed=current,result=value}return result}function baseFilter(collection,predicate){var result=[];return baseEach(collection,function(value,index,collection){predicate(value,index,collection)&&result.push(value)}),result}function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;for(predicate||(predicate=isFlattenable),result||(result=[]);++index<length;){var value=array[index];depth>0&&predicate(value)?depth>1?baseFlatten(value,depth-1,predicate,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}var baseFor=createBaseFor(),baseForRight=createBaseFor(!0);function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return object&&baseForRight(object,iteratee,keys)}function baseFunctions(object,props){return arrayFilter(props,function(key){return isFunction(object[key])})}function baseGet(object,path){for(var index=0,length=(path=castPath(path,object)).length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:undefined}function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}function baseGetTag(value){return null==value?value===undefined?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(value)?function(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result}(value):function(value){return nativeObjectToString.call(value)}(value)}function baseGt(value,other){return value>other}function baseHas(object,key){return null!=object&&hasOwnProperty.call(object,key)}function baseHasIn(object,key){return null!=object&&key in Object(object)}function baseIntersection(arrays,iteratee,comparator){for(var includes=comparator?arrayIncludesWith:arrayIncludes,length=arrays[0].length,othLength=arrays.length,othIndex=othLength,caches=Array(othLength),maxLength=1/0,result=[];othIndex--;){var array=arrays[othIndex];othIndex&&iteratee&&(array=arrayMap(array,baseUnary(iteratee))),maxLength=nativeMin(array.length,maxLength),caches[othIndex]=!comparator&&(iteratee||length>=120&&array.length>=120)?new SetCache(othIndex&&array):undefined}array=arrays[0];var index=-1,seen=caches[0];outer:for(;++index<length&&result.length<maxLength;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,!(seen?cacheHas(seen,computed):includes(result,computed,comparator))){for(othIndex=othLength;--othIndex;){var cache=caches[othIndex];if(!(cache?cacheHas(cache,computed):includes(arrays[othIndex],computed,comparator)))continue outer}seen&&seen.push(computed),result.push(value)}}return result}function baseInvoke(object,path,args){var func=null==(object=parent(object,path=castPath(path,object)))?object:object[toKey(last(path))];return null==func?undefined:apply(func,object,args)}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}function baseIsEqual(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!=value&&other!=other:function(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other),objIsObj=(objTag=objTag==argsTag?objectTag:objTag)==objectTag,othIsObj=(othTag=othTag==argsTag?objectTag:othTag)==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):function(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case arrayBufferTag:return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=COMPARE_UNORDERED_FLAG,stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case symbolTag:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}return!!isSameTag&&(stack||(stack=new Stack),function(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,objProps=getAllKeys(object),objLength=objProps.length,othLength=getAllKeys(other).length;if(objLength!=othLength&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var stacked=stack.get(object);if(stacked&&stack.get(other))return stacked==other;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(compared===undefined?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor)&&(result=!1)}return stack.delete(object),stack.delete(other),result}(object,other,bitmask,customizer,equalFunc,stack))}(value,other,bitmask,customizer,baseIsEqual,stack))}function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){var key=(data=matchData[index])[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object))return!1}else{var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(result===undefined?baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG,customizer,stack):result))return!1}}return!0}function baseIsNative(value){return!(!isObject(value)||(func=value,maskSrcKey&&maskSrcKey in func))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value));var func}function baseIteratee(value){return"function"==typeof value?value:null==value?identity:"object"==typeof value?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}function baseKeysIn(object){if(!isObject(object))return function(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}(object);var isProto=isPrototype(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}function baseLt(value,other){return value<other}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)}),result}function baseMatches(source){var matchData=getMatchData(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||baseIsMatch(object,source,matchData)}}function baseMatchesProperty(path,srcValue){return isKey(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey(path),srcValue):function(object){var objValue=get(object,path);return objValue===undefined&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseMerge(object,source,srcIndex,customizer,stack){object!==source&&baseFor(source,function(srcValue,key){if(stack||(stack=new Stack),isObject(srcValue))!function(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=safeGet(object,key),srcValue=safeGet(source,key),stacked=stack.get(srcValue);if(stacked)assignMergeValue(object,key,stacked);else{var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):undefined,isCommon=newValue===undefined;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue,isArr||isBuff||isTyped?isArray(objValue)?newValue=objValue:isArrayLikeObject(objValue)?newValue=copyArray(objValue):isBuff?(isCommon=!1,newValue=cloneBuffer(srcValue,!0)):isTyped?(isCommon=!1,newValue=cloneTypedArray(srcValue,!0)):newValue=[]:isPlainObject(srcValue)||isArguments(srcValue)?(newValue=objValue,isArguments(objValue)?newValue=toPlainObject(objValue):isObject(objValue)&&!isFunction(objValue)||(newValue=initCloneObject(srcValue))):isCommon=!1}isCommon&&(stack.set(srcValue,newValue),mergeFunc(newValue,srcValue,srcIndex,customizer,stack),stack.delete(srcValue)),assignMergeValue(object,key,newValue)}}(object,source,key,srcIndex,baseMerge,customizer,stack);else{var newValue=customizer?customizer(safeGet(object,key),srcValue,key+"",object,source,stack):undefined;newValue===undefined&&(newValue=srcValue),assignMergeValue(object,key,newValue)}},keysIn)}function baseNth(array,n){var length=array.length;if(length)return isIndex(n+=n<0?length:0,length)?array[n]:undefined}function baseOrderBy(collection,iteratees,orders){var index=-1;return iteratees=arrayMap(iteratees.length?iteratees:[identity],baseUnary(getIteratee())),function(array,comparer){var length=array.length;for(array.sort(comparer);length--;)array[length]=array[length].value;return array}(baseMap(collection,function(value,key,collection){return{criteria:arrayMap(iteratees,function(iteratee){return iteratee(value)}),index:++index,value:value}}),function(object,other){return function(object,other,orders){for(var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;++index<length;){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength)return result;var order=orders[index];return result*("desc"==order?-1:1)}}return object.index-other.index}(object,other,orders)})}function basePickBy(object,paths,predicate){for(var index=-1,length=paths.length,result={};++index<length;){var path=paths[index],value=baseGet(object,path);predicate(value,path)&&baseSet(result,castPath(path,object),value)}return result}function basePullAll(array,values,iteratee,comparator){var indexOf=comparator?baseIndexOfWith:baseIndexOf,index=-1,length=values.length,seen=array;for(array===values&&(values=copyArray(values)),iteratee&&(seen=arrayMap(array,baseUnary(iteratee)));++index<length;)for(var fromIndex=0,value=values[index],computed=iteratee?iteratee(value):value;(fromIndex=indexOf(seen,computed,fromIndex,comparator))>-1;)seen!==array&&splice.call(seen,fromIndex,1),splice.call(array,fromIndex,1);return array}function basePullAt(array,indexes){for(var length=array?indexes.length:0,lastIndex=length-1;length--;){var index=indexes[length];if(length==lastIndex||index!==previous){var previous=index;isIndex(index)?splice.call(array,index,1):baseUnset(array,index)}}return array}function baseRandom(lower,upper){return lower+nativeFloor(nativeRandom()*(upper-lower+1))}function baseRepeat(string,n){var result="";if(!string||n<1||n>MAX_SAFE_INTEGER)return result;do{n%2&&(result+=string),(n=nativeFloor(n/2))&&(string+=string)}while(n);return result}function baseRest(func,start){return setToString(overRest(func,start,identity),func+"")}function baseSample(collection){return arraySample(values(collection))}function baseSampleSize(collection,n){var array=values(collection);return shuffleSelf(array,baseClamp(n,0,array.length))}function baseSet(object,path,value,customizer){if(!isObject(object))return object;for(var index=-1,length=(path=castPath(path,object)).length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=toKey(path[index]),newValue=value;if(index!=lastIndex){var objValue=nested[key];(newValue=customizer?customizer(objValue,key,nested):undefined)===undefined&&(newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{})}assignValue(nested,key,newValue),nested=nested[key]}return object}var baseSetData=metaMap?function(func,data){return metaMap.set(func,data),func}:identity,baseSetToString=defineProperty?function(func,string){return defineProperty(func,"toString",{configurable:!0,enumerable:!1,value:constant(string),writable:!0})}:identity;function baseShuffle(collection){return shuffleSelf(values(collection))}function baseSlice(array,start,end){var index=-1,length=array.length;start<0&&(start=-start>length?0:length+start),(end=end>length?length:end)<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}function baseSome(collection,predicate){var result;return baseEach(collection,function(value,index,collection){return!(result=predicate(value,index,collection))}),!!result}function baseSortedIndex(array,value,retHighest){var low=0,high=null==array?low:array.length;if("number"==typeof value&&value==value&&high<=HALF_MAX_ARRAY_LENGTH){for(;low<high;){var mid=low+high>>>1,computed=array[mid];null!==computed&&!isSymbol(computed)&&(retHighest?computed<=value:computed<value)?low=mid+1:high=mid}return high}return baseSortedIndexBy(array,value,identity,retHighest)}function baseSortedIndexBy(array,value,iteratee,retHighest){value=iteratee(value);for(var low=0,high=null==array?0:array.length,valIsNaN=value!=value,valIsNull=null===value,valIsSymbol=isSymbol(value),valIsUndefined=value===undefined;low<high;){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),othIsDefined=computed!==undefined,othIsNull=null===computed,othIsReflexive=computed==computed,othIsSymbol=isSymbol(computed);if(valIsNaN)var setLow=retHighest||othIsReflexive;else setLow=valIsUndefined?othIsReflexive&&(retHighest||othIsDefined):valIsNull?othIsReflexive&&othIsDefined&&(retHighest||!othIsNull):valIsSymbol?othIsReflexive&&othIsDefined&&!othIsNull&&(retHighest||!othIsSymbol):!othIsNull&&!othIsSymbol&&(retHighest?computed<=value:computed<value);setLow?low=mid+1:high=mid}return nativeMin(high,MAX_ARRAY_INDEX)}function baseSortedUniq(array,iteratee){for(var index=-1,length=array.length,resIndex=0,result=[];++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(!index||!eq(computed,seen)){var seen=computed;result[resIndex++]=0===value?0:value}}return result}function baseToNumber(value){return"number"==typeof value?value:isSymbol(value)?NAN:+value}function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=!0,result=[],seen=result;if(comparator)isCommon=!1,includes=arrayIncludesWith;else if(length>=LARGE_ARRAY_SIZE){var set=iteratee?null:createSet(array);if(set)return setToArray(set);isCommon=!1,includes=cacheHas,seen=new SetCache}else seen=iteratee?[]:result;outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else includes(seen,computed,comparator)||(seen!==result&&seen.push(computed),result.push(value))}return result}function baseUnset(object,path){return null==(object=parent(object,path=castPath(path,object)))||delete object[toKey(last(path))]}function baseUpdate(object,path,updater,customizer){return baseSet(object,path,updater(baseGet(object,path)),customizer)}function baseWhile(array,predicate,isDrop,fromRight){for(var length=array.length,index=fromRight?length:-1;(fromRight?index--:++index<length)&&predicate(array[index],index,array););return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;return result instanceof LazyWrapper&&(result=result.value()),arrayReduce(actions,function(result,action){return action.func.apply(action.thisArg,arrayPush([result],action.args))},result)}function baseXor(arrays,iteratee,comparator){var length=arrays.length;if(length<2)return length?baseUniq(arrays[0]):[];for(var index=-1,result=Array(length);++index<length;)for(var array=arrays[index],othIndex=-1;++othIndex<length;)othIndex!=index&&(result[index]=baseDifference(result[index]||array,arrays[othIndex],iteratee,comparator));return baseUniq(baseFlatten(result,1),iteratee,comparator)}function baseZipObject(props,values,assignFunc){for(var index=-1,length=props.length,valsLength=values.length,result={};++index<length;){var value=index<valsLength?values[index]:undefined;assignFunc(result,props[index],value)}return result}function castArrayLikeObject(value){return isArrayLikeObject(value)?value:[]}function castFunction(value){return"function"==typeof value?value:identity}function castPath(value,object){return isArray(value)?value:isKey(value,object)?[value]:stringToPath(toString(value))}var castRest=baseRest;function castSlice(array,start,end){var length=array.length;return end=end===undefined?length:end,!start&&end>=length?array:baseSlice(array,start,end)}var clearTimeout=ctxClearTimeout||function(id){return root.clearTimeout(id)};function cloneBuffer(buffer,isDeep){if(isDeep)return buffer.slice();var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);return buffer.copy(result),result}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array(result).set(new Uint8Array(arrayBuffer)),result}function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function compareAscending(value,other){if(value!==other){var valIsDefined=value!==undefined,valIsNull=null===value,valIsReflexive=value==value,valIsSymbol=isSymbol(value),othIsDefined=other!==undefined,othIsNull=null===other,othIsReflexive=other==other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive)return 1;if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive)return-1}return 0}function composeArgs(args,partials,holders,isCurried){for(var argsIndex=-1,argsLength=args.length,holdersLength=holders.length,leftIndex=-1,leftLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(leftLength+rangeLength),isUncurried=!isCurried;++leftIndex<leftLength;)result[leftIndex]=partials[leftIndex];for(;++argsIndex<holdersLength;)(isUncurried||argsIndex<argsLength)&&(result[holders[argsIndex]]=args[argsIndex]);for(;rangeLength--;)result[leftIndex++]=args[argsIndex++];return result}function composeArgsRight(args,partials,holders,isCurried){for(var argsIndex=-1,argsLength=args.length,holdersIndex=-1,holdersLength=holders.length,rightIndex=-1,rightLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(rangeLength+rightLength),isUncurried=!isCurried;++argsIndex<rangeLength;)result[argsIndex]=args[argsIndex];for(var offset=argsIndex;++rightIndex<rightLength;)result[offset+rightIndex]=partials[rightIndex];for(;++holdersIndex<holdersLength;)(isUncurried||argsIndex<argsLength)&&(result[offset+holders[holdersIndex]]=args[argsIndex++]);return result}function copyArray(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):undefined;newValue===undefined&&(newValue=source[key]),isNew?baseAssignValue(object,key,newValue):assignValue(object,key,newValue)}return object}function createAggregator(setter,initializer){return function(collection,iteratee){var func=isArray(collection)?arrayAggregator:baseAggregator,accumulator=initializer?initializer():{};return func(collection,setter,getIteratee(iteratee,2),accumulator)}}function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:undefined,guard=length>2?sources[2]:undefined;for(customizer=assigner.length>3&&"function"==typeof customizer?(length--,customizer):undefined,guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=length<3?undefined:customizer,length=1),object=Object(object);++index<length;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&!1!==iteratee(iterable[index],index,iterable););return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}function createCaseFirst(methodName){return function(string){var strSymbols=hasUnicode(string=toString(string))?stringToArray(string):undefined,chr=strSymbols?strSymbols[0]:string.charAt(0),trailing=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,"")),callback,"")}}function createCtor(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=getIteratee(predicate,3);collection=keys(collection),predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:undefined}}function createFlow(fromRight){return flatRest(function(funcs){var length=funcs.length,index=length,prereq=LodashWrapper.prototype.thru;for(fromRight&&funcs.reverse();index--;){var func=funcs[index];if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);if(prereq&&!wrapper&&"wrapper"==getFuncName(func))var wrapper=new LodashWrapper([],!0)}for(index=wrapper?index:length;++index<length;){var funcName=getFuncName(func=funcs[index]),data="wrapper"==funcName?getData(func):undefined;wrapper=data&&isLaziable(data[0])&&data[1]==(WRAP_ARY_FLAG|WRAP_CURRY_FLAG|WRAP_PARTIAL_FLAG|WRAP_REARG_FLAG)&&!data[4].length&&1==data[9]?wrapper[getFuncName(data[0])].apply(wrapper,data[3]):1==func.length&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}return function(){var args=arguments,value=args[0];if(wrapper&&1==args.length&&isArray(value))return wrapper.plant(value).value();for(var index=0,result=length?funcs[index].apply(this,args):value;++index<length;)result=funcs[index].call(this,result);return result}})}function createHybrid(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=bitmask&WRAP_ARY_FLAG,isBind=bitmask&WRAP_BIND_FLAG,isBindKey=bitmask&WRAP_BIND_KEY_FLAG,isCurried=bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG),isFlip=bitmask&WRAP_FLIP_FLAG,Ctor=isBindKey?undefined:createCtor(func);return function wrapper(){for(var length=arguments.length,args=Array(length),index=length;index--;)args[index]=arguments[index];if(isCurried)var placeholder=getHolder(wrapper),holdersCount=function(array,placeholder){for(var length=array.length,result=0;length--;)array[length]===placeholder&&++result;return result}(args,placeholder);if(partials&&(args=composeArgs(args,partials,holders,isCurried)),partialsRight&&(args=composeArgsRight(args,partialsRight,holdersRight,isCurried)),length-=holdersCount,isCurried&&length<arity){var newHolders=replaceHolders(args,placeholder);return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,thisArg,args,newHolders,argPos,ary,arity-length)}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;return length=args.length,argPos?args=function(array,indexes){for(var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=copyArray(array);length--;){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}(args,argPos):isFlip&&length>1&&args.reverse(),isAry&&ary<length&&(args.length=ary),this&&this!==root&&this instanceof wrapper&&(fn=Ctor||createCtor(fn)),fn.apply(thisBinding,args)}}function createInverter(setter,toIteratee){return function(object,iteratee){return function(object,setter,iteratee,accumulator){return baseForOwn(object,function(value,key,object){setter(accumulator,iteratee(value),key,object)}),accumulator}(object,setter,toIteratee(iteratee),{})}}function createMathOperation(operator,defaultValue){return function(value,other){var result;if(value===undefined&&other===undefined)return defaultValue;if(value!==undefined&&(result=value),other!==undefined){if(result===undefined)return other;"string"==typeof value||"string"==typeof other?(value=baseToString(value),other=baseToString(other)):(value=baseToNumber(value),other=baseToNumber(other)),result=operator(value,other)}return result}}function createOver(arrayFunc){return flatRest(function(iteratees){return iteratees=arrayMap(iteratees,baseUnary(getIteratee())),baseRest(function(args){var thisArg=this;return arrayFunc(iteratees,function(iteratee){return apply(iteratee,thisArg,args)})})})}function createPadding(length,chars){var charsLength=(chars=chars===undefined?" ":baseToString(chars)).length;if(charsLength<2)return charsLength?baseRepeat(chars,length):chars;var result=baseRepeat(chars,nativeCeil(length/stringSize(chars)));return hasUnicode(chars)?castSlice(stringToArray(result),0,length).join(""):result.slice(0,length)}function createRange(fromRight){return function(start,end,step){return step&&"number"!=typeof step&&isIterateeCall(start,end,step)&&(end=step=undefined),start=toFinite(start),end===undefined?(end=start,start=0):end=toFinite(end),function(start,end,step,fromRight){for(var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);length--;)result[fromRight?length:++index]=start,start+=step;return result}(start,end,step=step===undefined?start<end?1:-1:toFinite(step),fromRight)}}function createRelationalOperation(operator){return function(value,other){return"string"==typeof value&&"string"==typeof other||(value=toNumber(value),other=toNumber(other)),operator(value,other)}}function createRecurry(func,bitmask,wrapFunc,placeholder,thisArg,partials,holders,argPos,ary,arity){var isCurry=bitmask&WRAP_CURRY_FLAG;bitmask|=isCurry?WRAP_PARTIAL_FLAG:WRAP_PARTIAL_RIGHT_FLAG,(bitmask&=~(isCurry?WRAP_PARTIAL_RIGHT_FLAG:WRAP_PARTIAL_FLAG))&WRAP_CURRY_BOUND_FLAG||(bitmask&=~(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG));var newData=[func,bitmask,thisArg,isCurry?partials:undefined,isCurry?holders:undefined,isCurry?undefined:partials,isCurry?undefined:holders,argPos,ary,arity],result=wrapFunc.apply(undefined,newData);return isLaziable(func)&&setData(result,newData),result.placeholder=placeholder,setWrapToString(result,func,bitmask)}function createRound(methodName){var func=Math[methodName];return function(number,precision){if(number=toNumber(number),(precision=null==precision?0:nativeMin(toInteger(precision),292))&&nativeIsFinite(number)){var pair=(toString(number)+"e").split("e");return+((pair=(toString(func(pair[0]+"e"+(+pair[1]+precision)))+"e").split("e"))[0]+"e"+(+pair[1]-precision))}return func(number)}}var createSet=Set&&1/setToArray(new Set([,-0]))[1]==INFINITY?function(values){return new Set(values)}:noop;function createToPairs(keysFunc){return function(object){var tag=getTag(object);return tag==mapTag?mapToArray(object):tag==setTag?setToPairs(object):function(object,props){return arrayMap(props,function(key){return[key,object[key]]})}(object,keysFunc(object))}}function createWrap(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&WRAP_BIND_KEY_FLAG;if(!isBindKey&&"function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);var length=partials?partials.length:0;if(length||(bitmask&=~(WRAP_PARTIAL_FLAG|WRAP_PARTIAL_RIGHT_FLAG),partials=holders=undefined),ary=ary===undefined?ary:nativeMax(toInteger(ary),0),arity=arity===undefined?arity:toInteger(arity),length-=holders?holders.length:0,bitmask&WRAP_PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=undefined}var data=isBindKey?undefined:getData(func),newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data&&function(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG|WRAP_ARY_FLAG),isCombo=srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_CURRY_FLAG||srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(WRAP_ARY_FLAG|WRAP_REARG_FLAG)&&source[7].length<=source[8]&&bitmask==WRAP_CURRY_FLAG;if(!isCommon&&!isCombo)return data;srcBitmask&WRAP_BIND_FLAG&&(data[2]=source[2],newBitmask|=bitmask&WRAP_BIND_FLAG?0:WRAP_CURRY_BOUND_FLAG);var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):value,data[4]=partials?replaceHolders(data[3],PLACEHOLDER):source[4]}(value=source[5])&&(partials=data[5],data[5]=partials?composeArgsRight(partials,value,source[6]):value,data[6]=partials?replaceHolders(data[5],PLACEHOLDER):source[6]),(value=source[7])&&(data[7]=value),srcBitmask&WRAP_ARY_FLAG&&(data[8]=null==data[8]?source[8]:nativeMin(data[8],source[8])),null==data[9]&&(data[9]=source[9]),data[0]=source[0],data[1]=newBitmask}(newData,data),func=newData[0],bitmask=newData[1],thisArg=newData[2],partials=newData[3],holders=newData[4],!(arity=newData[9]=newData[9]===undefined?isBindKey?0:func.length:nativeMax(newData[9]-length,0))&&bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)&&(bitmask&=~(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)),bitmask&&bitmask!=WRAP_BIND_FLAG)result=bitmask==WRAP_CURRY_FLAG||bitmask==WRAP_CURRY_RIGHT_FLAG?function(func,bitmask,arity){var Ctor=createCtor(func);return function wrapper(){for(var length=arguments.length,args=Array(length),index=length,placeholder=getHolder(wrapper);index--;)args[index]=arguments[index];var holders=length<3&&args[0]!==placeholder&&args[length-1]!==placeholder?[]:replaceHolders(args,placeholder);return(length-=holders.length)<arity?createRecurry(func,bitmask,createHybrid,wrapper.placeholder,undefined,args,holders,undefined,undefined,arity-length):apply(this&&this!==root&&this instanceof wrapper?Ctor:func,this,args)}}(func,bitmask,arity):bitmask!=WRAP_PARTIAL_FLAG&&bitmask!=(WRAP_BIND_FLAG|WRAP_PARTIAL_FLAG)||holders.length?createHybrid.apply(undefined,newData):function(func,bitmask,thisArg,partials){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);return function wrapper(){for(var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength),fn=this&&this!==root&&this instanceof wrapper?Ctor:func;++leftIndex<leftLength;)args[leftIndex]=partials[leftIndex];for(;argsLength--;)args[leftIndex++]=arguments[++argsIndex];return apply(fn,isBind?thisArg:this,args)}}(func,bitmask,thisArg,partials);else var result=function(func,bitmask,thisArg){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);return function wrapper(){return(this&&this!==root&&this instanceof wrapper?Ctor:func).apply(isBind?thisArg:this,arguments)}}(func,bitmask,thisArg);return setWrapToString((data?baseSetData:setData)(result,newData),func,bitmask)}function customDefaultsAssignIn(objValue,srcValue,key,object){return objValue===undefined||eq(objValue,objectProto[key])&&!hasOwnProperty.call(object,key)?srcValue:objValue}function customDefaultsMerge(objValue,srcValue,key,object,source,stack){return isObject(objValue)&&isObject(srcValue)&&(stack.set(srcValue,objValue),baseMerge(objValue,srcValue,undefined,customDefaultsMerge,stack),stack.delete(srcValue)),objValue}function customOmitClone(value){return isPlainObject(value)?undefined:value}function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=!0,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache:undefined;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(compared!==undefined){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex)})){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}function flatRest(func){return setToString(overRest(func,undefined,flatten),func+"")}function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}var getData=metaMap?function(func){return metaMap.get(func)}:noop;function getFuncName(func){for(var result=func.name+"",array=realNames[result],length=hasOwnProperty.call(realNames,result)?array.length:0;length--;){var data=array[length],otherFunc=data.func;if(null==otherFunc||otherFunc==func)return data.name}return result}function getHolder(func){return(hasOwnProperty.call(lodash,"placeholder")?lodash:func).placeholder}function getIteratee(){var result=lodash.iteratee||iteratee;return result=result===iteratee?baseIteratee:result,arguments.length?result(arguments[0],arguments[1]):result}function getMapData(map,key){var value,type,data=map.__data__;return("string"==(type=typeof(value=key))||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value)?data["string"==typeof key?"string":"hash"]:data.map}function getMatchData(object){for(var result=keys(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}function getNative(object,key){var value=function(object,key){return null==object?undefined:object[key]}(object,key);return baseIsNative(value)?value:undefined}var getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),arrayFilter(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable.call(object,symbol)}))}:stubArray,getSymbolsIn=nativeGetSymbols?function(object){for(var result=[];object;)arrayPush(result,getSymbols(object)),object=getPrototype(object);return result}:stubArray,getTag=baseGetTag;function hasPath(object,path,hasFunc){for(var index=-1,length=(path=castPath(path,object)).length,result=!1;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}return result||++index!=length?result:!!(length=null==object?0:object.length)&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}function initCloneObject(object){return"function"!=typeof object.constructor||isPrototype(object)?{}:baseCreate(getPrototype(object))}function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}function isIndex(value,length){var type=typeof value;return!!(length=null==length?MAX_SAFE_INTEGER:length)&&("number"==type||"symbol"!=type&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;return!!("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)&&eq(object[index],value)}function isKey(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object)}function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if("function"!=typeof other||!(funcName in LazyWrapper.prototype))return!1;if(func===other)return!0;var data=getData(other);return!!data&&func===data[0]}(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:undefined,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return"[object Promise]";case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return result});var isMaskable=coreJsData?isFunction:stubFalse;function isPrototype(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}function isStrictComparable(value){return value==value&&!isObject(value)}function matchesStrictComparable(key,srcValue){return function(object){return null!=object&&object[key]===srcValue&&(srcValue!==undefined||key in Object(object))}}function overRest(func,start,transform){return start=nativeMax(start===undefined?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=transform(array),apply(func,this,otherArgs)}}function parent(object,path){return path.length<2?object:baseGet(object,baseSlice(path,0,-1))}function safeGet(object,key){if(("constructor"!==key||"function"!=typeof object[key])&&"__proto__"!=key)return object[key]}var setData=shortOut(baseSetData),setTimeout=ctxSetTimeout||function(func,wait){return root.setTimeout(func,wait)},setToString=shortOut(baseSetToString);function setWrapToString(wrapper,reference,bitmask){var source=reference+"";return setToString(wrapper,function(source,details){var length=details.length;if(!length)return source;var lastIndex=length-1;return details[lastIndex]=(length>1?"& ":"")+details[lastIndex],details=details.join(length>2?", ":" "),source.replace(reWrapComment,"{\n/* [wrapped with "+details+"] */\n")}(source,function(details,bitmask){return arrayEach(wrapFlags,function(pair){var value="_."+pair[0];bitmask&pair[1]&&!arrayIncludes(details,value)&&details.push(value)}),details.sort()}(function(source){var match=source.match(reWrapDetails);return match?match[1].split(reSplitDetails):[]}(source),bitmask)))}function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=HOT_COUNT)return arguments[0]}else count=0;return func.apply(undefined,arguments)}}function shuffleSelf(array,size){var index=-1,length=array.length,lastIndex=length-1;for(size=size===undefined?length:size;++index<size;){var rand=baseRandom(index,lastIndex),value=array[rand];array[rand]=array[index],array[index]=value}return array.length=size,array}var stringToPath=function(func){var result=memoize(func,function(key){return cache.size===MAX_MEMOIZE_SIZE&&cache.clear(),key}),cache=result.cache;return result}(function(string){var result=[];return 46===string.charCodeAt(0)&&result.push(""),string.replace(rePropName,function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)}),result});function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function wrapperClone(wrapper){if(wrapper instanceof LazyWrapper)return wrapper.clone();var result=new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__);return result.__actions__=copyArray(wrapper.__actions__),result.__index__=wrapper.__index__,result.__values__=wrapper.__values__,result}var difference=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0)):[]}),differenceBy=baseRest(function(array,values){var iteratee=last(values);return isArrayLikeObject(iteratee)&&(iteratee=undefined),isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0),getIteratee(iteratee,2)):[]}),differenceWith=baseRest(function(array,values){var comparator=last(values);return isArrayLikeObject(comparator)&&(comparator=undefined),isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0),undefined,comparator):[]});function findIndex(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=null==fromIndex?0:toInteger(fromIndex);return index<0&&(index=nativeMax(length+index,0)),baseFindIndex(array,getIteratee(predicate,3),index)}function findLastIndex(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=length-1;return fromIndex!==undefined&&(index=toInteger(fromIndex),index=fromIndex<0?nativeMax(length+index,0):nativeMin(index,length-1)),baseFindIndex(array,getIteratee(predicate,3),index,!0)}function flatten(array){return null!=array&&array.length?baseFlatten(array,1):[]}function head(array){return array&&array.length?array[0]:undefined}var intersection=baseRest(function(arrays){var mapped=arrayMap(arrays,castArrayLikeObject);return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped):[]}),intersectionBy=baseRest(function(arrays){var iteratee=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);return iteratee===last(mapped)?iteratee=undefined:mapped.pop(),mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,getIteratee(iteratee,2)):[]}),intersectionWith=baseRest(function(arrays){var comparator=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);return(comparator="function"==typeof comparator?comparator:undefined)&&mapped.pop(),mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,undefined,comparator):[]});function last(array){var length=null==array?0:array.length;return length?array[length-1]:undefined}var pull=baseRest(pullAll);function pullAll(array,values){return array&&array.length&&values&&values.length?basePullAll(array,values):array}var pullAt=flatRest(function(array,indexes){var length=null==array?0:array.length,result=baseAt(array,indexes);return basePullAt(array,arrayMap(indexes,function(index){return isIndex(index,length)?+index:index}).sort(compareAscending)),result});function reverse(array){return null==array?array:nativeReverse.call(array)}var union=baseRest(function(arrays){return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0))}),unionBy=baseRest(function(arrays){var iteratee=last(arrays);return isArrayLikeObject(iteratee)&&(iteratee=undefined),baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0),getIteratee(iteratee,2))}),unionWith=baseRest(function(arrays){var comparator=last(arrays);return comparator="function"==typeof comparator?comparator:undefined,baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0),undefined,comparator)});function unzip(array){if(!array||!array.length)return[];var length=0;return array=arrayFilter(array,function(group){if(isArrayLikeObject(group))return length=nativeMax(group.length,length),!0}),baseTimes(length,function(index){return arrayMap(array,baseProperty(index))})}function unzipWith(array,iteratee){if(!array||!array.length)return[];var result=unzip(array);return null==iteratee?result:arrayMap(result,function(group){return apply(iteratee,undefined,group)})}var without=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,values):[]}),xor=baseRest(function(arrays){return baseXor(arrayFilter(arrays,isArrayLikeObject))}),xorBy=baseRest(function(arrays){var iteratee=last(arrays);return isArrayLikeObject(iteratee)&&(iteratee=undefined),baseXor(arrayFilter(arrays,isArrayLikeObject),getIteratee(iteratee,2))}),xorWith=baseRest(function(arrays){var comparator=last(arrays);return comparator="function"==typeof comparator?comparator:undefined,baseXor(arrayFilter(arrays,isArrayLikeObject),undefined,comparator)}),zip=baseRest(unzip);var zipWith=baseRest(function(arrays){var length=arrays.length,iteratee=length>1?arrays[length-1]:undefined;return iteratee="function"==typeof iteratee?(arrays.pop(),iteratee):undefined,unzipWith(arrays,iteratee)});function chain(value){var result=lodash(value);return result.__chain__=!0,result}function thru(value,interceptor){return interceptor(value)}var wrapperAt=flatRest(function(paths){var length=paths.length,start=length?paths[0]:0,value=this.__wrapped__,interceptor=function(object){return baseAt(object,paths)};return!(length>1||this.__actions__.length)&&value instanceof LazyWrapper&&isIndex(start)?((value=value.slice(start,+start+(length?1:0))).__actions__.push({func:thru,args:[interceptor],thisArg:undefined}),new LodashWrapper(value,this.__chain__).thru(function(array){return length&&!array.length&&array.push(undefined),array})):this.thru(interceptor)});var countBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?++result[key]:baseAssignValue(result,key,1)});var find=createFind(findIndex),findLast=createFind(findLastIndex);function forEach(collection,iteratee){return(isArray(collection)?arrayEach:baseEach)(collection,getIteratee(iteratee,3))}function forEachRight(collection,iteratee){return(isArray(collection)?arrayEachRight:baseEachRight)(collection,getIteratee(iteratee,3))}var groupBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?result[key].push(value):baseAssignValue(result,key,[value])});var invokeMap=baseRest(function(collection,path,args){var index=-1,isFunc="function"==typeof path,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value){result[++index]=isFunc?apply(path,value,args):baseInvoke(value,path,args)}),result}),keyBy=createAggregator(function(result,value,key){baseAssignValue(result,key,value)});function map(collection,iteratee){return(isArray(collection)?arrayMap:baseMap)(collection,getIteratee(iteratee,3))}var partition=createAggregator(function(result,value,key){result[key?0:1].push(value)},function(){return[[],[]]});var sortBy=baseRest(function(collection,iteratees){if(null==collection)return[];var length=iteratees.length;return length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])?iteratees=[]:length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])&&(iteratees=[iteratees[0]]),baseOrderBy(collection,baseFlatten(iteratees,1),[])}),now=ctxNow||function(){return root.Date.now()};function ary(func,n,guard){return n=guard?undefined:n,n=func&&null==n?func.length:n,createWrap(func,WRAP_ARY_FLAG,undefined,undefined,undefined,undefined,n)}function before(n,func){var result;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return n=toInteger(n),function(){return--n>0&&(result=func.apply(this,arguments)),n<=1&&(func=undefined),result}}var bind=baseRest(function(func,thisArg,partials){var bitmask=WRAP_BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bind));bitmask|=WRAP_PARTIAL_FLAG}return createWrap(func,bitmask,thisArg,partials,holders)}),bindKey=baseRest(function(object,key,partials){var bitmask=WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,getHolder(bindKey));bitmask|=WRAP_PARTIAL_FLAG}return createWrap(key,bitmask,object,partials,holders)});function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=undefined,lastInvokeTime=time,result=func.apply(thisArg,args)}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime;return lastCallTime===undefined||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&time-lastInvokeTime>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,function(time){var timeWaiting=wait-(time-lastCallTime);return maxing?nativeMin(timeWaiting,maxWait-(time-lastInvokeTime)):timeWaiting}(time))}function trailingEdge(time){return timerId=undefined,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=undefined,result)}function debounced(){var time=now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(timerId===undefined)return function(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}(lastCallTime);if(maxing)return clearTimeout(timerId),timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return timerId===undefined&&(timerId=setTimeout(timerExpired,wait)),result}return wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxWait=(maxing="maxWait"in options)?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=function(){timerId!==undefined&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=undefined},debounced.flush=function(){return timerId===undefined?result:trailingEdge(now())},debounced}var defer=baseRest(function(func,args){return baseDelay(func,1,args)}),delay=baseRest(function(func,wait,args){return baseDelay(func,toNumber(wait)||0,args)});function memoize(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result)||cache,result};return memoized.cache=new(memoize.Cache||MapCache),memoized}function negate(predicate){if("function"!=typeof predicate)throw new TypeError(FUNC_ERROR_TEXT);return function(){var args=arguments;switch(args.length){case 0:return!predicate.call(this);case 1:return!predicate.call(this,args[0]);case 2:return!predicate.call(this,args[0],args[1]);case 3:return!predicate.call(this,args[0],args[1],args[2])}return!predicate.apply(this,args)}}memoize.Cache=MapCache;var overArgs=castRest(function(func,transforms){var funcsLength=(transforms=1==transforms.length&&isArray(transforms[0])?arrayMap(transforms[0],baseUnary(getIteratee())):arrayMap(baseFlatten(transforms,1),baseUnary(getIteratee()))).length;return baseRest(function(args){for(var index=-1,length=nativeMin(args.length,funcsLength);++index<length;)args[index]=transforms[index].call(this,args[index]);return apply(func,this,args)})}),partial=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partial));return createWrap(func,WRAP_PARTIAL_FLAG,undefined,partials,holders)}),partialRight=baseRest(function(func,partials){var holders=replaceHolders(partials,getHolder(partialRight));return createWrap(func,WRAP_PARTIAL_RIGHT_FLAG,undefined,partials,holders)}),rearg=flatRest(function(func,indexes){return createWrap(func,WRAP_REARG_FLAG,undefined,undefined,undefined,indexes)});function eq(value,other){return value===other||value!=value&&other!=other}var gt=createRelationalOperation(baseGt),gte=createRelationalOperation(function(value,other){return value>=other}),isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")},isArray=Array.isArray,isArrayBuffer=nodeIsArrayBuffer?baseUnary(nodeIsArrayBuffer):function(value){return isObjectLike(value)&&baseGetTag(value)==arrayBufferTag};function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}var isBuffer=nativeIsBuffer||stubFalse,isDate=nodeIsDate?baseUnary(nodeIsDate):function(value){return isObjectLike(value)&&baseGetTag(value)==dateTag};function isError(value){if(!isObjectLike(value))return!1;var tag=baseGetTag(value);return tag==errorTag||tag==domExcTag||"string"==typeof value.message&&"string"==typeof value.name&&!isPlainObject(value)}function isFunction(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}function isInteger(value){return"number"==typeof value&&value==toInteger(value)}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}function isObjectLike(value){return null!=value&&"object"==typeof value}var isMap=nodeIsMap?baseUnary(nodeIsMap):function(value){return isObjectLike(value)&&getTag(value)==mapTag};function isNumber(value){return"number"==typeof value||isObjectLike(value)&&baseGetTag(value)==numberTag}function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag)return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}var isRegExp=nodeIsRegExp?baseUnary(nodeIsRegExp):function(value){return isObjectLike(value)&&baseGetTag(value)==regexpTag};var isSet=nodeIsSet?baseUnary(nodeIsSet):function(value){return isObjectLike(value)&&getTag(value)==setTag};function isString(value){return"string"==typeof value||!isArray(value)&&isObjectLike(value)&&baseGetTag(value)==stringTag}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&baseGetTag(value)==symbolTag}var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):function(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]};var lt=createRelationalOperation(baseLt),lte=createRelationalOperation(function(value,other){return value<=other});function toArray(value){if(!value)return[];if(isArrayLike(value))return isString(value)?stringToArray(value):copyArray(value);if(symIterator&&value[symIterator])return function(iterator){for(var data,result=[];!(data=iterator.next()).done;)result.push(data.value);return result}(value[symIterator]());var tag=getTag(value);return(tag==mapTag?mapToArray:tag==setTag?setToArray:values)(value)}function toFinite(value){return value?(value=toNumber(value))===INFINITY||value===-INFINITY?(value<0?-1:1)*MAX_INTEGER:value==value?value:0:0===value?value:0}function toInteger(value){var result=toFinite(value),remainder=result%1;return result==result?remainder?result-remainder:result:0}function toLength(value){return value?baseClamp(toInteger(value),0,MAX_ARRAY_LENGTH):0}function toNumber(value){if("number"==typeof value)return value;if(isSymbol(value))return NAN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}function toPlainObject(value){return copyObject(value,keysIn(value))}function toString(value){return null==value?"":baseToString(value)}var assign=createAssigner(function(object,source){if(isPrototype(source)||isArrayLike(source))copyObject(source,keys(source),object);else for(var key in source)hasOwnProperty.call(source,key)&&assignValue(object,key,source[key])}),assignIn=createAssigner(function(object,source){copyObject(source,keysIn(source),object)}),assignInWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keysIn(source),object,customizer)}),assignWith=createAssigner(function(object,source,srcIndex,customizer){copyObject(source,keys(source),object,customizer)}),at=flatRest(baseAt);var defaults=baseRest(function(object,sources){object=Object(object);var index=-1,length=sources.length,guard=length>2?sources[2]:undefined;for(guard&&isIterateeCall(sources[0],sources[1],guard)&&(length=1);++index<length;)for(var source=sources[index],props=keysIn(source),propsIndex=-1,propsLength=props.length;++propsIndex<propsLength;){var key=props[propsIndex],value=object[key];(value===undefined||eq(value,objectProto[key])&&!hasOwnProperty.call(object,key))&&(object[key]=source[key])}return object}),defaultsDeep=baseRest(function(args){return args.push(undefined,customDefaultsMerge),apply(mergeWith,undefined,args)});function get(object,path,defaultValue){var result=null==object?undefined:baseGet(object,path);return result===undefined?defaultValue:result}function hasIn(object,path){return null!=object&&hasPath(object,path,baseHasIn)}var invert=createInverter(function(result,value,key){null!=value&&"function"!=typeof value.toString&&(value=nativeObjectToString.call(value)),result[value]=key},constant(identity)),invertBy=createInverter(function(result,value,key){null!=value&&"function"!=typeof value.toString&&(value=nativeObjectToString.call(value)),hasOwnProperty.call(result,value)?result[value].push(key):result[value]=[key]},getIteratee),invoke=baseRest(baseInvoke);function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}var merge=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex)}),mergeWith=createAssigner(function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer)}),omit=flatRest(function(object,paths){var result={};if(null==object)return result;var isDeep=!1;paths=arrayMap(paths,function(path){return path=castPath(path,object),isDeep||(isDeep=path.length>1),path}),copyObject(object,getAllKeysIn(object),result),isDeep&&(result=baseClone(result,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone));for(var length=paths.length;length--;)baseUnset(result,paths[length]);return result});var pick=flatRest(function(object,paths){return null==object?{}:function(object,paths){return basePickBy(object,paths,function(value,path){return hasIn(object,path)})}(object,paths)});function pickBy(object,predicate){if(null==object)return{};var props=arrayMap(getAllKeysIn(object),function(prop){return[prop]});return predicate=getIteratee(predicate),basePickBy(object,props,function(value,path){return predicate(value,path[0])})}var toPairs=createToPairs(keys),toPairsIn=createToPairs(keysIn);function values(object){return null==object?[]:baseValues(object,keys(object))}var camelCase=createCompounder(function(result,word,index){return word=word.toLowerCase(),result+(index?capitalize(word):word)});function capitalize(string){return upperFirst(toString(string).toLowerCase())}function deburr(string){return(string=toString(string))&&string.replace(reLatin,deburrLetter).replace(reComboMark,"")}var kebabCase=createCompounder(function(result,word,index){return result+(index?"-":"")+word.toLowerCase()}),lowerCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toLowerCase()}),lowerFirst=createCaseFirst("toLowerCase");var snakeCase=createCompounder(function(result,word,index){return result+(index?"_":"")+word.toLowerCase()});var startCase=createCompounder(function(result,word,index){return result+(index?" ":"")+upperFirst(word)});var upperCase=createCompounder(function(result,word,index){return result+(index?" ":"")+word.toUpperCase()}),upperFirst=createCaseFirst("toUpperCase");function words(string,pattern,guard){return string=toString(string),(pattern=guard?undefined:pattern)===undefined?function(string){return reHasUnicodeWord.test(string)}(string)?function(string){return string.match(reUnicodeWord)||[]}(string):function(string){return string.match(reAsciiWord)||[]}(string):string.match(pattern)||[]}var attempt=baseRest(function(func,args){try{return apply(func,undefined,args)}catch(e){return isError(e)?e:new Error(e)}}),bindAll=flatRest(function(object,methodNames){return arrayEach(methodNames,function(key){key=toKey(key),baseAssignValue(object,key,bind(object[key],object))}),object});function constant(value){return function(){return value}}var flow=createFlow(),flowRight=createFlow(!0);function identity(value){return value}function iteratee(func){return baseIteratee("function"==typeof func?func:baseClone(func,CLONE_DEEP_FLAG))}var method=baseRest(function(path,args){return function(object){return baseInvoke(object,path,args)}}),methodOf=baseRest(function(object,args){return function(path){return baseInvoke(object,path,args)}});function mixin(object,source,options){var props=keys(source),methodNames=baseFunctions(source,props);null!=options||isObject(source)&&(methodNames.length||!props.length)||(options=source,source=object,object=this,methodNames=baseFunctions(source,keys(source)));var chain=!(isObject(options)&&"chain"in options&&!options.chain),isFunc=isFunction(object);return arrayEach(methodNames,function(methodName){var func=source[methodName];object[methodName]=func,isFunc&&(object.prototype[methodName]=function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__),actions=result.__actions__=copyArray(this.__actions__);return actions.push({func:func,args:arguments,thisArg:object}),result.__chain__=chainAll,result}return func.apply(object,arrayPush([this.value()],arguments))})}),object}function noop(){}var over=createOver(arrayMap),overEvery=createOver(arrayEvery),overSome=createOver(arraySome);function property(path){return isKey(path)?baseProperty(toKey(path)):function(path){return function(object){return baseGet(object,path)}}(path)}var range=createRange(),rangeRight=createRange(!0);function stubArray(){return[]}function stubFalse(){return!1}var add=createMathOperation(function(augend,addend){return augend+addend},0),ceil=createRound("ceil"),divide=createMathOperation(function(dividend,divisor){return dividend/divisor},1),floor=createRound("floor");var source,multiply=createMathOperation(function(multiplier,multiplicand){return multiplier*multiplicand},1),round=createRound("round"),subtract=createMathOperation(function(minuend,subtrahend){return minuend-subtrahend},0);return lodash.after=function(n,func){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return n=toInteger(n),function(){if(--n<1)return func.apply(this,arguments)}},lodash.ary=ary,lodash.assign=assign,lodash.assignIn=assignIn,lodash.assignInWith=assignInWith,lodash.assignWith=assignWith,lodash.at=at,lodash.before=before,lodash.bind=bind,lodash.bindAll=bindAll,lodash.bindKey=bindKey,lodash.castArray=function(){if(!arguments.length)return[];var value=arguments[0];return isArray(value)?value:[value]},lodash.chain=chain,lodash.chunk=function(array,size,guard){size=(guard?isIterateeCall(array,size,guard):size===undefined)?1:nativeMax(toInteger(size),0);var length=null==array?0:array.length;if(!length||size<1)return[];for(var index=0,resIndex=0,result=Array(nativeCeil(length/size));index<length;)result[resIndex++]=baseSlice(array,index,index+=size);return result},lodash.compact=function(array){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];value&&(result[resIndex++]=value)}return result},lodash.concat=function(){var length=arguments.length;if(!length)return[];for(var args=Array(length-1),array=arguments[0],index=length;index--;)args[index-1]=arguments[index];return arrayPush(isArray(array)?copyArray(array):[array],baseFlatten(args,1))},lodash.cond=function(pairs){var length=null==pairs?0:pairs.length,toIteratee=getIteratee();return pairs=length?arrayMap(pairs,function(pair){if("function"!=typeof pair[1])throw new TypeError(FUNC_ERROR_TEXT);return[toIteratee(pair[0]),pair[1]]}):[],baseRest(function(args){for(var index=-1;++index<length;){var pair=pairs[index];if(apply(pair[0],this,args))return apply(pair[1],this,args)}})},lodash.conforms=function(source){return function(source){var props=keys(source);return function(object){return baseConformsTo(object,source,props)}}(baseClone(source,CLONE_DEEP_FLAG))},lodash.constant=constant,lodash.countBy=countBy,lodash.create=function(prototype,properties){var result=baseCreate(prototype);return null==properties?result:baseAssign(result,properties)},lodash.curry=function curry(func,arity,guard){var result=createWrap(func,WRAP_CURRY_FLAG,undefined,undefined,undefined,undefined,undefined,arity=guard?undefined:arity);return result.placeholder=curry.placeholder,result},lodash.curryRight=function curryRight(func,arity,guard){var result=createWrap(func,WRAP_CURRY_RIGHT_FLAG,undefined,undefined,undefined,undefined,undefined,arity=guard?undefined:arity);return result.placeholder=curryRight.placeholder,result},lodash.debounce=debounce,lodash.defaults=defaults,lodash.defaultsDeep=defaultsDeep,lodash.defer=defer,lodash.delay=delay,lodash.difference=difference,lodash.differenceBy=differenceBy,lodash.differenceWith=differenceWith,lodash.drop=function(array,n,guard){var length=null==array?0:array.length;return length?baseSlice(array,(n=guard||n===undefined?1:toInteger(n))<0?0:n,length):[]},lodash.dropRight=function(array,n,guard){var length=null==array?0:array.length;return length?baseSlice(array,0,(n=length-(n=guard||n===undefined?1:toInteger(n)))<0?0:n):[]},lodash.dropRightWhile=function(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!0,!0):[]},lodash.dropWhile=function(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!0):[]},lodash.fill=function(array,value,start,end){var length=null==array?0:array.length;return length?(start&&"number"!=typeof start&&isIterateeCall(array,value,start)&&(start=0,end=length),function(array,value,start,end){var length=array.length;for((start=toInteger(start))<0&&(start=-start>length?0:length+start),(end=end===undefined||end>length?length:toInteger(end))<0&&(end+=length),end=start>end?0:toLength(end);start<end;)array[start++]=value;return array}(array,value,start,end)):[]},lodash.filter=function(collection,predicate){return(isArray(collection)?arrayFilter:baseFilter)(collection,getIteratee(predicate,3))},lodash.flatMap=function(collection,iteratee){return baseFlatten(map(collection,iteratee),1)},lodash.flatMapDeep=function(collection,iteratee){return baseFlatten(map(collection,iteratee),INFINITY)},lodash.flatMapDepth=function(collection,iteratee,depth){return depth=depth===undefined?1:toInteger(depth),baseFlatten(map(collection,iteratee),depth)},lodash.flatten=flatten,lodash.flattenDeep=function(array){return null!=array&&array.length?baseFlatten(array,INFINITY):[]},lodash.flattenDepth=function(array,depth){return null!=array&&array.length?baseFlatten(array,depth=depth===undefined?1:toInteger(depth)):[]},lodash.flip=function(func){return createWrap(func,WRAP_FLIP_FLAG)},lodash.flow=flow,lodash.flowRight=flowRight,lodash.fromPairs=function(pairs){for(var index=-1,length=null==pairs?0:pairs.length,result={};++index<length;){var pair=pairs[index];result[pair[0]]=pair[1]}return result},lodash.functions=function(object){return null==object?[]:baseFunctions(object,keys(object))},lodash.functionsIn=function(object){return null==object?[]:baseFunctions(object,keysIn(object))},lodash.groupBy=groupBy,lodash.initial=function(array){return null!=array&&array.length?baseSlice(array,0,-1):[]},lodash.intersection=intersection,lodash.intersectionBy=intersectionBy,lodash.intersectionWith=intersectionWith,lodash.invert=invert,lodash.invertBy=invertBy,lodash.invokeMap=invokeMap,lodash.iteratee=iteratee,lodash.keyBy=keyBy,lodash.keys=keys,lodash.keysIn=keysIn,lodash.map=map,lodash.mapKeys=function(object,iteratee){var result={};return iteratee=getIteratee(iteratee,3),baseForOwn(object,function(value,key,object){baseAssignValue(result,iteratee(value,key,object),value)}),result},lodash.mapValues=function(object,iteratee){var result={};return iteratee=getIteratee(iteratee,3),baseForOwn(object,function(value,key,object){baseAssignValue(result,key,iteratee(value,key,object))}),result},lodash.matches=function(source){return baseMatches(baseClone(source,CLONE_DEEP_FLAG))},lodash.matchesProperty=function(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,CLONE_DEEP_FLAG))},lodash.memoize=memoize,lodash.merge=merge,lodash.mergeWith=mergeWith,lodash.method=method,lodash.methodOf=methodOf,lodash.mixin=mixin,lodash.negate=negate,lodash.nthArg=function(n){return n=toInteger(n),baseRest(function(args){return baseNth(args,n)})},lodash.omit=omit,lodash.omitBy=function(object,predicate){return pickBy(object,negate(getIteratee(predicate)))},lodash.once=function(func){return before(2,func)},lodash.orderBy=function(collection,iteratees,orders,guard){return null==collection?[]:(isArray(iteratees)||(iteratees=null==iteratees?[]:[iteratees]),isArray(orders=guard?undefined:orders)||(orders=null==orders?[]:[orders]),baseOrderBy(collection,iteratees,orders))},lodash.over=over,lodash.overArgs=overArgs,lodash.overEvery=overEvery,lodash.overSome=overSome,lodash.partial=partial,lodash.partialRight=partialRight,lodash.partition=partition,lodash.pick=pick,lodash.pickBy=pickBy,lodash.property=property,lodash.propertyOf=function(object){return function(path){return null==object?undefined:baseGet(object,path)}},lodash.pull=pull,lodash.pullAll=pullAll,lodash.pullAllBy=function(array,values,iteratee){return array&&array.length&&values&&values.length?basePullAll(array,values,getIteratee(iteratee,2)):array},lodash.pullAllWith=function(array,values,comparator){return array&&array.length&&values&&values.length?basePullAll(array,values,undefined,comparator):array},lodash.pullAt=pullAt,lodash.range=range,lodash.rangeRight=rangeRight,lodash.rearg=rearg,lodash.reject=function(collection,predicate){return(isArray(collection)?arrayFilter:baseFilter)(collection,negate(getIteratee(predicate,3)))},lodash.remove=function(array,predicate){var result=[];if(!array||!array.length)return result;var index=-1,indexes=[],length=array.length;for(predicate=getIteratee(predicate,3);++index<length;){var value=array[index];predicate(value,index,array)&&(result.push(value),indexes.push(index))}return basePullAt(array,indexes),result},lodash.rest=function(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return baseRest(func,start=start===undefined?start:toInteger(start))},lodash.reverse=reverse,lodash.sampleSize=function(collection,n,guard){return n=(guard?isIterateeCall(collection,n,guard):n===undefined)?1:toInteger(n),(isArray(collection)?arraySampleSize:baseSampleSize)(collection,n)},lodash.set=function(object,path,value){return null==object?object:baseSet(object,path,value)},lodash.setWith=function(object,path,value,customizer){return customizer="function"==typeof customizer?customizer:undefined,null==object?object:baseSet(object,path,value,customizer)},lodash.shuffle=function(collection){return(isArray(collection)?arrayShuffle:baseShuffle)(collection)},lodash.slice=function(array,start,end){var length=null==array?0:array.length;return length?(end&&"number"!=typeof end&&isIterateeCall(array,start,end)?(start=0,end=length):(start=null==start?0:toInteger(start),end=end===undefined?length:toInteger(end)),baseSlice(array,start,end)):[]},lodash.sortBy=sortBy,lodash.sortedUniq=function(array){return array&&array.length?baseSortedUniq(array):[]},lodash.sortedUniqBy=function(array,iteratee){return array&&array.length?baseSortedUniq(array,getIteratee(iteratee,2)):[]},lodash.split=function(string,separator,limit){return limit&&"number"!=typeof limit&&isIterateeCall(string,separator,limit)&&(separator=limit=undefined),(limit=limit===undefined?MAX_ARRAY_LENGTH:limit>>>0)?(string=toString(string))&&("string"==typeof separator||null!=separator&&!isRegExp(separator))&&!(separator=baseToString(separator))&&hasUnicode(string)?castSlice(stringToArray(string),0,limit):string.split(separator,limit):[]},lodash.spread=function(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=null==start?0:nativeMax(toInteger(start),0),baseRest(function(args){var array=args[start],otherArgs=castSlice(args,0,start);return array&&arrayPush(otherArgs,array),apply(func,this,otherArgs)})},lodash.tail=function(array){var length=null==array?0:array.length;return length?baseSlice(array,1,length):[]},lodash.take=function(array,n,guard){return array&&array.length?baseSlice(array,0,(n=guard||n===undefined?1:toInteger(n))<0?0:n):[]},lodash.takeRight=function(array,n,guard){var length=null==array?0:array.length;return length?baseSlice(array,(n=length-(n=guard||n===undefined?1:toInteger(n)))<0?0:n,length):[]},lodash.takeRightWhile=function(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!1,!0):[]},lodash.takeWhile=function(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3)):[]},lodash.tap=function(value,interceptor){return interceptor(value),value},lodash.throttle=function(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})},lodash.thru=thru,lodash.toArray=toArray,lodash.toPairs=toPairs,lodash.toPairsIn=toPairsIn,lodash.toPath=function(value){return isArray(value)?arrayMap(value,toKey):isSymbol(value)?[value]:copyArray(stringToPath(toString(value)))},lodash.toPlainObject=toPlainObject,lodash.transform=function(object,iteratee,accumulator){var isArr=isArray(object),isArrLike=isArr||isBuffer(object)||isTypedArray(object);if(iteratee=getIteratee(iteratee,4),null==accumulator){var Ctor=object&&object.constructor;accumulator=isArrLike?isArr?new Ctor:[]:isObject(object)&&isFunction(Ctor)?baseCreate(getPrototype(object)):{}}return(isArrLike?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)}),accumulator},lodash.unary=function(func){return ary(func,1)},lodash.union=union,lodash.unionBy=unionBy,lodash.unionWith=unionWith,lodash.uniq=function(array){return array&&array.length?baseUniq(array):[]},lodash.uniqBy=function(array,iteratee){return array&&array.length?baseUniq(array,getIteratee(iteratee,2)):[]},lodash.uniqWith=function(array,comparator){return comparator="function"==typeof comparator?comparator:undefined,array&&array.length?baseUniq(array,undefined,comparator):[]},lodash.unset=function(object,path){return null==object||baseUnset(object,path)},lodash.unzip=unzip,lodash.unzipWith=unzipWith,lodash.update=function(object,path,updater){return null==object?object:baseUpdate(object,path,castFunction(updater))},lodash.updateWith=function(object,path,updater,customizer){return customizer="function"==typeof customizer?customizer:undefined,null==object?object:baseUpdate(object,path,castFunction(updater),customizer)},lodash.values=values,lodash.valuesIn=function(object){return null==object?[]:baseValues(object,keysIn(object))},lodash.without=without,lodash.words=words,lodash.wrap=function(value,wrapper){return partial(castFunction(wrapper),value)},lodash.xor=xor,lodash.xorBy=xorBy,lodash.xorWith=xorWith,lodash.zip=zip,lodash.zipObject=function(props,values){return baseZipObject(props||[],values||[],assignValue)},lodash.zipObjectDeep=function(props,values){return baseZipObject(props||[],values||[],baseSet)},lodash.zipWith=zipWith,lodash.entries=toPairs,lodash.entriesIn=toPairsIn,lodash.extend=assignIn,lodash.extendWith=assignInWith,mixin(lodash,lodash),lodash.add=add,lodash.attempt=attempt,lodash.camelCase=camelCase,lodash.capitalize=capitalize,lodash.ceil=ceil,lodash.clamp=function(number,lower,upper){return upper===undefined&&(upper=lower,lower=undefined),upper!==undefined&&(upper=(upper=toNumber(upper))==upper?upper:0),lower!==undefined&&(lower=(lower=toNumber(lower))==lower?lower:0),baseClamp(toNumber(number),lower,upper)},lodash.clone=function(value){return baseClone(value,CLONE_SYMBOLS_FLAG)},lodash.cloneDeep=function(value){return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)},lodash.cloneDeepWith=function(value,customizer){return baseClone(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG,customizer="function"==typeof customizer?customizer:undefined)},lodash.cloneWith=function(value,customizer){return baseClone(value,CLONE_SYMBOLS_FLAG,customizer="function"==typeof customizer?customizer:undefined)},lodash.conformsTo=function(object,source){return null==source||baseConformsTo(object,source,keys(source))},lodash.deburr=deburr,lodash.defaultTo=function(value,defaultValue){return null==value||value!=value?defaultValue:value},lodash.divide=divide,lodash.endsWith=function(string,target,position){string=toString(string),target=baseToString(target);var length=string.length,end=position=position===undefined?length:baseClamp(toInteger(position),0,length);return(position-=target.length)>=0&&string.slice(position,end)==target},lodash.eq=eq,lodash.escape=function(string){return(string=toString(string))&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string},lodash.escapeRegExp=function(string){return(string=toString(string))&&reHasRegExpChar.test(string)?string.replace(reRegExpChar,"\\$&"):string},lodash.every=function(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=undefined),func(collection,getIteratee(predicate,3))},lodash.find=find,lodash.findIndex=findIndex,lodash.findKey=function(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwn)},lodash.findLast=findLast,lodash.findLastIndex=findLastIndex,lodash.findLastKey=function(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwnRight)},lodash.floor=floor,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=function(object,iteratee){return null==object?object:baseFor(object,getIteratee(iteratee,3),keysIn)},lodash.forInRight=function(object,iteratee){return null==object?object:baseForRight(object,getIteratee(iteratee,3),keysIn)},lodash.forOwn=function(object,iteratee){return object&&baseForOwn(object,getIteratee(iteratee,3))},lodash.forOwnRight=function(object,iteratee){return object&&baseForOwnRight(object,getIteratee(iteratee,3))},lodash.get=get,lodash.gt=gt,lodash.gte=gte,lodash.has=function(object,path){return null!=object&&hasPath(object,path,baseHas)},lodash.hasIn=hasIn,lodash.head=head,lodash.identity=identity,lodash.includes=function(collection,value,fromIndex,guard){collection=isArrayLike(collection)?collection:values(collection),fromIndex=fromIndex&&!guard?toInteger(fromIndex):0;var length=collection.length;return fromIndex<0&&(fromIndex=nativeMax(length+fromIndex,0)),isString(collection)?fromIndex<=length&&collection.indexOf(value,fromIndex)>-1:!!length&&baseIndexOf(collection,value,fromIndex)>-1},lodash.indexOf=function(array,value,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=null==fromIndex?0:toInteger(fromIndex);return index<0&&(index=nativeMax(length+index,0)),baseIndexOf(array,value,index)},lodash.inRange=function(number,start,end){return start=toFinite(start),end===undefined?(end=start,start=0):end=toFinite(end),function(number,start,end){return number>=nativeMin(start,end)&&number<nativeMax(start,end)}(number=toNumber(number),start,end)},lodash.invoke=invoke,lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isArrayBuffer=isArrayBuffer,lodash.isArrayLike=isArrayLike,lodash.isArrayLikeObject=isArrayLikeObject,lodash.isBoolean=function(value){return!0===value||!1===value||isObjectLike(value)&&baseGetTag(value)==boolTag},lodash.isBuffer=isBuffer,lodash.isDate=isDate,lodash.isElement=function(value){return isObjectLike(value)&&1===value.nodeType&&!isPlainObject(value)},lodash.isEmpty=function(value){if(null==value)return!0;if(isArrayLike(value)&&(isArray(value)||"string"==typeof value||"function"==typeof value.splice||isBuffer(value)||isTypedArray(value)||isArguments(value)))return!value.length;var tag=getTag(value);if(tag==mapTag||tag==setTag)return!value.size;if(isPrototype(value))return!baseKeys(value).length;for(var key in value)if(hasOwnProperty.call(value,key))return!1;return!0},lodash.isEqual=function(value,other){return baseIsEqual(value,other)},lodash.isEqualWith=function(value,other,customizer){var result=(customizer="function"==typeof customizer?customizer:undefined)?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,undefined,customizer):!!result},lodash.isError=isError,lodash.isFinite=function(value){return"number"==typeof value&&nativeIsFinite(value)},lodash.isFunction=isFunction,lodash.isInteger=isInteger,lodash.isLength=isLength,lodash.isMap=isMap,lodash.isMatch=function(object,source){return object===source||baseIsMatch(object,source,getMatchData(source))},lodash.isMatchWith=function(object,source,customizer){return customizer="function"==typeof customizer?customizer:undefined,baseIsMatch(object,source,getMatchData(source),customizer)},lodash.isNaN=function(value){return isNumber(value)&&value!=+value},lodash.isNative=function(value){if(isMaskable(value))throw new Error(CORE_ERROR_TEXT);return baseIsNative(value)},lodash.isNil=function(value){return null==value},lodash.isNull=function(value){return null===value},lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isObjectLike=isObjectLike,lodash.isPlainObject=isPlainObject,lodash.isRegExp=isRegExp,lodash.isSafeInteger=function(value){return isInteger(value)&&value>=-MAX_SAFE_INTEGER&&value<=MAX_SAFE_INTEGER},lodash.isSet=isSet,lodash.isString=isString,lodash.isSymbol=isSymbol,lodash.isTypedArray=isTypedArray,lodash.isUndefined=function(value){return value===undefined},lodash.isWeakMap=function(value){return isObjectLike(value)&&getTag(value)==weakMapTag},lodash.isWeakSet=function(value){return isObjectLike(value)&&baseGetTag(value)==weakSetTag},lodash.join=function(array,separator){return null==array?"":nativeJoin.call(array,separator)},lodash.kebabCase=kebabCase,lodash.last=last,lodash.lastIndexOf=function(array,value,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=length;return fromIndex!==undefined&&(index=(index=toInteger(fromIndex))<0?nativeMax(length+index,0):nativeMin(index,length-1)),value==value?function(array,value,fromIndex){for(var index=fromIndex+1;index--;)if(array[index]===value)return index;return index}(array,value,index):baseFindIndex(array,baseIsNaN,index,!0)},lodash.lowerCase=lowerCase,lodash.lowerFirst=lowerFirst,lodash.lt=lt,lodash.lte=lte,lodash.max=function(array){return array&&array.length?baseExtremum(array,identity,baseGt):undefined},lodash.maxBy=function(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseGt):undefined},lodash.mean=function(array){return baseMean(array,identity)},lodash.meanBy=function(array,iteratee){return baseMean(array,getIteratee(iteratee,2))},lodash.min=function(array){return array&&array.length?baseExtremum(array,identity,baseLt):undefined},lodash.minBy=function(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseLt):undefined},lodash.stubArray=stubArray,lodash.stubFalse=stubFalse,lodash.stubObject=function(){return{}},lodash.stubString=function(){return""},lodash.stubTrue=function(){return!0},lodash.multiply=multiply,lodash.nth=function(array,n){return array&&array.length?baseNth(array,toInteger(n)):undefined},lodash.noConflict=function(){return root._===this&&(root._=oldDash),this},lodash.noop=noop,lodash.now=now,lodash.pad=function(string,length,chars){string=toString(string);var strLength=(length=toInteger(length))?stringSize(string):0;if(!length||strLength>=length)return string;var mid=(length-strLength)/2;return createPadding(nativeFloor(mid),chars)+string+createPadding(nativeCeil(mid),chars)},lodash.padEnd=function(string,length,chars){string=toString(string);var strLength=(length=toInteger(length))?stringSize(string):0;return length&&strLength<length?string+createPadding(length-strLength,chars):string},lodash.padStart=function(string,length,chars){string=toString(string);var strLength=(length=toInteger(length))?stringSize(string):0;return length&&strLength<length?createPadding(length-strLength,chars)+string:string},lodash.parseInt=function(string,radix,guard){return guard||null==radix?radix=0:radix&&(radix=+radix),nativeParseInt(toString(string).replace(reTrimStart,""),radix||0)},lodash.random=function(lower,upper,floating){if(floating&&"boolean"!=typeof floating&&isIterateeCall(lower,upper,floating)&&(upper=floating=undefined),floating===undefined&&("boolean"==typeof upper?(floating=upper,upper=undefined):"boolean"==typeof lower&&(floating=lower,lower=undefined)),lower===undefined&&upper===undefined?(lower=0,upper=1):(lower=toFinite(lower),upper===undefined?(upper=lower,lower=0):upper=toFinite(upper)),lower>upper){var temp=lower;lower=upper,upper=temp}if(floating||lower%1||upper%1){var rand=nativeRandom();return nativeMin(lower+rand*(upper-lower+freeParseFloat("1e-"+((rand+"").length-1))),upper)}return baseRandom(lower,upper)},lodash.reduce=function(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEach)},lodash.reduceRight=function(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduceRight:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEachRight)},lodash.repeat=function(string,n,guard){return n=(guard?isIterateeCall(string,n,guard):n===undefined)?1:toInteger(n),baseRepeat(toString(string),n)},lodash.replace=function(){var args=arguments,string=toString(args[0]);return args.length<3?string:string.replace(args[1],args[2])},lodash.result=function(object,path,defaultValue){var index=-1,length=(path=castPath(path,object)).length;for(length||(length=1,object=undefined);++index<length;){var value=null==object?undefined:object[toKey(path[index])];value===undefined&&(index=length,value=defaultValue),object=isFunction(value)?value.call(object):value}return object},lodash.round=round,lodash.runInContext=runInContext,lodash.sample=function(collection){return(isArray(collection)?arraySample:baseSample)(collection)},lodash.size=function(collection){if(null==collection)return 0;if(isArrayLike(collection))return isString(collection)?stringSize(collection):collection.length;var tag=getTag(collection);return tag==mapTag||tag==setTag?collection.size:baseKeys(collection).length},lodash.snakeCase=snakeCase,lodash.some=function(collection,predicate,guard){var func=isArray(collection)?arraySome:baseSome;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=undefined),func(collection,getIteratee(predicate,3))},lodash.sortedIndex=function(array,value){return baseSortedIndex(array,value)},lodash.sortedIndexBy=function(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2))},lodash.sortedIndexOf=function(array,value){var length=null==array?0:array.length;if(length){var index=baseSortedIndex(array,value);if(index<length&&eq(array[index],value))return index}return-1},lodash.sortedLastIndex=function(array,value){return baseSortedIndex(array,value,!0)},lodash.sortedLastIndexBy=function(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2),!0)},lodash.sortedLastIndexOf=function(array,value){if(null!=array&&array.length){var index=baseSortedIndex(array,value,!0)-1;if(eq(array[index],value))return index}return-1},lodash.startCase=startCase,lodash.startsWith=function(string,target,position){return string=toString(string),position=null==position?0:baseClamp(toInteger(position),0,string.length),target=baseToString(target),string.slice(position,position+target.length)==target},lodash.subtract=subtract,lodash.sum=function(array){return array&&array.length?baseSum(array,identity):0},lodash.sumBy=function(array,iteratee){return array&&array.length?baseSum(array,getIteratee(iteratee,2)):0},lodash.template=function(string,options,guard){var settings=lodash.templateSettings;guard&&isIterateeCall(string,options,guard)&&(options=undefined),string=toString(string),options=assignInWith({},options,settings,customDefaultsAssignIn);var isEscaping,isEvaluating,imports=assignInWith({},options.imports,settings.imports,customDefaultsAssignIn),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys),index=0,interpolate=options.interpolate||reNoMatch,source="__p += '",reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g"),sourceURL="//# sourceURL="+(hasOwnProperty.call(options,"sourceURL")?(options.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){return interpolateValue||(interpolateValue=esTemplateValue),source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar),escapeValue&&(isEscaping=!0,source+="' +\n__e("+escapeValue+") +\n'"),evaluateValue&&(isEvaluating=!0,source+="';\n"+evaluateValue+";\n__p += '"),interpolateValue&&(source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"),index=offset+match.length,match}),source+="';\n";var variable=hasOwnProperty.call(options,"variable")&&options.variable;variable||(source="with (obj) {\n"+source+"\n}\n"),source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(isEscaping?", __e = _.escape":"")+(isEvaluating?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var result=attempt(function(){return Function(importsKeys,sourceURL+"return "+source).apply(undefined,importsValues)});if(result.source=source,isError(result))throw result;return result},lodash.times=function(n,iteratee){if((n=toInteger(n))<1||n>MAX_SAFE_INTEGER)return[];var index=MAX_ARRAY_LENGTH,length=nativeMin(n,MAX_ARRAY_LENGTH);iteratee=getIteratee(iteratee),n-=MAX_ARRAY_LENGTH;for(var result=baseTimes(length,iteratee);++index<n;)iteratee(index);return result},lodash.toFinite=toFinite,lodash.toInteger=toInteger,lodash.toLength=toLength,lodash.toLower=function(value){return toString(value).toLowerCase()},lodash.toNumber=toNumber,lodash.toSafeInteger=function(value){return value?baseClamp(toInteger(value),-MAX_SAFE_INTEGER,MAX_SAFE_INTEGER):0===value?value:0},lodash.toString=toString,lodash.toUpper=function(value){return toString(value).toUpperCase()},lodash.trim=function(string,chars,guard){if((string=toString(string))&&(guard||chars===undefined))return string.replace(reTrim,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars);return castSlice(strSymbols,charsStartIndex(strSymbols,chrSymbols),charsEndIndex(strSymbols,chrSymbols)+1).join("")},lodash.trimEnd=function(string,chars,guard){if((string=toString(string))&&(guard||chars===undefined))return string.replace(reTrimEnd,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string);return castSlice(strSymbols,0,charsEndIndex(strSymbols,stringToArray(chars))+1).join("")},lodash.trimStart=function(string,chars,guard){if((string=toString(string))&&(guard||chars===undefined))return string.replace(reTrimStart,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string);return castSlice(strSymbols,charsStartIndex(strSymbols,stringToArray(chars))).join("")},lodash.truncate=function(string,options){var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(isObject(options)){var separator="separator"in options?options.separator:separator;length="length"in options?toInteger(options.length):length,omission="omission"in options?baseToString(options.omission):omission}var strLength=(string=toString(string)).length;if(hasUnicode(string)){var strSymbols=stringToArray(string);strLength=strSymbols.length}if(length>=strLength)return string;var end=length-stringSize(omission);if(end<1)return omission;var result=strSymbols?castSlice(strSymbols,0,end).join(""):string.slice(0,end);if(separator===undefined)return result+omission;if(strSymbols&&(end+=result.length-end),isRegExp(separator)){if(string.slice(end).search(separator)){var match,substring=result;for(separator.global||(separator=RegExp(separator.source,toString(reFlags.exec(separator))+"g")),separator.lastIndex=0;match=separator.exec(substring);)var newEnd=match.index;result=result.slice(0,newEnd===undefined?end:newEnd)}}else if(string.indexOf(baseToString(separator),end)!=end){var index=result.lastIndexOf(separator);index>-1&&(result=result.slice(0,index))}return result+omission},lodash.unescape=function(string){return(string=toString(string))&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string},lodash.uniqueId=function(prefix){var id=++idCounter;return toString(prefix)+id},lodash.upperCase=upperCase,lodash.upperFirst=upperFirst,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.first=head,mixin(lodash,(source={},baseForOwn(lodash,function(func,methodName){hasOwnProperty.call(lodash.prototype,methodName)||(source[methodName]=func)}),source),{chain:!1}),lodash.VERSION="4.17.15",arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(methodName){lodash[methodName].placeholder=lodash}),arrayEach(["drop","take"],function(methodName,index){LazyWrapper.prototype[methodName]=function(n){n=n===undefined?1:nativeMax(toInteger(n),0);var result=this.__filtered__&&!index?new LazyWrapper(this):this.clone();return result.__filtered__?result.__takeCount__=nativeMin(n,result.__takeCount__):result.__views__.push({size:nativeMin(n,MAX_ARRAY_LENGTH),type:methodName+(result.__dir__<0?"Right":"")}),result},LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()}}),arrayEach(["filter","map","takeWhile"],function(methodName,index){var type=index+1,isFilter=type==LAZY_FILTER_FLAG||3==type;LazyWrapper.prototype[methodName]=function(iteratee){var result=this.clone();return result.__iteratees__.push({iteratee:getIteratee(iteratee,3),type:type}),result.__filtered__=result.__filtered__||isFilter,result}}),arrayEach(["head","last"],function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}}),arrayEach(["initial","tail"],function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}}),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.find=function(predicate){return this.filter(predicate).head()},LazyWrapper.prototype.findLast=function(predicate){return this.reverse().find(predicate)},LazyWrapper.prototype.invokeMap=baseRest(function(path,args){return"function"==typeof path?new LazyWrapper(this):this.map(function(value){return baseInvoke(value,path,args)})}),LazyWrapper.prototype.reject=function(predicate){return this.filter(negate(getIteratee(predicate)))},LazyWrapper.prototype.slice=function(start,end){start=toInteger(start);var result=this;return result.__filtered__&&(start>0||end<0)?new LazyWrapper(result):(start<0?result=result.takeRight(-start):start&&(result=result.drop(start)),end!==undefined&&(result=(end=toInteger(end))<0?result.dropRight(-end):result.take(end-start)),result)},LazyWrapper.prototype.takeRightWhile=function(predicate){return this.reverse().takeWhile(predicate).reverse()},LazyWrapper.prototype.toArray=function(){return this.take(MAX_ARRAY_LENGTH)},baseForOwn(LazyWrapper.prototype,function(func,methodName){var checkIteratee=/^(?:filter|find|map|reject)|While$/.test(methodName),isTaker=/^(?:head|last)$/.test(methodName),lodashFunc=lodash[isTaker?"take"+("last"==methodName?"Right":""):methodName],retUnwrapped=isTaker||/^find/.test(methodName);lodashFunc&&(lodash.prototype[methodName]=function(){var value=this.__wrapped__,args=isTaker?[1]:arguments,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value),interceptor=function(value){var result=lodashFunc.apply(lodash,arrayPush([value],args));return isTaker&&chainAll?result[0]:result};useLazy&&checkIteratee&&"function"==typeof iteratee&&1!=iteratee.length&&(isLazy=useLazy=!1);var chainAll=this.__chain__,isHybrid=!!this.__actions__.length,isUnwrapped=retUnwrapped&&!chainAll,onlyLazy=isLazy&&!isHybrid;if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);return result.__actions__.push({func:thru,args:[interceptor],thisArg:undefined}),new LodashWrapper(result,chainAll)}return isUnwrapped&&onlyLazy?func.apply(this,args):(result=this.thru(interceptor),isUnwrapped?isTaker?result.value()[0]:result.value():result)})}),arrayEach(["pop","push","shift","sort","splice","unshift"],function(methodName){var func=arrayProto[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:pop|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;if(retUnwrapped&&!this.__chain__){var value=this.value();return func.apply(isArray(value)?value:[],args)}return this[chainName](function(value){return func.apply(isArray(value)?value:[],args)})}}),baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name+"";hasOwnProperty.call(realNames,key)||(realNames[key]=[]),realNames[key].push({name:methodName,func:lodashFunc})}}),realNames[createHybrid(undefined,WRAP_BIND_KEY_FLAG).name]=[{name:"wrapper",func:undefined}],LazyWrapper.prototype.clone=function(){var result=new LazyWrapper(this.__wrapped__);return result.__actions__=copyArray(this.__actions__),result.__dir__=this.__dir__,result.__filtered__=this.__filtered__,result.__iteratees__=copyArray(this.__iteratees__),result.__takeCount__=this.__takeCount__,result.__views__=copyArray(this.__views__),result},LazyWrapper.prototype.reverse=function(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1,result.__filtered__=!0}else(result=this.clone()).__dir__*=-1;return result},LazyWrapper.prototype.value=function(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=dir<0,arrLength=isArr?array.length:0,view=function(start,end,transforms){for(var index=-1,length=transforms.length;++index<length;){var data=transforms[index],size=data.size;switch(data.type){case"drop":start+=size;break;case"dropRight":end-=size;break;case"take":end=nativeMin(end,start+size);break;case"takeRight":start=nativeMax(start,end-size)}}return{start:start,end:end}}(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||!isRight&&arrLength==length&&takeCount==length)return baseWrapperValue(array,this.__actions__);var result=[];outer:for(;length--&&resIndex<takeCount;){for(var iterIndex=-1,value=array[index+=dir];++iterIndex<iterLength;){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(type==LAZY_MAP_FLAG)value=computed;else if(!computed){if(type==LAZY_FILTER_FLAG)continue outer;break outer}}result[resIndex++]=value}return result},lodash.prototype.at=wrapperAt,lodash.prototype.chain=function(){return chain(this)},lodash.prototype.commit=function(){return new LodashWrapper(this.value(),this.__chain__)},lodash.prototype.next=function(){this.__values__===undefined&&(this.__values__=toArray(this.value()));var done=this.__index__>=this.__values__.length;return{done:done,value:done?undefined:this.__values__[this.__index__++]}},lodash.prototype.plant=function(value){for(var result,parent=this;parent instanceof baseLodash;){var clone=wrapperClone(parent);clone.__index__=0,clone.__values__=undefined,result?previous.__wrapped__=clone:result=clone;var previous=clone;parent=parent.__wrapped__}return previous.__wrapped__=value,result},lodash.prototype.reverse=function(){var value=this.__wrapped__;if(value instanceof LazyWrapper){var wrapped=value;return this.__actions__.length&&(wrapped=new LazyWrapper(this)),(wrapped=wrapped.reverse()).__actions__.push({func:thru,args:[reverse],thisArg:undefined}),new LodashWrapper(wrapped,this.__chain__)}return this.thru(reverse)},lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=function(){return baseWrapperValue(this.__wrapped__,this.__actions__)},lodash.prototype.first=lodash.prototype.head,symIterator&&(lodash.prototype[symIterator]=function(){return this}),lodash}();root._=_,(__WEBPACK_AMD_DEFINE_RESULT__=function(){return _}.call(exports,__webpack_require__,exports,module))===undefined||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}).call(this)}).call(this,__webpack_require__(56)(module))},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.QueryDefinition=exports.MutationTypes=exports.Mutations=exports.getDoctypeFromOperation=exports.uploadFile=exports.removeReferencedBy=exports.addReferencedBy=exports.removeReferencesTo=exports.addReferencesTo=exports.deleteDocument=exports.updateDocument=exports.createDocument=exports.Q=void 0;var _extends3=_interopRequireDefault(__webpack_require__(5)),_classCallCheck3=_interopRequireDefault(__webpack_require__(1)),_createClass3=_interopRequireDefault(__webpack_require__(2));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var isString=__webpack_require__(204),QueryDefinition=function(){function QueryDefinition(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},doctype=_ref.doctype,id=_ref.id,ids=_ref.ids,selector=_ref.selector,fields=_ref.fields,indexedFields=_ref.indexedFields,sort=_ref.sort,includes=_ref.includes,referenced=_ref.referenced,limit=_ref.limit,skip=_ref.skip,cursor=_ref.cursor;(0,_classCallCheck3.default)(this,QueryDefinition),this.doctype=doctype,this.id=id,this.ids=ids,this.selector=selector,this.fields=fields,this.indexedFields=indexedFields,this.sort=sort,this.includes=includes,this.referenced=referenced,this.limit=limit,this.skip=skip,this.cursor=cursor}return(0,_createClass3.default)(QueryDefinition,[{key:"getById",value:function(id){return new QueryDefinition((0,_extends3.default)({},this.toDefinition(),{id:id}))}},{key:"getByIds",value:function(ids){return new QueryDefinition((0,_extends3.default)({},this.toDefinition(),{ids:ids}))}},{key:"where",value:function(selector){return new QueryDefinition((0,_extends3.default)({},this.toDefinition(),{selector:selector}))}},{key:"select",value:function(fields){return new QueryDefinition((0,_extends3.default)({},this.toDefinition(),{fields:fields}))}},{key:"indexFields",value:function(indexedFields){return new QueryDefinition((0,_extends3.default)({},this.toDefinition(),{indexedFields:indexedFields}))}},{key:"sortBy",value:function(sort){if(isString(sort))throw new Error('Invalid sort, should be an object (`{ label: "desc"}`), you passed a string.');return new QueryDefinition((0,_extends3.default)({},this.toDefinition(),{sort:sort}))}},{key:"include",value:function(includes){if(!Array.isArray(includes))throw new Error("include() takes an array of relationship names");return new QueryDefinition((0,_extends3.default)({},this.toDefinition(),{includes:includes}))}},{key:"limitBy",value:function(limit){return new QueryDefinition((0,_extends3.default)({},this.toDefinition(),{limit:limit}))}},{key:"UNSAFE_noLimit",value:function(){return new QueryDefinition((0,_extends3.default)({},this.toDefinition(),{limit:null}))}},{key:"offset",value:function(skip){return new QueryDefinition((0,_extends3.default)({},this.toDefinition(),{skip:skip}))}},{key:"offsetCursor",value:function(cursor){return new QueryDefinition((0,_extends3.default)({},this.toDefinition(),{cursor:cursor}))}},{key:"referencedBy",value:function(document){return new QueryDefinition((0,_extends3.default)({},this.toDefinition(),{referenced:document}))}},{key:"toDefinition",value:function(){return{doctype:this.doctype,id:this.id,ids:this.ids,selector:this.selector,fields:this.fields,indexedFields:this.indexedFields,sort:this.sort,includes:this.includes,referenced:this.referenced,limit:this.limit,skip:this.skip,cursor:this.cursor}}}]),QueryDefinition}(),createDocument=(exports.Q=function(doctype){return new QueryDefinition({doctype:doctype})},exports.createDocument=function(document){return{mutationType:MutationTypes.CREATE_DOCUMENT,document:document}}),updateDocument=exports.updateDocument=function(document){return{mutationType:MutationTypes.UPDATE_DOCUMENT,document:document}},deleteDocument=exports.deleteDocument=function(document){return{mutationType:MutationTypes.DELETE_DOCUMENT,document:document}},addReferencesTo=exports.addReferencesTo=function(document,referencedDocuments){return{mutationType:MutationTypes.ADD_REFERENCES_TO,referencedDocuments:referencedDocuments,document:document}},removeReferencesTo=exports.removeReferencesTo=function(document,referencedDocuments){return{mutationType:MutationTypes.REMOVE_REFERENCES_TO,referencedDocuments:referencedDocuments,document:document}},addReferencedBy=exports.addReferencedBy=function(document,referencedDocuments){return{mutationType:MutationTypes.ADD_REFERENCED_BY,referencedDocuments:referencedDocuments,document:document}},removeReferencedBy=exports.removeReferencedBy=function(document,referencedDocuments){return{mutationType:MutationTypes.REMOVE_REFERENCED_BY,referencedDocuments:referencedDocuments,document:document}},uploadFile=exports.uploadFile=function(file,dirPath){return{mutationType:MutationTypes.UPLOAD_FILE,file:file,dirPath:dirPath}},MutationTypes=(exports.getDoctypeFromOperation=function(operation){if(!operation.mutationType)return operation.doctype;var type=operation.mutationType;switch(type){case"CREATE_DOCUMENT":case"UPDATE_DOCUMENT":case"DELETE_DOCUMENT":return operation.document._type;case"ADD_REFERENCES_TO":case"UPLOAD_FILE":throw new Error("Not implemented");default:throw new Error("Unknown mutationType "+type)}},exports.Mutations={createDocument:createDocument,updateDocument:updateDocument,deleteDocument:deleteDocument,addReferencesTo:addReferencesTo,removeReferencesTo:removeReferencesTo,addReferencedBy:addReferencedBy,removeReferencedBy:removeReferencedBy,uploadFile:uploadFile},exports.MutationTypes={CREATE_DOCUMENT:"CREATE_DOCUMENT",UPDATE_DOCUMENT:"UPDATE_DOCUMENT",DELETE_DOCUMENT:"DELETE_DOCUMENT",ADD_REFERENCES_TO:"ADD_REFERENCES_TO",REMOVE_REFERENCES_TO:"REMOVE_REFERENCES_TO",ADD_REFERENCED_BY:"ADD_REFERENCED_BY",REMOVE_REFERENCED_BY:"REMOVE_REFERENCED_BY",UPLOAD_FILE:"UPLOAD_FILE"});exports.QueryDefinition=QueryDefinition},function(module,exports){module.exports=function(func){return function(value){return func(value)}}},function(module,exports){module.exports=function(pairs){for(var index=-1,length=null==pairs?0:pairs.length,result={};++index<length;){var pair=pairs[index];result[pair[0]]=pair[1]}return result}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(77),isObjectLike=__webpack_require__(32),symbolTag="[object Symbol]";module.exports=function(value){return"symbol"==typeof value||isObjectLike(value)&&baseGetTag(value)==symbolTag}},function(module,exports,__webpack_require__){var isSymbol=__webpack_require__(93),INFINITY=1/0;module.exports=function(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}},function(module,exports){module.exports=require("https")},function(module,exports){module.exports=function(value){return value}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _iterator2=_interopRequireDefault(__webpack_require__(650)),_symbol2=_interopRequireDefault(__webpack_require__(654)),_typeof="function"==typeof _symbol2.default&&"symbol"==typeof _iterator2.default?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof _symbol2.default&&obj.constructor===_symbol2.default&&obj!==_symbol2.default.prototype?"symbol":typeof obj};function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default="function"==typeof _symbol2.default&&"symbol"===_typeof(_iterator2.default)?function(obj){return void 0===obj?"undefined":_typeof(obj)}:function(obj){return obj&&"function"==typeof _symbol2.default&&obj.constructor===_symbol2.default&&obj!==_symbol2.default.prototype?"symbol":void 0===obj?"undefined":_typeof(obj)}},function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(36),baseClone=__webpack_require__(404),baseUnset=__webpack_require__(613),castPath=__webpack_require__(103),copyObject=__webpack_require__(80),customOmitClone=__webpack_require__(615),flatRest=__webpack_require__(181),getAllKeysIn=__webpack_require__(221),omit=flatRest(function(object,paths){var result={};if(null==object)return result;var isDeep=!1;paths=arrayMap(paths,function(path){return path=castPath(path,object),isDeep||(isDeep=path.length>1),path}),copyObject(object,getAllKeysIn(object),result),isDeep&&(result=baseClone(result,7,customOmitClone));for(var length=paths.length;length--;)baseUnset(result,paths[length]);return result});module.exports=omit},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"getParent",function(){return getParent}),__webpack_require__.d(__webpack_exports__,"getTransactionsByCategory",function(){return getTransactionsByCategory}),__webpack_require__.d(__webpack_exports__,"getCategoryId",function(){return getCategoryId}),__webpack_require__.d(__webpack_exports__,"getParentCategory",function(){return getParentCategory}),__webpack_require__.d(__webpack_exports__,"isAwaitingCategorization",function(){return isAwaitingCategorization}),__webpack_require__.d(__webpack_exports__,"isHealthExpense",function(){return isHealthExpense}),__webpack_require__.d(__webpack_exports__,"isHealth",function(){return isHealth}),__webpack_require__.d(__webpack_exports__,"getTransactionsTotal",function(){return getTransactionsTotal}),__webpack_require__.d(__webpack_exports__,"getGlobalCurrency",function(){return getGlobalCurrency});var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14),_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__),cozy_flags__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(76),cozy_flags__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(cozy_flags__WEBPACK_IMPORTED_MODULE_1__),ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(50),ducks_categories_tree__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(30),cozy_doctypes__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(42);__webpack_require__.d(__webpack_exports__,"getCategoryIdFromName",function(){return ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_2__.c});var getParent=ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_2__.b.get.bind(ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_2__.b),makeCategory=function(parent){return{id:parent.id,name:parent.name,color:parent.color,transactions:[],subcategories:{}}},makeSubcategory=function(catId){return{id:catId,name:ducks_categories_tree__WEBPACK_IMPORTED_MODULE_3__[catId],transactions:[]}},getTransactionsByCategory=function(transactions){for(var categories={},_i=0,_Object$keys=Object.keys(ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_2__.a);_i<_Object$keys.length;_i++){var catName=_Object$keys[_i],category=_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({name:catName},ducks_categories_categoriesMap__WEBPACK_IMPORTED_MODULE_2__.a[catName]);categories[catName]=makeCategory(category)}var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=transactions[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var transaction=_step.value;if(!isAwaitingCategorization(transaction)){var catId=getCategoryId(transaction),parent=getParent(catId)||getParent("0");categories.hasOwnProperty(parent.name)||(categories[parent.name]=makeCategory(parent));var _category=categories[parent.name];_category.subcategories.hasOwnProperty(catId)||(_category.subcategories[catId]=makeSubcategory(catId));var subcategory=_category.subcategories[catId];_category.transactions.push(transaction),subcategory.transactions.push(transaction)}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return categories},getCategoryId=function(transaction){var localModelOverride=cozy_flags__WEBPACK_IMPORTED_MODULE_1___default()("local-model-override");return cozy_doctypes__WEBPACK_IMPORTED_MODULE_4__.BankTransaction.getCategoryId(transaction,{localModelOverride:localModelOverride})},getParentCategory=function(transaction){return getParent(getCategoryId(transaction))},isAwaitingCategorization=function(transaction){return null===getCategoryId(transaction)},isHealthExpense=function(transaction){return"400610"===getCategoryId(transaction)&&transaction.amount<0},isHealth=function(transaction){var categoryId=getCategoryId(transaction);return"400600"===categoryId||"400610"===categoryId||"400620"===categoryId},subCategorySort=function(a,b){return b.percentage!==a.percentage?b.percentage-a.percentage:a.amount-b.amount},getTransactionsTotal=function(categories){var transactionsTotal=0;if(0!==categories.length){var absoluteTransactionsTotal=categories.reduce(function(total,category){return total+Math.abs(category.amount)},0),_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=categories[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var category=_step2.value;category.percentage=Math.round(Math.abs(category.amount)/absoluteTransactionsTotal*100);var absoluteSubcategoriesTotal=category.subcategories.reduce(function(total,category){return total+Math.abs(category.amount)},0),_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=category.subcategories[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var subcategory=_step3.value;subcategory.percentage=0===absoluteSubcategoriesTotal?100:Math.round(Math.abs(subcategory.amount)/absoluteSubcategoriesTotal*100)}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}category.subcategories=category.subcategories.sort(subCategorySort),transactionsTotal+=category.amount}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}return transactionsTotal},getGlobalCurrency=function(categories){var currency;return categories.length>0&&(currency=categories[0].currency),currency||(currency=""),currency}},function(module,exports,__webpack_require__){var arrayWithoutHoles=__webpack_require__(867),iterableToArray=__webpack_require__(868),nonIterableSpread=__webpack_require__(869);module.exports=function(arr){return arrayWithoutHoles(arr)||iterableToArray(arr)||nonIterableSpread()}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(33).Symbol;module.exports=Symbol},function(module,exports,__webpack_require__){var defineProperty=__webpack_require__(311);module.exports=function(object,key,value){"__proto__"==key&&defineProperty?defineProperty(object,key,{configurable:!0,enumerable:!0,value:value,writable:!0}):object[key]=value}},function(module,exports,__webpack_require__){var isArray=__webpack_require__(12),isKey=__webpack_require__(215),stringToPath=__webpack_require__(464),toString=__webpack_require__(81);module.exports=function(value,object){return isArray(value)?value:isKey(value,object)?[value]:stringToPath(toString(value))}},function(module,exports){module.exports={}},function(module,exports,__webpack_require__){var $keys=__webpack_require__(349),enumBugKeys=__webpack_require__(233);module.exports=Object.keys||function(O){return $keys(O,enumBugKeys)}},function(module,exports,__webpack_require__){__webpack_require__(652);for(var global=__webpack_require__(24),hide=__webpack_require__(70),Iterators=__webpack_require__(104),TO_STRING_TAG=__webpack_require__(25)("toStringTag"),DOMIterables="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),i=0;i<DOMIterables.length;i++){var NAME=DOMIterables[i],Collection=global[NAME],proto=Collection&&Collection.prototype;proto&&!proto[TO_STRING_TAG]&&hide(proto,TO_STRING_TAG,NAME),Iterators[NAME]=Iterators.Array}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck3=_interopRequireDefault(__webpack_require__(1)),_createClass3=_interopRequireDefault(__webpack_require__(2));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Association=function(){function Association(target,name,doctype,options){(0,_classCallCheck3.default)(this,Association);var dispatch=options.dispatch,get=options.get,query=options.query,mutate=options.mutate,save=options.save;this.target=target,this.name=name,this.doctype=doctype,this.get=get,this.query=query,this.mutate=mutate,this.save=save,this.dispatch=dispatch}return(0,_createClass3.default)(Association,[{key:"raw",get:function(){throw new Error("A relationship must define its raw getter")}},{key:"data",get:function(){throw new Error("A relationship must define its data getter")}}],[{key:"query",value:function(){throw new Error("A custom relationship must define its query() function")}}]),Association}();exports.default=Association},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _defineProperties2=_interopRequireDefault(__webpack_require__(731)),_freeze2=_interopRequireDefault(__webpack_require__(734));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=function(strings,raw){return(0,_freeze2.default)((0,_defineProperties2.default)(strings,{raw:{value:(0,_freeze2.default)(raw)}}))}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.forceFileDownload=exports.slugify=exports.sleep=exports.attempt=exports.uri=void 0;var obj,_promise=__webpack_require__(73),_promise2=(obj=_promise)&&obj.__esModule?obj:{default:obj};exports.uri=function(strings){for(var _len=arguments.length,values=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)values[_key-1]=arguments[_key];for(var parts=[strings[0]],i=0;i<values.length;i++)parts.push(encodeURIComponent(values[i])+strings[i+1]);return parts.join("")},exports.attempt=function(promise){return promise.then(function(){return!0}).catch(function(){return!1})},exports.sleep=function(time,args){return new _promise2.default(function(resolve){setTimeout(resolve,time,args)})},exports.slugify=function(text){return text.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},exports.forceFileDownload=function(href,filename){var element=document.createElement("a");element.setAttribute("href",href),element.setAttribute("download",filename),element.style.display="none",document.body.appendChild(element),element.click(),document.body.removeChild(element)}},function(module,exports,__webpack_require__){var DataView=__webpack_require__(558),Map=__webpack_require__(210),Promise=__webpack_require__(559),Set=__webpack_require__(332),WeakMap=__webpack_require__(317),baseGetTag=__webpack_require__(77),toSource=__webpack_require__(312),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),getTag=baseGetTag;(DataView&&"[object DataView]"!=getTag(new DataView(new ArrayBuffer(1)))||Map&&"[object Map]"!=getTag(new Map)||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&"[object Set]"!=getTag(new Set)||WeakMap&&"[object WeakMap]"!=getTag(new WeakMap))&&(getTag=function(value){var result=baseGetTag(value),Ctor="[object Object]"==result?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return"[object DataView]";case mapCtorString:return"[object Map]";case promiseCtorString:return"[object Promise]";case setCtorString:return"[object Set]";case weakMapCtorString:return"[object WeakMap]"}return result}),module.exports=getTag},function(module,exports,__webpack_require__){var baseIteratee=__webpack_require__(19),baseSum=__webpack_require__(620);module.exports=function(array,iteratee){return array&&array.length?baseSum(array,baseIteratee(iteratee,2)):0}},function(module,exports,__webpack_require__){__webpack_require__(18);var util=__webpack_require__(8);function FingerprintFormatError(fp,format){Error.captureStackTrace&&Error.captureStackTrace(this,FingerprintFormatError),this.name="FingerprintFormatError",this.fingerprint=fp,this.format=format,this.message="Fingerprint format is not supported, or is invalid: ",void 0!==fp&&(this.message+=" fingerprint = "+fp),void 0!==format&&(this.message+=" format = "+format)}function InvalidAlgorithmError(alg){Error.captureStackTrace&&Error.captureStackTrace(this,InvalidAlgorithmError),this.name="InvalidAlgorithmError",this.algorithm=alg,this.message='Algorithm "'+alg+'" is not supported'}function KeyParseError(name,format,innerErr){Error.captureStackTrace&&Error.captureStackTrace(this,KeyParseError),this.name="KeyParseError",this.format=format,this.keyName=name,this.innerErr=innerErr,this.message="Failed to parse "+name+" as a valid "+format+" format key: "+innerErr.message}function SignatureParseError(type,format,innerErr){Error.captureStackTrace&&Error.captureStackTrace(this,SignatureParseError),this.name="SignatureParseError",this.type=type,this.format=format,this.innerErr=innerErr,this.message="Failed to parse the given data as a "+type+" signature in "+format+" format: "+innerErr.message}function CertificateParseError(name,format,innerErr){Error.captureStackTrace&&Error.captureStackTrace(this,CertificateParseError),this.name="CertificateParseError",this.format=format,this.certName=name,this.innerErr=innerErr,this.message="Failed to parse "+name+" as a valid "+format+" format certificate: "+innerErr.message}function KeyEncryptedError(name,format){Error.captureStackTrace&&Error.captureStackTrace(this,KeyEncryptedError),this.name="KeyEncryptedError",this.format=format,this.keyName=name,this.message="The "+format+" format key "+name+" is encrypted (password-protected), and no passphrase was provided in `options`"}util.inherits(FingerprintFormatError,Error),util.inherits(InvalidAlgorithmError,Error),util.inherits(KeyParseError,Error),util.inherits(SignatureParseError,Error),util.inherits(CertificateParseError,Error),util.inherits(KeyEncryptedError,Error),module.exports={FingerprintFormatError:FingerprintFormatError,InvalidAlgorithmError:InvalidAlgorithmError,KeyParseError:KeyParseError,SignatureParseError:SignatureParseError,KeyEncryptedError:KeyEncryptedError,CertificateParseError:CertificateParseError}},function(module,exports,__webpack_require__){"use strict";var NS=exports.NAMESPACES={HTML:"http://www.w3.org/1999/xhtml",MATHML:"http://www.w3.org/1998/Math/MathML",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"};exports.ATTRS={TYPE:"type",ACTION:"action",ENCODING:"encoding",PROMPT:"prompt",NAME:"name",COLOR:"color",FACE:"face",SIZE:"size"},exports.DOCUMENT_MODE={NO_QUIRKS:"no-quirks",QUIRKS:"quirks",LIMITED_QUIRKS:"limited-quirks"};var $=exports.TAG_NAMES={A:"a",ADDRESS:"address",ANNOTATION_XML:"annotation-xml",APPLET:"applet",AREA:"area",ARTICLE:"article",ASIDE:"aside",B:"b",BASE:"base",BASEFONT:"basefont",BGSOUND:"bgsound",BIG:"big",BLOCKQUOTE:"blockquote",BODY:"body",BR:"br",BUTTON:"button",CAPTION:"caption",CENTER:"center",CODE:"code",COL:"col",COLGROUP:"colgroup",DD:"dd",DESC:"desc",DETAILS:"details",DIALOG:"dialog",DIR:"dir",DIV:"div",DL:"dl",DT:"dt",EM:"em",EMBED:"embed",FIELDSET:"fieldset",FIGCAPTION:"figcaption",FIGURE:"figure",FONT:"font",FOOTER:"footer",FOREIGN_OBJECT:"foreignObject",FORM:"form",FRAME:"frame",FRAMESET:"frameset",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",HEAD:"head",HEADER:"header",HGROUP:"hgroup",HR:"hr",HTML:"html",I:"i",IMG:"img",IMAGE:"image",INPUT:"input",IFRAME:"iframe",KEYGEN:"keygen",LABEL:"label",LI:"li",LINK:"link",LISTING:"listing",MAIN:"main",MALIGNMARK:"malignmark",MARQUEE:"marquee",MATH:"math",MENU:"menu",MENUITEM:"menuitem",META:"meta",MGLYPH:"mglyph",MI:"mi",MO:"mo",MN:"mn",MS:"ms",MTEXT:"mtext",NAV:"nav",NOBR:"nobr",NOFRAMES:"noframes",NOEMBED:"noembed",NOSCRIPT:"noscript",OBJECT:"object",OL:"ol",OPTGROUP:"optgroup",OPTION:"option",P:"p",PARAM:"param",PLAINTEXT:"plaintext",PRE:"pre",RB:"rb",RP:"rp",RT:"rt",RTC:"rtc",RUBY:"ruby",S:"s",SCRIPT:"script",SECTION:"section",SELECT:"select",SOURCE:"source",SMALL:"small",SPAN:"span",STRIKE:"strike",STRONG:"strong",STYLE:"style",SUB:"sub",SUMMARY:"summary",SUP:"sup",TABLE:"table",TBODY:"tbody",TEMPLATE:"template",TEXTAREA:"textarea",TFOOT:"tfoot",TD:"td",TH:"th",THEAD:"thead",TITLE:"title",TR:"tr",TRACK:"track",TT:"tt",U:"u",UL:"ul",SVG:"svg",VAR:"var",WBR:"wbr",XMP:"xmp"},SPECIAL_ELEMENTS=exports.SPECIAL_ELEMENTS=Object.create(null);SPECIAL_ELEMENTS[NS.HTML]=Object.create(null),SPECIAL_ELEMENTS[NS.HTML][$.ADDRESS]=!0,SPECIAL_ELEMENTS[NS.HTML][$.APPLET]=!0,SPECIAL_ELEMENTS[NS.HTML][$.AREA]=!0,SPECIAL_ELEMENTS[NS.HTML][$.ARTICLE]=!0,SPECIAL_ELEMENTS[NS.HTML][$.ASIDE]=!0,SPECIAL_ELEMENTS[NS.HTML][$.BASE]=!0,SPECIAL_ELEMENTS[NS.HTML][$.BASEFONT]=!0,SPECIAL_ELEMENTS[NS.HTML][$.BGSOUND]=!0,SPECIAL_ELEMENTS[NS.HTML][$.BLOCKQUOTE]=!0,SPECIAL_ELEMENTS[NS.HTML][$.BODY]=!0,SPECIAL_ELEMENTS[NS.HTML][$.BR]=!0,SPECIAL_ELEMENTS[NS.HTML][$.BUTTON]=!0,SPECIAL_ELEMENTS[NS.HTML][$.CAPTION]=!0,SPECIAL_ELEMENTS[NS.HTML][$.CENTER]=!0,SPECIAL_ELEMENTS[NS.HTML][$.COL]=!0,SPECIAL_ELEMENTS[NS.HTML][$.COLGROUP]=!0,SPECIAL_ELEMENTS[NS.HTML][$.DD]=!0,SPECIAL_ELEMENTS[NS.HTML][$.DETAILS]=!0,SPECIAL_ELEMENTS[NS.HTML][$.DIR]=!0,SPECIAL_ELEMENTS[NS.HTML][$.DIV]=!0,SPECIAL_ELEMENTS[NS.HTML][$.DL]=!0,SPECIAL_ELEMENTS[NS.HTML][$.DT]=!0,SPECIAL_ELEMENTS[NS.HTML][$.EMBED]=!0,SPECIAL_ELEMENTS[NS.HTML][$.FIELDSET]=!0,SPECIAL_ELEMENTS[NS.HTML][$.FIGCAPTION]=!0,SPECIAL_ELEMENTS[NS.HTML][$.FIGURE]=!0,SPECIAL_ELEMENTS[NS.HTML][$.FOOTER]=!0,SPECIAL_ELEMENTS[NS.HTML][$.FORM]=!0,SPECIAL_ELEMENTS[NS.HTML][$.FRAME]=!0,SPECIAL_ELEMENTS[NS.HTML][$.FRAMESET]=!0,SPECIAL_ELEMENTS[NS.HTML][$.H1]=!0,SPECIAL_ELEMENTS[NS.HTML][$.H2]=!0,SPECIAL_ELEMENTS[NS.HTML][$.H3]=!0,SPECIAL_ELEMENTS[NS.HTML][$.H4]=!0,SPECIAL_ELEMENTS[NS.HTML][$.H5]=!0,SPECIAL_ELEMENTS[NS.HTML][$.H6]=!0,SPECIAL_ELEMENTS[NS.HTML][$.HEAD]=!0,SPECIAL_ELEMENTS[NS.HTML][$.HEADER]=!0,SPECIAL_ELEMENTS[NS.HTML][$.HGROUP]=!0,SPECIAL_ELEMENTS[NS.HTML][$.HR]=!0,SPECIAL_ELEMENTS[NS.HTML][$.HTML]=!0,SPECIAL_ELEMENTS[NS.HTML][$.IFRAME]=!0,SPECIAL_ELEMENTS[NS.HTML][$.IMG]=!0,SPECIAL_ELEMENTS[NS.HTML][$.INPUT]=!0,SPECIAL_ELEMENTS[NS.HTML][$.LI]=!0,SPECIAL_ELEMENTS[NS.HTML][$.LINK]=!0,SPECIAL_ELEMENTS[NS.HTML][$.LISTING]=!0,SPECIAL_ELEMENTS[NS.HTML][$.MAIN]=!0,SPECIAL_ELEMENTS[NS.HTML][$.MARQUEE]=!0,SPECIAL_ELEMENTS[NS.HTML][$.MENU]=!0,SPECIAL_ELEMENTS[NS.HTML][$.META]=!0,SPECIAL_ELEMENTS[NS.HTML][$.NAV]=!0,SPECIAL_ELEMENTS[NS.HTML][$.NOEMBED]=!0,SPECIAL_ELEMENTS[NS.HTML][$.NOFRAMES]=!0,SPECIAL_ELEMENTS[NS.HTML][$.NOSCRIPT]=!0,SPECIAL_ELEMENTS[NS.HTML][$.OBJECT]=!0,SPECIAL_ELEMENTS[NS.HTML][$.OL]=!0,SPECIAL_ELEMENTS[NS.HTML][$.P]=!0,SPECIAL_ELEMENTS[NS.HTML][$.PARAM]=!0,SPECIAL_ELEMENTS[NS.HTML][$.PLAINTEXT]=!0,SPECIAL_ELEMENTS[NS.HTML][$.PRE]=!0,SPECIAL_ELEMENTS[NS.HTML][$.SCRIPT]=!0,SPECIAL_ELEMENTS[NS.HTML][$.SECTION]=!0,SPECIAL_ELEMENTS[NS.HTML][$.SELECT]=!0,SPECIAL_ELEMENTS[NS.HTML][$.SOURCE]=!0,SPECIAL_ELEMENTS[NS.HTML][$.STYLE]=!0,SPECIAL_ELEMENTS[NS.HTML][$.SUMMARY]=!0,SPECIAL_ELEMENTS[NS.HTML][$.TABLE]=!0,SPECIAL_ELEMENTS[NS.HTML][$.TBODY]=!0,SPECIAL_ELEMENTS[NS.HTML][$.TD]=!0,SPECIAL_ELEMENTS[NS.HTML][$.TEMPLATE]=!0,SPECIAL_ELEMENTS[NS.HTML][$.TEXTAREA]=!0,SPECIAL_ELEMENTS[NS.HTML][$.TFOOT]=!0,SPECIAL_ELEMENTS[NS.HTML][$.TH]=!0,SPECIAL_ELEMENTS[NS.HTML][$.THEAD]=!0,SPECIAL_ELEMENTS[NS.HTML][$.TITLE]=!0,SPECIAL_ELEMENTS[NS.HTML][$.TR]=!0,SPECIAL_ELEMENTS[NS.HTML][$.TRACK]=!0,SPECIAL_ELEMENTS[NS.HTML][$.UL]=!0,SPECIAL_ELEMENTS[NS.HTML][$.WBR]=!0,SPECIAL_ELEMENTS[NS.HTML][$.XMP]=!0,SPECIAL_ELEMENTS[NS.MATHML]=Object.create(null),SPECIAL_ELEMENTS[NS.MATHML][$.MI]=!0,SPECIAL_ELEMENTS[NS.MATHML][$.MO]=!0,SPECIAL_ELEMENTS[NS.MATHML][$.MN]=!0,SPECIAL_ELEMENTS[NS.MATHML][$.MS]=!0,SPECIAL_ELEMENTS[NS.MATHML][$.MTEXT]=!0,SPECIAL_ELEMENTS[NS.MATHML][$.ANNOTATION_XML]=!0,SPECIAL_ELEMENTS[NS.SVG]=Object.create(null),SPECIAL_ELEMENTS[NS.SVG][$.TITLE]=!0,SPECIAL_ELEMENTS[NS.SVG][$.FOREIGN_OBJECT]=!0,SPECIAL_ELEMENTS[NS.SVG][$.DESC]=!0},function(module,exports){module.exports=function(value,other){return value===other||value!=value&&other!=other}},function(module,exports,__webpack_require__){var baseFlatten=__webpack_require__(116);module.exports=function(array){return null!=array&&array.length?baseFlatten(array,1):[]}},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(195),isFlattenable=__webpack_require__(566);module.exports=function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;for(predicate||(predicate=isFlattenable),result||(result=[]);++index<length;){var value=array[index];depth>0&&predicate(value)?depth>1?baseFlatten(value,depth-1,predicate,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}},,function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(77),isObject=__webpack_require__(27),asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";module.exports=function(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}},function(module,exports,__webpack_require__){var arrayLikeKeys=__webpack_require__(314),baseKeysIn=__webpack_require__(515),isArrayLike=__webpack_require__(64);module.exports=function(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}},function(module,exports,__webpack_require__){var baseAssignValue=__webpack_require__(102),baseForOwn=__webpack_require__(209),baseIteratee=__webpack_require__(19);module.exports=function(object,iteratee){var result={};return iteratee=baseIteratee(iteratee,3),baseForOwn(object,function(value,key,object){baseAssignValue(result,key,iteratee(value,key,object))}),result}},function(module,exports,__webpack_require__){module.exports=Signature;var assert=__webpack_require__(18),Buffer=__webpack_require__(13).Buffer,errs=(__webpack_require__(57),__webpack_require__(23),__webpack_require__(112)),utils=__webpack_require__(46),asn1=__webpack_require__(122),SSHBuffer=__webpack_require__(263),InvalidAlgorithmError=errs.InvalidAlgorithmError,SignatureParseError=errs.SignatureParseError;function Signature(opts){assert.object(opts,"options"),assert.arrayOfObject(opts.parts,"options.parts"),assert.string(opts.type,"options.type");for(var partLookup={},i=0;i<opts.parts.length;++i){var part=opts.parts[i];partLookup[part.name]=part}this.type=opts.type,this.hashAlgorithm=opts.hashAlgo,this.curve=opts.curve,this.parts=opts.parts,this.part=partLookup}function parseOneNum(data,type,format,opts){if("ssh"===format){try{var buf=new SSHBuffer({buffer:data}),head=buf.readString()}catch(e){}if(void 0!==buf){var msg="SSH signature does not match expected type (expected "+type+", got "+head+")";switch(head){case"ssh-rsa":assert.strictEqual(type,"rsa",msg),opts.hashAlgo="sha1";break;case"rsa-sha2-256":assert.strictEqual(type,"rsa",msg),opts.hashAlgo="sha256";break;case"rsa-sha2-512":assert.strictEqual(type,"rsa",msg),opts.hashAlgo="sha512";break;case"ssh-ed25519":assert.strictEqual(type,"ed25519",msg),opts.hashAlgo="sha512";break;default:throw new Error("Unknown SSH signature type: "+head)}var sig=buf.readPart();return assert.ok(buf.atEnd(),"extra trailing bytes"),sig.name="sig",opts.parts.push(sig),new Signature(opts)}}return opts.parts.push({name:"sig",data:data}),new Signature(opts)}Signature.prototype.toBuffer=function(format){var buf;void 0===format&&(format="asn1"),assert.string(format,"format");var stype="ssh-"+this.type;switch(this.type){case"rsa":switch(this.hashAlgorithm){case"sha256":stype="rsa-sha2-256";break;case"sha512":stype="rsa-sha2-512";break;case"sha1":case void 0:break;default:throw new Error("SSH signature format does not support hash algorithm "+this.hashAlgorithm)}return"ssh"===format?((buf=new SSHBuffer({})).writeString(stype),buf.writePart(this.part.sig),buf.toBuffer()):this.part.sig.data;case"ed25519":return"ssh"===format?((buf=new SSHBuffer({})).writeString(stype),buf.writePart(this.part.sig),buf.toBuffer()):this.part.sig.data;case"dsa":case"ecdsa":var r,s;if("asn1"===format){var der=new asn1.BerWriter;return der.startSequence(),r=utils.mpNormalize(this.part.r.data),s=utils.mpNormalize(this.part.s.data),der.writeBuffer(r,asn1.Ber.Integer),der.writeBuffer(s,asn1.Ber.Integer),der.endSequence(),der.buffer}if("ssh"===format&&"dsa"===this.type){if((buf=new SSHBuffer({})).writeString("ssh-dss"),(r=this.part.r.data).length>20&&0===r[0]&&(r=r.slice(1)),(s=this.part.s.data).length>20&&0===s[0]&&(s=s.slice(1)),this.hashAlgorithm&&"sha1"!==this.hashAlgorithm||r.length+s.length!==40)throw new Error("OpenSSH only supports DSA signatures with SHA1 hash");return buf.writeBuffer(Buffer.concat([r,s])),buf.toBuffer()}if("ssh"===format&&"ecdsa"===this.type){var curve,inner=new SSHBuffer({});r=this.part.r.data,inner.writeBuffer(r),inner.writePart(this.part.s),buf=new SSHBuffer({}),0===r[0]&&(r=r.slice(1));var sz=8*r.length;return 256===sz?curve="nistp256":384===sz?curve="nistp384":528===sz&&(curve="nistp521"),buf.writeString("ecdsa-sha2-"+curve),buf.writeBuffer(inner.toBuffer()),buf.toBuffer()}throw new Error("Invalid signature format");default:throw new Error("Invalid signature data")}},Signature.prototype.toString=function(format){return assert.optionalString(format,"format"),this.toBuffer(format).toString("base64")},Signature.parse=function(data,type,format){"string"==typeof data&&(data=Buffer.from(data,"base64")),assert.buffer(data,"data"),assert.string(format,"format"),assert.string(type,"type");var opts={};opts.type=type.toLowerCase(),opts.parts=[];try{switch(assert.ok(data.length>0,"signature must not be empty"),opts.type){case"rsa":case"ed25519":return parseOneNum(data,type,format,opts);case"dsa":case"ecdsa":return"asn1"===format?function(data,type,format,opts){var der=new asn1.BerReader(data);der.readSequence();var r=der.readString(asn1.Ber.Integer,!0),s=der.readString(asn1.Ber.Integer,!0);return opts.parts.push({name:"r",data:utils.mpNormalize(r)}),opts.parts.push({name:"s",data:utils.mpNormalize(s)}),new Signature(opts)}(data,0,0,opts):"dsa"===opts.type?function(data,type,format,opts){if(40!=data.length){var buf=new SSHBuffer({buffer:data}),d=buf.readBuffer();"ssh-dss"===d.toString("ascii")&&(d=buf.readBuffer()),assert.ok(buf.atEnd(),"extra trailing bytes"),assert.strictEqual(d.length,40,"invalid inner length"),data=d}return opts.parts.push({name:"r",data:data.slice(0,20)}),opts.parts.push({name:"s",data:data.slice(20,40)}),new Signature(opts)}(data,0,0,opts):function(data,type,format,opts){var r,s,buf=new SSHBuffer({buffer:data}),inner=buf.readBuffer(),stype=inner.toString("ascii");if("ecdsa-"===stype.slice(0,6)){var parts=stype.split("-");switch(assert.strictEqual(parts[0],"ecdsa"),assert.strictEqual(parts[1],"sha2"),opts.curve=parts[2],opts.curve){case"nistp256":opts.hashAlgo="sha256";break;case"nistp384":opts.hashAlgo="sha384";break;case"nistp521":opts.hashAlgo="sha512";break;default:throw new Error("Unsupported ECDSA curve: "+opts.curve)}inner=buf.readBuffer(),assert.ok(buf.atEnd(),"extra trailing bytes on outer"),buf=new SSHBuffer({buffer:inner}),r=buf.readPart()}else r={data:inner};return s=buf.readPart(),assert.ok(buf.atEnd(),"extra trailing bytes"),r.name="r",s.name="s",opts.parts.push(r),opts.parts.push(s),new Signature(opts)}(data,0,0,opts);default:throw new InvalidAlgorithmError(type)}}catch(e){if(e instanceof InvalidAlgorithmError)throw e;throw new SignatureParseError(type,format,e)}},Signature.isSignature=function(obj,ver){return utils.isCompatible(obj,Signature,ver)},Signature.prototype._sshpkApiVersion=[2,1],Signature._oldVersionDetect=function(obj){return assert.func(obj.toBuffer),obj.hasOwnProperty("hashAlgorithm")?[2,0]:[1,0]}},function(module,exports,__webpack_require__){var Ber=__webpack_require__(963);module.exports={Ber:Ber,BerReader:Ber.Reader,BerWriter:Ber.Writer}},function(module,exports,__webpack_require__){(function(module){var root=__webpack_require__(33),stubFalse=__webpack_require__(512),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,Buffer=freeModule&&freeModule.exports===freeExports?root.Buffer:void 0,isBuffer=(Buffer?Buffer.isBuffer:void 0)||stubFalse;module.exports=isBuffer}).call(this,__webpack_require__(56)(module))},function(module,exports,__webpack_require__){var isArrayLike=__webpack_require__(64),isObjectLike=__webpack_require__(32);module.exports=function(value){return isObjectLike(value)&&isArrayLike(value)}},function(module,exports){module.exports=!0},function(module,exports){module.exports=function(it){if("function"!=typeof it)throw TypeError(it+" is not a function!");return it}},function(module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},function(module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},function(module,exports,__webpack_require__){var def=__webpack_require__(44).f,has=__webpack_require__(85),TAG=__webpack_require__(25)("toStringTag");module.exports=function(it,tag,stat){it&&!has(it=stat?it:it.prototype,TAG)&&def(it,TAG,{configurable:!0,value:tag})}},function(module,exports){exports.f={}.propertyIsEnumerable},function(module,exports,__webpack_require__){var ctx=__webpack_require__(60),call=__webpack_require__(352),isArrayIter=__webpack_require__(353),anObject=__webpack_require__(49),toLength=__webpack_require__(167),getIterFn=__webpack_require__(234),BREAK={},RETURN={};(exports=module.exports=function(iterable,entries,fn,that,ITERATOR){var length,step,iterator,result,iterFn=ITERATOR?function(){return iterable}:getIterFn(iterable),f=ctx(fn,that,entries?2:1),index=0;if("function"!=typeof iterFn)throw TypeError(iterable+" is not iterable!");if(isArrayIter(iterFn)){for(length=toLength(iterable.length);length>index;index++)if((result=entries?f(anObject(step=iterable[index])[0],step[1]):f(iterable[index]))===BREAK||result===RETURN)return result}else for(iterator=iterFn.call(iterable);!(step=iterator.next()).done;)if((result=call(iterator,f,step.value,entries))===BREAK||result===RETURN)return result}).BREAK=BREAK,exports.RETURN=RETURN},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(710),__esModule:!0}},function(module,exports,__webpack_require__){var baseForOwn=__webpack_require__(209),baseEach=__webpack_require__(524)(baseForOwn);module.exports=baseEach},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.receiveMutationError=exports.receiveMutationResult=exports.initMutation=exports.receiveQueryError=exports.receiveQueryResult=exports.initQuery=exports.getRawQueryFromState=exports.getQueryFromState=exports.getQueryFromStore=exports.getDocumentFromState=exports.getCollectionFromState=exports.getStateRoot=exports.createStore=exports.StoreProxy=void 0;var _defineProperty3=_interopRequireDefault(__webpack_require__(48)),_extends5=_interopRequireDefault(__webpack_require__(5)),_classCallCheck3=_interopRequireDefault(__webpack_require__(1)),_createClass3=_interopRequireDefault(__webpack_require__(2)),_queries=__webpack_require__(375);Object.defineProperty(exports,"initQuery",{enumerable:!0,get:function(){return _queries.initQuery}}),Object.defineProperty(exports,"receiveQueryResult",{enumerable:!0,get:function(){return _queries.receiveQueryResult}}),Object.defineProperty(exports,"receiveQueryError",{enumerable:!0,get:function(){return _queries.receiveQueryError}});var _mutations=__webpack_require__(243);Object.defineProperty(exports,"initMutation",{enumerable:!0,get:function(){return _mutations.initMutation}}),Object.defineProperty(exports,"receiveMutationResult",{enumerable:!0,get:function(){return _mutations.receiveMutationResult}}),Object.defineProperty(exports,"receiveMutationError",{enumerable:!0,get:function(){return _mutations.receiveMutationError}});var _redux=__webpack_require__(789),_reduxThunk2=_interopRequireDefault(__webpack_require__(719)),_documents=__webpack_require__(378),_documents2=_interopRequireDefault(_documents),_queries2=_interopRequireDefault(_queries);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var StoreProxy=exports.StoreProxy=function(){function StoreProxy(state){(0,_classCallCheck3.default)(this,StoreProxy),this.state=state}return(0,_createClass3.default)(StoreProxy,[{key:"readDocument",value:function(doctype,id){return this.state.documents[doctype][id]}},{key:"writeDocument",value:function(document){this.setState(function(state){return(0,_extends5.default)({},state,{documents:(0,_extends5.default)({},state.documents,(0,_defineProperty3.default)({},document._type,(0,_extends5.default)({},state.documents[document._type],(0,_defineProperty3.default)({},document._id,document))))})})}},{key:"setState",value:function(updaterFn){this.state=updaterFn(this.state)}},{key:"getState",value:function(){return this.state}}]),StoreProxy}(),combinedReducer=function(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{documents:{},queries:{}},action=arguments[1];if(!(0,_queries.isQueryAction)(action)&&!(0,_mutations.isMutationAction)(action))return state;if(action.update){var proxy=new StoreProxy(state);return action.update(proxy,action.response),{documents:proxy.getState().documents,queries:(0,_queries2.default)(proxy.getState().queries,action,proxy.getState().documents)}}var nextDocuments=(0,_documents2.default)(state.documents,action),haveDocumentsChanged=nextDocuments!==state.documents;return{documents:nextDocuments,queries:(0,_queries2.default)(state.queries,action,nextDocuments,haveDocumentsChanged)}};exports.default=combinedReducer;exports.createStore=function(){return(0,_redux.createStore)((0,_redux.combineReducers)({cozy:combinedReducer}),(0,_redux.applyMiddleware)(_reduxThunk2.default))};var getStateRoot=exports.getStateRoot=function(state){return state.cozy||{}},getQueryFromState=(exports.getCollectionFromState=function(state,doctype){return(0,_documents.getCollectionFromSlice)(getStateRoot(state).documents,doctype)},exports.getDocumentFromState=function(state,doctype,id){return(0,_documents.getDocumentFromSlice)(getStateRoot(state).documents,doctype,id)},exports.getQueryFromStore=function(store,queryId){return getQueryFromState(store.getState(),queryId)},exports.getQueryFromState=function(state,queryId){return(0,_queries.getQueryFromSlice)(getStateRoot(state).queries,queryId,getStateRoot(state).documents)});exports.getRawQueryFromState=function(state,queryId){return(0,_queries.getQueryFromSlice)(getStateRoot(state).queries,queryId)}},,function(module,exports){var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;module.exports=function(value,length){var type=typeof value;return!!(length=null==length?MAX_SAFE_INTEGER:length)&&("number"==type||"symbol"!=type&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(27),objectCreate=Object.create,baseCreate=function(){function object(){}return function(proto){if(!isObject(proto))return{};if(objectCreate)return objectCreate(proto);object.prototype=proto;var result=new object;return object.prototype=void 0,result}}();module.exports=baseCreate},function(module,exports,__webpack_require__){var arrayEach=__webpack_require__(154),baseEach=__webpack_require__(133),castFunction=__webpack_require__(525),isArray=__webpack_require__(12);module.exports=function(collection,iteratee){return(isArray(collection)?arrayEach:baseEach)(collection,castFunction(iteratee))}},function(module,exports,__webpack_require__){var getDayOfYear=__webpack_require__(1136),getISOWeek=__webpack_require__(1138),getISOYear=__webpack_require__(856),parse=__webpack_require__(35),isValid=__webpack_require__(1141),enLocale=__webpack_require__(943);var formatters={M:function(date){return date.getMonth()+1},MM:function(date){return addLeadingZeros(date.getMonth()+1,2)},Q:function(date){return Math.ceil((date.getMonth()+1)/3)},D:function(date){return date.getDate()},DD:function(date){return addLeadingZeros(date.getDate(),2)},DDD:function(date){return getDayOfYear(date)},DDDD:function(date){return addLeadingZeros(getDayOfYear(date),3)},d:function(date){return date.getDay()},E:function(date){return date.getDay()||7},W:function(date){return getISOWeek(date)},WW:function(date){return addLeadingZeros(getISOWeek(date),2)},YY:function(date){return addLeadingZeros(date.getFullYear(),4).substr(2)},YYYY:function(date){return addLeadingZeros(date.getFullYear(),4)},GG:function(date){return String(getISOYear(date)).substr(2)},GGGG:function(date){return getISOYear(date)},H:function(date){return date.getHours()},HH:function(date){return addLeadingZeros(date.getHours(),2)},h:function(date){var hours=date.getHours();return 0===hours?12:hours>12?hours%12:hours},hh:function(date){return addLeadingZeros(formatters.h(date),2)},m:function(date){return date.getMinutes()},mm:function(date){return addLeadingZeros(date.getMinutes(),2)},s:function(date){return date.getSeconds()},ss:function(date){return addLeadingZeros(date.getSeconds(),2)},S:function(date){return Math.floor(date.getMilliseconds()/100)},SS:function(date){return addLeadingZeros(Math.floor(date.getMilliseconds()/10),2)},SSS:function(date){return addLeadingZeros(date.getMilliseconds(),3)},Z:function(date){return formatTimezone(date.getTimezoneOffset(),":")},ZZ:function(date){return formatTimezone(date.getTimezoneOffset())},X:function(date){return Math.floor(date.getTime()/1e3)},x:function(date){return date.getTime()}};function formatTimezone(offset,delimeter){delimeter=delimeter||"";var sign=offset>0?"-":"+",absOffset=Math.abs(offset),minutes=absOffset%60;return sign+addLeadingZeros(Math.floor(absOffset/60),2)+delimeter+addLeadingZeros(minutes,2)}function addLeadingZeros(number,targetLength){for(var output=Math.abs(number).toString();output.length<targetLength;)output="0"+output;return output}module.exports=function(dirtyDate,dirtyFormatStr,dirtyOptions){var formatStr=dirtyFormatStr?String(dirtyFormatStr):"YYYY-MM-DDTHH:mm:ss.SSSZ",locale=(dirtyOptions||{}).locale,localeFormatters=enLocale.format.formatters,formattingTokensRegExp=enLocale.format.formattingTokensRegExp;locale&&locale.format&&locale.format.formatters&&(localeFormatters=locale.format.formatters,locale.format.formattingTokensRegExp&&(formattingTokensRegExp=locale.format.formattingTokensRegExp));var date=parse(dirtyDate);return isValid(date)?function(formatStr,localeFormatters,formattingTokensRegExp){var i,formatter,input,array=formatStr.match(formattingTokensRegExp),length=array.length;for(i=0;i<length;i++)formatter=localeFormatters[array[i]]||formatters[array[i]],array[i]=formatter||((input=array[i]).match(/\[[\s\S]/)?input.replace(/^\[|]$/g,""):input.replace(/\\/g,""));return function(date){for(var output="",i=0;i<length;i++)array[i]instanceof Function?output+=array[i](date,formatters):output+=array[i];return output}}(formatStr,localeFormatters,formattingTokensRegExp)(date):"Invalid Date"}},,function(module,exports,__webpack_require__){"use strict";module.exports=function(fun){return function(){var len=arguments.length;if(len){for(var args=[],i=-1;++i<len;)args[i]=arguments[i];return fun.call(this,args)}return fun.call(this,[])}}},function(module,exports,__webpack_require__){module.exports={read:function(buf,options,forceType){var input=buf;"string"!=typeof buf&&(assert.buffer(buf,"buf"),buf=buf.toString("ascii"));var m,m2,lines=buf.trim().split(/[\r\n]+/g),si=-1;for(;!m&&si<lines.length;)m=lines[++si].match(/[-]+[ ]*BEGIN ([A-Z0-9][A-Za-z0-9]+ )?(PUBLIC|PRIVATE) KEY[ ]*[-]+/);assert.ok(m,"invalid PEM header");var ei=lines.length;for(;!m2&&ei>0;)m2=lines[--ei].match(/[-]+[ ]*END ([A-Z0-9][A-Za-z0-9]+ )?(PUBLIC|PRIVATE) KEY[ ]*[-]+/);assert.ok(m2,"invalid PEM footer"),assert.equal(m[2],m2[2]);var alg,type=m[2].toLowerCase();m[1]&&(assert.equal(m[1],m2[1],"PEM header and footer mismatch"),alg=m[1].trim());lines=lines.slice(si,ei+1);var cipher,key,iv,headers={};for(;lines=lines.slice(1),m=lines[0].match(/^([A-Za-z0-9-]+): (.+)$/);)headers[m[1].toLowerCase()]=m[2];if(lines=lines.slice(0,-1).join(""),buf=Buffer.from(lines,"base64"),headers["proc-type"]){var parts=headers["proc-type"].split(",");if("4"===parts[0]&&"ENCRYPTED"===parts[1]){if("string"==typeof options.passphrase&&(options.passphrase=Buffer.from(options.passphrase,"utf-8")),!Buffer.isBuffer(options.passphrase))throw new errors.KeyEncryptedError(options.filename,"PEM");parts=headers["dek-info"].split(","),assert.ok(2===parts.length),cipher=parts[0].toLowerCase(),iv=Buffer.from(parts[1],"hex"),key=utils.opensslKeyDeriv(cipher,iv,options.passphrase,1).key}}if(alg&&"encrypted"===alg.toLowerCase()){var pbesEnd,eder=new asn1.BerReader(buf);eder.readSequence(),eder.readSequence(),pbesEnd=eder.offset+eder.length;var method=eder.readOID();if(method!==OID_PBES2)throw new Error("Unsupported PEM/PKCS8 encryption scheme: "+method);eder.readSequence(),eder.readSequence();var kdfEnd=eder.offset+eder.length,kdfOid=eder.readOID();if(kdfOid!==OID_PBKDF2)throw new Error("Unsupported PBES2 KDF: "+kdfOid);eder.readSequence();var salt=eder.readString(asn1.Ber.OctetString,!0),iterations=eder.readInt(),hashAlg="sha1";if(eder.offset<kdfEnd){eder.readSequence();var hashAlgOid=eder.readOID();if(void 0===(hashAlg=OID_TO_HASH[hashAlgOid]))throw new Error("Unsupported PBKDF2 hash: "+hashAlgOid)}eder._offset=kdfEnd,eder.readSequence();var cipherOid=eder.readOID();if(void 0===(cipher=OID_TO_CIPHER[cipherOid]))throw new Error("Unsupported PBES2 cipher: "+cipherOid);if(iv=eder.readString(asn1.Ber.OctetString,!0),eder._offset=pbesEnd,buf=eder.readString(asn1.Ber.OctetString,!0),"string"==typeof options.passphrase&&(options.passphrase=Buffer.from(options.passphrase,"utf-8")),!Buffer.isBuffer(options.passphrase))throw new errors.KeyEncryptedError(options.filename,"PEM");var cinfo=utils.opensshCipherInfo(cipher);cipher=cinfo.opensslName,key=utils.pbkdf2(hashAlg,salt,iterations,cinfo.keySize,options.passphrase),alg=void 0}if(cipher&&key&&iv){var chunk,cipherStream=crypto.createDecipheriv(cipher,key,iv),chunks=[];for(cipherStream.once("error",function(e){if(-1!==e.toString().indexOf("bad decrypt"))throw new Error("Incorrect passphrase supplied, could not decrypt key");throw e}),cipherStream.write(buf),cipherStream.end();null!==(chunk=cipherStream.read());)chunks.push(chunk);buf=Buffer.concat(chunks)}if(alg&&"openssh"===alg.toLowerCase())return sshpriv.readSSHPrivate(type,buf,options);if(alg&&"ssh2"===alg.toLowerCase())return rfc4253.readType(type,buf,options);var der=new asn1.BerReader(buf);return der.originalInput=input,der.readSequence(),alg?(forceType&&assert.strictEqual(forceType,"pkcs1"),pkcs1.readPkcs1(alg,type,der)):(forceType&&assert.strictEqual(forceType,"pkcs8"),pkcs8.readPkcs8(alg,type,der))},write:function(key,options,type){assert.object(key);var header,alg={ecdsa:"EC",rsa:"RSA",dsa:"DSA",ed25519:"EdDSA"}[key.type],der=new asn1.BerWriter;if(PrivateKey.isPrivateKey(key))type&&"pkcs8"===type?(header="PRIVATE KEY",pkcs8.writePkcs8(der,key)):(type&&assert.strictEqual(type,"pkcs1"),header=alg+" PRIVATE KEY",pkcs1.writePkcs1(der,key));else{if(!Key.isKey(key))throw new Error("key is not a Key or PrivateKey");type&&"pkcs1"===type?(header=alg+" PUBLIC KEY",pkcs1.writePkcs1(der,key)):(type&&assert.strictEqual(type,"pkcs8"),header="PUBLIC KEY",pkcs8.writePkcs8(der,key))}var tmp=der.buffer.toString("base64"),len=tmp.length+tmp.length/64+18+16+2*header.length+10,buf=Buffer.alloc(len),o=0;o+=buf.write("-----BEGIN "+header+"-----\n",o);for(var i=0;i<tmp.length;){var limit=i+64;limit>tmp.length&&(limit=tmp.length),o+=buf.write(tmp.slice(i,limit),o),buf[o++]=10,i=limit}return o+=buf.write("-----END "+header+"-----\n",o),buf.slice(0,o)}};var assert=__webpack_require__(18),asn1=__webpack_require__(122),crypto=__webpack_require__(23),Buffer=__webpack_require__(13).Buffer,utils=(__webpack_require__(57),__webpack_require__(46)),Key=__webpack_require__(45),PrivateKey=__webpack_require__(53),pkcs1=__webpack_require__(444),pkcs8=__webpack_require__(264),sshpriv=__webpack_require__(305),rfc4253=__webpack_require__(143),errors=__webpack_require__(112),OID_PBES2="1.2.840.113549.1.5.13",OID_PBKDF2="1.2.840.113549.1.5.12",OID_TO_CIPHER={"1.2.840.113549.3.7":"3des-cbc","2.16.840.1.101.3.4.1.2":"aes128-cbc","2.16.840.1.101.3.4.1.42":"aes256-cbc"},CIPHER_TO_OID={};Object.keys(OID_TO_CIPHER).forEach(function(k){CIPHER_TO_OID[OID_TO_CIPHER[k]]=k});var OID_TO_HASH={"1.2.840.113549.2.7":"sha1","1.2.840.113549.2.9":"sha256","1.2.840.113549.2.11":"sha512"},HASH_TO_OID={};Object.keys(OID_TO_HASH).forEach(function(k){HASH_TO_OID[OID_TO_HASH[k]]=k})},function(module,exports,__webpack_require__){module.exports={read:read.bind(void 0,!1,void 0),readType:read.bind(void 0,!1),write:function(key,options){assert.object(key);var i,alg=keyTypeToAlg(key),algInfo=algs.info[key.type];PrivateKey.isPrivateKey(key)&&(algInfo=algs.privInfo[key.type]);var parts=algInfo.parts,buf=new SSHBuffer({});for(buf.writeString(alg),i=0;i<parts.length;++i){var data=key.part[parts[i]].data;!1!==algInfo.normalize&&(data="ed25519"===key.type?utils.zeroPadToLength(data,32):utils.mpNormalize(data)),"ed25519"===key.type&&"k"===parts[i]&&(data=Buffer.concat([data,key.part.A.data])),buf.writeBuffer(data)}return buf.toBuffer()},readPartial:read.bind(void 0,!0),readInternal:read,keyTypeToAlg:keyTypeToAlg,algToKeyType:algToKeyType};var assert=__webpack_require__(18),Buffer=__webpack_require__(13).Buffer,algs=__webpack_require__(57),utils=__webpack_require__(46),Key=__webpack_require__(45),PrivateKey=__webpack_require__(53),SSHBuffer=__webpack_require__(263);function algToKeyType(alg){if(assert.string(alg),"ssh-dss"===alg)return"dsa";if("ssh-rsa"===alg)return"rsa";if("ssh-ed25519"===alg)return"ed25519";if("ssh-curve25519"===alg)return"curve25519";if(alg.match(/^ecdsa-sha2-/))return"ecdsa";throw new Error("Unknown algorithm "+alg)}function keyTypeToAlg(key){if(assert.object(key),"dsa"===key.type)return"ssh-dss";if("rsa"===key.type)return"ssh-rsa";if("ed25519"===key.type)return"ssh-ed25519";if("curve25519"===key.type)return"ssh-curve25519";if("ecdsa"===key.type)return"ecdsa-sha2-"+key.part.curve.data.toString();throw new Error("Unknown key type "+key.type)}function read(partial,type,buf,options){"string"==typeof buf&&(buf=Buffer.from(buf)),assert.buffer(buf,"buf");var key={},parts=key.parts=[],sshbuf=new SSHBuffer({buffer:buf}),alg=sshbuf.readString();assert.ok(!sshbuf.atEnd(),"key must have at least one part"),key.type=algToKeyType(alg);var partCount=algs.info[key.type].parts.length;for(type&&"private"===type&&(partCount=algs.privInfo[key.type].parts.length);!sshbuf.atEnd()&&parts.length<partCount;)parts.push(sshbuf.readPart());for(;!partial&&!sshbuf.atEnd();)parts.push(sshbuf.readPart());assert.ok(parts.length>=1,"key must have at least one part"),assert.ok(partial||sshbuf.atEnd(),"leftover bytes at end of key");var Constructor=Key,algInfo=algs.info[key.type];if("private"!==type&&algInfo.parts.length===parts.length||(algInfo=algs.privInfo[key.type],Constructor=PrivateKey),assert.strictEqual(algInfo.parts.length,parts.length),"ecdsa"===key.type){var res=/^ecdsa-sha2-(.+)$/.exec(alg);assert.ok(null!==res),assert.strictEqual(res[1],parts[0].data.toString())}for(var normalized=!0,i=0;i<algInfo.parts.length;++i){var nd,p=parts[i];if(p.name=algInfo.parts[i],"ed25519"===key.type&&"k"===p.name&&(p.data=p.data.slice(0,32)),"curve"!==p.name&&!1!==algInfo.normalize)(nd="ed25519"===key.type?utils.zeroPadToLength(p.data,32):utils.mpNormalize(p.data)).toString("binary")!==p.data.toString("binary")&&(p.data=nd,normalized=!1)}return normalized&&(key._rfc4253Cache=sshbuf.toBuffer()),partial&&"object"==typeof partial&&(partial.remainder=sshbuf.remainder(),partial.consumed=sshbuf._offset),new Constructor(key)}},function(module,exports,__webpack_require__){var eq=__webpack_require__(114),isArrayLike=__webpack_require__(64),isIndex=__webpack_require__(136),isObject=__webpack_require__(27);module.exports=function(value,index,object){if(!isObject(object))return!1;var type=typeof index;return!!("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)&&eq(object[index],value)}},function(module,exports){module.exports=function(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}},function(module,exports,__webpack_require__){var toFinite=__webpack_require__(426);module.exports=function(value){var result=toFinite(value),remainder=result%1;return result==result?remainder?result-remainder:result:0}},function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(36),baseIteratee=__webpack_require__(19),basePickBy=__webpack_require__(337),getAllKeysIn=__webpack_require__(221);module.exports=function(object,predicate){if(null==object)return{};var props=arrayMap(getAllKeysIn(object),function(prop){return[prop]});return predicate=baseIteratee(predicate),basePickBy(object,props,function(value,path){return predicate(value,path[0])})}},function(module,exports,__webpack_require__){var Parser=__webpack_require__(825),DomHandler=__webpack_require__(829);function defineProp(name,value){return delete module.exports[name],module.exports[name]=value,value}module.exports={Parser:Parser,Tokenizer:__webpack_require__(826),ElementType:__webpack_require__(197),DomHandler:DomHandler,get FeedHandler(){return defineProp("FeedHandler",__webpack_require__(1056))},get Stream(){return defineProp("Stream",__webpack_require__(1066))},get WritableStream(){return defineProp("WritableStream",__webpack_require__(831))},get ProxyHandler(){return defineProp("ProxyHandler",__webpack_require__(1073))},get DomUtils(){return defineProp("DomUtils",__webpack_require__(180))},get CollectingHandler(){return defineProp("CollectingHandler",__webpack_require__(1074))},DefaultHandler:DomHandler,get RssHandler(){return defineProp("RssHandler",this.FeedHandler)},parseDOM:function(data,options){var handler=new DomHandler(options);return new Parser(handler,options).end(data),handler.dom},parseFeed:function(feed,options){var handler=new module.exports.FeedHandler(options);return new Parser(handler,options).end(feed),handler.dom},createDomStream:function(cb,options,elementCb){var handler=new DomHandler(cb,options,elementCb);return new Parser(handler,options)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},function(module,exports,__webpack_require__){"use strict";var _require=__webpack_require__(1280),Client=_require.Client,MemoryStorage=_require.MemoryStorage,getCredentials=function(environment){try{if("development"===environment){var credentials=JSON.parse(process.env.COZY_CREDENTIALS);return credentials.token.toAuthHeader=function(){return"Bearer "+credentials.client.registrationAccessToken},credentials}return process.env.COZY_CREDENTIALS.trim()}catch(err){throw console.error("Please provide proper COZY_CREDENTIALS environment variable. ".concat(process.env.COZY_CREDENTIALS," is not OK")),err}},getCozyUrl=function(){if(void 0===process.env.COZY_URL)throw console.error("Please provide COZY_URL environment variable."),new Error("COZY_URL environment variable is absent/not valid");return process.env.COZY_URL};module.exports=function(){var environment=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"production";if("standalone"===environment||"test"===environment)return __webpack_require__(1337);var credentials=getCredentials(environment),cozyURL=getCozyUrl(),options={cozyURL:cozyURL};"development"===environment?options.oauth={storage:new MemoryStorage}:"production"===environment&&(options.token=credentials);var cozyClient=new Client(options);return"development"===environment&&cozyClient.saveCredentials(credentials.client,credentials.token),cozyClient}("production")},function(module,exports,__webpack_require__){"use strict";exports.colorToRgb=function(hex){if(null==hex)return;return"string"==typeof hex&&(hex=parseInt(hex.replace("#",""),16)),[(hex>>16)/255,(hex>>8&255)/255,(255&hex)/255]},exports.rgbEqual=function(lhs,rhs){return lhs&&rhs&&lhs[0]===rhs[0]&&lhs[1]===rhs[1]&&lhs[2]===rhs[2]},exports.toArrayBuffer=function(b){return b instanceof ArrayBuffer?b:b.buffer.slice(b.byteOffset,b.byteOffset+b.byteLength)},exports.defaults=function(val,def){return void 0!==val?val:def},exports.inflate=function(obj){let filter=obj.properties.get("Filter");if(!filter||"FlateDecode"!==filter.name)throw new Error("Only FlateDecode filter are supported");let columns=1,predictor=1;const params=obj.properties.get("DecodeParms");params&&(columns=params.get("Columns"),predictor=params.get("Predictor"));let res=(0,__webpack_require__(1416).inflate)(obj.content.content);if(1===predictor)return res;if(!(predictor>=10&&predictor<=15))throw new Error("Unsupported predictor "+predictor);return res=function(src,columns){const columnCount=columns+1,rowCount=src.length/columnCount,res=new Uint8Array(columns*rowCount);for(let y=0;y<rowCount;++y){const filter=src[y*columnCount];if(0===filter)for(let x=0;x<columns;++x)res[y*columns+x]=src[y*columnCount+1+x];else{if(2!==filter)throw new Error("Unsupported PNG filter "+filter);for(let x=0;x<columns;x++){const prev=0===y?0:res[(y-1)*columns+x];res[y*columns+x]=prev+src[y*columnCount+1+x]&255}}}return res}(res,columns)}},function(module,exports,__webpack_require__){"use strict";exports.PDFArray=exports.Array=__webpack_require__(407),exports.PDFDictionary=exports.Dictionary=__webpack_require__(408),exports.PDFName=exports.Name=__webpack_require__(296),exports.PDFNameTree=exports.NameTree=__webpack_require__(1432),exports.PDFObject=exports.Object=__webpack_require__(409),exports.PDFReference=exports.Reference=__webpack_require__(896),exports.PDFStream=exports.Stream=__webpack_require__(897),exports.PDFString=exports.String=__webpack_require__(295),exports.PDFTrailer=exports.Trailer=__webpack_require__(1433),exports.PDFXref=exports.Xref=__webpack_require__(1435)},function(module,exports,__webpack_require__){var baseIsArguments=__webpack_require__(511),isObjectLike=__webpack_require__(32),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,propertyIsEnumerable=objectProto.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};module.exports=isArguments},function(module,exports,__webpack_require__){var baseIsTypedArray=__webpack_require__(513),baseUnary=__webpack_require__(91),nodeUtil=__webpack_require__(206),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;module.exports=isTypedArray},function(module,exports){module.exports=function(array,iteratee){for(var index=-1,length=null==array?0:array.length;++index<length&&!1!==iteratee(array[index],index,array););return array}},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(156),stackClear=__webpack_require__(532),stackDelete=__webpack_require__(533),stackGet=__webpack_require__(534),stackHas=__webpack_require__(535),stackSet=__webpack_require__(536);function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}Stack.prototype.clear=stackClear,Stack.prototype.delete=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet,module.exports=Stack},function(module,exports,__webpack_require__){var listCacheClear=__webpack_require__(527),listCacheDelete=__webpack_require__(528),listCacheGet=__webpack_require__(529),listCacheHas=__webpack_require__(530),listCacheSet=__webpack_require__(531);function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}ListCache.prototype.clear=listCacheClear,ListCache.prototype.delete=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,module.exports=ListCache},function(module,exports,__webpack_require__){var eq=__webpack_require__(114);module.exports=function(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(82)(Object,"create");module.exports=nativeCreate},function(module,exports,__webpack_require__){var isKeyable=__webpack_require__(545);module.exports=function(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}},function(module,exports,__webpack_require__){var getPrototype=__webpack_require__(316)(Object.getPrototypeOf,Object);module.exports=getPrototype},function(module,exports,__webpack_require__){var MapCache=__webpack_require__(211),setCacheAdd=__webpack_require__(554),setCacheHas=__webpack_require__(555);function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,module.exports=SetCache},function(module,exports){module.exports=function(cache,key){return cache.has(key)}},function(module,exports,__webpack_require__){var castPath=__webpack_require__(103),toKey=__webpack_require__(94);module.exports=function(object,path){for(var index=0,length=(path=castPath(path,object)).length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}},function(module,exports,__webpack_require__){var basePick=__webpack_require__(567),pick=__webpack_require__(181)(function(object,paths){return null==object?{}:basePick(object,paths)});module.exports=pick},function(module,exports,__webpack_require__){var SetCache=__webpack_require__(161),arrayIncludes=__webpack_require__(189),arrayIncludesWith=__webpack_require__(218),cacheHas=__webpack_require__(162),createSet=__webpack_require__(568),setToArray=__webpack_require__(213),LARGE_ARRAY_SIZE=200;module.exports=function(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=!0,result=[],seen=result;if(comparator)isCommon=!1,includes=arrayIncludesWith;else if(length>=LARGE_ARRAY_SIZE){var set=iteratee?null:createSet(array);if(set)return setToArray(set);isCommon=!1,includes=cacheHas,seen=new SetCache}else seen=iteratee?[]:result;outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else includes(seen,computed,comparator)||(seen!==result&&seen.push(computed),result.push(value))}return result}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(49),dPs=__webpack_require__(348),enumBugKeys=__webpack_require__(233),IE_PROTO=__webpack_require__(231)("IE_PROTO"),Empty=function(){},createDict=function(){var iframeDocument,iframe=__webpack_require__(228)("iframe"),i=enumBugKeys.length;for(iframe.style.display="none",__webpack_require__(350).appendChild(iframe),iframe.src="javascript:",(iframeDocument=iframe.contentWindow.document).open(),iframeDocument.write("<script>document.F=Object<\/script>"),iframeDocument.close(),createDict=iframeDocument.F;i--;)delete createDict.prototype[enumBugKeys[i]];return createDict()};module.exports=Object.create||function(O,Properties){var result;return null!==O?(Empty.prototype=anObject(O),result=new Empty,Empty.prototype=null,result[IE_PROTO]=O):result=createDict(),void 0===Properties?result:dPs(result,Properties)}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(225),min=Math.min;module.exports=function(it){return it>0?min(toInteger(it),9007199254740991):0}},function(module,exports){var id=0,px=Math.random();module.exports=function(key){return"Symbol(".concat(void 0===key?"":key,")_",(++id+px).toString(36))}},function(module,exports,__webpack_require__){var cof=__webpack_require__(128),TAG=__webpack_require__(25)("toStringTag"),ARG="Arguments"==cof(function(){return arguments}());module.exports=function(it){var O,T,B;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(T=function(it,key){try{return it[key]}catch(e){}}(O=Object(it),TAG))?T:ARG?cof(O):"Object"==(B=cof(O))&&"function"==typeof O.callee?"Arguments":B}},function(module,exports,__webpack_require__){var $export=__webpack_require__(16),core=__webpack_require__(9),fails=__webpack_require__(84);module.exports=function(KEY,exec){var fn=(core.Object||{})[KEY]||Object[KEY],exp={};exp[KEY]=exec(fn),$export($export.S+$export.F*fails(function(){fn(1)}),"Object",exp)}},function(module,exports,__webpack_require__){var META=__webpack_require__(168)("meta"),isObject=__webpack_require__(37),has=__webpack_require__(85),setDesc=__webpack_require__(44).f,id=0,isExtensible=Object.isExtensible||function(){return!0},FREEZE=!__webpack_require__(84)(function(){return isExtensible(Object.preventExtensions({}))}),setMeta=function(it){setDesc(it,META,{value:{i:"O"+ ++id,w:{}}})},meta=module.exports={KEY:META,NEED:!1,fastKey:function(it,create){if(!isObject(it))return"symbol"==typeof it?it:("string"==typeof it?"S":"P")+it;if(!has(it,META)){if(!isExtensible(it))return"F";if(!create)return"E";setMeta(it)}return it[META].i},getWeak:function(it,create){if(!has(it,META)){if(!isExtensible(it))return!0;if(!create)return!1;setMeta(it)}return it[META].w},onFreeze:function(it){return FREEZE&&meta.NEED&&isExtensible(it)&&!has(it,META)&&setMeta(it),it}}},function(module,exports){},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(685),__esModule:!0}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _isIterable3=_interopRequireDefault(__webpack_require__(688)),_getIterator3=_interopRequireDefault(__webpack_require__(72));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=function(arr,i){if(Array.isArray(arr))return arr;if((0,_isIterable3.default)(Object(arr)))return function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=(0,_getIterator3.default)(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(712),__esModule:!0}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _toConsumableArray3=_interopRequireDefault(__webpack_require__(69)),_defineProperty3=_interopRequireDefault(__webpack_require__(48)),_extends6=_interopRequireDefault(__webpack_require__(5)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(4)),_classCallCheck3=_interopRequireDefault(__webpack_require__(1)),_createClass3=_interopRequireDefault(__webpack_require__(2)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(6)),_inherits3=_interopRequireDefault(__webpack_require__(7)),_get2=_interopRequireDefault(__webpack_require__(11)),_Association3=_interopRequireDefault(__webpack_require__(107)),_dsl=__webpack_require__(90),_store=__webpack_require__(134);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var HasMany=function(_Association){function HasMany(){var _ref,_temp,_this,_ret;(0,_classCallCheck3.default)(this,HasMany);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _temp=_this=(0,_possibleConstructorReturn3.default)(this,(_ref=HasMany.__proto__||(0,_getPrototypeOf2.default)(HasMany)).call.apply(_ref,[this].concat(args))),_this.updateRelationshipData=function(getUpdatedRelationshipData){return function(dispatch,getState){var previousRelationship=(0,_store.getDocumentFromState)(getState(),_this.target._type,_this.target._id);dispatch((0,_store.receiveQueryResult)(null,{data:(0,_extends6.default)({},previousRelationship,{relationships:(0,_extends6.default)({},previousRelationship.relationships,(0,_defineProperty3.default)({},_this.name,getUpdatedRelationshipData(previousRelationship.relationships[_this.name])))})}))}},_ret=_temp,(0,_possibleConstructorReturn3.default)(_this,_ret)}return(0,_inherits3.default)(HasMany,_Association),(0,_createClass3.default)(HasMany,[{key:"fetchMore",value:function(){throw"Not implemented"}},{key:"exists",value:function(document){return this.existsById(document._id)}},{key:"existsById",value:function(id){return void 0!==this.getRelationship().data.find(function(_ref2){var _id=_ref2._id;return id===_id})}},{key:"addById",value:function(ids){var _target$relationships,_this2=this;this.target.relationships||(this.target.relationships={}),this.target.relationships[this.name]||(this.target.relationships[this.name]={data:[]});var newRelations=(ids=Array.isArray(ids)?ids:[ids]).filter(function(id){return!_this2.existsById(id)}).map(function(id){return{_id:id,_type:_this2.doctype}});return(_target$relationships=this.target.relationships[this.name].data).push.apply(_target$relationships,(0,_toConsumableArray3.default)(newRelations)),this.updateMetaCount(),this.save(this.target)}},{key:"removeById",value:function(ids){return ids=Array.isArray(ids)?ids:[ids],this.target.relationships[this.name].data=this.target.relationships[this.name].data.filter(function(_ref3){var _id=_ref3._id;return!ids.includes(_id)}),this.updateMetaCount(),this.save(this.target)}},{key:"updateMetaCount",value:function(){void 0!==(0,_get2.default)(this.target.relationships[this.name],"meta.count")&&(this.target.relationships[this.name].meta=(0,_extends6.default)({},this.target.relationships[this.name].meta,{count:this.target.relationships[this.name].data.length}))}},{key:"getRelationship",value:function(){var rawData=this.target[this.name],relationship=(0,_get2.default)(this.target,"relationships."+this.name);return relationship||(rawData&&rawData.length&&console.warn("You're trying to access data on a relationship that appear to not be loaded yet. You may want to use 'include()' on your query"),{data:[],next:!0,meta:{count:0}})}},{key:"updateTargetRelationship",value:function(store,updateFn){var prevTarget=store.readDocument(this.target._type,this.target._id);store.writeDocument(this.updateRelationship(prevTarget,updateFn))}},{key:"updateRelationship",value:function(target,updateFn){return(0,_extends6.default)({},target,{relationships:(0,_extends6.default)({},target.relationships,(0,_defineProperty3.default)({},this.name,(0,_extends6.default)({},target.relationships[this.name],updateFn(target.relationships[this.name]))))})}},{key:"dehydrate",value:function(doc){return(0,_extends6.default)({},doc,{relationships:(0,_extends6.default)({},doc.relationships,(0,_defineProperty3.default)({},this.name,{data:this.raw}))})}},{key:"raw",get:function(){return this.getRelationship().data}},{key:"data",get:function(){var _this3=this;return this.getRelationship().data.map(function(_ref4){var _id=_ref4._id,_type=_ref4._type;return _this3.get(_type,_id)})}},{key:"hasMore",get:function(){return this.getRelationship().next}},{key:"count",get:function(){var relationship=this.getRelationship();return relationship.meta?relationship.meta.count:relationship.data.length}}],[{key:"query",value:function(document,client,assoc){var ids=(0,_get2.default)(document,"relationships."+assoc.name+".data",[]).map(function(assoc){return assoc._id});return new _dsl.QueryDefinition({doctype:assoc.doctype,ids:ids})}}]),HasMany}(_Association3.default);exports.default=HasMany},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(4)),_getOwnPropertyDescriptor2=_interopRequireDefault(__webpack_require__(720));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.default=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=(0,_getOwnPropertyDescriptor2.default)(object,property);if(void 0===desc){var parent=(0,_getPrototypeOf2.default)(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0}},function(module,exports,__webpack_require__){var baseUniq=__webpack_require__(165);module.exports=function(array){return array&&array.length?baseUniq(array):[]}},function(module,exports,__webpack_require__){var buffer=__webpack_require__(59),Buffer=buffer.Buffer;function copyProps(src,dst){for(var key in src)dst[key]=src[key]}function SafeBuffer(arg,encodingOrOffset,length){return Buffer(arg,encodingOrOffset,length)}Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow?module.exports=buffer:(copyProps(buffer,exports),exports.Buffer=SafeBuffer),SafeBuffer.prototype=Object.create(Buffer.prototype),copyProps(Buffer,SafeBuffer),SafeBuffer.from=function(arg,encodingOrOffset,length){if("number"==typeof arg)throw new TypeError("Argument must not be a number");return Buffer(arg,encodingOrOffset,length)},SafeBuffer.alloc=function(size,fill,encoding){if("number"!=typeof size)throw new TypeError("Argument must be a number");var buf=Buffer(size);return void 0!==fill?"string"==typeof encoding?buf.fill(fill,encoding):buf.fill(fill):buf.fill(0),buf},SafeBuffer.allocUnsafe=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return Buffer(size)},SafeBuffer.allocUnsafeSlow=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return buffer.SlowBuffer(size)}},function(module,exports,__webpack_require__){var DomUtils=module.exports;[__webpack_require__(1057),__webpack_require__(1061),__webpack_require__(1062),__webpack_require__(1063),__webpack_require__(1064),__webpack_require__(1065)].forEach(function(ext){Object.keys(ext).forEach(function(key){DomUtils[key]=ext[key].bind(DomUtils)})})},function(module,exports,__webpack_require__){var flatten=__webpack_require__(115),overRest=__webpack_require__(313),setToString=__webpack_require__(268);module.exports=function(func){return setToString(overRest(func,void 0,flatten),func+"")}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HasManyTriggers=exports.HasManyInPlace=exports.HasOneInPlace=exports.HasOne=exports.HasMany=exports.HasManyFiles=exports.Association=exports.create=exports.resolveClass=void 0;var _helpers=__webpack_require__(372);Object.defineProperty(exports,"resolveClass",{enumerable:!0,get:function(){return _helpers.resolveClass}}),Object.defineProperty(exports,"create",{enumerable:!0,get:function(){return _helpers.create}});var _HasManyFiles2=_interopRequireDefault(__webpack_require__(381)),_HasMany2=_interopRequireDefault(__webpack_require__(176)),_HasOne2=_interopRequireDefault(__webpack_require__(373)),_HasOneInPlace2=_interopRequireDefault(__webpack_require__(374)),_HasManyInPlace2=_interopRequireDefault(__webpack_require__(380)),_HasManyTriggers2=_interopRequireDefault(__webpack_require__(723)),_Association2=_interopRequireDefault(__webpack_require__(107));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.Association=_Association2.default,exports.HasManyFiles=_HasManyFiles2.default,exports.HasMany=_HasMany2.default,exports.HasOne=_HasOne2.default,exports.HasOneInPlace=_HasOneInPlace2.default,exports.HasManyInPlace=_HasManyInPlace2.default,exports.HasManyTriggers=_HasManyTriggers2.default},function(module,exports,__webpack_require__){module.exports=__webpack_require__(774)()},,function(module,exports,__webpack_require__){"use strict";var scheduleDrain,draining,Mutation=global.MutationObserver||global.WebKitMutationObserver;if(process.browser)if(Mutation){var called=0,observer=new Mutation(nextTick),element=global.document.createTextNode("");observer.observe(element,{characterData:!0}),scheduleDrain=function(){element.data=called=++called%2}}else if(global.setImmediate||void 0===global.MessageChannel)scheduleDrain="document"in global&&"onreadystatechange"in global.document.createElement("script")?function(){var scriptEl=global.document.createElement("script");scriptEl.onreadystatechange=function(){nextTick(),scriptEl.onreadystatechange=null,scriptEl.parentNode.removeChild(scriptEl),scriptEl=null},global.document.documentElement.appendChild(scriptEl)}:function(){setTimeout(nextTick,0)};else{var channel=new global.MessageChannel;channel.port1.onmessage=nextTick,scheduleDrain=function(){channel.port2.postMessage(0)}}else scheduleDrain=function(){process.nextTick(nextTick)};var queue=[];function nextTick(){var i,oldQueue;draining=!0;for(var len=queue.length;len;){for(oldQueue=queue,queue=[],i=-1;++i<len;)oldQueue[i]();len=queue.length}draining=!1}module.exports=function(task){1!==queue.push(task)||draining||scheduleDrain()}},function(module,exports){module.exports=require("querystring")},function(module,exports,__webpack_require__){var baseAssignValue=__webpack_require__(102),eq=__webpack_require__(114),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(void 0!==value||key in object)||baseAssignValue(object,key,value)}},function(module,exports){var objectProto=Object.prototype;module.exports=function(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}},function(module,exports,__webpack_require__){var baseIndexOf=__webpack_require__(270);module.exports=function(array,value){return!(null==array||!array.length)&&baseIndexOf(array,value,0)>-1}},function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(36),baseIteratee=__webpack_require__(19),baseMap=__webpack_require__(339),isArray=__webpack_require__(12);module.exports=function(collection,iteratee){return(isArray(collection)?arrayMap:baseMap)(collection,baseIteratee(iteratee,3))}},,function(module,exports){module.exports=require("assert")},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(77),getPrototype=__webpack_require__(160),isObjectLike=__webpack_require__(32),objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);module.exports=function(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag)return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}},function(module,exports,__webpack_require__){var baseIsEqualDeep=__webpack_require__(553),isObjectLike=__webpack_require__(32);module.exports=function baseIsEqual(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!=value&&other!=other:baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual,stack))}},function(module,exports){module.exports=function(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}},function(module,exports,__webpack_require__){"use strict";function checkDataType(dataType,data,negate){var EQUAL=negate?" !== ":" === ",AND=negate?" || ":" && ",OK=negate?"!":"",NOT=negate?"":"!";switch(dataType){case"null":return data+EQUAL+"null";case"array":return OK+"Array.isArray("+data+")";case"object":return"("+OK+data+AND+"typeof "+data+EQUAL+'"object"'+AND+NOT+"Array.isArray("+data+"))";case"integer":return"(typeof "+data+EQUAL+'"number"'+AND+NOT+"("+data+" % 1)"+AND+data+EQUAL+data+")";default:return"typeof "+data+EQUAL+'"'+dataType+'"'}}module.exports={copy:function(o,to){for(var key in to=to||{},o)to[key]=o[key];return to},checkDataType:checkDataType,checkDataTypes:function(dataTypes,data){switch(dataTypes.length){case 1:return checkDataType(dataTypes[0],data,!0);default:var code="",types=toHash(dataTypes);for(var t in types.array&&types.object&&(code=types.null?"(":"(!"+data+" || ",code+="typeof "+data+' !== "object")',delete types.null,delete types.array,delete types.object),types.number&&delete types.integer,types)code+=(code?" && ":"")+checkDataType(t,data,!0);return code}},coerceToTypes:function(optionCoerceTypes,dataTypes){if(Array.isArray(dataTypes)){for(var types=[],i=0;i<dataTypes.length;i++){var t=dataTypes[i];COERCE_TO_TYPES[t]?types[types.length]=t:"array"===optionCoerceTypes&&"array"===t&&(types[types.length]=t)}if(types.length)return types}else{if(COERCE_TO_TYPES[dataTypes])return[dataTypes];if("array"===optionCoerceTypes&&"array"===dataTypes)return["array"]}},toHash:toHash,getProperty:getProperty,escapeQuotes:escapeQuotes,equal:__webpack_require__(448),ucs2length:__webpack_require__(992),varOccurences:function(str,dataVar){dataVar+="[^0-9]";var matches=str.match(new RegExp(dataVar,"g"));return matches?matches.length:0},varReplace:function(str,dataVar,expr){return dataVar+="([^0-9])",expr=expr.replace(/\$/g,"$$$$"),str.replace(new RegExp(dataVar,"g"),expr+"$1")},cleanUpCode:function(out){return out.replace(EMPTY_ELSE,"").replace(EMPTY_IF_NO_ELSE,"").replace(EMPTY_IF_WITH_ELSE,"if (!($1))")},finalCleanUpCode:function(out,async){var matches=out.match(ERRORS_REGEXP);matches&&2==matches.length&&(out=async?out.replace(REMOVE_ERRORS_ASYNC,"").replace(RETURN_ASYNC,RETURN_DATA_ASYNC):out.replace(REMOVE_ERRORS,"").replace(RETURN_VALID,RETURN_TRUE));return(matches=out.match(ROOTDATA_REGEXP))&&3===matches.length?out.replace(REMOVE_ROOTDATA,""):out},schemaHasRules:function(schema,rules){if("boolean"==typeof schema)return!schema;for(var key in schema)if(rules[key])return!0},schemaHasRulesExcept:function(schema,rules,exceptKeyword){if("boolean"==typeof schema)return!schema&&"not"!=exceptKeyword;for(var key in schema)if(key!=exceptKeyword&&rules[key])return!0},schemaUnknownRules:function(schema,rules){if("boolean"==typeof schema)return;for(var key in schema)if(!rules[key])return key},toQuotedString:toQuotedString,getPathExpr:function(currentPath,expr,jsonPointers,isNumber){return joinPaths(currentPath,jsonPointers?"'/' + "+expr+(isNumber?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):isNumber?"'[' + "+expr+" + ']'":"'[\\'' + "+expr+" + '\\']'")},getPath:function(currentPath,prop,jsonPointers){var path=toQuotedString(jsonPointers?"/"+escapeJsonPointer(prop):getProperty(prop));return joinPaths(currentPath,path)},getData:function($data,lvl,paths){var up,jsonPointer,data,matches;if(""===$data)return"rootData";if("/"==$data[0]){if(!JSON_POINTER.test($data))throw new Error("Invalid JSON-pointer: "+$data);jsonPointer=$data,data="rootData"}else{if(!(matches=$data.match(RELATIVE_JSON_POINTER)))throw new Error("Invalid JSON-pointer: "+$data);if(up=+matches[1],"#"==(jsonPointer=matches[2])){if(up>=lvl)throw new Error("Cannot access property/index "+up+" levels up, current level is "+lvl);return paths[lvl-up]}if(up>lvl)throw new Error("Cannot access data "+up+" levels up, current level is "+lvl);if(data="data"+(lvl-up||""),!jsonPointer)return data}for(var expr=data,segments=jsonPointer.split("/"),i=0;i<segments.length;i++){var segment=segments[i];segment&&(data+=getProperty(unescapeJsonPointer(segment)),expr+=" && "+data)}return expr},unescapeFragment:function(str){return unescapeJsonPointer(decodeURIComponent(str))},unescapeJsonPointer:unescapeJsonPointer,escapeFragment:function(str){return encodeURIComponent(escapeJsonPointer(str))},escapeJsonPointer:escapeJsonPointer};var COERCE_TO_TYPES=toHash(["string","number","integer","boolean","null"]);function toHash(arr){for(var hash={},i=0;i<arr.length;i++)hash[arr[i]]=!0;return hash}var IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i,SINGLE_QUOTE=/'|\\/g;function getProperty(key){return"number"==typeof key?"["+key+"]":IDENTIFIER.test(key)?"."+key:"['"+escapeQuotes(key)+"']"}function escapeQuotes(str){return str.replace(SINGLE_QUOTE,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}var EMPTY_ELSE=/else\s*{\s*}/g,EMPTY_IF_NO_ELSE=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,EMPTY_IF_WITH_ELSE=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g;var ERRORS_REGEXP=/[^v.]errors/g,REMOVE_ERRORS=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,REMOVE_ERRORS_ASYNC=/var errors = 0;|var vErrors = null;/g,RETURN_VALID="return errors === 0;",RETURN_TRUE="validate.errors = null; return true;",RETURN_ASYNC=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,RETURN_DATA_ASYNC="return data;",ROOTDATA_REGEXP=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,REMOVE_ROOTDATA=/if \(rootData === undefined\) rootData = data;/;function toQuotedString(str){return"'"+escapeQuotes(str)+"'"}var JSON_POINTER=/^\/(?:[^~]|~0|~1)*$/,RELATIVE_JSON_POINTER=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function joinPaths(a,b){return'""'==a?b:(a+" + "+b).replace(/' \+ '/g,"")}function escapeJsonPointer(str){return str.replace(/~/g,"~0").replace(/\//g,"~1")}function unescapeJsonPointer(str){return str.replace(/~1/g,"/").replace(/~0/g,"~")}},function(module,exports){module.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(elem){return"tag"===elem.type||"script"===elem.type||"style"===elem.type}}},function(module,exports,__webpack_require__){"use strict";const codes={};function createErrorType(code,message,Base){Base||(Base=Error);class NodeError extends Base{constructor(arg1,arg2,arg3){super(function(arg1,arg2,arg3){return"string"==typeof message?message:message(arg1,arg2,arg3)}(arg1,arg2,arg3))}}NodeError.prototype.name=Base.name,NodeError.prototype.code=code,codes[code]=NodeError}function oneOf(expected,thing){if(Array.isArray(expected)){const len=expected.length;return expected=expected.map(i=>String(i)),len>2?`one of ${thing} ${expected.slice(0,len-1).join(", ")}, or `+expected[len-1]:2===len?`one of ${thing} ${expected[0]} or ${expected[1]}`:`of ${thing} ${expected[0]}`}return`of ${thing} ${String(expected)}`}createErrorType("ERR_INVALID_OPT_VALUE",function(name,value){return'The value "'+value+'" is invalid for option "'+name+'"'},TypeError),createErrorType("ERR_INVALID_ARG_TYPE",function(name,expected,actual){let determiner;var search,pos;let msg;if("string"==typeof expected&&(search="not ",expected.substr(!pos||pos<0?0:+pos,search.length)===search)?(determiner="must not be",expected=expected.replace(/^not /,"")):determiner="must be",function(str,search,this_len){return(void 0===this_len||this_len>str.length)&&(this_len=str.length),str.substring(this_len-search.length,this_len)===search}(name," argument"))msg=`The ${name} ${determiner} ${oneOf(expected,"type")}`;else{msg=`The "${name}" ${function(str,search,start){return"number"!=typeof start&&(start=0),!(start+search.length>str.length)&&-1!==str.indexOf(search,start)}(name,".")?"property":"argument"} ${determiner} ${oneOf(expected,"type")}`}return msg+=`. Received type ${typeof actual}`},TypeError),createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),createErrorType("ERR_METHOD_NOT_IMPLEMENTED",function(name){return"The "+name+" method is not implemented"}),createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close"),createErrorType("ERR_STREAM_DESTROYED",function(name){return"Cannot call "+name+" after a stream was destroyed"}),createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end"),createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),createErrorType("ERR_UNKNOWN_ENCODING",function(arg){return"Unknown encoding: "+arg},TypeError),createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),module.exports.codes=codes},function(module,exports,__webpack_require__){"use strict";var objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};module.exports=Duplex;var Readable=__webpack_require__(832),Writable=__webpack_require__(836);__webpack_require__(22)(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}function Duplex(options){if(!(this instanceof Duplex))return new Duplex(options);Readable.call(this,options),Writable.call(this,options),this.allowHalfOpen=!0,options&&(!1===options.readable&&(this.readable=!1),!1===options.writable&&(this.writable=!1),!1===options.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",onend)))}function onend(){this._writableState.ended||process.nextTick(onEndNT,this)}function onEndNT(self){self.end()}Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Duplex.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Duplex.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Duplex.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(value){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=value,this._writableState.destroyed=value)}})},function(module,exports,__webpack_require__){"use strict";var Preprocessor=__webpack_require__(1076),UNICODE=__webpack_require__(267),neTree=__webpack_require__(1077),$=UNICODE.CODE_POINTS,$$=UNICODE.CODE_POINT_SEQUENCES,NUMERIC_ENTITY_REPLACEMENTS={0:65533,13:13,128:8364,129:129,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,141:141,142:381,143:143,144:144,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,157:157,158:382,159:376},DATA_STATE="DATA_STATE";function isWhitespace(cp){return cp===$.SPACE||cp===$.LINE_FEED||cp===$.TABULATION||cp===$.FORM_FEED}function isAsciiDigit(cp){return cp>=$.DIGIT_0&&cp<=$.DIGIT_9}function isAsciiUpper(cp){return cp>=$.LATIN_CAPITAL_A&&cp<=$.LATIN_CAPITAL_Z}function isAsciiLower(cp){return cp>=$.LATIN_SMALL_A&&cp<=$.LATIN_SMALL_Z}function isAsciiLetter(cp){return isAsciiLower(cp)||isAsciiUpper(cp)}function isDigit(cp,isHex){return isAsciiDigit(cp)||isHex&&(cp>=$.LATIN_CAPITAL_A&&cp<=$.LATIN_CAPITAL_F||cp>=$.LATIN_SMALL_A&&cp<=$.LATIN_SMALL_F)}function toAsciiLowerCodePoint(cp){return cp+32}function toChar(cp){return cp<=65535?String.fromCharCode(cp):(cp-=65536,String.fromCharCode(cp>>>10&1023|55296)+String.fromCharCode(56320|1023&cp))}function toAsciiLowerChar(cp){return String.fromCharCode(toAsciiLowerCodePoint(cp))}function findNamedEntityTreeBranch(nodeIx,cp){for(var branchCount=neTree[++nodeIx],lo=++nodeIx,hi=lo+branchCount-1;lo<=hi;){var mid=lo+hi>>>1,midCp=neTree[mid];if(midCp<cp)lo=mid+1;else{if(!(midCp>cp))return neTree[mid+branchCount];hi=mid-1}}return-1}var Tokenizer=module.exports=function(){this.preprocessor=new Preprocessor,this.tokenQueue=[],this.allowCDATA=!1,this.state=DATA_STATE,this.returnState="",this.tempBuff=[],this.additionalAllowedCp=void 0,this.lastStartTagName="",this.consumedAfterSnapshot=-1,this.active=!1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr=null};Tokenizer.CHARACTER_TOKEN="CHARACTER_TOKEN",Tokenizer.NULL_CHARACTER_TOKEN="NULL_CHARACTER_TOKEN",Tokenizer.WHITESPACE_CHARACTER_TOKEN="WHITESPACE_CHARACTER_TOKEN",Tokenizer.START_TAG_TOKEN="START_TAG_TOKEN",Tokenizer.END_TAG_TOKEN="END_TAG_TOKEN",Tokenizer.COMMENT_TOKEN="COMMENT_TOKEN",Tokenizer.DOCTYPE_TOKEN="DOCTYPE_TOKEN",Tokenizer.EOF_TOKEN="EOF_TOKEN",Tokenizer.HIBERNATION_TOKEN="HIBERNATION_TOKEN",Tokenizer.MODE={DATA:DATA_STATE,RCDATA:"RCDATA_STATE",RAWTEXT:"RAWTEXT_STATE",SCRIPT_DATA:"SCRIPT_DATA_STATE",PLAINTEXT:"PLAINTEXT_STATE"},Tokenizer.getTokenAttr=function(token,attrName){for(var i=token.attrs.length-1;i>=0;i--)if(token.attrs[i].name===attrName)return token.attrs[i].value;return null},Tokenizer.prototype.getNextToken=function(){for(;!this.tokenQueue.length&&this.active;){this._hibernationSnapshot();var cp=this._consume();this._ensureHibernation()||this[this.state](cp)}return this.tokenQueue.shift()},Tokenizer.prototype.write=function(chunk,isLastChunk){this.active=!0,this.preprocessor.write(chunk,isLastChunk)},Tokenizer.prototype.insertHtmlAtCurrentPos=function(chunk){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(chunk)},Tokenizer.prototype._hibernationSnapshot=function(){this.consumedAfterSnapshot=0},Tokenizer.prototype._ensureHibernation=function(){if(this.preprocessor.endOfChunkHit){for(;this.consumedAfterSnapshot>0;this.consumedAfterSnapshot--)this.preprocessor.retreat();return this.active=!1,this.tokenQueue.push({type:Tokenizer.HIBERNATION_TOKEN}),!0}return!1},Tokenizer.prototype._consume=function(){return this.consumedAfterSnapshot++,this.preprocessor.advance()},Tokenizer.prototype._unconsume=function(){this.consumedAfterSnapshot--,this.preprocessor.retreat()},Tokenizer.prototype._unconsumeSeveral=function(count){for(;count--;)this._unconsume()},Tokenizer.prototype._reconsumeInState=function(state){this.state=state,this._unconsume()},Tokenizer.prototype._consumeSubsequentIfMatch=function(pattern,startCp,caseSensitive){for(var consumedCount=0,isMatch=!0,patternLength=pattern.length,patternPos=0,cp=startCp,patternCp=void 0;patternPos<patternLength;patternPos++){if(patternPos>0&&(cp=this._consume(),consumedCount++),cp===$.EOF){isMatch=!1;break}if(cp!==(patternCp=pattern[patternPos])&&(caseSensitive||cp!==toAsciiLowerCodePoint(patternCp))){isMatch=!1;break}}return isMatch||this._unconsumeSeveral(consumedCount),isMatch},Tokenizer.prototype._lookahead=function(){var cp=this._consume();return this._unconsume(),cp},Tokenizer.prototype.isTempBufferEqualToScriptString=function(){if(this.tempBuff.length!==$$.SCRIPT_STRING.length)return!1;for(var i=0;i<this.tempBuff.length;i++)if(this.tempBuff[i]!==$$.SCRIPT_STRING[i])return!1;return!0},Tokenizer.prototype._createStartTagToken=function(){this.currentToken={type:Tokenizer.START_TAG_TOKEN,tagName:"",selfClosing:!1,attrs:[]}},Tokenizer.prototype._createEndTagToken=function(){this.currentToken={type:Tokenizer.END_TAG_TOKEN,tagName:"",attrs:[]}},Tokenizer.prototype._createCommentToken=function(){this.currentToken={type:Tokenizer.COMMENT_TOKEN,data:""}},Tokenizer.prototype._createDoctypeToken=function(initialName){this.currentToken={type:Tokenizer.DOCTYPE_TOKEN,name:initialName,forceQuirks:!1,publicId:null,systemId:null}},Tokenizer.prototype._createCharacterToken=function(type,ch){this.currentCharacterToken={type:type,chars:ch}},Tokenizer.prototype._createAttr=function(attrNameFirstCh){this.currentAttr={name:attrNameFirstCh,value:""}},Tokenizer.prototype._isDuplicateAttr=function(){return null!==Tokenizer.getTokenAttr(this.currentToken,this.currentAttr.name)},Tokenizer.prototype._leaveAttrName=function(toState){this.state=toState,this._isDuplicateAttr()||this.currentToken.attrs.push(this.currentAttr)},Tokenizer.prototype._leaveAttrValue=function(toState){this.state=toState},Tokenizer.prototype._isAppropriateEndTagToken=function(){return this.lastStartTagName===this.currentToken.tagName},Tokenizer.prototype._emitCurrentToken=function(){this._emitCurrentCharacterToken(),this.currentToken.type===Tokenizer.START_TAG_TOKEN&&(this.lastStartTagName=this.currentToken.tagName),this.tokenQueue.push(this.currentToken),this.currentToken=null},Tokenizer.prototype._emitCurrentCharacterToken=function(){this.currentCharacterToken&&(this.tokenQueue.push(this.currentCharacterToken),this.currentCharacterToken=null)},Tokenizer.prototype._emitEOFToken=function(){this._emitCurrentCharacterToken(),this.tokenQueue.push({type:Tokenizer.EOF_TOKEN})},Tokenizer.prototype._appendCharToCurrentCharacterToken=function(type,ch){this.currentCharacterToken&&this.currentCharacterToken.type!==type&&this._emitCurrentCharacterToken(),this.currentCharacterToken?this.currentCharacterToken.chars+=ch:this._createCharacterToken(type,ch)},Tokenizer.prototype._emitCodePoint=function(cp){var type=Tokenizer.CHARACTER_TOKEN;isWhitespace(cp)?type=Tokenizer.WHITESPACE_CHARACTER_TOKEN:cp===$.NULL&&(type=Tokenizer.NULL_CHARACTER_TOKEN),this._appendCharToCurrentCharacterToken(type,toChar(cp))},Tokenizer.prototype._emitSeveralCodePoints=function(codePoints){for(var i=0;i<codePoints.length;i++)this._emitCodePoint(codePoints[i])},Tokenizer.prototype._emitChar=function(ch){this._appendCharToCurrentCharacterToken(Tokenizer.CHARACTER_TOKEN,ch)},Tokenizer.prototype._consumeNumericEntity=function(isHex){var digits="",nextCp=void 0;do{digits+=toChar(this._consume()),nextCp=this._lookahead()}while(nextCp!==$.EOF&&isDigit(nextCp,isHex));this._lookahead()===$.SEMICOLON&&this._consume();var cp,referencedCp=parseInt(digits,isHex?16:10),replacement=NUMERIC_ENTITY_REPLACEMENTS[referencedCp];return replacement||((cp=referencedCp)>=55296&&cp<=57343||cp>1114111?$.REPLACEMENT_CHARACTER:referencedCp)},Tokenizer.prototype._consumeNamedEntity=function(inAttr){for(var referencedCodePoints=null,referenceSize=0,cp=null,consumedCount=0,semicolonTerminated=!1,i=0;i>-1;){var current=neTree[i],inNode=current<7;if(inNode&&1&current&&(referencedCodePoints=2&current?[neTree[++i],neTree[++i]]:[neTree[++i]],referenceSize=consumedCount,cp===$.SEMICOLON)){semicolonTerminated=!0;break}if(consumedCount++,(cp=this._consume())===$.EOF)break;i=inNode?4&current?findNamedEntityTreeBranch(i,cp):-1:cp===current?++i:-1}if(referencedCodePoints){if(!semicolonTerminated&&(this._unconsumeSeveral(consumedCount-referenceSize),inAttr)){var nextCp=this._lookahead();if(nextCp===$.EQUALS_SIGN||function(cp){return isAsciiLetter(cp)||isAsciiDigit(cp)}(nextCp))return this._unconsumeSeveral(referenceSize),null}return referencedCodePoints}return this._unconsumeSeveral(consumedCount),null},Tokenizer.prototype._consumeCharacterReference=function(startCp,inAttr){if(isWhitespace(startCp)||startCp===$.GREATER_THAN_SIGN||startCp===$.AMPERSAND||startCp===this.additionalAllowedCp||startCp===$.EOF)return this._unconsume(),null;if(startCp===$.NUMBER_SIGN){var isHex=!1,nextCp=this._lookahead();return nextCp!==$.LATIN_SMALL_X&&nextCp!==$.LATIN_CAPITAL_X||(this._consume(),isHex=!0),(nextCp=this._lookahead())!==$.EOF&&isDigit(nextCp,isHex)?[this._consumeNumericEntity(isHex)]:(this._unconsumeSeveral(isHex?2:1),null)}return this._unconsume(),this._consumeNamedEntity(inAttr)};var _=Tokenizer.prototype;_.DATA_STATE=function(cp){this.preprocessor.dropParsedChunk(),cp===$.AMPERSAND?this.state="CHARACTER_REFERENCE_IN_DATA_STATE":cp===$.LESS_THAN_SIGN?this.state="TAG_OPEN_STATE":cp===$.NULL?this._emitCodePoint(cp):cp===$.EOF?this._emitEOFToken():this._emitCodePoint(cp)},_.CHARACTER_REFERENCE_IN_DATA_STATE=function(cp){this.additionalAllowedCp=void 0;var referencedCodePoints=this._consumeCharacterReference(cp,!1);this._ensureHibernation()||(referencedCodePoints?this._emitSeveralCodePoints(referencedCodePoints):this._emitChar("&"),this.state=DATA_STATE)},_.RCDATA_STATE=function(cp){this.preprocessor.dropParsedChunk(),cp===$.AMPERSAND?this.state="CHARACTER_REFERENCE_IN_RCDATA_STATE":cp===$.LESS_THAN_SIGN?this.state="RCDATA_LESS_THAN_SIGN_STATE":cp===$.NULL?this._emitChar(UNICODE.REPLACEMENT_CHARACTER):cp===$.EOF?this._emitEOFToken():this._emitCodePoint(cp)},_.CHARACTER_REFERENCE_IN_RCDATA_STATE=function(cp){this.additionalAllowedCp=void 0;var referencedCodePoints=this._consumeCharacterReference(cp,!1);this._ensureHibernation()||(referencedCodePoints?this._emitSeveralCodePoints(referencedCodePoints):this._emitChar("&"),this.state="RCDATA_STATE")},_.RAWTEXT_STATE=function(cp){this.preprocessor.dropParsedChunk(),cp===$.LESS_THAN_SIGN?this.state="RAWTEXT_LESS_THAN_SIGN_STATE":cp===$.NULL?this._emitChar(UNICODE.REPLACEMENT_CHARACTER):cp===$.EOF?this._emitEOFToken():this._emitCodePoint(cp)},_.SCRIPT_DATA_STATE=function(cp){this.preprocessor.dropParsedChunk(),cp===$.LESS_THAN_SIGN?this.state="SCRIPT_DATA_LESS_THAN_SIGN_STATE":cp===$.NULL?this._emitChar(UNICODE.REPLACEMENT_CHARACTER):cp===$.EOF?this._emitEOFToken():this._emitCodePoint(cp)},_.PLAINTEXT_STATE=function(cp){this.preprocessor.dropParsedChunk(),cp===$.NULL?this._emitChar(UNICODE.REPLACEMENT_CHARACTER):cp===$.EOF?this._emitEOFToken():this._emitCodePoint(cp)},_.TAG_OPEN_STATE=function(cp){cp===$.EXCLAMATION_MARK?this.state="MARKUP_DECLARATION_OPEN_STATE":cp===$.SOLIDUS?this.state="END_TAG_OPEN_STATE":isAsciiLetter(cp)?(this._createStartTagToken(),this._reconsumeInState("TAG_NAME_STATE")):cp===$.QUESTION_MARK?this._reconsumeInState("BOGUS_COMMENT_STATE"):(this._emitChar("<"),this._reconsumeInState(DATA_STATE))},_.END_TAG_OPEN_STATE=function(cp){isAsciiLetter(cp)?(this._createEndTagToken(),this._reconsumeInState("TAG_NAME_STATE")):cp===$.GREATER_THAN_SIGN?this.state=DATA_STATE:cp===$.EOF?(this._reconsumeInState(DATA_STATE),this._emitChar("<"),this._emitChar("/")):this._reconsumeInState("BOGUS_COMMENT_STATE")},_.TAG_NAME_STATE=function(cp){isWhitespace(cp)?this.state="BEFORE_ATTRIBUTE_NAME_STATE":cp===$.SOLIDUS?this.state="SELF_CLOSING_START_TAG_STATE":cp===$.GREATER_THAN_SIGN?(this.state=DATA_STATE,this._emitCurrentToken()):isAsciiUpper(cp)?this.currentToken.tagName+=toAsciiLowerChar(cp):cp===$.NULL?this.currentToken.tagName+=UNICODE.REPLACEMENT_CHARACTER:cp===$.EOF?this._reconsumeInState(DATA_STATE):this.currentToken.tagName+=toChar(cp)},_.RCDATA_LESS_THAN_SIGN_STATE=function(cp){cp===$.SOLIDUS?(this.tempBuff=[],this.state="RCDATA_END_TAG_OPEN_STATE"):(this._emitChar("<"),this._reconsumeInState("RCDATA_STATE"))},_.RCDATA_END_TAG_OPEN_STATE=function(cp){isAsciiLetter(cp)?(this._createEndTagToken(),this._reconsumeInState("RCDATA_END_TAG_NAME_STATE")):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState("RCDATA_STATE"))},_.RCDATA_END_TAG_NAME_STATE=function(cp){if(isAsciiUpper(cp))this.currentToken.tagName+=toAsciiLowerChar(cp),this.tempBuff.push(cp);else if(isAsciiLower(cp))this.currentToken.tagName+=toChar(cp),this.tempBuff.push(cp);else{if(this._isAppropriateEndTagToken()){if(isWhitespace(cp))return void(this.state="BEFORE_ATTRIBUTE_NAME_STATE");if(cp===$.SOLIDUS)return void(this.state="SELF_CLOSING_START_TAG_STATE");if(cp===$.GREATER_THAN_SIGN)return this.state=DATA_STATE,void this._emitCurrentToken()}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState("RCDATA_STATE")}},_.RAWTEXT_LESS_THAN_SIGN_STATE=function(cp){cp===$.SOLIDUS?(this.tempBuff=[],this.state="RAWTEXT_END_TAG_OPEN_STATE"):(this._emitChar("<"),this._reconsumeInState("RAWTEXT_STATE"))},_.RAWTEXT_END_TAG_OPEN_STATE=function(cp){isAsciiLetter(cp)?(this._createEndTagToken(),this._reconsumeInState("RAWTEXT_END_TAG_NAME_STATE")):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState("RAWTEXT_STATE"))},_.RAWTEXT_END_TAG_NAME_STATE=function(cp){if(isAsciiUpper(cp))this.currentToken.tagName+=toAsciiLowerChar(cp),this.tempBuff.push(cp);else if(isAsciiLower(cp))this.currentToken.tagName+=toChar(cp),this.tempBuff.push(cp);else{if(this._isAppropriateEndTagToken()){if(isWhitespace(cp))return void(this.state="BEFORE_ATTRIBUTE_NAME_STATE");if(cp===$.SOLIDUS)return void(this.state="SELF_CLOSING_START_TAG_STATE");if(cp===$.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=DATA_STATE)}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState("RAWTEXT_STATE")}},_.SCRIPT_DATA_LESS_THAN_SIGN_STATE=function(cp){cp===$.SOLIDUS?(this.tempBuff=[],this.state="SCRIPT_DATA_END_TAG_OPEN_STATE"):cp===$.EXCLAMATION_MARK?(this.state="SCRIPT_DATA_ESCAPE_START_STATE",this._emitChar("<"),this._emitChar("!")):(this._emitChar("<"),this._reconsumeInState("SCRIPT_DATA_STATE"))},_.SCRIPT_DATA_END_TAG_OPEN_STATE=function(cp){isAsciiLetter(cp)?(this._createEndTagToken(),this._reconsumeInState("SCRIPT_DATA_END_TAG_NAME_STATE")):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState("SCRIPT_DATA_STATE"))},_.SCRIPT_DATA_END_TAG_NAME_STATE=function(cp){if(isAsciiUpper(cp))this.currentToken.tagName+=toAsciiLowerChar(cp),this.tempBuff.push(cp);else if(isAsciiLower(cp))this.currentToken.tagName+=toChar(cp),this.tempBuff.push(cp);else{if(this._isAppropriateEndTagToken()){if(isWhitespace(cp))return void(this.state="BEFORE_ATTRIBUTE_NAME_STATE");if(cp===$.SOLIDUS)return void(this.state="SELF_CLOSING_START_TAG_STATE");if(cp===$.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=DATA_STATE)}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState("SCRIPT_DATA_STATE")}},_.SCRIPT_DATA_ESCAPE_START_STATE=function(cp){cp===$.HYPHEN_MINUS?(this.state="SCRIPT_DATA_ESCAPE_START_DASH_STATE",this._emitChar("-")):this._reconsumeInState("SCRIPT_DATA_STATE")},_.SCRIPT_DATA_ESCAPE_START_DASH_STATE=function(cp){cp===$.HYPHEN_MINUS?(this.state="SCRIPT_DATA_ESCAPED_DASH_DASH_STATE",this._emitChar("-")):this._reconsumeInState("SCRIPT_DATA_STATE")},_.SCRIPT_DATA_ESCAPED_STATE=function(cp){cp===$.HYPHEN_MINUS?(this.state="SCRIPT_DATA_ESCAPED_DASH_STATE",this._emitChar("-")):cp===$.LESS_THAN_SIGN?this.state="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE":cp===$.NULL?this._emitChar(UNICODE.REPLACEMENT_CHARACTER):cp===$.EOF?this._reconsumeInState(DATA_STATE):this._emitCodePoint(cp)},_.SCRIPT_DATA_ESCAPED_DASH_STATE=function(cp){cp===$.HYPHEN_MINUS?(this.state="SCRIPT_DATA_ESCAPED_DASH_DASH_STATE",this._emitChar("-")):cp===$.LESS_THAN_SIGN?this.state="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE":cp===$.NULL?(this.state="SCRIPT_DATA_ESCAPED_STATE",this._emitChar(UNICODE.REPLACEMENT_CHARACTER)):cp===$.EOF?this._reconsumeInState(DATA_STATE):(this.state="SCRIPT_DATA_ESCAPED_STATE",this._emitCodePoint(cp))},_.SCRIPT_DATA_ESCAPED_DASH_DASH_STATE=function(cp){cp===$.HYPHEN_MINUS?this._emitChar("-"):cp===$.LESS_THAN_SIGN?this.state="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE":cp===$.GREATER_THAN_SIGN?(this.state="SCRIPT_DATA_STATE",this._emitChar(">")):cp===$.NULL?(this.state="SCRIPT_DATA_ESCAPED_STATE",this._emitChar(UNICODE.REPLACEMENT_CHARACTER)):cp===$.EOF?this._reconsumeInState(DATA_STATE):(this.state="SCRIPT_DATA_ESCAPED_STATE",this._emitCodePoint(cp))},_.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE=function(cp){cp===$.SOLIDUS?(this.tempBuff=[],this.state="SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE"):isAsciiLetter(cp)?(this.tempBuff=[],this._emitChar("<"),this._reconsumeInState("SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE")):(this._emitChar("<"),this._reconsumeInState("SCRIPT_DATA_ESCAPED_STATE"))},_.SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE=function(cp){isAsciiLetter(cp)?(this._createEndTagToken(),this._reconsumeInState("SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE")):(this._emitChar("<"),this._emitChar("/"),this._reconsumeInState("SCRIPT_DATA_ESCAPED_STATE"))},_.SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE=function(cp){if(isAsciiUpper(cp))this.currentToken.tagName+=toAsciiLowerChar(cp),this.tempBuff.push(cp);else if(isAsciiLower(cp))this.currentToken.tagName+=toChar(cp),this.tempBuff.push(cp);else{if(this._isAppropriateEndTagToken()){if(isWhitespace(cp))return void(this.state="BEFORE_ATTRIBUTE_NAME_STATE");if(cp===$.SOLIDUS)return void(this.state="SELF_CLOSING_START_TAG_STATE");if(cp===$.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=DATA_STATE)}this._emitChar("<"),this._emitChar("/"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState("SCRIPT_DATA_ESCAPED_STATE")}},_.SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE=function(cp){isWhitespace(cp)||cp===$.SOLIDUS||cp===$.GREATER_THAN_SIGN?(this.state=this.isTempBufferEqualToScriptString()?"SCRIPT_DATA_DOUBLE_ESCAPED_STATE":"SCRIPT_DATA_ESCAPED_STATE",this._emitCodePoint(cp)):isAsciiUpper(cp)?(this.tempBuff.push(toAsciiLowerCodePoint(cp)),this._emitCodePoint(cp)):isAsciiLower(cp)?(this.tempBuff.push(cp),this._emitCodePoint(cp)):this._reconsumeInState("SCRIPT_DATA_ESCAPED_STATE")},_.SCRIPT_DATA_DOUBLE_ESCAPED_STATE=function(cp){cp===$.HYPHEN_MINUS?(this.state="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE",this._emitChar("-")):cp===$.LESS_THAN_SIGN?(this.state="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",this._emitChar("<")):cp===$.NULL?this._emitChar(UNICODE.REPLACEMENT_CHARACTER):cp===$.EOF?this._reconsumeInState(DATA_STATE):this._emitCodePoint(cp)},_.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE=function(cp){cp===$.HYPHEN_MINUS?(this.state="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE",this._emitChar("-")):cp===$.LESS_THAN_SIGN?(this.state="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",this._emitChar("<")):cp===$.NULL?(this.state="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",this._emitChar(UNICODE.REPLACEMENT_CHARACTER)):cp===$.EOF?this._reconsumeInState(DATA_STATE):(this.state="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",this._emitCodePoint(cp))},_.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE=function(cp){cp===$.HYPHEN_MINUS?this._emitChar("-"):cp===$.LESS_THAN_SIGN?(this.state="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",this._emitChar("<")):cp===$.GREATER_THAN_SIGN?(this.state="SCRIPT_DATA_STATE",this._emitChar(">")):cp===$.NULL?(this.state="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",this._emitChar(UNICODE.REPLACEMENT_CHARACTER)):cp===$.EOF?this._reconsumeInState(DATA_STATE):(this.state="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",this._emitCodePoint(cp))},_.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE=function(cp){cp===$.SOLIDUS?(this.tempBuff=[],this.state="SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE",this._emitChar("/")):this._reconsumeInState("SCRIPT_DATA_DOUBLE_ESCAPED_STATE")},_.SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE=function(cp){isWhitespace(cp)||cp===$.SOLIDUS||cp===$.GREATER_THAN_SIGN?(this.state=this.isTempBufferEqualToScriptString()?"SCRIPT_DATA_ESCAPED_STATE":"SCRIPT_DATA_DOUBLE_ESCAPED_STATE",this._emitCodePoint(cp)):isAsciiUpper(cp)?(this.tempBuff.push(toAsciiLowerCodePoint(cp)),this._emitCodePoint(cp)):isAsciiLower(cp)?(this.tempBuff.push(cp),this._emitCodePoint(cp)):this._reconsumeInState("SCRIPT_DATA_DOUBLE_ESCAPED_STATE")},_.BEFORE_ATTRIBUTE_NAME_STATE=function(cp){isWhitespace(cp)||(cp===$.SOLIDUS||cp===$.GREATER_THAN_SIGN||cp===$.EOF?this._reconsumeInState("AFTER_ATTRIBUTE_NAME_STATE"):cp===$.EQUALS_SIGN?(this._createAttr("="),this.state="ATTRIBUTE_NAME_STATE"):(this._createAttr(""),this._reconsumeInState("ATTRIBUTE_NAME_STATE")))},_.ATTRIBUTE_NAME_STATE=function(cp){isWhitespace(cp)||cp===$.SOLIDUS||cp===$.GREATER_THAN_SIGN||cp===$.EOF?(this._leaveAttrName("AFTER_ATTRIBUTE_NAME_STATE"),this._unconsume()):cp===$.EQUALS_SIGN?this._leaveAttrName("BEFORE_ATTRIBUTE_VALUE_STATE"):isAsciiUpper(cp)?this.currentAttr.name+=toAsciiLowerChar(cp):cp===$.QUOTATION_MARK||cp===$.APOSTROPHE||cp===$.LESS_THAN_SIGN?this.currentAttr.name+=toChar(cp):cp===$.NULL?this.currentAttr.name+=UNICODE.REPLACEMENT_CHARACTER:this.currentAttr.name+=toChar(cp)},_.AFTER_ATTRIBUTE_NAME_STATE=function(cp){isWhitespace(cp)||(cp===$.SOLIDUS?this.state="SELF_CLOSING_START_TAG_STATE":cp===$.EQUALS_SIGN?this.state="BEFORE_ATTRIBUTE_VALUE_STATE":cp===$.GREATER_THAN_SIGN?(this.state=DATA_STATE,this._emitCurrentToken()):cp===$.EOF?this._reconsumeInState(DATA_STATE):(this._createAttr(""),this._reconsumeInState("ATTRIBUTE_NAME_STATE")))},_.BEFORE_ATTRIBUTE_VALUE_STATE=function(cp){isWhitespace(cp)||(cp===$.QUOTATION_MARK?this.state="ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE":cp===$.APOSTROPHE?this.state="ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE":this._reconsumeInState("ATTRIBUTE_VALUE_UNQUOTED_STATE"))},_.ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE=function(cp){cp===$.QUOTATION_MARK?this.state="AFTER_ATTRIBUTE_VALUE_QUOTED_STATE":cp===$.AMPERSAND?(this.additionalAllowedCp=$.QUOTATION_MARK,this.returnState=this.state,this.state="CHARACTER_REFERENCE_IN_ATTRIBUTE_VALUE_STATE"):cp===$.NULL?this.currentAttr.value+=UNICODE.REPLACEMENT_CHARACTER:cp===$.EOF?this._reconsumeInState(DATA_STATE):this.currentAttr.value+=toChar(cp)},_.ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE=function(cp){cp===$.APOSTROPHE?this.state="AFTER_ATTRIBUTE_VALUE_QUOTED_STATE":cp===$.AMPERSAND?(this.additionalAllowedCp=$.APOSTROPHE,this.returnState=this.state,this.state="CHARACTER_REFERENCE_IN_ATTRIBUTE_VALUE_STATE"):cp===$.NULL?this.currentAttr.value+=UNICODE.REPLACEMENT_CHARACTER:cp===$.EOF?this._reconsumeInState(DATA_STATE):this.currentAttr.value+=toChar(cp)},_.ATTRIBUTE_VALUE_UNQUOTED_STATE=function(cp){isWhitespace(cp)?this._leaveAttrValue("BEFORE_ATTRIBUTE_NAME_STATE"):cp===$.AMPERSAND?(this.additionalAllowedCp=$.GREATER_THAN_SIGN,this.returnState=this.state,this.state="CHARACTER_REFERENCE_IN_ATTRIBUTE_VALUE_STATE"):cp===$.GREATER_THAN_SIGN?(this._leaveAttrValue(DATA_STATE),this._emitCurrentToken()):cp===$.NULL?this.currentAttr.value+=UNICODE.REPLACEMENT_CHARACTER:cp===$.QUOTATION_MARK||cp===$.APOSTROPHE||cp===$.LESS_THAN_SIGN||cp===$.EQUALS_SIGN||cp===$.GRAVE_ACCENT?this.currentAttr.value+=toChar(cp):cp===$.EOF?this._reconsumeInState(DATA_STATE):this.currentAttr.value+=toChar(cp)},_.CHARACTER_REFERENCE_IN_ATTRIBUTE_VALUE_STATE=function(cp){var referencedCodePoints=this._consumeCharacterReference(cp,!0);if(!this._ensureHibernation()){if(referencedCodePoints)for(var i=0;i<referencedCodePoints.length;i++)this.currentAttr.value+=toChar(referencedCodePoints[i]);else this.currentAttr.value+="&";this.state=this.returnState}},_.AFTER_ATTRIBUTE_VALUE_QUOTED_STATE=function(cp){isWhitespace(cp)?this._leaveAttrValue("BEFORE_ATTRIBUTE_NAME_STATE"):cp===$.SOLIDUS?this._leaveAttrValue("SELF_CLOSING_START_TAG_STATE"):cp===$.GREATER_THAN_SIGN?(this._leaveAttrValue(DATA_STATE),this._emitCurrentToken()):cp===$.EOF?this._reconsumeInState(DATA_STATE):this._reconsumeInState("BEFORE_ATTRIBUTE_NAME_STATE")},_.SELF_CLOSING_START_TAG_STATE=function(cp){cp===$.GREATER_THAN_SIGN?(this.currentToken.selfClosing=!0,this.state=DATA_STATE,this._emitCurrentToken()):cp===$.EOF?this._reconsumeInState(DATA_STATE):this._reconsumeInState("BEFORE_ATTRIBUTE_NAME_STATE")},_.BOGUS_COMMENT_STATE=function(){this._createCommentToken(),this._reconsumeInState("BOGUS_COMMENT_STATE_CONTINUATION")},_.BOGUS_COMMENT_STATE_CONTINUATION=function(cp){for(;;){if(cp===$.GREATER_THAN_SIGN){this.state=DATA_STATE;break}if(cp===$.EOF){this._reconsumeInState(DATA_STATE);break}if(this.currentToken.data+=cp===$.NULL?UNICODE.REPLACEMENT_CHARACTER:toChar(cp),this._hibernationSnapshot(),cp=this._consume(),this._ensureHibernation())return}this._emitCurrentToken()},_.MARKUP_DECLARATION_OPEN_STATE=function(cp){var dashDashMatch=this._consumeSubsequentIfMatch($$.DASH_DASH_STRING,cp,!0),doctypeMatch=!dashDashMatch&&this._consumeSubsequentIfMatch($$.DOCTYPE_STRING,cp,!1),cdataMatch=!dashDashMatch&&!doctypeMatch&&this.allowCDATA&&this._consumeSubsequentIfMatch($$.CDATA_START_STRING,cp,!0);this._ensureHibernation()||(dashDashMatch?(this._createCommentToken(),this.state="COMMENT_START_STATE"):doctypeMatch?this.state="DOCTYPE_STATE":cdataMatch?this.state="CDATA_SECTION_STATE":this._reconsumeInState("BOGUS_COMMENT_STATE"))},_.COMMENT_START_STATE=function(cp){cp===$.HYPHEN_MINUS?this.state="COMMENT_START_DASH_STATE":cp===$.NULL?(this.currentToken.data+=UNICODE.REPLACEMENT_CHARACTER,this.state="COMMENT_STATE"):cp===$.GREATER_THAN_SIGN?(this.state=DATA_STATE,this._emitCurrentToken()):cp===$.EOF?(this._emitCurrentToken(),this._reconsumeInState(DATA_STATE)):(this.currentToken.data+=toChar(cp),this.state="COMMENT_STATE")},_.COMMENT_START_DASH_STATE=function(cp){cp===$.HYPHEN_MINUS?this.state="COMMENT_END_STATE":cp===$.NULL?(this.currentToken.data+="-",this.currentToken.data+=UNICODE.REPLACEMENT_CHARACTER,this.state="COMMENT_STATE"):cp===$.GREATER_THAN_SIGN?(this.state=DATA_STATE,this._emitCurrentToken()):cp===$.EOF?(this._emitCurrentToken(),this._reconsumeInState(DATA_STATE)):(this.currentToken.data+="-",this.currentToken.data+=toChar(cp),this.state="COMMENT_STATE")},_.COMMENT_STATE=function(cp){cp===$.HYPHEN_MINUS?this.state="COMMENT_END_DASH_STATE":cp===$.NULL?this.currentToken.data+=UNICODE.REPLACEMENT_CHARACTER:cp===$.EOF?(this._emitCurrentToken(),this._reconsumeInState(DATA_STATE)):this.currentToken.data+=toChar(cp)},_.COMMENT_END_DASH_STATE=function(cp){cp===$.HYPHEN_MINUS?this.state="COMMENT_END_STATE":cp===$.NULL?(this.currentToken.data+="-",this.currentToken.data+=UNICODE.REPLACEMENT_CHARACTER,this.state="COMMENT_STATE"):cp===$.EOF?(this._emitCurrentToken(),this._reconsumeInState(DATA_STATE)):(this.currentToken.data+="-",this.currentToken.data+=toChar(cp),this.state="COMMENT_STATE")},_.COMMENT_END_STATE=function(cp){cp===$.GREATER_THAN_SIGN?(this.state=DATA_STATE,this._emitCurrentToken()):cp===$.EXCLAMATION_MARK?this.state="COMMENT_END_BANG_STATE":cp===$.HYPHEN_MINUS?this.currentToken.data+="-":cp===$.NULL?(this.currentToken.data+="--",this.currentToken.data+=UNICODE.REPLACEMENT_CHARACTER,this.state="COMMENT_STATE"):cp===$.EOF?(this._reconsumeInState(DATA_STATE),this._emitCurrentToken()):(this.currentToken.data+="--",this.currentToken.data+=toChar(cp),this.state="COMMENT_STATE")},_.COMMENT_END_BANG_STATE=function(cp){cp===$.HYPHEN_MINUS?(this.currentToken.data+="--!",this.state="COMMENT_END_DASH_STATE"):cp===$.GREATER_THAN_SIGN?(this.state=DATA_STATE,this._emitCurrentToken()):cp===$.NULL?(this.currentToken.data+="--!",this.currentToken.data+=UNICODE.REPLACEMENT_CHARACTER,this.state="COMMENT_STATE"):cp===$.EOF?(this._emitCurrentToken(),this._reconsumeInState(DATA_STATE)):(this.currentToken.data+="--!",this.currentToken.data+=toChar(cp),this.state="COMMENT_STATE")},_.DOCTYPE_STATE=function(cp){isWhitespace(cp)||(cp===$.GREATER_THAN_SIGN?(this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=DATA_STATE):cp===$.EOF?(this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(DATA_STATE)):(this._createDoctypeToken(""),this._reconsumeInState("DOCTYPE_NAME_STATE")))},_.DOCTYPE_NAME_STATE=function(cp){isWhitespace(cp)||cp===$.GREATER_THAN_SIGN||cp===$.EOF?this._reconsumeInState("AFTER_DOCTYPE_NAME_STATE"):isAsciiUpper(cp)?this.currentToken.name+=toAsciiLowerChar(cp):cp===$.NULL?this.currentToken.name+=UNICODE.REPLACEMENT_CHARACTER:this.currentToken.name+=toChar(cp)},_.AFTER_DOCTYPE_NAME_STATE=function(cp){if(!isWhitespace(cp))if(cp===$.GREATER_THAN_SIGN)this.state=DATA_STATE,this._emitCurrentToken();else{var publicMatch=this._consumeSubsequentIfMatch($$.PUBLIC_STRING,cp,!1),systemMatch=!publicMatch&&this._consumeSubsequentIfMatch($$.SYSTEM_STRING,cp,!1);this._ensureHibernation()||(publicMatch?this.state="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE":systemMatch?this.state="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE":(this.currentToken.forceQuirks=!0,this.state="BOGUS_DOCTYPE_STATE"))}},_.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE=function(cp){isWhitespace(cp)||(cp===$.QUOTATION_MARK?(this.currentToken.publicId="",this.state="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE"):cp===$.APOSTROPHE?(this.currentToken.publicId="",this.state="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE"):(this.currentToken.forceQuirks=!0,this._reconsumeInState("BOGUS_DOCTYPE_STATE")))},_.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE=function(cp){cp===$.QUOTATION_MARK?this.state="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE":cp===$.NULL?this.currentToken.publicId+=UNICODE.REPLACEMENT_CHARACTER:cp===$.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=DATA_STATE):cp===$.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(DATA_STATE)):this.currentToken.publicId+=toChar(cp)},_.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE=function(cp){cp===$.APOSTROPHE?this.state="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE":cp===$.NULL?this.currentToken.publicId+=UNICODE.REPLACEMENT_CHARACTER:cp===$.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=DATA_STATE):cp===$.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(DATA_STATE)):this.currentToken.publicId+=toChar(cp)},_.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE=function(cp){isWhitespace(cp)||(cp===$.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=DATA_STATE):cp===$.QUOTATION_MARK?(this.currentToken.systemId="",this.state="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE"):cp===$.APOSTROPHE?(this.currentToken.systemId="",this.state="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE"):(this.currentToken.forceQuirks=!0,this._reconsumeInState("BOGUS_DOCTYPE_STATE")))},_.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE=function(cp){isWhitespace(cp)||(cp===$.QUOTATION_MARK?(this.currentToken.systemId="",this.state="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE"):cp===$.APOSTROPHE?(this.currentToken.systemId="",this.state="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE"):(this.currentToken.forceQuirks=!0,this._reconsumeInState("BOGUS_DOCTYPE_STATE")))},_.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE=function(cp){cp===$.QUOTATION_MARK?this.state="AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE":cp===$.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=DATA_STATE):cp===$.NULL?this.currentToken.systemId+=UNICODE.REPLACEMENT_CHARACTER:cp===$.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(DATA_STATE)):this.currentToken.systemId+=toChar(cp)},_.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE=function(cp){cp===$.APOSTROPHE?this.state="AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE":cp===$.GREATER_THAN_SIGN?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=DATA_STATE):cp===$.NULL?this.currentToken.systemId+=UNICODE.REPLACEMENT_CHARACTER:cp===$.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(DATA_STATE)):this.currentToken.systemId+=toChar(cp)},_.AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE=function(cp){isWhitespace(cp)||(cp===$.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=DATA_STATE):cp===$.EOF?(this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._reconsumeInState(DATA_STATE)):this.state="BOGUS_DOCTYPE_STATE")},_.BOGUS_DOCTYPE_STATE=function(cp){cp===$.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=DATA_STATE):cp===$.EOF&&(this._emitCurrentToken(),this._reconsumeInState(DATA_STATE))},_.CDATA_SECTION_STATE=function(cp){for(;;){if(cp===$.EOF){this._reconsumeInState(DATA_STATE);break}var cdataEndMatch=this._consumeSubsequentIfMatch($$.CDATA_END_STRING,cp,!0);if(this._ensureHibernation())break;if(cdataEndMatch){this.state=DATA_STATE;break}if(this._emitCodePoint(cp),this._hibernationSnapshot(),cp=this._consume(),this._ensureHibernation())break}}},function(module,exports){module.exports=function(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}},function(module,exports,__webpack_require__){var baseMerge=__webpack_require__(526),merge=__webpack_require__(291)(function(object,source,srcIndex){baseMerge(object,source,srcIndex)});module.exports=merge},,function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(77),isArray=__webpack_require__(12),isObjectLike=__webpack_require__(32),stringTag="[object String]";module.exports=function(value){return"string"==typeof value||!isArray(value)&&isObjectLike(value)&&baseGetTag(value)==stringTag}},function(module,exports){var MAX_SAFE_INTEGER=9007199254740991;module.exports=function(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}},function(module,exports,__webpack_require__){(function(module){var freeGlobal=__webpack_require__(302),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,freeProcess=freeModule&&freeModule.exports===freeExports&&freeGlobal.process,nodeUtil=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;return types||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}();module.exports=nodeUtil}).call(this,__webpack_require__(56)(module))},function(module,exports,__webpack_require__){var baseCreate=__webpack_require__(137),baseLodash=__webpack_require__(208),MAX_ARRAY_LENGTH=4294967295;function LazyWrapper(value){this.__wrapped__=value,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=MAX_ARRAY_LENGTH,this.__views__=[]}LazyWrapper.prototype=baseCreate(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper,module.exports=LazyWrapper},function(module,exports){module.exports=function(){}},function(module,exports,__webpack_require__){var baseFor=__webpack_require__(321),keys=__webpack_require__(68);module.exports=function(object,iteratee){return object&&baseFor(object,iteratee,keys)}},function(module,exports,__webpack_require__){var Map=__webpack_require__(82)(__webpack_require__(33),"Map");module.exports=Map},function(module,exports,__webpack_require__){var mapCacheClear=__webpack_require__(537),mapCacheDelete=__webpack_require__(544),mapCacheGet=__webpack_require__(546),mapCacheHas=__webpack_require__(547),mapCacheSet=__webpack_require__(548);function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}MapCache.prototype.clear=mapCacheClear,MapCache.prototype.delete=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,module.exports=MapCache},function(module,exports,__webpack_require__){var Uint8Array=__webpack_require__(325);module.exports=function(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array(result).set(new Uint8Array(arrayBuffer)),result}},function(module,exports){module.exports=function(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}},function(module,exports,__webpack_require__){var arrayFilter=__webpack_require__(201),stubArray=__webpack_require__(331),propertyIsEnumerable=Object.prototype.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),arrayFilter(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable.call(object,symbol)}))}:stubArray;module.exports=getSymbols},function(module,exports,__webpack_require__){var isArray=__webpack_require__(12),isSymbol=__webpack_require__(93),reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;module.exports=function(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object)}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(101),arrayMap=__webpack_require__(36),isArray=__webpack_require__(12),isSymbol=__webpack_require__(93),INFINITY=1/0,symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;module.exports=function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}},function(module,exports){module.exports=function(key){return function(object){return null==object?void 0:object[key]}}},function(module,exports){module.exports=function(array,value,comparator){for(var index=-1,length=null==array?0:array.length;++index<length;)if(comparator(value,array[index]))return!0;return!1}},function(module){module.exports=JSON.parse('[["0","\\u0000",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","",7,""],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1",""],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]]')},function(module,exports,__webpack_require__){"use strict";
/**
 * @file Constructors cached from literals.
 * @version 1.0.2
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module cached-constructors-x
 */module.exports={Array:[].constructor,Boolean:(!0).constructor,Function:function(){}.constructor,Number:(0).constructor,Object:{}.constructor,RegExp:/(?:)/.constructor,String:"".constructor}},function(module,exports,__webpack_require__){var baseGetAllKeys=__webpack_require__(330),getSymbolsIn=__webpack_require__(343),keysIn=__webpack_require__(119);module.exports=function(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}},function(module,exports){var reHasUnicode=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");module.exports=function(string){return reHasUnicode.test(string)}},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(54);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.resetFlags=exports.listFlags=void 0;var _slicedToArray2=_interopRequireDefault(__webpack_require__(75)),_classCallCheck2=_interopRequireDefault(__webpack_require__(21)),_createClass2=_interopRequireDefault(__webpack_require__(26)),_microee=_interopRequireDefault(__webpack_require__(345)),_lsAdapter=_interopRequireDefault(__webpack_require__(633)),FlagStore=function(){function FlagStore(){(0,_classCallCheck2.default)(this,FlagStore),this.store={},"undefined"!=typeof localStorage&&(this.longtermStore=_lsAdapter.default),this.restore()}return(0,_createClass2.default)(FlagStore,[{key:"restore",value:function(){if(this.longtermStore)for(var allValues=this.longtermStore.getAll(),_arr=Object.entries(allValues),_i=0;_i<_arr.length;_i++){var _arr$_i=(0,_slicedToArray2.default)(_arr[_i],2),_flag=_arr$_i[0],val=_arr$_i[1];this.store[_flag]=val,this.emit("change")}}},{key:"keys",value:function(){return Object.keys(this.store)}},{key:"get",value:function(name){return this.store.hasOwnProperty(name)||(this.store[name]=null),this.store[name]}},{key:"set",value:function(name,value){this.longtermStore&&this.longtermStore.setItem(name,value),this.store[name]=value,this.emit("change")}},{key:"remove",value:function(name){delete this.store[name],this.longtermStore&&this.longtermStore.removeItem(name),this.emit("change")}}]),FlagStore}();_microee.default.mixin(FlagStore);var store=new FlagStore,flag=function(){var args=[].slice.call(arguments);return 1===args.length?store.get(args[0]):(store.set(args[0],args[1]),args[1])},listFlags=function(){return store.keys().sort()};exports.listFlags=listFlags;var resetFlags=function(){listFlags().forEach(function(name){return store.remove(name)})};exports.resetFlags=resetFlags,flag.store=store,flag.list=listFlags,flag.reset=resetFlags;var _default=flag;exports.default=_default},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(638),__esModule:!0}},function(module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}},function(module,exports){module.exports=function(it){if(null==it)throw TypeError("Can't call method on  "+it);return it}},function(module,exports,__webpack_require__){"use strict";var LIBRARY=__webpack_require__(125),$export=__webpack_require__(16),redefine=__webpack_require__(347),hide=__webpack_require__(70),Iterators=__webpack_require__(104),$iterCreate=__webpack_require__(640),setToStringTag=__webpack_require__(129),getPrototypeOf=__webpack_require__(351),ITERATOR=__webpack_require__(25)("iterator"),BUGGY=!([].keys&&"next"in[].keys()),returnThis=function(){return this};module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){$iterCreate(Constructor,NAME,next);var methods,key,IteratorPrototype,getMethod=function(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case"keys":case"values":return function(){return new Constructor(this,kind)}}return function(){return new Constructor(this,kind)}},TAG=NAME+" Iterator",DEF_VALUES="values"==DEFAULT,VALUES_BUG=!1,proto=Base.prototype,$native=proto[ITERATOR]||proto["@@iterator"]||DEFAULT&&proto[DEFAULT],$default=$native||getMethod(DEFAULT),$entries=DEFAULT?DEF_VALUES?getMethod("entries"):$default:void 0,$anyNative="Array"==NAME&&proto.entries||$native;if($anyNative&&(IteratorPrototype=getPrototypeOf($anyNative.call(new Base)))!==Object.prototype&&IteratorPrototype.next&&(setToStringTag(IteratorPrototype,TAG,!0),LIBRARY||"function"==typeof IteratorPrototype[ITERATOR]||hide(IteratorPrototype,ITERATOR,returnThis)),DEF_VALUES&&$native&&"values"!==$native.name&&(VALUES_BUG=!0,$default=function(){return $native.call(this)}),LIBRARY&&!FORCED||!BUGGY&&!VALUES_BUG&&proto[ITERATOR]||hide(proto,ITERATOR,$default),Iterators[NAME]=$default,Iterators[TAG]=returnThis,DEFAULT)if(methods={values:DEF_VALUES?$default:getMethod("values"),keys:IS_SET?$default:getMethod("keys"),entries:$entries},FORCED)for(key in methods)key in proto||redefine(proto,key,methods[key]);else $export($export.P+$export.F*(BUGGY||VALUES_BUG),NAME,methods);return methods}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(37),document=__webpack_require__(24).document,is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{}}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(37);module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;if("function"==typeof(fn=it.valueOf)&&!isObject(val=fn.call(it)))return val;if(!S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")}},function(module,exports,__webpack_require__){var cof=__webpack_require__(128);module.exports=Object("z").propertyIsEnumerable(0)?Object:function(it){return"String"==cof(it)?it.split(""):Object(it)}},function(module,exports,__webpack_require__){var shared=__webpack_require__(232)("keys"),uid=__webpack_require__(168);module.exports=function(key){return shared[key]||(shared[key]=uid(key))}},function(module,exports,__webpack_require__){var core=__webpack_require__(9),global=__webpack_require__(24),store=global["__core-js_shared__"]||(global["__core-js_shared__"]={});(module.exports=function(key,value){return store[key]||(store[key]=void 0!==value?value:{})})("versions",[]).push({version:core.version,mode:__webpack_require__(125)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(module,exports){module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(module,exports,__webpack_require__){var classof=__webpack_require__(169),ITERATOR=__webpack_require__(25)("iterator"),Iterators=__webpack_require__(104);module.exports=__webpack_require__(9).getIteratorMethod=function(it){if(null!=it)return it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]}},function(module,exports){exports.f=Object.getOwnPropertySymbols},function(module,exports,__webpack_require__){exports.f=__webpack_require__(25)},function(module,exports,__webpack_require__){var global=__webpack_require__(24),core=__webpack_require__(9),LIBRARY=__webpack_require__(125),wksExt=__webpack_require__(236),defineProperty=__webpack_require__(44).f;module.exports=function(name){var $Symbol=core.Symbol||(core.Symbol=LIBRARY?{}:global.Symbol||{});"_"==name.charAt(0)||name in $Symbol||defineProperty($Symbol,name,{value:wksExt.f(name)})}},function(module,exports,__webpack_require__){var pIE=__webpack_require__(130),createDesc=__webpack_require__(127),toIObject=__webpack_require__(71),toPrimitive=__webpack_require__(229),has=__webpack_require__(85),IE8_DOM_DEFINE=__webpack_require__(346),gOPD=Object.getOwnPropertyDescriptor;exports.f=__webpack_require__(28)?gOPD:function(O,P){if(O=toIObject(O),P=toPrimitive(P,!0),IE8_DOM_DEFINE)try{return gOPD(O,P)}catch(e){}if(has(O,P))return createDesc(!pIE.f.call(O,P),O[P])}},function(module,exports){module.exports=function(it,Constructor,name,forbiddenField){if(!(it instanceof Constructor)||void 0!==forbiddenField&&forbiddenField in it)throw TypeError(name+": incorrect invocation!");return it}},function(module,exports,__webpack_require__){"use strict";var aFunction=__webpack_require__(126);function PromiseCapability(C){var resolve,reject;this.promise=new C(function($$resolve,$$reject){if(void 0!==resolve||void 0!==reject)throw TypeError("Bad Promise constructor");resolve=$$resolve,reject=$$reject}),this.resolve=aFunction(resolve),this.reject=aFunction(reject)}module.exports.f=function(C){return new PromiseCapability(C)}},function(module,exports,__webpack_require__){var hide=__webpack_require__(70);module.exports=function(target,src,safe){for(var key in src)safe&&target[key]?target[key]=src[key]:hide(target,key,src[key]);return target}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(37);module.exports=function(it,TYPE){if(!isObject(it)||it._t!==TYPE)throw TypeError("Incompatible receiver, "+TYPE+" required!");return it}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.receiveMutationError=exports.receiveMutationResult=exports.initMutation=exports.isReceivingMutationResult=exports.isMutationAction=void 0;var obj,_extends2=__webpack_require__(5),_extends3=(obj=_extends2)&&obj.__esModule?obj:{default:obj};var INIT_MUTATION="INIT_MUTATION",RECEIVE_MUTATION_RESULT="RECEIVE_MUTATION_RESULT",RECEIVE_MUTATION_ERROR="RECEIVE_MUTATION_ERROR";exports.isMutationAction=function(action){return-1!==[INIT_MUTATION,RECEIVE_MUTATION_RESULT,RECEIVE_MUTATION_ERROR].indexOf(action.type)},exports.isReceivingMutationResult=function(action){return action.type===RECEIVE_MUTATION_RESULT},exports.initMutation=function(mutationId,definition){return{type:INIT_MUTATION,mutationId:mutationId,definition:definition}},exports.receiveMutationResult=function(mutationId,response){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},definition=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,_extends3.default)({type:RECEIVE_MUTATION_RESULT,mutationId:mutationId,response:response},options,{definition:definition})},exports.receiveMutationError=function(mutationId,error){var definition=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{type:RECEIVE_MUTATION_ERROR,mutationId:mutationId,error:error,definition:definition}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Collection=exports.dontThrowNotFoundError=void 0;var _regenerator2=_interopRequireDefault(__webpack_require__(15)),_asyncToGenerator3=_interopRequireDefault(__webpack_require__(17)),_classCallCheck3=_interopRequireDefault(__webpack_require__(1)),_createClass3=_interopRequireDefault(__webpack_require__(2));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var dontThrowNotFoundError=exports.dontThrowNotFoundError=function(error){var data=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(error.message.match(/not_found/)){var expectsCollection=Array.isArray(data);return expectsCollection?{data:data,meta:{count:0},skip:0,next:!1}:{data:data}}throw error},Collection=exports.Collection=function(){function Collection(){(0,_classCallCheck3.default)(this,Collection)}var _ref2;return(0,_createClass3.default)(Collection,null,[{key:"get",value:(_ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(stackClient,endpoint,_ref){var resp,_ref$normalize=_ref.normalize,normalize=void 0===_ref$normalize?function(data,response){return data}:_ref$normalize,_ref$method=_ref.method,method=void 0===_ref$method?"GET":_ref$method;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,stackClient.fetchJSON(method,endpoint);case 3:return resp=_context.sent,_context.abrupt("return",{data:normalize(resp.data,resp)});case 7:return _context.prev=7,_context.t0=_context.catch(0),_context.abrupt("return",dontThrowNotFoundError(_context.t0,null));case 10:case"end":return _context.stop()}},_callee,this,[[0,7]])})),function(_x2,_x3,_x4){return _ref2.apply(this,arguments)})}]),Collection}();exports.default=Collection},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isDirectory=exports.isFile=void 0;var _typeof3=_interopRequireDefault(__webpack_require__(97)),_objectWithoutProperties3=_interopRequireDefault(__webpack_require__(89)),_getIterator3=_interopRequireDefault(__webpack_require__(72)),_taggedTemplateLiteral3=_interopRequireDefault(__webpack_require__(108)),_regenerator2=_interopRequireDefault(__webpack_require__(15)),_asyncToGenerator3=_interopRequireDefault(__webpack_require__(17)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(4)),_classCallCheck3=_interopRequireDefault(__webpack_require__(1)),_createClass3=_interopRequireDefault(__webpack_require__(2)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(6)),_inherits3=_interopRequireDefault(__webpack_require__(7)),_promise2=_interopRequireDefault(__webpack_require__(73)),_extends3=_interopRequireDefault(__webpack_require__(5)),_templateObject=(0,_taggedTemplateLiteral3.default)(["/data/","/","/relationships/references"],["/data/","/","/relationships/references"]),_templateObject2=(0,_taggedTemplateLiteral3.default)(["/files/","/relationships/referenced_by"],["/files/","/relationships/referenced_by"]),_templateObject3=(0,_taggedTemplateLiteral3.default)(["/files/",""],["/files/",""]),_templateObject4=(0,_taggedTemplateLiteral3.default)(["/files/trash/",""],["/files/trash/",""]),_templateObject5=(0,_taggedTemplateLiteral3.default)(["/files/","?Name=","&Type=file&Executable=","&MetadataID=",""],["/files/","?Name=","&Type=file&Executable=","&MetadataID=",""]),_templateObject6=(0,_taggedTemplateLiteral3.default)(["/files/","?Name=","&Type=file&Executable=",""],["/files/","?Name=","&Type=file&Executable=",""]),_templateObject7=(0,_taggedTemplateLiteral3.default)(["/files/downloads?Id=",""],["/files/downloads?Id=",""]),_templateObject8=(0,_taggedTemplateLiteral3.default)(["/files/downloads?Path=",""],["/files/downloads?Path=",""]),_templateObject9=(0,_taggedTemplateLiteral3.default)(["/files/metadata?Path=",""],["/files/metadata?Path=",""]),_templateObject10=(0,_taggedTemplateLiteral3.default)(["/files/","?Name=","&Type=directory"],["/files/","?Name=","&Type=directory"]),_templateObject11=(0,_taggedTemplateLiteral3.default)(["/files/upload/metadata"],["/files/upload/metadata"]),_templateObject12=(0,_taggedTemplateLiteral3.default)(["/files/","/versions"],["/files/","/versions"]),_lite2=_interopRequireDefault(__webpack_require__(741)),_has2=_interopRequireDefault(__webpack_require__(744)),_DocumentCollection2=__webpack_require__(62),_DocumentCollection3=_interopRequireDefault(_DocumentCollection2),_utils=__webpack_require__(109),querystring=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(__webpack_require__(384));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var normalizeFile=function(file){return(0,_extends3.default)({},(0,_DocumentCollection2.normalizeDoc)(file,"io.cozy.files"),file.attributes)},sanitizeFileName=function(name){return name&&name.trim()},getFileTypeFromName=function(name){return _lite2.default.getType(name)||"application/octet-stream"},raceWithCondition=(exports.isFile=function(_ref){var _type=_ref._type,type=_ref.type;return"io.cozy.files"===_type||"directory"===type||"file"===type},exports.isDirectory=function(_ref2){return"directory"===_ref2.type},function(promises,predicate){return new _promise2.default(function(resolve){promises.forEach(function(p){return p.then(function(res){predicate(res)&&resolve(!0)})}),_promise2.default.all(promises).then(function(){return resolve(!1)})})}),FileCollection=function(_DocumentCollection){function FileCollection(doctype,stackClient){(0,_classCallCheck3.default)(this,FileCollection);var _this=(0,_possibleConstructorReturn3.default)(this,(FileCollection.__proto__||(0,_getPrototypeOf2.default)(FileCollection)).call(this,doctype,stackClient));return _this.extractResponseLinkRelated=function(res){var href=res.links&&res.links.related;if(!href)throw new Error("No related link in server response");return _this.stackClient.fullpath(href)},_this.specialDirectories={},_this}var _ref31,_ref30,_ref29,_ref28,_ref27,_ref26,_ref25,_ref24,_ref23,_ref22,_ref21,_ref18,_ref17,_ref16,_ref15,_ref14,_ref12,_ref10,_ref9,_ref7,_ref4,_ref3;return(0,_inherits3.default)(FileCollection,_DocumentCollection),(0,_createClass3.default)(FileCollection,[{key:"get",value:function(id){return this.statById(id)}},{key:"find",value:(_ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(selector){var _options$skip,skip,resp,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _options$skip=options.skip,skip=void 0===_options$skip?0:_options$skip,_context.t0=this.stackClient,_context.next=4,this.toMangoOptions(selector,options);case 4:return _context.t1=_context.sent,_context.next=7,_context.t0.fetchJSON.call(_context.t0,"POST","/files/_find",_context.t1);case 7:return resp=_context.sent,_context.abrupt("return",{data:resp.data.map(function(f){return normalizeFile(f)}),meta:resp.meta,next:resp.meta.count>skip+resp.data.length,skip:skip});case 9:case"end":return _context.stop()}},_callee,this)})),function(_x2){return _ref3.apply(this,arguments)})},{key:"findReferencedBy",value:(_ref4=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(document){var params,url,path,resp,_ref5=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref5$skip=_ref5.skip,skip=void 0===_ref5$skip?0:_ref5$skip,limit=_ref5.limit,cursor=_ref5.cursor;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return params={include:"files","page[limit]":limit,"page[cursor]":cursor,sort:"datetime"},url=(0,_utils.uri)(_templateObject,document._type,document._id),path=querystring.buildURL(url,params),_context2.next=5,this.stackClient.fetchJSON("GET",path);case 5:return resp=_context2.sent,_context2.abrupt("return",{data:resp.data.map(function(f){return normalizeFile(f)}),included:resp.included?resp.included.map(function(f){return normalizeFile(f)}):[],next:(0,_has2.default)(resp,"links.next"),meta:resp.meta,skip:skip});case 7:case"end":return _context2.stop()}},_callee2,this)})),function(_x4){return _ref4.apply(this,arguments)})},{key:"addReferencedBy",value:function(document,documents){var refs=documents.map(function(d){return{id:d._id,type:d._type}});return this.stackClient.fetchJSON("POST",(0,_utils.uri)(_templateObject2,document._id),{data:refs})}},{key:"removeReferencedBy",value:function(document,documents){var refs=documents.map(function(d){return{id:d._id,type:d._type}});return this.stackClient.fetchJSON("DELETE",(0,_utils.uri)(_templateObject2,document._id),{data:refs})}},{key:"addReferencesTo",value:function(document,documents){var refs=documents.map(function(d){return{id:d._id,type:"io.cozy.files"}});return this.stackClient.fetchJSON("POST",(0,_utils.uri)(_templateObject,document._type,document._id),{data:refs})}},{key:"removeReferencesTo",value:function(document,documents){var refs=documents.map(function(d){return{id:d._id,type:"io.cozy.files"}});return this.stackClient.fetchJSON("DELETE",(0,_utils.uri)(_templateObject,document._type,document._id),{data:refs})}},{key:"destroy",value:(_ref7=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(_ref6){var _iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,ref,resp,_id=_ref6._id,relationships=_ref6.relationships,_ref8=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref8$ifMatch=_ref8.ifMatch,ifMatch=void 0===_ref8$ifMatch?"":_ref8$ifMatch;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(!(relationships&&relationships.referenced_by&&Array.isArray(relationships.referenced_by.data))){_context3.next=27;break}_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0,_context3.prev=4,_iterator=(0,_getIterator3.default)(relationships.referenced_by.data);case 6:if(_iteratorNormalCompletion=(_step=_iterator.next()).done){_context3.next=13;break}return ref=_step.value,_context3.next=10,this.removeReferencesTo({_id:ref.id,_type:ref.type},[{_id:_id}]);case 10:_iteratorNormalCompletion=!0,_context3.next=6;break;case 13:_context3.next=19;break;case 15:_context3.prev=15,_context3.t0=_context3.catch(4),_didIteratorError=!0,_iteratorError=_context3.t0;case 19:_context3.prev=19,_context3.prev=20,!_iteratorNormalCompletion&&_iterator.return&&_iterator.return();case 22:if(_context3.prev=22,!_didIteratorError){_context3.next=25;break}throw _iteratorError;case 25:return _context3.finish(22);case 26:return _context3.finish(19);case 27:return _context3.next=29,this.stackClient.fetchJSON("DELETE",(0,_utils.uri)(_templateObject3,_id),void 0,{headers:{"If-Match":ifMatch}});case 29:return resp=_context3.sent,_context3.abrupt("return",{data:normalizeFile(resp.data)});case 31:case"end":return _context3.stop()}},_callee3,this,[[4,15,19,27],[20,,22,26]])})),function(_x6){return _ref7.apply(this,arguments)})},{key:"restore",value:function(id){return this.stackClient.fetchJSON("POST",(0,_utils.uri)(_templateObject4,id))}},{key:"deleteFilePermanently",value:(_ref9=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(id){var resp;return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,this.stackClient.fetchJSON("PATCH",(0,_utils.uri)(_templateObject3,id),{data:{type:"io.cozy.files",id:id,attributes:{permanent_delete:!0}}});case 2:return resp=_context4.sent,_context4.abrupt("return",resp.data);case 4:case"end":return _context4.stop()}},_callee4,this)})),function(_x7){return _ref9.apply(this,arguments)})},{key:"upload",value:(_ref10=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee5(data,dirPath){var dirId;return _regenerator2.default.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,this.ensureDirectoryExists(dirPath);case 2:return dirId=_context5.sent,_context5.abrupt("return",this.createFile(data,{dirId:dirId}));case 4:case"end":return _context5.stop()}},_callee5,this)})),function(_x8,_x9){return _ref10.apply(this,arguments)})},{key:"createFile",value:(_ref12=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee6(data){var metadataId,meta,path,_ref11=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},name=_ref11.name,_ref11$dirId=_ref11.dirId,dirId=void 0===_ref11$dirId?"":_ref11$dirId,executable=_ref11.executable,metadata=_ref11.metadata,options=(0,_objectWithoutProperties3.default)(_ref11,["name","dirId","executable","metadata"]);return _regenerator2.default.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:if(name||"string"!=typeof data.name||(name=data.name),"string"==typeof(name=sanitizeFileName(name))&&""!==name){_context6.next=4;break}throw new Error("missing name argument");case 4:if(void 0===executable&&(executable=!1),metadataId="",!metadata){_context6.next=11;break}return _context6.next=9,this.createFileMetadata(metadata);case 9:meta=_context6.sent,metadataId=meta.data.id;case 11:return path=(0,_utils.uri)(_templateObject5,dirId,name,executable,metadataId),_context6.abrupt("return",this.doUpload(data,path,options));case 13:case"end":return _context6.stop()}},_callee6,this)})),function(_x11){return _ref12.apply(this,arguments)})},{key:"updateFile",value:(_ref14=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee7(data){var name,metadataId,path,meta,_ref13=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref13$executable=_ref13.executable,executable=void 0!==_ref13$executable&&_ref13$executable,fileId=_ref13.fileId,metadata=_ref13.metadata,options=(0,_objectWithoutProperties3.default)(_ref13,["executable","fileId","metadata"]);return _regenerator2.default.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:if(fileId&&"string"==typeof fileId){_context7.next=2;break}throw new Error("missing fileId argument");case 2:if("string"==typeof data.name){_context7.next=4;break}throw new Error("missing name in data argument");case 4:if("string"==typeof(name=sanitizeFileName(data.name))&&""!==name){_context7.next=7;break}throw new Error("missing name argument");case 7:if(metadataId=void 0,path=(0,_utils.uri)(_templateObject6,fileId,name,executable),!metadata){_context7.next=15;break}return _context7.next=12,this.createFileMetadata(metadata);case 12:meta=_context7.sent,metadataId=meta.data.id,path=path+"&MetadataID="+metadataId;case 15:return _context7.abrupt("return",this.doUpload(data,path,options,"PUT"));case 16:case"end":return _context7.stop()}},_callee7,this)})),function(_x13){return _ref14.apply(this,arguments)})},{key:"getDownloadLinkById",value:function(id){return this.stackClient.fetchJSON("POST",(0,_utils.uri)(_templateObject7,id)).then(this.extractResponseLinkRelated)}},{key:"getDownloadLinkByPath",value:function(path){return this.stackClient.fetchJSON("POST",(0,_utils.uri)(_templateObject8,path)).then(this.extractResponseLinkRelated)}},{key:"download",value:(_ref15=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee8(file){var href;return _regenerator2.default.wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.next=2,this.getDownloadLinkById(file._id);case 2:href=_context8.sent,(0,_utils.forceFileDownload)(href+"?Dl=1",file.name);case 4:case"end":return _context8.stop()}},_callee8,this)})),function(_x14){return _ref15.apply(this,arguments)})},{key:"downloadArchive",value:(_ref16=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee9(fileIds){var filename,href,fullpath,notSecureFilename=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"files";return _regenerator2.default.wrap(function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return filename=(0,_utils.slugify)(notSecureFilename),_context9.next=3,this.getArchiveLinkByIds(fileIds,filename);case 3:href=_context9.sent,fullpath=this.stackClient.fullpath(href),(0,_utils.forceFileDownload)(fullpath,filename+".zip");case 6:case"end":return _context9.stop()}},_callee9,this)})),function(_x16){return _ref16.apply(this,arguments)})},{key:"getArchiveLinkByIds",value:(_ref17=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee10(ids){var resp,name=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"files";return _regenerator2.default.wrap(function(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:return _context10.next=2,this.stackClient.fetchJSON("POST","/files/archive",{data:{type:"io.cozy.archives",attributes:{name:name,ids:ids}}});case 2:return resp=_context10.sent,_context10.abrupt("return",resp.links.related);case 4:case"end":return _context10.stop()}},_callee10,this)})),function(_x18){return _ref17.apply(this,arguments)})},{key:"isChildOf",value:(_ref18=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee11(child,parent){var _ref19,childID,childDirID,childPath,_ref20,parentID,childDoc,currPath,targetsPath,newPath,_this2=this;return _regenerator2.default.wrap(function(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:if(_ref19="object"===(void 0===child?"undefined":(0,_typeof3.default)(child))?child:{_id:child},childID=_ref19._id,childDirID=_ref19.dirID,childPath=_ref19.path,_ref20="object"===(void 0===parent?"undefined":(0,_typeof3.default)(parent))?parent:{_id:parent},parentID=_ref20._id,childID!==parentID&&childDirID!==parentID){_context11.next=4;break}return _context11.abrupt("return",!0);case 4:if(childPath){_context11.next=10;break}return _context11.next=7,this.statById(childID);case 7:childDoc=_context11.sent,childPath=childDoc.path,childDirID=childDoc.dirID;case 10:for(currPath=childPath,targetsPath=[childPath];""!=currPath;)lastIndex=void 0,lastIndex=(path=currPath).lastIndexOf("/"),""!=(newPath=path.substring(0,lastIndex))&&targetsPath.push(newPath),currPath=newPath;return targetsPath.reverse(),_context11.abrupt("return",raceWithCondition(targetsPath.map(function(path){return _this2.statByPath(path)}),function(stat){return stat.data._id==parentID}));case 15:case"end":return _context11.stop()}var path,lastIndex},_callee11,this)})),function(_x19,_x20){return _ref18.apply(this,arguments)})},{key:"statById",value:(_ref21=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee12(id){var limit,_options$skip2,params,url,path,resp,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _regenerator2.default.wrap(function(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:return limit=options.limit,_options$skip2=options.skip,params={limit:limit,skip:void 0===_options$skip2?0:_options$skip2},url=(0,_utils.uri)(_templateObject3,id),path=querystring.buildURL(url,params),_context12.next=6,this.stackClient.fetchJSON("GET",path);case 6:return resp=_context12.sent,_context12.abrupt("return",{data:normalizeFile(resp.data),included:resp.included&&resp.included.map(function(f){return normalizeFile(f)})});case 8:case"end":return _context12.stop()}},_callee12,this)})),function(_x22){return _ref21.apply(this,arguments)})},{key:"statByPath",value:(_ref22=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee13(path){var resp;return _regenerator2.default.wrap(function(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:return _context13.next=2,this.stackClient.fetchJSON("GET",(0,_utils.uri)(_templateObject9,path));case 2:return resp=_context13.sent,_context13.abrupt("return",{data:normalizeFile(resp.data),included:resp.included&&resp.included.map(function(f){return normalizeFile(f)})});case 4:case"end":return _context13.stop()}},_callee13,this)})),function(_x23){return _ref22.apply(this,arguments)})},{key:"createDirectory",value:(_ref23=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee14(){var name,dirId,lastModifiedDate,safeName,lastModified,resp,attributes=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _regenerator2.default.wrap(function(_context14){for(;;)switch(_context14.prev=_context14.next){case 0:if(name=attributes.name,dirId=attributes.dirId,lastModifiedDate=attributes.lastModifiedDate,safeName=sanitizeFileName(name),"string"==typeof name&&""!==safeName){_context14.next=4;break}throw new Error("missing name argument");case 4:return lastModified=lastModifiedDate&&("string"==typeof lastModifiedDate?new Date(lastModifiedDate):lastModifiedDate),_context14.next=7,this.stackClient.fetchJSON("POST",(0,_utils.uri)(_templateObject10,dirId,safeName),void 0,{headers:{Date:lastModified?lastModified.toGMTString():""}});case 7:return resp=_context14.sent,_context14.abrupt("return",{data:normalizeFile(resp.data)});case 9:case"end":return _context14.stop()}},_callee14,this)})),function(){return _ref23.apply(this,arguments)})},{key:"ensureDirectoryExists",value:(_ref24=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee15(path){var resp;return _regenerator2.default.wrap(function(_context15){for(;;)switch(_context15.prev=_context15.next){case 0:if(this.specialDirectories[path]){_context15.next=5;break}return _context15.next=3,this.createDirectoryByPath(path);case 3:resp=_context15.sent,this.specialDirectories[path]=resp.data._id;case 5:return _context15.abrupt("return",this.specialDirectories[path]);case 6:case"end":return _context15.stop()}},_callee15,this)})),function(_x25){return _ref24.apply(this,arguments)})},{key:"getDirectoryOrCreate",value:(_ref25=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee16(name,parentDirectory){var safeName,path,stat,parsedError,errors;return _regenerator2.default.wrap(function(_context16){for(;;)switch(_context16.prev=_context16.next){case 0:if(!parentDirectory||parentDirectory.attributes){_context16.next=2;break}throw new Error("Malformed parent directory");case 2:return safeName=sanitizeFileName(name),path=("io.cozy.files.root-dir"===parentDirectory._id?"":parentDirectory.attributes.path)+"/"+safeName,_context16.prev=4,_context16.next=7,this.statByPath(path||"/");case 7:return stat=_context16.sent,_context16.abrupt("return",stat);case 11:if(_context16.prev=11,_context16.t0=_context16.catch(4),parsedError=JSON.parse(_context16.t0.message),!(errors=parsedError.errors)||!errors.length||"404"!==errors[0].status){_context16.next=17;break}return _context16.abrupt("return",this.createDirectory({name:safeName,dirId:parentDirectory&&parentDirectory._id}));case 17:throw errors;case 18:case"end":return _context16.stop()}},_callee16,this,[[4,11]])})),function(_x26,_x27){return _ref25.apply(this,arguments)})},{key:"createDirectoryByPath",value:(_ref26=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee17(path){var parts,root,parentDir,_iteratorNormalCompletion2,_didIteratorError2,_iteratorError2,_iterator2,_step2,part;return _regenerator2.default.wrap(function(_context17){for(;;)switch(_context17.prev=_context17.next){case 0:return parts=path.split("/").filter(function(part){return""!==part}),_context17.next=3,this.statById("io.cozy.files.root-dir");case 3:if(root=_context17.sent,parts.length){_context17.next=6;break}return _context17.abrupt("return",root);case 6:parentDir=root,_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0,_context17.prev=10,_iterator2=(0,_getIterator3.default)(parts);case 12:if(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done){_context17.next=20;break}return part=_step2.value,_context17.next=16,this.getDirectoryOrCreate(part,parentDir.data);case 16:parentDir=_context17.sent;case 17:_iteratorNormalCompletion2=!0,_context17.next=12;break;case 20:_context17.next=26;break;case 22:_context17.prev=22,_context17.t0=_context17.catch(10),_didIteratorError2=!0,_iteratorError2=_context17.t0;case 26:_context17.prev=26,_context17.prev=27,!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return();case 29:if(_context17.prev=29,!_didIteratorError2){_context17.next=32;break}throw _iteratorError2;case 32:return _context17.finish(29);case 33:return _context17.finish(26);case 34:return _context17.abrupt("return",parentDir);case 35:case"end":return _context17.stop()}},_callee17,this,[[10,22,26,34],[27,,29,33]])})),function(_x28){return _ref26.apply(this,arguments)})},{key:"updateAttributes",value:(_ref27=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee18(id,attributes){var resp;return _regenerator2.default.wrap(function(_context18){for(;;)switch(_context18.prev=_context18.next){case 0:return _context18.next=2,this.stackClient.fetchJSON("PATCH",(0,_utils.uri)(_templateObject3,id),{data:{type:"io.cozy.files",id:id,attributes:attributes}});case 2:return resp=_context18.sent,_context18.abrupt("return",{data:normalizeFile(resp.data)});case 4:case"end":return _context18.stop()}},_callee18,this)})),function(_x29,_x30){return _ref27.apply(this,arguments)})},{key:"updateFileMetadata",value:(_ref28=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee19(id,attributes){return _regenerator2.default.wrap(function(_context19){for(;;)switch(_context19.prev=_context19.next){case 0:return console.warn("CozyClient FileCollection updateFileMetadata method is deprecated. Use updateAttributes instead"),_context19.abrupt("return",this.updateAttributes(id,attributes));case 2:case"end":return _context19.stop()}},_callee19,this)})),function(_x31,_x32){return _ref28.apply(this,arguments)})},{key:"createFileMetadata",value:(_ref29=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee20(attributes){var resp;return _regenerator2.default.wrap(function(_context20){for(;;)switch(_context20.prev=_context20.next){case 0:return _context20.next=2,this.stackClient.fetchJSON("POST",(0,_utils.uri)(_templateObject11),{data:{type:"io.cozy.files.metadata",attributes:attributes}});case 2:return resp=_context20.sent,_context20.abrupt("return",{data:resp.data});case 4:case"end":return _context20.stop()}},_callee20,this)})),function(_x33){return _ref29.apply(this,arguments)})},{key:"updateMetadataAttribute",value:(_ref30=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee21(id,metadata){var resp;return _regenerator2.default.wrap(function(_context21){for(;;)switch(_context21.prev=_context21.next){case 0:return _context21.next=2,this.stackClient.fetchJSON("POST",(0,_utils.uri)(_templateObject12,id),{data:{type:"io.cozy.files.metadata",attributes:metadata}});case 2:return resp=_context21.sent,_context21.abrupt("return",{data:resp.data});case 4:case"end":return _context21.stop()}},_callee21,this)})),function(_x34,_x35){return _ref30.apply(this,arguments)})},{key:"doUpload",value:(_ref31=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee22(data,path,options){var isBuffer,isFile,isBlob,isStream,isString,_ref32,contentType,contentLength,checksum,lastModifiedDate,ifMatch,headers,resp,method=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"POST";return _regenerator2.default.wrap(function(_context22){for(;;)switch(_context22.prev=_context22.next){case 0:if(data){_context22.next=2;break}throw new Error("missing data argument");case 2:if(data.buffer&&data.buffer instanceof ArrayBuffer&&(data=data.buffer),isBuffer="undefined"!=typeof ArrayBuffer&&data instanceof ArrayBuffer,isFile="undefined"!=typeof File&&data instanceof File,isBlob="undefined"!=typeof Blob&&data instanceof Blob,isStream=!0===data.readable&&"function"==typeof data.pipe,isString="string"==typeof data,isBuffer||isFile||isBlob||isStream||isString){_context22.next=10;break}throw new Error("invalid data type");case 10:return contentType=(_ref32=options||{}).contentType,contentLength=_ref32.contentLength,checksum=_ref32.checksum,lastModifiedDate=_ref32.lastModifiedDate,ifMatch=_ref32.ifMatch,contentType||(isBuffer?contentType="application/octet-stream":isFile?(contentType=data.type||getFileTypeFromName(data.name.toLowerCase())||"application/octet-stream",lastModifiedDate||(lastModifiedDate=data.lastModifiedDate)):isBlob?contentType=data.type||"application/octet-stream":isStream?contentType="application/octet-stream":"string"==typeof data&&(contentType="text/plain")),lastModifiedDate&&"string"==typeof lastModifiedDate&&(lastModifiedDate=new Date(lastModifiedDate)),headers={"Content-Type":contentType},contentLength&&(headers["Content-Length"]=String(contentLength)),checksum&&(headers["Content-MD5"]=checksum),lastModifiedDate&&(headers.Date=lastModifiedDate.toGMTString()),ifMatch&&(headers["If-Match"]=ifMatch),_context22.next=20,this.stackClient.fetchJSON(method,path,data,{headers:headers});case 20:return resp=_context22.sent,_context22.abrupt("return",{data:normalizeFile(resp.data)});case 22:case"end":return _context22.stop()}},_callee22,this)})),function(_x37,_x38,_x39){return _ref31.apply(this,arguments)})}]),FileCollection}(_DocumentCollection3.default);exports.default=FileCollection},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isMobile=exports.isIOS=exports.isAndroid=exports.isMobileApp=exports.isWebApp=exports.isAndroidApp=exports.isIOSApp=exports.getPlatform=void 0;var _cordova=__webpack_require__(247),getPlatform=function(){return(0,_cordova.isCordova)()?window.cordova.platformId:"web"};exports.getPlatform=getPlatform;var isPlatform=function(platform){return getPlatform()===platform};exports.isIOSApp=function(){return isPlatform("ios")};exports.isAndroidApp=function(){return isPlatform("android")};exports.isWebApp=function(){return isPlatform("web")};exports.isMobileApp=function(){return(0,_cordova.isCordova)()};var isAndroid=function(){return window.navigator.userAgent&&window.navigator.userAgent.indexOf("Android")>=0};exports.isAndroid=isAndroid;var isIOS=function(){return window.navigator.userAgent&&/iPad|iPhone|iPod/.test(window.navigator.userAgent)};exports.isIOS=isIOS;exports.isMobile=function(){return isAndroid()||isIOS()}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isCordova=void 0;exports.isCordova=function(){return"undefined"!=typeof window&&void 0!==window.cordova}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasSafariPlugin=exports.hasInAppBrowserPlugin=exports.hasDevicePlugin=void 0;var _cordova=__webpack_require__(247);exports.hasDevicePlugin=function(){return(0,_cordova.isCordova)()&&void 0!==window.device};exports.hasInAppBrowserPlugin=function(){return(0,_cordova.isCordova)()&&void 0!==window.cordova.InAppBrowser};exports.hasSafariPlugin=function(){return new Promise(function(resolve){(0,_cordova.isCordova)()&&void 0!==window.SafariViewController?window.SafariViewController.isAvailable(function(available){return resolve(available)}):resolve(!1)})}},function(module,exports,__webpack_require__){const groupBy=__webpack_require__(41),get=__webpack_require__(11),Document=__webpack_require__(38),matching=__webpack_require__(777),{getSlugFromInstitutionLabel:getSlugFromInstitutionLabel}=__webpack_require__(394);class BankAccount extends Document{static reconciliate(fetchedAccounts,localAccounts){return matching.matchAccounts(fetchedAccounts,localAccounts).map(matching=>({...matching.account,_id:matching.match?matching.match._id:void 0}))}static findDuplicateAccountsWithNoOperations(accounts,operations){const opsByAccountId=groupBy(operations,op=>op.account),duplicateAccountGroups=Object.entries(groupBy(accounts,x=>x.institutionLabel+" > "+x.label)).map(([,duplicateGroup])=>duplicateGroup).filter(duplicateGroup=>duplicateGroup.length>1),res=[];for(const duplicateAccounts of duplicateAccountGroups)for(const account of duplicateAccounts){0===(opsByAccountId[account._id]||[]).length&&res.push(account)}return res}static hasIncoherentCreatedByApp(account){const predictedSlug=getSlugFromInstitutionLabel(account.institutionLabel),createdByApp=account.cozyMetadata&&account.cozyMetadata.createdByApp;return Boolean(predictedSlug&&createdByApp&&predictedSlug!==createdByApp)}static getUpdatedAt(account){const vendorUpdatedAt=get(account,"metadata.updatedAt");if(vendorUpdatedAt)return vendorUpdatedAt;const cozyUpdatedAt=get(account,"cozyMetadata.updatedAt");return cozyUpdatedAt||null}}BankAccount.normalizeAccountNumber=matching.normalizeAccountNumber,BankAccount.doctype="io.cozy.bank.accounts",BankAccount.idAttributes=["_id"],BankAccount.version=1,BankAccount.checkedAttributes=null,BankAccount.vendorIdAttr="vendorId",module.exports=BankAccount},function(module,exports,__webpack_require__){var MapCache=__webpack_require__(211),FUNC_ERROR_TEXT="Expected a function";function memoize(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result)||cache,result};return memoized.cache=new(memoize.Cache||MapCache),memoized}memoize.Cache=MapCache,module.exports=memoize},function(module,exports){module.exports=function(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}},,function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){var root,_ponyfill_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(399);root="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:module;var result=Object(_ponyfill_js__WEBPACK_IMPORTED_MODULE_0__.a)(root);__webpack_exports__.a=result}).call(this,__webpack_require__(718)(module))},function(module,exports){module.exports=function(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}},function(module,exports,__webpack_require__){var baseCreate=__webpack_require__(137),baseLodash=__webpack_require__(208);function LodashWrapper(value,chainAll){this.__wrapped__=value,this.__actions__=[],this.__chain__=!!chainAll,this.__index__=0,this.__values__=void 0}LodashWrapper.prototype=baseCreate(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper,module.exports=LodashWrapper},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.chain=void 0;var _toConsumableArray3=_interopRequireDefault(__webpack_require__(69)),_stringify2=_interopRequireDefault(__webpack_require__(175)),_classCallCheck3=_interopRequireDefault(__webpack_require__(1)),_createClass3=_interopRequireDefault(__webpack_require__(2));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CozyLink=function(){function CozyLink(requestHandler){(0,_classCallCheck3.default)(this,CozyLink),"function"==typeof requestHandler&&(this.request=requestHandler)}return(0,_createClass3.default)(CozyLink,[{key:"request",value:function(operation,result,forward){throw new Error("request is not implemented")}}]),CozyLink}();exports.default=CozyLink;var toLink=function(handler){return"function"==typeof handler?new CozyLink(handler):handler},defaultLinkHandler=function(operation,result){if(result)return result;if(operation.execute)return operation.execute();throw new Error("No link could handle operation "+(0,_stringify2.default)(operation))},concat=(exports.chain=function(links){return[].concat((0,_toConsumableArray3.default)(links),[defaultLinkHandler]).map(toLink).reduce(concat)},function(firstLink,nextLink){return new CozyLink(function(operation,result,forward){return firstLink.request(operation,result,function(op,res){return nextLink.request(op,res,forward)})})})},function(module,exports,__webpack_require__){var parse=__webpack_require__(35);module.exports=function(dirtyDate,dirtyAmount){var date=parse(dirtyDate),amount=Number(dirtyAmount);return date.setDate(date.getDate()+amount),date}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(635)},function(module,exports,__webpack_require__){"use strict";var _TypeError,_RangeError,es5=__webpack_require__(287),Objectfreeze=es5.freeze,util=__webpack_require__(52),inherits=util.inherits,notEnumerableProp=util.notEnumerableProp;function subError(nameProperty,defaultMessage){function SubError(message){if(!(this instanceof SubError))return new SubError(message);notEnumerableProp(this,"message","string"==typeof message?message:defaultMessage),notEnumerableProp(this,"name",nameProperty),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return inherits(SubError,Error),SubError}var Warning=subError("Warning","warning"),CancellationError=subError("CancellationError","cancellation error"),TimeoutError=subError("TimeoutError","timeout error"),AggregateError=subError("AggregateError","aggregate error");try{_TypeError=TypeError,_RangeError=RangeError}catch(e){_TypeError=subError("TypeError","type error"),_RangeError=subError("RangeError","range error")}for(var methods="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),i=0;i<methods.length;++i)"function"==typeof Array.prototype[methods[i]]&&(AggregateError.prototype[methods[i]]=Array.prototype[methods[i]]);es5.defineProperty(AggregateError.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),AggregateError.prototype.isOperational=!0;var level=0;function OperationalError(message){if(!(this instanceof OperationalError))return new OperationalError(message);notEnumerableProp(this,"name","OperationalError"),notEnumerableProp(this,"message",message),this.cause=message,this.isOperational=!0,message instanceof Error?(notEnumerableProp(this,"message",message.message),notEnumerableProp(this,"stack",message.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}AggregateError.prototype.toString=function(){var indent=Array(4*level+1).join(" "),ret="\n"+indent+"AggregateError of:\n";level++,indent=Array(4*level+1).join(" ");for(var i=0;i<this.length;++i){for(var str=this[i]===this?"[Circular AggregateError]":this[i]+"",lines=str.split("\n"),j=0;j<lines.length;++j)lines[j]=indent+lines[j];ret+=(str=lines.join("\n"))+"\n"}return level--,ret},inherits(OperationalError,Error);var errorTypes=Error.__BluebirdErrorTypes__;errorTypes||(errorTypes=Objectfreeze({CancellationError:CancellationError,TimeoutError:TimeoutError,OperationalError:OperationalError,RejectionError:OperationalError,AggregateError:AggregateError}),es5.defineProperty(Error,"__BluebirdErrorTypes__",{value:errorTypes,writable:!1,enumerable:!1,configurable:!1})),module.exports={Error:Error,TypeError:_TypeError,RangeError:_RangeError,CancellationError:errorTypes.CancellationError,OperationalError:errorTypes.OperationalError,TimeoutError:errorTypes.TimeoutError,AggregateError:errorTypes.AggregateError,Warning:Warning}},function(module,exports,__webpack_require__){module.exports=Fingerprint;var assert=__webpack_require__(18),Buffer=__webpack_require__(13).Buffer,algs=__webpack_require__(57),crypto=__webpack_require__(23),errs=__webpack_require__(112),Key=__webpack_require__(45),PrivateKey=__webpack_require__(53),Certificate=__webpack_require__(265),utils=__webpack_require__(46),FingerprintFormatError=errs.FingerprintFormatError,InvalidAlgorithmError=errs.InvalidAlgorithmError;function Fingerprint(opts){if(assert.object(opts,"options"),assert.string(opts.type,"options.type"),assert.buffer(opts.hash,"options.hash"),assert.string(opts.algorithm,"options.algorithm"),this.algorithm=opts.algorithm.toLowerCase(),!0!==algs.hashAlgs[this.algorithm])throw new InvalidAlgorithmError(this.algorithm);this.hash=opts.hash,this.type=opts.type,this.hashType=opts.hashType}Fingerprint.prototype.toString=function(format){switch(void 0===format&&(format="md5"===this.algorithm||"spki"===this.hashType?"hex":"base64"),assert.string(format),format){case"hex":return"spki"===this.hashType?this.hash.toString("hex"):this.hash.toString("hex").replace(/(.{2})(?=.)/g,"$1:");case"base64":return"spki"===this.hashType?this.hash.toString("base64"):function(alg,h){return alg.toUpperCase()+":"+(s=h,s.replace(/=*$/,""));var s}(this.algorithm,this.hash.toString("base64"));default:throw new FingerprintFormatError(void 0,format)}},Fingerprint.prototype.matches=function(other){assert.object(other,"key or certificate"),"key"===this.type&&"ssh"!==this.hashType?(utils.assertCompatible(other,Key,[1,7],"key with spki"),PrivateKey.isPrivateKey(other)&&utils.assertCompatible(other,PrivateKey,[1,6],"privatekey with spki support")):"key"===this.type?utils.assertCompatible(other,Key,[1,0],"key"):utils.assertCompatible(other,Certificate,[1,0],"certificate");var theirHash=other.hash(this.algorithm,this.hashType),theirHash2=crypto.createHash(this.algorithm).update(theirHash).digest("base64");return void 0===this.hash2&&(this.hash2=crypto.createHash(this.algorithm).update(this.hash).digest("base64")),this.hash2===theirHash2};var base64RE=/^[A-Za-z0-9+\/=]+$/,hexRE=/^[a-fA-F0-9]+$/;Fingerprint.parse=function(fp,options){var alg,hash,enAlgs;assert.string(fp,"fingerprint"),Array.isArray(options)&&(enAlgs=options,options={}),assert.optionalObject(options,"options"),void 0===options&&(options={}),void 0!==options.enAlgs&&(enAlgs=options.enAlgs),void 0!==options.algorithms&&(enAlgs=options.algorithms),assert.optionalArrayOfString(enAlgs,"algorithms");var hashType="ssh";void 0!==options.hashType&&(hashType=options.hashType),assert.string(hashType,"options.hashType");var parts=fp.split(":");if(2==parts.length){if(alg=parts[0].toLowerCase(),!base64RE.test(parts[1]))throw new FingerprintFormatError(fp);try{hash=Buffer.from(parts[1],"base64")}catch(e){throw new FingerprintFormatError(fp)}}else if(parts.length>2){if(alg="md5","md5"===parts[0].toLowerCase()&&(parts=parts.slice(1)),parts=(parts=parts.map(function(p){for(;p.length<2;)p="0"+p;if(p.length>2)throw new FingerprintFormatError(fp);return p})).join(""),!hexRE.test(parts)||parts.length%2!=0)throw new FingerprintFormatError(fp);try{hash=Buffer.from(parts,"hex")}catch(e){throw new FingerprintFormatError(fp)}}else{if(hexRE.test(fp))hash=Buffer.from(fp,"hex");else{if(!base64RE.test(fp))throw new FingerprintFormatError(fp);hash=Buffer.from(fp,"base64")}switch(hash.length){case 32:alg="sha256";break;case 16:alg="md5";break;case 20:alg="sha1";break;case 64:alg="sha512";break;default:throw new FingerprintFormatError(fp)}void 0===options.hashType&&(hashType="spki")}if(void 0===alg)throw new FingerprintFormatError(fp);if(void 0===algs.hashAlgs[alg])throw new InvalidAlgorithmError(alg);if(void 0!==enAlgs&&-1===(enAlgs=enAlgs.map(function(a){return a.toLowerCase()})).indexOf(alg))throw new InvalidAlgorithmError(alg);return new Fingerprint({algorithm:alg,hash:hash,type:options.type||"key",hashType:hashType})},Fingerprint.isFingerprint=function(obj,ver){return utils.isCompatible(obj,Fingerprint,ver)},Fingerprint.prototype._sshpkApiVersion=[1,2],Fingerprint._oldVersionDetect=function(obj){return assert.func(obj.toString),assert.func(obj.matches),[1,0]}},function(module,exports,__webpack_require__){(function(){var dbits;function BigInteger(a,b,c){null!=a&&("number"==typeof a?this.fromNumber(a,b,c):null==b&&"string"!=typeof a?this.fromString(a,256):this.fromString(a,b))}function nbi(){return new BigInteger(null)}var inBrowser="undefined"!=typeof navigator;inBrowser&&"Microsoft Internet Explorer"==navigator.appName?(BigInteger.prototype.am=function(i,x,w,j,c,n){for(var xl=32767&x,xh=x>>15;--n>=0;){var l=32767&this[i],h=this[i++]>>15,m=xh*l+h*xl;c=((l=xl*l+((32767&m)<<15)+w[j]+(1073741823&c))>>>30)+(m>>>15)+xh*h+(c>>>30),w[j++]=1073741823&l}return c},dbits=30):inBrowser&&"Netscape"!=navigator.appName?(BigInteger.prototype.am=function(i,x,w,j,c,n){for(;--n>=0;){var v=x*this[i++]+w[j]+c;c=Math.floor(v/67108864),w[j++]=67108863&v}return c},dbits=26):(BigInteger.prototype.am=function(i,x,w,j,c,n){for(var xl=16383&x,xh=x>>14;--n>=0;){var l=16383&this[i],h=this[i++]>>14,m=xh*l+h*xl;c=((l=xl*l+((16383&m)<<14)+w[j]+c)>>28)+(m>>14)+xh*h,w[j++]=268435455&l}return c},dbits=28),BigInteger.prototype.DB=dbits,BigInteger.prototype.DM=(1<<dbits)-1,BigInteger.prototype.DV=1<<dbits;BigInteger.prototype.FV=Math.pow(2,52),BigInteger.prototype.F1=52-dbits,BigInteger.prototype.F2=2*dbits-52;var rr,vv,BI_RM="0123456789abcdefghijklmnopqrstuvwxyz",BI_RC=new Array;for(rr="0".charCodeAt(0),vv=0;vv<=9;++vv)BI_RC[rr++]=vv;for(rr="a".charCodeAt(0),vv=10;vv<36;++vv)BI_RC[rr++]=vv;for(rr="A".charCodeAt(0),vv=10;vv<36;++vv)BI_RC[rr++]=vv;function int2char(n){return BI_RM.charAt(n)}function intAt(s,i){var c=BI_RC[s.charCodeAt(i)];return null==c?-1:c}function nbv(i){var r=nbi();return r.fromInt(i),r}function nbits(x){var t,r=1;return 0!=(t=x>>>16)&&(x=t,r+=16),0!=(t=x>>8)&&(x=t,r+=8),0!=(t=x>>4)&&(x=t,r+=4),0!=(t=x>>2)&&(x=t,r+=2),0!=(t=x>>1)&&(x=t,r+=1),r}function Classic(m){this.m=m}function Montgomery(m){this.m=m,this.mp=m.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<m.DB-15)-1,this.mt2=2*m.t}function op_and(x,y){return x&y}function op_or(x,y){return x|y}function op_xor(x,y){return x^y}function op_andnot(x,y){return x&~y}function lbit(x){if(0==x)return-1;var r=0;return 0==(65535&x)&&(x>>=16,r+=16),0==(255&x)&&(x>>=8,r+=8),0==(15&x)&&(x>>=4,r+=4),0==(3&x)&&(x>>=2,r+=2),0==(1&x)&&++r,r}function cbit(x){for(var r=0;0!=x;)x&=x-1,++r;return r}function NullExp(){}function nNop(x){return x}function Barrett(m){this.r2=nbi(),this.q3=nbi(),BigInteger.ONE.dlShiftTo(2*m.t,this.r2),this.mu=this.r2.divide(m),this.m=m}Classic.prototype.convert=function(x){return x.s<0||x.compareTo(this.m)>=0?x.mod(this.m):x},Classic.prototype.revert=function(x){return x},Classic.prototype.reduce=function(x){x.divRemTo(this.m,null,x)},Classic.prototype.mulTo=function(x,y,r){x.multiplyTo(y,r),this.reduce(r)},Classic.prototype.sqrTo=function(x,r){x.squareTo(r),this.reduce(r)},Montgomery.prototype.convert=function(x){var r=nbi();return x.abs().dlShiftTo(this.m.t,r),r.divRemTo(this.m,null,r),x.s<0&&r.compareTo(BigInteger.ZERO)>0&&this.m.subTo(r,r),r},Montgomery.prototype.revert=function(x){var r=nbi();return x.copyTo(r),this.reduce(r),r},Montgomery.prototype.reduce=function(x){for(;x.t<=this.mt2;)x[x.t++]=0;for(var i=0;i<this.m.t;++i){var j=32767&x[i],u0=j*this.mpl+((j*this.mph+(x[i]>>15)*this.mpl&this.um)<<15)&x.DM;for(x[j=i+this.m.t]+=this.m.am(0,u0,x,i,0,this.m.t);x[j]>=x.DV;)x[j]-=x.DV,x[++j]++}x.clamp(),x.drShiftTo(this.m.t,x),x.compareTo(this.m)>=0&&x.subTo(this.m,x)},Montgomery.prototype.mulTo=function(x,y,r){x.multiplyTo(y,r),this.reduce(r)},Montgomery.prototype.sqrTo=function(x,r){x.squareTo(r),this.reduce(r)},BigInteger.prototype.copyTo=function(r){for(var i=this.t-1;i>=0;--i)r[i]=this[i];r.t=this.t,r.s=this.s},BigInteger.prototype.fromInt=function(x){this.t=1,this.s=x<0?-1:0,x>0?this[0]=x:x<-1?this[0]=x+this.DV:this.t=0},BigInteger.prototype.fromString=function(s,b){var k;if(16==b)k=4;else if(8==b)k=3;else if(256==b)k=8;else if(2==b)k=1;else if(32==b)k=5;else{if(4!=b)return void this.fromRadix(s,b);k=2}this.t=0,this.s=0;for(var i=s.length,mi=!1,sh=0;--i>=0;){var x=8==k?255&s[i]:intAt(s,i);x<0?"-"==s.charAt(i)&&(mi=!0):(mi=!1,0==sh?this[this.t++]=x:sh+k>this.DB?(this[this.t-1]|=(x&(1<<this.DB-sh)-1)<<sh,this[this.t++]=x>>this.DB-sh):this[this.t-1]|=x<<sh,(sh+=k)>=this.DB&&(sh-=this.DB))}8==k&&0!=(128&s[0])&&(this.s=-1,sh>0&&(this[this.t-1]|=(1<<this.DB-sh)-1<<sh)),this.clamp(),mi&&BigInteger.ZERO.subTo(this,this)},BigInteger.prototype.clamp=function(){for(var c=this.s&this.DM;this.t>0&&this[this.t-1]==c;)--this.t},BigInteger.prototype.dlShiftTo=function(n,r){var i;for(i=this.t-1;i>=0;--i)r[i+n]=this[i];for(i=n-1;i>=0;--i)r[i]=0;r.t=this.t+n,r.s=this.s},BigInteger.prototype.drShiftTo=function(n,r){for(var i=n;i<this.t;++i)r[i-n]=this[i];r.t=Math.max(this.t-n,0),r.s=this.s},BigInteger.prototype.lShiftTo=function(n,r){var i,bs=n%this.DB,cbs=this.DB-bs,bm=(1<<cbs)-1,ds=Math.floor(n/this.DB),c=this.s<<bs&this.DM;for(i=this.t-1;i>=0;--i)r[i+ds+1]=this[i]>>cbs|c,c=(this[i]&bm)<<bs;for(i=ds-1;i>=0;--i)r[i]=0;r[ds]=c,r.t=this.t+ds+1,r.s=this.s,r.clamp()},BigInteger.prototype.rShiftTo=function(n,r){r.s=this.s;var ds=Math.floor(n/this.DB);if(ds>=this.t)r.t=0;else{var bs=n%this.DB,cbs=this.DB-bs,bm=(1<<bs)-1;r[0]=this[ds]>>bs;for(var i=ds+1;i<this.t;++i)r[i-ds-1]|=(this[i]&bm)<<cbs,r[i-ds]=this[i]>>bs;bs>0&&(r[this.t-ds-1]|=(this.s&bm)<<cbs),r.t=this.t-ds,r.clamp()}},BigInteger.prototype.subTo=function(a,r){for(var i=0,c=0,m=Math.min(a.t,this.t);i<m;)c+=this[i]-a[i],r[i++]=c&this.DM,c>>=this.DB;if(a.t<this.t){for(c-=a.s;i<this.t;)c+=this[i],r[i++]=c&this.DM,c>>=this.DB;c+=this.s}else{for(c+=this.s;i<a.t;)c-=a[i],r[i++]=c&this.DM,c>>=this.DB;c-=a.s}r.s=c<0?-1:0,c<-1?r[i++]=this.DV+c:c>0&&(r[i++]=c),r.t=i,r.clamp()},BigInteger.prototype.multiplyTo=function(a,r){var x=this.abs(),y=a.abs(),i=x.t;for(r.t=i+y.t;--i>=0;)r[i]=0;for(i=0;i<y.t;++i)r[i+x.t]=x.am(0,y[i],r,i,0,x.t);r.s=0,r.clamp(),this.s!=a.s&&BigInteger.ZERO.subTo(r,r)},BigInteger.prototype.squareTo=function(r){for(var x=this.abs(),i=r.t=2*x.t;--i>=0;)r[i]=0;for(i=0;i<x.t-1;++i){var c=x.am(i,x[i],r,2*i,0,1);(r[i+x.t]+=x.am(i+1,2*x[i],r,2*i+1,c,x.t-i-1))>=x.DV&&(r[i+x.t]-=x.DV,r[i+x.t+1]=1)}r.t>0&&(r[r.t-1]+=x.am(i,x[i],r,2*i,0,1)),r.s=0,r.clamp()},BigInteger.prototype.divRemTo=function(m,q,r){var pm=m.abs();if(!(pm.t<=0)){var pt=this.abs();if(pt.t<pm.t)return null!=q&&q.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=nbi());var y=nbi(),ts=this.s,ms=m.s,nsh=this.DB-nbits(pm[pm.t-1]);nsh>0?(pm.lShiftTo(nsh,y),pt.lShiftTo(nsh,r)):(pm.copyTo(y),pt.copyTo(r));var ys=y.t,y0=y[ys-1];if(0!=y0){var yt=y0*(1<<this.F1)+(ys>1?y[ys-2]>>this.F2:0),d1=this.FV/yt,d2=(1<<this.F1)/yt,e=1<<this.F2,i=r.t,j=i-ys,t=null==q?nbi():q;for(y.dlShiftTo(j,t),r.compareTo(t)>=0&&(r[r.t++]=1,r.subTo(t,r)),BigInteger.ONE.dlShiftTo(ys,t),t.subTo(y,y);y.t<ys;)y[y.t++]=0;for(;--j>=0;){var qd=r[--i]==y0?this.DM:Math.floor(r[i]*d1+(r[i-1]+e)*d2);if((r[i]+=y.am(0,qd,r,j,0,ys))<qd)for(y.dlShiftTo(j,t),r.subTo(t,r);r[i]<--qd;)r.subTo(t,r)}null!=q&&(r.drShiftTo(ys,q),ts!=ms&&BigInteger.ZERO.subTo(q,q)),r.t=ys,r.clamp(),nsh>0&&r.rShiftTo(nsh,r),ts<0&&BigInteger.ZERO.subTo(r,r)}}},BigInteger.prototype.invDigit=function(){if(this.t<1)return 0;var x=this[0];if(0==(1&x))return 0;var y=3&x;return(y=(y=(y=(y=y*(2-(15&x)*y)&15)*(2-(255&x)*y)&255)*(2-((65535&x)*y&65535))&65535)*(2-x*y%this.DV)%this.DV)>0?this.DV-y:-y},BigInteger.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},BigInteger.prototype.exp=function(e,z){if(e>4294967295||e<1)return BigInteger.ONE;var r=nbi(),r2=nbi(),g=z.convert(this),i=nbits(e)-1;for(g.copyTo(r);--i>=0;)if(z.sqrTo(r,r2),(e&1<<i)>0)z.mulTo(r2,g,r);else{var t=r;r=r2,r2=t}return z.revert(r)},BigInteger.prototype.toString=function(b){if(this.s<0)return"-"+this.negate().toString(b);var k;if(16==b)k=4;else if(8==b)k=3;else if(2==b)k=1;else if(32==b)k=5;else{if(4!=b)return this.toRadix(b);k=2}var d,km=(1<<k)-1,m=!1,r="",i=this.t,p=this.DB-i*this.DB%k;if(i-- >0)for(p<this.DB&&(d=this[i]>>p)>0&&(m=!0,r=int2char(d));i>=0;)p<k?(d=(this[i]&(1<<p)-1)<<k-p,d|=this[--i]>>(p+=this.DB-k)):(d=this[i]>>(p-=k)&km,p<=0&&(p+=this.DB,--i)),d>0&&(m=!0),m&&(r+=int2char(d));return m?r:"0"},BigInteger.prototype.negate=function(){var r=nbi();return BigInteger.ZERO.subTo(this,r),r},BigInteger.prototype.abs=function(){return this.s<0?this.negate():this},BigInteger.prototype.compareTo=function(a){var r=this.s-a.s;if(0!=r)return r;var i=this.t;if(0!=(r=i-a.t))return this.s<0?-r:r;for(;--i>=0;)if(0!=(r=this[i]-a[i]))return r;return 0},BigInteger.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+nbits(this[this.t-1]^this.s&this.DM)},BigInteger.prototype.mod=function(a){var r=nbi();return this.abs().divRemTo(a,null,r),this.s<0&&r.compareTo(BigInteger.ZERO)>0&&a.subTo(r,r),r},BigInteger.prototype.modPowInt=function(e,m){var z;return z=e<256||m.isEven()?new Classic(m):new Montgomery(m),this.exp(e,z)},BigInteger.ZERO=nbv(0),BigInteger.ONE=nbv(1),NullExp.prototype.convert=nNop,NullExp.prototype.revert=nNop,NullExp.prototype.mulTo=function(x,y,r){x.multiplyTo(y,r)},NullExp.prototype.sqrTo=function(x,r){x.squareTo(r)},Barrett.prototype.convert=function(x){if(x.s<0||x.t>2*this.m.t)return x.mod(this.m);if(x.compareTo(this.m)<0)return x;var r=nbi();return x.copyTo(r),this.reduce(r),r},Barrett.prototype.revert=function(x){return x},Barrett.prototype.reduce=function(x){for(x.drShiftTo(this.m.t-1,this.r2),x.t>this.m.t+1&&(x.t=this.m.t+1,x.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);x.compareTo(this.r2)<0;)x.dAddOffset(1,this.m.t+1);for(x.subTo(this.r2,x);x.compareTo(this.m)>=0;)x.subTo(this.m,x)},Barrett.prototype.mulTo=function(x,y,r){x.multiplyTo(y,r),this.reduce(r)},Barrett.prototype.sqrTo=function(x,r){x.squareTo(r),this.reduce(r)};var rng_state,rng_pool,rng_pptr,lowprimes=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],lplim=(1<<26)/lowprimes[lowprimes.length-1];function rng_seed_time(){var x;x=(new Date).getTime(),rng_pool[rng_pptr++]^=255&x,rng_pool[rng_pptr++]^=x>>8&255,rng_pool[rng_pptr++]^=x>>16&255,rng_pool[rng_pptr++]^=x>>24&255,rng_pptr>=rng_psize&&(rng_pptr-=rng_psize)}if(BigInteger.prototype.chunkSize=function(r){return Math.floor(Math.LN2*this.DB/Math.log(r))},BigInteger.prototype.toRadix=function(b){if(null==b&&(b=10),0==this.signum()||b<2||b>36)return"0";var cs=this.chunkSize(b),a=Math.pow(b,cs),d=nbv(a),y=nbi(),z=nbi(),r="";for(this.divRemTo(d,y,z);y.signum()>0;)r=(a+z.intValue()).toString(b).substr(1)+r,y.divRemTo(d,y,z);return z.intValue().toString(b)+r},BigInteger.prototype.fromRadix=function(s,b){this.fromInt(0),null==b&&(b=10);for(var cs=this.chunkSize(b),d=Math.pow(b,cs),mi=!1,j=0,w=0,i=0;i<s.length;++i){var x=intAt(s,i);x<0?"-"==s.charAt(i)&&0==this.signum()&&(mi=!0):(w=b*w+x,++j>=cs&&(this.dMultiply(d),this.dAddOffset(w,0),j=0,w=0))}j>0&&(this.dMultiply(Math.pow(b,j)),this.dAddOffset(w,0)),mi&&BigInteger.ZERO.subTo(this,this)},BigInteger.prototype.fromNumber=function(a,b,c){if("number"==typeof b)if(a<2)this.fromInt(1);else for(this.fromNumber(a,c),this.testBit(a-1)||this.bitwiseTo(BigInteger.ONE.shiftLeft(a-1),op_or,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(b);)this.dAddOffset(2,0),this.bitLength()>a&&this.subTo(BigInteger.ONE.shiftLeft(a-1),this);else{var x=new Array,t=7&a;x.length=1+(a>>3),b.nextBytes(x),t>0?x[0]&=(1<<t)-1:x[0]=0,this.fromString(x,256)}},BigInteger.prototype.bitwiseTo=function(a,op,r){var i,f,m=Math.min(a.t,this.t);for(i=0;i<m;++i)r[i]=op(this[i],a[i]);if(a.t<this.t){for(f=a.s&this.DM,i=m;i<this.t;++i)r[i]=op(this[i],f);r.t=this.t}else{for(f=this.s&this.DM,i=m;i<a.t;++i)r[i]=op(f,a[i]);r.t=a.t}r.s=op(this.s,a.s),r.clamp()},BigInteger.prototype.changeBit=function(n,op){var r=BigInteger.ONE.shiftLeft(n);return this.bitwiseTo(r,op,r),r},BigInteger.prototype.addTo=function(a,r){for(var i=0,c=0,m=Math.min(a.t,this.t);i<m;)c+=this[i]+a[i],r[i++]=c&this.DM,c>>=this.DB;if(a.t<this.t){for(c+=a.s;i<this.t;)c+=this[i],r[i++]=c&this.DM,c>>=this.DB;c+=this.s}else{for(c+=this.s;i<a.t;)c+=a[i],r[i++]=c&this.DM,c>>=this.DB;c+=a.s}r.s=c<0?-1:0,c>0?r[i++]=c:c<-1&&(r[i++]=this.DV+c),r.t=i,r.clamp()},BigInteger.prototype.dMultiply=function(n){this[this.t]=this.am(0,n-1,this,0,0,this.t),++this.t,this.clamp()},BigInteger.prototype.dAddOffset=function(n,w){if(0!=n){for(;this.t<=w;)this[this.t++]=0;for(this[w]+=n;this[w]>=this.DV;)this[w]-=this.DV,++w>=this.t&&(this[this.t++]=0),++this[w]}},BigInteger.prototype.multiplyLowerTo=function(a,n,r){var j,i=Math.min(this.t+a.t,n);for(r.s=0,r.t=i;i>0;)r[--i]=0;for(j=r.t-this.t;i<j;++i)r[i+this.t]=this.am(0,a[i],r,i,0,this.t);for(j=Math.min(a.t,n);i<j;++i)this.am(0,a[i],r,i,0,n-i);r.clamp()},BigInteger.prototype.multiplyUpperTo=function(a,n,r){--n;var i=r.t=this.t+a.t-n;for(r.s=0;--i>=0;)r[i]=0;for(i=Math.max(n-this.t,0);i<a.t;++i)r[this.t+i-n]=this.am(n-i,a[i],r,0,0,this.t+i-n);r.clamp(),r.drShiftTo(1,r)},BigInteger.prototype.modInt=function(n){if(n<=0)return 0;var d=this.DV%n,r=this.s<0?n-1:0;if(this.t>0)if(0==d)r=this[0]%n;else for(var i=this.t-1;i>=0;--i)r=(d*r+this[i])%n;return r},BigInteger.prototype.millerRabin=function(t){var n1=this.subtract(BigInteger.ONE),k=n1.getLowestSetBit();if(k<=0)return!1;var r=n1.shiftRight(k);(t=t+1>>1)>lowprimes.length&&(t=lowprimes.length);for(var a=nbi(),i=0;i<t;++i){a.fromInt(lowprimes[Math.floor(Math.random()*lowprimes.length)]);var y=a.modPow(r,this);if(0!=y.compareTo(BigInteger.ONE)&&0!=y.compareTo(n1)){for(var j=1;j++<k&&0!=y.compareTo(n1);)if(0==(y=y.modPowInt(2,this)).compareTo(BigInteger.ONE))return!1;if(0!=y.compareTo(n1))return!1}}return!0},BigInteger.prototype.clone=function(){var r=nbi();return this.copyTo(r),r},BigInteger.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},BigInteger.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},BigInteger.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},BigInteger.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},BigInteger.prototype.toByteArray=function(){var i=this.t,r=new Array;r[0]=this.s;var d,p=this.DB-i*this.DB%8,k=0;if(i-- >0)for(p<this.DB&&(d=this[i]>>p)!=(this.s&this.DM)>>p&&(r[k++]=d|this.s<<this.DB-p);i>=0;)p<8?(d=(this[i]&(1<<p)-1)<<8-p,d|=this[--i]>>(p+=this.DB-8)):(d=this[i]>>(p-=8)&255,p<=0&&(p+=this.DB,--i)),0!=(128&d)&&(d|=-256),0==k&&(128&this.s)!=(128&d)&&++k,(k>0||d!=this.s)&&(r[k++]=d);return r},BigInteger.prototype.equals=function(a){return 0==this.compareTo(a)},BigInteger.prototype.min=function(a){return this.compareTo(a)<0?this:a},BigInteger.prototype.max=function(a){return this.compareTo(a)>0?this:a},BigInteger.prototype.and=function(a){var r=nbi();return this.bitwiseTo(a,op_and,r),r},BigInteger.prototype.or=function(a){var r=nbi();return this.bitwiseTo(a,op_or,r),r},BigInteger.prototype.xor=function(a){var r=nbi();return this.bitwiseTo(a,op_xor,r),r},BigInteger.prototype.andNot=function(a){var r=nbi();return this.bitwiseTo(a,op_andnot,r),r},BigInteger.prototype.not=function(){for(var r=nbi(),i=0;i<this.t;++i)r[i]=this.DM&~this[i];return r.t=this.t,r.s=~this.s,r},BigInteger.prototype.shiftLeft=function(n){var r=nbi();return n<0?this.rShiftTo(-n,r):this.lShiftTo(n,r),r},BigInteger.prototype.shiftRight=function(n){var r=nbi();return n<0?this.lShiftTo(-n,r):this.rShiftTo(n,r),r},BigInteger.prototype.getLowestSetBit=function(){for(var i=0;i<this.t;++i)if(0!=this[i])return i*this.DB+lbit(this[i]);return this.s<0?this.t*this.DB:-1},BigInteger.prototype.bitCount=function(){for(var r=0,x=this.s&this.DM,i=0;i<this.t;++i)r+=cbit(this[i]^x);return r},BigInteger.prototype.testBit=function(n){var j=Math.floor(n/this.DB);return j>=this.t?0!=this.s:0!=(this[j]&1<<n%this.DB)},BigInteger.prototype.setBit=function(n){return this.changeBit(n,op_or)},BigInteger.prototype.clearBit=function(n){return this.changeBit(n,op_andnot)},BigInteger.prototype.flipBit=function(n){return this.changeBit(n,op_xor)},BigInteger.prototype.add=function(a){var r=nbi();return this.addTo(a,r),r},BigInteger.prototype.subtract=function(a){var r=nbi();return this.subTo(a,r),r},BigInteger.prototype.multiply=function(a){var r=nbi();return this.multiplyTo(a,r),r},BigInteger.prototype.divide=function(a){var r=nbi();return this.divRemTo(a,r,null),r},BigInteger.prototype.remainder=function(a){var r=nbi();return this.divRemTo(a,null,r),r},BigInteger.prototype.divideAndRemainder=function(a){var q=nbi(),r=nbi();return this.divRemTo(a,q,r),new Array(q,r)},BigInteger.prototype.modPow=function(e,m){var k,z,i=e.bitLength(),r=nbv(1);if(i<=0)return r;k=i<18?1:i<48?3:i<144?4:i<768?5:6,z=i<8?new Classic(m):m.isEven()?new Barrett(m):new Montgomery(m);var g=new Array,n=3,k1=k-1,km=(1<<k)-1;if(g[1]=z.convert(this),k>1){var g2=nbi();for(z.sqrTo(g[1],g2);n<=km;)g[n]=nbi(),z.mulTo(g2,g[n-2],g[n]),n+=2}var w,t,j=e.t-1,is1=!0,r2=nbi();for(i=nbits(e[j])-1;j>=0;){for(i>=k1?w=e[j]>>i-k1&km:(w=(e[j]&(1<<i+1)-1)<<k1-i,j>0&&(w|=e[j-1]>>this.DB+i-k1)),n=k;0==(1&w);)w>>=1,--n;if((i-=n)<0&&(i+=this.DB,--j),is1)g[w].copyTo(r),is1=!1;else{for(;n>1;)z.sqrTo(r,r2),z.sqrTo(r2,r),n-=2;n>0?z.sqrTo(r,r2):(t=r,r=r2,r2=t),z.mulTo(r2,g[w],r)}for(;j>=0&&0==(e[j]&1<<i);)z.sqrTo(r,r2),t=r,r=r2,r2=t,--i<0&&(i=this.DB-1,--j)}return z.revert(r)},BigInteger.prototype.modInverse=function(m){var ac=m.isEven();if(this.isEven()&&ac||0==m.signum())return BigInteger.ZERO;for(var u=m.clone(),v=this.clone(),a=nbv(1),b=nbv(0),c=nbv(0),d=nbv(1);0!=u.signum();){for(;u.isEven();)u.rShiftTo(1,u),ac?(a.isEven()&&b.isEven()||(a.addTo(this,a),b.subTo(m,b)),a.rShiftTo(1,a)):b.isEven()||b.subTo(m,b),b.rShiftTo(1,b);for(;v.isEven();)v.rShiftTo(1,v),ac?(c.isEven()&&d.isEven()||(c.addTo(this,c),d.subTo(m,d)),c.rShiftTo(1,c)):d.isEven()||d.subTo(m,d),d.rShiftTo(1,d);u.compareTo(v)>=0?(u.subTo(v,u),ac&&a.subTo(c,a),b.subTo(d,b)):(v.subTo(u,v),ac&&c.subTo(a,c),d.subTo(b,d))}return 0!=v.compareTo(BigInteger.ONE)?BigInteger.ZERO:d.compareTo(m)>=0?d.subtract(m):d.signum()<0?(d.addTo(m,d),d.signum()<0?d.add(m):d):d},BigInteger.prototype.pow=function(e){return this.exp(e,new NullExp)},BigInteger.prototype.gcd=function(a){var x=this.s<0?this.negate():this.clone(),y=a.s<0?a.negate():a.clone();if(x.compareTo(y)<0){var t=x;x=y,y=t}var i=x.getLowestSetBit(),g=y.getLowestSetBit();if(g<0)return x;for(i<g&&(g=i),g>0&&(x.rShiftTo(g,x),y.rShiftTo(g,y));x.signum()>0;)(i=x.getLowestSetBit())>0&&x.rShiftTo(i,x),(i=y.getLowestSetBit())>0&&y.rShiftTo(i,y),x.compareTo(y)>=0?(x.subTo(y,x),x.rShiftTo(1,x)):(y.subTo(x,y),y.rShiftTo(1,y));return g>0&&y.lShiftTo(g,y),y},BigInteger.prototype.isProbablePrime=function(t){var i,x=this.abs();if(1==x.t&&x[0]<=lowprimes[lowprimes.length-1]){for(i=0;i<lowprimes.length;++i)if(x[0]==lowprimes[i])return!0;return!1}if(x.isEven())return!1;for(i=1;i<lowprimes.length;){for(var m=lowprimes[i],j=i+1;j<lowprimes.length&&m<lplim;)m*=lowprimes[j++];for(m=x.modInt(m);i<j;)if(m%lowprimes[i++]==0)return!1}return x.millerRabin(t)},BigInteger.prototype.square=function(){var r=nbi();return this.squareTo(r),r},BigInteger.prototype.Barrett=Barrett,null==rng_pool){var t;if(rng_pool=new Array,rng_pptr=0,"undefined"!=typeof window&&window.crypto)if(window.crypto.getRandomValues){var ua=new Uint8Array(32);for(window.crypto.getRandomValues(ua),t=0;t<32;++t)rng_pool[rng_pptr++]=ua[t]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var z=window.crypto.random(32);for(t=0;t<z.length;++t)rng_pool[rng_pptr++]=255&z.charCodeAt(t)}for(;rng_pptr<rng_psize;)t=Math.floor(65536*Math.random()),rng_pool[rng_pptr++]=t>>>8,rng_pool[rng_pptr++]=255&t;rng_pptr=0,rng_seed_time()}function rng_get_byte(){if(null==rng_state){for(rng_seed_time(),(rng_state=new Arcfour).init(rng_pool),rng_pptr=0;rng_pptr<rng_pool.length;++rng_pptr)rng_pool[rng_pptr]=0;rng_pptr=0}return rng_state.next()}function SecureRandom(){}function Arcfour(){this.i=0,this.j=0,this.S=new Array}SecureRandom.prototype.nextBytes=function(ba){var i;for(i=0;i<ba.length;++i)ba[i]=rng_get_byte()},Arcfour.prototype.init=function(key){var i,j,t;for(i=0;i<256;++i)this.S[i]=i;for(j=0,i=0;i<256;++i)j=j+this.S[i]+key[i%key.length]&255,t=this.S[i],this.S[i]=this.S[j],this.S[j]=t;this.i=0,this.j=0},Arcfour.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]};var rng_psize=256;BigInteger.SecureRandom=SecureRandom,BigInteger.BigInteger=BigInteger,module.exports=BigInteger}).call(this)},function(module,exports,__webpack_require__){!function(nacl){"use strict";var gf=function(init){var i,r=new Float64Array(16);if(init)for(i=0;i<init.length;i++)r[i]=init[i];return r},randombytes=function(){throw new Error("no PRNG")},_0=new Uint8Array(16),_9=new Uint8Array(32);_9[0]=9;var gf0=gf(),gf1=gf([1]),_121665=gf([56129,1]),D=gf([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),D2=gf([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),X=gf([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Y=gf([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),I=gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function ts64(x,i,h,l){x[i]=h>>24&255,x[i+1]=h>>16&255,x[i+2]=h>>8&255,x[i+3]=255&h,x[i+4]=l>>24&255,x[i+5]=l>>16&255,x[i+6]=l>>8&255,x[i+7]=255&l}function vn(x,xi,y,yi,n){var i,d=0;for(i=0;i<n;i++)d|=x[xi+i]^y[yi+i];return(1&d-1>>>8)-1}function crypto_verify_16(x,xi,y,yi){return vn(x,xi,y,yi,16)}function crypto_verify_32(x,xi,y,yi){return vn(x,xi,y,yi,32)}function crypto_core_salsa20(out,inp,k,c){!function(o,p,k,c){for(var u,j0=255&c[0]|(255&c[1])<<8|(255&c[2])<<16|(255&c[3])<<24,j1=255&k[0]|(255&k[1])<<8|(255&k[2])<<16|(255&k[3])<<24,j2=255&k[4]|(255&k[5])<<8|(255&k[6])<<16|(255&k[7])<<24,j3=255&k[8]|(255&k[9])<<8|(255&k[10])<<16|(255&k[11])<<24,j4=255&k[12]|(255&k[13])<<8|(255&k[14])<<16|(255&k[15])<<24,j5=255&c[4]|(255&c[5])<<8|(255&c[6])<<16|(255&c[7])<<24,j6=255&p[0]|(255&p[1])<<8|(255&p[2])<<16|(255&p[3])<<24,j7=255&p[4]|(255&p[5])<<8|(255&p[6])<<16|(255&p[7])<<24,j8=255&p[8]|(255&p[9])<<8|(255&p[10])<<16|(255&p[11])<<24,j9=255&p[12]|(255&p[13])<<8|(255&p[14])<<16|(255&p[15])<<24,j10=255&c[8]|(255&c[9])<<8|(255&c[10])<<16|(255&c[11])<<24,j11=255&k[16]|(255&k[17])<<8|(255&k[18])<<16|(255&k[19])<<24,j12=255&k[20]|(255&k[21])<<8|(255&k[22])<<16|(255&k[23])<<24,j13=255&k[24]|(255&k[25])<<8|(255&k[26])<<16|(255&k[27])<<24,j14=255&k[28]|(255&k[29])<<8|(255&k[30])<<16|(255&k[31])<<24,j15=255&c[12]|(255&c[13])<<8|(255&c[14])<<16|(255&c[15])<<24,x0=j0,x1=j1,x2=j2,x3=j3,x4=j4,x5=j5,x6=j6,x7=j7,x8=j8,x9=j9,x10=j10,x11=j11,x12=j12,x13=j13,x14=j14,x15=j15,i=0;i<20;i+=2)x0^=(u=(x12^=(u=(x8^=(u=(x4^=(u=x0+x12|0)<<7|u>>>25)+x0|0)<<9|u>>>23)+x4|0)<<13|u>>>19)+x8|0)<<18|u>>>14,x5^=(u=(x1^=(u=(x13^=(u=(x9^=(u=x5+x1|0)<<7|u>>>25)+x5|0)<<9|u>>>23)+x9|0)<<13|u>>>19)+x13|0)<<18|u>>>14,x10^=(u=(x6^=(u=(x2^=(u=(x14^=(u=x10+x6|0)<<7|u>>>25)+x10|0)<<9|u>>>23)+x14|0)<<13|u>>>19)+x2|0)<<18|u>>>14,x15^=(u=(x11^=(u=(x7^=(u=(x3^=(u=x15+x11|0)<<7|u>>>25)+x15|0)<<9|u>>>23)+x3|0)<<13|u>>>19)+x7|0)<<18|u>>>14,x0^=(u=(x3^=(u=(x2^=(u=(x1^=(u=x0+x3|0)<<7|u>>>25)+x0|0)<<9|u>>>23)+x1|0)<<13|u>>>19)+x2|0)<<18|u>>>14,x5^=(u=(x4^=(u=(x7^=(u=(x6^=(u=x5+x4|0)<<7|u>>>25)+x5|0)<<9|u>>>23)+x6|0)<<13|u>>>19)+x7|0)<<18|u>>>14,x10^=(u=(x9^=(u=(x8^=(u=(x11^=(u=x10+x9|0)<<7|u>>>25)+x10|0)<<9|u>>>23)+x11|0)<<13|u>>>19)+x8|0)<<18|u>>>14,x15^=(u=(x14^=(u=(x13^=(u=(x12^=(u=x15+x14|0)<<7|u>>>25)+x15|0)<<9|u>>>23)+x12|0)<<13|u>>>19)+x13|0)<<18|u>>>14;x0=x0+j0|0,x1=x1+j1|0,x2=x2+j2|0,x3=x3+j3|0,x4=x4+j4|0,x5=x5+j5|0,x6=x6+j6|0,x7=x7+j7|0,x8=x8+j8|0,x9=x9+j9|0,x10=x10+j10|0,x11=x11+j11|0,x12=x12+j12|0,x13=x13+j13|0,x14=x14+j14|0,x15=x15+j15|0,o[0]=x0>>>0&255,o[1]=x0>>>8&255,o[2]=x0>>>16&255,o[3]=x0>>>24&255,o[4]=x1>>>0&255,o[5]=x1>>>8&255,o[6]=x1>>>16&255,o[7]=x1>>>24&255,o[8]=x2>>>0&255,o[9]=x2>>>8&255,o[10]=x2>>>16&255,o[11]=x2>>>24&255,o[12]=x3>>>0&255,o[13]=x3>>>8&255,o[14]=x3>>>16&255,o[15]=x3>>>24&255,o[16]=x4>>>0&255,o[17]=x4>>>8&255,o[18]=x4>>>16&255,o[19]=x4>>>24&255,o[20]=x5>>>0&255,o[21]=x5>>>8&255,o[22]=x5>>>16&255,o[23]=x5>>>24&255,o[24]=x6>>>0&255,o[25]=x6>>>8&255,o[26]=x6>>>16&255,o[27]=x6>>>24&255,o[28]=x7>>>0&255,o[29]=x7>>>8&255,o[30]=x7>>>16&255,o[31]=x7>>>24&255,o[32]=x8>>>0&255,o[33]=x8>>>8&255,o[34]=x8>>>16&255,o[35]=x8>>>24&255,o[36]=x9>>>0&255,o[37]=x9>>>8&255,o[38]=x9>>>16&255,o[39]=x9>>>24&255,o[40]=x10>>>0&255,o[41]=x10>>>8&255,o[42]=x10>>>16&255,o[43]=x10>>>24&255,o[44]=x11>>>0&255,o[45]=x11>>>8&255,o[46]=x11>>>16&255,o[47]=x11>>>24&255,o[48]=x12>>>0&255,o[49]=x12>>>8&255,o[50]=x12>>>16&255,o[51]=x12>>>24&255,o[52]=x13>>>0&255,o[53]=x13>>>8&255,o[54]=x13>>>16&255,o[55]=x13>>>24&255,o[56]=x14>>>0&255,o[57]=x14>>>8&255,o[58]=x14>>>16&255,o[59]=x14>>>24&255,o[60]=x15>>>0&255,o[61]=x15>>>8&255,o[62]=x15>>>16&255,o[63]=x15>>>24&255}(out,inp,k,c)}function crypto_core_hsalsa20(out,inp,k,c){!function(o,p,k,c){for(var u,x0=255&c[0]|(255&c[1])<<8|(255&c[2])<<16|(255&c[3])<<24,x1=255&k[0]|(255&k[1])<<8|(255&k[2])<<16|(255&k[3])<<24,x2=255&k[4]|(255&k[5])<<8|(255&k[6])<<16|(255&k[7])<<24,x3=255&k[8]|(255&k[9])<<8|(255&k[10])<<16|(255&k[11])<<24,x4=255&k[12]|(255&k[13])<<8|(255&k[14])<<16|(255&k[15])<<24,x5=255&c[4]|(255&c[5])<<8|(255&c[6])<<16|(255&c[7])<<24,x6=255&p[0]|(255&p[1])<<8|(255&p[2])<<16|(255&p[3])<<24,x7=255&p[4]|(255&p[5])<<8|(255&p[6])<<16|(255&p[7])<<24,x8=255&p[8]|(255&p[9])<<8|(255&p[10])<<16|(255&p[11])<<24,x9=255&p[12]|(255&p[13])<<8|(255&p[14])<<16|(255&p[15])<<24,x10=255&c[8]|(255&c[9])<<8|(255&c[10])<<16|(255&c[11])<<24,x11=255&k[16]|(255&k[17])<<8|(255&k[18])<<16|(255&k[19])<<24,x12=255&k[20]|(255&k[21])<<8|(255&k[22])<<16|(255&k[23])<<24,x13=255&k[24]|(255&k[25])<<8|(255&k[26])<<16|(255&k[27])<<24,x14=255&k[28]|(255&k[29])<<8|(255&k[30])<<16|(255&k[31])<<24,x15=255&c[12]|(255&c[13])<<8|(255&c[14])<<16|(255&c[15])<<24,i=0;i<20;i+=2)x0^=(u=(x12^=(u=(x8^=(u=(x4^=(u=x0+x12|0)<<7|u>>>25)+x0|0)<<9|u>>>23)+x4|0)<<13|u>>>19)+x8|0)<<18|u>>>14,x5^=(u=(x1^=(u=(x13^=(u=(x9^=(u=x5+x1|0)<<7|u>>>25)+x5|0)<<9|u>>>23)+x9|0)<<13|u>>>19)+x13|0)<<18|u>>>14,x10^=(u=(x6^=(u=(x2^=(u=(x14^=(u=x10+x6|0)<<7|u>>>25)+x10|0)<<9|u>>>23)+x14|0)<<13|u>>>19)+x2|0)<<18|u>>>14,x15^=(u=(x11^=(u=(x7^=(u=(x3^=(u=x15+x11|0)<<7|u>>>25)+x15|0)<<9|u>>>23)+x3|0)<<13|u>>>19)+x7|0)<<18|u>>>14,x0^=(u=(x3^=(u=(x2^=(u=(x1^=(u=x0+x3|0)<<7|u>>>25)+x0|0)<<9|u>>>23)+x1|0)<<13|u>>>19)+x2|0)<<18|u>>>14,x5^=(u=(x4^=(u=(x7^=(u=(x6^=(u=x5+x4|0)<<7|u>>>25)+x5|0)<<9|u>>>23)+x6|0)<<13|u>>>19)+x7|0)<<18|u>>>14,x10^=(u=(x9^=(u=(x8^=(u=(x11^=(u=x10+x9|0)<<7|u>>>25)+x10|0)<<9|u>>>23)+x11|0)<<13|u>>>19)+x8|0)<<18|u>>>14,x15^=(u=(x14^=(u=(x13^=(u=(x12^=(u=x15+x14|0)<<7|u>>>25)+x15|0)<<9|u>>>23)+x12|0)<<13|u>>>19)+x13|0)<<18|u>>>14;o[0]=x0>>>0&255,o[1]=x0>>>8&255,o[2]=x0>>>16&255,o[3]=x0>>>24&255,o[4]=x5>>>0&255,o[5]=x5>>>8&255,o[6]=x5>>>16&255,o[7]=x5>>>24&255,o[8]=x10>>>0&255,o[9]=x10>>>8&255,o[10]=x10>>>16&255,o[11]=x10>>>24&255,o[12]=x15>>>0&255,o[13]=x15>>>8&255,o[14]=x15>>>16&255,o[15]=x15>>>24&255,o[16]=x6>>>0&255,o[17]=x6>>>8&255,o[18]=x6>>>16&255,o[19]=x6>>>24&255,o[20]=x7>>>0&255,o[21]=x7>>>8&255,o[22]=x7>>>16&255,o[23]=x7>>>24&255,o[24]=x8>>>0&255,o[25]=x8>>>8&255,o[26]=x8>>>16&255,o[27]=x8>>>24&255,o[28]=x9>>>0&255,o[29]=x9>>>8&255,o[30]=x9>>>16&255,o[31]=x9>>>24&255}(out,inp,k,c)}var sigma=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function crypto_stream_salsa20_xor(c,cpos,m,mpos,b,n,k){var u,i,z=new Uint8Array(16),x=new Uint8Array(64);for(i=0;i<16;i++)z[i]=0;for(i=0;i<8;i++)z[i]=n[i];for(;b>=64;){for(crypto_core_salsa20(x,z,k,sigma),i=0;i<64;i++)c[cpos+i]=m[mpos+i]^x[i];for(u=1,i=8;i<16;i++)u=u+(255&z[i])|0,z[i]=255&u,u>>>=8;b-=64,cpos+=64,mpos+=64}if(b>0)for(crypto_core_salsa20(x,z,k,sigma),i=0;i<b;i++)c[cpos+i]=m[mpos+i]^x[i];return 0}function crypto_stream_salsa20(c,cpos,b,n,k){var u,i,z=new Uint8Array(16),x=new Uint8Array(64);for(i=0;i<16;i++)z[i]=0;for(i=0;i<8;i++)z[i]=n[i];for(;b>=64;){for(crypto_core_salsa20(x,z,k,sigma),i=0;i<64;i++)c[cpos+i]=x[i];for(u=1,i=8;i<16;i++)u=u+(255&z[i])|0,z[i]=255&u,u>>>=8;b-=64,cpos+=64}if(b>0)for(crypto_core_salsa20(x,z,k,sigma),i=0;i<b;i++)c[cpos+i]=x[i];return 0}function crypto_stream(c,cpos,d,n,k){var s=new Uint8Array(32);crypto_core_hsalsa20(s,n,k,sigma);for(var sn=new Uint8Array(8),i=0;i<8;i++)sn[i]=n[i+16];return crypto_stream_salsa20(c,cpos,d,sn,s)}function crypto_stream_xor(c,cpos,m,mpos,d,n,k){var s=new Uint8Array(32);crypto_core_hsalsa20(s,n,k,sigma);for(var sn=new Uint8Array(8),i=0;i<8;i++)sn[i]=n[i+16];return crypto_stream_salsa20_xor(c,cpos,m,mpos,d,sn,s)}var poly1305=function(key){var t0,t1,t2,t3,t4,t5,t6,t7;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t0=255&key[0]|(255&key[1])<<8,this.r[0]=8191&t0,t1=255&key[2]|(255&key[3])<<8,this.r[1]=8191&(t0>>>13|t1<<3),t2=255&key[4]|(255&key[5])<<8,this.r[2]=7939&(t1>>>10|t2<<6),t3=255&key[6]|(255&key[7])<<8,this.r[3]=8191&(t2>>>7|t3<<9),t4=255&key[8]|(255&key[9])<<8,this.r[4]=255&(t3>>>4|t4<<12),this.r[5]=t4>>>1&8190,t5=255&key[10]|(255&key[11])<<8,this.r[6]=8191&(t4>>>14|t5<<2),t6=255&key[12]|(255&key[13])<<8,this.r[7]=8065&(t5>>>11|t6<<5),t7=255&key[14]|(255&key[15])<<8,this.r[8]=8191&(t6>>>8|t7<<8),this.r[9]=t7>>>5&127,this.pad[0]=255&key[16]|(255&key[17])<<8,this.pad[1]=255&key[18]|(255&key[19])<<8,this.pad[2]=255&key[20]|(255&key[21])<<8,this.pad[3]=255&key[22]|(255&key[23])<<8,this.pad[4]=255&key[24]|(255&key[25])<<8,this.pad[5]=255&key[26]|(255&key[27])<<8,this.pad[6]=255&key[28]|(255&key[29])<<8,this.pad[7]=255&key[30]|(255&key[31])<<8};function crypto_onetimeauth(out,outpos,m,mpos,n,k){var s=new poly1305(k);return s.update(m,mpos,n),s.finish(out,outpos),0}function crypto_onetimeauth_verify(h,hpos,m,mpos,n,k){var x=new Uint8Array(16);return crypto_onetimeauth(x,0,m,mpos,n,k),crypto_verify_16(h,hpos,x,0)}function crypto_secretbox(c,m,d,n,k){var i;if(d<32)return-1;for(crypto_stream_xor(c,0,m,0,d,n,k),crypto_onetimeauth(c,16,c,32,d-32,c),i=0;i<16;i++)c[i]=0;return 0}function crypto_secretbox_open(m,c,d,n,k){var i,x=new Uint8Array(32);if(d<32)return-1;if(crypto_stream(x,0,32,n,k),0!==crypto_onetimeauth_verify(c,16,c,32,d-32,x))return-1;for(crypto_stream_xor(m,0,c,0,d,n,k),i=0;i<32;i++)m[i]=0;return 0}function set25519(r,a){var i;for(i=0;i<16;i++)r[i]=0|a[i]}function car25519(o){var i,v,c=1;for(i=0;i<16;i++)v=o[i]+c+65535,c=Math.floor(v/65536),o[i]=v-65536*c;o[0]+=c-1+37*(c-1)}function sel25519(p,q,b){for(var t,c=~(b-1),i=0;i<16;i++)t=c&(p[i]^q[i]),p[i]^=t,q[i]^=t}function pack25519(o,n){var i,j,b,m=gf(),t=gf();for(i=0;i<16;i++)t[i]=n[i];for(car25519(t),car25519(t),car25519(t),j=0;j<2;j++){for(m[0]=t[0]-65517,i=1;i<15;i++)m[i]=t[i]-65535-(m[i-1]>>16&1),m[i-1]&=65535;m[15]=t[15]-32767-(m[14]>>16&1),b=m[15]>>16&1,m[14]&=65535,sel25519(t,m,1-b)}for(i=0;i<16;i++)o[2*i]=255&t[i],o[2*i+1]=t[i]>>8}function neq25519(a,b){var c=new Uint8Array(32),d=new Uint8Array(32);return pack25519(c,a),pack25519(d,b),crypto_verify_32(c,0,d,0)}function par25519(a){var d=new Uint8Array(32);return pack25519(d,a),1&d[0]}function unpack25519(o,n){var i;for(i=0;i<16;i++)o[i]=n[2*i]+(n[2*i+1]<<8);o[15]&=32767}function A(o,a,b){for(var i=0;i<16;i++)o[i]=a[i]+b[i]}function Z(o,a,b){for(var i=0;i<16;i++)o[i]=a[i]-b[i]}function M(o,a,b){var v,c,t0=0,t1=0,t2=0,t3=0,t4=0,t5=0,t6=0,t7=0,t8=0,t9=0,t10=0,t11=0,t12=0,t13=0,t14=0,t15=0,t16=0,t17=0,t18=0,t19=0,t20=0,t21=0,t22=0,t23=0,t24=0,t25=0,t26=0,t27=0,t28=0,t29=0,t30=0,b0=b[0],b1=b[1],b2=b[2],b3=b[3],b4=b[4],b5=b[5],b6=b[6],b7=b[7],b8=b[8],b9=b[9],b10=b[10],b11=b[11],b12=b[12],b13=b[13],b14=b[14],b15=b[15];t0+=(v=a[0])*b0,t1+=v*b1,t2+=v*b2,t3+=v*b3,t4+=v*b4,t5+=v*b5,t6+=v*b6,t7+=v*b7,t8+=v*b8,t9+=v*b9,t10+=v*b10,t11+=v*b11,t12+=v*b12,t13+=v*b13,t14+=v*b14,t15+=v*b15,t1+=(v=a[1])*b0,t2+=v*b1,t3+=v*b2,t4+=v*b3,t5+=v*b4,t6+=v*b5,t7+=v*b6,t8+=v*b7,t9+=v*b8,t10+=v*b9,t11+=v*b10,t12+=v*b11,t13+=v*b12,t14+=v*b13,t15+=v*b14,t16+=v*b15,t2+=(v=a[2])*b0,t3+=v*b1,t4+=v*b2,t5+=v*b3,t6+=v*b4,t7+=v*b5,t8+=v*b6,t9+=v*b7,t10+=v*b8,t11+=v*b9,t12+=v*b10,t13+=v*b11,t14+=v*b12,t15+=v*b13,t16+=v*b14,t17+=v*b15,t3+=(v=a[3])*b0,t4+=v*b1,t5+=v*b2,t6+=v*b3,t7+=v*b4,t8+=v*b5,t9+=v*b6,t10+=v*b7,t11+=v*b8,t12+=v*b9,t13+=v*b10,t14+=v*b11,t15+=v*b12,t16+=v*b13,t17+=v*b14,t18+=v*b15,t4+=(v=a[4])*b0,t5+=v*b1,t6+=v*b2,t7+=v*b3,t8+=v*b4,t9+=v*b5,t10+=v*b6,t11+=v*b7,t12+=v*b8,t13+=v*b9,t14+=v*b10,t15+=v*b11,t16+=v*b12,t17+=v*b13,t18+=v*b14,t19+=v*b15,t5+=(v=a[5])*b0,t6+=v*b1,t7+=v*b2,t8+=v*b3,t9+=v*b4,t10+=v*b5,t11+=v*b6,t12+=v*b7,t13+=v*b8,t14+=v*b9,t15+=v*b10,t16+=v*b11,t17+=v*b12,t18+=v*b13,t19+=v*b14,t20+=v*b15,t6+=(v=a[6])*b0,t7+=v*b1,t8+=v*b2,t9+=v*b3,t10+=v*b4,t11+=v*b5,t12+=v*b6,t13+=v*b7,t14+=v*b8,t15+=v*b9,t16+=v*b10,t17+=v*b11,t18+=v*b12,t19+=v*b13,t20+=v*b14,t21+=v*b15,t7+=(v=a[7])*b0,t8+=v*b1,t9+=v*b2,t10+=v*b3,t11+=v*b4,t12+=v*b5,t13+=v*b6,t14+=v*b7,t15+=v*b8,t16+=v*b9,t17+=v*b10,t18+=v*b11,t19+=v*b12,t20+=v*b13,t21+=v*b14,t22+=v*b15,t8+=(v=a[8])*b0,t9+=v*b1,t10+=v*b2,t11+=v*b3,t12+=v*b4,t13+=v*b5,t14+=v*b6,t15+=v*b7,t16+=v*b8,t17+=v*b9,t18+=v*b10,t19+=v*b11,t20+=v*b12,t21+=v*b13,t22+=v*b14,t23+=v*b15,t9+=(v=a[9])*b0,t10+=v*b1,t11+=v*b2,t12+=v*b3,t13+=v*b4,t14+=v*b5,t15+=v*b6,t16+=v*b7,t17+=v*b8,t18+=v*b9,t19+=v*b10,t20+=v*b11,t21+=v*b12,t22+=v*b13,t23+=v*b14,t24+=v*b15,t10+=(v=a[10])*b0,t11+=v*b1,t12+=v*b2,t13+=v*b3,t14+=v*b4,t15+=v*b5,t16+=v*b6,t17+=v*b7,t18+=v*b8,t19+=v*b9,t20+=v*b10,t21+=v*b11,t22+=v*b12,t23+=v*b13,t24+=v*b14,t25+=v*b15,t11+=(v=a[11])*b0,t12+=v*b1,t13+=v*b2,t14+=v*b3,t15+=v*b4,t16+=v*b5,t17+=v*b6,t18+=v*b7,t19+=v*b8,t20+=v*b9,t21+=v*b10,t22+=v*b11,t23+=v*b12,t24+=v*b13,t25+=v*b14,t26+=v*b15,t12+=(v=a[12])*b0,t13+=v*b1,t14+=v*b2,t15+=v*b3,t16+=v*b4,t17+=v*b5,t18+=v*b6,t19+=v*b7,t20+=v*b8,t21+=v*b9,t22+=v*b10,t23+=v*b11,t24+=v*b12,t25+=v*b13,t26+=v*b14,t27+=v*b15,t13+=(v=a[13])*b0,t14+=v*b1,t15+=v*b2,t16+=v*b3,t17+=v*b4,t18+=v*b5,t19+=v*b6,t20+=v*b7,t21+=v*b8,t22+=v*b9,t23+=v*b10,t24+=v*b11,t25+=v*b12,t26+=v*b13,t27+=v*b14,t28+=v*b15,t14+=(v=a[14])*b0,t15+=v*b1,t16+=v*b2,t17+=v*b3,t18+=v*b4,t19+=v*b5,t20+=v*b6,t21+=v*b7,t22+=v*b8,t23+=v*b9,t24+=v*b10,t25+=v*b11,t26+=v*b12,t27+=v*b13,t28+=v*b14,t29+=v*b15,t15+=(v=a[15])*b0,t1+=38*(t17+=v*b2),t2+=38*(t18+=v*b3),t3+=38*(t19+=v*b4),t4+=38*(t20+=v*b5),t5+=38*(t21+=v*b6),t6+=38*(t22+=v*b7),t7+=38*(t23+=v*b8),t8+=38*(t24+=v*b9),t9+=38*(t25+=v*b10),t10+=38*(t26+=v*b11),t11+=38*(t27+=v*b12),t12+=38*(t28+=v*b13),t13+=38*(t29+=v*b14),t14+=38*(t30+=v*b15),t0=(v=(t0+=38*(t16+=v*b1))+(c=1)+65535)-65536*(c=Math.floor(v/65536)),t1=(v=t1+c+65535)-65536*(c=Math.floor(v/65536)),t2=(v=t2+c+65535)-65536*(c=Math.floor(v/65536)),t3=(v=t3+c+65535)-65536*(c=Math.floor(v/65536)),t4=(v=t4+c+65535)-65536*(c=Math.floor(v/65536)),t5=(v=t5+c+65535)-65536*(c=Math.floor(v/65536)),t6=(v=t6+c+65535)-65536*(c=Math.floor(v/65536)),t7=(v=t7+c+65535)-65536*(c=Math.floor(v/65536)),t8=(v=t8+c+65535)-65536*(c=Math.floor(v/65536)),t9=(v=t9+c+65535)-65536*(c=Math.floor(v/65536)),t10=(v=t10+c+65535)-65536*(c=Math.floor(v/65536)),t11=(v=t11+c+65535)-65536*(c=Math.floor(v/65536)),t12=(v=t12+c+65535)-65536*(c=Math.floor(v/65536)),t13=(v=t13+c+65535)-65536*(c=Math.floor(v/65536)),t14=(v=t14+c+65535)-65536*(c=Math.floor(v/65536)),t15=(v=t15+c+65535)-65536*(c=Math.floor(v/65536)),t0=(v=(t0+=c-1+37*(c-1))+(c=1)+65535)-65536*(c=Math.floor(v/65536)),t1=(v=t1+c+65535)-65536*(c=Math.floor(v/65536)),t2=(v=t2+c+65535)-65536*(c=Math.floor(v/65536)),t3=(v=t3+c+65535)-65536*(c=Math.floor(v/65536)),t4=(v=t4+c+65535)-65536*(c=Math.floor(v/65536)),t5=(v=t5+c+65535)-65536*(c=Math.floor(v/65536)),t6=(v=t6+c+65535)-65536*(c=Math.floor(v/65536)),t7=(v=t7+c+65535)-65536*(c=Math.floor(v/65536)),t8=(v=t8+c+65535)-65536*(c=Math.floor(v/65536)),t9=(v=t9+c+65535)-65536*(c=Math.floor(v/65536)),t10=(v=t10+c+65535)-65536*(c=Math.floor(v/65536)),t11=(v=t11+c+65535)-65536*(c=Math.floor(v/65536)),t12=(v=t12+c+65535)-65536*(c=Math.floor(v/65536)),t13=(v=t13+c+65535)-65536*(c=Math.floor(v/65536)),t14=(v=t14+c+65535)-65536*(c=Math.floor(v/65536)),t15=(v=t15+c+65535)-65536*(c=Math.floor(v/65536)),t0+=c-1+37*(c-1),o[0]=t0,o[1]=t1,o[2]=t2,o[3]=t3,o[4]=t4,o[5]=t5,o[6]=t6,o[7]=t7,o[8]=t8,o[9]=t9,o[10]=t10,o[11]=t11,o[12]=t12,o[13]=t13,o[14]=t14,o[15]=t15}function S(o,a){M(o,a,a)}function inv25519(o,i){var a,c=gf();for(a=0;a<16;a++)c[a]=i[a];for(a=253;a>=0;a--)S(c,c),2!==a&&4!==a&&M(c,c,i);for(a=0;a<16;a++)o[a]=c[a]}function crypto_scalarmult(q,n,p){var r,i,z=new Uint8Array(32),x=new Float64Array(80),a=gf(),b=gf(),c=gf(),d=gf(),e=gf(),f=gf();for(i=0;i<31;i++)z[i]=n[i];for(z[31]=127&n[31]|64,z[0]&=248,unpack25519(x,p),i=0;i<16;i++)b[i]=x[i],d[i]=a[i]=c[i]=0;for(a[0]=d[0]=1,i=254;i>=0;--i)sel25519(a,b,r=z[i>>>3]>>>(7&i)&1),sel25519(c,d,r),A(e,a,c),Z(a,a,c),A(c,b,d),Z(b,b,d),S(d,e),S(f,a),M(a,c,a),M(c,b,e),A(e,a,c),Z(a,a,c),S(b,a),Z(c,d,f),M(a,c,_121665),A(a,a,d),M(c,c,a),M(a,d,f),M(d,b,x),S(b,e),sel25519(a,b,r),sel25519(c,d,r);for(i=0;i<16;i++)x[i+16]=a[i],x[i+32]=c[i],x[i+48]=b[i],x[i+64]=d[i];var x32=x.subarray(32),x16=x.subarray(16);return inv25519(x32,x32),M(x16,x16,x32),pack25519(q,x16),0}function crypto_scalarmult_base(q,n){return crypto_scalarmult(q,n,_9)}function crypto_box_keypair(y,x){return randombytes(x,32),crypto_scalarmult_base(y,x)}function crypto_box_beforenm(k,y,x){var s=new Uint8Array(32);return crypto_scalarmult(s,x,y),crypto_core_hsalsa20(k,_0,s,sigma)}poly1305.prototype.blocks=function(m,mpos,bytes){for(var t0,t1,t2,t3,t4,t5,t6,t7,c,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,hibit=this.fin?0:2048,h0=this.h[0],h1=this.h[1],h2=this.h[2],h3=this.h[3],h4=this.h[4],h5=this.h[5],h6=this.h[6],h7=this.h[7],h8=this.h[8],h9=this.h[9],r0=this.r[0],r1=this.r[1],r2=this.r[2],r3=this.r[3],r4=this.r[4],r5=this.r[5],r6=this.r[6],r7=this.r[7],r8=this.r[8],r9=this.r[9];bytes>=16;)d0=c=0,d0+=(h0+=8191&(t0=255&m[mpos+0]|(255&m[mpos+1])<<8))*r0,d0+=(h1+=8191&(t0>>>13|(t1=255&m[mpos+2]|(255&m[mpos+3])<<8)<<3))*(5*r9),d0+=(h2+=8191&(t1>>>10|(t2=255&m[mpos+4]|(255&m[mpos+5])<<8)<<6))*(5*r8),d0+=(h3+=8191&(t2>>>7|(t3=255&m[mpos+6]|(255&m[mpos+7])<<8)<<9))*(5*r7),c=(d0+=(h4+=8191&(t3>>>4|(t4=255&m[mpos+8]|(255&m[mpos+9])<<8)<<12))*(5*r6))>>>13,d0&=8191,d0+=(h5+=t4>>>1&8191)*(5*r5),d0+=(h6+=8191&(t4>>>14|(t5=255&m[mpos+10]|(255&m[mpos+11])<<8)<<2))*(5*r4),d0+=(h7+=8191&(t5>>>11|(t6=255&m[mpos+12]|(255&m[mpos+13])<<8)<<5))*(5*r3),d0+=(h8+=8191&(t6>>>8|(t7=255&m[mpos+14]|(255&m[mpos+15])<<8)<<8))*(5*r2),d1=c+=(d0+=(h9+=t7>>>5|hibit)*(5*r1))>>>13,d1+=h0*r1,d1+=h1*r0,d1+=h2*(5*r9),d1+=h3*(5*r8),c=(d1+=h4*(5*r7))>>>13,d1&=8191,d1+=h5*(5*r6),d1+=h6*(5*r5),d1+=h7*(5*r4),d1+=h8*(5*r3),c+=(d1+=h9*(5*r2))>>>13,d1&=8191,d2=c,d2+=h0*r2,d2+=h1*r1,d2+=h2*r0,d2+=h3*(5*r9),c=(d2+=h4*(5*r8))>>>13,d2&=8191,d2+=h5*(5*r7),d2+=h6*(5*r6),d2+=h7*(5*r5),d2+=h8*(5*r4),d3=c+=(d2+=h9*(5*r3))>>>13,d3+=h0*r3,d3+=h1*r2,d3+=h2*r1,d3+=h3*r0,c=(d3+=h4*(5*r9))>>>13,d3&=8191,d3+=h5*(5*r8),d3+=h6*(5*r7),d3+=h7*(5*r6),d3+=h8*(5*r5),d4=c+=(d3+=h9*(5*r4))>>>13,d4+=h0*r4,d4+=h1*r3,d4+=h2*r2,d4+=h3*r1,c=(d4+=h4*r0)>>>13,d4&=8191,d4+=h5*(5*r9),d4+=h6*(5*r8),d4+=h7*(5*r7),d4+=h8*(5*r6),d5=c+=(d4+=h9*(5*r5))>>>13,d5+=h0*r5,d5+=h1*r4,d5+=h2*r3,d5+=h3*r2,c=(d5+=h4*r1)>>>13,d5&=8191,d5+=h5*r0,d5+=h6*(5*r9),d5+=h7*(5*r8),d5+=h8*(5*r7),d6=c+=(d5+=h9*(5*r6))>>>13,d6+=h0*r6,d6+=h1*r5,d6+=h2*r4,d6+=h3*r3,c=(d6+=h4*r2)>>>13,d6&=8191,d6+=h5*r1,d6+=h6*r0,d6+=h7*(5*r9),d6+=h8*(5*r8),d7=c+=(d6+=h9*(5*r7))>>>13,d7+=h0*r7,d7+=h1*r6,d7+=h2*r5,d7+=h3*r4,c=(d7+=h4*r3)>>>13,d7&=8191,d7+=h5*r2,d7+=h6*r1,d7+=h7*r0,d7+=h8*(5*r9),d8=c+=(d7+=h9*(5*r8))>>>13,d8+=h0*r8,d8+=h1*r7,d8+=h2*r6,d8+=h3*r5,c=(d8+=h4*r4)>>>13,d8&=8191,d8+=h5*r3,d8+=h6*r2,d8+=h7*r1,d8+=h8*r0,d9=c+=(d8+=h9*(5*r9))>>>13,d9+=h0*r9,d9+=h1*r8,d9+=h2*r7,d9+=h3*r6,c=(d9+=h4*r5)>>>13,d9&=8191,d9+=h5*r4,d9+=h6*r3,d9+=h7*r2,d9+=h8*r1,h0=d0=8191&(c=(c=((c+=(d9+=h9*r0)>>>13)<<2)+c|0)+(d0&=8191)|0),h1=d1+=c>>>=13,h2=d2&=8191,h3=d3&=8191,h4=d4&=8191,h5=d5&=8191,h6=d6&=8191,h7=d7&=8191,h8=d8&=8191,h9=d9&=8191,mpos+=16,bytes-=16;this.h[0]=h0,this.h[1]=h1,this.h[2]=h2,this.h[3]=h3,this.h[4]=h4,this.h[5]=h5,this.h[6]=h6,this.h[7]=h7,this.h[8]=h8,this.h[9]=h9},poly1305.prototype.finish=function(mac,macpos){var c,mask,f,i,g=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(c=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=c,c=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*c,c=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=c,c=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=c,g[0]=this.h[0]+5,c=g[0]>>>13,g[0]&=8191,i=1;i<10;i++)g[i]=this.h[i]+c,c=g[i]>>>13,g[i]&=8191;for(g[9]-=8192,mask=(1^c)-1,i=0;i<10;i++)g[i]&=mask;for(mask=~mask,i=0;i<10;i++)this.h[i]=this.h[i]&mask|g[i];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),f=this.h[0]+this.pad[0],this.h[0]=65535&f,i=1;i<8;i++)f=(this.h[i]+this.pad[i]|0)+(f>>>16)|0,this.h[i]=65535&f;mac[macpos+0]=this.h[0]>>>0&255,mac[macpos+1]=this.h[0]>>>8&255,mac[macpos+2]=this.h[1]>>>0&255,mac[macpos+3]=this.h[1]>>>8&255,mac[macpos+4]=this.h[2]>>>0&255,mac[macpos+5]=this.h[2]>>>8&255,mac[macpos+6]=this.h[3]>>>0&255,mac[macpos+7]=this.h[3]>>>8&255,mac[macpos+8]=this.h[4]>>>0&255,mac[macpos+9]=this.h[4]>>>8&255,mac[macpos+10]=this.h[5]>>>0&255,mac[macpos+11]=this.h[5]>>>8&255,mac[macpos+12]=this.h[6]>>>0&255,mac[macpos+13]=this.h[6]>>>8&255,mac[macpos+14]=this.h[7]>>>0&255,mac[macpos+15]=this.h[7]>>>8&255},poly1305.prototype.update=function(m,mpos,bytes){var i,want;if(this.leftover){for((want=16-this.leftover)>bytes&&(want=bytes),i=0;i<want;i++)this.buffer[this.leftover+i]=m[mpos+i];if(bytes-=want,mpos+=want,this.leftover+=want,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(bytes>=16&&(want=bytes-bytes%16,this.blocks(m,mpos,want),mpos+=want,bytes-=want),bytes){for(i=0;i<bytes;i++)this.buffer[this.leftover+i]=m[mpos+i];this.leftover+=bytes}};var crypto_box_afternm=crypto_secretbox,crypto_box_open_afternm=crypto_secretbox_open;var K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function crypto_hashblocks_hl(hh,hl,m,n){for(var bh0,bh1,bh2,bh3,bh4,bh5,bh6,bh7,bl0,bl1,bl2,bl3,bl4,bl5,bl6,bl7,th,tl,i,j,h,l,a,b,c,d,wh=new Int32Array(16),wl=new Int32Array(16),ah0=hh[0],ah1=hh[1],ah2=hh[2],ah3=hh[3],ah4=hh[4],ah5=hh[5],ah6=hh[6],ah7=hh[7],al0=hl[0],al1=hl[1],al2=hl[2],al3=hl[3],al4=hl[4],al5=hl[5],al6=hl[6],al7=hl[7],pos=0;n>=128;){for(i=0;i<16;i++)j=8*i+pos,wh[i]=m[j+0]<<24|m[j+1]<<16|m[j+2]<<8|m[j+3],wl[i]=m[j+4]<<24|m[j+5]<<16|m[j+6]<<8|m[j+7];for(i=0;i<80;i++)if(bh0=ah0,bh1=ah1,bh2=ah2,bh3=ah3,bh4=ah4,bh5=ah5,bh6=ah6,ah7,bl0=al0,bl1=al1,bl2=al2,bl3=al3,bl4=al4,bl5=al5,bl6=al6,al7,a=65535&(l=al7),b=l>>>16,c=65535&(h=ah7),d=h>>>16,a+=65535&(l=(al4>>>14|ah4<<18)^(al4>>>18|ah4<<14)^(ah4>>>9|al4<<23)),b+=l>>>16,c+=65535&(h=(ah4>>>14|al4<<18)^(ah4>>>18|al4<<14)^(al4>>>9|ah4<<23)),d+=h>>>16,a+=65535&(l=al4&al5^~al4&al6),b+=l>>>16,c+=65535&(h=ah4&ah5^~ah4&ah6),d+=h>>>16,h=K[2*i],a+=65535&(l=K[2*i+1]),b+=l>>>16,c+=65535&h,d+=h>>>16,h=wh[i%16],b+=(l=wl[i%16])>>>16,c+=65535&h,d+=h>>>16,c+=(b+=(a+=65535&l)>>>16)>>>16,a=65535&(l=tl=65535&a|b<<16),b=l>>>16,c=65535&(h=th=65535&c|(d+=c>>>16)<<16),d=h>>>16,a+=65535&(l=(al0>>>28|ah0<<4)^(ah0>>>2|al0<<30)^(ah0>>>7|al0<<25)),b+=l>>>16,c+=65535&(h=(ah0>>>28|al0<<4)^(al0>>>2|ah0<<30)^(al0>>>7|ah0<<25)),d+=h>>>16,b+=(l=al0&al1^al0&al2^al1&al2)>>>16,c+=65535&(h=ah0&ah1^ah0&ah2^ah1&ah2),d+=h>>>16,bh7=65535&(c+=(b+=(a+=65535&l)>>>16)>>>16)|(d+=c>>>16)<<16,bl7=65535&a|b<<16,a=65535&(l=bl3),b=l>>>16,c=65535&(h=bh3),d=h>>>16,b+=(l=tl)>>>16,c+=65535&(h=th),d+=h>>>16,ah1=bh0,ah2=bh1,ah3=bh2,ah4=bh3=65535&(c+=(b+=(a+=65535&l)>>>16)>>>16)|(d+=c>>>16)<<16,ah5=bh4,ah6=bh5,ah7=bh6,ah0=bh7,al1=bl0,al2=bl1,al3=bl2,al4=bl3=65535&a|b<<16,al5=bl4,al6=bl5,al7=bl6,al0=bl7,i%16==15)for(j=0;j<16;j++)h=wh[j],a=65535&(l=wl[j]),b=l>>>16,c=65535&h,d=h>>>16,h=wh[(j+9)%16],a+=65535&(l=wl[(j+9)%16]),b+=l>>>16,c+=65535&h,d+=h>>>16,th=wh[(j+1)%16],a+=65535&(l=((tl=wl[(j+1)%16])>>>1|th<<31)^(tl>>>8|th<<24)^(tl>>>7|th<<25)),b+=l>>>16,c+=65535&(h=(th>>>1|tl<<31)^(th>>>8|tl<<24)^th>>>7),d+=h>>>16,th=wh[(j+14)%16],b+=(l=((tl=wl[(j+14)%16])>>>19|th<<13)^(th>>>29|tl<<3)^(tl>>>6|th<<26))>>>16,c+=65535&(h=(th>>>19|tl<<13)^(tl>>>29|th<<3)^th>>>6),d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,wh[j]=65535&c|d<<16,wl[j]=65535&a|b<<16;a=65535&(l=al0),b=l>>>16,c=65535&(h=ah0),d=h>>>16,h=hh[0],b+=(l=hl[0])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[0]=ah0=65535&c|d<<16,hl[0]=al0=65535&a|b<<16,a=65535&(l=al1),b=l>>>16,c=65535&(h=ah1),d=h>>>16,h=hh[1],b+=(l=hl[1])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[1]=ah1=65535&c|d<<16,hl[1]=al1=65535&a|b<<16,a=65535&(l=al2),b=l>>>16,c=65535&(h=ah2),d=h>>>16,h=hh[2],b+=(l=hl[2])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[2]=ah2=65535&c|d<<16,hl[2]=al2=65535&a|b<<16,a=65535&(l=al3),b=l>>>16,c=65535&(h=ah3),d=h>>>16,h=hh[3],b+=(l=hl[3])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[3]=ah3=65535&c|d<<16,hl[3]=al3=65535&a|b<<16,a=65535&(l=al4),b=l>>>16,c=65535&(h=ah4),d=h>>>16,h=hh[4],b+=(l=hl[4])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[4]=ah4=65535&c|d<<16,hl[4]=al4=65535&a|b<<16,a=65535&(l=al5),b=l>>>16,c=65535&(h=ah5),d=h>>>16,h=hh[5],b+=(l=hl[5])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[5]=ah5=65535&c|d<<16,hl[5]=al5=65535&a|b<<16,a=65535&(l=al6),b=l>>>16,c=65535&(h=ah6),d=h>>>16,h=hh[6],b+=(l=hl[6])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[6]=ah6=65535&c|d<<16,hl[6]=al6=65535&a|b<<16,a=65535&(l=al7),b=l>>>16,c=65535&(h=ah7),d=h>>>16,h=hh[7],b+=(l=hl[7])>>>16,c+=65535&h,d+=h>>>16,d+=(c+=(b+=(a+=65535&l)>>>16)>>>16)>>>16,hh[7]=ah7=65535&c|d<<16,hl[7]=al7=65535&a|b<<16,pos+=128,n-=128}return n}function crypto_hash(out,m,n){var i,hh=new Int32Array(8),hl=new Int32Array(8),x=new Uint8Array(256),b=n;for(hh[0]=1779033703,hh[1]=3144134277,hh[2]=1013904242,hh[3]=2773480762,hh[4]=1359893119,hh[5]=2600822924,hh[6]=528734635,hh[7]=1541459225,hl[0]=4089235720,hl[1]=2227873595,hl[2]=4271175723,hl[3]=1595750129,hl[4]=2917565137,hl[5]=725511199,hl[6]=4215389547,hl[7]=327033209,crypto_hashblocks_hl(hh,hl,m,n),n%=128,i=0;i<n;i++)x[i]=m[b-n+i];for(x[n]=128,x[(n=256-128*(n<112?1:0))-9]=0,ts64(x,n-8,b/536870912|0,b<<3),crypto_hashblocks_hl(hh,hl,x,n),i=0;i<8;i++)ts64(out,8*i,hh[i],hl[i]);return 0}function add(p,q){var a=gf(),b=gf(),c=gf(),d=gf(),e=gf(),f=gf(),g=gf(),h=gf(),t=gf();Z(a,p[1],p[0]),Z(t,q[1],q[0]),M(a,a,t),A(b,p[0],p[1]),A(t,q[0],q[1]),M(b,b,t),M(c,p[3],q[3]),M(c,c,D2),M(d,p[2],q[2]),A(d,d,d),Z(e,b,a),Z(f,d,c),A(g,d,c),A(h,b,a),M(p[0],e,f),M(p[1],h,g),M(p[2],g,f),M(p[3],e,h)}function cswap(p,q,b){var i;for(i=0;i<4;i++)sel25519(p[i],q[i],b)}function pack(r,p){var tx=gf(),ty=gf(),zi=gf();inv25519(zi,p[2]),M(tx,p[0],zi),M(ty,p[1],zi),pack25519(r,ty),r[31]^=par25519(tx)<<7}function scalarmult(p,q,s){var b,i;for(set25519(p[0],gf0),set25519(p[1],gf1),set25519(p[2],gf1),set25519(p[3],gf0),i=255;i>=0;--i)cswap(p,q,b=s[i/8|0]>>(7&i)&1),add(q,p),add(p,p),cswap(p,q,b)}function scalarbase(p,s){var q=[gf(),gf(),gf(),gf()];set25519(q[0],X),set25519(q[1],Y),set25519(q[2],gf1),M(q[3],X,Y),scalarmult(p,q,s)}function crypto_sign_keypair(pk,sk,seeded){var i,d=new Uint8Array(64),p=[gf(),gf(),gf(),gf()];for(seeded||randombytes(sk,32),crypto_hash(d,sk,32),d[0]&=248,d[31]&=127,d[31]|=64,scalarbase(p,d),pack(pk,p),i=0;i<32;i++)sk[i+32]=pk[i];return 0}var L=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function modL(r,x){var carry,i,j,k;for(i=63;i>=32;--i){for(carry=0,j=i-32,k=i-12;j<k;++j)x[j]+=carry-16*x[i]*L[j-(i-32)],carry=x[j]+128>>8,x[j]-=256*carry;x[j]+=carry,x[i]=0}for(carry=0,j=0;j<32;j++)x[j]+=carry-(x[31]>>4)*L[j],carry=x[j]>>8,x[j]&=255;for(j=0;j<32;j++)x[j]-=carry*L[j];for(i=0;i<32;i++)x[i+1]+=x[i]>>8,r[i]=255&x[i]}function reduce(r){var i,x=new Float64Array(64);for(i=0;i<64;i++)x[i]=r[i];for(i=0;i<64;i++)r[i]=0;modL(r,x)}function crypto_sign(sm,m,n,sk){var i,j,d=new Uint8Array(64),h=new Uint8Array(64),r=new Uint8Array(64),x=new Float64Array(64),p=[gf(),gf(),gf(),gf()];crypto_hash(d,sk,32),d[0]&=248,d[31]&=127,d[31]|=64;var smlen=n+64;for(i=0;i<n;i++)sm[64+i]=m[i];for(i=0;i<32;i++)sm[32+i]=d[32+i];for(crypto_hash(r,sm.subarray(32),n+32),reduce(r),scalarbase(p,r),pack(sm,p),i=32;i<64;i++)sm[i]=sk[i];for(crypto_hash(h,sm,n+64),reduce(h),i=0;i<64;i++)x[i]=0;for(i=0;i<32;i++)x[i]=r[i];for(i=0;i<32;i++)for(j=0;j<32;j++)x[i+j]+=h[i]*d[j];return modL(sm.subarray(32),x),smlen}function unpackneg(r,p){var t=gf(),chk=gf(),num=gf(),den=gf(),den2=gf(),den4=gf(),den6=gf();return set25519(r[2],gf1),unpack25519(r[1],p),S(num,r[1]),M(den,num,D),Z(num,num,r[2]),A(den,r[2],den),S(den2,den),S(den4,den2),M(den6,den4,den2),M(t,den6,num),M(t,t,den),function(o,i){var a,c=gf();for(a=0;a<16;a++)c[a]=i[a];for(a=250;a>=0;a--)S(c,c),1!==a&&M(c,c,i);for(a=0;a<16;a++)o[a]=c[a]}(t,t),M(t,t,num),M(t,t,den),M(t,t,den),M(r[0],t,den),S(chk,r[0]),M(chk,chk,den),neq25519(chk,num)&&M(r[0],r[0],I),S(chk,r[0]),M(chk,chk,den),neq25519(chk,num)?-1:(par25519(r[0])===p[31]>>7&&Z(r[0],gf0,r[0]),M(r[3],r[0],r[1]),0)}function crypto_sign_open(m,sm,n,pk){var i,t=new Uint8Array(32),h=new Uint8Array(64),p=[gf(),gf(),gf(),gf()],q=[gf(),gf(),gf(),gf()];if(-1,n<64)return-1;if(unpackneg(q,pk))return-1;for(i=0;i<n;i++)m[i]=sm[i];for(i=0;i<32;i++)m[i+32]=pk[i];if(crypto_hash(h,m,n),reduce(h),scalarmult(p,q,h),scalarbase(q,sm.subarray(32)),add(p,q),pack(t,p),n-=64,crypto_verify_32(sm,0,t,0)){for(i=0;i<n;i++)m[i]=0;return-1}for(i=0;i<n;i++)m[i]=sm[i+64];return n}var crypto_secretbox_KEYBYTES=32,crypto_secretbox_NONCEBYTES=24,crypto_box_PUBLICKEYBYTES=32,crypto_box_SECRETKEYBYTES=32,crypto_box_NONCEBYTES=crypto_secretbox_NONCEBYTES;function checkLengths(k,n){if(k.length!==crypto_secretbox_KEYBYTES)throw new Error("bad key size");if(n.length!==crypto_secretbox_NONCEBYTES)throw new Error("bad nonce size")}function checkArrayTypes(){var t,i;for(i=0;i<arguments.length;i++)if("[object Uint8Array]"!==(t=Object.prototype.toString.call(arguments[i])))throw new TypeError("unexpected type "+t+", use Uint8Array")}function cleanup(arr){for(var i=0;i<arr.length;i++)arr[i]=0}nacl.lowlevel={crypto_core_hsalsa20:crypto_core_hsalsa20,crypto_stream_xor:crypto_stream_xor,crypto_stream:crypto_stream,crypto_stream_salsa20_xor:crypto_stream_salsa20_xor,crypto_stream_salsa20:crypto_stream_salsa20,crypto_onetimeauth:crypto_onetimeauth,crypto_onetimeauth_verify:crypto_onetimeauth_verify,crypto_verify_16:crypto_verify_16,crypto_verify_32:crypto_verify_32,crypto_secretbox:crypto_secretbox,crypto_secretbox_open:crypto_secretbox_open,crypto_scalarmult:crypto_scalarmult,crypto_scalarmult_base:crypto_scalarmult_base,crypto_box_beforenm:crypto_box_beforenm,crypto_box_afternm:crypto_box_afternm,crypto_box:function(c,m,d,n,y,x){var k=new Uint8Array(32);return crypto_box_beforenm(k,y,x),crypto_box_afternm(c,m,d,n,k)},crypto_box_open:function(m,c,d,n,y,x){var k=new Uint8Array(32);return crypto_box_beforenm(k,y,x),crypto_box_open_afternm(m,c,d,n,k)},crypto_box_keypair:crypto_box_keypair,crypto_hash:crypto_hash,crypto_sign:crypto_sign,crypto_sign_keypair:crypto_sign_keypair,crypto_sign_open:crypto_sign_open,crypto_secretbox_KEYBYTES:crypto_secretbox_KEYBYTES,crypto_secretbox_NONCEBYTES:crypto_secretbox_NONCEBYTES,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:crypto_box_PUBLICKEYBYTES,crypto_box_SECRETKEYBYTES:crypto_box_SECRETKEYBYTES,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:crypto_box_NONCEBYTES,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64},nacl.util||(nacl.util={},nacl.util.decodeUTF8=nacl.util.encodeUTF8=nacl.util.encodeBase64=nacl.util.decodeBase64=function(){throw new Error("nacl.util moved into separate package: https://github.com/dchest/tweetnacl-util-js")}),nacl.randomBytes=function(n){var b=new Uint8Array(n);return randombytes(b,n),b},nacl.secretbox=function(msg,nonce,key){checkArrayTypes(msg,nonce,key),checkLengths(key,nonce);for(var m=new Uint8Array(32+msg.length),c=new Uint8Array(m.length),i=0;i<msg.length;i++)m[i+32]=msg[i];return crypto_secretbox(c,m,m.length,nonce,key),c.subarray(16)},nacl.secretbox.open=function(box,nonce,key){checkArrayTypes(box,nonce,key),checkLengths(key,nonce);for(var c=new Uint8Array(16+box.length),m=new Uint8Array(c.length),i=0;i<box.length;i++)c[i+16]=box[i];return!(c.length<32)&&(0===crypto_secretbox_open(m,c,c.length,nonce,key)&&m.subarray(32))},nacl.secretbox.keyLength=crypto_secretbox_KEYBYTES,nacl.secretbox.nonceLength=crypto_secretbox_NONCEBYTES,nacl.secretbox.overheadLength=16,nacl.scalarMult=function(n,p){if(checkArrayTypes(n,p),32!==n.length)throw new Error("bad n size");if(32!==p.length)throw new Error("bad p size");var q=new Uint8Array(32);return crypto_scalarmult(q,n,p),q},nacl.scalarMult.base=function(n){if(checkArrayTypes(n),32!==n.length)throw new Error("bad n size");var q=new Uint8Array(32);return crypto_scalarmult_base(q,n),q},nacl.scalarMult.scalarLength=32,nacl.scalarMult.groupElementLength=32,nacl.box=function(msg,nonce,publicKey,secretKey){var k=nacl.box.before(publicKey,secretKey);return nacl.secretbox(msg,nonce,k)},nacl.box.before=function(publicKey,secretKey){checkArrayTypes(publicKey,secretKey),function(pk,sk){if(pk.length!==crypto_box_PUBLICKEYBYTES)throw new Error("bad public key size");if(sk.length!==crypto_box_SECRETKEYBYTES)throw new Error("bad secret key size")}(publicKey,secretKey);var k=new Uint8Array(32);return crypto_box_beforenm(k,publicKey,secretKey),k},nacl.box.after=nacl.secretbox,nacl.box.open=function(msg,nonce,publicKey,secretKey){var k=nacl.box.before(publicKey,secretKey);return nacl.secretbox.open(msg,nonce,k)},nacl.box.open.after=nacl.secretbox.open,nacl.box.keyPair=function(){var pk=new Uint8Array(crypto_box_PUBLICKEYBYTES),sk=new Uint8Array(crypto_box_SECRETKEYBYTES);return crypto_box_keypair(pk,sk),{publicKey:pk,secretKey:sk}},nacl.box.keyPair.fromSecretKey=function(secretKey){if(checkArrayTypes(secretKey),secretKey.length!==crypto_box_SECRETKEYBYTES)throw new Error("bad secret key size");var pk=new Uint8Array(crypto_box_PUBLICKEYBYTES);return crypto_scalarmult_base(pk,secretKey),{publicKey:pk,secretKey:new Uint8Array(secretKey)}},nacl.box.publicKeyLength=crypto_box_PUBLICKEYBYTES,nacl.box.secretKeyLength=crypto_box_SECRETKEYBYTES,nacl.box.sharedKeyLength=32,nacl.box.nonceLength=crypto_box_NONCEBYTES,nacl.box.overheadLength=nacl.secretbox.overheadLength,nacl.sign=function(msg,secretKey){if(checkArrayTypes(msg,secretKey),64!==secretKey.length)throw new Error("bad secret key size");var signedMsg=new Uint8Array(64+msg.length);return crypto_sign(signedMsg,msg,msg.length,secretKey),signedMsg},nacl.sign.open=function(signedMsg,publicKey){if(2!==arguments.length)throw new Error("nacl.sign.open accepts 2 arguments; did you mean to use nacl.sign.detached.verify?");if(checkArrayTypes(signedMsg,publicKey),32!==publicKey.length)throw new Error("bad public key size");var tmp=new Uint8Array(signedMsg.length),mlen=crypto_sign_open(tmp,signedMsg,signedMsg.length,publicKey);if(mlen<0)return null;for(var m=new Uint8Array(mlen),i=0;i<m.length;i++)m[i]=tmp[i];return m},nacl.sign.detached=function(msg,secretKey){for(var signedMsg=nacl.sign(msg,secretKey),sig=new Uint8Array(64),i=0;i<sig.length;i++)sig[i]=signedMsg[i];return sig},nacl.sign.detached.verify=function(msg,sig,publicKey){if(checkArrayTypes(msg,sig,publicKey),64!==sig.length)throw new Error("bad signature size");if(32!==publicKey.length)throw new Error("bad public key size");var i,sm=new Uint8Array(64+msg.length),m=new Uint8Array(64+msg.length);for(i=0;i<64;i++)sm[i]=sig[i];for(i=0;i<msg.length;i++)sm[i+64]=msg[i];return crypto_sign_open(m,sm,sm.length,publicKey)>=0},nacl.sign.keyPair=function(){var pk=new Uint8Array(32),sk=new Uint8Array(64);return crypto_sign_keypair(pk,sk),{publicKey:pk,secretKey:sk}},nacl.sign.keyPair.fromSecretKey=function(secretKey){if(checkArrayTypes(secretKey),64!==secretKey.length)throw new Error("bad secret key size");for(var pk=new Uint8Array(32),i=0;i<pk.length;i++)pk[i]=secretKey[32+i];return{publicKey:pk,secretKey:new Uint8Array(secretKey)}},nacl.sign.keyPair.fromSeed=function(seed){if(checkArrayTypes(seed),32!==seed.length)throw new Error("bad seed size");for(var pk=new Uint8Array(32),sk=new Uint8Array(64),i=0;i<32;i++)sk[i]=seed[i];return crypto_sign_keypair(pk,sk,!0),{publicKey:pk,secretKey:sk}},nacl.sign.publicKeyLength=32,nacl.sign.secretKeyLength=64,nacl.sign.seedLength=32,nacl.sign.signatureLength=64,nacl.hash=function(msg){checkArrayTypes(msg);var h=new Uint8Array(64);return crypto_hash(h,msg,msg.length),h},nacl.hash.hashLength=64,nacl.verify=function(x,y){return checkArrayTypes(x,y),0!==x.length&&0!==y.length&&(x.length===y.length&&0===vn(x,0,y,0,x.length))},nacl.setPRNG=function(fn){randombytes=fn},function(){var crypto="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(crypto&&crypto.getRandomValues){nacl.setPRNG(function(x,n){var i,v=new Uint8Array(n);for(i=0;i<n;i+=65536)crypto.getRandomValues(v.subarray(i,i+Math.min(n-i,65536)));for(i=0;i<n;i++)x[i]=v[i];cleanup(v)})}else(crypto=__webpack_require__(23))&&crypto.randomBytes&&nacl.setPRNG(function(x,n){var i,v=crypto.randomBytes(n);for(i=0;i<n;i++)x[i]=v[i];cleanup(v)})}()}(module.exports?module.exports:self.nacl=self.nacl||{})},function(module,exports,__webpack_require__){module.exports=SSHBuffer;var assert=__webpack_require__(18),Buffer=__webpack_require__(13).Buffer;function SSHBuffer(opts){assert.object(opts,"options"),void 0!==opts.buffer&&assert.buffer(opts.buffer,"options.buffer"),this._size=opts.buffer?opts.buffer.length:1024,this._buffer=opts.buffer||Buffer.alloc(this._size),this._offset=0}SSHBuffer.prototype.toBuffer=function(){return this._buffer.slice(0,this._offset)},SSHBuffer.prototype.atEnd=function(){return this._offset>=this._buffer.length},SSHBuffer.prototype.remainder=function(){return this._buffer.slice(this._offset)},SSHBuffer.prototype.skip=function(n){this._offset+=n},SSHBuffer.prototype.expand=function(){this._size*=2;var buf=Buffer.alloc(this._size);this._buffer.copy(buf,0),this._buffer=buf},SSHBuffer.prototype.readPart=function(){return{data:this.readBuffer()}},SSHBuffer.prototype.readBuffer=function(){var len=this._buffer.readUInt32BE(this._offset);this._offset+=4,assert.ok(this._offset+len<=this._buffer.length,"length out of bounds at +0x"+this._offset.toString(16)+" (data truncated?)");var buf=this._buffer.slice(this._offset,this._offset+len);return this._offset+=len,buf},SSHBuffer.prototype.readString=function(){return this.readBuffer().toString()},SSHBuffer.prototype.readCString=function(){for(var offset=this._offset;offset<this._buffer.length&&0!==this._buffer[offset];)offset++;assert.ok(offset<this._buffer.length,"c string does not terminate");var str=this._buffer.slice(this._offset,offset).toString();return this._offset=offset+1,str},SSHBuffer.prototype.readInt=function(){var v=this._buffer.readUInt32BE(this._offset);return this._offset+=4,v},SSHBuffer.prototype.readInt64=function(){assert.ok(this._offset+8<this._buffer.length,"buffer not long enough to read Int64");var v=this._buffer.slice(this._offset,this._offset+8);return this._offset+=8,v},SSHBuffer.prototype.readChar=function(){return this._buffer[this._offset++]},SSHBuffer.prototype.writeBuffer=function(buf){for(;this._offset+4+buf.length>this._size;)this.expand();this._buffer.writeUInt32BE(buf.length,this._offset),this._offset+=4,buf.copy(this._buffer,this._offset),this._offset+=buf.length},SSHBuffer.prototype.writeString=function(str){this.writeBuffer(Buffer.from(str,"utf8"))},SSHBuffer.prototype.writeCString=function(str){for(;this._offset+1+str.length>this._size;)this.expand();this._buffer.write(str,this._offset),this._offset+=str.length,this._buffer[this._offset++]=0},SSHBuffer.prototype.writeInt=function(v){for(;this._offset+4>this._size;)this.expand();this._buffer.writeUInt32BE(v,this._offset),this._offset+=4},SSHBuffer.prototype.writeInt64=function(v){if(assert.buffer(v,"value"),v.length>8){for(var lead=v.slice(0,v.length-8),i=0;i<lead.length;++i)assert.strictEqual(lead[i],0,"must fit in 64 bits of precision");v=v.slice(v.length-8,v.length)}for(;this._offset+8>this._size;)this.expand();v.copy(this._buffer,this._offset),this._offset+=8},SSHBuffer.prototype.writeChar=function(v){for(;this._offset+1>this._size;)this.expand();this._buffer[this._offset++]=v},SSHBuffer.prototype.writePart=function(p){this.writeBuffer(p.data)},SSHBuffer.prototype.write=function(buf){for(;this._offset+buf.length>this._size;)this.expand();buf.copy(this._buffer,this._offset),this._offset+=buf.length}},function(module,exports,__webpack_require__){module.exports={read:function(buf,options){return pem.read(buf,options,"pkcs8")},readPkcs8:function(alg,type,der){der.peek()===asn1.Ber.Integer&&(assert.strictEqual(type,"private","unexpected Integer at start of public key"),der.readString(asn1.Ber.Integer,!0));der.readSequence();var next=der.offset+der.length,oid=der.readOID();switch(oid){case"1.2.840.113549.1.1.1":return der._offset=next,"public"===type?function(der){der.readSequence(asn1.Ber.BitString),der.readByte(),der.readSequence();var n=readMPInt(der,"modulus"),e=readMPInt(der,"exponent"),key={type:"rsa",source:der.originalInput,parts:[{name:"e",data:e},{name:"n",data:n}]};return new Key(key)}(der):function(der){der.readSequence(asn1.Ber.OctetString),der.readSequence();var ver=readMPInt(der,"version");assert.equal(ver[0],0,"unknown RSA private key version");var n=readMPInt(der,"modulus"),e=readMPInt(der,"public exponent"),d=readMPInt(der,"private exponent"),p=readMPInt(der,"prime1"),q=readMPInt(der,"prime2"),dmodp=readMPInt(der,"exponent1"),dmodq=readMPInt(der,"exponent2"),iqmp=readMPInt(der,"iqmp");return new PrivateKey({type:"rsa",parts:[{name:"n",data:n},{name:"e",data:e},{name:"d",data:d},{name:"iqmp",data:iqmp},{name:"p",data:p},{name:"q",data:q},{name:"dmodp",data:dmodp},{name:"dmodq",data:dmodq}]})}(der);case"1.2.840.10040.4.1":return"public"===type?function(der){der.readSequence();var p=readMPInt(der,"p"),q=readMPInt(der,"q"),g=readMPInt(der,"g");der.readSequence(asn1.Ber.BitString),der.readByte();var y=readMPInt(der,"y");return new Key({type:"dsa",parts:[{name:"p",data:p},{name:"q",data:q},{name:"g",data:g},{name:"y",data:y}]})}(der):function(der){der.readSequence();var p=readMPInt(der,"p"),q=readMPInt(der,"q"),g=readMPInt(der,"g");der.readSequence(asn1.Ber.OctetString);var x=readMPInt(der,"x"),y=utils.calculateDSAPublic(g,p,x);return new PrivateKey({type:"dsa",parts:[{name:"p",data:p},{name:"q",data:q},{name:"g",data:g},{name:"y",data:y},{name:"x",data:x}]})}(der);case"1.2.840.10045.2.1":return"public"===type?function(der){var curveName=readECDSACurve(der);assert.string(curveName,"a known elliptic curve");var Q=der.readString(asn1.Ber.BitString,!0);Q=utils.ecNormalize(Q);var key={type:"ecdsa",parts:[{name:"curve",data:Buffer.from(curveName)},{name:"Q",data:Q}]};return new Key(key)}(der):function(der){var curveName=readECDSACurve(der);assert.string(curveName,"a known elliptic curve"),der.readSequence(asn1.Ber.OctetString),der.readSequence();var version=readMPInt(der,"version");assert.equal(version[0],1,"unknown version of ECDSA key");var Q,d=der.readString(asn1.Ber.OctetString,!0);160==der.peek()&&(der.readSequence(160),der._offset+=der.length);161==der.peek()&&(der.readSequence(161),Q=der.readString(asn1.Ber.BitString,!0),Q=utils.ecNormalize(Q));if(void 0===Q){var pub=utils.publicFromPrivateECDSA(curveName,d);Q=pub.part.Q.data}var key={type:"ecdsa",parts:[{name:"curve",data:Buffer.from(curveName)},{name:"Q",data:Q},{name:"d",data:d}]};return new PrivateKey(key)}(der);case"1.3.101.112":return"public"===type?function(der){0===der.peek()&&der.readByte();var A=utils.readBitString(der),key={type:"ed25519",parts:[{name:"A",data:utils.zeroPadToLength(A,32)}]};return new Key(key)}(der):function(der){0===der.peek()&&der.readByte();der.readSequence(asn1.Ber.OctetString);var A,k=der.readString(asn1.Ber.OctetString,!0);k=utils.zeroPadToLength(k,32),der.peek()===asn1.Ber.BitString?(A=utils.readBitString(der),A=utils.zeroPadToLength(A,32)):A=utils.calculateED25519Public(k);var key={type:"ed25519",parts:[{name:"A",data:utils.zeroPadToLength(A,32)},{name:"k",data:utils.zeroPadToLength(k,32)}]};return new PrivateKey(key)}(der);case"1.3.101.110":return"public"===type?function(der){var A=utils.readBitString(der),key={type:"curve25519",parts:[{name:"A",data:utils.zeroPadToLength(A,32)}]};return new Key(key)}(der):function(der){0===der.peek()&&der.readByte();der.readSequence(asn1.Ber.OctetString);var k=der.readString(asn1.Ber.OctetString,!0);k=utils.zeroPadToLength(k,32);var A=utils.calculateX25519Public(k),key={type:"curve25519",parts:[{name:"A",data:utils.zeroPadToLength(A,32)},{name:"k",data:utils.zeroPadToLength(k,32)}]};return new PrivateKey(key)}(der);default:throw new Error("Unknown key type OID "+oid)}},write:function(key,options){return pem.write(key,options,"pkcs8")},writePkcs8:writePkcs8,pkcs8ToBuffer:function(key){var der=new asn1.BerWriter;return writePkcs8(der,key),der.buffer},readECDSACurve:readECDSACurve,writeECDSACurve:writeECDSACurve};var assert=__webpack_require__(18),asn1=__webpack_require__(122),Buffer=__webpack_require__(13).Buffer,algs=__webpack_require__(57),utils=__webpack_require__(46),Key=__webpack_require__(45),PrivateKey=__webpack_require__(53),pem=__webpack_require__(142);function readMPInt(der,nm){return assert.strictEqual(der.peek(),asn1.Ber.Integer,nm+" is not an Integer"),utils.mpNormalize(der.readString(asn1.Ber.Integer,!0))}function readECDSACurve(der){var curveName,curveNames,j,c,cd;if(der.peek()===asn1.Ber.OID){var oid=der.readOID();for(curveNames=Object.keys(algs.curves),j=0;j<curveNames.length;++j)if(c=curveNames[j],(cd=algs.curves[c]).pkcs8oid===oid){curveName=c;break}}else{der.readSequence();var version=der.readString(asn1.Ber.Integer,!0);assert.strictEqual(version[0],1,"ECDSA key not version 1");var curve={};der.readSequence();var fieldTypeOid=der.readOID();assert.strictEqual(fieldTypeOid,"1.2.840.10045.1.1","ECDSA key is not from a prime-field");var p=curve.p=utils.mpNormalize(der.readString(asn1.Ber.Integer,!0));curve.size=8*p.length-utils.countZeros(p),der.readSequence(),curve.a=utils.mpNormalize(der.readString(asn1.Ber.OctetString,!0)),curve.b=utils.mpNormalize(der.readString(asn1.Ber.OctetString,!0)),der.peek()===asn1.Ber.BitString&&(curve.s=der.readString(asn1.Ber.BitString,!0)),curve.G=der.readString(asn1.Ber.OctetString,!0),assert.strictEqual(curve.G[0],4,"uncompressed G is required"),curve.n=utils.mpNormalize(der.readString(asn1.Ber.Integer,!0)),curve.h=utils.mpNormalize(der.readString(asn1.Ber.Integer,!0)),assert.strictEqual(curve.h[0],1,"a cofactor=1 curve is required"),curveNames=Object.keys(algs.curves);var ks=Object.keys(curve);for(j=0;j<curveNames.length;++j){c=curveNames[j],cd=algs.curves[c];for(var equal=!0,i=0;i<ks.length;++i){var k=ks[i];if(void 0!==cd[k])if("object"==typeof cd[k]&&void 0!==cd[k].equals){if(!cd[k].equals(curve[k])){equal=!1;break}}else if(Buffer.isBuffer(cd[k])){if(cd[k].toString("binary")!==curve[k].toString("binary")){equal=!1;break}}else if(cd[k]!==curve[k]){equal=!1;break}}if(equal){curveName=c;break}}}return curveName}function writePkcs8(der,key){if(der.startSequence(),PrivateKey.isPrivateKey(key)){var sillyInt=Buffer.from([0]);der.writeBuffer(sillyInt,asn1.Ber.Integer)}switch(der.startSequence(),key.type){case"rsa":der.writeOID("1.2.840.113549.1.1.1"),PrivateKey.isPrivateKey(key)?function(key,der){der.writeNull(),der.endSequence(),der.startSequence(asn1.Ber.OctetString),der.startSequence();var version=Buffer.from([0]);der.writeBuffer(version,asn1.Ber.Integer),der.writeBuffer(key.part.n.data,asn1.Ber.Integer),der.writeBuffer(key.part.e.data,asn1.Ber.Integer),der.writeBuffer(key.part.d.data,asn1.Ber.Integer),der.writeBuffer(key.part.p.data,asn1.Ber.Integer),der.writeBuffer(key.part.q.data,asn1.Ber.Integer),key.part.dmodp&&key.part.dmodq||utils.addRSAMissing(key);der.writeBuffer(key.part.dmodp.data,asn1.Ber.Integer),der.writeBuffer(key.part.dmodq.data,asn1.Ber.Integer),der.writeBuffer(key.part.iqmp.data,asn1.Ber.Integer),der.endSequence(),der.endSequence()}(key,der):function(key,der){der.writeNull(),der.endSequence(),der.startSequence(asn1.Ber.BitString),der.writeByte(0),der.startSequence(),der.writeBuffer(key.part.n.data,asn1.Ber.Integer),der.writeBuffer(key.part.e.data,asn1.Ber.Integer),der.endSequence(),der.endSequence()}(key,der);break;case"dsa":der.writeOID("1.2.840.10040.4.1"),PrivateKey.isPrivateKey(key)?function(key,der){der.startSequence(),der.writeBuffer(key.part.p.data,asn1.Ber.Integer),der.writeBuffer(key.part.q.data,asn1.Ber.Integer),der.writeBuffer(key.part.g.data,asn1.Ber.Integer),der.endSequence(),der.endSequence(),der.startSequence(asn1.Ber.OctetString),der.writeBuffer(key.part.x.data,asn1.Ber.Integer),der.endSequence()}(key,der):function(key,der){der.startSequence(),der.writeBuffer(key.part.p.data,asn1.Ber.Integer),der.writeBuffer(key.part.q.data,asn1.Ber.Integer),der.writeBuffer(key.part.g.data,asn1.Ber.Integer),der.endSequence(),der.endSequence(),der.startSequence(asn1.Ber.BitString),der.writeByte(0),der.writeBuffer(key.part.y.data,asn1.Ber.Integer),der.endSequence()}(key,der);break;case"ecdsa":der.writeOID("1.2.840.10045.2.1"),PrivateKey.isPrivateKey(key)?function(key,der){writeECDSACurve(key,der),der.endSequence(),der.startSequence(asn1.Ber.OctetString),der.startSequence();var version=Buffer.from([1]);der.writeBuffer(version,asn1.Ber.Integer),der.writeBuffer(key.part.d.data,asn1.Ber.OctetString),der.startSequence(161);var Q=utils.ecNormalize(key.part.Q.data,!0);der.writeBuffer(Q,asn1.Ber.BitString),der.endSequence(),der.endSequence(),der.endSequence()}(key,der):function(key,der){writeECDSACurve(key,der),der.endSequence();var Q=utils.ecNormalize(key.part.Q.data,!0);der.writeBuffer(Q,asn1.Ber.BitString)}(key,der);break;case"ed25519":if(der.writeOID("1.3.101.112"),PrivateKey.isPrivateKey(key))throw new Error("Ed25519 private keys in pkcs8 format are not supported");!function(key,der){der.endSequence(),utils.writeBitString(der,key.part.A.data)}(key,der);break;default:throw new Error("Unsupported key type: "+key.type)}der.endSequence()}function writeECDSACurve(key,der){var curve=algs.curves[key.curve];if(curve.pkcs8oid)der.writeOID(curve.pkcs8oid);else{der.startSequence();var version=Buffer.from([1]);der.writeBuffer(version,asn1.Ber.Integer),der.startSequence(),der.writeOID("1.2.840.10045.1.1"),der.writeBuffer(curve.p,asn1.Ber.Integer),der.endSequence(),der.startSequence();var a=curve.p;0===a[0]&&(a=a.slice(1)),der.writeBuffer(a,asn1.Ber.OctetString),der.writeBuffer(curve.b,asn1.Ber.OctetString),der.writeBuffer(curve.s,asn1.Ber.BitString),der.endSequence(),der.writeBuffer(curve.G,asn1.Ber.OctetString),der.writeBuffer(curve.n,asn1.Ber.Integer);var h=curve.h;h||(h=Buffer.from([1])),der.writeBuffer(h,asn1.Ber.Integer),der.endSequence()}}},function(module,exports,__webpack_require__){module.exports=Certificate;var assert=__webpack_require__(18),Buffer=__webpack_require__(13).Buffer,algs=__webpack_require__(57),crypto=__webpack_require__(23),Fingerprint=__webpack_require__(260),errs=(__webpack_require__(121),__webpack_require__(112)),utils=(__webpack_require__(8),__webpack_require__(46)),Key=__webpack_require__(45),PrivateKey=__webpack_require__(53),Identity=__webpack_require__(266),formats={};formats.openssh=__webpack_require__(968),formats.x509=__webpack_require__(804),formats.pem=__webpack_require__(969);var CertificateParseError=errs.CertificateParseError,InvalidAlgorithmError=errs.InvalidAlgorithmError;function Certificate(opts){assert.object(opts,"options"),assert.arrayOfObject(opts.subjects,"options.subjects"),utils.assertCompatible(opts.subjects[0],Identity,[1,0],"options.subjects"),utils.assertCompatible(opts.subjectKey,Key,[1,0],"options.subjectKey"),utils.assertCompatible(opts.issuer,Identity,[1,0],"options.issuer"),void 0!==opts.issuerKey&&utils.assertCompatible(opts.issuerKey,Key,[1,0],"options.issuerKey"),assert.object(opts.signatures,"options.signatures"),assert.buffer(opts.serial,"options.serial"),assert.date(opts.validFrom,"options.validFrom"),assert.date(opts.validUntil,"optons.validUntil"),assert.optionalArrayOfString(opts.purposes,"options.purposes"),this._hashCache={},this.subjects=opts.subjects,this.issuer=opts.issuer,this.subjectKey=opts.subjectKey,this.issuerKey=opts.issuerKey,this.signatures=opts.signatures,this.serial=opts.serial,this.validFrom=opts.validFrom,this.validUntil=opts.validUntil,this.purposes=opts.purposes}Certificate.formats=formats,Certificate.prototype.toBuffer=function(format,options){return void 0===format&&(format="x509"),assert.string(format,"format"),assert.object(formats[format],"formats[format]"),assert.optionalObject(options,"options"),formats[format].write(this,options)},Certificate.prototype.toString=function(format,options){return void 0===format&&(format="pem"),this.toBuffer(format,options).toString()},Certificate.prototype.fingerprint=function(algo){void 0===algo&&(algo="sha256"),assert.string(algo,"algorithm");var opts={type:"certificate",hash:this.hash(algo),algorithm:algo};return new Fingerprint(opts)},Certificate.prototype.hash=function(algo){if(assert.string(algo,"algorithm"),algo=algo.toLowerCase(),void 0===algs.hashAlgs[algo])throw new InvalidAlgorithmError(algo);if(this._hashCache[algo])return this._hashCache[algo];var hash=crypto.createHash(algo).update(this.toBuffer("x509")).digest();return this._hashCache[algo]=hash,hash},Certificate.prototype.isExpired=function(when){return void 0===when&&(when=new Date),!(when.getTime()>=this.validFrom.getTime()&&when.getTime()<this.validUntil.getTime())},Certificate.prototype.isSignedBy=function(issuerCert){return utils.assertCompatible(issuerCert,Certificate,[1,0],"issuer"),!!this.issuer.equals(issuerCert.subjects[0])&&(!(this.issuer.purposes&&this.issuer.purposes.length>0&&-1===this.issuer.purposes.indexOf("ca"))&&this.isSignedByKey(issuerCert.subjectKey))},Certificate.prototype.getExtension=function(keyOrOid){return assert.string(keyOrOid,"keyOrOid"),this.getExtensions().filter(function(maybeExt){return"x509"===maybeExt.format?maybeExt.oid===keyOrOid:"openssh"===maybeExt.format&&maybeExt.name===keyOrOid})[0]},Certificate.prototype.getExtensions=function(){var exts=[],x509=this.signatures.x509;x509&&x509.extras&&x509.extras.exts&&x509.extras.exts.forEach(function(ext){ext.format="x509",exts.push(ext)});var openssh=this.signatures.openssh;return openssh&&openssh.exts&&openssh.exts.forEach(function(ext){ext.format="openssh",exts.push(ext)}),exts},Certificate.prototype.isSignedByKey=function(issuerKey){if(utils.assertCompatible(issuerKey,Key,[1,2],"issuerKey"),void 0!==this.issuerKey)return this.issuerKey.fingerprint("sha512").matches(issuerKey);var fmt=Object.keys(this.signatures)[0],valid=formats[fmt].verify(this,issuerKey);return valid&&(this.issuerKey=issuerKey),valid},Certificate.prototype.signWith=function(key){utils.assertCompatible(key,PrivateKey,[1,2],"key");for(var fmts=Object.keys(formats),didOne=!1,i=0;i<fmts.length;++i){if("pem"!==fmts[i])!0===formats[fmts[i]].sign(this,key)&&(didOne=!0)}if(!didOne)throw new Error("Failed to sign the certificate for any available certificate formats")},Certificate.createSelfSigned=function(subjectOrSubjects,key,options){var subjects;subjects=Array.isArray(subjectOrSubjects)?subjectOrSubjects:[subjectOrSubjects],assert.arrayOfObject(subjects),subjects.forEach(function(subject){utils.assertCompatible(subject,Identity,[1,0],"subject")}),utils.assertCompatible(key,PrivateKey,[1,2],"private key"),assert.optionalObject(options,"options"),void 0===options&&(options={}),assert.optionalObject(options.validFrom,"options.validFrom"),assert.optionalObject(options.validUntil,"options.validUntil");var validFrom=options.validFrom,validUntil=options.validUntil;if(void 0===validFrom&&(validFrom=new Date),void 0===validUntil){assert.optionalNumber(options.lifetime,"options.lifetime");var lifetime=options.lifetime;void 0===lifetime&&(lifetime=31536e4),(validUntil=new Date).setTime(validUntil.getTime()+1e3*lifetime)}assert.optionalBuffer(options.serial,"options.serial");var serial=options.serial;void 0===serial&&(serial=Buffer.from("0000000000000001","hex"));var purposes=options.purposes;if(void 0===purposes&&(purposes=[]),-1===purposes.indexOf("signature")&&purposes.push("signature"),-1===purposes.indexOf("ca")&&purposes.push("ca"),-1===purposes.indexOf("crl")&&purposes.push("crl"),purposes.length<=3){var hostSubjects=subjects.filter(function(subject){return"host"===subject.type}),userSubjects=subjects.filter(function(subject){return"user"===subject.type});hostSubjects.length>0&&-1===purposes.indexOf("serverAuth")&&purposes.push("serverAuth"),userSubjects.length>0&&-1===purposes.indexOf("clientAuth")&&purposes.push("clientAuth"),(userSubjects.length>0||hostSubjects.length>0)&&(-1===purposes.indexOf("keyAgreement")&&purposes.push("keyAgreement"),"rsa"===key.type&&-1===purposes.indexOf("encryption")&&purposes.push("encryption"))}var cert=new Certificate({subjects:subjects,issuer:subjects[0],subjectKey:key.toPublic(),issuerKey:key.toPublic(),signatures:{},serial:serial,validFrom:validFrom,validUntil:validUntil,purposes:purposes});return cert.signWith(key),cert},Certificate.create=function(subjectOrSubjects,key,issuer,issuerKey,options){var subjects;subjects=Array.isArray(subjectOrSubjects)?subjectOrSubjects:[subjectOrSubjects],assert.arrayOfObject(subjects),subjects.forEach(function(subject){utils.assertCompatible(subject,Identity,[1,0],"subject")}),utils.assertCompatible(key,Key,[1,0],"key"),PrivateKey.isPrivateKey(key)&&(key=key.toPublic()),utils.assertCompatible(issuer,Identity,[1,0],"issuer"),utils.assertCompatible(issuerKey,PrivateKey,[1,2],"issuer key"),assert.optionalObject(options,"options"),void 0===options&&(options={}),assert.optionalObject(options.validFrom,"options.validFrom"),assert.optionalObject(options.validUntil,"options.validUntil");var validFrom=options.validFrom,validUntil=options.validUntil;if(void 0===validFrom&&(validFrom=new Date),void 0===validUntil){assert.optionalNumber(options.lifetime,"options.lifetime");var lifetime=options.lifetime;void 0===lifetime&&(lifetime=31536e4),(validUntil=new Date).setTime(validUntil.getTime()+1e3*lifetime)}assert.optionalBuffer(options.serial,"options.serial");var serial=options.serial;void 0===serial&&(serial=Buffer.from("0000000000000001","hex"));var purposes=options.purposes;void 0===purposes&&(purposes=[]),-1===purposes.indexOf("signature")&&purposes.push("signature"),!0===options.ca&&(-1===purposes.indexOf("ca")&&purposes.push("ca"),-1===purposes.indexOf("crl")&&purposes.push("crl"));var hostSubjects=subjects.filter(function(subject){return"host"===subject.type}),userSubjects=subjects.filter(function(subject){return"user"===subject.type});hostSubjects.length>0&&-1===purposes.indexOf("serverAuth")&&purposes.push("serverAuth"),userSubjects.length>0&&-1===purposes.indexOf("clientAuth")&&purposes.push("clientAuth"),(userSubjects.length>0||hostSubjects.length>0)&&(-1===purposes.indexOf("keyAgreement")&&purposes.push("keyAgreement"),"rsa"===key.type&&-1===purposes.indexOf("encryption")&&purposes.push("encryption"));var cert=new Certificate({subjects:subjects,issuer:issuer,subjectKey:key,issuerKey:issuerKey.toPublic(),signatures:{},serial:serial,validFrom:validFrom,validUntil:validUntil,purposes:purposes});return cert.signWith(issuerKey),cert},Certificate.parse=function(data,format,options){"string"!=typeof data&&assert.buffer(data,"data"),void 0===format&&(format="auto"),assert.string(format,"format"),"string"==typeof options&&(options={filename:options}),assert.optionalObject(options,"options"),void 0===options&&(options={}),assert.optionalString(options.filename,"options.filename"),void 0===options.filename&&(options.filename="(unnamed)"),assert.object(formats[format],"formats[format]");try{return formats[format].read(data,options)}catch(e){throw new CertificateParseError(options.filename,format,e)}},Certificate.isCertificate=function(obj,ver){return utils.isCompatible(obj,Certificate,ver)},Certificate.prototype._sshpkApiVersion=[1,1],Certificate._oldVersionDetect=function(obj){return[1,0]}},function(module,exports,__webpack_require__){module.exports=Identity;var assert=__webpack_require__(18),utils=(__webpack_require__(57),__webpack_require__(23),__webpack_require__(260),__webpack_require__(121),__webpack_require__(112),__webpack_require__(8),__webpack_require__(46)),asn1=__webpack_require__(122),Buffer=__webpack_require__(13).Buffer,DNS_NAME_RE=/^([*]|[a-z0-9][a-z0-9\-]{0,62})(?:\.([*]|[a-z0-9][a-z0-9\-]{0,62}))*$/i,oids={cn:"2.5.4.3",o:"2.5.4.10",ou:"2.5.4.11",l:"2.5.4.7",s:"2.5.4.8",c:"2.5.4.6",sn:"2.5.4.4",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",street:"2.5.4.9",x500UniqueIdentifier:"2.5.4.45",role:"2.5.4.72",telephoneNumber:"2.5.4.20",description:"2.5.4.13",dc:"0.9.2342.19200300.100.1.25",uid:"0.9.2342.19200300.100.1.1",mail:"0.9.2342.19200300.100.1.3",title:"2.5.4.12",gn:"2.5.4.42",initials:"2.5.4.43",pseudonym:"2.5.4.65",emailAddress:"1.2.840.113549.1.9.1"},unoids={};function Identity(opts){var self=this;if(assert.object(opts,"options"),assert.arrayOfObject(opts.components,"options.components"),this.components=opts.components,this.componentLookup={},this.components.forEach(function(c){c.name&&!c.oid&&(c.oid=oids[c.name]),c.oid&&!c.name&&(c.name=unoids[c.oid]),void 0===self.componentLookup[c.name]&&(self.componentLookup[c.name]=[]),self.componentLookup[c.name].push(c)}),this.componentLookup.cn&&this.componentLookup.cn.length>0&&(this.cn=this.componentLookup.cn[0].value),assert.optionalString(opts.type,"options.type"),void 0===opts.type)1===this.components.length&&this.componentLookup.cn&&1===this.componentLookup.cn.length&&this.componentLookup.cn[0].value.match(DNS_NAME_RE)?(this.type="host",this.hostname=this.componentLookup.cn[0].value):this.componentLookup.dc&&this.components.length===this.componentLookup.dc.length?(this.type="host",this.hostname=this.componentLookup.dc.map(function(c){return c.value}).join(".")):this.componentLookup.uid&&this.components.length===this.componentLookup.uid.length?(this.type="user",this.uid=this.componentLookup.uid[0].value):this.componentLookup.cn&&1===this.componentLookup.cn.length&&this.componentLookup.cn[0].value.match(DNS_NAME_RE)?(this.type="host",this.hostname=this.componentLookup.cn[0].value):this.componentLookup.uid&&1===this.componentLookup.uid.length?(this.type="user",this.uid=this.componentLookup.uid[0].value):this.componentLookup.mail&&1===this.componentLookup.mail.length?(this.type="email",this.email=this.componentLookup.mail[0].value):this.componentLookup.cn&&1===this.componentLookup.cn.length?(this.type="user",this.uid=this.componentLookup.cn[0].value):this.type="unknown";else if(this.type=opts.type,"host"===this.type)this.hostname=opts.hostname;else if("user"===this.type)this.uid=opts.uid;else{if("email"!==this.type)throw new Error("Unknown type "+this.type);this.email=opts.email}}Object.keys(oids).forEach(function(k){unoids[oids[k]]=k}),Identity.prototype.toString=function(){return this.components.map(function(c){var n=c.name.toUpperCase();n=n.replace(/=/g,"\\=");var v=c.value;return n+"="+(v=v.replace(/,/g,"\\,"))}).join(", ")},Identity.prototype.get=function(name,asArray){assert.string(name,"name");var arr=this.componentLookup[name];if(void 0!==arr&&0!==arr.length){if(!asArray&&arr.length>1)throw new Error("Multiple values for attribute "+name);return asArray?arr.map(function(c){return c.value}):arr[0].value}},Identity.prototype.toArray=function(idx){return this.components.map(function(c){return{name:c.name,value:c.value}})};var NOT_PRINTABLE=/[^a-zA-Z0-9 '(),+.\/:=?-]/,NOT_IA5=/[^\x00-\x7f]/;function globMatch(a,b){if("**"===a||"**"===b)return!0;var aParts=a.split("."),bParts=b.split(".");if(aParts.length!==bParts.length)return!1;for(var i=0;i<aParts.length;++i)if("*"!==aParts[i]&&"*"!==bParts[i]&&aParts[i]!==bParts[i])return!1;return!0}Identity.prototype.toAsn1=function(der,tag){der.startSequence(tag),this.components.forEach(function(c){if(der.startSequence(asn1.Ber.Constructor|asn1.Ber.Set),der.startSequence(),der.writeOID(c.oid),c.asn1type===asn1.Ber.Utf8String||c.value.match(NOT_IA5)){var v=Buffer.from(c.value,"utf8");der.writeBuffer(v,asn1.Ber.Utf8String)}else if(c.asn1type===asn1.Ber.IA5String||c.value.match(NOT_PRINTABLE))der.writeString(c.value,asn1.Ber.IA5String);else{var type=asn1.Ber.PrintableString;void 0!==c.asn1type&&(type=c.asn1type),der.writeString(c.value,type)}der.endSequence(),der.endSequence()}),der.endSequence()},Identity.prototype.equals=function(other){if(!Identity.isIdentity(other,[1,0]))return!1;if(other.components.length!==this.components.length)return!1;for(var i=0;i<this.components.length;++i){if(this.components[i].oid!==other.components[i].oid)return!1;if(!globMatch(this.components[i].value,other.components[i].value))return!1}return!0},Identity.forHost=function(hostname){return assert.string(hostname,"hostname"),new Identity({type:"host",hostname:hostname,components:[{name:"cn",value:hostname}]})},Identity.forUser=function(uid){return assert.string(uid,"uid"),new Identity({type:"user",uid:uid,components:[{name:"uid",value:uid}]})},Identity.forEmail=function(email){return assert.string(email,"email"),new Identity({type:"email",email:email,components:[{name:"mail",value:email}]})},Identity.parseDN=function(dn){assert.string(dn,"dn");for(var parts=[""],idx=0,rem=dn;rem.length>0;){var m;if(null!==(m=/^,/.exec(rem)))parts[++idx]="",rem=rem.slice(m[0].length);else if(null!==(m=/^\\,/.exec(rem)))parts[idx]+=",",rem=rem.slice(m[0].length);else if(null!==(m=/^\\./.exec(rem)))parts[idx]+=m[0],rem=rem.slice(m[0].length);else{if(null===(m=/^[^\\,]+/.exec(rem)))throw new Error("Failed to parse DN");parts[idx]+=m[0],rem=rem.slice(m[0].length)}}return new Identity({components:parts.map(function(c){for(var eqPos=(c=c.trim()).indexOf("=");eqPos>0&&"\\"===c.charAt(eqPos-1);)eqPos=c.indexOf("=",eqPos+1);if(-1===eqPos)throw new Error("Failed to parse DN");return{name:c.slice(0,eqPos).toLowerCase().replace(/\\=/g,"="),value:c.slice(eqPos+1)}})})},Identity.fromArray=function(components){return assert.arrayOfObject(components,"components"),components.forEach(function(cmp){if(assert.object(cmp,"component"),assert.string(cmp.name,"component.name"),!Buffer.isBuffer(cmp.value)&&"string"!=typeof cmp.value)throw new Error("Invalid component value")}),new Identity({components:components})},Identity.parseAsn1=function(der,top){var components=[];der.readSequence(top);for(var end=der.offset+der.length;der.offset<end;){der.readSequence(asn1.Ber.Constructor|asn1.Ber.Set);var after=der.offset+der.length;der.readSequence();var value,oid=der.readOID(),type=der.peek();switch(type){case asn1.Ber.PrintableString:case asn1.Ber.IA5String:case asn1.Ber.OctetString:case asn1.Ber.T61String:value=der.readString(type);break;case asn1.Ber.Utf8String:value=(value=der.readString(type,!0)).toString("utf8");break;case asn1.Ber.CharacterString:case asn1.Ber.BMPString:value=(value=der.readString(type,!0)).toString("utf16le");break;default:throw new Error("Unknown asn1 type "+type)}components.push({oid:oid,asn1type:type,value:value}),der._offset=after}return der._offset=end,new Identity({components:components})},Identity.isIdentity=function(obj,ver){return utils.isCompatible(obj,Identity,ver)},Identity.prototype._sshpkApiVersion=[1,0],Identity._oldVersionDetect=function(obj){return[1,0]}},function(module,exports,__webpack_require__){"use strict";exports.REPLACEMENT_CHARACTER="",exports.CODE_POINTS={EOF:-1,NULL:0,TABULATION:9,CARRIAGE_RETURN:13,LINE_FEED:10,FORM_FEED:12,SPACE:32,EXCLAMATION_MARK:33,QUOTATION_MARK:34,NUMBER_SIGN:35,AMPERSAND:38,APOSTROPHE:39,HYPHEN_MINUS:45,SOLIDUS:47,DIGIT_0:48,DIGIT_9:57,SEMICOLON:59,LESS_THAN_SIGN:60,EQUALS_SIGN:61,GREATER_THAN_SIGN:62,QUESTION_MARK:63,LATIN_CAPITAL_A:65,LATIN_CAPITAL_F:70,LATIN_CAPITAL_X:88,LATIN_CAPITAL_Z:90,GRAVE_ACCENT:96,LATIN_SMALL_A:97,LATIN_SMALL_F:102,LATIN_SMALL_X:120,LATIN_SMALL_Z:122,REPLACEMENT_CHARACTER:65533},exports.CODE_POINT_SEQUENCES={DASH_DASH_STRING:[45,45],DOCTYPE_STRING:[68,79,67,84,89,80,69],CDATA_START_STRING:[91,67,68,65,84,65,91],CDATA_END_STRING:[93,93,62],SCRIPT_STRING:[115,99,114,105,112,116],PUBLIC_STRING:[80,85,66,76,73,67],SYSTEM_STRING:[83,89,83,84,69,77]}},function(module,exports,__webpack_require__){var baseSetToString=__webpack_require__(509),setToString=__webpack_require__(424)(baseSetToString);module.exports=setToString},function(module,exports,__webpack_require__){var parse=__webpack_require__(308),render=__webpack_require__(290),assign=__webpack_require__(844),tags={tag:!0,script:!0,style:!0};exports.isTag=function(type){return type.type&&(type=type.type),tags[type]||!1},exports.camelCase=function(str){return str.replace(/[_.-](\w|$)/g,function(_,x){return x.toUpperCase()})},exports.cssCase=function(str){return str.replace(/[A-Z]/g,"-$&").toLowerCase()},exports.domEach=function(cheerio,fn){for(var i=0,len=cheerio.length;i<len&&!1!==fn.call(cheerio,i,cheerio[i]);)++i;return cheerio},exports.cloneDom=function(dom,options){return options=assign({},options,{_useHtmlParser2:!0}),parse(render(dom,options),options,!1).children};var quickExpr=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/;exports.isHtml=function(str){if("<"===str.charAt(0)&&">"===str.charAt(str.length-1)&&str.length>=3)return!0;var match=quickExpr.exec(str);return!(!match||!match[1])}},function(module,exports,__webpack_require__){var baseFindIndex=__webpack_require__(292),baseIsNaN=__webpack_require__(520),strictIndexOf=__webpack_require__(521);module.exports=function(array,value,fromIndex){return value==value?strictIndexOf(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}},function(module,exports){module.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(295);module.exports={BT(){return this.write("BT")},ET(){return this.write("ET")},Tf(font,size){return this.write(font,size,"Tf")},Tm(a,b,c,d,e,f){return this.write(a,b,c,d,e,f,"Tm")},Tj(str,asHex){return this.write(str,"Tj")},TJ(arr){return this.write("["+arr.map(v=>"number"==typeof v?this.toFixed(v,3):v).join(" ")+"]","TJ")},Td(x,y){return this.write(x,y,"Td")},CS(name){return this.write(name,"CS")},cs(name){return this.write(name,"cs")},SC(c1,c2,c3){return this.write(c1,c2,c3,"SC")},sc(c1,c2,c3){return this.write(c1,c2,c3,"sc")},cm(a,b,c,d,e,f){return this.write(a,b,c,d,e,f,"cm")},q(){return this.write("q")},Q(){return this.write("Q")},re(x,y,width,height){return this.write(x,y,width,height,"re")},f(){return this.write("f")},TL(leading){return this.write(leading,"TL")},Tstar(){return this.write("T*")},Do(alias){return this.write(alias,"Do")},w(lineWidth){return this.write(lineWidth,"w")},S(){const args=Array.prototype.slice.call(arguments);return args.push("S"),this.write.apply(this,args)},write(){return Array.prototype.map.call(arguments,arg=>(null==arg&&console.warn("received an undefined/null operation argument"),"number"==typeof arg?this.toFixed(arg,3):arg)).join(" ")+"\n"},toFixed:(num,precision)=>(+(Math.floor(+(num+"e"+precision))+"e"+-precision)).toFixed(precision)}},,,function(module,exports,__webpack_require__){var baseExtremum=__webpack_require__(431),baseGt=__webpack_require__(486),baseIteratee=__webpack_require__(19);module.exports=function(array,iteratee){return array&&array.length?baseExtremum(array,baseIteratee(iteratee,2),baseGt):void 0}},function(module,exports,__webpack_require__){var v1=__webpack_require__(1313),v4=__webpack_require__(402),uuid=v4;uuid.v1=v1,uuid.v4=v4,module.exports=uuid},function(module,exports,__webpack_require__){"use strict";var old;"undefined"!=typeof Promise&&(old=Promise);var bluebird=__webpack_require__(1245)();bluebird.noConflict=function(){try{Promise===bluebird&&(Promise=old)}catch(e){}return bluebird},module.exports=bluebird},function(module,exports,__webpack_require__){var isPrototype=__webpack_require__(188),nativeKeys=__webpack_require__(514),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}},function(module,exports,__webpack_require__){var metaMap=__webpack_require__(425),noop=__webpack_require__(319),getData=metaMap?function(func){return metaMap.get(func)}:noop;module.exports=getData},function(module,exports,__webpack_require__){var baseKeys=__webpack_require__(278),getTag=__webpack_require__(110),isArrayLike=__webpack_require__(64),isString=__webpack_require__(204),stringSize=__webpack_require__(616),mapTag="[object Map]",setTag="[object Set]";module.exports=function(collection){if(null==collection)return 0;if(isArrayLike(collection))return isString(collection)?stringSize(collection):collection.length;var tag=getTag(collection);return tag==mapTag||tag==setTag?collection.size:baseKeys(collection).length}},function(module,exports){module.exports=function(array){var length=null==array?0:array.length;return length?array[length-1]:void 0}},function(module,exports){module.exports=function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}},function(module,exports,__webpack_require__){var baseIsEqual=__webpack_require__(194);module.exports=function(value,other){return baseIsEqual(value,other)}},function(module,exports,__webpack_require__){var startOfDay=__webpack_require__(885),MILLISECONDS_IN_MINUTE=6e4,MILLISECONDS_IN_DAY=864e5;module.exports=function(dirtyDateLeft,dirtyDateRight){var startOfDayLeft=startOfDay(dirtyDateLeft),startOfDayRight=startOfDay(dirtyDateRight),timestampLeft=startOfDayLeft.getTime()-startOfDayLeft.getTimezoneOffset()*MILLISECONDS_IN_MINUTE,timestampRight=startOfDayRight.getTime()-startOfDayRight.getTimezoneOffset()*MILLISECONDS_IN_MINUTE;return Math.round((timestampLeft-timestampRight)/MILLISECONDS_IN_DAY)}},function(module,__webpack_exports__,__webpack_require__){"use strict";var stream__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10),stream__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(stream__WEBPACK_IMPORTED_MODULE_0__),http__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(65),http__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(http__WEBPACK_IMPORTED_MODULE_1__),url__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(20),url__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(url__WEBPACK_IMPORTED_MODULE_2__),https__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(95),https__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(https__WEBPACK_IMPORTED_MODULE_3__),zlib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(55),zlib__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(zlib__WEBPACK_IMPORTED_MODULE_4__);const Readable=stream__WEBPACK_IMPORTED_MODULE_0___default.a.Readable,BUFFER=Symbol("buffer"),TYPE=Symbol("type");class Blob{constructor(){this[TYPE]="";const blobParts=arguments[0],options=arguments[1],buffers=[];let size=0;if(blobParts){const a=blobParts,length=Number(a.length);for(let i=0;i<length;i++){const element=a[i];let buffer;size+=(buffer=element instanceof Buffer?element:ArrayBuffer.isView(element)?Buffer.from(element.buffer,element.byteOffset,element.byteLength):element instanceof ArrayBuffer?Buffer.from(element):element instanceof Blob?element[BUFFER]:Buffer.from("string"==typeof element?element:String(element))).length,buffers.push(buffer)}}this[BUFFER]=Buffer.concat(buffers);let type=options&&void 0!==options.type&&String(options.type).toLowerCase();type&&!/[^\u0020-\u007E]/.test(type)&&(this[TYPE]=type)}get size(){return this[BUFFER].length}get type(){return this[TYPE]}text(){return Promise.resolve(this[BUFFER].toString())}arrayBuffer(){const buf=this[BUFFER],ab=buf.buffer.slice(buf.byteOffset,buf.byteOffset+buf.byteLength);return Promise.resolve(ab)}stream(){const readable=new Readable;return readable._read=function(){},readable.push(this[BUFFER]),readable.push(null),readable}toString(){return"[object Blob]"}slice(){const size=this.size,start=arguments[0],end=arguments[1];let relativeStart,relativeEnd;relativeStart=void 0===start?0:start<0?Math.max(size+start,0):Math.min(start,size),relativeEnd=void 0===end?size:end<0?Math.max(size+end,0):Math.min(end,size);const span=Math.max(relativeEnd-relativeStart,0),slicedBuffer=this[BUFFER].slice(relativeStart,relativeStart+span),blob=new Blob([],{type:arguments[2]});return blob[BUFFER]=slicedBuffer,blob}}function FetchError(message,type,systemError){Error.call(this,message),this.message=message,this.type=type,systemError&&(this.code=this.errno=systemError.code),Error.captureStackTrace(this,this.constructor)}let convert;Object.defineProperties(Blob.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(Blob.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),FetchError.prototype=Object.create(Error.prototype),FetchError.prototype.constructor=FetchError,FetchError.prototype.name="FetchError";try{convert=__webpack_require__(467).convert}catch(e){}const INTERNALS=Symbol("Body internals"),PassThrough=stream__WEBPACK_IMPORTED_MODULE_0___default.a.PassThrough;function Body(body){var _this=this,_ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref$size=_ref.size;let size=void 0===_ref$size?0:_ref$size;var _ref$timeout=_ref.timeout;let timeout=void 0===_ref$timeout?0:_ref$timeout;null==body?body=null:isURLSearchParams(body)?body=Buffer.from(body.toString()):isBlob(body)||Buffer.isBuffer(body)||("[object ArrayBuffer]"===Object.prototype.toString.call(body)?body=Buffer.from(body):ArrayBuffer.isView(body)?body=Buffer.from(body.buffer,body.byteOffset,body.byteLength):body instanceof stream__WEBPACK_IMPORTED_MODULE_0___default.a||(body=Buffer.from(String(body)))),this[INTERNALS]={body:body,disturbed:!1,error:null},this.size=size,this.timeout=timeout,body instanceof stream__WEBPACK_IMPORTED_MODULE_0___default.a&&body.on("error",function(err){const error="AbortError"===err.name?err:new FetchError(`Invalid response body while trying to fetch ${_this.url}: ${err.message}`,"system",err);_this[INTERNALS].error=error})}function consumeBody(){var _this4=this;if(this[INTERNALS].disturbed)return Body.Promise.reject(new TypeError(`body used already for: ${this.url}`));if(this[INTERNALS].disturbed=!0,this[INTERNALS].error)return Body.Promise.reject(this[INTERNALS].error);let body=this.body;if(null===body)return Body.Promise.resolve(Buffer.alloc(0));if(isBlob(body)&&(body=body.stream()),Buffer.isBuffer(body))return Body.Promise.resolve(body);if(!(body instanceof stream__WEBPACK_IMPORTED_MODULE_0___default.a))return Body.Promise.resolve(Buffer.alloc(0));let accum=[],accumBytes=0,abort=!1;return new Body.Promise(function(resolve,reject){let resTimeout;_this4.timeout&&(resTimeout=setTimeout(function(){abort=!0,reject(new FetchError(`Response timeout while trying to fetch ${_this4.url} (over ${_this4.timeout}ms)`,"body-timeout"))},_this4.timeout)),body.on("error",function(err){"AbortError"===err.name?(abort=!0,reject(err)):reject(new FetchError(`Invalid response body while trying to fetch ${_this4.url}: ${err.message}`,"system",err))}),body.on("data",function(chunk){if(!abort&&null!==chunk){if(_this4.size&&accumBytes+chunk.length>_this4.size)return abort=!0,void reject(new FetchError(`content size at ${_this4.url} over limit: ${_this4.size}`,"max-size"));accumBytes+=chunk.length,accum.push(chunk)}}),body.on("end",function(){if(!abort){clearTimeout(resTimeout);try{resolve(Buffer.concat(accum,accumBytes))}catch(err){reject(new FetchError(`Could not create Buffer from response body for ${_this4.url}: ${err.message}`,"system",err))}}})})}function isURLSearchParams(obj){return"object"==typeof obj&&"function"==typeof obj.append&&"function"==typeof obj.delete&&"function"==typeof obj.get&&"function"==typeof obj.getAll&&"function"==typeof obj.has&&"function"==typeof obj.set&&("URLSearchParams"===obj.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(obj)||"function"==typeof obj.sort)}function isBlob(obj){return"object"==typeof obj&&"function"==typeof obj.arrayBuffer&&"string"==typeof obj.type&&"function"==typeof obj.stream&&"function"==typeof obj.constructor&&"string"==typeof obj.constructor.name&&/^(Blob|File)$/.test(obj.constructor.name)&&/^(Blob|File)$/.test(obj[Symbol.toStringTag])}function clone(instance){let p1,p2,body=instance.body;if(instance.bodyUsed)throw new Error("cannot clone body after it is used");return body instanceof stream__WEBPACK_IMPORTED_MODULE_0___default.a&&"function"!=typeof body.getBoundary&&(p1=new PassThrough,p2=new PassThrough,body.pipe(p1),body.pipe(p2),instance[INTERNALS].body=p1,body=p2),body}function extractContentType(body){return null===body?null:"string"==typeof body?"text/plain;charset=UTF-8":isURLSearchParams(body)?"application/x-www-form-urlencoded;charset=UTF-8":isBlob(body)?body.type||null:Buffer.isBuffer(body)?null:"[object ArrayBuffer]"===Object.prototype.toString.call(body)?null:ArrayBuffer.isView(body)?null:"function"==typeof body.getBoundary?`multipart/form-data;boundary=${body.getBoundary()}`:body instanceof stream__WEBPACK_IMPORTED_MODULE_0___default.a?null:"text/plain;charset=UTF-8"}function getTotalBytes(instance){const body=instance.body;return null===body?0:isBlob(body)?body.size:Buffer.isBuffer(body)?body.length:body&&"function"==typeof body.getLengthSync&&(body._lengthRetrievers&&0==body._lengthRetrievers.length||body.hasKnownLength&&body.hasKnownLength())?body.getLengthSync():null}Body.prototype={get body(){return this[INTERNALS].body},get bodyUsed(){return this[INTERNALS].disturbed},arrayBuffer(){return consumeBody.call(this).then(function(buf){return buf.buffer.slice(buf.byteOffset,buf.byteOffset+buf.byteLength)})},blob(){let ct=this.headers&&this.headers.get("content-type")||"";return consumeBody.call(this).then(function(buf){return Object.assign(new Blob([],{type:ct.toLowerCase()}),{[BUFFER]:buf})})},json(){var _this2=this;return consumeBody.call(this).then(function(buffer){try{return JSON.parse(buffer.toString())}catch(err){return Body.Promise.reject(new FetchError(`invalid json response body at ${_this2.url} reason: ${err.message}`,"invalid-json"))}})},text(){return consumeBody.call(this).then(function(buffer){return buffer.toString()})},buffer(){return consumeBody.call(this)},textConverted(){var _this3=this;return consumeBody.call(this).then(function(buffer){return function(buffer,headers){if("function"!=typeof convert)throw new Error("The package `encoding` must be installed to use the textConverted() function");const ct=headers.get("content-type");let res,str,charset="utf-8";ct&&(res=/charset=([^;]*)/i.exec(ct));str=buffer.slice(0,1024).toString(),!res&&str&&(res=/<meta.+?charset=(['"])(.+?)\1/i.exec(str));!res&&str&&(res=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(str))&&(res=/charset=(.*)/i.exec(res.pop()));!res&&str&&(res=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(str));res&&("gb2312"!==(charset=res.pop())&&"gbk"!==charset||(charset="gb18030"));return convert(buffer,"UTF-8",charset).toString()}(buffer,_this3.headers)})}},Object.defineProperties(Body.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),Body.mixIn=function(proto){for(const name of Object.getOwnPropertyNames(Body.prototype))if(!(name in proto)){const desc=Object.getOwnPropertyDescriptor(Body.prototype,name);Object.defineProperty(proto,name,desc)}},Body.Promise=global.Promise;const invalidTokenRegex=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,invalidHeaderCharRegex=/[^\t\x20-\x7e\x80-\xff]/;function validateName(name){if(name=`${name}`,invalidTokenRegex.test(name)||""===name)throw new TypeError(`${name} is not a legal HTTP header name`)}function validateValue(value){if(value=`${value}`,invalidHeaderCharRegex.test(value))throw new TypeError(`${value} is not a legal HTTP header value`)}function find(map,name){name=name.toLowerCase();for(const key in map)if(key.toLowerCase()===name)return key}const MAP=Symbol("map");class Headers{constructor(){let init=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[MAP]=Object.create(null),init instanceof Headers){const rawHeaders=init.raw(),headerNames=Object.keys(rawHeaders);for(const headerName of headerNames)for(const value of rawHeaders[headerName])this.append(headerName,value)}else if(null==init);else{if("object"!=typeof init)throw new TypeError("Provided initializer must be an object");{const method=init[Symbol.iterator];if(null!=method){if("function"!=typeof method)throw new TypeError("Header pairs must be iterable");const pairs=[];for(const pair of init){if("object"!=typeof pair||"function"!=typeof pair[Symbol.iterator])throw new TypeError("Each header pair must be iterable");pairs.push(Array.from(pair))}for(const pair of pairs){if(2!==pair.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(pair[0],pair[1])}}else for(const key of Object.keys(init)){const value=init[key];this.append(key,value)}}}}get(name){validateName(name=`${name}`);const key=find(this[MAP],name);return void 0===key?null:this[MAP][key].join(", ")}forEach(callback){let thisArg=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,pairs=getHeaders(this),i=0;for(;i<pairs.length;){var _pairs$i=pairs[i];const name=_pairs$i[0],value=_pairs$i[1];callback.call(thisArg,value,name,this),pairs=getHeaders(this),i++}}set(name,value){value=`${value}`,validateName(name=`${name}`),validateValue(value);const key=find(this[MAP],name);this[MAP][void 0!==key?key:name]=[value]}append(name,value){value=`${value}`,validateName(name=`${name}`),validateValue(value);const key=find(this[MAP],name);void 0!==key?this[MAP][key].push(value):this[MAP][name]=[value]}has(name){return validateName(name=`${name}`),void 0!==find(this[MAP],name)}delete(name){validateName(name=`${name}`);const key=find(this[MAP],name);void 0!==key&&delete this[MAP][key]}raw(){return this[MAP]}keys(){return createHeadersIterator(this,"key")}values(){return createHeadersIterator(this,"value")}[Symbol.iterator](){return createHeadersIterator(this,"key+value")}}function getHeaders(headers){let kind=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";return Object.keys(headers[MAP]).sort().map("key"===kind?function(k){return k.toLowerCase()}:"value"===kind?function(k){return headers[MAP][k].join(", ")}:function(k){return[k.toLowerCase(),headers[MAP][k].join(", ")]})}Headers.prototype.entries=Headers.prototype[Symbol.iterator],Object.defineProperty(Headers.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(Headers.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const INTERNAL=Symbol("internal");function createHeadersIterator(target,kind){const iterator=Object.create(HeadersIteratorPrototype);return iterator[INTERNAL]={target:target,kind:kind,index:0},iterator}const HeadersIteratorPrototype=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==HeadersIteratorPrototype)throw new TypeError("Value of `this` is not a HeadersIterator");var _INTERNAL=this[INTERNAL];const target=_INTERNAL.target,kind=_INTERNAL.kind,index=_INTERNAL.index,values=getHeaders(target,kind);return index>=values.length?{value:void 0,done:!0}:(this[INTERNAL].index=index+1,{value:values[index],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function exportNodeCompatibleHeaders(headers){const obj=Object.assign({__proto__:null},headers[MAP]),hostHeaderKey=find(headers[MAP],"Host");return void 0!==hostHeaderKey&&(obj[hostHeaderKey]=obj[hostHeaderKey][0]),obj}Object.defineProperty(HeadersIteratorPrototype,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});const INTERNALS$1=Symbol("Response internals"),STATUS_CODES=http__WEBPACK_IMPORTED_MODULE_1___default.a.STATUS_CODES;class Response{constructor(){let body=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Body.call(this,body,opts);const status=opts.status||200,headers=new Headers(opts.headers);if(null!=body&&!headers.has("Content-Type")){const contentType=extractContentType(body);contentType&&headers.append("Content-Type",contentType)}this[INTERNALS$1]={url:opts.url,status:status,statusText:opts.statusText||STATUS_CODES[status],headers:headers,counter:opts.counter}}get url(){return this[INTERNALS$1].url||""}get status(){return this[INTERNALS$1].status}get ok(){return this[INTERNALS$1].status>=200&&this[INTERNALS$1].status<300}get redirected(){return this[INTERNALS$1].counter>0}get statusText(){return this[INTERNALS$1].statusText}get headers(){return this[INTERNALS$1].headers}clone(){return new Response(clone(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}Body.mixIn(Response.prototype),Object.defineProperties(Response.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(Response.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});const INTERNALS$2=Symbol("Request internals"),parse_url=url__WEBPACK_IMPORTED_MODULE_2___default.a.parse,format_url=url__WEBPACK_IMPORTED_MODULE_2___default.a.format,streamDestructionSupported="destroy"in stream__WEBPACK_IMPORTED_MODULE_0___default.a.Readable.prototype;function isRequest(input){return"object"==typeof input&&"object"==typeof input[INTERNALS$2]}class Request{constructor(input){let parsedURL,init=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};isRequest(input)?parsedURL=parse_url(input.url):(parsedURL=input&&input.href?parse_url(input.href):parse_url(`${input}`),input={});let method=init.method||input.method||"GET";if(method=method.toUpperCase(),(null!=init.body||isRequest(input)&&null!==input.body)&&("GET"===method||"HEAD"===method))throw new TypeError("Request with GET/HEAD method cannot have body");let inputBody=null!=init.body?init.body:isRequest(input)&&null!==input.body?clone(input):null;Body.call(this,inputBody,{timeout:init.timeout||input.timeout||0,size:init.size||input.size||0});const headers=new Headers(init.headers||input.headers||{});if(null!=inputBody&&!headers.has("Content-Type")){const contentType=extractContentType(inputBody);contentType&&headers.append("Content-Type",contentType)}let signal=isRequest(input)?input.signal:null;if("signal"in init&&(signal=init.signal),null!=signal&&!function(signal){const proto=signal&&"object"==typeof signal&&Object.getPrototypeOf(signal);return!(!proto||"AbortSignal"!==proto.constructor.name)}(signal))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[INTERNALS$2]={method:method,redirect:init.redirect||input.redirect||"follow",headers:headers,parsedURL:parsedURL,signal:signal},this.follow=void 0!==init.follow?init.follow:void 0!==input.follow?input.follow:20,this.compress=void 0!==init.compress?init.compress:void 0===input.compress||input.compress,this.counter=init.counter||input.counter||0,this.agent=init.agent||input.agent}get method(){return this[INTERNALS$2].method}get url(){return format_url(this[INTERNALS$2].parsedURL)}get headers(){return this[INTERNALS$2].headers}get redirect(){return this[INTERNALS$2].redirect}get signal(){return this[INTERNALS$2].signal}clone(){return new Request(this)}}function AbortError(message){Error.call(this,message),this.type="aborted",this.message=message,Error.captureStackTrace(this,this.constructor)}Body.mixIn(Request.prototype),Object.defineProperty(Request.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(Request.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),AbortError.prototype=Object.create(Error.prototype),AbortError.prototype.constructor=AbortError,AbortError.prototype.name="AbortError";const PassThrough$1=stream__WEBPACK_IMPORTED_MODULE_0___default.a.PassThrough,resolve_url=url__WEBPACK_IMPORTED_MODULE_2___default.a.resolve;function fetch(url,opts){if(!fetch.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return Body.Promise=fetch.Promise,new fetch.Promise(function(resolve,reject){const request=new Request(url,opts),options=function(request){const parsedURL=request[INTERNALS$2].parsedURL,headers=new Headers(request[INTERNALS$2].headers);if(headers.has("Accept")||headers.set("Accept","*/*"),!parsedURL.protocol||!parsedURL.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(parsedURL.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(request.signal&&request.body instanceof stream__WEBPACK_IMPORTED_MODULE_0___default.a.Readable&&!streamDestructionSupported)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let contentLengthValue=null;if(null==request.body&&/^(POST|PUT)$/i.test(request.method)&&(contentLengthValue="0"),null!=request.body){const totalBytes=getTotalBytes(request);"number"==typeof totalBytes&&(contentLengthValue=String(totalBytes))}contentLengthValue&&headers.set("Content-Length",contentLengthValue),headers.has("User-Agent")||headers.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),request.compress&&!headers.has("Accept-Encoding")&&headers.set("Accept-Encoding","gzip,deflate");let agent=request.agent;return"function"==typeof agent&&(agent=agent(parsedURL)),headers.has("Connection")||agent||headers.set("Connection","close"),Object.assign({},parsedURL,{method:request.method,headers:exportNodeCompatibleHeaders(headers),agent:agent})}(request),send=("https:"===options.protocol?https__WEBPACK_IMPORTED_MODULE_3___default.a:http__WEBPACK_IMPORTED_MODULE_1___default.a).request,signal=request.signal;let response=null;const abort=function(){let error=new AbortError("The user aborted a request.");reject(error),request.body&&request.body instanceof stream__WEBPACK_IMPORTED_MODULE_0___default.a.Readable&&request.body.destroy(error),response&&response.body&&response.body.emit("error",error)};if(signal&&signal.aborted)return void abort();const abortAndFinalize=function(){abort(),finalize()},req=send(options);let reqTimeout;function finalize(){req.abort(),signal&&signal.removeEventListener("abort",abortAndFinalize),clearTimeout(reqTimeout)}signal&&signal.addEventListener("abort",abortAndFinalize),request.timeout&&req.once("socket",function(socket){reqTimeout=setTimeout(function(){reject(new FetchError(`network timeout at: ${request.url}`,"request-timeout")),finalize()},request.timeout)}),req.on("error",function(err){reject(new FetchError(`request to ${request.url} failed, reason: ${err.message}`,"system",err)),finalize()}),req.on("response",function(res){clearTimeout(reqTimeout);const headers=function(obj){const headers=new Headers;for(const name of Object.keys(obj))if(!invalidTokenRegex.test(name))if(Array.isArray(obj[name]))for(const val of obj[name])invalidHeaderCharRegex.test(val)||(void 0===headers[MAP][name]?headers[MAP][name]=[val]:headers[MAP][name].push(val));else invalidHeaderCharRegex.test(obj[name])||(headers[MAP][name]=[obj[name]]);return headers}(res.headers);if(fetch.isRedirect(res.statusCode)){const location=headers.get("Location"),locationURL=null===location?null:resolve_url(request.url,location);switch(request.redirect){case"error":return reject(new FetchError(`redirect mode is set to error: ${request.url}`,"no-redirect")),void finalize();case"manual":if(null!==locationURL)try{headers.set("Location",locationURL)}catch(err){reject(err)}break;case"follow":if(null===locationURL)break;if(request.counter>=request.follow)return reject(new FetchError(`maximum redirect reached at: ${request.url}`,"max-redirect")),void finalize();const requestOpts={headers:new Headers(request.headers),follow:request.follow,counter:request.counter+1,agent:request.agent,compress:request.compress,method:request.method,body:request.body,signal:request.signal,timeout:request.timeout};return 303!==res.statusCode&&request.body&&null===getTotalBytes(request)?(reject(new FetchError("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void finalize()):(303!==res.statusCode&&(301!==res.statusCode&&302!==res.statusCode||"POST"!==request.method)||(requestOpts.method="GET",requestOpts.body=void 0,requestOpts.headers.delete("content-length")),resolve(fetch(new Request(locationURL,requestOpts))),void finalize())}}res.once("end",function(){signal&&signal.removeEventListener("abort",abortAndFinalize)});let body=res.pipe(new PassThrough$1);const response_options={url:request.url,status:res.statusCode,statusText:res.statusMessage,headers:headers,size:request.size,timeout:request.timeout,counter:request.counter},codings=headers.get("Content-Encoding");if(!request.compress||"HEAD"===request.method||null===codings||204===res.statusCode||304===res.statusCode)return response=new Response(body,response_options),void resolve(response);const zlibOptions={flush:zlib__WEBPACK_IMPORTED_MODULE_4___default.a.Z_SYNC_FLUSH,finishFlush:zlib__WEBPACK_IMPORTED_MODULE_4___default.a.Z_SYNC_FLUSH};if("gzip"==codings||"x-gzip"==codings)return body=body.pipe(zlib__WEBPACK_IMPORTED_MODULE_4___default.a.createGunzip(zlibOptions)),response=new Response(body,response_options),void resolve(response);if("deflate"!=codings&&"x-deflate"!=codings){if("br"==codings&&"function"==typeof zlib__WEBPACK_IMPORTED_MODULE_4___default.a.createBrotliDecompress)return body=body.pipe(zlib__WEBPACK_IMPORTED_MODULE_4___default.a.createBrotliDecompress()),response=new Response(body,response_options),void resolve(response);response=new Response(body,response_options),resolve(response)}else{res.pipe(new PassThrough$1).once("data",function(chunk){body=8==(15&chunk[0])?body.pipe(zlib__WEBPACK_IMPORTED_MODULE_4___default.a.createInflate()):body.pipe(zlib__WEBPACK_IMPORTED_MODULE_4___default.a.createInflateRaw()),response=new Response(body,response_options),resolve(response)})}}),function(dest,instance){const body=instance.body;null===body?dest.end():isBlob(body)?body.stream().pipe(dest):Buffer.isBuffer(body)?(dest.write(body),dest.end()):body.pipe(dest)}(req,request)})}fetch.isRedirect=function(code){return 301===code||302===code||303===code||307===code||308===code},fetch.Promise=global.Promise,__webpack_exports__.a=fetch},function(module,exports){module.exports=require("os")},function(module,exports){var isES5=function(){"use strict";return void 0===this}();if(isES5)module.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:isES5,propertyIsWritable:function(obj,prop){var descriptor=Object.getOwnPropertyDescriptor(obj,prop);return!(descriptor&&!descriptor.writable&&!descriptor.set)}};else{var has={}.hasOwnProperty,str={}.toString,proto={}.constructor.prototype,ObjectKeys=function(o){var ret=[];for(var key in o)has.call(o,key)&&ret.push(key);return ret};module.exports={isArray:function(obj){try{return"[object Array]"===str.call(obj)}catch(e){return!1}},keys:ObjectKeys,names:ObjectKeys,defineProperty:function(o,key,desc){return o[key]=desc.value,o},getDescriptor:function(o,key){return{value:o[key]}},freeze:function(obj){return obj},getPrototypeOf:function(obj){try{return Object(obj).constructor.prototype}catch(e){return proto}},isES5:isES5,propertyIsWritable:function(){return!0}}}},function(module,exports){function objectToString(o){return Object.prototype.toString.call(o)}exports.isArray=function(arg){return Array.isArray?Array.isArray(arg):"[object Array]"===objectToString(arg)},exports.isBoolean=function(arg){return"boolean"==typeof arg},exports.isNull=function(arg){return null===arg},exports.isNullOrUndefined=function(arg){return null==arg},exports.isNumber=function(arg){return"number"==typeof arg},exports.isString=function(arg){return"string"==typeof arg},exports.isSymbol=function(arg){return"symbol"==typeof arg},exports.isUndefined=function(arg){return void 0===arg},exports.isRegExp=function(re){return"[object RegExp]"===objectToString(re)},exports.isObject=function(arg){return"object"==typeof arg&&null!==arg},exports.isDate=function(d){return"[object Date]"===objectToString(d)},exports.isError=function(e){return"[object Error]"===objectToString(e)||e instanceof Error},exports.isFunction=function(arg){return"function"==typeof arg},exports.isPrimitive=function(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||void 0===arg},exports.isBuffer=Buffer.isBuffer},function(module,exports,__webpack_require__){"use strict";var stringify=__webpack_require__(503),parse=__webpack_require__(504),formats=__webpack_require__(307);module.exports={formats:formats,parse:parse,stringify:stringify}},function(module,exports,__webpack_require__){var ElementType=__webpack_require__(197),entities=__webpack_require__(1058),unencodedElements={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0};var singleTag={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},render=module.exports=function(dom,opts){Array.isArray(dom)||dom.cheerio||(dom=[dom]),opts=opts||{};for(var output="",i=0;i<dom.length;i++){var elem=dom[i];"root"===elem.type?output+=render(elem.children,opts):ElementType.isTag(elem)?output+=renderTag(elem,opts):elem.type===ElementType.Directive?output+=renderDirective(elem):elem.type===ElementType.Comment?output+=renderComment(elem):elem.type===ElementType.CDATA?output+=renderCdata(elem):output+=renderText(elem,opts)}return output};function renderTag(elem,opts){"svg"===elem.name&&(opts={decodeEntities:opts.decodeEntities,xmlMode:!0});var tag="<"+elem.name,attribs=function(attributes,opts){if(attributes){var value,output="";for(var key in attributes)output&&(output+=" "),output+=key,(null!==(value=attributes[key])&&""!==value||opts.xmlMode)&&(output+='="'+(opts.decodeEntities?entities.encodeXML(value):value)+'"');return output}}(elem.attribs,opts);return attribs&&(tag+=" "+attribs),!opts.xmlMode||elem.children&&0!==elem.children.length?(tag+=">",elem.children&&(tag+=render(elem.children,opts)),singleTag[elem.name]&&!opts.xmlMode||(tag+="</"+elem.name+">")):tag+="/>",tag}function renderDirective(elem){return"<"+elem.data+">"}function renderText(elem,opts){var data=elem.data||"";return!opts.decodeEntities||elem.parent&&elem.parent.name in unencodedElements||(data=entities.encodeXML(data)),data}function renderCdata(elem){return"<![CDATA["+elem.children[0].data+"]]>"}function renderComment(elem){return"\x3c!--"+elem.data+"--\x3e"}},function(module,exports,__webpack_require__){var baseRest=__webpack_require__(63),isIterateeCall=__webpack_require__(144);module.exports=function(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:void 0,guard=length>2?sources[2]:void 0;for(customizer=assigner.length>3&&"function"==typeof customizer?(length--,customizer):void 0,guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=length<3?void 0:customizer,length=1),object=Object(object);++index<length;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object})}},function(module,exports){module.exports=function(array,predicate,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}},function(module,exports,__webpack_require__){const omit=__webpack_require__(98),pick=__webpack_require__(164),size=__webpack_require__(280),omitBy=__webpack_require__(473),isUndefined=__webpack_require__(401),fromPairs=__webpack_require__(92),pickBy=__webpack_require__(147),flatMap=__webpack_require__(417),groupBy=__webpack_require__(41),sortBy=__webpack_require__(74),get=__webpack_require__(11),{parallelMap:parallelMap}=__webpack_require__(1374),log=__webpack_require__(58).namespace("Document"),querystring=__webpack_require__(186),DATABASE_DOES_NOT_EXIST="Database does not exist.";const indexes={},userAttributes=["shortLabel"];function sanitizeKey(key){return key.startsWith("\\")?key.slice(1):key}const withoutUndefined=x=>omitBy(x,isUndefined),flagForDeletion=x=>Object.assign({},x,{_deleted:!0});module.exports=class{static registerClient(client){if(this.cozyClient)throw console.warn("Document already has been registered, this is not possible to re-register as the client is shared globally between all classes. This is to prevent concurrency bugs."),new Error("Document cannot be re-registered to a client.");this.cozyClient=client}static getIndex(doctype,fields){const key=`${doctype}:${fields.slice().join(",")}`;return indexes[key]||(indexes[key]=this.cozyClient.data.defineIndex(doctype,fields).then(index=>(indexes[key]=index,index))),Promise.resolve(indexes[key])}static addCozyMetadata(attributes){return attributes.cozyMetadata||(attributes.cozyMetadata={}),attributes.cozyMetadata.updatedAt=new Date,!attributes.cozyMetadata.createdByApp&&this.createdByApp&&(attributes.cozyMetadata.createdByApp=this.createdByApp),this.createdByApp&&function(cozyMetadata,appSlug){cozyMetadata.updatedByApps||(cozyMetadata.updatedByApps=[]);const now=new Date;for(const appInfo of cozyMetadata.updatedByApps)if(appInfo.slug===appSlug)return void(appInfo.date=now);cozyMetadata.updatedByApps.push({slug:appSlug,date:now})}(attributes.cozyMetadata,this.createdByApp),attributes}static async createOrUpdate(attributes){const selector=fromPairs(this.idAttributes.map(idAttribute=>[idAttribute,get(attributes,sanitizeKey(idAttribute))]));let results=[];const compactedSelector=withoutUndefined(selector);if(size(compactedSelector)===this.idAttributes.length){const index=await this.getIndex(this.doctype,this.idAttributes);results=await this.cozyClient.data.query(index,{selector:selector})}if(0===results.length)return this.cozyClient.data.create(this.doctype,this.addCozyMetadata(attributes));if(1===results.length){const id=results[0]._id,update=omit(attributes,userAttributes);return!this.checkAttributes||function(o1,o2){if(0===Object.keys(o1).length)return!0;for(let key in o1)if(o1[key]!==o2[key])return!0;return!1}(pick(results[0],this.checkAttributes),pick(update,this.checkAttributes))?(delete update.dateImport,this.cozyClient.data.updateAttributes(this.doctype,id,this.addCozyMetadata(update))):(log("debug",`[bulkSave] Didn't update ${results[0]._id} because its \`checkedAttributes\` (${this.checkAttributes}) didn't change.`),results[0])}throw new Error("Create or update with selectors that returns more than 1 result\n"+JSON.stringify(selector)+"\n"+JSON.stringify(results))}static create(attributes){return this.cozyClient.data.create(this.doctype,attributes)}static bulkSave(documents,concurrency,logProgress){return parallelMap(documents,doc=>(logProgress&&logProgress(doc),this.createOrUpdate(doc)),concurrency=concurrency||30)}static query(index,options){return this.cozyClient.data.query(index,options)}static async fetchAll(){try{return(await this.cozyClient.fetchJSON("GET",`/data/${this.doctype}/_all_docs?include_docs=true`)).rows.filter(x=>0!==x.id.indexOf("_design")&&x.doc).map(x=>x.doc)}catch(e){return e&&e.response&&e.response.status&&e.response.status,[]}}static async updateAll(docs){if(!docs||!docs.length)return Promise.resolve([]);try{return await this.cozyClient.fetchJSON("POST",`/data/${this.doctype}/_bulk_docs`,{docs:docs})}catch(e){if(e.reason&&e.reason.reason&&e.reason.reason==DATABASE_DOES_NOT_EXIST){const firstDoc=await this.create(docs[0]),resp=await this.updateAll(docs.slice(1));return resp.unshift({ok:!0,id:firstDoc._id,rev:firstDoc._rev}),resp}throw e}}static async deleteAll(docs){return this.updateAll(docs.map(flagForDeletion))}static findDuplicates(docs){const idAttributes=this.idAttributes,groups=pickBy(groupBy(docs,doc=>idAttributes.map(idAttrPath=>get(doc,idAttrPath)).join("#$$$$#")),group=>group.length>1);return flatMap(groups,group=>group.slice(1))}static async deleteDuplicates(priorityFn){let allDocs=await this.fetchAll();priorityFn&&(allDocs=sortBy(allDocs,priorityFn));const duplicates=this.findDuplicates(allDocs);return this.deleteAll(duplicates)}static async fetchChanges(since,options={}){const queryParams={since:since,include_docs:"true"};options.params&&Object.assign(queryParams,options.params);const result=await this.cozyClient.fetchJSON("GET",`/data/${this.doctype}/_changes?${querystring.stringify(queryParams)}`),newLastSeq=result.last_seq;let docs=result.results.map(x=>x.doc).filter(Boolean);return options.includeDesign||(docs=docs.filter(doc=>0!==doc._id.indexOf("_design"))),options.includeDeleted||(docs=docs.filter(doc=>!doc._deleted)),{newLastSeq:newLastSeq,documents:docs}}static async queryAll(selector,index){if(!selector)return await this.fetchAll();index||(index=await this.cozyClient.data.defineIndex(this.doctype,Object.keys(selector)));const result=[];let resp={next:!0};for(;resp&&resp.next;)resp=await this.cozyClient.data.query(index,{selector:selector,wholeResponse:!0,skip:result.length}),result.push(...resp.docs);return result}static async getAll(ids){let resp;try{resp=await this.cozyClient.fetchJSON("POST",`/data/${this.doctype}/_all_docs?include_docs=true`,{keys:ids})}catch(error){if(error.message.match(/not_found/))return[];throw error}return resp.rows.filter(row=>row.doc).map(row=>row.doc)}}},function(module,exports){module.exports=function(array,start,end){var index=-1,length=array.length;start<0&&(start=-start>length?0:length+start),(end=end>length?length:end)<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}},function(module,exports,__webpack_require__){"use strict";class PDFString{constructor(str){this.str=str}toHexString(){let hex="";for(let i=0,len=this.str.length;i<len;++i){let h=(this.str.charCodeAt(i)-31).toString(16);hex+=h=("0000"+h).slice(-4)}return"<"+hex+">"}toString(){return"("+this.str.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")+")"}static parse(xref,lexer,trial){const literal=PDFString.parseLiteral(lexer,trial),hex=void 0===literal&&PDFString.parseHex(lexer,trial);if(!literal&&!hex){if(trial)return;throw new Error("Invalid string")}return literal||hex}static parseLiteral(lexer,trial){if("("!==lexer.getString(1)){if(trial)return;throw new Error("Invalid literal string")}lexer.shift(1);let c,str="",done=!1,open=0;for(;!done&&(c=lexer._nextCharCode())>=0;)switch(c){case 40:open++,str+=String.fromCharCode("(");break;case 41:0===open?done=!0:(open--,str+=String.fromCharCode(")"));break;case 92:switch(c=lexer._nextCharCode()){case 110:str+="\n";break;case 114:str+="\r";break;case 116:str+="\t";break;case 98:str+="\b";break;case 102:str+="\f";break;case 40:case 41:case 92:str+=String.fromCharCode(c);break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:const oct=String.fromCharCode(c)+lexer.readString(2);str+=String.fromCharCode(parseInt(oct,8));break;default:lexer.shift(-1)}break;case 13:case 10:lexer.skipEOL(1);break;default:str+=String.fromCharCode(c)}return new PDFString(str)}static parseHex(lexer,trial){if("<"!==lexer.getString(1)){if(trial)return;throw new Error("Invalid hex string")}lexer.shift(1);let str="",done=!1;const digits=[],addCharacter=function(force){if(2!==digits.length){if(1!==digits.length||!force)return;digits.push("0")}str+=String.fromCharCode(parseInt(digits.join(""),16)),digits.length=0};let c;for(;!done&&(c=lexer._nextCharCode())>=0;)switch(!0){case 62===c:done=!0;break;case c>=48&&c<=57:case c>=65&&c<=90:case c>=97&&c<=122:digits.push(String.fromCharCode(c)),addCharacter();break;case lexer.isWhiteSpace(c):break;default:lexer._warning("invalid character `"+String.fromCharCode(c)+"` in hex string")}return addCharacter(!0),new PDFString(str)}}module.exports=PDFString},function(module,exports,__webpack_require__){"use strict";class PDFName{constructor(name){if(!name)throw new Error("A Name cannot be undefined");if(name instanceof PDFName)return name;if("/"===name[0]&&(name=name.substr(1)),name.match(/[\x00]/))throw new Error("A Name mustn't contain the null characters");if(name.match(/[\(\)<>\[\]\{\}\/\%]/))throw new Error("A Name mustn't contain delimiter characters");name=(name=name.toString()).replace(/[^\x21-\x7e]/g,function(c){let code=c.charCodeAt(0);return code>255&&(code=95),"#"+code}),this.name=name}toString(){return"/"+this.name}static parse(xref,lexer,trial){if("/"!==lexer.getString(1)){if(trial)return;throw new Error("Invalid name")}lexer.shift(1);let c,name="",done=!1;for(;!done&&(c=lexer._nextCharCode())>=0;)switch(!0){case 40===c:case 41===c:case 60===c:case 62===c:case 91===c:case 93===c:case 123===c:case 125===c:case 47===c:case 37===c:done=!0;break;case 35===c:const hex=lexer.readString(2);name+=String.fromCharCode(parseInt(hex,16));break;case c>=34&&c<=126:name+=String.fromCharCode(c);break;default:done=!0}return lexer.shift(-1),new PDFName(name)}}module.exports=PDFName},,,function(module,exports,__webpack_require__){var g=function(){return this||"object"==typeof self&&self}()||Function("return this")(),hadRuntime=g.regeneratorRuntime&&Object.getOwnPropertyNames(g).indexOf("regeneratorRuntime")>=0,oldRuntime=hadRuntime&&g.regeneratorRuntime;if(g.regeneratorRuntime=void 0,module.exports=__webpack_require__(492),hadRuntime)g.regeneratorRuntime=oldRuntime;else try{delete g.regeneratorRuntime}catch(e){g.regeneratorRuntime=void 0}},function(module,exports,__webpack_require__){var cssKeywords=__webpack_require__(495),reverseKeywords={};for(var key in cssKeywords)cssKeywords.hasOwnProperty(key)&&(reverseKeywords[cssKeywords[key]]=key);var convert=module.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var model in convert)if(convert.hasOwnProperty(model)){if(!("channels"in convert[model]))throw new Error("missing channels property: "+model);if(!("labels"in convert[model]))throw new Error("missing channel labels property: "+model);if(convert[model].labels.length!==convert[model].channels)throw new Error("channel and label counts mismatch: "+model);var channels=convert[model].channels,labels=convert[model].labels;delete convert[model].channels,delete convert[model].labels,Object.defineProperty(convert[model],"channels",{value:channels}),Object.defineProperty(convert[model],"labels",{value:labels})}convert.rgb.hsl=function(rgb){var h,l,r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,min=Math.min(r,g,b),max=Math.max(r,g,b),delta=max-min;return max===min?h=0:r===max?h=(g-b)/delta:g===max?h=2+(b-r)/delta:b===max&&(h=4+(r-g)/delta),(h=Math.min(60*h,360))<0&&(h+=360),l=(min+max)/2,[h,100*(max===min?0:l<=.5?delta/(max+min):delta/(2-max-min)),100*l]},convert.rgb.hsv=function(rgb){var rdif,gdif,bdif,h,s,r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,v=Math.max(r,g,b),diff=v-Math.min(r,g,b),diffc=function(c){return(v-c)/6/diff+.5};return 0===diff?h=s=0:(s=diff/v,rdif=diffc(r),gdif=diffc(g),bdif=diffc(b),r===v?h=bdif-gdif:g===v?h=1/3+rdif-bdif:b===v&&(h=2/3+gdif-rdif),h<0?h+=1:h>1&&(h-=1)),[360*h,100*s,100*v]},convert.rgb.hwb=function(rgb){var r=rgb[0],g=rgb[1],b=rgb[2];return[convert.rgb.hsl(rgb)[0],100*(1/255*Math.min(r,Math.min(g,b))),100*(b=1-1/255*Math.max(r,Math.max(g,b)))]},convert.rgb.cmyk=function(rgb){var k,r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255;return[100*((1-r-(k=Math.min(1-r,1-g,1-b)))/(1-k)||0),100*((1-g-k)/(1-k)||0),100*((1-b-k)/(1-k)||0),100*k]},convert.rgb.keyword=function(rgb){var reversed=reverseKeywords[rgb];if(reversed)return reversed;var currentClosestKeyword,x,y,currentClosestDistance=1/0;for(var keyword in cssKeywords)if(cssKeywords.hasOwnProperty(keyword)){var value=cssKeywords[keyword],distance=(x=rgb,y=value,Math.pow(x[0]-y[0],2)+Math.pow(x[1]-y[1],2)+Math.pow(x[2]-y[2],2));distance<currentClosestDistance&&(currentClosestDistance=distance,currentClosestKeyword=keyword)}return currentClosestKeyword},convert.keyword.rgb=function(keyword){return cssKeywords[keyword]},convert.rgb.xyz=function(rgb){var r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255;return[100*(.4124*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.3576*(g=g>.04045?Math.pow((g+.055)/1.055,2.4):g/12.92)+.1805*(b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92)),100*(.2126*r+.7152*g+.0722*b),100*(.0193*r+.1192*g+.9505*b)]},convert.rgb.lab=function(rgb){var xyz=convert.rgb.xyz(rgb),x=xyz[0],y=xyz[1],z=xyz[2];return y/=100,z/=108.883,x=(x/=95.047)>.008856?Math.pow(x,1/3):7.787*x+16/116,[116*(y=y>.008856?Math.pow(y,1/3):7.787*y+16/116)-16,500*(x-y),200*(y-(z=z>.008856?Math.pow(z,1/3):7.787*z+16/116))]},convert.hsl.rgb=function(hsl){var t1,t2,t3,rgb,val,h=hsl[0]/360,s=hsl[1]/100,l=hsl[2]/100;if(0===s)return[val=255*l,val,val];t1=2*l-(t2=l<.5?l*(1+s):l+s-l*s),rgb=[0,0,0];for(var i=0;i<3;i++)(t3=h+1/3*-(i-1))<0&&t3++,t3>1&&t3--,val=6*t3<1?t1+6*(t2-t1)*t3:2*t3<1?t2:3*t3<2?t1+(t2-t1)*(2/3-t3)*6:t1,rgb[i]=255*val;return rgb},convert.hsl.hsv=function(hsl){var h=hsl[0],s=hsl[1]/100,l=hsl[2]/100,smin=s,lmin=Math.max(l,.01);return s*=(l*=2)<=1?l:2-l,smin*=lmin<=1?lmin:2-lmin,[h,100*(0===l?2*smin/(lmin+smin):2*s/(l+s)),100*((l+s)/2)]},convert.hsv.rgb=function(hsv){var h=hsv[0]/60,s=hsv[1]/100,v=hsv[2]/100,hi=Math.floor(h)%6,f=h-Math.floor(h),p=255*v*(1-s),q=255*v*(1-s*f),t=255*v*(1-s*(1-f));switch(v*=255,hi){case 0:return[v,t,p];case 1:return[q,v,p];case 2:return[p,v,t];case 3:return[p,q,v];case 4:return[t,p,v];case 5:return[v,p,q]}},convert.hsv.hsl=function(hsv){var lmin,sl,l,h=hsv[0],s=hsv[1]/100,v=hsv[2]/100,vmin=Math.max(v,.01);return l=(2-s)*v,sl=s*vmin,[h,100*(sl=(sl/=(lmin=(2-s)*vmin)<=1?lmin:2-lmin)||0),100*(l/=2)]},convert.hwb.rgb=function(hwb){var i,v,f,n,r,g,b,h=hwb[0]/360,wh=hwb[1]/100,bl=hwb[2]/100,ratio=wh+bl;switch(ratio>1&&(wh/=ratio,bl/=ratio),f=6*h-(i=Math.floor(6*h)),0!=(1&i)&&(f=1-f),n=wh+f*((v=1-bl)-wh),i){default:case 6:case 0:r=v,g=n,b=wh;break;case 1:r=n,g=v,b=wh;break;case 2:r=wh,g=v,b=n;break;case 3:r=wh,g=n,b=v;break;case 4:r=n,g=wh,b=v;break;case 5:r=v,g=wh,b=n}return[255*r,255*g,255*b]},convert.cmyk.rgb=function(cmyk){var c=cmyk[0]/100,m=cmyk[1]/100,y=cmyk[2]/100,k=cmyk[3]/100;return[255*(1-Math.min(1,c*(1-k)+k)),255*(1-Math.min(1,m*(1-k)+k)),255*(1-Math.min(1,y*(1-k)+k))]},convert.xyz.rgb=function(xyz){var r,g,b,x=xyz[0]/100,y=xyz[1]/100,z=xyz[2]/100;return g=-.9689*x+1.8758*y+.0415*z,b=.0557*x+-.204*y+1.057*z,r=(r=3.2406*x+-1.5372*y+-.4986*z)>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,g=g>.0031308?1.055*Math.pow(g,1/2.4)-.055:12.92*g,b=b>.0031308?1.055*Math.pow(b,1/2.4)-.055:12.92*b,[255*(r=Math.min(Math.max(0,r),1)),255*(g=Math.min(Math.max(0,g),1)),255*(b=Math.min(Math.max(0,b),1))]},convert.xyz.lab=function(xyz){var x=xyz[0],y=xyz[1],z=xyz[2];return y/=100,z/=108.883,x=(x/=95.047)>.008856?Math.pow(x,1/3):7.787*x+16/116,[116*(y=y>.008856?Math.pow(y,1/3):7.787*y+16/116)-16,500*(x-y),200*(y-(z=z>.008856?Math.pow(z,1/3):7.787*z+16/116))]},convert.lab.xyz=function(lab){var x,y,z,l=lab[0];x=lab[1]/500+(y=(l+16)/116),z=y-lab[2]/200;var y2=Math.pow(y,3),x2=Math.pow(x,3),z2=Math.pow(z,3);return y=y2>.008856?y2:(y-16/116)/7.787,x=x2>.008856?x2:(x-16/116)/7.787,z=z2>.008856?z2:(z-16/116)/7.787,[x*=95.047,y*=100,z*=108.883]},convert.lab.lch=function(lab){var h,l=lab[0],a=lab[1],b=lab[2];return(h=360*Math.atan2(b,a)/2/Math.PI)<0&&(h+=360),[l,Math.sqrt(a*a+b*b),h]},convert.lch.lab=function(lch){var hr,l=lch[0],c=lch[1];return hr=lch[2]/360*2*Math.PI,[l,c*Math.cos(hr),c*Math.sin(hr)]},convert.rgb.ansi16=function(args){var r=args[0],g=args[1],b=args[2],value=1 in arguments?arguments[1]:convert.rgb.hsv(args)[2];if(0===(value=Math.round(value/50)))return 30;var ansi=30+(Math.round(b/255)<<2|Math.round(g/255)<<1|Math.round(r/255));return 2===value&&(ansi+=60),ansi},convert.hsv.ansi16=function(args){return convert.rgb.ansi16(convert.hsv.rgb(args),args[2])},convert.rgb.ansi256=function(args){var r=args[0],g=args[1],b=args[2];return r===g&&g===b?r<8?16:r>248?231:Math.round((r-8)/247*24)+232:16+36*Math.round(r/255*5)+6*Math.round(g/255*5)+Math.round(b/255*5)},convert.ansi16.rgb=function(args){var color=args%10;if(0===color||7===color)return args>50&&(color+=3.5),[color=color/10.5*255,color,color];var mult=.5*(1+~~(args>50));return[(1&color)*mult*255,(color>>1&1)*mult*255,(color>>2&1)*mult*255]},convert.ansi256.rgb=function(args){if(args>=232){var c=10*(args-232)+8;return[c,c,c]}var rem;return args-=16,[Math.floor(args/36)/5*255,Math.floor((rem=args%36)/6)/5*255,rem%6/5*255]},convert.rgb.hex=function(args){var string=(((255&Math.round(args[0]))<<16)+((255&Math.round(args[1]))<<8)+(255&Math.round(args[2]))).toString(16).toUpperCase();return"000000".substring(string.length)+string},convert.hex.rgb=function(args){var match=args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!match)return[0,0,0];var colorString=match[0];3===match[0].length&&(colorString=colorString.split("").map(function(char){return char+char}).join(""));var integer=parseInt(colorString,16);return[integer>>16&255,integer>>8&255,255&integer]},convert.rgb.hcg=function(rgb){var hue,r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,max=Math.max(Math.max(r,g),b),min=Math.min(Math.min(r,g),b),chroma=max-min;return hue=chroma<=0?0:max===r?(g-b)/chroma%6:max===g?2+(b-r)/chroma:4+(r-g)/chroma+4,hue/=6,[360*(hue%=1),100*chroma,100*(chroma<1?min/(1-chroma):0)]},convert.hsl.hcg=function(hsl){var s=hsl[1]/100,l=hsl[2]/100,c=1,f=0;return(c=l<.5?2*s*l:2*s*(1-l))<1&&(f=(l-.5*c)/(1-c)),[hsl[0],100*c,100*f]},convert.hsv.hcg=function(hsv){var s=hsv[1]/100,v=hsv[2]/100,c=s*v,f=0;return c<1&&(f=(v-c)/(1-c)),[hsv[0],100*c,100*f]},convert.hcg.rgb=function(hcg){var h=hcg[0]/360,c=hcg[1]/100,g=hcg[2]/100;if(0===c)return[255*g,255*g,255*g];var mg,pure=[0,0,0],hi=h%1*6,v=hi%1,w=1-v;switch(Math.floor(hi)){case 0:pure[0]=1,pure[1]=v,pure[2]=0;break;case 1:pure[0]=w,pure[1]=1,pure[2]=0;break;case 2:pure[0]=0,pure[1]=1,pure[2]=v;break;case 3:pure[0]=0,pure[1]=w,pure[2]=1;break;case 4:pure[0]=v,pure[1]=0,pure[2]=1;break;default:pure[0]=1,pure[1]=0,pure[2]=w}return mg=(1-c)*g,[255*(c*pure[0]+mg),255*(c*pure[1]+mg),255*(c*pure[2]+mg)]},convert.hcg.hsv=function(hcg){var c=hcg[1]/100,v=c+hcg[2]/100*(1-c),f=0;return v>0&&(f=c/v),[hcg[0],100*f,100*v]},convert.hcg.hsl=function(hcg){var c=hcg[1]/100,l=hcg[2]/100*(1-c)+.5*c,s=0;return l>0&&l<.5?s=c/(2*l):l>=.5&&l<1&&(s=c/(2*(1-l))),[hcg[0],100*s,100*l]},convert.hcg.hwb=function(hcg){var c=hcg[1]/100,v=c+hcg[2]/100*(1-c);return[hcg[0],100*(v-c),100*(1-v)]},convert.hwb.hcg=function(hwb){var w=hwb[1]/100,v=1-hwb[2]/100,c=v-w,g=0;return c<1&&(g=(v-c)/(1-c)),[hwb[0],100*c,100*g]},convert.apple.rgb=function(apple){return[apple[0]/65535*255,apple[1]/65535*255,apple[2]/65535*255]},convert.rgb.apple=function(rgb){return[rgb[0]/255*65535,rgb[1]/255*65535,rgb[2]/255*65535]},convert.gray.rgb=function(args){return[args[0]/100*255,args[0]/100*255,args[0]/100*255]},convert.gray.hsl=convert.gray.hsv=function(args){return[0,0,args[0]]},convert.gray.hwb=function(gray){return[0,100,gray[0]]},convert.gray.cmyk=function(gray){return[0,0,0,gray[0]]},convert.gray.lab=function(gray){return[gray[0],0,0]},convert.gray.hex=function(gray){var val=255&Math.round(gray[0]/100*255),string=((val<<16)+(val<<8)+val).toString(16).toUpperCase();return"000000".substring(string.length)+string},convert.rgb.gray=function(rgb){return[(rgb[0]+rgb[1]+rgb[2])/3/255*100]}},function(module,exports){function serializer(replacer,cycleReplacer){var stack=[],keys=[];return null==cycleReplacer&&(cycleReplacer=function(key,value){return stack[0]===value?"[Circular ~]":"[Circular ~."+keys.slice(0,stack.indexOf(value)).join(".")+"]"}),function(key,value){if(stack.length>0){var thisPos=stack.indexOf(this);~thisPos?stack.splice(thisPos+1):stack.push(this),~thisPos?keys.splice(thisPos,1/0,key):keys.push(key),~stack.indexOf(value)&&(value=cycleReplacer.call(this,key,value))}else stack.push(value);return null==replacer?value:replacer.call(this,key,value)}}(module.exports=function(obj,replacer,spaces,cycleReplacer){return JSON.stringify(obj,serializer(replacer,cycleReplacer),spaces)}).getSerialize=serializer},function(module,exports){var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global;module.exports=freeGlobal},function(module,exports,__webpack_require__){var assert=__webpack_require__(18),sshpk=__webpack_require__(440),util=__webpack_require__(8),HASH_ALGOS={sha1:!0,sha256:!0,sha512:!0},PK_ALGOS={rsa:!0,dsa:!0,ecdsa:!0};function HttpSignatureError(message,caller){Error.captureStackTrace&&Error.captureStackTrace(this,caller||HttpSignatureError),this.message=message,this.name=caller.name}function InvalidAlgorithmError(message){HttpSignatureError.call(this,message,InvalidAlgorithmError)}util.inherits(HttpSignatureError,Error),util.inherits(InvalidAlgorithmError,HttpSignatureError),module.exports={HASH_ALGOS:HASH_ALGOS,PK_ALGOS:PK_ALGOS,HttpSignatureError:HttpSignatureError,InvalidAlgorithmError:InvalidAlgorithmError,validateAlgorithm:function(algorithm){var alg=algorithm.toLowerCase().split("-");if(2!==alg.length)throw new InvalidAlgorithmError(alg[0].toUpperCase()+" is not a valid algorithm");if("hmac"!==alg[0]&&!PK_ALGOS[alg[0]])throw new InvalidAlgorithmError(alg[0].toUpperCase()+" type keys are not supported");if(!HASH_ALGOS[alg[1]])throw new InvalidAlgorithmError(alg[1].toUpperCase()+" is not a supported hash algorithm");return alg},sshKeyToPEM:function(key){return assert.string(key,"ssh_key"),sshpk.parseKey(key,"ssh").toString("pem")},fingerprint:function(key){return assert.string(key,"ssh_key"),sshpk.parseKey(key,"ssh").fingerprint("md5").toString("hex")},pemToRsaSSHKey:function(pem,comment){assert.equal("string",typeof pem,"typeof pem");var k=sshpk.parseKey(pem,"pem");return k.comment=comment,k.toString("ssh")}}},function(module,exports,__webpack_require__){var BigInteger=__webpack_require__(261).BigInteger,Barrett=BigInteger.prototype.Barrett;function ECFieldElementFp(q,x){this.x=x,this.q=q}function ECPointFp(curve,x,y,z){this.curve=curve,this.x=x,this.y=y,this.z=null==z?BigInteger.ONE:z,this.zinv=null}function ECCurveFp(q,a,b){this.q=q,this.a=this.fromBigInteger(a),this.b=this.fromBigInteger(b),this.infinity=new ECPointFp(this,null,null),this.reducer=new Barrett(this.q)}ECFieldElementFp.prototype.equals=function(other){return other==this||this.q.equals(other.q)&&this.x.equals(other.x)},ECFieldElementFp.prototype.toBigInteger=function(){return this.x},ECFieldElementFp.prototype.negate=function(){return new ECFieldElementFp(this.q,this.x.negate().mod(this.q))},ECFieldElementFp.prototype.add=function(b){return new ECFieldElementFp(this.q,this.x.add(b.toBigInteger()).mod(this.q))},ECFieldElementFp.prototype.subtract=function(b){return new ECFieldElementFp(this.q,this.x.subtract(b.toBigInteger()).mod(this.q))},ECFieldElementFp.prototype.multiply=function(b){return new ECFieldElementFp(this.q,this.x.multiply(b.toBigInteger()).mod(this.q))},ECFieldElementFp.prototype.square=function(){return new ECFieldElementFp(this.q,this.x.square().mod(this.q))},ECFieldElementFp.prototype.divide=function(b){return new ECFieldElementFp(this.q,this.x.multiply(b.toBigInteger().modInverse(this.q)).mod(this.q))},ECPointFp.prototype.getX=function(){null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q));var r=this.x.toBigInteger().multiply(this.zinv);return this.curve.reduce(r),this.curve.fromBigInteger(r)},ECPointFp.prototype.getY=function(){null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q));var r=this.y.toBigInteger().multiply(this.zinv);return this.curve.reduce(r),this.curve.fromBigInteger(r)},ECPointFp.prototype.equals=function(other){return other==this||(this.isInfinity()?other.isInfinity():other.isInfinity()?this.isInfinity():!!other.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(other.z)).mod(this.curve.q).equals(BigInteger.ZERO)&&other.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(other.z)).mod(this.curve.q).equals(BigInteger.ZERO))},ECPointFp.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(BigInteger.ZERO)&&!this.y.toBigInteger().equals(BigInteger.ZERO)},ECPointFp.prototype.negate=function(){return new ECPointFp(this.curve,this.x,this.y.negate(),this.z)},ECPointFp.prototype.add=function(b){if(this.isInfinity())return b;if(b.isInfinity())return this;var u=b.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(b.z)).mod(this.curve.q),v=b.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(b.z)).mod(this.curve.q);if(BigInteger.ZERO.equals(v))return BigInteger.ZERO.equals(u)?this.twice():this.curve.getInfinity();var THREE=new BigInteger("3"),x1=this.x.toBigInteger(),y1=this.y.toBigInteger(),v2=(b.x.toBigInteger(),b.y.toBigInteger(),v.square()),v3=v2.multiply(v),x1v2=x1.multiply(v2),zu2=u.square().multiply(this.z),x3=zu2.subtract(x1v2.shiftLeft(1)).multiply(b.z).subtract(v3).multiply(v).mod(this.curve.q),y3=x1v2.multiply(THREE).multiply(u).subtract(y1.multiply(v3)).subtract(zu2.multiply(u)).multiply(b.z).add(u.multiply(v3)).mod(this.curve.q),z3=v3.multiply(this.z).multiply(b.z).mod(this.curve.q);return new ECPointFp(this.curve,this.curve.fromBigInteger(x3),this.curve.fromBigInteger(y3),z3)},ECPointFp.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var THREE=new BigInteger("3"),x1=this.x.toBigInteger(),y1=this.y.toBigInteger(),y1z1=y1.multiply(this.z),y1sqz1=y1z1.multiply(y1).mod(this.curve.q),a=this.curve.a.toBigInteger(),w=x1.square().multiply(THREE);BigInteger.ZERO.equals(a)||(w=w.add(this.z.square().multiply(a)));var x3=(w=w.mod(this.curve.q)).square().subtract(x1.shiftLeft(3).multiply(y1sqz1)).shiftLeft(1).multiply(y1z1).mod(this.curve.q),y3=w.multiply(THREE).multiply(x1).subtract(y1sqz1.shiftLeft(1)).shiftLeft(2).multiply(y1sqz1).subtract(w.square().multiply(w)).mod(this.curve.q),z3=y1z1.square().multiply(y1z1).shiftLeft(3).mod(this.curve.q);return new ECPointFp(this.curve,this.curve.fromBigInteger(x3),this.curve.fromBigInteger(y3),z3)},ECPointFp.prototype.multiply=function(k){if(this.isInfinity())return this;if(0==k.signum())return this.curve.getInfinity();var i,e=k,h=e.multiply(new BigInteger("3")),neg=this.negate(),R=this;for(i=h.bitLength()-2;i>0;--i){R=R.twice();var hBit=h.testBit(i);hBit!=e.testBit(i)&&(R=R.add(hBit?this:neg))}return R},ECPointFp.prototype.multiplyTwo=function(j,x,k){var i;i=j.bitLength()>k.bitLength()?j.bitLength()-1:k.bitLength()-1;for(var R=this.curve.getInfinity(),both=this.add(x);i>=0;)R=R.twice(),j.testBit(i)?R=k.testBit(i)?R.add(both):R.add(this):k.testBit(i)&&(R=R.add(x)),--i;return R},ECCurveFp.prototype.getQ=function(){return this.q},ECCurveFp.prototype.getA=function(){return this.a},ECCurveFp.prototype.getB=function(){return this.b},ECCurveFp.prototype.equals=function(other){return other==this||this.q.equals(other.q)&&this.a.equals(other.a)&&this.b.equals(other.b)},ECCurveFp.prototype.getInfinity=function(){return this.infinity},ECCurveFp.prototype.fromBigInteger=function(x){return new ECFieldElementFp(this.q,x)},ECCurveFp.prototype.reduce=function(x){this.reducer.reduce(x)},ECCurveFp.prototype.encodePointHex=function(p){if(p.isInfinity())return"00";var xHex=p.getX().toBigInteger().toString(16),yHex=p.getY().toBigInteger().toString(16),oLen=this.getQ().toString(16).length;for(oLen%2!=0&&oLen++;xHex.length<oLen;)xHex="0"+xHex;for(;yHex.length<oLen;)yHex="0"+yHex;return"04"+xHex+yHex},ECCurveFp.prototype.decodePointHex=function(s){var yIsEven;switch(parseInt(s.substr(0,2),16)){case 0:return this.infinity;case 2:yIsEven=!1;case 3:null==yIsEven&&(yIsEven=!0);var len=s.length-2,xHex=s.substr(2,len),x=this.fromBigInteger(new BigInteger(xHex,16)),beta=x.multiply(x.square().add(this.getA())).add(this.getB()).sqrt();if(null==beta)throw"Invalid point compression";var betaValue=beta.toBigInteger();return betaValue.testBit(0)!=yIsEven&&(beta=this.fromBigInteger(this.getQ().subtract(betaValue))),new ECPointFp(this,x,beta);case 4:case 6:case 7:len=(s.length-2)/2,xHex=s.substr(2,len);var yHex=s.substr(len+2,len);return new ECPointFp(this,this.fromBigInteger(new BigInteger(xHex,16)),this.fromBigInteger(new BigInteger(yHex,16)));default:return null}},ECCurveFp.prototype.encodeCompressedPointHex=function(p){if(p.isInfinity())return"00";var xHex=p.getX().toBigInteger().toString(16),oLen=this.getQ().toString(16).length;for(oLen%2!=0&&oLen++;xHex.length<oLen;)xHex="0"+xHex;return(p.getY().toBigInteger().isEven()?"02":"03")+xHex},ECFieldElementFp.prototype.getR=function(){if(null!=this.r)return this.r;this.r=null;var bitLength=this.q.bitLength();bitLength>128&&(-1==this.q.shiftRight(bitLength-64).intValue()&&(this.r=BigInteger.ONE.shiftLeft(bitLength).subtract(this.q)));return this.r},ECFieldElementFp.prototype.modMult=function(x1,x2){return this.modReduce(x1.multiply(x2))},ECFieldElementFp.prototype.modReduce=function(x){if(null!=this.getR()){for(var qLen=q.bitLength();x.bitLength()>qLen+1;){var u=x.shiftRight(qLen),v=x.subtract(u.shiftLeft(qLen));this.getR().equals(BigInteger.ONE)||(u=u.multiply(this.getR())),x=u.add(v)}for(;x.compareTo(q)>=0;)x=x.subtract(q)}else x=x.mod(q);return x},ECFieldElementFp.prototype.sqrt=function(){if(!this.q.testBit(0))throw"unsupported";if(this.q.testBit(1)){var z=new ECFieldElementFp(this.q,this.x.modPow(this.q.shiftRight(2).add(BigInteger.ONE),this.q));return z.square().equals(this)?z:null}var qMinusOne=this.q.subtract(BigInteger.ONE),legendreExponent=qMinusOne.shiftRight(1);if(!this.x.modPow(legendreExponent,this.q).equals(BigInteger.ONE))return null;var U,V,k=qMinusOne.shiftRight(2).shiftLeft(1).add(BigInteger.ONE),Q=this.x,fourQ=modDouble(modDouble(Q));do{var P;do{P=new BigInteger(this.q.bitLength(),new SecureRandom)}while(P.compareTo(this.q)>=0||!P.multiply(P).subtract(fourQ).modPow(legendreExponent,this.q).equals(qMinusOne));var result=this.lucasSequence(P,Q,k);if(U=result[0],V=result[1],this.modMult(V,V).equals(fourQ))return V.testBit(0)&&(V=V.add(q)),V=V.shiftRight(1),new ECFieldElementFp(q,V)}while(U.equals(BigInteger.ONE)||U.equals(qMinusOne));return null},ECFieldElementFp.prototype.lucasSequence=function(P,Q,k){for(var n=k.bitLength(),s=k.getLowestSetBit(),Uh=BigInteger.ONE,Vl=BigInteger.TWO,Vh=P,Ql=BigInteger.ONE,Qh=BigInteger.ONE,j=n-1;j>=s+1;--j)Ql=this.modMult(Ql,Qh),k.testBit(j)?(Qh=this.modMult(Ql,Q),Uh=this.modMult(Uh,Vh),Vl=this.modReduce(Vh.multiply(Vl).subtract(P.multiply(Ql))),Vh=this.modReduce(Vh.multiply(Vh).subtract(Qh.shiftLeft(1)))):(Qh=Ql,Uh=this.modReduce(Uh.multiply(Vl).subtract(Ql)),Vh=this.modReduce(Vh.multiply(Vl).subtract(P.multiply(Ql))),Vl=this.modReduce(Vl.multiply(Vl).subtract(Ql.shiftLeft(1))));Ql=this.modMult(Ql,Qh),Qh=this.modMult(Ql,Q),Uh=this.modReduce(Uh.multiply(Vl).subtract(Ql)),Vl=this.modReduce(Vh.multiply(Vl).subtract(P.multiply(Ql))),Ql=this.modMult(Ql,Qh);for(j=1;j<=s;++j)Uh=this.modMult(Uh,Vl),Vl=this.modReduce(Vl.multiply(Vl).subtract(Ql.shiftLeft(1))),Ql=this.modMult(Ql,Ql);return[Uh,Vl]};exports={ECCurveFp:ECCurveFp,ECPointFp:ECPointFp,ECFieldElementFp:ECFieldElementFp};module.exports=exports},function(module,exports,__webpack_require__){module.exports={read:function(buf,options){return pem.read(buf,options)},readSSHPrivate:function(type,buf,options){var magic=(buf=new SSHBuffer({buffer:buf})).readCString();assert.strictEqual(magic,MAGIC,"bad magic string");var cipher=buf.readString(),kdf=buf.readString(),kdfOpts=buf.readBuffer();if(1!==buf.readInt())throw new Error("OpenSSH-format key file contains multiple keys: this is unsupported.");var pubKey=buf.readBuffer();if("public"===type)return assert.ok(buf.atEnd(),"excess bytes left after key"),rfc4253.read(pubKey);var privKeyBlob=buf.readBuffer();assert.ok(buf.atEnd(),"excess bytes left after key");var kdfOptsBuf=new SSHBuffer({buffer:kdfOpts});switch(kdf){case"none":if("none"!==cipher)throw new Error('OpenSSH-format key uses KDF "none" but specifies a cipher other than "none"');break;case"bcrypt":var salt=kdfOptsBuf.readBuffer(),rounds=kdfOptsBuf.readInt(),cinf=utils.opensshCipherInfo(cipher);if(void 0===bcrypt&&(bcrypt=__webpack_require__(801)),"string"==typeof options.passphrase&&(options.passphrase=Buffer.from(options.passphrase,"utf-8")),!Buffer.isBuffer(options.passphrase))throw new errors.KeyEncryptedError(options.filename,"OpenSSH");var pass=new Uint8Array(options.passphrase),salti=new Uint8Array(salt),out=new Uint8Array(cinf.keySize+cinf.blockSize),res=bcrypt.pbkdf(pass,pass.length,salti,salti.length,out,out.length,rounds);if(0!==res)throw new Error("bcrypt_pbkdf function returned failure, parameters invalid");var ckey=(out=Buffer.from(out)).slice(0,cinf.keySize),iv=out.slice(cinf.keySize,cinf.keySize+cinf.blockSize),cipherStream=crypto.createDecipheriv(cinf.opensslName,ckey,iv);cipherStream.setAutoPadding(!1);var chunk,chunks=[];for(cipherStream.once("error",function(e){if(-1!==e.toString().indexOf("bad decrypt"))throw new Error("Incorrect passphrase supplied, could not decrypt key");throw e}),cipherStream.write(privKeyBlob),cipherStream.end();null!==(chunk=cipherStream.read());)chunks.push(chunk);privKeyBlob=Buffer.concat(chunks);break;default:throw new Error('OpenSSH-format key uses unknown KDF "'+kdf+'"')}var checkInt1=(buf=new SSHBuffer({buffer:privKeyBlob})).readInt(),checkInt2=buf.readInt();if(checkInt1!==checkInt2)throw new Error("Incorrect passphrase supplied, could not decrypt key");var ret={},key=rfc4253.readInternal(ret,"private",buf.remainder());buf.skip(ret.consumed);var comment=buf.readString();return key.comment=comment,key},write:function(key,options){var pubKey;pubKey=PrivateKey.isPrivateKey(key)?key.toPublic():key;var passphrase,privBuf,cipher="none",kdf="none",kdfopts=Buffer.alloc(0),cinf={blockSize:8};void 0!==options&&("string"==typeof(passphrase=options.passphrase)&&(passphrase=Buffer.from(passphrase,"utf-8")),void 0!==passphrase&&(assert.buffer(passphrase,"options.passphrase"),assert.optionalString(options.cipher,"options.cipher"),void 0===(cipher=options.cipher)&&(cipher="aes128-ctr"),cinf=utils.opensshCipherInfo(cipher),kdf="bcrypt"));if(PrivateKey.isPrivateKey(key)){privBuf=new SSHBuffer({});var checkInt=crypto.randomBytes(4).readUInt32BE(0);privBuf.writeInt(checkInt),privBuf.writeInt(checkInt),privBuf.write(key.toBuffer("rfc4253")),privBuf.writeString(key.comment||"");for(var n=1;privBuf._offset%cinf.blockSize!=0;)privBuf.writeChar(n++);privBuf=privBuf.toBuffer()}switch(kdf){case"none":break;case"bcrypt":var salt=crypto.randomBytes(16),kdfssh=new SSHBuffer({});kdfssh.writeBuffer(salt),kdfssh.writeInt(16),kdfopts=kdfssh.toBuffer(),void 0===bcrypt&&(bcrypt=__webpack_require__(801));var pass=new Uint8Array(passphrase),salti=new Uint8Array(salt),out=new Uint8Array(cinf.keySize+cinf.blockSize),res=bcrypt.pbkdf(pass,pass.length,salti,salti.length,out,out.length,16);if(0!==res)throw new Error("bcrypt_pbkdf function returned failure, parameters invalid");var ckey=(out=Buffer.from(out)).slice(0,cinf.keySize),iv=out.slice(cinf.keySize,cinf.keySize+cinf.blockSize),cipherStream=crypto.createCipheriv(cinf.opensslName,ckey,iv);cipherStream.setAutoPadding(!1);var chunk,chunks=[];for(cipherStream.once("error",function(e){throw e}),cipherStream.write(privBuf),cipherStream.end();null!==(chunk=cipherStream.read());)chunks.push(chunk);privBuf=Buffer.concat(chunks);break;default:throw new Error("Unsupported kdf "+kdf)}var header,buf=new SSHBuffer({});buf.writeCString(MAGIC),buf.writeString(cipher),buf.writeString(kdf),buf.writeBuffer(kdfopts),buf.writeInt(1),buf.writeBuffer(pubKey.toBuffer("rfc4253")),privBuf&&buf.writeBuffer(privBuf);buf=buf.toBuffer(),header=PrivateKey.isPrivateKey(key)?"OPENSSH PRIVATE KEY":"OPENSSH PUBLIC KEY";var tmp=buf.toString("base64"),len=tmp.length+tmp.length/70+18+16+2*header.length+10;buf=Buffer.alloc(len);var o=0;o+=buf.write("-----BEGIN "+header+"-----\n",o);for(var i=0;i<tmp.length;){var limit=i+70;limit>tmp.length&&(limit=tmp.length),o+=buf.write(tmp.slice(i,limit),o),buf[o++]=10,i=limit}return o+=buf.write("-----END "+header+"-----\n",o),buf.slice(0,o)}};var bcrypt,assert=__webpack_require__(18),Buffer=(__webpack_require__(122),__webpack_require__(13).Buffer),utils=(__webpack_require__(57),__webpack_require__(46)),crypto=__webpack_require__(23),PrivateKey=(__webpack_require__(45),__webpack_require__(53)),pem=__webpack_require__(142),rfc4253=__webpack_require__(143),SSHBuffer=__webpack_require__(263),errors=__webpack_require__(112);var MAGIC="openssh-key-v1"},function(module,exports,__webpack_require__){"use strict";var has=Object.prototype.hasOwnProperty,isArray=Array.isArray,hexTable=function(){for(var array=[],i=0;i<256;++i)array.push("%"+((i<16?"0":"")+i.toString(16)).toUpperCase());return array}(),arrayToObject=function(source,options){for(var obj=options&&options.plainObjects?Object.create(null):{},i=0;i<source.length;++i)void 0!==source[i]&&(obj[i]=source[i]);return obj};module.exports={arrayToObject:arrayToObject,assign:function(target,source){return Object.keys(source).reduce(function(acc,key){return acc[key]=source[key],acc},target)},combine:function(a,b){return[].concat(a,b)},compact:function(value){for(var queue=[{obj:{o:value},prop:"o"}],refs=[],i=0;i<queue.length;++i)for(var item=queue[i],obj=item.obj[item.prop],keys=Object.keys(obj),j=0;j<keys.length;++j){var key=keys[j],val=obj[key];"object"==typeof val&&null!==val&&-1===refs.indexOf(val)&&(queue.push({obj:obj,prop:key}),refs.push(val))}return function(queue){for(;queue.length>1;){var item=queue.pop(),obj=item.obj[item.prop];if(isArray(obj)){for(var compacted=[],j=0;j<obj.length;++j)void 0!==obj[j]&&compacted.push(obj[j]);item.obj[item.prop]=compacted}}}(queue),value},decode:function(str,decoder,charset){var strWithoutPlus=str.replace(/\+/g," ");if("iso-8859-1"===charset)return strWithoutPlus.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(strWithoutPlus)}catch(e){return strWithoutPlus}},encode:function(str,defaultEncoder,charset){if(0===str.length)return str;var string="string"==typeof str?str:String(str);if("iso-8859-1"===charset)return escape(string).replace(/%u[0-9a-f]{4}/gi,function($0){return"%26%23"+parseInt($0.slice(2),16)+"%3B"});for(var out="",i=0;i<string.length;++i){var c=string.charCodeAt(i);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122?out+=string.charAt(i):c<128?out+=hexTable[c]:c<2048?out+=hexTable[192|c>>6]+hexTable[128|63&c]:c<55296||c>=57344?out+=hexTable[224|c>>12]+hexTable[128|c>>6&63]+hexTable[128|63&c]:(i+=1,c=65536+((1023&c)<<10|1023&string.charCodeAt(i)),out+=hexTable[240|c>>18]+hexTable[128|c>>12&63]+hexTable[128|c>>6&63]+hexTable[128|63&c])}return out},isBuffer:function(obj){return!(!obj||"object"!=typeof obj||!(obj.constructor&&obj.constructor.isBuffer&&obj.constructor.isBuffer(obj)))},isRegExp:function(obj){return"[object RegExp]"===Object.prototype.toString.call(obj)},merge:function merge(target,source,options){if(!source)return target;if("object"!=typeof source){if(isArray(target))target.push(source);else{if(!target||"object"!=typeof target)return[target,source];(options&&(options.plainObjects||options.allowPrototypes)||!has.call(Object.prototype,source))&&(target[source]=!0)}return target}if(!target||"object"!=typeof target)return[target].concat(source);var mergeTarget=target;return isArray(target)&&!isArray(source)&&(mergeTarget=arrayToObject(target,options)),isArray(target)&&isArray(source)?(source.forEach(function(item,i){if(has.call(target,i)){var targetItem=target[i];targetItem&&"object"==typeof targetItem&&item&&"object"==typeof item?target[i]=merge(targetItem,item,options):target.push(item)}else target[i]=item}),target):Object.keys(source).reduce(function(acc,key){var value=source[key];return has.call(acc,key)?acc[key]=merge(acc[key],value,options):acc[key]=value,acc},mergeTarget)}}},function(module,exports,__webpack_require__){"use strict";var replace=String.prototype.replace,percentTwenties=/%20/g;module.exports={default:"RFC3986",formatters:{RFC1738:function(value){return replace.call(value,percentTwenties,"+")},RFC3986:function(value){return value}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(module,exports,__webpack_require__){var htmlparser=__webpack_require__(148),parse5=__webpack_require__(1075);(exports=module.exports=function(content,options,isDocument){var dom=exports.evaluate(content,options,isDocument),root=exports.evaluate("<root></root>",options,!1)[0];return root.type="root",root.parent=null,exports.update(dom,root),root}).evaluate=function(content,options,isDocument){var dom;(Buffer.isBuffer(content)&&(content=content.toString()),"string"==typeof content)?dom=options.xmlMode||options._useHtmlParser2?htmlparser.parseDOM(content,options):function(content,isDocument){return(isDocument?parse5.parse:parse5.parseFragment)(content,{treeAdapter:parse5.treeAdapters.htmlparser2}).children}(content,isDocument):dom=content;return dom},exports.update=function(arr,parent){Array.isArray(arr)||(arr=[arr]),parent?parent.children=arr:parent=null;for(var i=0;i<arr.length;i++){var node=arr[i],oldParent=node.parent||node.root,oldSiblings=oldParent&&oldParent.children;oldSiblings&&oldSiblings!==arr&&(oldSiblings.splice(oldSiblings.indexOf(node),1),node.prev&&(node.prev.next=node.next),node.next&&(node.next.prev=node.prev)),parent?(node.prev=arr[i-1]||null,node.next=arr[i+1]||null):node.prev=node.next=null,parent&&"root"===parent.type?(node.root=parent,node.parent=null):(node.root=null,node.parent=parent)}return parent}},function(module,exports,__webpack_require__){"use strict";(module.exports=function(host){var originalMethods={},overriddenMethods=this._getOverriddenMethods(this,originalMethods);Object.keys(overriddenMethods).forEach(function(key){"function"==typeof overriddenMethods[key]&&(originalMethods[key]=host[key],host[key]=overriddenMethods[key])})}).prototype._getOverriddenMethods=function(){throw new Error("Not implemented")}},function(module,exports,__webpack_require__){var assign=__webpack_require__(844);exports.default={withDomLvl1:!0,normalizeWhitespace:!1,xml:!1,decodeEntities:!0},exports.flatten=function(options){return options&&options.xml?assign({xmlMode:!0},options.xml):options}},function(module,exports,__webpack_require__){var getNative=__webpack_require__(82),defineProperty=function(){try{var func=getNative(Object,"defineProperty");return func({},"",{}),func}catch(e){}}();module.exports=defineProperty},function(module,exports){var funcToString=Function.prototype.toString;module.exports=function(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}},function(module,exports,__webpack_require__){var apply=__webpack_require__(254),nativeMax=Math.max;module.exports=function(func,start,transform){return start=nativeMax(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=transform(array),apply(func,this,otherArgs)}}},function(module,exports,__webpack_require__){var baseTimes=__webpack_require__(315),isArguments=__webpack_require__(152),isArray=__webpack_require__(12),isBuffer=__webpack_require__(123),isIndex=__webpack_require__(136),isTypedArray=__webpack_require__(153),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}},function(module,exports){module.exports=function(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}},function(module,exports){module.exports=function(func,transform){return function(arg){return func(transform(arg))}}},function(module,exports,__webpack_require__){var WeakMap=__webpack_require__(82)(__webpack_require__(33),"WeakMap");module.exports=WeakMap},function(module,exports,__webpack_require__){var baseCreate=__webpack_require__(137),isObject=__webpack_require__(27);module.exports=function(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}},function(module,exports){module.exports=function(){}},function(module,exports){var PLACEHOLDER="__lodash_placeholder__";module.exports=function(array,placeholder){for(var index=-1,length=array.length,resIndex=0,result=[];++index<length;){var value=array[index];value!==placeholder&&value!==PLACEHOLDER||(array[index]=PLACEHOLDER,result[resIndex++]=index)}return result}},function(module,exports,__webpack_require__){var baseFor=__webpack_require__(523)();module.exports=baseFor},function(module,exports,__webpack_require__){var baseAssignValue=__webpack_require__(102),eq=__webpack_require__(114);module.exports=function(object,key,value){(void 0===value||eq(object[key],value))&&(void 0!==value||key in object)||baseAssignValue(object,key,value)}},function(module,exports,__webpack_require__){(function(module){var root=__webpack_require__(33),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,Buffer=freeModule&&freeModule.exports===freeExports?root.Buffer:void 0,allocUnsafe=Buffer?Buffer.allocUnsafe:void 0;module.exports=function(buffer,isDeep){if(isDeep)return buffer.slice();var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);return buffer.copy(result),result}}).call(this,__webpack_require__(56)(module))},function(module,exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(212);module.exports=function(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}},function(module,exports,__webpack_require__){var Uint8Array=__webpack_require__(33).Uint8Array;module.exports=Uint8Array},function(module,exports,__webpack_require__){var baseCreate=__webpack_require__(137),getPrototype=__webpack_require__(160),isPrototype=__webpack_require__(188);module.exports=function(object){return"function"!=typeof object.constructor||isPrototype(object)?{}:baseCreate(getPrototype(object))}},function(module,exports){module.exports=function(object,key){if(("constructor"!==key||"function"!=typeof object[key])&&"__proto__"!=key)return object[key]}},function(module,exports,__webpack_require__){var SetCache=__webpack_require__(161),arraySome=__webpack_require__(428),cacheHas=__webpack_require__(162),COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;module.exports=function(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=!0,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex)})){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}},function(module,exports,__webpack_require__){var baseGetAllKeys=__webpack_require__(330),getSymbols=__webpack_require__(214),keys=__webpack_require__(68);module.exports=function(object){return baseGetAllKeys(object,keys,getSymbols)}},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(195),isArray=__webpack_require__(12);module.exports=function(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}},function(module,exports){module.exports=function(){return[]}},function(module,exports,__webpack_require__){var Set=__webpack_require__(82)(__webpack_require__(33),"Set");module.exports=Set},function(module,exports,__webpack_require__){var isObject=__webpack_require__(27);module.exports=function(value){return value==value&&!isObject(value)}},function(module,exports){module.exports=function(key,srcValue){return function(object){return null!=object&&object[key]===srcValue&&(void 0!==srcValue||key in Object(object))}}},function(module,exports,__webpack_require__){var baseHasIn=__webpack_require__(563),hasPath=__webpack_require__(336);module.exports=function(object,path){return null!=object&&hasPath(object,path,baseHasIn)}},function(module,exports,__webpack_require__){var castPath=__webpack_require__(103),isArguments=__webpack_require__(152),isArray=__webpack_require__(12),isIndex=__webpack_require__(136),isLength=__webpack_require__(205),toKey=__webpack_require__(94);module.exports=function(object,path,hasFunc){for(var index=-1,length=(path=castPath(path,object)).length,result=!1;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}return result||++index!=length?result:!!(length=null==object?0:object.length)&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}},function(module,exports,__webpack_require__){var baseGet=__webpack_require__(163),baseSet=__webpack_require__(338),castPath=__webpack_require__(103);module.exports=function(object,paths,predicate){for(var index=-1,length=paths.length,result={};++index<length;){var path=paths[index],value=baseGet(object,path);predicate(value,path)&&baseSet(result,castPath(path,object),value)}return result}},function(module,exports,__webpack_require__){var assignValue=__webpack_require__(187),castPath=__webpack_require__(103),isIndex=__webpack_require__(136),isObject=__webpack_require__(27),toKey=__webpack_require__(94);module.exports=function(object,path,value,customizer){if(!isObject(object))return object;for(var index=-1,length=(path=castPath(path,object)).length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=toKey(path[index]),newValue=value;if(index!=lastIndex){var objValue=nested[key];void 0===(newValue=customizer?customizer(objValue,key,nested):void 0)&&(newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{})}assignValue(nested,key,newValue),nested=nested[key]}return object}},function(module,exports,__webpack_require__){var baseEach=__webpack_require__(133),isArrayLike=__webpack_require__(64);module.exports=function(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)}),result}},function(module){module.exports=JSON.parse('[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93]]')},function(module){module.exports=JSON.parse('[["0","\\u0000",127],["a140",""],["a1a1","",4,""],["a240","",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]]')},function(module,exports,__webpack_require__){var arrayAggregator=__webpack_require__(593),baseAggregator=__webpack_require__(594),baseIteratee=__webpack_require__(19),isArray=__webpack_require__(12);module.exports=function(setter,initializer){return function(collection,iteratee){var func=isArray(collection)?arrayAggregator:baseAggregator,accumulator=initializer?initializer():{};return func(collection,setter,baseIteratee(iteratee,2),accumulator)}}},function(module,exports,__webpack_require__){var arrayPush=__webpack_require__(195),getPrototype=__webpack_require__(160),getSymbols=__webpack_require__(214),stubArray=__webpack_require__(331),getSymbolsIn=Object.getOwnPropertySymbols?function(object){for(var result=[];object;)arrayPush(result,getSymbols(object)),object=getPrototype(object);return result}:stubArray;module.exports=getSymbolsIn},function(module,exports){const Secret=function(data){return Object.assign(this,data),this};Secret.prototype.toString=function(){throw new Error("Cannot convert Secret to string")},module.exports=Secret},function(module,exports){function M(){this._events={}}M.prototype={on:function(ev,cb){this._events||(this._events={});var e=this._events;return(e[ev]||(e[ev]=[])).push(cb),this},removeListener:function(ev,cb){var i,e=this._events[ev]||[];for(i=e.length-1;i>=0&&e[i];i--)e[i]!==cb&&e[i].cb!==cb||e.splice(i,1)},removeAllListeners:function(ev){ev?this._events[ev]&&(this._events[ev]=[]):this._events={}},listeners:function(ev){return this._events&&this._events[ev]||[]},emit:function(ev){this._events||(this._events={});var i,args=Array.prototype.slice.call(arguments,1),e=this._events[ev]||[];for(i=e.length-1;i>=0&&e[i];i--)e[i].apply(this,args);return this},when:function(ev,cb){return this.once(ev,cb,!0)},once:function(ev,cb,when){if(!cb)return this;function c(){when||this.removeListener(ev,c),cb.apply(this,arguments)&&when&&this.removeListener(ev,c)}return c.cb=cb,this.on(ev,c),this}},M.mixin=function(dest){var k,o=M.prototype;for(k in o)o.hasOwnProperty(k)&&(dest.prototype[k]=o[k])},module.exports=M},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(28)&&!__webpack_require__(84)(function(){return 7!=Object.defineProperty(__webpack_require__(228)("div"),"a",{get:function(){return 7}}).a})},function(module,exports,__webpack_require__){module.exports=__webpack_require__(70)},function(module,exports,__webpack_require__){var dP=__webpack_require__(44),anObject=__webpack_require__(49),getKeys=__webpack_require__(105);module.exports=__webpack_require__(28)?Object.defineProperties:function(O,Properties){anObject(O);for(var P,keys=getKeys(Properties),length=keys.length,i=0;length>i;)dP.f(O,P=keys[i++],Properties[P]);return O}},function(module,exports,__webpack_require__){var has=__webpack_require__(85),toIObject=__webpack_require__(71),arrayIndexOf=__webpack_require__(641)(!1),IE_PROTO=__webpack_require__(231)("IE_PROTO");module.exports=function(object,names){var key,O=toIObject(object),i=0,result=[];for(key in O)key!=IE_PROTO&&has(O,key)&&result.push(key);for(;names.length>i;)has(O,key=names[i++])&&(~arrayIndexOf(result,key)||result.push(key));return result}},function(module,exports,__webpack_require__){var document=__webpack_require__(24).document;module.exports=document&&document.documentElement},function(module,exports,__webpack_require__){var has=__webpack_require__(85),toObject=__webpack_require__(86),IE_PROTO=__webpack_require__(231)("IE_PROTO"),ObjectProto=Object.prototype;module.exports=Object.getPrototypeOf||function(O){return O=toObject(O),has(O,IE_PROTO)?O[IE_PROTO]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?ObjectProto:null}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(49);module.exports=function(iterator,fn,value,entries){try{return entries?fn(anObject(value)[0],value[1]):fn(value)}catch(e){var ret=iterator.return;throw void 0!==ret&&anObject(ret.call(iterator)),e}}},function(module,exports,__webpack_require__){var Iterators=__webpack_require__(104),ITERATOR=__webpack_require__(25)("iterator"),ArrayProto=Array.prototype;module.exports=function(it){return void 0!==it&&(Iterators.Array===it||ArrayProto[ITERATOR]===it)}},function(module,exports,__webpack_require__){var ITERATOR=__webpack_require__(25)("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR]();riter.return=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}module.exports=function(exec,skipClosing){if(!skipClosing&&!SAFE_CLOSING)return!1;var safe=!1;try{var arr=[7],iter=arr[ITERATOR]();iter.next=function(){return{done:safe=!0}},arr[ITERATOR]=function(){return iter},exec(arr)}catch(e){}return safe}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(645),__esModule:!0}},function(module,exports){module.exports=function(done,value){return{value:value,done:!!done}}},function(module,exports,__webpack_require__){var cof=__webpack_require__(128);module.exports=Array.isArray||function(arg){return"Array"==cof(arg)}},function(module,exports,__webpack_require__){var $keys=__webpack_require__(349),hiddenKeys=__webpack_require__(233).concat("length","prototype");exports.f=Object.getOwnPropertyNames||function(O){return $keys(O,hiddenKeys)}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(668),__esModule:!0}},function(module,exports,__webpack_require__){var DESCRIPTORS=__webpack_require__(28),getKeys=__webpack_require__(105),toIObject=__webpack_require__(71),isEnum=__webpack_require__(130).f;module.exports=function(isEntries){return function(it){for(var key,O=toIObject(it),keys=getKeys(O),length=keys.length,i=0,result=[];length>i;)key=keys[i++],DESCRIPTORS&&!isEnum.call(O,key)||result.push(isEntries?[key,O[key]]:O[key]);return result}}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(49),aFunction=__webpack_require__(126),SPECIES=__webpack_require__(25)("species");module.exports=function(O,D){var S,C=anObject(O).constructor;return void 0===C||null==(S=anObject(C)[SPECIES])?D:aFunction(S)}},function(module,exports,__webpack_require__){var defer,channel,port,ctx=__webpack_require__(60),invoke=__webpack_require__(695),html=__webpack_require__(350),cel=__webpack_require__(228),global=__webpack_require__(24),process=global.process,setTask=global.setImmediate,clearTask=global.clearImmediate,MessageChannel=global.MessageChannel,Dispatch=global.Dispatch,counter=0,queue={},run=function(){var id=+this;if(queue.hasOwnProperty(id)){var fn=queue[id];delete queue[id],fn()}},listener=function(event){run.call(event.data)};setTask&&clearTask||(setTask=function(fn){for(var args=[],i=1;arguments.length>i;)args.push(arguments[i++]);return queue[++counter]=function(){invoke("function"==typeof fn?fn:Function(fn),args)},defer(counter),counter},clearTask=function(id){delete queue[id]},"process"==__webpack_require__(128)(process)?defer=function(id){process.nextTick(ctx(run,id,1))}:Dispatch&&Dispatch.now?defer=function(id){Dispatch.now(ctx(run,id,1))}:MessageChannel?(port=(channel=new MessageChannel).port2,channel.port1.onmessage=listener,defer=ctx(port.postMessage,port,1)):global.addEventListener&&"function"==typeof postMessage&&!global.importScripts?(defer=function(id){global.postMessage(id+"","*")},global.addEventListener("message",listener,!1)):defer="onreadystatechange"in cel("script")?function(id){html.appendChild(cel("script")).onreadystatechange=function(){html.removeChild(this),run.call(id)}}:function(id){setTimeout(ctx(run,id,1),0)}),module.exports={set:setTask,clear:clearTask}},function(module,exports){module.exports=function(exec){try{return{e:!1,v:exec()}}catch(e){return{e:!0,v:e}}}},function(module,exports,__webpack_require__){var anObject=__webpack_require__(49),isObject=__webpack_require__(37),newPromiseCapability=__webpack_require__(240);module.exports=function(C,x){if(anObject(C),isObject(x)&&x.constructor===C)return x;var promiseCapability=newPromiseCapability.f(C);return(0,promiseCapability.resolve)(x),promiseCapability.promise}},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(24),core=__webpack_require__(9),dP=__webpack_require__(44),DESCRIPTORS=__webpack_require__(28),SPECIES=__webpack_require__(25)("species");module.exports=function(KEY){var C="function"==typeof core[KEY]?core[KEY]:global[KEY];DESCRIPTORS&&C&&!C[SPECIES]&&dP.f(C,SPECIES,{configurable:!0,get:function(){return this}})}},function(module,exports,__webpack_require__){"use strict";var dP=__webpack_require__(44).f,create=__webpack_require__(166),redefineAll=__webpack_require__(241),ctx=__webpack_require__(60),anInstance=__webpack_require__(239),forOf=__webpack_require__(131),$iterDefine=__webpack_require__(227),step=__webpack_require__(356),setSpecies=__webpack_require__(365),DESCRIPTORS=__webpack_require__(28),fastKey=__webpack_require__(171).fastKey,validate=__webpack_require__(242),SIZE=DESCRIPTORS?"_s":"size",getEntry=function(that,key){var entry,index=fastKey(key);if("F"!==index)return that._i[index];for(entry=that._f;entry;entry=entry.n)if(entry.k==key)return entry};module.exports={getConstructor:function(wrapper,NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){anInstance(that,C,NAME,"_i"),that._t=NAME,that._i=create(null),that._f=void 0,that._l=void 0,that[SIZE]=0,null!=iterable&&forOf(iterable,IS_MAP,that[ADDER],that)});return redefineAll(C.prototype,{clear:function(){for(var that=validate(this,NAME),data=that._i,entry=that._f;entry;entry=entry.n)entry.r=!0,entry.p&&(entry.p=entry.p.n=void 0),delete data[entry.i];that._f=that._l=void 0,that[SIZE]=0},delete:function(key){var that=validate(this,NAME),entry=getEntry(that,key);if(entry){var next=entry.n,prev=entry.p;delete that._i[entry.i],entry.r=!0,prev&&(prev.n=next),next&&(next.p=prev),that._f==entry&&(that._f=next),that._l==entry&&(that._l=prev),that[SIZE]--}return!!entry},forEach:function(callbackfn){validate(this,NAME);for(var entry,f=ctx(callbackfn,arguments.length>1?arguments[1]:void 0,3);entry=entry?entry.n:this._f;)for(f(entry.v,entry.k,this);entry&&entry.r;)entry=entry.p},has:function(key){return!!getEntry(validate(this,NAME),key)}}),DESCRIPTORS&&dP(C.prototype,"size",{get:function(){return validate(this,NAME)[SIZE]}}),C},def:function(that,key,value){var prev,index,entry=getEntry(that,key);return entry?entry.v=value:(that._l=entry={i:index=fastKey(key,!0),k:key,v:value,p:prev=that._l,n:void 0,r:!1},that._f||(that._f=entry),prev&&(prev.n=entry),that[SIZE]++,"F"!==index&&(that._i[index]=entry)),that},getEntry:getEntry,setStrong:function(C,NAME,IS_MAP){$iterDefine(C,NAME,function(iterated,kind){this._t=validate(iterated,NAME),this._k=kind,this._l=void 0},function(){for(var kind=this._k,entry=this._l;entry&&entry.r;)entry=entry.p;return this._t&&(this._l=entry=entry?entry.n:this._t._f)?step(0,"keys"==kind?entry.k:"values"==kind?entry.v:[entry.k,entry.v]):(this._t=void 0,step(1))},IS_MAP?"entries":"values",!IS_MAP,!0),setSpecies(NAME)}}},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(24),$export=__webpack_require__(16),meta=__webpack_require__(171),fails=__webpack_require__(84),hide=__webpack_require__(70),redefineAll=__webpack_require__(241),forOf=__webpack_require__(131),anInstance=__webpack_require__(239),isObject=__webpack_require__(37),setToStringTag=__webpack_require__(129),dP=__webpack_require__(44).f,each=__webpack_require__(703)(0),DESCRIPTORS=__webpack_require__(28);module.exports=function(NAME,wrapper,methods,common,IS_MAP,IS_WEAK){var Base=global[NAME],C=Base,ADDER=IS_MAP?"set":"add",proto=C&&C.prototype,O={};return DESCRIPTORS&&"function"==typeof C&&(IS_WEAK||proto.forEach&&!fails(function(){(new C).entries().next()}))?(C=wrapper(function(target,iterable){anInstance(target,C,NAME,"_c"),target._c=new Base,null!=iterable&&forOf(iterable,IS_MAP,target[ADDER],target)}),each("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(KEY){var IS_ADDER="add"==KEY||"set"==KEY;KEY in proto&&(!IS_WEAK||"clear"!=KEY)&&hide(C.prototype,KEY,function(a,b){if(anInstance(this,C,KEY),!IS_ADDER&&IS_WEAK&&!isObject(a))return"get"==KEY&&void 0;var result=this._c[KEY](0===a?0:a,b);return IS_ADDER?this:result})}),IS_WEAK||dP(C.prototype,"size",{get:function(){return this._c.size}})):(C=common.getConstructor(wrapper,NAME,IS_MAP,ADDER),redefineAll(C.prototype,methods),meta.NEED=!0),setToStringTag(C,NAME),O[NAME]=C,$export($export.G+$export.W+$export.F,O),IS_WEAK||common.setStrong(C,NAME,IS_MAP),C}},function(module,exports,__webpack_require__){var classof=__webpack_require__(169),from=__webpack_require__(707);module.exports=function(NAME){return function(){if(classof(this)!=NAME)throw TypeError(NAME+"#toJSON isn't generic");return from(this)}}},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(16);module.exports=function(COLLECTION){$export($export.S,COLLECTION,{of:function(){for(var length=arguments.length,A=new Array(length);length--;)A[length]=arguments[length];return new this(A)}})}},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(16),aFunction=__webpack_require__(126),ctx=__webpack_require__(60),forOf=__webpack_require__(131);module.exports=function(COLLECTION){$export($export.S,COLLECTION,{from:function(source){var mapping,A,n,cb,mapFn=arguments[1];return aFunction(this),(mapping=void 0!==mapFn)&&aFunction(mapFn),null==source?new this:(A=[],mapping?(n=0,cb=ctx(mapFn,arguments[2],2),forOf(source,!1,function(nextItem){A.push(cb(nextItem,n++))})):forOf(source,!1,A.push,A),new this(A))}})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.REGISTRATION_ABORT="REGISTRATION_ABORT"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=exports.resolveClass=exports.attachRelationships=exports.responseToRelationship=exports.pickTypeAndId=void 0;var _extends3=_interopRequireDefault(__webpack_require__(5)),_pick2=_interopRequireDefault(__webpack_require__(164)),_pickBy2=_interopRequireDefault(__webpack_require__(147)),_Association2=_interopRequireDefault(__webpack_require__(107)),_HasOne2=_interopRequireDefault(__webpack_require__(373)),_HasOneInPlace2=_interopRequireDefault(__webpack_require__(374)),_HasMany2=_interopRequireDefault(__webpack_require__(176)),_HasManyInPlace2=_interopRequireDefault(__webpack_require__(380)),_HasManyFiles2=_interopRequireDefault(__webpack_require__(381));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var pickTypeAndId=exports.pickTypeAndId=function(x){return(0,_pick2.default)(x,"_type","_id")},attachRelationship=(exports.responseToRelationship=function(response){return(0,_pickBy2.default)({data:(fn=pickTypeAndId,objOrArr=response.data,Array.isArray(objOrArr)?objOrArr.map(fn):fn(objOrArr)),meta:response.meta,next:response.next,skip:response.skip});var fn,objOrArr},function(doc,relationships){return(0,_extends3.default)({},doc,{relationships:(0,_extends3.default)({},doc.relationships,relationships)})}),aliases=(exports.attachRelationships=function(response,relationshipsByDocId){if(Array.isArray(response.data))return(0,_extends3.default)({},response,{data:response.data.map(function(doc){return attachRelationship(doc,relationshipsByDocId[doc._id])})});var doc=response.data;return(0,_extends3.default)({},response,{data:attachRelationship(doc,relationshipsByDocId[doc._id])})},{"io.cozy.files:has-many":_HasManyFiles2.default,"has-many":_HasMany2.default,"belongs-to-in-place":_HasOneInPlace2.default,"has-one":_HasOne2.default,"has-one-in-place":_HasOneInPlace2.default,"has-many-in-place":_HasManyInPlace2.default});exports.resolveClass=function(doctype,type){if(void 0===type)throw new Error("Undefined type for "+doctype);if("string"!=typeof type)return type;var cls=aliases[doctype+":"+type]||aliases[type];if(cls)return cls;throw new Error("Unknown association '"+type+"'")},exports.create=function(target,_ref,accessors){var name=_ref.name,type=_ref.type,doctype=_ref.doctype;if(target[name]instanceof _Association2.default)throw new Error("Association "+name+" already exists");return new type(target,name,doctype,accessors)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _defineProperty3=_interopRequireDefault(__webpack_require__(48)),_extends4=_interopRequireDefault(__webpack_require__(5)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(4)),_classCallCheck3=_interopRequireDefault(__webpack_require__(1)),_createClass3=_interopRequireDefault(__webpack_require__(2)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(6)),_inherits3=_interopRequireDefault(__webpack_require__(7)),_get3=_interopRequireDefault(__webpack_require__(11)),_set3=_interopRequireDefault(__webpack_require__(713));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var HasOne=function(_Association){function HasOne(){return(0,_classCallCheck3.default)(this,HasOne),(0,_possibleConstructorReturn3.default)(this,(HasOne.__proto__||(0,_getPrototypeOf2.default)(HasOne)).apply(this,arguments))}return(0,_inherits3.default)(HasOne,_Association),(0,_createClass3.default)(HasOne,[{key:"set",value:function(doc){if(doc&&doc._type!==this.doctype)throw new Error("Tried to associate a "+doc._type+" document to a HasOne relationship on "+this.doctype+" document");var path="relationships["+this.name+"].data";doc?(0,_set3.default)(this.target,path,{_id:doc._id,_type:doc._type}):(0,_set3.default)(this.target,path,void 0)}},{key:"unset",value:function(){this.set(void 0)}},{key:"dehydrate",value:function(doc){return(0,_extends4.default)({},doc,{relationships:(0,_extends4.default)({},doc.relationships,(0,_defineProperty3.default)({},this.name,{data:this.raw}))})}},{key:"raw",get:function(){return(0,_get3.default)(this.target,"relationships["+this.name+"].data",null)}},{key:"data",get:function(){return this.raw?this.get(this.doctype,this.raw._id):null}}],[{key:"query",value:function(doc,client,assoc){var relationship=(0,_get3.default)(doc,"relationships."+assoc.name+".data",{});return client.get(assoc.doctype,relationship._id)}}]),HasOne}(_interopRequireDefault(__webpack_require__(107)).default);exports.default=HasOne},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BelongsToInPlace=void 0;var _defineProperty3=_interopRequireDefault(__webpack_require__(48)),_extends4=_interopRequireDefault(__webpack_require__(5)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(4)),_classCallCheck3=_interopRequireDefault(__webpack_require__(1)),_createClass3=_interopRequireDefault(__webpack_require__(2)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(6)),_inherits3=_interopRequireDefault(__webpack_require__(7));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var HasOneInPlace=function(_Association){function HasOneInPlace(){return(0,_classCallCheck3.default)(this,HasOneInPlace),(0,_possibleConstructorReturn3.default)(this,(HasOneInPlace.__proto__||(0,_getPrototypeOf2.default)(HasOneInPlace)).apply(this,arguments))}return(0,_inherits3.default)(HasOneInPlace,_Association),(0,_createClass3.default)(HasOneInPlace,[{key:"dehydrate",value:function(doc){return(0,_extends4.default)({},doc,(0,_defineProperty3.default)({},this.name,this.raw||void 0))}},{key:"raw",get:function(){return this.target[this.name]}},{key:"data",get:function(){return this.get(this.doctype,this.raw)}}],[{key:"query",value:function(doc,client,assoc){var id=doc[assoc.name];return client.getDocumentFromState(assoc.doctype,id)||client.get(assoc.doctype,id)}}]),HasOneInPlace}(_interopRequireDefault(__webpack_require__(107)).default);exports.default=HasOneInPlace;exports.BelongsToInPlace=HasOneInPlace},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getQueryFromSlice=exports.receiveQueryError=exports.receiveQueryResult=exports.initQuery=exports.convert$gtNullSelectors=exports.isReceivingData=exports.isQueryAction=void 0;var _defineProperty3=_interopRequireDefault(__webpack_require__(48)),_entries2=_interopRequireDefault(__webpack_require__(173)),_getIterator3=_interopRequireDefault(__webpack_require__(72)),_slicedToArray3=_interopRequireDefault(__webpack_require__(174)),_toConsumableArray3=_interopRequireDefault(__webpack_require__(69)),_extends4=_interopRequireDefault(__webpack_require__(5)),_mapValues2=_interopRequireDefault(__webpack_require__(120)),_union2=_interopRequireDefault(__webpack_require__(714)),_difference2=_interopRequireDefault(__webpack_require__(484)),_intersection2=_interopRequireDefault(__webpack_require__(716)),_isPlainObject2=_interopRequireDefault(__webpack_require__(193)),_documents=__webpack_require__(378),_mutations=__webpack_require__(243),_helpers=__webpack_require__(379),_sift2=_interopRequireDefault(__webpack_require__(717)),_get2=_interopRequireDefault(__webpack_require__(11));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var INIT_QUERY="INIT_QUERY",RECEIVE_QUERY_RESULT="RECEIVE_QUERY_RESULT",RECEIVE_QUERY_ERROR="RECEIVE_QUERY_ERROR",isQueryAction=exports.isQueryAction=function(action){return-1!==[INIT_QUERY,RECEIVE_QUERY_RESULT,RECEIVE_QUERY_ERROR].indexOf(action.type)},queryInitialState=(exports.isReceivingData=function(action){return action.type===RECEIVE_QUERY_RESULT},{id:null,definition:null,fetchStatus:"pending",lastFetch:null,lastUpdate:null,lastError:null,hasMore:!1,count:0,data:[]}),query=function(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:queryInitialState,action=arguments[1];switch(action.type){case INIT_QUERY:return(0,_extends4.default)({},state,{id:action.queryId,definition:action.queryDefinition,fetchStatus:"loading"});case RECEIVE_QUERY_RESULT:var response=action.response,common={fetchStatus:"loaded",lastFetch:Date.now(),lastUpdate:Date.now()};return response.data?Array.isArray(response.data)?(0,_extends4.default)({},state,common,{hasMore:void 0!==response.next?response.next:state.hasMore,count:response.meta&&response.meta.count?response.meta.count:response.data.length,data:0===response.skip?response.data.map(_helpers.properId):[].concat((0,_toConsumableArray3.default)(state.data),(0,_toConsumableArray3.default)(response.data.map(_helpers.properId)))}):(0,_extends4.default)({},state,common,{hasMore:!1,count:1,data:[(0,_helpers.properId)(response.data)]}):state;case RECEIVE_QUERY_ERROR:return(0,_extends4.default)({},state,{id:action.queryId,fetchStatus:"failed",lastError:action.error});default:return state}},convert$gtNullSelectors=exports.convert$gtNullSelectors=function convert$gtNullSelectors(selector){var result={},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=(0,_getIterator3.default)((0,_entries2.default)(selector));!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var _ref=_step.value,_ref2=(0,_slicedToArray3.default)(_ref,2),key=_ref2[0],value=_ref2[1],convertedValue=(0,_isPlainObject2.default)(value)?convert$gtNullSelectors(value):value;result["$gt"===key&&null===convertedValue?"$gtnull":key]=convertedValue}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return result},getQueryDocumentsChecker=function(query){var queryDefinition,qdoctype=query.definition.doctype,selectorFilterFn=(queryDefinition=query.definition).selector?(_sift2.default.use({$gtnull:function(selectorValue,actualValue){return!!actualValue}}),(0,_sift2.default)(convert$gtNullSelectors(queryDefinition.selector))):queryDefinition.id?(0,_sift2.default)({_id:queryDefinition.id}):null;return function(datum){return datum._type===qdoctype&&(!(selectorFilterFn&&!selectorFilterFn(datum))&&!datum._deleted)}},autoQueryUpdater=function(action){return function(query){var data=(0,_get2.default)(action,"response.data")||(0,_get2.default)(action,"definition.document");return data?(Array.isArray(data)||(data=[data]),data.length?query.definition.doctype!==data[0]._type?query:function(query,newData){var isFulfilled=getQueryDocumentsChecker(query),matchedIds=newData.filter(function(doc){return isFulfilled(doc)}).map(_helpers.properId),unmatchedIds=newData.filter(function(doc){return!isFulfilled(doc)}).map(_helpers.properId),originalIds=query.data,toRemove=(0,_intersection2.default)(originalIds,unmatchedIds),toAdd=(0,_difference2.default)(matchedIds,originalIds),toUpdate=(0,_intersection2.default)(originalIds,matchedIds),changed=toRemove.length||toAdd.length||toUpdate.length,updatedData=(0,_difference2.default)((0,_union2.default)(originalIds,toAdd),toRemove);return(0,_extends4.default)({},query,{data:updatedData,count:updatedData.length,lastUpdate:changed?Date.now():query.lastUpdate})}(query,data):query):query}},manualQueryUpdater=function(action,documents){return function(query){var updateQueries=action.updateQueries,response=action.response,updater=updateQueries[query.id];if(!updater)return query;var doctype=query.definition.doctype,oldData=query.data,newDataIds=updater(mapIdsToDocuments(documents,doctype,oldData),response).map(_helpers.properId);return(0,_extends4.default)({},query,{data:newDataIds,count:newDataIds.length,lastUpdate:Date.now()})}};exports.default=function(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},action=arguments[1],nextDocuments=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},haveDocumentsChanged=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(action.type==INIT_QUERY)return(0,_extends4.default)({},state,(0,_defineProperty3.default)({},action.queryId,query(state[action.queryId],action)));if(isQueryAction(action)){var updater=autoQueryUpdater(action);return(0,_mapValues2.default)(state,function(queryState){return queryState.id==action.queryId?query(queryState,action):haveDocumentsChanged?updater(queryState):queryState})}if((0,_mutations.isReceivingMutationResult)(action)){var _updater=action.updateQueries?manualQueryUpdater(action,nextDocuments):autoQueryUpdater(action);return(0,_mapValues2.default)(state,_updater)}return state};exports.initQuery=function(queryId,queryDefinition){if(!queryDefinition.doctype)throw new Error("Cannot init query with no doctype");return{type:INIT_QUERY,queryId:queryId,queryDefinition:queryDefinition}},exports.receiveQueryResult=function(queryId,response){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,_extends4.default)({type:RECEIVE_QUERY_RESULT,queryId:queryId,response:response},options)},exports.receiveQueryError=function(queryId,error){return{type:RECEIVE_QUERY_ERROR,queryId:queryId,error:error}};var mapIdsToDocuments=function(documents,doctype,ids){return ids.map(function(id){return(0,_documents.getDocumentFromSlice)(documents,doctype,id)})};exports.getQueryFromSlice=function(state,queryId,documents){if(!state||!state[queryId])return(0,_extends4.default)({},queryInitialState,{data:null});var query=state[queryId];return documents?(0,_extends4.default)({},query,{data:mapIdsToDocuments(documents,query.definition.doctype,query.data)}):query}},function(module,exports,__webpack_require__){var SetCache=__webpack_require__(161),arrayIncludes=__webpack_require__(189),arrayIncludesWith=__webpack_require__(218),arrayMap=__webpack_require__(36),baseUnary=__webpack_require__(91),cacheHas=__webpack_require__(162),nativeMin=Math.min;module.exports=function(arrays,iteratee,comparator){for(var includes=comparator?arrayIncludesWith:arrayIncludes,length=arrays[0].length,othLength=arrays.length,othIndex=othLength,caches=Array(othLength),maxLength=1/0,result=[];othIndex--;){var array=arrays[othIndex];othIndex&&iteratee&&(array=arrayMap(array,baseUnary(iteratee))),maxLength=nativeMin(array.length,maxLength),caches[othIndex]=!comparator&&(iteratee||length>=120&&array.length>=120)?new SetCache(othIndex&&array):void 0}array=arrays[0];var index=-1,seen=caches[0];outer:for(;++index<length&&result.length<maxLength;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,!(seen?cacheHas(seen,computed):includes(result,computed,comparator))){for(othIndex=othLength;--othIndex;){var cache=caches[othIndex];if(!(cache?cacheHas(cache,computed):includes(arrays[othIndex],computed,comparator)))continue outer}seen&&seen.push(computed),result.push(value)}}return result}},function(module,exports,__webpack_require__){var isArrayLikeObject=__webpack_require__(124);module.exports=function(value){return isArrayLikeObject(value)?value:[]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.extractAndMergeDocument=exports.getCollectionFromSlice=exports.getDocumentFromSlice=exports.mergeDocumentsWithRelationships=void 0;var _values2=_interopRequireDefault(__webpack_require__(132)),_defineProperty3=_interopRequireDefault(__webpack_require__(48)),_extends5=_interopRequireDefault(__webpack_require__(5)),_queries=__webpack_require__(375),_mutations=__webpack_require__(243),_keyBy2=_interopRequireDefault(__webpack_require__(87)),_get2=_interopRequireDefault(__webpack_require__(11)),_isEqual2=_interopRequireDefault(__webpack_require__(283)),_helpers=__webpack_require__(379);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var storeDocument=function(state,document){var type=document._type;if(!type)throw new Error("Document without _type");if(!(0,_helpers.properId)(document))throw new Error("Document without id");var existingDoc=(0,_get2.default)(state,[type,(0,_helpers.properId)(document)]);return(0,_isEqual2.default)(existingDoc,document)?state:(0,_extends5.default)({},state,(0,_defineProperty3.default)({},type,(0,_extends5.default)({},state[type],(0,_defineProperty3.default)({},(0,_helpers.properId)(document),mergeDocumentsWithRelationships(existingDoc,document)))))},mergeDocumentsWithRelationships=exports.mergeDocumentsWithRelationships=function(){var prevDocument=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},nextDocument=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},merged=(0,_extends5.default)({},prevDocument,nextDocument);return(prevDocument.relationships||nextDocument.relationships)&&(merged.relationships=(0,_extends5.default)({},prevDocument.relationships,nextDocument.relationships)),merged};exports.default=function(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},action=arguments[1];if(!(0,_queries.isReceivingData)(action)&&!(0,_mutations.isReceivingMutationResult)(action))return state;var _action$response=action.response,data=_action$response.data,included=_action$response.included;if(!data||Array.isArray(data)&&0===data.length)return state;var updatedStateWithIncluded=included?included.reduce(storeDocument,state):state;return Array.isArray(data)?extractAndMergeDocument(data,updatedStateWithIncluded):storeDocument(updatedStateWithIncluded,data)};exports.getDocumentFromSlice=function(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},doctype=arguments[1],id=arguments[2];if(!doctype)throw new Error("getDocumentFromSlice: Cannot retrieve document with undefined doctype");if(!id)throw new Error("getDocumentFromSlice: Cannot retrieve document with undefined id");return state[doctype]&&state[doctype][id]?state[doctype][id]:null},exports.getCollectionFromSlice=function(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},doctype=arguments[1];if(!doctype)throw new Error("getDocumentFromSlice: Cannot retrieve document with undefined doctype");return state[doctype]?(0,_values2.default)(state[doctype]):null};var extractAndMergeDocument=exports.extractAndMergeDocument=function(data,updatedStateWithIncluded){var doctype=data[0]._type;if(!doctype)throw new Error("Document without _type",data[0]);var sortedData=(0,_keyBy2.default)(data,_helpers.properId),mergedData={};return updatedStateWithIncluded&&updatedStateWithIncluded[doctype]&&(0,_values2.default)(updatedStateWithIncluded[doctype]).map(function(dataState){mergedData[doctype]||(mergedData[doctype]={});var id=(0,_helpers.properId)(dataState);sortedData[id]?mergedData[doctype][id]=(0,_extends5.default)({},dataState,sortedData[id],mergedData[doctype][id]):mergedData[doctype][id]=(0,_extends5.default)({},dataState,mergedData[doctype][id])}),(0,_values2.default)(sortedData).map(function(data){mergedData[doctype]||(mergedData[doctype]={});var id=(0,_helpers.properId)(data);mergedData[doctype][id]?mergedData[doctype][id]=(0,_extends5.default)({},mergedData[doctype][id],data):mergedData[doctype][id]=data}),(0,_extends5.default)({},updatedStateWithIncluded,mergedData)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.properId=function(doc){return doc.id||doc._id}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _defineProperty3=_interopRequireDefault(__webpack_require__(48)),_extends4=_interopRequireDefault(__webpack_require__(5)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(4)),_classCallCheck3=_interopRequireDefault(__webpack_require__(1)),_createClass3=_interopRequireDefault(__webpack_require__(2)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(6)),_inherits3=_interopRequireDefault(__webpack_require__(7)),_Association3=_interopRequireDefault(__webpack_require__(107)),_dsl2=_interopRequireDefault(__webpack_require__(90));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var HasManyInPlace=function(_Association){function HasManyInPlace(){return(0,_classCallCheck3.default)(this,HasManyInPlace),(0,_possibleConstructorReturn3.default)(this,(HasManyInPlace.__proto__||(0,_getPrototypeOf2.default)(HasManyInPlace)).apply(this,arguments))}return(0,_inherits3.default)(HasManyInPlace,_Association),(0,_createClass3.default)(HasManyInPlace,[{key:"addById",value:function(id){this.getRelationship().push(id)}},{key:"removeById",value:function(id){var rel=this.getRelationship(),index=rel.indexOf(id);-1!==index&&rel.splice(index,1)}},{key:"existsById",value:function(id){return-1!==this.getRelationship().indexOf(id)}},{key:"getRelationship",value:function(){return this.target[this.name]=this.target[this.name]||[],this.target[this.name]}},{key:"dehydrate",value:function(doc){return(0,_extends4.default)({},doc,(0,_defineProperty3.default)({},this.name,this.raw||[]))}},{key:"raw",get:function(){return this.target[this.name]}},{key:"data",get:function(){var _this2=this,doctype=this.doctype;return(this.raw||[]).map(function(_id){return _this2.get(doctype,_id)})}}],[{key:"query",value:function(){return this.raw&&this.raw.length>0?(0,_dsl2.default)({doctype:this.doctype,ids:this.raw}):null}}]),HasManyInPlace}(_Association3.default);exports.default=HasManyInPlace},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _regenerator2=_interopRequireDefault(__webpack_require__(15)),_toConsumableArray3=_interopRequireDefault(__webpack_require__(69)),_extends3=_interopRequireDefault(__webpack_require__(5)),_asyncToGenerator3=_interopRequireDefault(__webpack_require__(17)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(4)),_classCallCheck3=_interopRequireDefault(__webpack_require__(1)),_createClass3=_interopRequireDefault(__webpack_require__(2)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(6)),_get3=_interopRequireDefault(__webpack_require__(177)),_inherits3=_interopRequireDefault(__webpack_require__(7)),_omit2=_interopRequireDefault(__webpack_require__(98)),_HasMany3=_interopRequireDefault(__webpack_require__(176)),_dsl=__webpack_require__(90),_store=__webpack_require__(134);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var HasManyFiles=function(_HasMany){function HasManyFiles(){return(0,_classCallCheck3.default)(this,HasManyFiles),(0,_possibleConstructorReturn3.default)(this,(HasManyFiles.__proto__||(0,_getPrototypeOf2.default)(HasManyFiles)).apply(this,arguments))}var _ref4,_ref3,_ref;return(0,_inherits3.default)(HasManyFiles,_HasMany),(0,_createClass3.default)(HasManyFiles,[{key:"fetchMore",value:(_ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var queryDef,relationships,lastRelationship,_this2=this;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return queryDef=new _dsl.QueryDefinition({doctype:"io.cozy.files"}),relationships=this.getRelationship().data,lastRelationship=relationships[relationships.length-1],_context2.next=5,this.dispatch(function(){var _ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(dispatch,getState){var lastRelDoc,lastDatetime,cursorKey,startDocId,cursorView,response;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return lastRelDoc=(0,_store.getDocumentFromState)(getState(),lastRelationship._type,lastRelationship._id),lastDatetime=lastRelDoc.attributes.metadata.datetime,cursorKey=[_this2.target._type,_this2.target._id,lastDatetime],startDocId=relationships[relationships.length-1]._id,cursorView=[cursorKey,startDocId],_context.next=7,_this2.query(queryDef.referencedBy(_this2.target).offsetCursor(cursorView));case 7:return(response=_context.sent).data.shift(),_context.next=11,_this2.dispatch(_this2.updateRelationshipData(function(previousRelationshipData){return(0,_extends3.default)({},previousRelationshipData,{data:[].concat((0,_toConsumableArray3.default)(previousRelationshipData.data),(0,_toConsumableArray3.default)(response.data)),next:response.next})}));case 11:case"end":return _context.stop()}},_callee,_this2)}));return function(_x,_x2){return _ref2.apply(this,arguments)}}());case 5:case"end":return _context2.stop()}},_callee2,this)})),function(){return _ref.apply(this,arguments)})},{key:"addById",value:(_ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(ids){var relations,_this3=this;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return ids=Array.isArray(ids)?ids:[ids],relations=ids.map(function(id){return{_id:id,_type:_this3.doctype}}),_context3.next=4,this.mutate(this.insertDocuments(relations));case 4:return _context3.next=6,(0,_get3.default)(HasManyFiles.prototype.__proto__||(0,_getPrototypeOf2.default)(HasManyFiles.prototype),"addById",this).call(this,ids);case 6:case"end":return _context3.stop()}},_callee3,this)})),function(_x3){return _ref3.apply(this,arguments)})},{key:"removeById",value:(_ref4=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(ids){var relations,_this4=this;return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return ids=Array.isArray(ids)?ids:[ids],relations=ids.map(function(id){return{_id:id,_type:_this4.doctype}}),_context4.next=4,this.mutate(this.removeDocuments(relations));case 4:return _context4.next=6,(0,_get3.default)(HasManyFiles.prototype.__proto__||(0,_getPrototypeOf2.default)(HasManyFiles.prototype),"removeById",this).call(this,ids);case 6:case"end":return _context4.stop()}},_callee4,this)})),function(_x4){return _ref4.apply(this,arguments)})},{key:"insertDocuments",value:function(referencedDocs){if("io.cozy.files"===this.target._type)return _dsl.Mutations.addReferencedBy(this.target,referencedDocs);if("io.cozy.files"===referencedDocs[0]._type)return _dsl.Mutations.addReferencesTo(this.target,referencedDocs);throw new Error("Either the document or the references should be io.cozy.files")}},{key:"removeDocuments",value:function(referencedDocs){if("io.cozy.files"===this.target._type)return _dsl.Mutations.removeReferencedBy(this.target,referencedDocs);if("io.cozy.files"===referencedDocs[0]._type)return _dsl.Mutations.removeReferencesTo(this.target,referencedDocs);throw new Error("Either the document or the references should be io.cozy.files")}},{key:"dehydrate",value:function(doc){return(0,_omit2.default)(doc,[this.name,"relationships."+this.name])}}],[{key:"query",value:function(document,client,assoc){var cursor=[[document._type,document._id],""];return client.find(assoc.doctype).referencedBy(document).offsetCursor(cursor)}}]),HasManyFiles}(_HasMany3.default);exports.default=HasManyFiles},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FetchError=void 0;var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(4)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(6)),_inherits3=_interopRequireDefault(__webpack_require__(7)),_stringify2=_interopRequireDefault(__webpack_require__(175)),_regenerator2=_interopRequireDefault(__webpack_require__(15)),_asyncToGenerator3=_interopRequireDefault(__webpack_require__(17)),_extends3=_interopRequireDefault(__webpack_require__(5)),_classCallCheck3=_interopRequireDefault(__webpack_require__(1)),_createClass3=_interopRequireDefault(__webpack_require__(2)),_AppCollection=__webpack_require__(383),_AppCollection2=_interopRequireDefault(_AppCollection),_AppToken2=_interopRequireDefault(__webpack_require__(740)),_DocumentCollection2=_interopRequireDefault(__webpack_require__(62)),_FileCollection2=_interopRequireDefault(__webpack_require__(245)),_JobCollection=__webpack_require__(385),_JobCollection2=_interopRequireDefault(_JobCollection),_KonnectorCollection=__webpack_require__(746),_KonnectorCollection2=_interopRequireDefault(_KonnectorCollection),_SharingCollection2=_interopRequireDefault(__webpack_require__(747)),_PermissionCollection2=_interopRequireDefault(__webpack_require__(748)),_TriggerCollection=__webpack_require__(386),_TriggerCollection2=_interopRequireDefault(_TriggerCollection),_SettingsCollection=__webpack_require__(749),_SettingsCollection2=_interopRequireDefault(_SettingsCollection),_getIconURL3=_interopRequireDefault(__webpack_require__(750)),_logDeprecate2=_interopRequireDefault(__webpack_require__(387)),_errors2=_interopRequireDefault(__webpack_require__(752));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CozyStackClient=function(){function CozyStackClient(options){(0,_classCallCheck3.default)(this,CozyStackClient);var opts=(0,_extends3.default)({},options),token=opts.token,_opts$uri=opts.uri,uri=void 0===_opts$uri?"":_opts$uri;this.options=opts,this.setUri(uri),this.setToken(token),this.konnectors=new _KonnectorCollection2.default(this),this.jobs=new _JobCollection2.default(this)}var _ref4,_ref3,_ref2,_ref;return(0,_createClass3.default)(CozyStackClient,[{key:"collection",value:function(doctype){if(!doctype)throw new Error("CozyStackClient.collection() called without a doctype");switch(doctype){case _AppCollection.APPS_DOCTYPE:return new _AppCollection2.default(this);case _KonnectorCollection.KONNECTORS_DOCTYPE:return new _KonnectorCollection2.default(this);case"io.cozy.files":return new _FileCollection2.default(doctype,this);case"io.cozy.sharings":return new _SharingCollection2.default(doctype,this);case"io.cozy.permissions":return new _PermissionCollection2.default(doctype,this);case _TriggerCollection.TRIGGERS_DOCTYPE:return new _TriggerCollection2.default(this);case _JobCollection.JOBS_DOCTYPE:return new _JobCollection2.default(this);case _SettingsCollection.SETTINGS_DOCTYPE:return new _SettingsCollection2.default(this);default:return new _DocumentCollection2.default(doctype,this)}}},{key:"fetch",value:function(_fetch){function fetch(_x,_x2,_x3){return _fetch.apply(this,arguments)}return fetch.toString=function(){return _fetch.toString()},fetch}((_ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(method,path,body){var options,headers,_this=this,opts=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return(options=(0,_extends3.default)({},opts)).method=method,headers=options.headers=(0,_extends3.default)({},opts.headers),"GET"!==method&&"HEAD"!==method&&void 0!==body&&headers["Content-Type"]&&(options.body=body),headers.Authorization||(headers.Authorization=this.getAuthorizationHeader()),options.credentials="include",_context.abrupt("return",fetch(this.fullpath(path),options).catch(function(err){throw _this.checkForRevocation(err),err}));case 7:case"end":return _context.stop()}},_callee,this)})),function(_x5,_x6,_x7){return _ref.apply(this,arguments)}))},{key:"checkForRevocation",value:function(err){err.message&&_errors2.default.CLIENT_NOT_FOUND.test(err.message)&&this.onRevocationChange(!0)}},{key:"onRevocationChange",value:function(state){this.options&&this.options.onRevocationChange&&this.options.onRevocationChange(state)}},{key:"refreshToken",value:(_ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var options,response,html,parser,doc,appNode,cozyToken,newToken;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(this.token){_context2.next=2;break}throw new Error("Cannot refresh an empty token");case 2:if(options={method:"GET",credentials:"include"},global.document){_context2.next=5;break}throw new Error("Not in a web context, cannot refresh token");case 5:return _context2.next=7,fetch("/",options);case 7:if((response=_context2.sent).ok){_context2.next=10;break}throw new Error("couldn't fetch a new token - response "+response.statusCode);case 10:return _context2.next=12,response.text();case 12:if(html=_context2.sent,parser=new DOMParser,doc=parser.parseFromString(html,"text/html")){_context2.next=17;break}throw Error("couldn't fetch a new token - doc is not html");case 17:if(appNode=doc.querySelector('div[role="application"]')){_context2.next=20;break}throw Error("couldn't fetch a new token - no div[role=application]");case 20:if(cozyToken=appNode.dataset.cozyToken){_context2.next=23;break}throw Error("couldn't fetch a new token -- missing data-cozy-token attribute");case 23:return newToken=new _AppToken2.default(cozyToken),this.onTokenRefresh&&"function"==typeof this.onTokenRefresh&&this.onTokenRefresh(newToken),_context2.abrupt("return",newToken);case 26:case"end":return _context2.stop()}},_callee2,this)})),function(){return _ref2.apply(this,arguments)})},{key:"fetchJSON",value:(_ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(method,path,body){var token,options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.prev=0,_context3.next=3,this.fetchJSONWithCurrentToken(method,path,body,options);case 3:return _context3.abrupt("return",_context3.sent);case 6:if(_context3.prev=6,_context3.t0=_context3.catch(0),!_errors2.default.EXPIRED_TOKEN.test(_context3.t0.message)){_context3.next=25;break}return token=void 0,_context3.prev=10,_context3.next=13,this.refreshToken();case 13:token=_context3.sent,_context3.next=19;break;case 16:throw _context3.prev=16,_context3.t1=_context3.catch(10),_context3.t0;case 19:return this.setToken(token),_context3.next=22,this.fetchJSONWithCurrentToken(method,path,body,options);case 22:return _context3.abrupt("return",_context3.sent);case 25:throw _context3.t0;case 26:case"end":return _context3.stop()}},_callee3,this,[[0,6],[10,16]])})),function(_x9,_x10,_x11){return _ref3.apply(this,arguments)})},{key:"fetchJSONWithCurrentToken",value:(_ref4=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(method,path,body){var headers,resp,contentType,isJson,data,options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return(headers=options.headers=options.headers||{}).Accept="application/json","GET"!==method&&"HEAD"!==method&&void 0!==body&&(headers["Content-Type"]||(headers["Content-Type"]="application/json",body=(0,_stringify2.default)(body))),_context4.next=5,this.fetch(method,path,body,options);case 5:return resp=_context4.sent,contentType=resp.headers.get("content-type"),isJson=contentType&&contentType.indexOf("json")>=0,_context4.next=10,isJson?resp.json():resp.text();case 10:if(data=_context4.sent,!resp.ok){_context4.next=13;break}return _context4.abrupt("return",data);case 13:throw new FetchError(resp,data);case 14:case"end":return _context4.stop()}},_callee4,this)})),function(_x13,_x14,_x15){return _ref4.apply(this,arguments)})},{key:"fullpath",value:function(path){return path.startsWith("http")?path:this.uri+path}},{key:"getAuthorizationHeader",value:function(){return this.token?this.token.toAuthHeader():null}},{key:"setCredentials",value:function(token){return(0,_logDeprecate2.default)("CozyStackClient::setCredentials is deprecated, use CozyStackClient::setToken"),this.setToken(token)}},{key:"getCredentials",value:function(){return(0,_logDeprecate2.default)("CozyStackClient::getCredentials is deprecated, use CozyStackClient::getAuthorizationHeader"),this.getAuthorizationHeader()}},{key:"setToken",value:function(token){this.token=token?new _AppToken2.default(token):null,token&&this.onRevocationChange(!1)}},{key:"getAccessToken",value:function(){return this.token&&this.token.getAccessToken()}},{key:"setUri",value:function(uri){this.uri=function(uri){if(null===uri)return null;for(;"/"===uri[uri.length-1];)uri=uri.slice(0,-1);return uri}(uri)}},{key:"getIconURL",value:function(opts){return(0,_getIconURL3.default)(this,opts)}}]),CozyStackClient}(),FetchError=exports.FetchError=function(_Error){function FetchError(response,reason){(0,_classCallCheck3.default)(this,FetchError);var _this2=(0,_possibleConstructorReturn3.default)(this,(FetchError.__proto__||(0,_getPrototypeOf2.default)(FetchError)).call(this));return Error.captureStackTrace&&Error.captureStackTrace(_this2,_this2.constructor),_this2.name="FetchError",_this2.response=response,_this2.url=response.url,_this2.status=response.status,_this2.reason=reason,Object.defineProperty(_this2,"message",{value:reason.message||("string"==typeof reason?reason:(0,_stringify2.default)(reason))}),_this2}return(0,_inherits3.default)(FetchError,_Error),FetchError}(Error);exports.default=CozyStackClient},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.normalizeApp=exports.APPS_DOCTYPE=void 0;var _regenerator2=_interopRequireDefault(__webpack_require__(15)),_asyncToGenerator3=_interopRequireDefault(__webpack_require__(17)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(4)),_classCallCheck3=_interopRequireDefault(__webpack_require__(1)),_createClass3=_interopRequireDefault(__webpack_require__(2)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(6)),_inherits3=_interopRequireDefault(__webpack_require__(7)),_extends3=_interopRequireDefault(__webpack_require__(5)),_DocumentCollection2=__webpack_require__(62),_DocumentCollection3=_interopRequireDefault(_DocumentCollection2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var APPS_DOCTYPE=exports.APPS_DOCTYPE="io.cozy.apps",normalizeApp=exports.normalizeApp=function(app,doctype){return(0,_extends3.default)({},app,(0,_DocumentCollection2.normalizeDoc)(app,doctype),app.attributes)},AppCollection=function(_DocumentCollection){function AppCollection(stackClient){(0,_classCallCheck3.default)(this,AppCollection);var _this=(0,_possibleConstructorReturn3.default)(this,(AppCollection.__proto__||(0,_getPrototypeOf2.default)(AppCollection)).call(this,APPS_DOCTYPE,stackClient));return _this.endpoint="/apps/",_this}var _ref5,_ref4,_ref3,_ref2,_ref;return(0,_inherits3.default)(AppCollection,_DocumentCollection),(0,_createClass3.default)(AppCollection,[{key:"all",value:(_ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var resp,_this2=this;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.stackClient.fetchJSON("GET",this.endpoint);case 2:return resp=_context.sent,_context.abrupt("return",{data:resp.data.map(function(app){return normalizeApp(app,_this2.doctype)}),meta:{count:resp.meta.count},skip:0,next:!1});case 4:case"end":return _context.stop()}},_callee,this)})),function(){return _ref.apply(this,arguments)})},{key:"get",value:(_ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:throw new Error("get() method is not yet implemented");case 1:case"end":return _context2.stop()}},_callee2,this)})),function(){return _ref2.apply(this,arguments)})},{key:"create",value:(_ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(){return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:throw new Error("create() method is not available for applications");case 1:case"end":return _context3.stop()}},_callee3,this)})),function(){return _ref3.apply(this,arguments)})},{key:"update",value:(_ref4=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(){return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:throw new Error("update() method is not available for applications");case 1:case"end":return _context4.stop()}},_callee4,this)})),function(){return _ref4.apply(this,arguments)})},{key:"destroy",value:(_ref5=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee5(){return _regenerator2.default.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:throw new Error("destroy() method is not available for applications");case 1:case"end":return _context5.stop()}},_callee5,this)})),function(){return _ref5.apply(this,arguments)})}]),AppCollection}(_DocumentCollection3.default);AppCollection.normalizeDoctype=_DocumentCollection3.default.normalizeDoctypeJsonApi,exports.default=AppCollection},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildURL=exports.encode=void 0;var _slicedToArray3=_interopRequireDefault(__webpack_require__(174)),_entries2=_interopRequireDefault(__webpack_require__(173)),_pickBy2=_interopRequireDefault(__webpack_require__(147));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var encode=exports.encode=function(data){return(0,_entries2.default)(data).map(function(_ref){var _ref2=(0,_slicedToArray3.default)(_ref,2);return _ref2[0]+"="+function encodeValues(values){var fromArray=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Array.isArray(values)?"["+values.map(function(v){return encodeValues(v,!0)}).join(",")+"]":fromArray?encodeURIComponent('"'+values+'"'):encodeURIComponent(values)}(_ref2[1])}).join("&")};exports.buildURL=function(url,params){var qs=encode((0,_pickBy2.default)(params));return qs?url+"?"+qs:url}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hasJobFinished=exports.normalizeJob=exports.JOBS_DOCTYPE=void 0;var _regenerator2=_interopRequireDefault(__webpack_require__(15)),_taggedTemplateLiteral3=_interopRequireDefault(__webpack_require__(108)),_asyncToGenerator3=_interopRequireDefault(__webpack_require__(17)),_classCallCheck3=_interopRequireDefault(__webpack_require__(1)),_createClass3=_interopRequireDefault(__webpack_require__(2)),_extends3=_interopRequireDefault(__webpack_require__(5)),_promise2=_interopRequireDefault(__webpack_require__(73)),_templateObject=(0,_taggedTemplateLiteral3.default)(["/jobs/",""],["/jobs/",""]),_Collection2=_interopRequireDefault(__webpack_require__(244)),_DocumentCollection=__webpack_require__(62),_utils=__webpack_require__(109);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var JOBS_DOCTYPE=exports.JOBS_DOCTYPE="io.cozy.jobs",sleep=function(delay){return new _promise2.default(function(resolve){return setTimeout(resolve,delay)})},normalizeJob=exports.normalizeJob=function(job){return(0,_extends3.default)({},job,(0,_DocumentCollection.normalizeDoc)(job,JOBS_DOCTYPE),job.attributes)},hasJobFinished=exports.hasJobFinished=function(job){return"done"===job.state||"errored"===job.state},JobCollection=function(){function JobCollection(stackClient){(0,_classCallCheck3.default)(this,JobCollection),this.stackClient=stackClient}var _ref2,_ref;return(0,_createClass3.default)(JobCollection,[{key:"queued",value:function(workerType){return this.stackClient.fetchJSON("GET","/jobs/queue/"+workerType)}},{key:"create",value:function(workerType,args,options){return this.stackClient.fetchJSON("POST","/jobs/queue/"+workerType,{data:{type:JOBS_DOCTYPE,attributes:{arguments:args||{},options:options||{}}}})}},{key:"get",value:(_ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(id){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",_Collection2.default.get(this.stackClient,(0,_utils.uri)(_templateObject,id),{normalize:normalizeJob}));case 1:case"end":return _context.stop()}},_callee,this)})),function(_x){return _ref.apply(this,arguments)})},{key:"waitFor",value:(_ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(id){var start,jobData,now,_ref3=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref3$onUpdate=_ref3.onUpdate,onUpdate=void 0===_ref3$onUpdate?null:_ref3$onUpdate,_ref3$until=_ref3.until,until=void 0===_ref3$until?hasJobFinished:_ref3$until,_ref3$delay=_ref3.delay,delay=void 0===_ref3$delay?5e3:_ref3$delay,_ref3$timeout=_ref3.timeout,timeout=void 0===_ref3$timeout?3e5:_ref3$timeout;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return start=Date.now(),_context2.next=3,this.get(id);case 3:jobData=_context2.sent.data.attributes;case 4:if(jobData&&until(jobData)){_context2.next=16;break}return _context2.next=7,sleep(delay);case 7:return _context2.next=9,this.get(id);case 9:if(jobData=_context2.sent.data.attributes,onUpdate&&onUpdate(jobData),now=Date.now(),!(start-now>timeout)){_context2.next=14;break}throw new Error("Timeout for JobCollection::waitFor");case 14:_context2.next=4;break;case 16:return _context2.abrupt("return",jobData);case 17:case"end":return _context2.stop()}},_callee2,this)})),function(_x3){return _ref2.apply(this,arguments)})}]),JobCollection}();exports.default=JobCollection},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isForAccount=exports.isForKonnector=exports.normalizeTrigger=exports.TRIGGERS_DOCTYPE=exports.JOBS_DOCTYPE=void 0;var _keys2=_interopRequireDefault(__webpack_require__(66)),_taggedTemplateLiteral3=_interopRequireDefault(__webpack_require__(108)),_regenerator2=_interopRequireDefault(__webpack_require__(15)),_asyncToGenerator3=_interopRequireDefault(__webpack_require__(17)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(4)),_classCallCheck3=_interopRequireDefault(__webpack_require__(1)),_createClass3=_interopRequireDefault(__webpack_require__(2)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(6)),_get3=_interopRequireDefault(__webpack_require__(177)),_inherits3=_interopRequireDefault(__webpack_require__(7)),_extends3=_interopRequireDefault(__webpack_require__(5)),_templateObject=(0,_taggedTemplateLiteral3.default)(["/jobs/triggers"],["/jobs/triggers"]),_templateObject2=(0,_taggedTemplateLiteral3.default)(["/jobs/triggers/",""],["/jobs/triggers/",""]),_templateObject3=(0,_taggedTemplateLiteral3.default)(["/jobs/triggers/","/launch"],["/jobs/triggers/","/launch"]),_Collection=__webpack_require__(244),_Collection2=_interopRequireDefault(_Collection),_DocumentCollection2=__webpack_require__(62),_DocumentCollection3=_interopRequireDefault(_DocumentCollection2),_JobCollection=__webpack_require__(385),_utils=__webpack_require__(109);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.JOBS_DOCTYPE="io.cozy.jobs";var TRIGGERS_DOCTYPE=exports.TRIGGERS_DOCTYPE="io.cozy.triggers",normalizeTrigger=exports.normalizeTrigger=function(trigger){return(0,_extends3.default)({},trigger,(0,_DocumentCollection2.normalizeDoc)(trigger,TRIGGERS_DOCTYPE),trigger.attributes)},TriggerCollection=(exports.isForKonnector=function(triggerAttrs,slug){return"konnector"===triggerAttrs.worker&&triggerAttrs.message.konnector==slug},exports.isForAccount=function(triggerAttrs,accountId){return triggerAttrs.message.account==accountId},function(_DocumentCollection){function TriggerCollection(stackClient){return(0,_classCallCheck3.default)(this,TriggerCollection),(0,_possibleConstructorReturn3.default)(this,(TriggerCollection.__proto__||(0,_getPrototypeOf2.default)(TriggerCollection)).call(this,TRIGGERS_DOCTYPE,stackClient))}var _ref7,_ref6,_ref5,_ref4,_ref3,_ref2,_ref;return(0,_inherits3.default)(TriggerCollection,_DocumentCollection),(0,_createClass3.default)(TriggerCollection,[{key:"all",value:(_ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var resp;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,this.stackClient.fetchJSON("GET","/jobs/triggers");case 3:return resp=_context.sent,_context.abrupt("return",{data:resp.data.map(function(row){return normalizeTrigger(row,TRIGGERS_DOCTYPE)}),meta:{count:resp.data.length},next:!1,skip:0});case 7:return _context.prev=7,_context.t0=_context.catch(0),_context.abrupt("return",(0,_Collection.dontThrowNotFoundError)(_context.t0));case 10:case"end":return _context.stop()}},_callee,this,[[0,7]])})),function(){return _ref.apply(this,arguments)})},{key:"create",value:(_ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(attributes){var path,resp;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return path=(0,_utils.uri)(_templateObject),_context2.next=3,this.stackClient.fetchJSON("POST",path,{data:{attributes:attributes}});case 3:return resp=_context2.sent,_context2.abrupt("return",{data:normalizeTrigger(resp.data)});case 5:case"end":return _context2.stop()}},_callee2,this)})),function(_x2){return _ref2.apply(this,arguments)})},{key:"destroy",value:(_ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(document){var _id;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(_id=document._id){_context3.next=3;break}throw new Error("TriggerCollection.destroy needs a document with an _id");case 3:return _context3.next=5,this.stackClient.fetchJSON("DELETE",(0,_utils.uri)(_templateObject2,_id));case 5:return _context3.abrupt("return",{data:normalizeTrigger((0,_extends3.default)({},document,{_deleted:!0}))});case 6:case"end":return _context3.stop()}},_callee3,this)})),function(_x3){return _ref3.apply(this,arguments)})},{key:"find",value:(_ref4=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(){var url,resp,selector=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(1!==(0,_keys2.default)(selector).length||!selector.worker){_context4.next=14;break}return url="/jobs/triggers?Worker="+selector.worker,_context4.prev=2,_context4.next=5,this.stackClient.fetchJSON("GET",url);case 5:return resp=_context4.sent,_context4.abrupt("return",{data:resp.data.map(function(row){return normalizeTrigger(row,TRIGGERS_DOCTYPE)}),meta:{count:resp.data.length},next:!1,skip:0});case 9:return _context4.prev=9,_context4.t0=_context4.catch(2),_context4.abrupt("return",(0,_Collection.dontThrowNotFoundError)(_context4.t0));case 12:_context4.next=15;break;case 14:return _context4.abrupt("return",(0,_get3.default)(TriggerCollection.prototype.__proto__||(0,_getPrototypeOf2.default)(TriggerCollection.prototype),"find",this).call(this,selector,options));case 15:case"end":return _context4.stop()}},_callee4,this,[[2,9]])})),function(){return _ref4.apply(this,arguments)})},{key:"get",value:(_ref5=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee5(id){return _regenerator2.default.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.abrupt("return",_Collection2.default.get(this.stackClient,(0,_utils.uri)(_templateObject2,id),{normalize:normalizeTrigger}));case 1:case"end":return _context5.stop()}},_callee5,this)})),function(_x6){return _ref5.apply(this,arguments)})},{key:"launch",value:(_ref6=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee6(trigger){var path,resp;return _regenerator2.default.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return path=(0,_utils.uri)(_templateObject3,trigger._id),_context6.next=3,this.stackClient.fetchJSON("POST",path);case 3:return resp=_context6.sent,_context6.abrupt("return",{data:(0,_JobCollection.normalizeJob)(resp.data)});case 5:case"end":return _context6.stop()}},_callee6,this)})),function(_x7){return _ref6.apply(this,arguments)})},{key:"update",value:(_ref7=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee7(){return _regenerator2.default.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:throw new Error("update() method is not available for triggers");case 1:case"end":return _context7.stop()}},_callee7,this)})),function(){return _ref7.apply(this,arguments)})}]),TriggerCollection}(_DocumentCollection3.default));TriggerCollection.normalizeDoctype=_DocumentCollection3.default.normalizeDoctypeJsonApi,exports.default=TriggerCollection},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default=function(){var _console;(_console=console).warn.apply(_console,arguments)}},function(module,exports,__webpack_require__){var baseSlice=__webpack_require__(294);module.exports=function(array,start,end){var length=array.length;return end=void 0===end?length:end,!start&&end>=length?array:baseSlice(array,start,end)}},function(module,exports,__webpack_require__){var asciiToArray=__webpack_require__(760),hasUnicode=__webpack_require__(222),unicodeToArray=__webpack_require__(761);module.exports=function(string){return hasUnicode(string)?unicodeToArray(string):asciiToArray(string)}},function(module,exports,__webpack_require__){const PropTypes=__webpack_require__(183),get=__webpack_require__(11),log=__webpack_require__(391),Document=__webpack_require__(38),getPrimaryOrFirst=property=>obj=>obj[property]&&0!==obj[property].length?obj[property].find(property=>property.primary)||obj[property][0]:"";class Contact extends Document{static isContact(candidate){return candidate._type===Contact.doctype}static getInitials(contact){if("string"==typeof contact)return log("warn","Passing a string to Contact.getInitials will be deprecated soon."),contact[0].toUpperCase();if(contact.name)return["givenName","familyName"].map(part=>get(contact,["name",part,0],"")).join("").toUpperCase();const email=Contact.getPrimaryEmail(contact);return email?email[0].toUpperCase():(log("warn","Contact has no name and no email."),"")}static getPrimaryEmail(contact){return Array.isArray(contact.email)?getPrimaryOrFirst("email")(contact).address:contact.email}static getPrimaryCozy(contact){return Array.isArray(contact.cozy)?getPrimaryOrFirst("cozy")(contact).url:contact.url}static getPrimaryPhone(contact){return getPrimaryOrFirst("phone")(contact).number}static getPrimaryAddress(contact){return getPrimaryOrFirst("address")(contact).formattedAddress}static getFullname(contact){return contact.fullname?contact.fullname:contact.name?["namePrefix","givenName","additionalName","familyName","nameSuffix"].map(part=>contact.name[part]).filter(part=>void 0!==part).join(" ").trim():void 0}static getDisplayName(contact){return Contact.getFullname(contact)||Contact.getPrimaryEmail(contact)}}const ContactShape=PropTypes.shape({_id:PropTypes.string.isRequired,_type:PropTypes.string.isRequired,fullname:PropTypes.string,name:PropTypes.shape({givenName:PropTypes.string,familyName:PropTypes.string,additionalName:PropTypes.string,namePrefix:PropTypes.string,nameSuffix:PropTypes.string}),birthday:PropTypes.string,note:PropTypes.string,email:PropTypes.arrayOf(PropTypes.shape({address:PropTypes.string.isRequired,label:PropTypes.string,type:PropTypes.string,primary:PropTypes.bool})),address:PropTypes.arrayOf(PropTypes.shape({street:PropTypes.string,pobox:PropTypes.string,city:PropTypes.string,region:PropTypes.string,postcode:PropTypes.string,country:PropTypes.string,type:PropTypes.string,primary:PropTypes.bool,label:PropTypes.string,formattedAddress:PropTypes.string})),phone:PropTypes.arrayOf(PropTypes.shape({number:PropTypes.string.isRequired,type:PropTypes.string,label:PropTypes.string,primary:PropTypes.bool})),cozy:PropTypes.arrayOf(PropTypes.shape({url:PropTypes.string.isRequired,label:PropTypes.string,primary:PropTypes.bool})),company:PropTypes.string,jobTitle:PropTypes.string,trashed:PropTypes.bool,me:PropTypes.bool,relationships:PropTypes.shape({accounts:PropTypes.shape({data:PropTypes.arrayOf(PropTypes.shape({_id:PropTypes.string.isRequired,_type:PropTypes.string.isRequired}))}),groups:PropTypes.shape({data:PropTypes.arrayOf(PropTypes.shape({_id:PropTypes.string.isRequired,_type:PropTypes.string.isRequired}))})})});Contact.doctype="io.cozy.contacts",Contact.propType=ContactShape,module.exports=Contact},function(module,exports,__webpack_require__){const log=__webpack_require__(29).namespace("doctypes");module.exports=log},function(module,exports,__webpack_require__){const Document=__webpack_require__(38),STORE_SLUG="store";class Application extends Document{static getStoreInstallationURL(appData=[],app={}){if(!app.slug)throw new Error("Expected app / konnector with the defined slug");const storeApp=this.isInstalled(appData,{slug:STORE_SLUG});if(!storeApp)return null;const storeUrl=storeApp.links&&storeApp.links.related;return storeUrl?`${storeUrl}#/discover/${app.slug}/install`:null}static isInstalled(apps=[],wantedApp={}){return apps.find(app=>app.attributes&&app.attributes.slug===wantedApp.slug)}static getUrl(app){return app.links&&app.links.related}}Application.schema={doctype:"io.cozy.apps",attributes:{}},Application.doctype="io.cozy.apps",module.exports=Application},function(module,exports){module.exports={eitherIncludes:(str1,str2)=>Boolean(str1&&str2&&(str1.includes(str2)||str2.includes(str1)))}},function(module,exports,__webpack_require__){const labelSlugs=__webpack_require__(778),institutionLabelsCompiled=Object.entries(labelSlugs).map(([ilabelRx,slug])=>"/"===ilabelRx[0]&&"/"===ilabelRx[ilabelRx.length-1]?[new RegExp(ilabelRx.substr(1,ilabelRx.length-2),"i"),slug]:[ilabelRx,slug]);module.exports={getSlugFromInstitutionLabel:institutionLabel=>{if(institutionLabel)for(const[rx,slug]of institutionLabelsCompiled)if(rx instanceof RegExp){if(institutionLabel.match(rx))return slug}else if(rx.toLowerCase()===institutionLabel.toLowerCase())return slug}}},function(module,exports,__webpack_require__){const trimEnd=__webpack_require__(783),Document=__webpack_require__(38),FILENAME_WITH_EXTENSION_REGEX=/(.+)(\..*)$/;class CozyFile extends Document{static async getFullpath(dirId,name){if(!dirId)throw new Error("You must provide a dirId");const parentDir=await this.get(dirId);return`${trimEnd(parentDir.path,"/")}/${name}`}static async move(fileId,destination,force=!1){const{folderId:folderId,path:path}=destination,filesCollection=this.cozyClient.collection("io.cozy.files");try{return{moved:(await filesCollection.updateFileMetadata(fileId,{dir_id:folderId})).data,deleted:null}}catch(e){if(409===e.status&&force){let destinationPath;if(path)destinationPath=path;else{const filename=(await this.get(fileId)).name;destinationPath=await this.getFullpath(folderId,filename)}const conflictResp=await filesCollection.statByPath(destinationPath);return await filesCollection.destroy(conflictResp.data),{moved:(await filesCollection.updateFileMetadata(fileId,{dir_id:folderId})).data,deleted:conflictResp.data.id}}throw e}}static splitFilename(file){if(!file.name)throw new Error("file should have a name property ");if("file"===file.type){const match=file.name.match(FILENAME_WITH_EXTENSION_REGEX);if(match)return{filename:match[1],extension:match[2]}}return{filename:file.name,extension:""}}static async overrideFileForPath(path,file,metadata){path.endsWith("/")||(path+="/");const filesCollection=this.cozyClient.collection("io.cozy.files");try{const existingFile=await filesCollection.statByPath(path+file.name),{id:fileId,dir_id:dirId}=existingFile.data;return await filesCollection.updateFile(file,{dirId:dirId,fileId:fileId,metadata:metadata})}catch(error){if(/Not Found/.test(error)){const dirId=await filesCollection.ensureDirectoryExists(path);return await filesCollection.createFile(file,{dirId:dirId,metadata:metadata})}throw error}}static generateNewFileNameOnConflict(filenameWithoutExtension){const regex=new RegExp("(_)([0-9]+)$"),matches=filenameWithoutExtension.match(regex);if(matches){let versionNumber=parseInt(matches[2]);return versionNumber++,filenameWithoutExtension.replace(new RegExp("(_)([0-9]+)$"),`_${versionNumber}`)}return`${filenameWithoutExtension}_1`}static async uploadFileWithConflictStrategy(name,file,dirId,conflictStrategy){const filesCollection=this.cozyClient.collection("io.cozy.files");try{const path=await CozyFile.getFullpath(dirId,name),existingFile=await filesCollection.statByPath(path),{id:fileId}=existingFile.data;if("erase"===conflictStrategy){return await filesCollection.updateFile(file,{dirId:dirId,fileId:fileId,name:name})}{const{filename:filename,extension:extension}=CozyFile.splitFilename({name:name,type:"file"}),newFileName=CozyFile.generateNewFileNameOnConflict(filename)+extension;return CozyFile.uploadFileWithConflictStrategy(newFileName,file,dirId,conflictStrategy)}}catch(error){if(/Not found/.test(error))return await CozyFile.upload(name,file,dirId);throw error}}static async upload(name,file,dirId){return this.cozyClient.collection("io.cozy.files").createFile(file,{name:name,dirId:dirId,contentType:"image/jpeg"})}}CozyFile.doctype="io.cozy.files",module.exports=CozyFile},,function(module,exports){module.exports="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)},function(module,exports){module.exports={black:"var(--black)",white:"var(--white)",paleGrey:"var(--paleGrey)",silver:"var(--silver)",coolGrey:"var(--coolGrey)",slateGrey:"var(--slateGrey)",charcoalGrey:"var(--charcoalGrey)",overlay:"var(--overlay)",zircon:"var(--zircon)",frenchPass:"var(--frenchPass)",dodgerBlue:"var(--dodgerBlue)",scienceBlue:"var(--scienceBlue)",puertoRico:"var(--puertoRico)",grannyApple:"var(--grannyApple)",emerald:"var(--emerald)",malachite:"var(--malachite)",seafoamGreen:"var(--seafoamGreen)",brightSun:"var(--brightSun)",texasRose:"var(--texasRose)",chablis:"var(--chablis)",yourPink:"var(--yourPink)",fuchsia:"var(--fuchsia)",pomegranate:"var(--pomegranate)",monza:"var(--monza)",portage:"var(--portage)",azure:"var(--azure)",melon:"var(--melon)",blazeOrange:"var(--blazeOrange)",mango:"var(--mango)",pumpkinOrange:"var(--pumpkinOrange)",lavender:"var(--lavender)",darkPeriwinkle:"var(--darkPeriwinkle)",purpley:"var(--purpley)",lightishPurple:"var(--lightishPurple)",barney:"var(--barney)",weirdGreen:"var(--weirdGreen)",primaryColor:"var(--primaryColor)",primaryColorLight:"var(--primaryColorLight)",primaryContrastTextColor:"var(--primaryContrastTextColor)"}},function(module,__webpack_exports__,__webpack_require__){"use strict";function symbolObservablePonyfill(root){var result,Symbol=root.Symbol;return"function"==typeof Symbol?Symbol.observable?result=Symbol.observable:(result=Symbol("observable"),Symbol.observable=result):result="@@observable",result}__webpack_require__.d(__webpack_exports__,"a",function(){return symbolObservablePonyfill})},,function(module,exports){module.exports=function(value){return void 0===value}},function(module,exports,__webpack_require__){var rng=__webpack_require__(862),bytesToUuid=__webpack_require__(863);module.exports=function(options,buf,offset){var i=buf&&offset||0;"string"==typeof options&&(buf="binary"===options?new Array(16):null,options=null);var rnds=(options=options||{}).random||(options.rng||rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf)for(var ii=0;ii<16;++ii)buf[i+ii]=rnds[ii];return buf||bytesToUuid(rnds)}},function(module,exports,__webpack_require__){var realNames=__webpack_require__(517),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(func){for(var result=func.name+"",array=realNames[result],length=hasOwnProperty.call(realNames,result)?array.length:0;length--;){var data=array[length],otherFunc=data.func;if(null==otherFunc||otherFunc==func)return data.name}return result}},function(module,exports,__webpack_require__){var Stack=__webpack_require__(155),arrayEach=__webpack_require__(154),assignValue=__webpack_require__(187),baseAssign=__webpack_require__(472),baseAssignIn=__webpack_require__(601),cloneBuffer=__webpack_require__(323),copyArray=__webpack_require__(145),copySymbols=__webpack_require__(602),copySymbolsIn=__webpack_require__(603),getAllKeys=__webpack_require__(329),getAllKeysIn=__webpack_require__(221),getTag=__webpack_require__(110),initCloneArray=__webpack_require__(604),initCloneByTag=__webpack_require__(605),initCloneObject=__webpack_require__(326),isArray=__webpack_require__(12),isBuffer=__webpack_require__(123),isMap=__webpack_require__(609),isObject=__webpack_require__(27),isSet=__webpack_require__(611),keys=__webpack_require__(68),CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4,argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]",objectTag="[object Object]",cloneableTags={};cloneableTags[argsTag]=cloneableTags["[object Array]"]=cloneableTags["[object ArrayBuffer]"]=cloneableTags["[object DataView]"]=cloneableTags["[object Boolean]"]=cloneableTags["[object Date]"]=cloneableTags["[object Float32Array]"]=cloneableTags["[object Float64Array]"]=cloneableTags["[object Int8Array]"]=cloneableTags["[object Int16Array]"]=cloneableTags["[object Int32Array]"]=cloneableTags["[object Map]"]=cloneableTags["[object Number]"]=cloneableTags[objectTag]=cloneableTags["[object RegExp]"]=cloneableTags["[object Set]"]=cloneableTags["[object String]"]=cloneableTags["[object Symbol]"]=cloneableTags["[object Uint8Array]"]=cloneableTags["[object Uint8ClampedArray]"]=cloneableTags["[object Uint16Array]"]=cloneableTags["[object Uint32Array]"]=!0,cloneableTags["[object Error]"]=cloneableTags[funcTag]=cloneableTags["[object WeakMap]"]=!1,module.exports=function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=bitmask&CLONE_DEEP_FLAG,isFlat=bitmask&CLONE_FLAT_FLAG,isFull=bitmask&CLONE_SYMBOLS_FLAG;if(customizer&&(result=object?customizer(value,key,object,stack):customizer(value)),void 0!==result)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return copyArray(value,result)}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value))return cloneBuffer(value,isDeep);if(tag==objectTag||tag==argsTag||isFunc&&!object){if(result=isFlat||isFunc?{}:initCloneObject(value),!isDeep)return isFlat?copySymbolsIn(value,baseAssignIn(result,value)):copySymbols(value,baseAssign(result,value))}else{if(!cloneableTags[tag])return object?value:{};result=initCloneByTag(value,tag,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked)return stacked;stack.set(value,result),isSet(value)?value.forEach(function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack))}):isMap(value)&&value.forEach(function(subValue,key){result.set(key,baseClone(subValue,bitmask,customizer,key,value,stack))});var keysFunc=isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys,props=isArr?void 0:keysFunc(value);return arrayEach(props||value,function(subValue,key){props&&(subValue=value[key=subValue]),assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))}),result}},function(module,exports,__webpack_require__){"use strict";var moduleCache,fs=__webpack_require__(67),url=__webpack_require__(20),transports=__webpack_require__(892),path=__webpack_require__(47),lsmod=__webpack_require__(1401),stacktrace=__webpack_require__(1402),stringify=__webpack_require__(891),ravenVersion=__webpack_require__(1158).version,protocolMap={http:80,https:443},consoleAlerts=new Set,MAX_SERIALIZE_EXCEPTION_DEPTH=3,MAX_SERIALIZE_EXCEPTION_SIZE=51200,MAX_SERIALIZE_KEYS_LENGTH=40;function jsonSize(value){return function(value){return~-encodeURI(value).split(/%..|./).length}(JSON.stringify(value))}function isPlainObject(what){return"[object Object]"===Object.prototype.toString.call(what)}function serializeValue(value){if("string"==typeof value)return value.length<=40?value:value.substr(0,39)+"";if("number"==typeof value||"boolean"==typeof value||void 0===value)return value;var type=Object.prototype.toString.call(value);return"[object Object]"===type?"[Object]":"[object Array]"===type?"[Array]":"[object Function]"===type?value.name?"[Function: "+value.name+"]":"[Function]":value}module.exports.isError=function(what){return"[object Error]"===Object.prototype.toString.call(what)||what instanceof Error},module.exports.isPlainObject=isPlainObject,module.exports.serializeException=function serializeException(ex,depth,maxSize){if(!isPlainObject(ex))return ex;maxSize="number"!=typeof(depth="number"!=typeof depth?MAX_SERIALIZE_EXCEPTION_DEPTH:depth)?MAX_SERIALIZE_EXCEPTION_SIZE:maxSize;var serialized=function serializeObject(value,depth){return 0===depth?serializeValue(value):isPlainObject(value)?Object.keys(value).reduce(function(acc,key){return acc[key]=serializeObject(value[key],depth-1),acc},{}):Array.isArray(value)?value.map(function(val){return serializeObject(val,depth-1)}):serializeValue(value)}(ex,depth);return jsonSize(stringify(serialized))>maxSize?serializeException(ex,depth-1):serialized},module.exports.serializeKeysForMessage=function(keys,maxLength){if("number"==typeof keys||"string"==typeof keys)return keys.toString();if(!Array.isArray(keys))return"";if(0===(keys=keys.filter(function(key){return"string"==typeof key})).length)return"[object has no keys]";if(maxLength="number"!=typeof maxLength?MAX_SERIALIZE_KEYS_LENGTH:maxLength,keys[0].length>=maxLength)return keys[0];for(var usedKeys=keys.length;usedKeys>0;usedKeys--){var serialized=keys.slice(0,usedKeys).join(", ");if(!(serialized.length>maxLength))return usedKeys===keys.length?serialized:serialized+""}return""},module.exports.disableConsoleAlerts=function(){consoleAlerts=!1},module.exports.enableConsoleAlerts=function(){consoleAlerts=new Set},module.exports.consoleAlert=function(msg){consoleAlerts&&console.warn("raven@"+ravenVersion+" alert: "+msg)},module.exports.consoleAlertOnce=function(msg){consoleAlerts&&!consoleAlerts.has(msg)&&(consoleAlerts.add(msg),console.warn("raven@"+ravenVersion+" alert: "+msg))},module.exports.extend=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},module.exports.getAuthHeader=function(timestamp,apiKey,apiSecret){var header=["Sentry sentry_version=5"];return header.push("sentry_timestamp="+timestamp),header.push("sentry_client=raven-node/"+ravenVersion),header.push("sentry_key="+apiKey),apiSecret&&header.push("sentry_secret="+apiSecret),header.join(", ")},module.exports.parseDSN=function(dsn){if(!dsn)return!1;try{var parsed=url.parse(dsn),response={protocol:parsed.protocol.slice(0,-1),public_key:parsed.auth.split(":")[0],host:parsed.host.split(":")[0]};if(parsed.auth.split(":")[1]&&(response.private_key=parsed.auth.split(":")[1]),~response.protocol.indexOf("+")&&(response.protocol=response.protocol.split("+")[1]),!transports.hasOwnProperty(response.protocol))throw new Error("Invalid transport");var index=parsed.pathname.lastIndexOf("/");return response.path=parsed.pathname.substr(0,index+1),response.project_id=parsed.pathname.substr(index+1),response.port=~~parsed.port||protocolMap[response.protocol]||443,response}catch(e){throw new Error("Invalid Sentry DSN: "+dsn)}},module.exports.getTransaction=function(frame){return frame.module||frame.function?(frame.module||"?")+" at "+(frame.function||"?"):"<unknown>"},module.exports.getModules=function(){return moduleCache||(moduleCache=lsmod()),moduleCache},module.exports.fill=function(obj,name,replacement,track){var orig=obj[name];obj[name]=replacement(orig),track&&track.push([obj,name,orig])};var LINES_OF_CONTEXT=7;function getFunction(line){try{return line.getFunctionName()||line.getTypeName()+"."+(line.getMethodName()||"<anonymous>")}catch(e){return"<anonymous>"}}var mainModule=(__webpack_require__.c[__webpack_require__.s]&&__webpack_require__.c[__webpack_require__.s].filename&&path.dirname(__webpack_require__.c[__webpack_require__.s].filename)||global.process.cwd())+"/";function getModule(filename,base){base||(base=mainModule);var file=path.basename(filename,".js"),n=(filename=path.dirname(filename)).lastIndexOf("/node_modules/");if(n>-1)return filename.substr(n+14).replace(/\//g,".")+":"+file;if(0===(n=(filename+"/").lastIndexOf(base,0))){var module=filename.substr(base.length).replace(/\//g,".");return module&&(module+=":"),module+=file}return file}function snipLine(line,colno){var ll=line.length;if(ll<=150)return line;colno>ll&&(colno=ll);var start=Math.max(colno-60,0);start<5&&(start=0);var end=Math.min(start+140,ll);return end>ll-5&&(end=ll),end===ll&&(start=Math.max(end-140,0)),line=line.slice(start,end),start>0&&(line="{snip} "+line),end<ll&&(line+=" {snip}"),line}function snipLine0(line){return snipLine(line,0)}module.exports.parseStack=function(err,cb){if(!err)return cb([]);var stack=stacktrace.parse(err);if(!(stack&&Array.isArray(stack)&&stack.length&&stack[0].getFileName))return cb([]);stack.reverse();var frames=[],filesToRead={};return stack.forEach(function(line){var frame={filename:line.getFileName()||"",lineno:line.getLineNumber(),colno:line.getColumnNumber(),function:getFunction(line)},isInternal=line.isNative()||"/"!==frame.filename[0]&&"."!==frame.filename[0]&&1!==frame.filename.indexOf(":\\");frame.in_app=!isInternal&&-1===frame.filename.indexOf("node_modules/"),frame.filename&&(frame.module=getModule(frame.filename),isInternal||(filesToRead[frame.filename]=!0)),frames.push(frame)}),function(filenames,cb){if(0===filenames.length)return setTimeout(cb,0,{});var sourceFiles={},numFilesToRead=filenames.length;return filenames.forEach(function(filename){fs.readFile(filename,function(readErr,file){readErr||(sourceFiles[filename]=file.toString().split("\n")),0==--numFilesToRead&&cb(sourceFiles)})})}(Object.keys(filesToRead),function(sourceFiles){frames.forEach(function(frame){if(frame.filename&&sourceFiles[frame.filename]){var lines=sourceFiles[frame.filename];try{frame.pre_context=lines.slice(Math.max(0,frame.lineno-(LINES_OF_CONTEXT+1)),frame.lineno-1).map(snipLine0),frame.context_line=snipLine(lines[frame.lineno-1],frame.colno),frame.post_context=lines.slice(frame.lineno,frame.lineno+LINES_OF_CONTEXT).map(snipLine0)}catch(e){}}}),cb(frames)})},module.exports.getModule=getModule},function(module,exports,__webpack_require__){"use strict";__webpack_require__(1164);const ops=__webpack_require__(272),renderImage=(__webpack_require__(150),__webpack_require__(1428)),ALREADY_ENDED_ERROR=new Error("already ended");module.exports=class{constructor(doc,parent){this._init(doc,parent)}_init(doc,parent){this._doc=doc,this._parent=parent,this._cursor=parent._cursor,this._ended=!1,this._current=null,this._pending=parent._pending}async _pageBreak(level){this._parent&&await this._parent._pageBreak(level+1)}async _end(){}_begin(ctx){if(this._ended)throw ALREADY_ENDED_ERROR;this._current&&this._current.end(),this._current=ctx}_opts(opts){return this.opts?Object.assign({font:this.opts.font,fontSize:this.opts.fontSize,color:this.opts.color,lineHeight:this.opts.lineHeight},opts):opts}end(){if(this._ended)throw ALREADY_ENDED_ERROR;this._current&&(this._current.end(),this._current=null),this._ended=!0,this._pending.push(()=>this._end())}text(text,opts){null!==text&&"object"==typeof text&&(opts=text,text=void 0),opts&&"object"==typeof opts||(opts={});const ctx=new(__webpack_require__(898))(this._doc,this,this._opts(opts));return this._begin(ctx),ctx._pending.push(()=>ctx._start()),"string"==typeof text&&text.length>0&&ctx.add(text),ctx}cell(text,opts){null!==text&&"object"==typeof text&&(opts=text,text=void 0),opts&&"object"==typeof opts||(opts={});const ctx=new(__webpack_require__(1169))(this._doc,this,this._opts(opts));return this._begin(ctx),ctx._pending.push(()=>ctx._start()),this._pending.push(ctx._pending),"string"==typeof text&&text.length>0&&ctx.text(text,opts),ctx}table(opts){opts&&"object"==typeof opts||(opts={});const ctx=new(__webpack_require__(1441))(this._doc,this,this._opts(opts));return this._begin(ctx),ctx}image(img,opts){opts&&"object"==typeof opts||(opts={}),this._begin(null),this._pending.push(()=>renderImage(img,this._doc,this,opts))}pageBreak(){this._begin(null),this._pending.push(()=>this._parent._pageBreak(1))}op(fn){this._begin(null),this._pending.push(async()=>{this._doc._currentContent||await this._doc._startPage();let args=arguments;if("function"==typeof fn&&(args=fn(this._cursor.x,this._cursor.y),!Array.isArray(args)))throw new TypeError("Return of .op(() => {}) must be an array");return this._doc._write(ops.write.apply(ops,args))})}destination(name){this._begin(null),this._pending.push(async()=>{const DestinationRangeStyle=__webpack_require__(898).DestinationRangeStyle,self={destination:name,doc:this._doc,from:this._cursor.x,y:this._cursor.y};DestinationRangeStyle.prototype._applyStyle.call(self)})}}},function(module,exports,__webpack_require__){"use strict";const PDFValue=__webpack_require__(895);class PDFArray{constructor(array){return array||(array=[]),array.toString=function(){return"["+this.map(item=>String(item)).join(" ")+"]"},array}static parse(xref,lexer,trial){if("["!==lexer.getString(1)){if(trial)return;throw new Error("Invalid array")}lexer.shift(1),lexer.skipWhitespace(null,!0);const values=[];for(;"]"!==lexer.getString(1);)values.push(PDFValue.parse(xref,lexer)),lexer.skipWhitespace(null,!0);return lexer.shift(1),new PDFArray(values)}}module.exports=PDFArray},function(module,exports,__webpack_require__){"use strict";const PDFName=__webpack_require__(296),PDFValue=__webpack_require__(895);class PDFDictionary{constructor(dictionary){if(this.dictionary={},dictionary)for(const key in dictionary)this.add(key,dictionary[key])}add(key,val){"string"==typeof val&&(val=new PDFName(val)),this.dictionary[new PDFName(key)]=val}set(key,val){this.add(key,val)}has(key){return String(new PDFName(key))in this.dictionary}get(key){return this.dictionary[new PDFName(key)]}del(key){delete this.dictionary[new PDFName(key)]}get length(){let length=0;for(const key in this.dictionary)length++;return length}toString(){let str="";for(const key in this.dictionary){const val=this.dictionary[key];str+=`${key} ${null===val?"null":val}`.replace(/^/gm,"\t")+"\n"}return`<<\n${str}>>`}static parse(xref,lexer,trial){if("<<"!==lexer.getString(2)){if(trial)return;throw new Error("Invalid dictionary")}lexer.shift(2),lexer.skipWhitespace(null,!0);const dictionary=new PDFDictionary;for(;">>"!==lexer.getString(2);){const key=PDFName.parse(xref,lexer);lexer.skipWhitespace(null,!0);const value=PDFValue.parse(xref,lexer);dictionary.set(key,value),lexer.skipWhitespace(null,!0)}return lexer.shift(2),dictionary}}module.exports=PDFDictionary},function(module,exports,__webpack_require__){"use strict";const PDFDictionary=__webpack_require__(408),PDFReference=__webpack_require__(896),PDFValue=__webpack_require__(895);class PDFObject{constructor(type){this.id=null,this.rev=0,this.properties=new PDFDictionary,this.reference=new PDFReference(this),this.content=null,type&&this.prop("Type",type)}prop(key,val){this.properties.add(key,val)}toReference(){return this.reference}toString(){return this.id.toString()+" "+this.rev+" obj\n"+(this.properties.length?this.properties.toString()+"\n":"")+(null!==this.content?this.content.toString()+"\n":"")+"endobj"}static parse(xref,lexer,trial){const before=lexer.pos;if(void 0===lexer.readNumber(trial)&&!trial)throw new Error("Invalid object");if(lexer.skipSpace(1,trial),void 0===lexer.readNumber(trial)&&!trial)throw new Error("Invalid object");if(lexer.skipSpace(1,trial),"obj"!==lexer.getString(3)){if(trial)return void(lexer.pos=before);throw new Error("Invalid object")}lexer.shift(3),lexer.skipEOL(1),lexer.skipWhitespace(null,!0);const obj=PDFObject.parseInner(xref,lexer);if(lexer.skipWhitespace(null,!0),"end"!==lexer.readString(3))throw new Error("Invalid object: `end` not found");return obj}static parseInner(xref,lexer){const value=PDFValue.parse(xref,lexer,!0);if(void 0===value)throw new Error("Empty object");lexer.skipWhitespace(null,!0);const obj=new PDFObject;if(value instanceof PDFDictionary){if(obj.properties=value,"stream"===lexer.getString(6)){lexer.shift(6),lexer.skipEOL(1);let length=obj.properties.get("Length");if(void 0===length)throw new Error("Invalid Stream: no length specified");if("object"==typeof length){const pos=lexer.pos;length=length.object.content,lexer.pos=pos}if(new(__webpack_require__(897))(obj).content=lexer.read(length),lexer.skipEOL(1,!0),"endstream"!==lexer.readString(9))throw new Error("Invalid stream: `endstream` not found");lexer.skipEOL(1)}}else obj.content=value;return obj}}module.exports=PDFObject},function(module,exports,__webpack_require__){"use strict";var pna=__webpack_require__(628),objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};module.exports=Duplex;var util=__webpack_require__(288);util.inherits=__webpack_require__(22);var Readable=__webpack_require__(1171),Writable=__webpack_require__(1174);util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}function Duplex(options){if(!(this instanceof Duplex))return new Duplex(options);Readable.call(this,options),Writable.call(this,options),options&&!1===options.readable&&(this.readable=!1),options&&!1===options.writable&&(this.writable=!1),this.allowHalfOpen=!0,options&&!1===options.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||pna.nextTick(onEndNT,this)}function onEndNT(self){self.end()}Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Duplex.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(value){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=value,this._writableState.destroyed=value)}}),Duplex.prototype._destroy=function(err,cb){this.push(null),this.end(),pna.nextTick(cb,err)}},,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _entries2=_interopRequireDefault(__webpack_require__(173)),_toArray3=_interopRequireDefault(__webpack_require__(687)),_slicedToArray3=_interopRequireDefault(__webpack_require__(174)),_promise2=_interopRequireDefault(__webpack_require__(73)),_map2=_interopRequireDefault(__webpack_require__(700)),_keys2=_interopRequireDefault(__webpack_require__(66)),_values2=_interopRequireDefault(__webpack_require__(132)),_toConsumableArray3=_interopRequireDefault(__webpack_require__(69)),_extends3=_interopRequireDefault(__webpack_require__(5)),_regenerator2=_interopRequireDefault(__webpack_require__(15)),_asyncToGenerator3=_interopRequireDefault(__webpack_require__(17)),_getIterator3=_interopRequireDefault(__webpack_require__(72)),_objectWithoutProperties3=_interopRequireDefault(__webpack_require__(89)),_classCallCheck3=_interopRequireDefault(__webpack_require__(1)),_createClass3=_interopRequireDefault(__webpack_require__(2)),_const=__webpack_require__(371),_StackLink2=_interopRequireDefault(__webpack_require__(415)),_associations=__webpack_require__(182),_helpers=__webpack_require__(372),_helpers2=__webpack_require__(416),_dsl=__webpack_require__(90),_cozyStackClient=__webpack_require__(724),_cozyStackClient2=_interopRequireDefault(_cozyStackClient),_mobile=__webpack_require__(755),_optimize2=_interopRequireDefault(__webpack_require__(765)),_store=__webpack_require__(134),_store2=_interopRequireDefault(_store),_policies2=_interopRequireDefault(__webpack_require__(767)),_Schema2=_interopRequireDefault(__webpack_require__(768)),_CozyLink=__webpack_require__(256),_ObservableQuery2=_interopRequireDefault(__webpack_require__(770)),_mapValues2=_interopRequireDefault(__webpack_require__(120)),_fromPairs2=_interopRequireDefault(__webpack_require__(92)),_flatten2=_interopRequireDefault(__webpack_require__(115)),_uniqBy2=_interopRequireDefault(__webpack_require__(466)),_zip2=_interopRequireDefault(__webpack_require__(771)),_forEach2=_interopRequireDefault(__webpack_require__(138)),_get2=_interopRequireDefault(__webpack_require__(11)),_microee2=_interopRequireDefault(__webpack_require__(345));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ensureArray=function(arr){return Array.isArray(arr)?arr:[arr]},deprecatedHandler=function(msg){return{get:function(target,prop){return console.warn(msg),target[prop]}}},CozyClient=function(){function CozyClient(_ref){var link=_ref.link,links=_ref.links,_ref$schema=_ref.schema,schema=void 0===_ref$schema?{}:_ref$schema,_ref$appMetadata=_ref.appMetadata,appMetadata=void 0===_ref$appMetadata?{}:_ref$appMetadata,options=(0,_objectWithoutProperties3.default)(_ref,["link","links","schema","appMetadata"]);(0,_classCallCheck3.default)(this,CozyClient),link&&console.warn("`link` is deprecated, use `links`"),this.appMetadata=appMetadata,this.options=options,this.idCounter=1,this.isLogged=!1,this.handleRevocationChange=this.handleRevocationChange.bind(this),this.handleTokenRefresh=this.handleTokenRefresh.bind(this),this.createClient(),this.links=ensureArray(link||links||new _StackLink2.default),this.registerClientOnLinks(),this.chain=(0,_CozyLink.chain)(this.links),this.schema=new _Schema2.default(schema,this.getStackClient()),this.plugins={},options.uri&&options.token&&this.login()}var _ref19,_ref18,_ref17,_ref14,_ref13,_ref12,_ref10,_ref9,_ref7,_ref6,_ref5,_ref3,_ref2;return(0,_createClass3.default)(CozyClient,[{key:"registerPlugin",value:function(Plugin,options){if(!Plugin.pluginName)throw new Error("Cannot register a plugin whose class does not have `pluginName` attribute.");if(this.plugins[Plugin.pluginName])throw new Error("Cannot register plugin "+Plugin.pluginName+". A plugin with the same name has already been registered.");var instance=new Plugin(this,options);return this.plugins[Plugin.pluginName]=instance,instance}},{key:"addSchema",value:function(schemaDefinition){this.schema.add(schemaDefinition)}},{key:"registerClientOnLinks",value:function(){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=(0,_getIterator3.default)(this.links);!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var link=_step.value;if(link.registerClient)try{link.registerClient(this)}catch(e){console.warn(e)}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}},{key:"login",value:function(options){return this.isLogged&&!this.isRevoked?(console.warn("CozyClient is already logged."),this.loginPromise):this.loginPromise=this._login(options)}},{key:"_login",value:(_ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(options){var _iteratorNormalCompletion2,_didIteratorError2,_iteratorError2,_iterator2,_step2,link;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:this.emit("beforeLogin"),this.registerClientOnLinks(),options&&(options.uri&&this.stackClient.setUri(options.uri),options.token&&this.stackClient.setToken(options.token)),_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0,_context.prev=6,_iterator2=(0,_getIterator3.default)(this.links);case 8:if(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done){_context.next=16;break}if(!(link=_step2.value).onLogin){_context.next=13;break}return _context.next=13,link.onLogin();case 13:_iteratorNormalCompletion2=!0,_context.next=8;break;case 16:_context.next=22;break;case 18:_context.prev=18,_context.t0=_context.catch(6),_didIteratorError2=!0,_iteratorError2=_context.t0;case 22:_context.prev=22,_context.prev=23,!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return();case 25:if(_context.prev=25,!_didIteratorError2){_context.next=28;break}throw _iteratorError2;case 28:return _context.finish(25);case 29:return _context.finish(22);case 30:this.isLogged=!0,this.isRevoked=!1,this.emit("login");case 33:case"end":return _context.stop()}},_callee,this,[[6,18,22,30],[23,,25,29]])})),function(_x){return _ref2.apply(this,arguments)})},{key:"logout",value:(_ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var _iteratorNormalCompletion3,_didIteratorError3,_iteratorError3,_iterator3,_step3,link;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(this.isLogged){_context2.next=3;break}return console.warn("CozyClient isn't logged."),_context2.abrupt("return");case 3:if(this.emit("beforeLogout"),this.isLogged=!1,!(this.stackClient instanceof _cozyStackClient.OAuthClient)){_context2.next=17;break}if(_context2.prev=6,!this.stackClient.unregister||this.stackClient.isRegistered&&!this.stackClient.isRegistered()){_context2.next=10;break}return _context2.next=10,this.stackClient.unregister();case 10:_context2.next=15;break;case 12:_context2.prev=12,_context2.t0=_context2.catch(6),console.warn("Impossible to unregister client on stack: "+_context2.t0);case 15:_context2.next=25;break;case 17:return _context2.prev=17,_context2.next=20,this.stackClient.fetch("DELETE","/auth/login");case 20:_context2.next=25;break;case 22:_context2.prev=22,_context2.t1=_context2.catch(17),console.warn("Impossible to log out: "+_context2.t1);case 25:_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0,_context2.prev=28,_iterator3=(0,_getIterator3.default)(this.links);case 30:if(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done){_context2.next=44;break}if(!(link=_step3.value).reset){_context2.next=41;break}return _context2.prev=33,_context2.next=36,link.reset();case 36:_context2.next=41;break;case 38:_context2.prev=38,_context2.t2=_context2.catch(33),console.warn(_context2.t2);case 41:_iteratorNormalCompletion3=!0,_context2.next=30;break;case 44:_context2.next=50;break;case 46:_context2.prev=46,_context2.t3=_context2.catch(28),_didIteratorError3=!0,_iteratorError3=_context2.t3;case 50:_context2.prev=50,_context2.prev=51,!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return();case 53:if(_context2.prev=53,!_didIteratorError3){_context2.next=56;break}throw _iteratorError3;case 56:return _context2.finish(53);case 57:return _context2.finish(50);case 58:this.emit("logout");case 59:case"end":return _context2.stop()}},_callee2,this,[[6,12],[17,22],[28,46,50,58],[33,38],[51,,53,57]])})),function(){return _ref3.apply(this,arguments)})},{key:"collection",value:function(doctype){return this.getStackClient().collection(doctype)}},{key:"fetch",value:function(method,path,body){var options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.getStackClient().fetch(method,path,body,options)}},{key:"all",value:function(doctype){return new _dsl.QueryDefinition({doctype:doctype})}},{key:"find",value:function(doctype){var selector=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return new _dsl.QueryDefinition({doctype:doctype,selector:selector})}},{key:"get",value:function(doctype,id){return new _dsl.QueryDefinition({doctype:doctype,id:id})}},{key:"create",value:(_ref5=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(type,_ref4,relationships){_ref4._type;var document,attributes=(0,_objectWithoutProperties3.default)(_ref4,["_type"]),options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return document=(0,_extends3.default)({_type:type},attributes),_context3.next=3,this.schema.validate(document);case 3:if(!0===_context3.sent){_context3.next=6;break}throw new Error("Validation failed");case 6:return _context3.abrupt("return",this.mutate(this.getDocumentSavePlan(document,relationships),options));case 7:case"end":return _context3.stop()}},_callee3,this)})),function(_x5,_x6,_x7){return _ref5.apply(this,arguments)})},{key:"validate",value:function(document){return this.schema.validate(document)}},{key:"save",value:(_ref6=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(document){var mutationOptions=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,this.schema.validate(document);case 2:if(!0===_context4.sent){_context4.next=5;break}throw new Error("Validation failed");case 5:return _context4.abrupt("return",this.mutate(this.getDocumentSavePlan(document),mutationOptions));case 6:case"end":return _context4.stop()}},_callee4,this)})),function(_x9){return _ref6.apply(this,arguments)})},{key:"ensureCozyMetadata",value:function(document){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{event:"creation"},METADATA_VERSION=1;if(void 0===this.appMetadata)return document;var doctypeVersion=void 0;if(document._type){var schema=this.schema.getDoctypeSchema(document._type);doctypeVersion=(0,_get2.default)(schema,"doctypeVersion")}var _appMetadata=this.appMetadata,slug=_appMetadata.slug,sourceAccount=_appMetadata.sourceAccount,version=_appMetadata.version,now=(new Date).toISOString(),cozyMetadata=(0,_get2.default)(document,"cozyMetadata",{});return"creation"===options.event?cozyMetadata=(0,_extends3.default)({metadataVersion:METADATA_VERSION,doctypeVersion:doctypeVersion,createdByApp:slug,sourceAccount:sourceAccount,createdAt:now,createdByAppVersion:version,updatedAt:now,updatedByApps:slug?[{date:now,slug:slug,version:version}]:[]},cozyMetadata):"update"===options.event&&(cozyMetadata=(0,_extends3.default)({},cozyMetadata,{updatedAt:now,updatedByApps:[{date:now,slug:slug,version:version}].concat((0,_toConsumableArray3.default)((0,_get2.default)(document,"cozyMetadata.updatedByApps",[]).filter(function(info){return info.slug!==slug})))})),(0,_extends3.default)({},document,{cozyMetadata:cozyMetadata})}},{key:"getDocumentSavePlan",value:function(document,relationships){var _this=this,newDocument=!document._rev,dehydratedDoc=this.ensureCozyMetadata((0,_helpers2.dehydrate)(document),{event:newDocument?"creation":"update"}),saveMutation=newDocument?_dsl.Mutations.createDocument(dehydratedDoc):_dsl.Mutations.updateDocument(dehydratedDoc);if(!(relationships&&(0,_values2.default)(relationships).filter(function(relations){return Array.isArray(relations)?relations.length>0:relations}).length>0))return saveMutation;if(relationships&&!newDocument)throw new Error("Unable to save relationships on a not-new document");return[saveMutation,function(response){var document=_this.hydrateDocument(response.data);return(0,_keys2.default)(relationships).map(function(name){var val=relationships[name];return Array.isArray(val)?document[name].insertDocuments(val):document[name].setDocument(val)})}]}},{key:"triggerHook",value:function(name,document){if(CozyClient.hooks){var hooks=(CozyClient.hooks[document._type]||{})[name]||[],_iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _step4,_iterator4=(0,_getIterator3.default)(hooks);!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){(0,_step4.value)(this,document)}}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{!_iteratorNormalCompletion4&&_iterator4.return&&_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}}}},{key:"destroy",value:(_ref7=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee5(document){var res,mutationOptions=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _regenerator2.default.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,this.triggerHook("before:destroy",document);case 2:return _context5.next=4,this.mutate(_dsl.Mutations.deleteDocument(document),mutationOptions);case 4:return res=_context5.sent,_context5.next=7,this.triggerHook("after:destroy",document);case 7:return _context5.abrupt("return",res);case 8:case"end":return _context5.stop()}},_callee5,this)})),function(_x12){return _ref7.apply(this,arguments)})},{key:"upload",value:function(file,dirPath){var mutationOptions=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.mutate(_dsl.Mutations.uploadFile(file,dirPath),mutationOptions)}},{key:"ensureQueryExists",value:function(queryId,queryDefinition){this.ensureStore(),"loaded"===(0,_store.getQueryFromState)(this.store.getState(),queryId).fetchStatus&&queryDefinition.skip||this.dispatch((0,_store.initQuery)(queryId,queryDefinition))}},{key:"query",value:(_ref9=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee6(queryDefinition){var queryId,response,_ref8=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},update=_ref8.update,options=(0,_objectWithoutProperties3.default)(_ref8,["update"]);return _regenerator2.default.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return this.ensureStore(),queryId=options.as||this.generateId(),this.ensureQueryExists(queryId,queryDefinition),_context6.prev=3,_context6.next=6,this.requestQuery(queryDefinition);case 6:return response=_context6.sent,this.dispatch((0,_store.receiveQueryResult)(queryId,response,{update:update})),_context6.abrupt("return",response);case 11:throw _context6.prev=11,_context6.t0=_context6.catch(3),this.dispatch((0,_store.receiveQueryError)(queryId,_context6.t0)),_context6.t0;case 15:case"end":return _context6.stop()}},_callee6,this,[[3,11]])})),function(_x15){return _ref9.apply(this,arguments)})},{key:"queryAll",value:(_ref10=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee7(queryDefinition,options){var documents,resp;return _regenerator2.default.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:documents=[],resp={next:!0};case 2:if(!resp||!resp.next){_context7.next=9;break}return _context7.next=5,this.query(queryDefinition.offset(documents.length),options);case 5:resp=_context7.sent,documents.push.apply(documents,(0,_toConsumableArray3.default)(resp.data)),_context7.next=2;break;case 9:return _context7.abrupt("return",documents);case 10:case"end":return _context7.stop()}},_callee7,this)})),function(_x16,_x17){return _ref10.apply(this,arguments)})},{key:"watchQuery",value:function(){return console.warn("client.watchQuery is deprecated, please use client.makeObservableQuery."),this.makeObservableQuery.apply(this,arguments)}},{key:"makeObservableQuery",value:function(queryDefinition){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.ensureStore();var queryId=options.as||this.generateId();return this.ensureQueryExists(queryId,queryDefinition),new _ObservableQuery2.default(queryId,queryDefinition,this)}},{key:"mutate",value:(_ref12=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee8(mutationDefinition){var mutationId,response,_ref11=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},update=_ref11.update,updateQueries=_ref11.updateQueries,options=(0,_objectWithoutProperties3.default)(_ref11,["update","updateQueries"]);return _regenerator2.default.wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return this.ensureStore(),mutationId=options.as||this.generateId(),this.dispatch((0,_store.initMutation)(mutationId,mutationDefinition)),_context8.prev=3,_context8.next=6,this.requestMutation(mutationDefinition);case 6:return response=_context8.sent,this.dispatch((0,_store.receiveMutationResult)(mutationId,response,{update:update,updateQueries:updateQueries},mutationDefinition)),_context8.abrupt("return",response);case 11:throw _context8.prev=11,_context8.t0=_context8.catch(3),this.dispatch((0,_store.receiveMutationError)(mutationId,_context8.t0,mutationDefinition)),_context8.t0;case 15:case"end":return _context8.stop()}},_callee8,this,[[3,11]])})),function(_x20){return _ref12.apply(this,arguments)})},{key:"requestQuery",value:(_ref13=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee9(definition){var mainResponse,withIncluded;return _regenerator2.default.wrap(function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:return _context9.next=2,this.chain.request(definition);case 2:if(mainResponse=_context9.sent,definition.includes){_context9.next=5;break}return _context9.abrupt("return",mainResponse);case 5:return _context9.next=7,this.fetchRelationships(mainResponse,this.getIncludesRelationships(definition));case 7:return withIncluded=_context9.sent,_context9.abrupt("return",withIncluded);case 9:case"end":return _context9.stop()}},_callee9,this)})),function(_x21){return _ref13.apply(this,arguments)})},{key:"fetchRelationships",value:(_ref14=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee10(response,relationshipsByName){var isSingleDoc,responseDocs,queryDefToDocIdAndRel,documents,definitions,optimizedDefinitions,responses,uniqueDocuments,included,relationshipsByDocId,_iteratorNormalCompletion5,_didIteratorError5,_iteratorError5,_iterator5,_step5,_ref15,_ref16,def,resp,docIdAndRel,_docIdAndRel,docId,relName,_this2=this;return _regenerator2.default.wrap(function(_context10){for(;;)switch(_context10.prev=_context10.next){case 0:if((isSingleDoc=!Array.isArray(response.data))||0!==response.data.length){_context10.next=3;break}return _context10.abrupt("return",response);case 3:return responseDocs=isSingleDoc?[response.data]:response.data,queryDefToDocIdAndRel=new _map2.default,documents=[],definitions=[],responseDocs.forEach(function(doc){return(0,_forEach2.default)(relationshipsByName,function(relationship,relName){var queryDef=relationship.type.query(doc,_this2,relationship),docId=doc._id;queryDefToDocIdAndRel.set(queryDef,[docId,relName]),queryDef instanceof _dsl.QueryDefinition?definitions.push(queryDef):documents.push(queryDef)})}),optimizedDefinitions=(0,_optimize2.default)(definitions),_context10.next=11,_promise2.default.all(optimizedDefinitions.map(function(req){return _this2.chain.request(req)}));case 11:for(responses=_context10.sent,uniqueDocuments=(0,_uniqBy2.default)((0,_flatten2.default)(documents),"_id"),included=(0,_flatten2.default)(responses.map(function(r){return r.included||r.data})).concat(uniqueDocuments).filter(Boolean),relationshipsByDocId={},_iteratorNormalCompletion5=!0,_didIteratorError5=!1,_iteratorError5=void 0,_context10.prev=18,_iterator5=(0,_getIterator3.default)((0,_zip2.default)(optimizedDefinitions,responses));!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=!0)_ref15=_step5.value,_ref16=(0,_slicedToArray3.default)(_ref15,2),def=_ref16[0],resp=_ref16[1],(docIdAndRel=queryDefToDocIdAndRel.get(def))&&(_docIdAndRel=(0,_slicedToArray3.default)(docIdAndRel,2),docId=_docIdAndRel[0],relName=_docIdAndRel[1],relationshipsByDocId[docId]=relationshipsByDocId[docId]||{},relationshipsByDocId[docId][relName]=(0,_helpers.responseToRelationship)(resp));_context10.next=26;break;case 22:_context10.prev=22,_context10.t0=_context10.catch(18),_didIteratorError5=!0,_iteratorError5=_context10.t0;case 26:_context10.prev=26,_context10.prev=27,!_iteratorNormalCompletion5&&_iterator5.return&&_iterator5.return();case 29:if(_context10.prev=29,!_didIteratorError5){_context10.next=32;break}throw _iteratorError5;case 32:return _context10.finish(29);case 33:return _context10.finish(26);case 34:return _context10.abrupt("return",(0,_extends3.default)({},(0,_helpers.attachRelationships)(response,relationshipsByDocId),{included:included}));case 35:case"end":return _context10.stop()}},_callee10,this,[[18,22,26,34],[27,,29,33]])})),function(_x22,_x23){return _ref14.apply(this,arguments)})},{key:"requestMutation",value:(_ref17=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee11(definition){var _definition,first,rest,firstResponse,_this3=this;return _regenerator2.default.wrap(function(_context11){for(;;)switch(_context11.prev=_context11.next){case 0:if(!Array.isArray(definition)){_context11.next=8;break}return _definition=(0,_toArray3.default)(definition),first=_definition[0],rest=_definition.slice(1),_context11.next=4,this.requestMutation(first);case 4:return firstResponse=_context11.sent,_context11.next=7,_promise2.default.all(rest.map(function(def){return"function"==typeof def?_this3.requestMutation(def(firstResponse)):_this3.requestMutation(def)}));case 7:return _context11.abrupt("return",firstResponse);case 8:return _context11.abrupt("return",this.chain.request(definition));case 9:case"end":return _context11.stop()}},_callee11,this)})),function(_x24){return _ref17.apply(this,arguments)})},{key:"getIncludesRelationships",value:function(queryDefinition){var _this4=this,includes=queryDefinition.includes,doctype=queryDefinition.doctype;return includes?(0,_fromPairs2.default)(includes.map(function(relName){return[relName,_this4.schema.getRelationship(doctype,relName)]})):{}}},{key:"hydrateDocuments",value:function(doctype,documents){var _this5=this;if(!1===this.options.autoHydrate)return documents;var schema=this.schema.getDoctypeSchema(doctype);return schema.relationships?documents.map(function(doc){return _this5.hydrateDocument(doc,schema)}):documents}},{key:"hydrateDocument",value:function(document,schema){return document?(schema=schema||this.schema.getDoctypeSchema(document._type),(0,_extends3.default)({},document,this.hydrateRelationships(document,schema.relationships))):document}},{key:"hydrateRelationships",value:function(document,schemaRelationships){var methods=this.getRelationshipStoreAccessors();return(0,_mapValues2.default)(schemaRelationships,function(assoc,name){return(0,_associations.create)(document,assoc,methods)})}},{key:"makeNewDocument",value:function(doctype){var obj={_type:doctype};return this.hydrateDocument(obj)}},{key:"getAssociation",value:function(document,associationName){return(0,_associations.create)(document,this.schema.getAssociation(document._type,associationName),this.getRelationshipStoreAccessors())}},{key:"getRelationshipStoreAccessors",value:function(){var _this6=this;return this.storeAccesors||(this.storeAccessors={get:this.getDocumentFromState.bind(this),save:function(document,opts){return _this6.save.call(_this6,document,opts)},dispatch:this.dispatch.bind(this),query:function(def,opts){return _this6.query.call(_this6,def,opts)},mutate:function(def,opts){return _this6.mutate.call(_this6,def,opts)}}),this.storeAccessors}},{key:"getCollectionFromState",value:function(type){try{return(0,_store.getCollectionFromState)(this.store.getState(),type)}catch(e){return console.warn("Could not getCollectionFromState",type,e.message),null}}},{key:"getDocumentFromState",value:function(type,id){try{return(0,_store.getDocumentFromState)(this.store.getState(),type,id)}catch(e){return console.warn("Could not getDocumentFromState",type,id,e.message),null}}},{key:"getQueryFromState",value:function(id){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},hydrated=options.hydrated||!1;try{var queryResults=(0,_store.getQueryFromState)(this.store.getState(),id),doctype=queryResults.definition&&queryResults.definition.doctype,data=hydrated&&doctype?this.hydrateDocuments(doctype,queryResults.data):queryResults.data;return(0,_extends3.default)({},queryResults,{data:data})}catch(e){return console.warn("Could not getQueryFromState",id,e.message),null}}},{key:"register",value:function(cozyUrl){return this.getStackClient().setUri(cozyUrl),this.startOAuthFlow(_mobile.authenticateWithCordova)}},{key:"startOAuthFlow",value:(_ref18=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee12(openURLCallback){var stackClient;return _regenerator2.default.wrap(function(_context12){for(;;)switch(_context12.prev=_context12.next){case 0:return stackClient=this.getStackClient(),_context12.next=3,stackClient.register();case 3:return _context12.abrupt("return",this.authorize(openURLCallback));case 4:case"end":return _context12.stop()}},_callee12,this)})),function(_x26){return _ref18.apply(this,arguments)})},{key:"authorize",value:(_ref19=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee13(openURLCallback){var stackClient,stateCode,url,redirectedURL,code,token;return _regenerator2.default.wrap(function(_context13){for(;;)switch(_context13.prev=_context13.next){case 0:return _context13.prev=0,stackClient=this.getStackClient(),stateCode=stackClient.generateStateCode(),url=stackClient.getAuthCodeURL(stateCode),_context13.next=6,openURLCallback(url);case 6:return redirectedURL=_context13.sent,code=stackClient.getAccessCodeFromURL(redirectedURL,stateCode),_context13.next=10,stackClient.fetchAccessToken(code);case 10:return token=_context13.sent,stackClient.setToken(token),_context13.abrupt("return",{token:token,infos:stackClient.oauthOptions,client:stackClient.oauthOptions});case 15:throw _context13.prev=15,_context13.t0=_context13.catch(0),_context13.t0.message===_const.REGISTRATION_ABORT&&this.getStackClient().unregister(),_context13.t0;case 19:case"end":return _context13.stop()}},_callee13,this,[[0,15]])})),function(_x27){return _ref19.apply(this,arguments)})},{key:"renewAuthorization",value:function(){return this.authorize(_mobile.authenticateWithCordova)}},{key:"setStore",value:function(store){var _ref20=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref20$force=_ref20.force,force=void 0!==_ref20$force&&_ref20$force;if(void 0===store)throw new Error("Store is undefined");if(this.store&&!force)throw new Error("Client already has a store, it is forbidden to change store.");this.store=store}},{key:"ensureStore",value:function(){this.store||this.setStore((0,_store.createStore)())}},{key:"handleRevocationChange",value:function(state){state?(this.isRevoked=!0,this.emit("revoked")):(this.isRevoked=!1,this.emit("unrevoked"))}},{key:"handleTokenRefresh",value:function(token){this.emit("tokenRefreshed"),this.options.onTokenRefresh&&(deprecatedHandler("Using onTokenRefresh is deprecated, please use events like this: cozyClient.on('tokenUpdated', token => console.log('Token is updated', token)). https://git.io/fj3M3"),this.options.onTokenRefresh(token))}},{key:"createClient",value:function(){this.options.client&&console.warn("CozyClient: Using options.client is deprecated, please use options.stackClient.");var warningForCustomHandlers=void 0===this.options.warningForCustomHandlers||this.options.warningForCustomHandlers,stackClient=this.options.client||this.options.stackClient,handlers={onRevocationChange:this.handleRevocationChange,onTokenRefresh:this.handleTokenRefresh};if(stackClient){this.stackClient=stackClient,stackClient.options||(stackClient.options={});var _iteratorNormalCompletion6=!0,_didIteratorError6=!1,_iteratorError6=void 0;try{for(var _step6,_iterator6=(0,_getIterator3.default)((0,_keys2.default)(handlers));!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=!0){var handlerName=_step6.value;stackClient.options[handlerName]?warningForCustomHandlers&&console.warn("You passed a stackClient with its own "+handlerName+". It is not supported, unexpected things might happen."):stackClient.options[handlerName]=handlers[handlerName]}}catch(err){_didIteratorError6=!0,_iteratorError6=err}finally{try{!_iteratorNormalCompletion6&&_iterator6.return&&_iterator6.return()}finally{if(_didIteratorError6)throw _iteratorError6}}}else{var options=(0,_extends3.default)({},this.options,handlers);this.stackClient=this.options.oauth?new _cozyStackClient.OAuthClient(options):new _cozyStackClient2.default(options)}this.client=new Proxy(this.stackClient,deprecatedHandler("Using cozyClient.client is deprecated, please use cozyClient.stackClient."))}},{key:"getClient",value:function(){return console.warn("CozyClient: getClient() is deprecated, please use getStackClient()."),this.getStackClient()}},{key:"getStackClient",value:function(){return this.stackClient||this.createClient(),this.stackClient}},{key:"reducer",value:function(){return _store2.default}},{key:"dispatch",value:function(action){return this.store.dispatch(action)}},{key:"generateId",value:function(){var id=this.idCounter;return this.idCounter++,id}},{key:"setData",value:function(data){var _this7=this;this.ensureStore(),(0,_entries2.default)(data).forEach(function(_ref21){var _ref22=(0,_slicedToArray3.default)(_ref21,2),data=(_ref22[0],_ref22[1]);_this7.dispatch((0,_store.receiveQueryResult)(null,{data:data}))})}}],[{key:"fromOldClient",value:function(oldClient,options){return new CozyClient((0,_extends3.default)({uri:oldClient._url,token:oldClient._token.token},options))}},{key:"fromEnv",value:function(env){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_env=env=env||("undefined"!=typeof process?process.env:{}),COZY_URL=_env.COZY_URL,COZY_CREDENTIALS=_env.COZY_CREDENTIALS,NODE_ENV=_env.NODE_ENV;if(!COZY_URL||!COZY_CREDENTIALS)throw new Error("Env used to instantiate CozyClient must have COZY_URL and COZY_CREDENTIALS");return"development"===NODE_ENV?options.oauth=JSON.parse(COZY_CREDENTIALS):options.token=COZY_CREDENTIALS.trim(),options.uri=COZY_URL.trim(),new CozyClient((0,_extends3.default)({},options))}},{key:"registerHook",value:function(doctype,name,fn){CozyClient.hooks=CozyClient.hooks||{};var hooks=CozyClient.hooks[doctype]=CozyClient.hooks[doctype]||{};hooks[name]=hooks[name]||[],hooks[name].push(fn)}}]),CozyClient}();CozyClient.fetchPolicies=_policies2.default,_microee2.default.mixin(CozyClient),exports.default=CozyClient},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _objectWithoutProperties3=_interopRequireDefault(__webpack_require__(89)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(4)),_classCallCheck3=_interopRequireDefault(__webpack_require__(1)),_createClass3=_interopRequireDefault(__webpack_require__(2)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(6)),_inherits3=_interopRequireDefault(__webpack_require__(7)),_dsl=__webpack_require__(90);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var StackLink=function(_CozyLink){function StackLink(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},client=_ref.client,stackClient=_ref.stackClient;(0,_classCallCheck3.default)(this,StackLink);var _this=(0,_possibleConstructorReturn3.default)(this,(StackLink.__proto__||(0,_getPrototypeOf2.default)(StackLink)).call(this));return client&&console.info("Using options.client is deprecated, prefer options.stackClient"),_this.stackClient=stackClient||client,_this}return(0,_inherits3.default)(StackLink,_CozyLink),(0,_createClass3.default)(StackLink,[{key:"registerClient",value:function(client){this.stackClient=client.stackClient||client.client}},{key:"reset",value:function(){this.stackClient=null}},{key:"request",value:function(operation,result,forward){return operation.mutationType?this.executeMutation(operation,result,forward):this.executeQuery(operation)}},{key:"executeQuery",value:function(query){var doctype=query.doctype,selector=query.selector,id=query.id,ids=query.ids,referenced=query.referenced,options=(0,_objectWithoutProperties3.default)(query,["doctype","selector","id","ids","referenced"]);if(!doctype)throw console.warn("Bad query",query),new Error("No doctype found in a query definition");var collection=this.stackClient.collection(doctype);return id?collection.get(id):ids?collection.getAll(ids):referenced?collection.findReferencedBy(referenced,options):selector||options.sort?collection.find(selector,options):collection.all(options)}},{key:"executeMutation",value:function(mutation,result,forward){var mutationType=mutation.mutationType,props=(0,_objectWithoutProperties3.default)(mutation,["mutationType"]);switch(mutationType){case _dsl.MutationTypes.CREATE_DOCUMENT:return this.stackClient.collection(props.document._type).create(props.document);case _dsl.MutationTypes.UPDATE_DOCUMENT:return this.stackClient.collection(props.document._type).update(props.document);case _dsl.MutationTypes.DELETE_DOCUMENT:return this.stackClient.collection(props.document._type).destroy(props.document);case _dsl.MutationTypes.ADD_REFERENCES_TO:return this.stackClient.collection(props.referencedDocuments[0]._type).addReferencesTo(props.document,props.referencedDocuments);case _dsl.MutationTypes.REMOVE_REFERENCES_TO:return this.stackClient.collection(props.referencedDocuments[0]._type).removeReferencesTo(props.document,props.referencedDocuments);case _dsl.MutationTypes.ADD_REFERENCED_BY:if("io.cozy.files"===props.document._type)return this.stackClient.collection("io.cozy.files").addReferencedBy(props.document,props.referencedDocuments);throw new Error("The document type should be io.cozy.files");case _dsl.MutationTypes.REMOVE_REFERENCED_BY:if("io.cozy.files"===props.document._type)return this.stackClient.collection("io.cozy.files").removeReferencedBy(props.document,props.referencedDocuments);throw new Error("The document type should be io.cozy.files");case _dsl.MutationTypes.UPLOAD_FILE:return this.stackClient.collection("io.cozy.files").upload(props.file,props.dirPath);default:return forward(mutation,result)}}}]),StackLink}(_interopRequireDefault(__webpack_require__(256)).default);exports.default=StackLink},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dehydrate=void 0;var _slicedToArray3=_interopRequireDefault(__webpack_require__(174)),_entries2=_interopRequireDefault(__webpack_require__(173)),_associations=__webpack_require__(182);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.dehydrate=function(document){return(0,_entries2.default)(document).reduce(function(document,_ref){var _ref2=(0,_slicedToArray3.default)(_ref,2),key=_ref2[0],value=_ref2[1];if(value instanceof _associations.Association){if(!value.dehydrate)throw new Error("Association on key "+key+" should have a dehydrate method");document=value.dehydrate(document)}else document[key]=value;return document},{})}},function(module,exports,__webpack_require__){var baseFlatten=__webpack_require__(116),map=__webpack_require__(190);module.exports=function(collection,iteratee){return baseFlatten(map(collection,iteratee),1)}},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"getPlatform",{enumerable:!0,get:function(){return _platform.getPlatform}}),Object.defineProperty(exports,"isIOSApp",{enumerable:!0,get:function(){return _platform.isIOSApp}}),Object.defineProperty(exports,"isAndroidApp",{enumerable:!0,get:function(){return _platform.isAndroidApp}}),Object.defineProperty(exports,"isWebApp",{enumerable:!0,get:function(){return _platform.isWebApp}}),Object.defineProperty(exports,"isMobileApp",{enumerable:!0,get:function(){return _platform.isMobileApp}}),Object.defineProperty(exports,"isAndroid",{enumerable:!0,get:function(){return _platform.isAndroid}}),Object.defineProperty(exports,"isIOS",{enumerable:!0,get:function(){return _platform.isIOS}}),Object.defineProperty(exports,"isMobile",{enumerable:!0,get:function(){return _platform.isMobile}}),Object.defineProperty(exports,"getDeviceName",{enumerable:!0,get:function(){return _device.getDeviceName}}),Object.defineProperty(exports,"checkApp",{enumerable:!0,get:function(){return _apps.checkApp}}),Object.defineProperty(exports,"startApp",{enumerable:!0,get:function(){return _apps.startApp}}),Object.defineProperty(exports,"hasDevicePlugin",{enumerable:!0,get:function(){return _plugins.hasDevicePlugin}}),Object.defineProperty(exports,"hasInAppBrowserPlugin",{enumerable:!0,get:function(){return _plugins.hasInAppBrowserPlugin}}),Object.defineProperty(exports,"hasSafariPlugin",{enumerable:!0,get:function(){return _plugins.hasSafariPlugin}}),Object.defineProperty(exports,"nativeLinkOpen",{enumerable:!0,get:function(){return _link.nativeLinkOpen}}),Object.defineProperty(exports,"openDeeplinkOrRedirect",{enumerable:!0,get:function(){return _deeplink.openDeeplinkOrRedirect}});var _platform=__webpack_require__(246),_device=__webpack_require__(756),_apps=__webpack_require__(762),_plugins=__webpack_require__(248),_link=__webpack_require__(763),_deeplink=__webpack_require__(764)},,function(module,exports,__webpack_require__){"use strict";
/*!
 * mime-types
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var extensions,types,preference,db=__webpack_require__(975),extname=__webpack_require__(47).extname,EXTRACT_TYPE_REGEXP=/^\s*([^;\s]*)(?:;|\s|$)/,TEXT_TYPE_REGEXP=/^text\//i;function charset(type){if(!type||"string"!=typeof type)return!1;var match=EXTRACT_TYPE_REGEXP.exec(type),mime=match&&db[match[1].toLowerCase()];return mime&&mime.charset?mime.charset:!(!match||!TEXT_TYPE_REGEXP.test(match[1]))&&"UTF-8"}exports.charset=charset,exports.charsets={lookup:charset},exports.contentType=function(str){if(!str||"string"!=typeof str)return!1;var mime=-1===str.indexOf("/")?exports.lookup(str):str;if(!mime)return!1;if(-1===mime.indexOf("charset")){var charset=exports.charset(mime);charset&&(mime+="; charset="+charset.toLowerCase())}return mime},exports.extension=function(type){if(!type||"string"!=typeof type)return!1;var match=EXTRACT_TYPE_REGEXP.exec(type),exts=match&&exports.extensions[match[1].toLowerCase()];if(!exts||!exts.length)return!1;return exts[0]},exports.extensions=Object.create(null),exports.lookup=function(path){if(!path||"string"!=typeof path)return!1;var extension=extname("x."+path).toLowerCase().substr(1);if(!extension)return!1;return exports.types[extension]||!1},exports.types=Object.create(null),extensions=exports.extensions,types=exports.types,preference=["nginx","apache",void 0,"iana"],Object.keys(db).forEach(function(type){var mime=db[type],exts=mime.extensions;if(exts&&exts.length){extensions[type]=exts;for(var i=0;i<exts.length;i++){var extension=exts[i];if(types[extension]){var from=preference.indexOf(db[types[extension]].source),to=preference.indexOf(mime.source);if("application/octet-stream"!==types[extension]&&(from>to||from===to&&"application/"===types[extension].substr(0,12)))continue}types[extension]=type}}})},function(module,exports,__webpack_require__){var Buffer=__webpack_require__(59).Buffer,isBufferEncoding=Buffer.isEncoding||function(encoding){switch(encoding&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};var StringDecoder=exports.StringDecoder=function(encoding){switch(this.encoding=(encoding||"utf8").toLowerCase().replace(/[-_]/,""),function(encoding){if(encoding&&!isBufferEncoding(encoding))throw new Error("Unknown encoding: "+encoding)}(encoding),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=base64DetectIncompleteChar;break;default:return void(this.write=passThroughWrite)}this.charBuffer=new Buffer(6),this.charReceived=0,this.charLength=0};function passThroughWrite(buffer){return buffer.toString(this.encoding)}function utf16DetectIncompleteChar(buffer){this.charReceived=buffer.length%2,this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(buffer){this.charReceived=buffer.length%3,this.charLength=this.charReceived?3:0}StringDecoder.prototype.write=function(buffer){for(var charStr="";this.charLength;){var available=buffer.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:buffer.length;if(buffer.copy(this.charBuffer,this.charReceived,0,available),this.charReceived+=available,this.charReceived<this.charLength)return"";if(buffer=buffer.slice(available,buffer.length),!((charCode=(charStr=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(charStr.length-1))>=55296&&charCode<=56319)){if(this.charReceived=this.charLength=0,0===buffer.length)return charStr;break}this.charLength+=this.surrogateSize,charStr=""}this.detectIncompleteChar(buffer);var end=buffer.length;this.charLength&&(buffer.copy(this.charBuffer,0,buffer.length-this.charReceived,end),end-=this.charReceived);var charCode;end=(charStr+=buffer.toString(this.encoding,0,end)).length-1;if((charCode=charStr.charCodeAt(end))>=55296&&charCode<=56319){var size=this.surrogateSize;return this.charLength+=size,this.charReceived+=size,this.charBuffer.copy(this.charBuffer,size,0,size),buffer.copy(this.charBuffer,0,0,size),charStr.substring(0,end)}return charStr},StringDecoder.prototype.detectIncompleteChar=function(buffer){for(var i=buffer.length>=3?3:buffer.length;i>0;i--){var c=buffer[buffer.length-i];if(1==i&&c>>5==6){this.charLength=2;break}if(i<=2&&c>>4==14){this.charLength=3;break}if(i<=3&&c>>3==30){this.charLength=4;break}}this.charReceived=i},StringDecoder.prototype.end=function(buffer){var res="";if(buffer&&buffer.length&&(res=this.write(buffer)),this.charReceived){var cr=this.charReceived,buf=this.charBuffer,enc=this.encoding;res+=buf.slice(0,cr).toString(enc)}return res}},function(module,exports){module.exports=require("string_decoder")},function(module,exports){var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;module.exports=function(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=HOT_SPAN-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=HOT_COUNT)return arguments[0]}else count=0;return func.apply(void 0,arguments)}}},function(module,exports,__webpack_require__){var WeakMap=__webpack_require__(317),metaMap=WeakMap&&new WeakMap;module.exports=metaMap},function(module,exports,__webpack_require__){var toNumber=__webpack_require__(522),INFINITY=1/0,MAX_INTEGER=17976931348623157e292;module.exports=function(value){return value?(value=toNumber(value))===INFINITY||value===-INFINITY?(value<0?-1:1)*MAX_INTEGER:value==value?value:0:0===value?value:0}},function(module,exports,__webpack_require__){"use strict";module.exports=CSSselect;var Pseudos=__webpack_require__(462),DomUtils=__webpack_require__(180),findOne=DomUtils.findOne,findAll=DomUtils.findAll,getChildren=DomUtils.getChildren,removeSubsets=DomUtils.removeSubsets,falseFunc=__webpack_require__(271).falseFunc,compile=__webpack_require__(1101),compileUnsafe=compile.compileUnsafe,compileToken=compile.compileToken;function getSelectorFunc(searchFunc){return function(query,elems,options){return"function"!=typeof query&&(query=compileUnsafe(query,options,elems)),elems=Array.isArray(elems)?removeSubsets(elems):getChildren(elems),searchFunc(query,elems)}}var selectAll=getSelectorFunc(function(query,elems){return query!==falseFunc&&elems&&0!==elems.length?findAll(query,elems):[]}),selectOne=getSelectorFunc(function(query,elems){return query!==falseFunc&&elems&&0!==elems.length?findOne(query,elems):null});function CSSselect(query,elems,options){return selectAll(query,elems,options)}CSSselect.compile=compile,CSSselect.filters=Pseudos.filters,CSSselect.pseudos=Pseudos.pseudos,CSSselect.selectAll=selectAll,CSSselect.selectOne=selectOne,CSSselect.is=function(elem,query,options){return("function"==typeof query?query:compile(query,options))(elem)},CSSselect.parse=compile,CSSselect.iterate=selectAll,CSSselect._compileUnsafe=compileUnsafe,CSSselect._compileToken=compileToken},function(module,exports){module.exports=function(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}},function(module,exports){var FUNC_ERROR_TEXT="Expected a function";module.exports=function(predicate){if("function"!=typeof predicate)throw new TypeError(FUNC_ERROR_TEXT);return function(){var args=arguments;switch(args.length){case 0:return!predicate.call(this);case 1:return!predicate.call(this,args[0]);case 2:return!predicate.call(this,args[0],args[1]);case 3:return!predicate.call(this,args[0],args[1],args[2])}return!predicate.apply(this,args)}}},function(module,exports){module.exports=function(argument){return argument instanceof Date}},function(module,exports,__webpack_require__){var isSymbol=__webpack_require__(93);module.exports=function(array,iteratee,comparator){for(var index=-1,length=array.length;++index<length;){var value=array[index],current=iteratee(value);if(null!=current&&(void 0===computed?current==current&&!isSymbol(current):comparator(current,computed)))var computed=current,result=value}return result}},function(module,exports,__webpack_require__){var parse=__webpack_require__(35),differenceInCalendarDays=__webpack_require__(284),compareAsc=__webpack_require__(889);module.exports=function(dirtyDateLeft,dirtyDateRight){var dateLeft=parse(dirtyDateLeft),dateRight=parse(dirtyDateRight),sign=compareAsc(dateLeft,dateRight),difference=Math.abs(differenceInCalendarDays(dateLeft,dateRight));return dateLeft.setDate(dateLeft.getDate()-sign*difference),sign*(difference-(compareAsc(dateLeft,dateRight)===-sign))}},,function(module,exports,__webpack_require__){"use strict";const escapeStringRegexp=__webpack_require__(435),ansiStyles=__webpack_require__(493),stdoutColor=__webpack_require__(497).stdout,template=__webpack_require__(499),isSimpleWindowsTerm="win32"===process.platform&&!(process.env.TERM||"").toLowerCase().startsWith("xterm"),levelMapping=["ansi","ansi","ansi256","ansi16m"],skipModels=new Set(["gray"]),styles=Object.create(null);function applyOptions(obj,options){options=options||{};const scLevel=stdoutColor?stdoutColor.level:0;obj.level=void 0===options.level?scLevel:options.level,obj.enabled="enabled"in options?options.enabled:obj.level>0}function Chalk(options){if(!this||!(this instanceof Chalk)||this.template){const chalk={};return applyOptions(chalk,options),chalk.template=function(){const args=[].slice.call(arguments);return chalkTag.apply(null,[chalk.template].concat(args))},Object.setPrototypeOf(chalk,Chalk.prototype),Object.setPrototypeOf(chalk.template,chalk),chalk.template.constructor=Chalk,chalk.template}applyOptions(this,options)}isSimpleWindowsTerm&&(ansiStyles.blue.open="[94m");for(const key of Object.keys(ansiStyles))ansiStyles[key].closeRe=new RegExp(escapeStringRegexp(ansiStyles[key].close),"g"),styles[key]={get(){const codes=ansiStyles[key];return build.call(this,this._styles?this._styles.concat(codes):[codes],this._empty,key)}};styles.visible={get(){return build.call(this,this._styles||[],!0,"visible")}},ansiStyles.color.closeRe=new RegExp(escapeStringRegexp(ansiStyles.color.close),"g");for(const model of Object.keys(ansiStyles.color.ansi))skipModels.has(model)||(styles[model]={get(){const level=this.level;return function(){const open=ansiStyles.color[levelMapping[level]][model].apply(null,arguments),codes={open:open,close:ansiStyles.color.close,closeRe:ansiStyles.color.closeRe};return build.call(this,this._styles?this._styles.concat(codes):[codes],this._empty,model)}}});ansiStyles.bgColor.closeRe=new RegExp(escapeStringRegexp(ansiStyles.bgColor.close),"g");for(const model of Object.keys(ansiStyles.bgColor.ansi)){if(skipModels.has(model))continue;styles["bg"+model[0].toUpperCase()+model.slice(1)]={get(){const level=this.level;return function(){const open=ansiStyles.bgColor[levelMapping[level]][model].apply(null,arguments),codes={open:open,close:ansiStyles.bgColor.close,closeRe:ansiStyles.bgColor.closeRe};return build.call(this,this._styles?this._styles.concat(codes):[codes],this._empty,model)}}}}const proto=Object.defineProperties(()=>{},styles);function build(_styles,_empty,key){const builder=function(){return applyStyle.apply(builder,arguments)};builder._styles=_styles,builder._empty=_empty;const self=this;return Object.defineProperty(builder,"level",{enumerable:!0,get:()=>self.level,set(level){self.level=level}}),Object.defineProperty(builder,"enabled",{enumerable:!0,get:()=>self.enabled,set(enabled){self.enabled=enabled}}),builder.hasGrey=this.hasGrey||"gray"===key||"grey"===key,builder.__proto__=proto,builder}function applyStyle(){const args=arguments,argsLen=args.length;let str=String(arguments[0]);if(0===argsLen)return"";if(argsLen>1)for(let a=1;a<argsLen;a++)str+=" "+args[a];if(!this.enabled||this.level<=0||!str)return this._empty?"":str;const originalDim=ansiStyles.dim.open;isSimpleWindowsTerm&&this.hasGrey&&(ansiStyles.dim.open="");for(const code of this._styles.slice().reverse())str=(str=code.open+str.replace(code.closeRe,code.open)+code.close).replace(/\r?\n/g,`${code.close}$&${code.open}`);return ansiStyles.dim.open=originalDim,str}function chalkTag(chalk,strings){if(!Array.isArray(strings))return[].slice.call(arguments,1).join(" ");const args=[].slice.call(arguments,2),parts=[strings.raw[0]];for(let i=1;i<strings.length;i++)parts.push(String(args[i-1]).replace(/[{}\\]/g,"\\$&")),parts.push(String(strings.raw[i]));return template(chalk,parts.join(""))}Object.defineProperties(Chalk.prototype,styles),module.exports=Chalk(),module.exports.supportsColor=stdoutColor,module.exports.default=module.exports},function(module,exports,__webpack_require__){"use strict";var matchOperatorsRe=/[|\\{}()[\]^$+*?.]/g;module.exports=function(str){if("string"!=typeof str)throw new TypeError("Expected a string");return str.replace(matchOperatorsRe,"\\$&")}},function(module,exports,__webpack_require__){"use strict";var hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,defineProperty=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor,isArray=function(arr){return"function"==typeof Array.isArray?Array.isArray(arr):"[object Array]"===toStr.call(arr)},isPlainObject=function(obj){if(!obj||"[object Object]"!==toStr.call(obj))return!1;var key,hasOwnConstructor=hasOwn.call(obj,"constructor"),hasIsPrototypeOf=obj.constructor&&obj.constructor.prototype&&hasOwn.call(obj.constructor.prototype,"isPrototypeOf");if(obj.constructor&&!hasOwnConstructor&&!hasIsPrototypeOf)return!1;for(key in obj);return void 0===key||hasOwn.call(obj,key)},setProperty=function(target,options){defineProperty&&"__proto__"===options.name?defineProperty(target,options.name,{enumerable:!0,configurable:!0,value:options.newValue,writable:!0}):target[options.name]=options.newValue},getProperty=function(obj,name){if("__proto__"===name){if(!hasOwn.call(obj,name))return;if(gOPD)return gOPD(obj,name).value}return obj[name]};module.exports=function extend(){var options,name,src,copy,copyIsArray,clone,target=arguments[0],i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[1]||{},i=2),(null==target||"object"!=typeof target&&"function"!=typeof target)&&(target={});i<length;++i)if(null!=(options=arguments[i]))for(name in options)src=getProperty(target,name),target!==(copy=getProperty(options,name))&&(deep&&copy&&(isPlainObject(copy)||(copyIsArray=isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&isArray(src)?src:[]):clone=src&&isPlainObject(src)?src:{},setProperty(target,{name:name,newValue:extend(deep,clone,copy)})):void 0!==copy&&setProperty(target,{name:name,newValue:copy}));return target}},function(module,exports,__webpack_require__){"use strict";
/*!
 * Copyright (c) 2015, Salesforce.com, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. Neither the name of Salesforce.com nor the names of its contributors may
 * be used to endorse or promote products derived from this software without
 * specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */var punycode,net=__webpack_require__(438),urlParse=__webpack_require__(20).parse,util=__webpack_require__(8),pubsuffix=__webpack_require__(794),Store=__webpack_require__(796).Store,MemoryCookieStore=__webpack_require__(955).MemoryCookieStore,pathMatch=__webpack_require__(798).pathMatch,VERSION=__webpack_require__(956);try{punycode=__webpack_require__(795)}catch(e){console.warn("tough-cookie: can't load punycode; won't use punycode for domain normalization")}var COOKIE_OCTETS=/^[\x21\x23-\x2B\x2D-\x3A\x3C-\x5B\x5D-\x7E]+$/,CONTROL_CHARS=/[\x00-\x1F]/,TERMINATORS=["\n","\r","\0"],PATH_VALUE=/[\x20-\x3A\x3C-\x7E]+/,DATE_DELIM=/[\x09\x20-\x2F\x3B-\x40\x5B-\x60\x7B-\x7E]/,MONTH_TO_NUM={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11},NUM_TO_MONTH=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],NUM_TO_DAY=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],MAX_TIME=2147483647e3;function parseDigits(token,minDigits,maxDigits,trailingOK){for(var count=0;count<token.length;){var c=token.charCodeAt(count);if(c<=47||c>=58)break;count++}return count<minDigits||count>maxDigits?null:trailingOK||count==token.length?parseInt(token.substr(0,count),10):null}function parseTime(token){var parts=token.split(":"),result=[0,0,0];if(3!==parts.length)return null;for(var i=0;i<3;i++){var trailingOK=2==i,num=parseDigits(parts[i],1,2,trailingOK);if(null===num)return null;result[i]=num}return result}function parseMonth(token){token=String(token).substr(0,3).toLowerCase();var num=MONTH_TO_NUM[token];return num>=0?num:null}function parseDate(str){if(str){var tokens=str.split(DATE_DELIM);if(tokens){for(var hour=null,minute=null,second=null,dayOfMonth=null,month=null,year=null,i=0;i<tokens.length;i++){var result,token=tokens[i].trim();if(token.length)null===second&&(result=parseTime(token))?(hour=result[0],minute=result[1],second=result[2]):null!==dayOfMonth||null===(result=parseDigits(token,1,2,!0))?null!==month||null===(result=parseMonth(token))?null===year&&null!==(result=parseDigits(token,2,4,!0))&&((year=result)>=70&&year<=99?year+=1900:year>=0&&year<=69&&(year+=2e3)):month=result:dayOfMonth=result}if(!(null===dayOfMonth||null===month||null===year||null===second||dayOfMonth<1||dayOfMonth>31||year<1601||hour>23||minute>59||second>59))return new Date(Date.UTC(year,month,dayOfMonth,hour,minute,second))}}}function formatDate(date){var d=date.getUTCDate();d=d>=10?d:"0"+d;var h=date.getUTCHours();h=h>=10?h:"0"+h;var m=date.getUTCMinutes();m=m>=10?m:"0"+m;var s=date.getUTCSeconds();return s=s>=10?s:"0"+s,NUM_TO_DAY[date.getUTCDay()]+", "+d+" "+NUM_TO_MONTH[date.getUTCMonth()]+" "+date.getUTCFullYear()+" "+h+":"+m+":"+s+" GMT"}function canonicalDomain(str){return null==str?null:(str=str.trim().replace(/^\./,""),punycode&&/[^\u0001-\u007f]/.test(str)&&(str=punycode.toASCII(str)),str.toLowerCase())}function domainMatch(str,domStr,canonicalize){if(null==str||null==domStr)return null;if(!1!==canonicalize&&(str=canonicalDomain(str),domStr=canonicalDomain(domStr)),str==domStr)return!0;if(net.isIP(str))return!1;var idx=str.indexOf(domStr);return!(idx<=0)&&(str.length===domStr.length+idx&&"."===str.substr(idx-1,1))}function defaultPath(path){if(!path||"/"!==path.substr(0,1))return"/";if("/"===path)return path;var rightSlash=path.lastIndexOf("/");return 0===rightSlash?"/":path.slice(0,rightSlash)}function parseCookiePair(cookiePair,looseMode){var cookieName,cookieValue,firstEq=(cookiePair=function(str){for(var t=0;t<TERMINATORS.length;t++){var terminatorIdx=str.indexOf(TERMINATORS[t]);-1!==terminatorIdx&&(str=str.substr(0,terminatorIdx))}return str}(cookiePair)).indexOf("=");if(looseMode)0===firstEq&&(firstEq=(cookiePair=cookiePair.substr(1)).indexOf("="));else if(firstEq<=0)return;if(firstEq<=0?(cookieName="",cookieValue=cookiePair.trim()):(cookieName=cookiePair.substr(0,firstEq).trim(),cookieValue=cookiePair.substr(firstEq+1).trim()),!CONTROL_CHARS.test(cookieName)&&!CONTROL_CHARS.test(cookieValue)){var c=new Cookie;return c.key=cookieName,c.value=cookieValue,c}}function parse(str,options){options&&"object"==typeof options||(options={});var firstSemi=(str=str.trim()).indexOf(";"),c=parseCookiePair(-1===firstSemi?str:str.substr(0,firstSemi),!!options.loose);if(c){if(-1===firstSemi)return c;var unparsed=str.slice(firstSemi+1).trim();if(0===unparsed.length)return c;for(var cookie_avs=unparsed.split(";");cookie_avs.length;){var av=cookie_avs.shift().trim();if(0!==av.length){var av_key,av_value,av_sep=av.indexOf("=");switch(-1===av_sep?(av_key=av,av_value=null):(av_key=av.substr(0,av_sep),av_value=av.substr(av_sep+1)),av_key=av_key.trim().toLowerCase(),av_value&&(av_value=av_value.trim()),av_key){case"expires":if(av_value){var exp=parseDate(av_value);exp&&(c.expires=exp)}break;case"max-age":if(av_value&&/^-?[0-9]+$/.test(av_value)){var delta=parseInt(av_value,10);c.setMaxAge(delta)}break;case"domain":if(av_value){var domain=av_value.trim().replace(/^\./,"");domain&&(c.domain=domain.toLowerCase())}break;case"path":c.path=av_value&&"/"===av_value[0]?av_value:null;break;case"secure":c.secure=!0;break;case"httponly":c.httpOnly=!0;break;default:c.extensions=c.extensions||[],c.extensions.push(av)}}}return c}}function jsonParse(str){var obj;try{obj=JSON.parse(str)}catch(e){return e}return obj}function fromJSON(str){if(!str)return null;var obj;if("string"==typeof str){if((obj=jsonParse(str))instanceof Error)return null}else obj=str;for(var c=new Cookie,i=0;i<Cookie.serializableProperties.length;i++){var prop=Cookie.serializableProperties[i];void 0!==obj[prop]&&obj[prop]!==Cookie.prototype[prop]&&("expires"===prop||"creation"===prop||"lastAccessed"===prop?null===obj[prop]?c[prop]=null:c[prop]="Infinity"==obj[prop]?"Infinity":new Date(obj[prop]):c[prop]=obj[prop])}return c}function cookieCompare(a,b){var cmp=0,aPathLen=a.path?a.path.length:0;return 0!==(cmp=(b.path?b.path.length:0)-aPathLen)?cmp:0!==(cmp=(a.creation?a.creation.getTime():MAX_TIME)-(b.creation?b.creation.getTime():MAX_TIME))?cmp:cmp=a.creationIndex-b.creationIndex}function getCookieContext(url){if(url instanceof Object)return url;try{url=decodeURI(url)}catch(err){}return urlParse(url)}function Cookie(options){options=options||{},Object.keys(options).forEach(function(prop){Cookie.prototype.hasOwnProperty(prop)&&Cookie.prototype[prop]!==options[prop]&&"_"!==prop.substr(0,1)&&(this[prop]=options[prop])},this),this.creation=this.creation||new Date,Object.defineProperty(this,"creationIndex",{configurable:!1,enumerable:!1,writable:!0,value:++Cookie.cookiesCreated})}function CookieJar(store,options){"boolean"==typeof options?options={rejectPublicSuffixes:options}:null==options&&(options={}),null!=options.rejectPublicSuffixes&&(this.rejectPublicSuffixes=options.rejectPublicSuffixes),null!=options.looseMode&&(this.enableLooseMode=options.looseMode),store||(store=new MemoryCookieStore),this.store=store}Cookie.cookiesCreated=0,Cookie.parse=parse,Cookie.fromJSON=fromJSON,Cookie.prototype.key="",Cookie.prototype.value="",Cookie.prototype.expires="Infinity",Cookie.prototype.maxAge=null,Cookie.prototype.domain=null,Cookie.prototype.path=null,Cookie.prototype.secure=!1,Cookie.prototype.httpOnly=!1,Cookie.prototype.extensions=null,Cookie.prototype.hostOnly=null,Cookie.prototype.pathIsDefault=null,Cookie.prototype.creation=null,Cookie.prototype.lastAccessed=null,Object.defineProperty(Cookie.prototype,"creationIndex",{configurable:!0,enumerable:!1,writable:!0,value:0}),Cookie.serializableProperties=Object.keys(Cookie.prototype).filter(function(prop){return!(Cookie.prototype[prop]instanceof Function||"creationIndex"===prop||"_"===prop.substr(0,1))}),Cookie.prototype.inspect=function(){var now=Date.now();return'Cookie="'+this.toString()+"; hostOnly="+(null!=this.hostOnly?this.hostOnly:"?")+"; aAge="+(this.lastAccessed?now-this.lastAccessed.getTime()+"ms":"?")+"; cAge="+(this.creation?now-this.creation.getTime()+"ms":"?")+'"'},util.inspect.custom&&(Cookie.prototype[util.inspect.custom]=Cookie.prototype.inspect),Cookie.prototype.toJSON=function(){for(var obj={},props=Cookie.serializableProperties,i=0;i<props.length;i++){var prop=props[i];this[prop]!==Cookie.prototype[prop]&&("expires"===prop||"creation"===prop||"lastAccessed"===prop?null===this[prop]?obj[prop]=null:obj[prop]="Infinity"==this[prop]?"Infinity":this[prop].toISOString():"maxAge"===prop?null!==this[prop]&&(obj[prop]=this[prop]==1/0||this[prop]==-1/0?this[prop].toString():this[prop]):this[prop]!==Cookie.prototype[prop]&&(obj[prop]=this[prop]))}return obj},Cookie.prototype.clone=function(){return fromJSON(this.toJSON())},Cookie.prototype.validate=function(){if(!COOKIE_OCTETS.test(this.value))return!1;if(!(this.expires==1/0||this.expires instanceof Date||parseDate(this.expires)))return!1;if(null!=this.maxAge&&this.maxAge<=0)return!1;if(null!=this.path&&!PATH_VALUE.test(this.path))return!1;var cdomain=this.cdomain();if(cdomain){if(cdomain.match(/\.$/))return!1;if(null==pubsuffix.getPublicSuffix(cdomain))return!1}return!0},Cookie.prototype.setExpires=function(exp){exp instanceof Date?this.expires=exp:this.expires=parseDate(exp)||"Infinity"},Cookie.prototype.setMaxAge=function(age){this.maxAge=age===1/0||age===-1/0?age.toString():age},Cookie.prototype.cookieString=function(){var val=this.value;return null==val&&(val=""),""===this.key?val:this.key+"="+val},Cookie.prototype.toString=function(){var str=this.cookieString();return this.expires!=1/0&&(this.expires instanceof Date?str+="; Expires="+formatDate(this.expires):str+="; Expires="+this.expires),null!=this.maxAge&&this.maxAge!=1/0&&(str+="; Max-Age="+this.maxAge),this.domain&&!this.hostOnly&&(str+="; Domain="+this.domain),this.path&&(str+="; Path="+this.path),this.secure&&(str+="; Secure"),this.httpOnly&&(str+="; HttpOnly"),this.extensions&&this.extensions.forEach(function(ext){str+="; "+ext}),str},Cookie.prototype.TTL=function(now){if(null!=this.maxAge)return this.maxAge<=0?0:1e3*this.maxAge;var expires=this.expires;return expires!=1/0?(expires instanceof Date||(expires=parseDate(expires)||1/0),expires==1/0?1/0:expires.getTime()-(now||Date.now())):1/0},Cookie.prototype.expiryTime=function(now){if(null!=this.maxAge){var relativeTo=now||this.creation||new Date,age=this.maxAge<=0?-1/0:1e3*this.maxAge;return relativeTo.getTime()+age}return this.expires==1/0?1/0:this.expires.getTime()},Cookie.prototype.expiryDate=function(now){var millisec=this.expiryTime(now);return millisec==1/0?new Date(MAX_TIME):millisec==-1/0?new Date(0):new Date(millisec)},Cookie.prototype.isPersistent=function(){return null!=this.maxAge||this.expires!=1/0},Cookie.prototype.cdomain=Cookie.prototype.canonicalizedDomain=function(){return null==this.domain?null:canonicalDomain(this.domain)},CookieJar.prototype.store=null,CookieJar.prototype.rejectPublicSuffixes=!0,CookieJar.prototype.enableLooseMode=!1;var CAN_BE_SYNC=[];function syncWrap(method){return function(){if(!this.store.synchronous)throw new Error("CookieJar store is not synchronous; use async API instead.");var syncErr,syncResult,args=Array.prototype.slice.call(arguments);if(args.push(function(err,result){syncErr=err,syncResult=result}),this[method].apply(this,args),syncErr)throw syncErr;return syncResult}}CAN_BE_SYNC.push("setCookie"),CookieJar.prototype.setCookie=function(cookie,url,options,cb){var err,context=getCookieContext(url);options instanceof Function&&(cb=options,options={});var host=canonicalDomain(context.hostname),loose=this.enableLooseMode;if(null!=options.loose&&(loose=options.loose),cookie instanceof Cookie||(cookie=Cookie.parse(cookie,{loose:loose})),!cookie)return err=new Error("Cookie failed to parse"),cb(options.ignoreError?null:err);var now=options.now||new Date;if(this.rejectPublicSuffixes&&cookie.domain&&null==pubsuffix.getPublicSuffix(cookie.cdomain()))return err=new Error("Cookie has domain set to a public suffix"),cb(options.ignoreError?null:err);if(cookie.domain){if(!domainMatch(host,cookie.cdomain(),!1))return err=new Error("Cookie not in this host's domain. Cookie:"+cookie.cdomain()+" Request:"+host),cb(options.ignoreError?null:err);null==cookie.hostOnly&&(cookie.hostOnly=!1)}else cookie.hostOnly=!0,cookie.domain=host;if(cookie.path&&"/"===cookie.path[0]||(cookie.path=defaultPath(context.pathname),cookie.pathIsDefault=!0),!1===options.http&&cookie.httpOnly)return err=new Error("Cookie is HttpOnly and this isn't an HTTP API"),cb(options.ignoreError?null:err);var store=this.store;store.updateCookie||(store.updateCookie=function(oldCookie,newCookie,cb){this.putCookie(newCookie,cb)}),store.findCookie(cookie.domain,cookie.path,cookie.key,function(err,oldCookie){if(err)return cb(err);var next=function(err){if(err)return cb(err);cb(null,cookie)};if(oldCookie){if(!1===options.http&&oldCookie.httpOnly)return err=new Error("old Cookie is HttpOnly and this isn't an HTTP API"),cb(options.ignoreError?null:err);cookie.creation=oldCookie.creation,cookie.creationIndex=oldCookie.creationIndex,cookie.lastAccessed=now,store.updateCookie(oldCookie,cookie,next)}else cookie.creation=cookie.lastAccessed=now,store.putCookie(cookie,next)})},CAN_BE_SYNC.push("getCookies"),CookieJar.prototype.getCookies=function(url,options,cb){var context=getCookieContext(url);options instanceof Function&&(cb=options,options={});var host=canonicalDomain(context.hostname),path=context.pathname||"/",secure=options.secure;null!=secure||!context.protocol||"https:"!=context.protocol&&"wss:"!=context.protocol||(secure=!0);var http=options.http;null==http&&(http=!0);var now=options.now||Date.now(),expireCheck=!1!==options.expire,allPaths=!!options.allPaths,store=this.store;function matchingCookie(c){if(c.hostOnly){if(c.domain!=host)return!1}else if(!domainMatch(host,c.domain,!1))return!1;return!(!allPaths&&!pathMatch(path,c.path))&&(!(c.secure&&!secure)&&(!(c.httpOnly&&!http)&&(!(expireCheck&&c.expiryTime()<=now)||(store.removeCookie(c.domain,c.path,c.key,function(){}),!1))))}store.findCookies(host,allPaths?null:path,function(err,cookies){if(err)return cb(err);cookies=cookies.filter(matchingCookie),!1!==options.sort&&(cookies=cookies.sort(cookieCompare));var now=new Date;cookies.forEach(function(c){c.lastAccessed=now}),cb(null,cookies)})},CAN_BE_SYNC.push("getCookieString"),CookieJar.prototype.getCookieString=function(){var args=Array.prototype.slice.call(arguments,0),cb=args.pop(),next=function(err,cookies){err?cb(err):cb(null,cookies.sort(cookieCompare).map(function(c){return c.cookieString()}).join("; "))};args.push(next),this.getCookies.apply(this,args)},CAN_BE_SYNC.push("getSetCookieStrings"),CookieJar.prototype.getSetCookieStrings=function(){var args=Array.prototype.slice.call(arguments,0),cb=args.pop(),next=function(err,cookies){err?cb(err):cb(null,cookies.map(function(c){return c.toString()}))};args.push(next),this.getCookies.apply(this,args)},CAN_BE_SYNC.push("serialize"),CookieJar.prototype.serialize=function(cb){var type=this.store.constructor.name;"Object"===type&&(type=null);var serialized={version:"tough-cookie@"+VERSION,storeType:type,rejectPublicSuffixes:!!this.rejectPublicSuffixes,cookies:[]};if(!this.store.getAllCookies||"function"!=typeof this.store.getAllCookies)return cb(new Error("store does not support getAllCookies and cannot be serialized"));this.store.getAllCookies(function(err,cookies){return err?cb(err):(serialized.cookies=cookies.map(function(cookie){return delete(cookie=cookie instanceof Cookie?cookie.toJSON():cookie).creationIndex,cookie}),cb(null,serialized))})},CookieJar.prototype.toJSON=function(){return this.serializeSync()},CAN_BE_SYNC.push("_importCookies"),CookieJar.prototype._importCookies=function(serialized,cb){var jar=this,cookies=serialized.cookies;if(!cookies||!Array.isArray(cookies))return cb(new Error("serialized jar has no cookies array"));cookies=cookies.slice(),function putNext(err){if(err)return cb(err);if(!cookies.length)return cb(err,jar);var cookie;try{cookie=fromJSON(cookies.shift())}catch(e){return cb(e)}if(null===cookie)return putNext(null);jar.store.putCookie(cookie,putNext)}()},CookieJar.deserialize=function(strOrObj,store,cb){var serialized;if(3!==arguments.length&&(cb=store,store=null),"string"==typeof strOrObj){if((serialized=jsonParse(strOrObj))instanceof Error)return cb(serialized)}else serialized=strOrObj;var jar=new CookieJar(store,serialized.rejectPublicSuffixes);jar._importCookies(serialized,function(err){if(err)return cb(err);cb(null,jar)})},CookieJar.deserializeSync=function(strOrObj,store){var serialized="string"==typeof strOrObj?JSON.parse(strOrObj):strOrObj,jar=new CookieJar(store,serialized.rejectPublicSuffixes);if(!jar.store.synchronous)throw new Error("CookieJar store is not synchronous; use async API instead.");return jar._importCookiesSync(serialized),jar},CookieJar.fromJSON=CookieJar.deserializeSync,CookieJar.prototype.clone=function(newStore,cb){1===arguments.length&&(cb=newStore,newStore=null),this.serialize(function(err,serialized){if(err)return cb(err);CookieJar.deserialize(serialized,newStore,cb)})},CAN_BE_SYNC.push("removeAllCookies"),CookieJar.prototype.removeAllCookies=function(cb){var store=this.store;if(store.removeAllCookies instanceof Function&&store.removeAllCookies!==Store.prototype.removeAllCookies)return store.removeAllCookies(cb);store.getAllCookies(function(err,cookies){if(err)return cb(err);if(0===cookies.length)return cb(null);var completedCount=0,removeErrors=[];function removeCookieCb(removeErr){if(removeErr&&removeErrors.push(removeErr),++completedCount===cookies.length)return cb(removeErrors.length?removeErrors[0]:null)}cookies.forEach(function(cookie){store.removeCookie(cookie.domain,cookie.path,cookie.key,removeCookieCb)})})},CookieJar.prototype._cloneSync=syncWrap("clone"),CookieJar.prototype.cloneSync=function(newStore){if(!newStore.synchronous)throw new Error("CookieJar clone destination store is not synchronous; use async API instead.");return this._cloneSync(newStore)},CAN_BE_SYNC.forEach(function(method){CookieJar.prototype[method+"Sync"]=syncWrap(method)}),exports.version=VERSION,exports.CookieJar=CookieJar,exports.Cookie=Cookie,exports.Store=Store,exports.MemoryCookieStore=MemoryCookieStore,exports.parseDate=parseDate,exports.formatDate=formatDate,exports.parse=parse,exports.fromJSON=fromJSON,exports.domainMatch=domainMatch,exports.defaultPath=defaultPath,exports.pathMatch=pathMatch,exports.getPublicSuffix=pubsuffix.getPublicSuffix,exports.cookieCompare=cookieCompare,exports.permuteDomain=__webpack_require__(797).permuteDomain,exports.permutePath=function(path){if("/"===path)return["/"];path.lastIndexOf("/")===path.length-1&&(path=path.substr(0,path.length-1));for(var permutations=[path];path.length>1;){var lindex=path.lastIndexOf("/");if(0===lindex)break;path=path.substr(0,lindex),permutations.push(path)}return permutations.push("/"),permutations},exports.canonicalDomain=canonicalDomain},function(module,exports){module.exports=require("net")},function(module,exports,__webpack_require__){"use strict";var jsonSafeStringify=__webpack_require__(301),crypto=__webpack_require__(23),Buffer=__webpack_require__(179).Buffer,defer="undefined"==typeof setImmediate?process.nextTick:setImmediate;exports.paramsHaveRequestBody=function(params){return params.body||params.requestBodyStream||params.json&&"boolean"!=typeof params.json||params.multipart},exports.safeStringify=function(obj,replacer){var ret;try{ret=JSON.stringify(obj,replacer)}catch(e){ret=jsonSafeStringify(obj,replacer)}return ret},exports.md5=function(str){return crypto.createHash("md5").update(str).digest("hex")},exports.isReadStream=function(rs){return rs.readable&&rs.path&&rs.mode},exports.toBase64=function(str){return Buffer.from(str||"","utf8").toString("base64")},exports.copy=function(obj){var o={};return Object.keys(obj).forEach(function(i){o[i]=obj[i]}),o},exports.version=function(){var numbers=process.version.replace("v","").split(".");return{major:parseInt(numbers[0],10),minor:parseInt(numbers[1],10),patch:parseInt(numbers[2],10)}},exports.defer=defer},function(module,exports,__webpack_require__){var Key=__webpack_require__(45),Fingerprint=__webpack_require__(260),Signature=__webpack_require__(121),PrivateKey=__webpack_require__(53),Certificate=__webpack_require__(265),Identity=__webpack_require__(266),errs=__webpack_require__(112);module.exports={Key:Key,parseKey:Key.parse,Fingerprint:Fingerprint,parseFingerprint:Fingerprint.parse,Signature:Signature,parseSignature:Signature.parse,PrivateKey:PrivateKey,parsePrivateKey:PrivateKey.parse,generatePrivateKey:PrivateKey.generate,Certificate:Certificate,parseCertificate:Certificate.parse,createSelfSignedCertificate:Certificate.createSelfSigned,createCertificate:Certificate.create,Identity:Identity,identityFromDN:Identity.parseDN,identityForHost:Identity.forHost,identityForUser:Identity.forUser,identityForEmail:Identity.forEmail,identityFromArray:Identity.fromArray,FingerprintFormatError:errs.FingerprintFormatError,InvalidAlgorithmError:errs.InvalidAlgorithmError,KeyParseError:errs.KeyParseError,SignatureParseError:errs.SignatureParseError,KeyEncryptedError:errs.KeyEncryptedError,CertificateParseError:errs.CertificateParseError}},function(module,exports){module.exports={newInvalidAsn1Error:function(msg){var e=new Error;return e.name="InvalidAsn1Error",e.message=msg||"",e}}},function(module,exports){module.exports={EOC:0,Boolean:1,Integer:2,BitString:3,OctetString:4,Null:5,OID:6,ObjectDescriptor:7,External:8,Real:9,Enumeration:10,PDV:11,Utf8String:12,RelativeOID:13,Sequence:16,Set:17,NumericString:18,PrintableString:19,T61String:20,VideotexString:21,IA5String:22,UTCTime:23,GeneralizedTime:24,GraphicString:25,VisibleString:26,GeneralString:28,UniversalString:29,CharacterString:30,BMPString:31,Constructor:32,Context:128}},function(module,exports,__webpack_require__){module.exports={DiffieHellman:DiffieHellman,generateECDSA:function(curve){var parts=[];if(CRYPTO_HAVE_ECDH){var osCurve={nistp256:"prime256v1",nistp384:"secp384r1",nistp521:"secp521r1"}[curve],dh=crypto.createECDH(osCurve);return dh.generateKeys(),parts.push({name:"curve",data:Buffer.from(curve)}),parts.push({name:"Q",data:dh.getPublicKey()}),parts.push({name:"d",data:dh.getPrivateKey()}),new PrivateKey({type:"ecdsa",curve:curve,parts:parts})}var ecParams=new X9ECParameters(curve),n=ecParams.getN(),cByteLen=Math.ceil((n.bitLength()+64)/8),c=new jsbn(crypto.randomBytes(cByteLen)),n1=n.subtract(jsbn.ONE),priv=c.mod(n1).add(jsbn.ONE),pub=ecParams.getG().multiply(priv);return priv=Buffer.from(priv.toByteArray()),pub=Buffer.from(ecParams.getCurve().encodePointHex(pub),"hex"),parts.push({name:"curve",data:Buffer.from(curve)}),parts.push({name:"Q",data:pub}),parts.push({name:"d",data:priv}),new PrivateKey({type:"ecdsa",curve:curve,parts:parts})},generateED25519:function(){var pair=nacl.sign.keyPair(),priv=Buffer.from(pair.secretKey),pub=Buffer.from(pair.publicKey);assert.strictEqual(priv.length,64),assert.strictEqual(pub.length,32);var parts=[];return parts.push({name:"A",data:pub}),parts.push({name:"k",data:priv.slice(0,32)}),new PrivateKey({type:"ed25519",parts:parts})}};var assert=__webpack_require__(18),crypto=__webpack_require__(23),Buffer=__webpack_require__(13).Buffer,algs=__webpack_require__(57),utils=__webpack_require__(46),nacl=__webpack_require__(262),Key=__webpack_require__(45),PrivateKey=__webpack_require__(53),CRYPTO_HAVE_ECDH=void 0!==crypto.createECDH,ec=(__webpack_require__(966),__webpack_require__(304)),jsbn=__webpack_require__(261).BigInteger;function DiffieHellman(key){if(utils.assertCompatible(key,Key,[1,4],"key"),this._isPriv=PrivateKey.isPrivateKey(key,[1,3]),this._algo=key.type,this._curve=key.curve,this._key=key,"dsa"===key.type){if(!CRYPTO_HAVE_ECDH)throw new Error("Due to bugs in the node 0.10 crypto API, node 0.12.x or later is required to use DH");this._dh=crypto.createDiffieHellman(key.part.p.data,void 0,key.part.g.data,void 0),this._p=key.part.p,this._g=key.part.g,this._isPriv&&this._dh.setPrivateKey(key.part.x.data),this._dh.setPublicKey(key.part.y.data)}else if("ecdsa"===key.type){if(!CRYPTO_HAVE_ECDH)return this._ecParams=new X9ECParameters(this._curve),void(this._isPriv&&(this._priv=new ECPrivate(this._ecParams,key.part.d.data)));var curve={nistp256:"prime256v1",nistp384:"secp384r1",nistp521:"secp521r1"}[key.curve];if(this._dh=crypto.createECDH(curve),"object"!=typeof this._dh||"function"!=typeof this._dh.setPrivateKey)return CRYPTO_HAVE_ECDH=!1,void DiffieHellman.call(this,key);this._isPriv&&this._dh.setPrivateKey(key.part.d.data),this._dh.setPublicKey(key.part.Q.data)}else{if("curve25519"!==key.type)throw new Error("DH not supported for "+key.type+" keys");this._isPriv&&(utils.assertCompatible(key,PrivateKey,[1,5],"key"),this._priv=key.part.k.data)}}function X9ECParameters(name){var params=algs.curves[name];assert.object(params);var p=new jsbn(params.p),a=new jsbn(params.a),b=new jsbn(params.b),n=new jsbn(params.n),h=jsbn.ONE,curve=new ec.ECCurveFp(p,a,b),G=curve.decodePointHex(params.G.toString("hex"));this.curve=curve,this.g=G,this.n=n,this.h=h}function ECPublic(params,buffer){this._params=params,0===buffer[0]&&(buffer=buffer.slice(1)),this._pub=params.getCurve().decodePointHex(buffer.toString("hex"))}function ECPrivate(params,buffer){this._params=params,this._priv=new jsbn(utils.mpNormalize(buffer))}DiffieHellman.prototype.getPublicKey=function(){return this._isPriv?this._key.toPublic():this._key},DiffieHellman.prototype.getPrivateKey=function(){return this._isPriv?this._key:void 0},DiffieHellman.prototype.getKey=DiffieHellman.prototype.getPrivateKey,DiffieHellman.prototype._keyCheck=function(pk,isPub){if(assert.object(pk,"key"),isPub||utils.assertCompatible(pk,PrivateKey,[1,3],"key"),utils.assertCompatible(pk,Key,[1,4],"key"),pk.type!==this._algo)throw new Error("A "+pk.type+" key cannot be used in "+this._algo+" Diffie-Hellman");if(pk.curve!==this._curve)throw new Error("A key from the "+pk.curve+" curve cannot be used with a "+this._curve+" Diffie-Hellman");"dsa"===pk.type&&(assert.deepEqual(pk.part.p,this._p,"DSA key prime does not match"),assert.deepEqual(pk.part.g,this._g,"DSA key generator does not match"))},DiffieHellman.prototype.setKey=function(pk){if(this._keyCheck(pk),"dsa"===pk.type)this._dh.setPrivateKey(pk.part.x.data),this._dh.setPublicKey(pk.part.y.data);else if("ecdsa"===pk.type)CRYPTO_HAVE_ECDH?(this._dh.setPrivateKey(pk.part.d.data),this._dh.setPublicKey(pk.part.Q.data)):this._priv=new ECPrivate(this._ecParams,pk.part.d.data);else if("curve25519"===pk.type){var k=pk.part.k;pk.part.k||(k=pk.part.r),this._priv=k.data,0===this._priv[0]&&(this._priv=this._priv.slice(1)),this._priv=this._priv.slice(0,32)}this._key=pk,this._isPriv=!0},DiffieHellman.prototype.setPrivateKey=DiffieHellman.prototype.setKey,DiffieHellman.prototype.computeSecret=function(otherpk){if(this._keyCheck(otherpk,!0),!this._isPriv)throw new Error("DH exchange has not been initialized with a private key yet");var pub;if("dsa"===this._algo)return this._dh.computeSecret(otherpk.part.y.data);if("ecdsa"===this._algo)return CRYPTO_HAVE_ECDH?this._dh.computeSecret(otherpk.part.Q.data):(pub=new ECPublic(this._ecParams,otherpk.part.Q.data),this._priv.deriveSharedSecret(pub));if("curve25519"===this._algo){for(pub=otherpk.part.A.data;0===pub[0]&&pub.length>32;)pub=pub.slice(1);var priv=this._priv;assert.strictEqual(pub.length,32),assert.strictEqual(priv.length,32);var secret=nacl.box.before(new Uint8Array(pub),new Uint8Array(priv));return Buffer.from(secret)}throw new Error("Invalid algorithm: "+this._algo)},DiffieHellman.prototype.generateKey=function(){var priv,pub,parts=[];if("dsa"===this._algo)return this._dh.generateKeys(),parts.push({name:"p",data:this._p.data}),parts.push({name:"q",data:this._key.part.q.data}),parts.push({name:"g",data:this._g.data}),parts.push({name:"y",data:this._dh.getPublicKey()}),parts.push({name:"x",data:this._dh.getPrivateKey()}),this._key=new PrivateKey({type:"dsa",parts:parts}),this._isPriv=!0,this._key;if("ecdsa"===this._algo){if(CRYPTO_HAVE_ECDH)return this._dh.generateKeys(),parts.push({name:"curve",data:Buffer.from(this._curve)}),parts.push({name:"Q",data:this._dh.getPublicKey()}),parts.push({name:"d",data:this._dh.getPrivateKey()}),this._key=new PrivateKey({type:"ecdsa",curve:this._curve,parts:parts}),this._isPriv=!0,this._key;var n=this._ecParams.getN(),r=new jsbn(crypto.randomBytes(n.bitLength())),n1=n.subtract(jsbn.ONE);return priv=r.mod(n1).add(jsbn.ONE),pub=this._ecParams.getG().multiply(priv),priv=Buffer.from(priv.toByteArray()),pub=Buffer.from(this._ecParams.getCurve().encodePointHex(pub),"hex"),this._priv=new ECPrivate(this._ecParams,priv),parts.push({name:"curve",data:Buffer.from(this._curve)}),parts.push({name:"Q",data:pub}),parts.push({name:"d",data:priv}),this._key=new PrivateKey({type:"ecdsa",curve:this._curve,parts:parts}),this._isPriv=!0,this._key}if("curve25519"===this._algo){var pair=nacl.box.keyPair();return priv=Buffer.from(pair.secretKey),pub=Buffer.from(pair.publicKey),priv=Buffer.concat([priv,pub]),assert.strictEqual(priv.length,64),assert.strictEqual(pub.length,32),parts.push({name:"A",data:pub}),parts.push({name:"k",data:priv}),this._key=new PrivateKey({type:"curve25519",parts:parts}),this._isPriv=!0,this._key}throw new Error("Invalid algorithm: "+this._algo)},DiffieHellman.prototype.generateKeys=DiffieHellman.prototype.generateKey,X9ECParameters.prototype.getCurve=function(){return this.curve},X9ECParameters.prototype.getG=function(){return this.g},X9ECParameters.prototype.getN=function(){return this.n},X9ECParameters.prototype.getH=function(){return this.h},ECPrivate.prototype.deriveSharedSecret=function(pubKey){assert.ok(pubKey instanceof ECPublic);var S=pubKey._pub.multiply(this._priv);return Buffer.from(S.getX().toBigInteger().toByteArray())}},function(module,exports,__webpack_require__){module.exports={read:function(buf,options){return pem.read(buf,options,"pkcs1")},readPkcs1:function(alg,type,der){switch(alg){case"RSA":if("public"===type)return function(der){var n=readMPInt(der,"modulus"),e=readMPInt(der,"exponent");return new Key({type:"rsa",parts:[{name:"e",data:e},{name:"n",data:n}]})}(der);if("private"===type)return function(der){var version=readMPInt(der,"version");assert.strictEqual(version[0],0);var n=readMPInt(der,"modulus"),e=readMPInt(der,"public exponent"),d=readMPInt(der,"private exponent"),p=readMPInt(der,"prime1"),q=readMPInt(der,"prime2"),dmodp=readMPInt(der,"exponent1"),dmodq=readMPInt(der,"exponent2"),iqmp=readMPInt(der,"iqmp");return new PrivateKey({type:"rsa",parts:[{name:"n",data:n},{name:"e",data:e},{name:"d",data:d},{name:"iqmp",data:iqmp},{name:"p",data:p},{name:"q",data:q},{name:"dmodp",data:dmodp},{name:"dmodq",data:dmodq}]})}(der);throw new Error("Unknown key type: "+type);case"DSA":if("public"===type)return function(der){var y=readMPInt(der,"y"),p=readMPInt(der,"p"),q=readMPInt(der,"q"),g=readMPInt(der,"g");return new Key({type:"dsa",parts:[{name:"y",data:y},{name:"p",data:p},{name:"q",data:q},{name:"g",data:g}]})}(der);if("private"===type)return function(der){var version=readMPInt(der,"version");assert.strictEqual(version.readUInt8(0),0);var p=readMPInt(der,"p"),q=readMPInt(der,"q"),g=readMPInt(der,"g"),y=readMPInt(der,"y"),x=readMPInt(der,"x");return new PrivateKey({type:"dsa",parts:[{name:"p",data:p},{name:"q",data:q},{name:"g",data:g},{name:"y",data:y},{name:"x",data:x}]})}(der);throw new Error("Unknown key type: "+type);case"EC":case"ECDSA":if("private"===type)return function(der){var version=readMPInt(der,"version");assert.strictEqual(version.readUInt8(0),1);var d=der.readString(asn1.Ber.OctetString,!0);der.readSequence(160);var curve=readECDSACurve(der);assert.string(curve,"a known elliptic curve"),der.readSequence(161);var Q=der.readString(asn1.Ber.BitString,!0);Q=utils.ecNormalize(Q);var key={type:"ecdsa",parts:[{name:"curve",data:Buffer.from(curve)},{name:"Q",data:Q},{name:"d",data:d}]};return new PrivateKey(key)}(der);if("public"===type)return function(der){der.readSequence();var oid=der.readOID();assert.strictEqual(oid,"1.2.840.10045.2.1","must be ecPublicKey");for(var curve,curveOid=der.readOID(),curves=Object.keys(algs.curves),j=0;j<curves.length;++j){var c=curves[j],cd=algs.curves[c];if(cd.pkcs8oid===curveOid){curve=c;break}}assert.string(curve,"a known ECDSA named curve");var Q=der.readString(asn1.Ber.BitString,!0);Q=utils.ecNormalize(Q);var key={type:"ecdsa",parts:[{name:"curve",data:Buffer.from(curve)},{name:"Q",data:Q}]};return new Key(key)}(der);throw new Error("Unknown key type: "+type);case"EDDSA":case"EdDSA":if("private"===type)return function(der){var version=readMPInt(der,"version");assert.strictEqual(version.readUInt8(0),1);var k=der.readString(asn1.Ber.OctetString,!0);der.readSequence(160);var oid=der.readOID();assert.strictEqual(oid,"1.3.101.112","the ed25519 curve identifier"),der.readSequence(161);var A=utils.readBitString(der),key={type:"ed25519",parts:[{name:"A",data:utils.zeroPadToLength(A,32)},{name:"k",data:k}]};return new PrivateKey(key)}(der);throw new Error(type+" keys not supported with EdDSA");default:throw new Error("Unknown key algo: "+alg)}},write:function(key,options){return pem.write(key,options,"pkcs1")},writePkcs1:function(der,key){switch(der.startSequence(),key.type){case"rsa":PrivateKey.isPrivateKey(key)?function(der,key){var ver=Buffer.from([0]);der.writeBuffer(ver,asn1.Ber.Integer),der.writeBuffer(key.part.n.data,asn1.Ber.Integer),der.writeBuffer(key.part.e.data,asn1.Ber.Integer),der.writeBuffer(key.part.d.data,asn1.Ber.Integer),der.writeBuffer(key.part.p.data,asn1.Ber.Integer),der.writeBuffer(key.part.q.data,asn1.Ber.Integer),key.part.dmodp&&key.part.dmodq||utils.addRSAMissing(key);der.writeBuffer(key.part.dmodp.data,asn1.Ber.Integer),der.writeBuffer(key.part.dmodq.data,asn1.Ber.Integer),der.writeBuffer(key.part.iqmp.data,asn1.Ber.Integer)}(der,key):function(der,key){der.writeBuffer(key.part.n.data,asn1.Ber.Integer),der.writeBuffer(key.part.e.data,asn1.Ber.Integer)}(der,key);break;case"dsa":PrivateKey.isPrivateKey(key)?function(der,key){var ver=Buffer.from([0]);der.writeBuffer(ver,asn1.Ber.Integer),der.writeBuffer(key.part.p.data,asn1.Ber.Integer),der.writeBuffer(key.part.q.data,asn1.Ber.Integer),der.writeBuffer(key.part.g.data,asn1.Ber.Integer),der.writeBuffer(key.part.y.data,asn1.Ber.Integer),der.writeBuffer(key.part.x.data,asn1.Ber.Integer)}(der,key):function(der,key){der.writeBuffer(key.part.y.data,asn1.Ber.Integer),der.writeBuffer(key.part.p.data,asn1.Ber.Integer),der.writeBuffer(key.part.q.data,asn1.Ber.Integer),der.writeBuffer(key.part.g.data,asn1.Ber.Integer)}(der,key);break;case"ecdsa":PrivateKey.isPrivateKey(key)?function(der,key){var ver=Buffer.from([1]);der.writeBuffer(ver,asn1.Ber.Integer),der.writeBuffer(key.part.d.data,asn1.Ber.OctetString),der.startSequence(160);var curve=key.part.curve.data.toString(),curveOid=algs.curves[curve].pkcs8oid;assert.string(curveOid,"a known ECDSA named curve"),der.writeOID(curveOid),der.endSequence(),der.startSequence(161);var Q=utils.ecNormalize(key.part.Q.data,!0);der.writeBuffer(Q,asn1.Ber.BitString),der.endSequence()}(der,key):function(der,key){der.startSequence(),der.writeOID("1.2.840.10045.2.1");var curve=key.part.curve.data.toString(),curveOid=algs.curves[curve].pkcs8oid;assert.string(curveOid,"a known ECDSA named curve"),der.writeOID(curveOid),der.endSequence();var Q=utils.ecNormalize(key.part.Q.data,!0);der.writeBuffer(Q,asn1.Ber.BitString)}(der,key);break;case"ed25519":PrivateKey.isPrivateKey(key)?function(der,key){var ver=Buffer.from([1]);der.writeBuffer(ver,asn1.Ber.Integer),der.writeBuffer(key.part.k.data,asn1.Ber.OctetString),der.startSequence(160),der.writeOID("1.3.101.112"),der.endSequence(),der.startSequence(161),utils.writeBitString(der,key.part.A.data),der.endSequence()}(der,key):function(der,key){throw new Error("Public keys are not supported for EdDSA PKCS#1")}();break;default:throw new Error("Unknown key algo: "+key.type)}der.endSequence()}};var assert=__webpack_require__(18),asn1=__webpack_require__(122),Buffer=__webpack_require__(13).Buffer,algs=__webpack_require__(57),utils=__webpack_require__(46),Key=__webpack_require__(45),PrivateKey=__webpack_require__(53),pem=__webpack_require__(142),readECDSACurve=__webpack_require__(264).readECDSACurve;function readMPInt(der,nm){return assert.strictEqual(der.peek(),asn1.Ber.Integer,nm+" is not an Integer"),utils.mpNormalize(der.readString(asn1.Ber.Integer,!0))}},function(module,exports,__webpack_require__){module.exports={read:function(buf,options){"string"!=typeof buf&&(assert.buffer(buf,"buf"),buf=buf.toString("ascii"));var lines=buf.split("\n");if(lines[0].match(/^Private-key-format\: v1/)){var algElems=lines[1].split(" "),algoNum=parseInt(algElems[1],10),algoName=algElems[2];if(!supportedAlgosById[algoNum])throw new Error("Unsupported algorithm: "+algoName);return function(alg,elements){if(supportedAlgosById[alg].match(/^RSA-/))return function(elements){var rsaParams={};elements.forEach(function(element){"Modulus:"===element.split(" ")[0]?rsaParams.n=elementToBuf(element):"PublicExponent:"===element.split(" ")[0]?rsaParams.e=elementToBuf(element):"PrivateExponent:"===element.split(" ")[0]?rsaParams.d=elementToBuf(element):"Prime1:"===element.split(" ")[0]?rsaParams.p=elementToBuf(element):"Prime2:"===element.split(" ")[0]?rsaParams.q=elementToBuf(element):"Exponent1:"===element.split(" ")[0]?rsaParams.dmodp=elementToBuf(element):"Exponent2:"===element.split(" ")[0]?rsaParams.dmodq=elementToBuf(element):"Coefficient:"===element.split(" ")[0]&&(rsaParams.iqmp=elementToBuf(element))});var key={type:"rsa",parts:[{name:"e",data:utils.mpNormalize(rsaParams.e)},{name:"n",data:utils.mpNormalize(rsaParams.n)},{name:"d",data:utils.mpNormalize(rsaParams.d)},{name:"p",data:utils.mpNormalize(rsaParams.p)},{name:"q",data:utils.mpNormalize(rsaParams.q)},{name:"dmodp",data:utils.mpNormalize(rsaParams.dmodp)},{name:"dmodq",data:utils.mpNormalize(rsaParams.dmodq)},{name:"iqmp",data:utils.mpNormalize(rsaParams.iqmp)}]};return new PrivateKey(key)}(elements);if("ECDSA-P384-SHA384"===supportedAlgosById[alg]||"ECDSA-P256-SHA256"===supportedAlgosById[alg]){var d=Buffer.from(elements[0].split(" ")[1],"base64"),curve="nistp384",size=384;"ECDSA-P256-SHA256"===supportedAlgosById[alg]&&(curve="nistp256",size=256);var publicKey=utils.publicFromPrivateECDSA(curve,d),Q=publicKey.part.Q.data,ecdsaKey={type:"ecdsa",curve:curve,size:size,parts:[{name:"curve",data:Buffer.from(curve)},{name:"d",data:d},{name:"Q",data:Q}]};return new PrivateKey(ecdsaKey)}throw new Error("Unsupported algorithm: "+supportedAlgosById[alg])}(algoNum,lines.slice(2))}var line=0;for(;lines[line].match(/^\;/);)line++;if((lines[line].match(/\. IN KEY /)||lines[line].match(/\. IN DNSKEY /))&&0===lines[line+1].length)return function(keyString){var elems=keyString.split(" "),algorithm=parseInt(elems[5],10);if(!supportedAlgosById[algorithm])throw new Error("Unsupported algorithm: "+algorithm);var base64key=elems.slice(6,elems.length).join(),keyBuffer=Buffer.from(base64key,"base64");if(supportedAlgosById[algorithm].match(/^RSA-/)){var publicExponentLen=keyBuffer.readUInt8(0);if(3!=publicExponentLen&&1!=publicExponentLen)throw new Error("Cannot parse dnssec key: unsupported exponent length");var publicExponent=keyBuffer.slice(1,publicExponentLen+1);publicExponent=utils.mpNormalize(publicExponent);var modulus=keyBuffer.slice(1+publicExponentLen);modulus=utils.mpNormalize(modulus);var rsaKey={type:"rsa",parts:[]};return rsaKey.parts.push({name:"e",data:publicExponent}),rsaKey.parts.push({name:"n",data:modulus}),new Key(rsaKey)}if("ECDSA-P384-SHA384"===supportedAlgosById[algorithm]||"ECDSA-P256-SHA256"===supportedAlgosById[algorithm]){var curve="nistp384",size=384;supportedAlgosById[algorithm].match(/^ECDSA-P256-SHA256/)&&(curve="nistp256",size=256);var ecdsaKey={type:"ecdsa",curve:curve,size:size,parts:[{name:"curve",data:Buffer.from(curve)},{name:"Q",data:utils.ecNormalize(keyBuffer)}]};return new Key(ecdsaKey)}throw new Error("Unsupported algorithm: "+supportedAlgosById[algorithm])}(lines[line]);throw new Error("Cannot parse dnssec key")},write:function(key,options){if(PrivateKey.isPrivateKey(key)){if("rsa"===key.type)return function(key,options){key.part.dmodp&&key.part.dmodq||utils.addRSAMissing(key);var out="";out+="Private-key-format: v1.3\n",out+="Algorithm: "+function(opts){if(opts&&opts.hashAlgo&&"sha1"!==opts.hashAlgo){if("sha256"===opts.hashAlgo)return"8 (RSASHA256)";if("sha512"===opts.hashAlgo)return"10 (RSASHA512)";throw new Error("Unknown or unsupported hash: "+opts.hashAlgo)}return"5 (RSASHA1)"}(options)+"\n";var n=utils.mpDenormalize(key.part.n.data);out+="Modulus: "+n.toString("base64")+"\n";var e=utils.mpDenormalize(key.part.e.data);out+="PublicExponent: "+e.toString("base64")+"\n";var d=utils.mpDenormalize(key.part.d.data);out+="PrivateExponent: "+d.toString("base64")+"\n";var p=utils.mpDenormalize(key.part.p.data);out+="Prime1: "+p.toString("base64")+"\n";var q=utils.mpDenormalize(key.part.q.data);out+="Prime2: "+q.toString("base64")+"\n";var dmodp=utils.mpDenormalize(key.part.dmodp.data);out+="Exponent1: "+dmodp.toString("base64")+"\n";var dmodq=utils.mpDenormalize(key.part.dmodq.data);out+="Exponent2: "+dmodq.toString("base64")+"\n";var iqmp=utils.mpDenormalize(key.part.iqmp.data);out+="Coefficient: "+iqmp.toString("base64")+"\n";var timestamp=new Date;return out+="Created: "+dnssecTimestamp(timestamp)+"\n",out+="Publish: "+dnssecTimestamp(timestamp)+"\n",out+="Activate: "+dnssecTimestamp(timestamp)+"\n",Buffer.from(out,"ascii")}(key,options);if("ecdsa"===key.type)return function(key,options){var out="";if(out+="Private-key-format: v1.3\n","nistp256"===key.curve)out+="Algorithm: 13 (ECDSAP256SHA256)\n";else{if("nistp384"!==key.curve)throw new Error("Unsupported curve");out+="Algorithm: 14 (ECDSAP384SHA384)\n"}var base64Key=key.part.d.data.toString("base64");out+="PrivateKey: "+base64Key+"\n";var timestamp=new Date;return out+="Created: "+dnssecTimestamp(timestamp)+"\n",out+="Publish: "+dnssecTimestamp(timestamp)+"\n",out+="Activate: "+dnssecTimestamp(timestamp)+"\n",Buffer.from(out,"ascii")}(key);throw new Error("Unsupported algorithm: "+key.type)}throw Key.isKey(key)?new Error('Format "dnssec" only supports writing private keys'):new Error("key is not a Key or PrivateKey")}};var assert=__webpack_require__(18),Buffer=__webpack_require__(13).Buffer,Key=__webpack_require__(45),PrivateKey=__webpack_require__(53),utils=__webpack_require__(46),supportedAlgos=(__webpack_require__(263),__webpack_require__(443),{"rsa-sha1":5,"rsa-sha256":8,"rsa-sha512":10,"ecdsa-p256-sha256":13,"ecdsa-p384-sha384":14}),supportedAlgosById={};function elementToBuf(e){return Buffer.from(e.split(" ")[1],"base64")}function dnssecTimestamp(date){var timestampStr=date.getFullYear()+""+(date.getMonth()+1)+date.getUTCDate();return timestampStr+=""+date.getUTCHours()+date.getUTCMinutes(),timestampStr+=date.getUTCSeconds()}Object.keys(supportedAlgos).forEach(function(k){supportedAlgosById[supportedAlgos[k]]=k.toUpperCase()})},function(module,exports){function Caseless(dict){this.dict=dict||{}}Caseless.prototype.set=function(name,value,clobber){if("object"!=typeof name){void 0===clobber&&(clobber=!0);var has=this.has(name);return!clobber&&has?this.dict[has]=this.dict[has]+","+value:this.dict[has||name]=value,has}for(var i in name)this.set(i,name[i],value)},Caseless.prototype.has=function(name){for(var keys=Object.keys(this.dict),i=(name=name.toLowerCase(),0);i<keys.length;i++)if(keys[i].toLowerCase()===name)return keys[i];return!1},Caseless.prototype.get=function(name){var result,_key;name=name.toLowerCase();var headers=this.dict;return Object.keys(headers).forEach(function(key){_key=key.toLowerCase(),name===_key&&(result=headers[key])}),result},Caseless.prototype.swap=function(name){var has=this.has(name);if(has!==name){if(!has)throw new Error('There is no header than matches "'+name+'"');this.dict[name]=this.dict[has],delete this.dict[has]}},Caseless.prototype.del=function(name){var has=this.has(name);return delete this.dict[has||name]},module.exports=function(dict){return new Caseless(dict)},module.exports.httpify=function(resp,headers){var c=new Caseless(headers);return resp.setHeader=function(key,value,clobber){if(void 0!==value)return c.set(key,value,clobber)},resp.hasHeader=function(key){return c.has(key)},resp.getHeader=function(key){return c.get(key)},resp.removeHeader=function(key){return c.del(key)},resp.headers=c.dict,c}},function(module,exports,__webpack_require__){"use strict";var URI=__webpack_require__(991),equal=__webpack_require__(448),util=__webpack_require__(196),SchemaObject=__webpack_require__(815),traverse=__webpack_require__(993);function resolve(compile,root,ref){var refVal=this._refs[ref];if("string"==typeof refVal){if(!this._refs[refVal])return resolve.call(this,compile,root,refVal);refVal=this._refs[refVal]}if((refVal=refVal||this._schemas[ref])instanceof SchemaObject)return inlineRef(refVal.schema,this._opts.inlineRefs)?refVal.schema:refVal.validate||this._compile(refVal);var schema,v,baseId,res=resolveSchema.call(this,root,ref);return res&&(schema=res.schema,root=res.root,baseId=res.baseId),schema instanceof SchemaObject?v=schema.validate||compile.call(this,schema.schema,root,void 0,baseId):void 0!==schema&&(v=inlineRef(schema,this._opts.inlineRefs)?schema:compile.call(this,schema,root,void 0,baseId)),v}function resolveSchema(root,ref){var p=URI.parse(ref),refPath=_getFullPath(p),baseId=getFullPath(this._getId(root.schema));if(0===Object.keys(root.schema).length||refPath!==baseId){var id=normalizeId(refPath),refVal=this._refs[id];if("string"==typeof refVal)return function(root,ref,parsedRef){var res=resolveSchema.call(this,root,ref);if(res){var schema=res.schema,baseId=res.baseId;root=res.root;var id=this._getId(schema);return id&&(baseId=resolveUrl(baseId,id)),getJsonPointer.call(this,parsedRef,baseId,schema,root)}}.call(this,root,refVal,p);if(refVal instanceof SchemaObject)refVal.validate||this._compile(refVal),root=refVal;else{if(!((refVal=this._schemas[id])instanceof SchemaObject))return;if(refVal.validate||this._compile(refVal),id==normalizeId(ref))return{schema:refVal,root:root,baseId:baseId};root=refVal}if(!root.schema)return;baseId=getFullPath(this._getId(root.schema))}return getJsonPointer.call(this,p,baseId,root.schema,root)}module.exports=resolve,resolve.normalizeId=normalizeId,resolve.fullPath=getFullPath,resolve.url=resolveUrl,resolve.ids=function(schema){var schemaId=normalizeId(this._getId(schema)),baseIds={"":schemaId},fullPaths={"":getFullPath(schemaId,!1)},localRefs={},self=this;return traverse(schema,{allKeys:!0},function(sch,jsonPtr,rootSchema,parentJsonPtr,parentKeyword,parentSchema,keyIndex){if(""!==jsonPtr){var id=self._getId(sch),baseId=baseIds[parentJsonPtr],fullPath=fullPaths[parentJsonPtr]+"/"+parentKeyword;if(void 0!==keyIndex&&(fullPath+="/"+("number"==typeof keyIndex?keyIndex:util.escapeFragment(keyIndex))),"string"==typeof id){id=baseId=normalizeId(baseId?URI.resolve(baseId,id):id);var refVal=self._refs[id];if("string"==typeof refVal&&(refVal=self._refs[refVal]),refVal&&refVal.schema){if(!equal(sch,refVal.schema))throw new Error('id "'+id+'" resolves to more than one schema')}else if(id!=normalizeId(fullPath))if("#"==id[0]){if(localRefs[id]&&!equal(sch,localRefs[id]))throw new Error('id "'+id+'" resolves to more than one schema');localRefs[id]=sch}else self._refs[id]=fullPath}baseIds[jsonPtr]=baseId,fullPaths[jsonPtr]=fullPath}}),localRefs},resolve.inlineRef=inlineRef,resolve.schema=resolveSchema;var PREVENT_SCOPE_CHANGE=util.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function getJsonPointer(parsedRef,baseId,schema,root){if(parsedRef.fragment=parsedRef.fragment||"","/"==parsedRef.fragment.slice(0,1)){for(var parts=parsedRef.fragment.split("/"),i=1;i<parts.length;i++){var part=parts[i];if(part){if(void 0===(schema=schema[part=util.unescapeFragment(part)]))break;var id;if(!PREVENT_SCOPE_CHANGE[part]&&((id=this._getId(schema))&&(baseId=resolveUrl(baseId,id)),schema.$ref)){var $ref=resolveUrl(baseId,schema.$ref),res=resolveSchema.call(this,root,$ref);res&&(schema=res.schema,root=res.root,baseId=res.baseId)}}}return void 0!==schema&&schema!==root.schema?{schema:schema,root:root,baseId:baseId}:void 0}}var SIMPLE_INLINED=util.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function inlineRef(schema,limit){return!1!==limit&&(void 0===limit||!0===limit?function checkNoRef(schema){var item;if(Array.isArray(schema)){for(var i=0;i<schema.length;i++)if("object"==typeof(item=schema[i])&&!checkNoRef(item))return!1}else for(var key in schema){if("$ref"==key)return!1;if("object"==typeof(item=schema[key])&&!checkNoRef(item))return!1}return!0}(schema):limit?function countKeys(schema){var item,count=0;if(Array.isArray(schema)){for(var i=0;i<schema.length;i++)if("object"==typeof(item=schema[i])&&(count+=countKeys(item)),count==1/0)return 1/0}else for(var key in schema){if("$ref"==key)return 1/0;if(SIMPLE_INLINED[key])count++;else if("object"==typeof(item=schema[key])&&(count+=countKeys(item)+1),count==1/0)return 1/0}return count}(schema)<=limit:void 0)}function getFullPath(id,normalize){return!1!==normalize&&(id=normalizeId(id)),_getFullPath(URI.parse(id))}function _getFullPath(p){return URI.serialize(p).split("#")[0]+"#"}var TRAILING_SLASH_HASH=/#\/?$/;function normalizeId(id){return id?id.replace(TRAILING_SLASH_HASH,""):""}function resolveUrl(baseId,id){return id=normalizeId(id),URI.resolve(baseId,id)}},function(module,exports,__webpack_require__){"use strict";var isArray=Array.isArray,keyList=Object.keys,hasProp=Object.prototype.hasOwnProperty;module.exports=function equal(a,b){if(a===b)return!0;if(a&&b&&"object"==typeof a&&"object"==typeof b){var i,length,key,arrA=isArray(a),arrB=isArray(b);if(arrA&&arrB){if((length=a.length)!=b.length)return!1;for(i=length;0!=i--;)if(!equal(a[i],b[i]))return!1;return!0}if(arrA!=arrB)return!1;var dateA=a instanceof Date,dateB=b instanceof Date;if(dateA!=dateB)return!1;if(dateA&&dateB)return a.getTime()==b.getTime();var regexpA=a instanceof RegExp,regexpB=b instanceof RegExp;if(regexpA!=regexpB)return!1;if(regexpA&&regexpB)return a.toString()==b.toString();var keys=keyList(a);if((length=keys.length)!==keyList(b).length)return!1;for(i=length;0!=i--;)if(!hasProp.call(b,keys[i]))return!1;for(i=length;0!=i--;)if(!equal(a[key=keys[i]],b[key]))return!1;return!0}return a!=a&&b!=b}},function(module,exports,__webpack_require__){"use strict";var resolve=__webpack_require__(447);function MissingRefError(baseId,ref,message){this.message=message||MissingRefError.message(baseId,ref),this.missingRef=resolve.url(baseId,ref),this.missingSchema=resolve.normalizeId(resolve.fullPath(this.missingRef))}function errorSubclass(Subclass){return Subclass.prototype=Object.create(Error.prototype),Subclass.prototype.constructor=Subclass,Subclass}module.exports={Validation:errorSubclass(function(errors){this.message="validation failed",this.errors=errors,this.ajv=this.validation=!0}),MissingRef:errorSubclass(MissingRefError)},MissingRefError.message=function(baseId,ref){return"can't resolve reference "+ref+" from id "+baseId}},function(module){module.exports=JSON.parse('{"Aacute":"","aacute":"","Abreve":"","abreve":"","ac":"","acd":"","acE":"","Acirc":"","acirc":"","acute":"","Acy":"","acy":"","AElig":"","aelig":"","af":"","Afr":"","afr":"","Agrave":"","agrave":"","alefsym":"","aleph":"","Alpha":"","alpha":"","Amacr":"","amacr":"","amalg":"","amp":"&","AMP":"&","andand":"","And":"","and":"","andd":"","andslope":"","andv":"","ang":"","ange":"","angle":"","angmsdaa":"","angmsdab":"","angmsdac":"","angmsdad":"","angmsdae":"","angmsdaf":"","angmsdag":"","angmsdah":"","angmsd":"","angrt":"","angrtvb":"","angrtvbd":"","angsph":"","angst":"","angzarr":"","Aogon":"","aogon":"","Aopf":"","aopf":"","apacir":"","ap":"","apE":"","ape":"","apid":"","apos":"\'","ApplyFunction":"","approx":"","approxeq":"","Aring":"","aring":"","Ascr":"","ascr":"","Assign":"","ast":"*","asymp":"","asympeq":"","Atilde":"","atilde":"","Auml":"","auml":"","awconint":"","awint":"","backcong":"","backepsilon":"","backprime":"","backsim":"","backsimeq":"","Backslash":"","Barv":"","barvee":"","barwed":"","Barwed":"","barwedge":"","bbrk":"","bbrktbrk":"","bcong":"","Bcy":"","bcy":"","bdquo":"","becaus":"","because":"","Because":"","bemptyv":"","bepsi":"","bernou":"","Bernoullis":"","Beta":"","beta":"","beth":"","between":"","Bfr":"","bfr":"","bigcap":"","bigcirc":"","bigcup":"","bigodot":"","bigoplus":"","bigotimes":"","bigsqcup":"","bigstar":"","bigtriangledown":"","bigtriangleup":"","biguplus":"","bigvee":"","bigwedge":"","bkarow":"","blacklozenge":"","blacksquare":"","blacktriangle":"","blacktriangledown":"","blacktriangleleft":"","blacktriangleright":"","blank":"","blk12":"","blk14":"","blk34":"","block":"","bne":"=","bnequiv":"","bNot":"","bnot":"","Bopf":"","bopf":"","bot":"","bottom":"","bowtie":"","boxbox":"","boxdl":"","boxdL":"","boxDl":"","boxDL":"","boxdr":"","boxdR":"","boxDr":"","boxDR":"","boxh":"","boxH":"","boxhd":"","boxHd":"","boxhD":"","boxHD":"","boxhu":"","boxHu":"","boxhU":"","boxHU":"","boxminus":"","boxplus":"","boxtimes":"","boxul":"","boxuL":"","boxUl":"","boxUL":"","boxur":"","boxuR":"","boxUr":"","boxUR":"","boxv":"","boxV":"","boxvh":"","boxvH":"","boxVh":"","boxVH":"","boxvl":"","boxvL":"","boxVl":"","boxVL":"","boxvr":"","boxvR":"","boxVr":"","boxVR":"","bprime":"","breve":"","Breve":"","brvbar":"","bscr":"","Bscr":"","bsemi":"","bsim":"","bsime":"","bsolb":"","bsol":"\\\\","bsolhsub":"","bull":"","bullet":"","bump":"","bumpE":"","bumpe":"","Bumpeq":"","bumpeq":"","Cacute":"","cacute":"","capand":"","capbrcup":"","capcap":"","cap":"","Cap":"","capcup":"","capdot":"","CapitalDifferentialD":"","caps":"","caret":"","caron":"","Cayleys":"","ccaps":"","Ccaron":"","ccaron":"","Ccedil":"","ccedil":"","Ccirc":"","ccirc":"","Cconint":"","ccups":"","ccupssm":"","Cdot":"","cdot":"","cedil":"","Cedilla":"","cemptyv":"","cent":"","centerdot":"","CenterDot":"","cfr":"","Cfr":"","CHcy":"","chcy":"","check":"","checkmark":"","Chi":"","chi":"","circ":"","circeq":"","circlearrowleft":"","circlearrowright":"","circledast":"","circledcirc":"","circleddash":"","CircleDot":"","circledR":"","circledS":"","CircleMinus":"","CirclePlus":"","CircleTimes":"","cir":"","cirE":"","cire":"","cirfnint":"","cirmid":"","cirscir":"","ClockwiseContourIntegral":"","CloseCurlyDoubleQuote":"","CloseCurlyQuote":"","clubs":"","clubsuit":"","colon":":","Colon":"","Colone":"","colone":"","coloneq":"","comma":",","commat":"@","comp":"","compfn":"","complement":"","complexes":"","cong":"","congdot":"","Congruent":"","conint":"","Conint":"","ContourIntegral":"","copf":"","Copf":"","coprod":"","Coproduct":"","copy":"","COPY":"","copysr":"","CounterClockwiseContourIntegral":"","crarr":"","cross":"","Cross":"","Cscr":"","cscr":"","csub":"","csube":"","csup":"","csupe":"","ctdot":"","cudarrl":"","cudarrr":"","cuepr":"","cuesc":"","cularr":"","cularrp":"","cupbrcap":"","cupcap":"","CupCap":"","cup":"","Cup":"","cupcup":"","cupdot":"","cupor":"","cups":"","curarr":"","curarrm":"","curlyeqprec":"","curlyeqsucc":"","curlyvee":"","curlywedge":"","curren":"","curvearrowleft":"","curvearrowright":"","cuvee":"","cuwed":"","cwconint":"","cwint":"","cylcty":"","dagger":"","Dagger":"","daleth":"","darr":"","Darr":"","dArr":"","dash":"","Dashv":"","dashv":"","dbkarow":"","dblac":"","Dcaron":"","dcaron":"","Dcy":"","dcy":"","ddagger":"","ddarr":"","DD":"","dd":"","DDotrahd":"","ddotseq":"","deg":"","Del":"","Delta":"","delta":"","demptyv":"","dfisht":"","Dfr":"","dfr":"","dHar":"","dharl":"","dharr":"","DiacriticalAcute":"","DiacriticalDot":"","DiacriticalDoubleAcute":"","DiacriticalGrave":"`","DiacriticalTilde":"","diam":"","diamond":"","Diamond":"","diamondsuit":"","diams":"","die":"","DifferentialD":"","digamma":"","disin":"","div":"","divide":"","divideontimes":"","divonx":"","DJcy":"","djcy":"","dlcorn":"","dlcrop":"","dollar":"$","Dopf":"","dopf":"","Dot":"","dot":"","DotDot":"","doteq":"","doteqdot":"","DotEqual":"","dotminus":"","dotplus":"","dotsquare":"","doublebarwedge":"","DoubleContourIntegral":"","DoubleDot":"","DoubleDownArrow":"","DoubleLeftArrow":"","DoubleLeftRightArrow":"","DoubleLeftTee":"","DoubleLongLeftArrow":"","DoubleLongLeftRightArrow":"","DoubleLongRightArrow":"","DoubleRightArrow":"","DoubleRightTee":"","DoubleUpArrow":"","DoubleUpDownArrow":"","DoubleVerticalBar":"","DownArrowBar":"","downarrow":"","DownArrow":"","Downarrow":"","DownArrowUpArrow":"","DownBreve":"","downdownarrows":"","downharpoonleft":"","downharpoonright":"","DownLeftRightVector":"","DownLeftTeeVector":"","DownLeftVectorBar":"","DownLeftVector":"","DownRightTeeVector":"","DownRightVectorBar":"","DownRightVector":"","DownTeeArrow":"","DownTee":"","drbkarow":"","drcorn":"","drcrop":"","Dscr":"","dscr":"","DScy":"","dscy":"","dsol":"","Dstrok":"","dstrok":"","dtdot":"","dtri":"","dtrif":"","duarr":"","duhar":"","dwangle":"","DZcy":"","dzcy":"","dzigrarr":"","Eacute":"","eacute":"","easter":"","Ecaron":"","ecaron":"","Ecirc":"","ecirc":"","ecir":"","ecolon":"","Ecy":"","ecy":"","eDDot":"","Edot":"","edot":"","eDot":"","ee":"","efDot":"","Efr":"","efr":"","eg":"","Egrave":"","egrave":"","egs":"","egsdot":"","el":"","Element":"","elinters":"","ell":"","els":"","elsdot":"","Emacr":"","emacr":"","empty":"","emptyset":"","EmptySmallSquare":"","emptyv":"","EmptyVerySmallSquare":"","emsp13":"","emsp14":"","emsp":"","ENG":"","eng":"","ensp":"","Eogon":"","eogon":"","Eopf":"","eopf":"","epar":"","eparsl":"","eplus":"","epsi":"","Epsilon":"","epsilon":"","epsiv":"","eqcirc":"","eqcolon":"","eqsim":"","eqslantgtr":"","eqslantless":"","Equal":"","equals":"=","EqualTilde":"","equest":"","Equilibrium":"","equiv":"","equivDD":"","eqvparsl":"","erarr":"","erDot":"","escr":"","Escr":"","esdot":"","Esim":"","esim":"","Eta":"","eta":"","ETH":"","eth":"","Euml":"","euml":"","euro":"","excl":"!","exist":"","Exists":"","expectation":"","exponentiale":"","ExponentialE":"","fallingdotseq":"","Fcy":"","fcy":"","female":"","ffilig":"","fflig":"","ffllig":"","Ffr":"","ffr":"","filig":"","FilledSmallSquare":"","FilledVerySmallSquare":"","fjlig":"fj","flat":"","fllig":"","fltns":"","fnof":"","Fopf":"","fopf":"","forall":"","ForAll":"","fork":"","forkv":"","Fouriertrf":"","fpartint":"","frac12":"","frac13":"","frac14":"","frac15":"","frac16":"","frac18":"","frac23":"","frac25":"","frac34":"","frac35":"","frac38":"","frac45":"","frac56":"","frac58":"","frac78":"","frasl":"","frown":"","fscr":"","Fscr":"","gacute":"","Gamma":"","gamma":"","Gammad":"","gammad":"","gap":"","Gbreve":"","gbreve":"","Gcedil":"","Gcirc":"","gcirc":"","Gcy":"","gcy":"","Gdot":"","gdot":"","ge":"","gE":"","gEl":"","gel":"","geq":"","geqq":"","geqslant":"","gescc":"","ges":"","gesdot":"","gesdoto":"","gesdotol":"","gesl":"","gesles":"","Gfr":"","gfr":"","gg":"","Gg":"","ggg":"","gimel":"","GJcy":"","gjcy":"","gla":"","gl":"","glE":"","glj":"","gnap":"","gnapprox":"","gne":"","gnE":"","gneq":"","gneqq":"","gnsim":"","Gopf":"","gopf":"","grave":"`","GreaterEqual":"","GreaterEqualLess":"","GreaterFullEqual":"","GreaterGreater":"","GreaterLess":"","GreaterSlantEqual":"","GreaterTilde":"","Gscr":"","gscr":"","gsim":"","gsime":"","gsiml":"","gtcc":"","gtcir":"","gt":">","GT":">","Gt":"","gtdot":"","gtlPar":"","gtquest":"","gtrapprox":"","gtrarr":"","gtrdot":"","gtreqless":"","gtreqqless":"","gtrless":"","gtrsim":"","gvertneqq":"","gvnE":"","Hacek":"","hairsp":"","half":"","hamilt":"","HARDcy":"","hardcy":"","harrcir":"","harr":"","hArr":"","harrw":"","Hat":"^","hbar":"","Hcirc":"","hcirc":"","hearts":"","heartsuit":"","hellip":"","hercon":"","hfr":"","Hfr":"","HilbertSpace":"","hksearow":"","hkswarow":"","hoarr":"","homtht":"","hookleftarrow":"","hookrightarrow":"","hopf":"","Hopf":"","horbar":"","HorizontalLine":"","hscr":"","Hscr":"","hslash":"","Hstrok":"","hstrok":"","HumpDownHump":"","HumpEqual":"","hybull":"","hyphen":"","Iacute":"","iacute":"","ic":"","Icirc":"","icirc":"","Icy":"","icy":"","Idot":"","IEcy":"","iecy":"","iexcl":"","iff":"","ifr":"","Ifr":"","Igrave":"","igrave":"","ii":"","iiiint":"","iiint":"","iinfin":"","iiota":"","IJlig":"","ijlig":"","Imacr":"","imacr":"","image":"","ImaginaryI":"","imagline":"","imagpart":"","imath":"","Im":"","imof":"","imped":"","Implies":"","incare":"","in":"","infin":"","infintie":"","inodot":"","intcal":"","int":"","Int":"","integers":"","Integral":"","intercal":"","Intersection":"","intlarhk":"","intprod":"","InvisibleComma":"","InvisibleTimes":"","IOcy":"","iocy":"","Iogon":"","iogon":"","Iopf":"","iopf":"","Iota":"","iota":"","iprod":"","iquest":"","iscr":"","Iscr":"","isin":"","isindot":"","isinE":"","isins":"","isinsv":"","isinv":"","it":"","Itilde":"","itilde":"","Iukcy":"","iukcy":"","Iuml":"","iuml":"","Jcirc":"","jcirc":"","Jcy":"","jcy":"","Jfr":"","jfr":"","jmath":"","Jopf":"","jopf":"","Jscr":"","jscr":"","Jsercy":"","jsercy":"","Jukcy":"","jukcy":"","Kappa":"","kappa":"","kappav":"","Kcedil":"","kcedil":"","Kcy":"","kcy":"","Kfr":"","kfr":"","kgreen":"","KHcy":"","khcy":"","KJcy":"","kjcy":"","Kopf":"","kopf":"","Kscr":"","kscr":"","lAarr":"","Lacute":"","lacute":"","laemptyv":"","lagran":"","Lambda":"","lambda":"","lang":"","Lang":"","langd":"","langle":"","lap":"","Laplacetrf":"","laquo":"","larrb":"","larrbfs":"","larr":"","Larr":"","lArr":"","larrfs":"","larrhk":"","larrlp":"","larrpl":"","larrsim":"","larrtl":"","latail":"","lAtail":"","lat":"","late":"","lates":"","lbarr":"","lBarr":"","lbbrk":"","lbrace":"{","lbrack":"[","lbrke":"","lbrksld":"","lbrkslu":"","Lcaron":"","lcaron":"","Lcedil":"","lcedil":"","lceil":"","lcub":"{","Lcy":"","lcy":"","ldca":"","ldquo":"","ldquor":"","ldrdhar":"","ldrushar":"","ldsh":"","le":"","lE":"","LeftAngleBracket":"","LeftArrowBar":"","leftarrow":"","LeftArrow":"","Leftarrow":"","LeftArrowRightArrow":"","leftarrowtail":"","LeftCeiling":"","LeftDoubleBracket":"","LeftDownTeeVector":"","LeftDownVectorBar":"","LeftDownVector":"","LeftFloor":"","leftharpoondown":"","leftharpoonup":"","leftleftarrows":"","leftrightarrow":"","LeftRightArrow":"","Leftrightarrow":"","leftrightarrows":"","leftrightharpoons":"","leftrightsquigarrow":"","LeftRightVector":"","LeftTeeArrow":"","LeftTee":"","LeftTeeVector":"","leftthreetimes":"","LeftTriangleBar":"","LeftTriangle":"","LeftTriangleEqual":"","LeftUpDownVector":"","LeftUpTeeVector":"","LeftUpVectorBar":"","LeftUpVector":"","LeftVectorBar":"","LeftVector":"","lEg":"","leg":"","leq":"","leqq":"","leqslant":"","lescc":"","les":"","lesdot":"","lesdoto":"","lesdotor":"","lesg":"","lesges":"","lessapprox":"","lessdot":"","lesseqgtr":"","lesseqqgtr":"","LessEqualGreater":"","LessFullEqual":"","LessGreater":"","lessgtr":"","LessLess":"","lesssim":"","LessSlantEqual":"","LessTilde":"","lfisht":"","lfloor":"","Lfr":"","lfr":"","lg":"","lgE":"","lHar":"","lhard":"","lharu":"","lharul":"","lhblk":"","LJcy":"","ljcy":"","llarr":"","ll":"","Ll":"","llcorner":"","Lleftarrow":"","llhard":"","lltri":"","Lmidot":"","lmidot":"","lmoustache":"","lmoust":"","lnap":"","lnapprox":"","lne":"","lnE":"","lneq":"","lneqq":"","lnsim":"","loang":"","loarr":"","lobrk":"","longleftarrow":"","LongLeftArrow":"","Longleftarrow":"","longleftrightarrow":"","LongLeftRightArrow":"","Longleftrightarrow":"","longmapsto":"","longrightarrow":"","LongRightArrow":"","Longrightarrow":"","looparrowleft":"","looparrowright":"","lopar":"","Lopf":"","lopf":"","loplus":"","lotimes":"","lowast":"","lowbar":"_","LowerLeftArrow":"","LowerRightArrow":"","loz":"","lozenge":"","lozf":"","lpar":"(","lparlt":"","lrarr":"","lrcorner":"","lrhar":"","lrhard":"","lrm":"","lrtri":"","lsaquo":"","lscr":"","Lscr":"","lsh":"","Lsh":"","lsim":"","lsime":"","lsimg":"","lsqb":"[","lsquo":"","lsquor":"","Lstrok":"","lstrok":"","ltcc":"","ltcir":"","lt":"<","LT":"<","Lt":"","ltdot":"","lthree":"","ltimes":"","ltlarr":"","ltquest":"","ltri":"","ltrie":"","ltrif":"","ltrPar":"","lurdshar":"","luruhar":"","lvertneqq":"","lvnE":"","macr":"","male":"","malt":"","maltese":"","Map":"","map":"","mapsto":"","mapstodown":"","mapstoleft":"","mapstoup":"","marker":"","mcomma":"","Mcy":"","mcy":"","mdash":"","mDDot":"","measuredangle":"","MediumSpace":"","Mellintrf":"","Mfr":"","mfr":"","mho":"","micro":"","midast":"*","midcir":"","mid":"","middot":"","minusb":"","minus":"","minusd":"","minusdu":"","MinusPlus":"","mlcp":"","mldr":"","mnplus":"","models":"","Mopf":"","mopf":"","mp":"","mscr":"","Mscr":"","mstpos":"","Mu":"","mu":"","multimap":"","mumap":"","nabla":"","Nacute":"","nacute":"","nang":"","nap":"","napE":"","napid":"","napos":"","napprox":"","natural":"","naturals":"","natur":"","nbsp":"","nbump":"","nbumpe":"","ncap":"","Ncaron":"","ncaron":"","Ncedil":"","ncedil":"","ncong":"","ncongdot":"","ncup":"","Ncy":"","ncy":"","ndash":"","nearhk":"","nearr":"","neArr":"","nearrow":"","ne":"","nedot":"","NegativeMediumSpace":"","NegativeThickSpace":"","NegativeThinSpace":"","NegativeVeryThinSpace":"","nequiv":"","nesear":"","nesim":"","NestedGreaterGreater":"","NestedLessLess":"","NewLine":"\\n","nexist":"","nexists":"","Nfr":"","nfr":"","ngE":"","nge":"","ngeq":"","ngeqq":"","ngeqslant":"","nges":"","nGg":"","ngsim":"","nGt":"","ngt":"","ngtr":"","nGtv":"","nharr":"","nhArr":"","nhpar":"","ni":"","nis":"","nisd":"","niv":"","NJcy":"","njcy":"","nlarr":"","nlArr":"","nldr":"","nlE":"","nle":"","nleftarrow":"","nLeftarrow":"","nleftrightarrow":"","nLeftrightarrow":"","nleq":"","nleqq":"","nleqslant":"","nles":"","nless":"","nLl":"","nlsim":"","nLt":"","nlt":"","nltri":"","nltrie":"","nLtv":"","nmid":"","NoBreak":"","NonBreakingSpace":"","nopf":"","Nopf":"","Not":"","not":"","NotCongruent":"","NotCupCap":"","NotDoubleVerticalBar":"","NotElement":"","NotEqual":"","NotEqualTilde":"","NotExists":"","NotGreater":"","NotGreaterEqual":"","NotGreaterFullEqual":"","NotGreaterGreater":"","NotGreaterLess":"","NotGreaterSlantEqual":"","NotGreaterTilde":"","NotHumpDownHump":"","NotHumpEqual":"","notin":"","notindot":"","notinE":"","notinva":"","notinvb":"","notinvc":"","NotLeftTriangleBar":"","NotLeftTriangle":"","NotLeftTriangleEqual":"","NotLess":"","NotLessEqual":"","NotLessGreater":"","NotLessLess":"","NotLessSlantEqual":"","NotLessTilde":"","NotNestedGreaterGreater":"","NotNestedLessLess":"","notni":"","notniva":"","notnivb":"","notnivc":"","NotPrecedes":"","NotPrecedesEqual":"","NotPrecedesSlantEqual":"","NotReverseElement":"","NotRightTriangleBar":"","NotRightTriangle":"","NotRightTriangleEqual":"","NotSquareSubset":"","NotSquareSubsetEqual":"","NotSquareSuperset":"","NotSquareSupersetEqual":"","NotSubset":"","NotSubsetEqual":"","NotSucceeds":"","NotSucceedsEqual":"","NotSucceedsSlantEqual":"","NotSucceedsTilde":"","NotSuperset":"","NotSupersetEqual":"","NotTilde":"","NotTildeEqual":"","NotTildeFullEqual":"","NotTildeTilde":"","NotVerticalBar":"","nparallel":"","npar":"","nparsl":"","npart":"","npolint":"","npr":"","nprcue":"","nprec":"","npreceq":"","npre":"","nrarrc":"","nrarr":"","nrArr":"","nrarrw":"","nrightarrow":"","nRightarrow":"","nrtri":"","nrtrie":"","nsc":"","nsccue":"","nsce":"","Nscr":"","nscr":"","nshortmid":"","nshortparallel":"","nsim":"","nsime":"","nsimeq":"","nsmid":"","nspar":"","nsqsube":"","nsqsupe":"","nsub":"","nsubE":"","nsube":"","nsubset":"","nsubseteq":"","nsubseteqq":"","nsucc":"","nsucceq":"","nsup":"","nsupE":"","nsupe":"","nsupset":"","nsupseteq":"","nsupseteqq":"","ntgl":"","Ntilde":"","ntilde":"","ntlg":"","ntriangleleft":"","ntrianglelefteq":"","ntriangleright":"","ntrianglerighteq":"","Nu":"","nu":"","num":"#","numero":"","numsp":"","nvap":"","nvdash":"","nvDash":"","nVdash":"","nVDash":"","nvge":"","nvgt":">","nvHarr":"","nvinfin":"","nvlArr":"","nvle":"","nvlt":"<","nvltrie":"","nvrArr":"","nvrtrie":"","nvsim":"","nwarhk":"","nwarr":"","nwArr":"","nwarrow":"","nwnear":"","Oacute":"","oacute":"","oast":"","Ocirc":"","ocirc":"","ocir":"","Ocy":"","ocy":"","odash":"","Odblac":"","odblac":"","odiv":"","odot":"","odsold":"","OElig":"","oelig":"","ofcir":"","Ofr":"","ofr":"","ogon":"","Ograve":"","ograve":"","ogt":"","ohbar":"","ohm":"","oint":"","olarr":"","olcir":"","olcross":"","oline":"","olt":"","Omacr":"","omacr":"","Omega":"","omega":"","Omicron":"","omicron":"","omid":"","ominus":"","Oopf":"","oopf":"","opar":"","OpenCurlyDoubleQuote":"","OpenCurlyQuote":"","operp":"","oplus":"","orarr":"","Or":"","or":"","ord":"","order":"","orderof":"","ordf":"","ordm":"","origof":"","oror":"","orslope":"","orv":"","oS":"","Oscr":"","oscr":"","Oslash":"","oslash":"","osol":"","Otilde":"","otilde":"","otimesas":"","Otimes":"","otimes":"","Ouml":"","ouml":"","ovbar":"","OverBar":"","OverBrace":"","OverBracket":"","OverParenthesis":"","para":"","parallel":"","par":"","parsim":"","parsl":"","part":"","PartialD":"","Pcy":"","pcy":"","percnt":"%","period":".","permil":"","perp":"","pertenk":"","Pfr":"","pfr":"","Phi":"","phi":"","phiv":"","phmmat":"","phone":"","Pi":"","pi":"","pitchfork":"","piv":"","planck":"","planckh":"","plankv":"","plusacir":"","plusb":"","pluscir":"","plus":"+","plusdo":"","plusdu":"","pluse":"","PlusMinus":"","plusmn":"","plussim":"","plustwo":"","pm":"","Poincareplane":"","pointint":"","popf":"","Popf":"","pound":"","prap":"","Pr":"","pr":"","prcue":"","precapprox":"","prec":"","preccurlyeq":"","Precedes":"","PrecedesEqual":"","PrecedesSlantEqual":"","PrecedesTilde":"","preceq":"","precnapprox":"","precneqq":"","precnsim":"","pre":"","prE":"","precsim":"","prime":"","Prime":"","primes":"","prnap":"","prnE":"","prnsim":"","prod":"","Product":"","profalar":"","profline":"","profsurf":"","prop":"","Proportional":"","Proportion":"","propto":"","prsim":"","prurel":"","Pscr":"","pscr":"","Psi":"","psi":"","puncsp":"","Qfr":"","qfr":"","qint":"","qopf":"","Qopf":"","qprime":"","Qscr":"","qscr":"","quaternions":"","quatint":"","quest":"?","questeq":"","quot":"\\"","QUOT":"\\"","rAarr":"","race":"","Racute":"","racute":"","radic":"","raemptyv":"","rang":"","Rang":"","rangd":"","range":"","rangle":"","raquo":"","rarrap":"","rarrb":"","rarrbfs":"","rarrc":"","rarr":"","Rarr":"","rArr":"","rarrfs":"","rarrhk":"","rarrlp":"","rarrpl":"","rarrsim":"","Rarrtl":"","rarrtl":"","rarrw":"","ratail":"","rAtail":"","ratio":"","rationals":"","rbarr":"","rBarr":"","RBarr":"","rbbrk":"","rbrace":"}","rbrack":"]","rbrke":"","rbrksld":"","rbrkslu":"","Rcaron":"","rcaron":"","Rcedil":"","rcedil":"","rceil":"","rcub":"}","Rcy":"","rcy":"","rdca":"","rdldhar":"","rdquo":"","rdquor":"","rdsh":"","real":"","realine":"","realpart":"","reals":"","Re":"","rect":"","reg":"","REG":"","ReverseElement":"","ReverseEquilibrium":"","ReverseUpEquilibrium":"","rfisht":"","rfloor":"","rfr":"","Rfr":"","rHar":"","rhard":"","rharu":"","rharul":"","Rho":"","rho":"","rhov":"","RightAngleBracket":"","RightArrowBar":"","rightarrow":"","RightArrow":"","Rightarrow":"","RightArrowLeftArrow":"","rightarrowtail":"","RightCeiling":"","RightDoubleBracket":"","RightDownTeeVector":"","RightDownVectorBar":"","RightDownVector":"","RightFloor":"","rightharpoondown":"","rightharpoonup":"","rightleftarrows":"","rightleftharpoons":"","rightrightarrows":"","rightsquigarrow":"","RightTeeArrow":"","RightTee":"","RightTeeVector":"","rightthreetimes":"","RightTriangleBar":"","RightTriangle":"","RightTriangleEqual":"","RightUpDownVector":"","RightUpTeeVector":"","RightUpVectorBar":"","RightUpVector":"","RightVectorBar":"","RightVector":"","ring":"","risingdotseq":"","rlarr":"","rlhar":"","rlm":"","rmoustache":"","rmoust":"","rnmid":"","roang":"","roarr":"","robrk":"","ropar":"","ropf":"","Ropf":"","roplus":"","rotimes":"","RoundImplies":"","rpar":")","rpargt":"","rppolint":"","rrarr":"","Rrightarrow":"","rsaquo":"","rscr":"","Rscr":"","rsh":"","Rsh":"","rsqb":"]","rsquo":"","rsquor":"","rthree":"","rtimes":"","rtri":"","rtrie":"","rtrif":"","rtriltri":"","RuleDelayed":"","ruluhar":"","rx":"","Sacute":"","sacute":"","sbquo":"","scap":"","Scaron":"","scaron":"","Sc":"","sc":"","sccue":"","sce":"","scE":"","Scedil":"","scedil":"","Scirc":"","scirc":"","scnap":"","scnE":"","scnsim":"","scpolint":"","scsim":"","Scy":"","scy":"","sdotb":"","sdot":"","sdote":"","searhk":"","searr":"","seArr":"","searrow":"","sect":"","semi":";","seswar":"","setminus":"","setmn":"","sext":"","Sfr":"","sfr":"","sfrown":"","sharp":"","SHCHcy":"","shchcy":"","SHcy":"","shcy":"","ShortDownArrow":"","ShortLeftArrow":"","shortmid":"","shortparallel":"","ShortRightArrow":"","ShortUpArrow":"","shy":"","Sigma":"","sigma":"","sigmaf":"","sigmav":"","sim":"","simdot":"","sime":"","simeq":"","simg":"","simgE":"","siml":"","simlE":"","simne":"","simplus":"","simrarr":"","slarr":"","SmallCircle":"","smallsetminus":"","smashp":"","smeparsl":"","smid":"","smile":"","smt":"","smte":"","smtes":"","SOFTcy":"","softcy":"","solbar":"","solb":"","sol":"/","Sopf":"","sopf":"","spades":"","spadesuit":"","spar":"","sqcap":"","sqcaps":"","sqcup":"","sqcups":"","Sqrt":"","sqsub":"","sqsube":"","sqsubset":"","sqsubseteq":"","sqsup":"","sqsupe":"","sqsupset":"","sqsupseteq":"","square":"","Square":"","SquareIntersection":"","SquareSubset":"","SquareSubsetEqual":"","SquareSuperset":"","SquareSupersetEqual":"","SquareUnion":"","squarf":"","squ":"","squf":"","srarr":"","Sscr":"","sscr":"","ssetmn":"","ssmile":"","sstarf":"","Star":"","star":"","starf":"","straightepsilon":"","straightphi":"","strns":"","sub":"","Sub":"","subdot":"","subE":"","sube":"","subedot":"","submult":"","subnE":"","subne":"","subplus":"","subrarr":"","subset":"","Subset":"","subseteq":"","subseteqq":"","SubsetEqual":"","subsetneq":"","subsetneqq":"","subsim":"","subsub":"","subsup":"","succapprox":"","succ":"","succcurlyeq":"","Succeeds":"","SucceedsEqual":"","SucceedsSlantEqual":"","SucceedsTilde":"","succeq":"","succnapprox":"","succneqq":"","succnsim":"","succsim":"","SuchThat":"","sum":"","Sum":"","sung":"","sup1":"","sup2":"","sup3":"","sup":"","Sup":"","supdot":"","supdsub":"","supE":"","supe":"","supedot":"","Superset":"","SupersetEqual":"","suphsol":"","suphsub":"","suplarr":"","supmult":"","supnE":"","supne":"","supplus":"","supset":"","Supset":"","supseteq":"","supseteqq":"","supsetneq":"","supsetneqq":"","supsim":"","supsub":"","supsup":"","swarhk":"","swarr":"","swArr":"","swarrow":"","swnwar":"","szlig":"","Tab":"\\t","target":"","Tau":"","tau":"","tbrk":"","Tcaron":"","tcaron":"","Tcedil":"","tcedil":"","Tcy":"","tcy":"","tdot":"","telrec":"","Tfr":"","tfr":"","there4":"","therefore":"","Therefore":"","Theta":"","theta":"","thetasym":"","thetav":"","thickapprox":"","thicksim":"","ThickSpace":"","ThinSpace":"","thinsp":"","thkap":"","thksim":"","THORN":"","thorn":"","tilde":"","Tilde":"","TildeEqual":"","TildeFullEqual":"","TildeTilde":"","timesbar":"","timesb":"","times":"","timesd":"","tint":"","toea":"","topbot":"","topcir":"","top":"","Topf":"","topf":"","topfork":"","tosa":"","tprime":"","trade":"","TRADE":"","triangle":"","triangledown":"","triangleleft":"","trianglelefteq":"","triangleq":"","triangleright":"","trianglerighteq":"","tridot":"","trie":"","triminus":"","TripleDot":"","triplus":"","trisb":"","tritime":"","trpezium":"","Tscr":"","tscr":"","TScy":"","tscy":"","TSHcy":"","tshcy":"","Tstrok":"","tstrok":"","twixt":"","twoheadleftarrow":"","twoheadrightarrow":"","Uacute":"","uacute":"","uarr":"","Uarr":"","uArr":"","Uarrocir":"","Ubrcy":"","ubrcy":"","Ubreve":"","ubreve":"","Ucirc":"","ucirc":"","Ucy":"","ucy":"","udarr":"","Udblac":"","udblac":"","udhar":"","ufisht":"","Ufr":"","ufr":"","Ugrave":"","ugrave":"","uHar":"","uharl":"","uharr":"","uhblk":"","ulcorn":"","ulcorner":"","ulcrop":"","ultri":"","Umacr":"","umacr":"","uml":"","UnderBar":"_","UnderBrace":"","UnderBracket":"","UnderParenthesis":"","Union":"","UnionPlus":"","Uogon":"","uogon":"","Uopf":"","uopf":"","UpArrowBar":"","uparrow":"","UpArrow":"","Uparrow":"","UpArrowDownArrow":"","updownarrow":"","UpDownArrow":"","Updownarrow":"","UpEquilibrium":"","upharpoonleft":"","upharpoonright":"","uplus":"","UpperLeftArrow":"","UpperRightArrow":"","upsi":"","Upsi":"","upsih":"","Upsilon":"","upsilon":"","UpTeeArrow":"","UpTee":"","upuparrows":"","urcorn":"","urcorner":"","urcrop":"","Uring":"","uring":"","urtri":"","Uscr":"","uscr":"","utdot":"","Utilde":"","utilde":"","utri":"","utrif":"","uuarr":"","Uuml":"","uuml":"","uwangle":"","vangrt":"","varepsilon":"","varkappa":"","varnothing":"","varphi":"","varpi":"","varpropto":"","varr":"","vArr":"","varrho":"","varsigma":"","varsubsetneq":"","varsubsetneqq":"","varsupsetneq":"","varsupsetneqq":"","vartheta":"","vartriangleleft":"","vartriangleright":"","vBar":"","Vbar":"","vBarv":"","Vcy":"","vcy":"","vdash":"","vDash":"","Vdash":"","VDash":"","Vdashl":"","veebar":"","vee":"","Vee":"","veeeq":"","vellip":"","verbar":"|","Verbar":"","vert":"|","Vert":"","VerticalBar":"","VerticalLine":"|","VerticalSeparator":"","VerticalTilde":"","VeryThinSpace":"","Vfr":"","vfr":"","vltri":"","vnsub":"","vnsup":"","Vopf":"","vopf":"","vprop":"","vrtri":"","Vscr":"","vscr":"","vsubnE":"","vsubne":"","vsupnE":"","vsupne":"","Vvdash":"","vzigzag":"","Wcirc":"","wcirc":"","wedbar":"","wedge":"","Wedge":"","wedgeq":"","weierp":"","Wfr":"","wfr":"","Wopf":"","wopf":"","wp":"","wr":"","wreath":"","Wscr":"","wscr":"","xcap":"","xcirc":"","xcup":"","xdtri":"","Xfr":"","xfr":"","xharr":"","xhArr":"","Xi":"","xi":"","xlarr":"","xlArr":"","xmap":"","xnis":"","xodot":"","Xopf":"","xopf":"","xoplus":"","xotime":"","xrarr":"","xrArr":"","Xscr":"","xscr":"","xsqcup":"","xuplus":"","xutri":"","xvee":"","xwedge":"","Yacute":"","yacute":"","YAcy":"","yacy":"","Ycirc":"","ycirc":"","Ycy":"","ycy":"","yen":"","Yfr":"","yfr":"","YIcy":"","yicy":"","Yopf":"","yopf":"","Yscr":"","yscr":"","YUcy":"","yucy":"","yuml":"","Yuml":"","Zacute":"","zacute":"","Zcaron":"","zcaron":"","Zcy":"","zcy":"","Zdot":"","zdot":"","zeetrf":"","ZeroWidthSpace":"","Zeta":"","zeta":"","zfr":"","Zfr":"","ZHcy":"","zhcy":"","zigrarr":"","zopf":"","Zopf":"","Zscr":"","zscr":"","zwj":"","zwnj":""}')},function(module){module.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')},function(module,exports,__webpack_require__){"use strict";var ERR_STREAM_PREMATURE_CLOSE=__webpack_require__(198).codes.ERR_STREAM_PREMATURE_CLOSE;function noop(){}module.exports=function eos(stream,opts,callback){if("function"==typeof opts)return eos(stream,null,opts);opts||(opts={}),callback=function(callback){var called=!1;return function(){if(!called){called=!0;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];callback.apply(this,args)}}}(callback||noop);var readable=opts.readable||!1!==opts.readable&&stream.readable,writable=opts.writable||!1!==opts.writable&&stream.writable,onlegacyfinish=function(){stream.writable||onfinish()},writableEnded=stream._writableState&&stream._writableState.finished,onfinish=function(){writable=!1,writableEnded=!0,readable||callback.call(stream)},readableEnded=stream._readableState&&stream._readableState.endEmitted,onend=function(){readable=!1,readableEnded=!0,writable||callback.call(stream)},onerror=function(err){callback.call(stream,err)},onclose=function(){var err;return readable&&!readableEnded?(stream._readableState&&stream._readableState.ended||(err=new ERR_STREAM_PREMATURE_CLOSE),callback.call(stream,err)):writable&&!writableEnded?(stream._writableState&&stream._writableState.ended||(err=new ERR_STREAM_PREMATURE_CLOSE),callback.call(stream,err)):void 0},onrequest=function(){stream.req.on("finish",onfinish)};return function(stream){return stream.setHeader&&"function"==typeof stream.abort}(stream)?(stream.on("complete",onfinish),stream.on("abort",onclose),stream.req?onrequest():stream.on("request",onrequest)):writable&&!stream._writableState&&(stream.on("end",onlegacyfinish),stream.on("close",onlegacyfinish)),stream.on("end",onend),stream.on("finish",onfinish),!1!==opts.error&&stream.on("error",onerror),stream.on("close",onclose),function(){stream.removeListener("complete",onfinish),stream.removeListener("abort",onclose),stream.removeListener("request",onrequest),stream.req&&stream.req.removeListener("finish",onfinish),stream.removeListener("end",onlegacyfinish),stream.removeListener("close",onlegacyfinish),stream.removeListener("finish",onfinish),stream.removeListener("end",onend),stream.removeListener("error",onerror),stream.removeListener("close",onclose)}}},function(module,exports,__webpack_require__){"use strict";var DOCUMENT_MODE=__webpack_require__(113).DOCUMENT_MODE;exports.createDocument=function(){return{nodeName:"#document",mode:DOCUMENT_MODE.NO_QUIRKS,childNodes:[]}},exports.createDocumentFragment=function(){return{nodeName:"#document-fragment",childNodes:[]}},exports.createElement=function(tagName,namespaceURI,attrs){return{nodeName:tagName,tagName:tagName,attrs:attrs,namespaceURI:namespaceURI,childNodes:[],parentNode:null}},exports.createCommentNode=function(data){return{nodeName:"#comment",data:data,parentNode:null}};var createTextNode=function(value){return{nodeName:"#text",value:value,parentNode:null}},appendChild=exports.appendChild=function(parentNode,newNode){parentNode.childNodes.push(newNode),newNode.parentNode=parentNode},insertBefore=exports.insertBefore=function(parentNode,newNode,referenceNode){var insertionIdx=parentNode.childNodes.indexOf(referenceNode);parentNode.childNodes.splice(insertionIdx,0,newNode),newNode.parentNode=parentNode};exports.setTemplateContent=function(templateElement,contentElement){templateElement.content=contentElement},exports.getTemplateContent=function(templateElement){return templateElement.content},exports.setDocumentType=function(document,name,publicId,systemId){for(var doctypeNode=null,i=0;i<document.childNodes.length;i++)if("#documentType"===document.childNodes[i].nodeName){doctypeNode=document.childNodes[i];break}doctypeNode?(doctypeNode.name=name,doctypeNode.publicId=publicId,doctypeNode.systemId=systemId):appendChild(document,{nodeName:"#documentType",name:name,publicId:publicId,systemId:systemId})},exports.setDocumentMode=function(document,mode){document.mode=mode},exports.getDocumentMode=function(document){return document.mode},exports.detachNode=function(node){if(node.parentNode){var idx=node.parentNode.childNodes.indexOf(node);node.parentNode.childNodes.splice(idx,1),node.parentNode=null}},exports.insertText=function(parentNode,text){if(parentNode.childNodes.length){var prevNode=parentNode.childNodes[parentNode.childNodes.length-1];if("#text"===prevNode.nodeName)return void(prevNode.value+=text)}appendChild(parentNode,createTextNode(text))},exports.insertTextBefore=function(parentNode,text,referenceNode){var prevNode=parentNode.childNodes[parentNode.childNodes.indexOf(referenceNode)-1];prevNode&&"#text"===prevNode.nodeName?prevNode.value+=text:insertBefore(parentNode,createTextNode(text),referenceNode)},exports.adoptAttributes=function(recipient,attrs){for(var recipientAttrsMap=[],i=0;i<recipient.attrs.length;i++)recipientAttrsMap.push(recipient.attrs[i].name);for(var j=0;j<attrs.length;j++)-1===recipientAttrsMap.indexOf(attrs[j].name)&&recipient.attrs.push(attrs[j])},exports.getFirstChild=function(node){return node.childNodes[0]},exports.getChildNodes=function(node){return node.childNodes},exports.getParentNode=function(node){return node.parentNode},exports.getAttrList=function(element){return element.attrs},exports.getTagName=function(element){return element.tagName},exports.getNamespaceURI=function(element){return element.namespaceURI},exports.getTextNodeContent=function(textNode){return textNode.value},exports.getCommentNodeContent=function(commentNode){return commentNode.data},exports.getDocumentTypeNodeName=function(doctypeNode){return doctypeNode.name},exports.getDocumentTypeNodePublicId=function(doctypeNode){return doctypeNode.publicId},exports.getDocumentTypeNodeSystemId=function(doctypeNode){return doctypeNode.systemId},exports.isTextNode=function(node){return"#text"===node.nodeName},exports.isCommentNode=function(node){return"#comment"===node.nodeName},exports.isDocumentTypeNode=function(node){return"#documentType"===node.nodeName},exports.isElementNode=function(node){return!!node.tagName}},function(module,exports,__webpack_require__){"use strict";module.exports=function(defaults,options){return[defaults,options=options||Object.create(null)].reduce(function(merged,optObj){return Object.keys(optObj).forEach(function(key){merged[key]=optObj[key]}),merged},Object.create(null))}},function(module,exports,__webpack_require__){"use strict";var DOCUMENT_MODE=__webpack_require__(113).DOCUMENT_MODE,QUIRKS_MODE_PUBLIC_ID_PREFIXES=["+//silmaril//dtd html pro v0r11 19970101//en","-//advasoft ltd//dtd html 3.0 aswedit + extensions//en","-//as//dtd html 3.0 aswedit + extensions//en","-//ietf//dtd html 2.0 level 1//en","-//ietf//dtd html 2.0 level 2//en","-//ietf//dtd html 2.0 strict level 1//en","-//ietf//dtd html 2.0 strict level 2//en","-//ietf//dtd html 2.0 strict//en","-//ietf//dtd html 2.0//en","-//ietf//dtd html 2.1e//en","-//ietf//dtd html 3.0//en","-//ietf//dtd html 3.0//en//","-//ietf//dtd html 3.2 final//en","-//ietf//dtd html 3.2//en","-//ietf//dtd html 3//en","-//ietf//dtd html level 0//en","-//ietf//dtd html level 0//en//2.0","-//ietf//dtd html level 1//en","-//ietf//dtd html level 1//en//2.0","-//ietf//dtd html level 2//en","-//ietf//dtd html level 2//en//2.0","-//ietf//dtd html level 3//en","-//ietf//dtd html level 3//en//3.0","-//ietf//dtd html strict level 0//en","-//ietf//dtd html strict level 0//en//2.0","-//ietf//dtd html strict level 1//en","-//ietf//dtd html strict level 1//en//2.0","-//ietf//dtd html strict level 2//en","-//ietf//dtd html strict level 2//en//2.0","-//ietf//dtd html strict level 3//en","-//ietf//dtd html strict level 3//en//3.0","-//ietf//dtd html strict//en","-//ietf//dtd html strict//en//2.0","-//ietf//dtd html strict//en//3.0","-//ietf//dtd html//en","-//ietf//dtd html//en//2.0","-//ietf//dtd html//en//3.0","-//metrius//dtd metrius presentational//en","-//microsoft//dtd internet explorer 2.0 html strict//en","-//microsoft//dtd internet explorer 2.0 html//en","-//microsoft//dtd internet explorer 2.0 tables//en","-//microsoft//dtd internet explorer 3.0 html strict//en","-//microsoft//dtd internet explorer 3.0 html//en","-//microsoft//dtd internet explorer 3.0 tables//en","-//netscape comm. corp.//dtd html//en","-//netscape comm. corp.//dtd strict html//en","-//o'reilly and associates//dtd html 2.0//en","-//o'reilly and associates//dtd html extended 1.0//en","-//spyglass//dtd html 2.0 extended//en","-//sq//dtd html 2.0 hotmetal + extensions//en","-//sun microsystems corp.//dtd hotjava html//en","-//sun microsystems corp.//dtd hotjava strict html//en","-//w3c//dtd html 3 1995-03-24//en","-//w3c//dtd html 3.2 draft//en","-//w3c//dtd html 3.2 final//en","-//w3c//dtd html 3.2//en","-//w3c//dtd html 3.2s draft//en","-//w3c//dtd html 4.0 frameset//en","-//w3c//dtd html 4.0 transitional//en","-//w3c//dtd html experimental 19960712//en","-//w3c//dtd html experimental 970421//en","-//w3c//dtd w3 html//en","-//w3o//dtd w3 html 3.0//en","-//w3o//dtd w3 html 3.0//en//","-//webtechs//dtd mozilla html 2.0//en","-//webtechs//dtd mozilla html//en"],QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES=QUIRKS_MODE_PUBLIC_ID_PREFIXES.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]),QUIRKS_MODE_PUBLIC_IDS=["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"],LIMITED_QUIRKS_PUBLIC_ID_PREFIXES=["-//W3C//DTD XHTML 1.0 Frameset//","-//W3C//DTD XHTML 1.0 Transitional//"],LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES=LIMITED_QUIRKS_PUBLIC_ID_PREFIXES.concat(["-//W3C//DTD HTML 4.01 Frameset//","-//W3C//DTD HTML 4.01 Transitional//"]);function enquoteDoctypeId(id){var quote=-1!==id.indexOf('"')?"'":'"';return quote+id+quote}function hasPrefix(publicId,prefixes){for(var i=0;i<prefixes.length;i++)if(0===publicId.indexOf(prefixes[i]))return!0;return!1}exports.getDocumentMode=function(name,publicId,systemId){if("html"!==name)return DOCUMENT_MODE.QUIRKS;if(systemId&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===systemId.toLowerCase())return DOCUMENT_MODE.QUIRKS;if(null!==publicId){if(publicId=publicId.toLowerCase(),QUIRKS_MODE_PUBLIC_IDS.indexOf(publicId)>-1)return DOCUMENT_MODE.QUIRKS;var prefixes=null===systemId?QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES:QUIRKS_MODE_PUBLIC_ID_PREFIXES;if(hasPrefix(publicId,prefixes))return DOCUMENT_MODE.QUIRKS;if(hasPrefix(publicId,prefixes=null===systemId?LIMITED_QUIRKS_PUBLIC_ID_PREFIXES:LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES))return DOCUMENT_MODE.LIMITED_QUIRKS}return DOCUMENT_MODE.NO_QUIRKS},exports.serializeContent=function(name,publicId,systemId){var str="!DOCTYPE ";return name&&(str+=name),null!==publicId?str+=" PUBLIC "+enquoteDoctypeId(publicId):null!==systemId&&(str+=" SYSTEM"),null!==systemId&&(str+=" "+enquoteDoctypeId(systemId)),str}},function(module,exports,__webpack_require__){var baseRest=__webpack_require__(63),createWrap=__webpack_require__(457),getHolder=__webpack_require__(459),replaceHolders=__webpack_require__(320),bind=baseRest(function(func,thisArg,partials){var bitmask=1;if(partials.length){var holders=replaceHolders(partials,getHolder(bind));bitmask|=32}return createWrap(func,bitmask,thisArg,partials,holders)});bind.placeholder={},module.exports=bind},function(module,exports,__webpack_require__){var baseSetData=__webpack_require__(846),createBind=__webpack_require__(1088),createCurry=__webpack_require__(1089),createHybrid=__webpack_require__(847),createPartial=__webpack_require__(1095),getData=__webpack_require__(279),mergeData=__webpack_require__(1096),setData=__webpack_require__(851),setWrapToString=__webpack_require__(852),toInteger=__webpack_require__(146),FUNC_ERROR_TEXT="Expected a function",WRAP_BIND_FLAG=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_FLAG=8,WRAP_CURRY_RIGHT_FLAG=16,WRAP_PARTIAL_FLAG=32,WRAP_PARTIAL_RIGHT_FLAG=64,nativeMax=Math.max;module.exports=function(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&WRAP_BIND_KEY_FLAG;if(!isBindKey&&"function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);var length=partials?partials.length:0;if(length||(bitmask&=~(WRAP_PARTIAL_FLAG|WRAP_PARTIAL_RIGHT_FLAG),partials=holders=void 0),ary=void 0===ary?ary:nativeMax(toInteger(ary),0),arity=void 0===arity?arity:toInteger(arity),length-=holders?holders.length:0,bitmask&WRAP_PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=void 0}var data=isBindKey?void 0:getData(func),newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data&&mergeData(newData,data),func=newData[0],bitmask=newData[1],thisArg=newData[2],partials=newData[3],holders=newData[4],!(arity=newData[9]=void 0===newData[9]?isBindKey?0:func.length:nativeMax(newData[9]-length,0))&&bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)&&(bitmask&=~(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG)),bitmask&&bitmask!=WRAP_BIND_FLAG)result=bitmask==WRAP_CURRY_FLAG||bitmask==WRAP_CURRY_RIGHT_FLAG?createCurry(func,bitmask,arity):bitmask!=WRAP_PARTIAL_FLAG&&bitmask!=(WRAP_BIND_FLAG|WRAP_PARTIAL_FLAG)||holders.length?createHybrid.apply(void 0,newData):createPartial(func,bitmask,thisArg,partials);else var result=createBind(func,bitmask,thisArg);return setWrapToString((data?baseSetData:setData)(result,newData),func,bitmask)}},function(module,exports,__webpack_require__){var LazyWrapper=__webpack_require__(207),getData=__webpack_require__(279),getFuncName=__webpack_require__(403),lodash=__webpack_require__(518);module.exports=function(func){var funcName=getFuncName(func),other=lodash[funcName];if("function"!=typeof other||!(funcName in LazyWrapper.prototype))return!1;if(func===other)return!0;var data=getData(other);return!!data&&func===data[0]}},function(module,exports){module.exports=function(func){return func.placeholder}},function(module,exports,__webpack_require__){var baseRest=__webpack_require__(63),eq=__webpack_require__(114),isIterateeCall=__webpack_require__(144),keysIn=__webpack_require__(119),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,defaults=baseRest(function(object,sources){object=Object(object);var index=-1,length=sources.length,guard=length>2?sources[2]:void 0;for(guard&&isIterateeCall(sources[0],sources[1],guard)&&(length=1);++index<length;)for(var source=sources[index],props=keysIn(source),propsIndex=-1,propsLength=props.length;++propsIndex<propsLength;){var key=props[propsIndex],value=object[key];(void 0===value||eq(value,objectProto[key])&&!hasOwnProperty.call(object,key))&&(object[key]=source[key])}return object});module.exports=defaults},function(module,exports,__webpack_require__){var serialize=__webpack_require__(290),defaultOptions=__webpack_require__(310).default,flattenOptions=__webpack_require__(310).flatten,select=__webpack_require__(427),parse=__webpack_require__(308),_={merge:__webpack_require__(202),defaults:__webpack_require__(460)};function render(that,dom,options){if(dom)"string"==typeof dom&&(dom=select(dom,that._root,options));else{if(!that._root||!that._root.children)return"";dom=that._root.children}return serialize(dom,options)}function isArrayLike(item){if(Array.isArray(item))return!0;if("object"!=typeof item)return!1;if(!item.hasOwnProperty("length"))return!1;if("number"!=typeof item.length)return!1;if(item.length<0)return!1;for(var i=0;i<item.length;){if(!(i in item))return!1;i++}return!0}exports.load=function(content,options,isDocument){var Cheerio=__webpack_require__(824);options=_.defaults(flattenOptions(options||{}),defaultOptions),void 0===isDocument&&(isDocument=!0);var root=parse(content,options,isDocument),initialize=function(selector,context,r,opts){return this instanceof initialize?(opts=_.defaults(opts||{},options),Cheerio.call(this,selector,context,r||root,opts)):new initialize(selector,context,r,opts)};return initialize.prototype=Object.create(Cheerio.prototype),initialize.prototype.constructor=initialize,initialize.fn=initialize.prototype,initialize.prototype._originalRoot=root,_.merge(initialize,exports),initialize._root=root,initialize._options=options,initialize},exports.html=function(dom,options){return"[object Object]"!==Object.prototype.toString.call(dom)||options||"length"in dom||"type"in dom||(options=dom,dom=void 0),render(this,dom,options=_.defaults(flattenOptions(options||{}),this._options,defaultOptions))},exports.xml=function(dom){return render(this,dom,_.defaults({xml:!0},this._options))},exports.text=function(elems){elems||(elems=this.root());for(var elem,ret="",len=elems.length,i=0;i<len;i++)"text"===(elem=elems[i]).type?ret+=elem.data:elem.children&&"comment"!==elem.type&&"script"!==elem.tagName&&"style"!==elem.tagName&&(ret+=exports.text(elem.children));return ret},exports.parseHTML=function(data,context,keepScripts){var parsed;return data&&"string"==typeof data?("boolean"==typeof context&&(keepScripts=context),parsed=this.load(data,defaultOptions,!1),keepScripts||parsed("script").remove(),parsed.root()[0].children.slice()):null},exports.root=function(){return this(this._root)},exports.contains=function(container,contained){if(contained===container)return!1;for(;contained&&contained!==contained.parent;)if((contained=contained.parent)===container)return!0;return!1},exports.merge=function(arr1,arr2){if(isArrayLike(arr1)&&isArrayLike(arr2)){for(var newLength=arr1.length+arr2.length,i=0;i<arr2.length;)arr1[i+arr1.length]=arr2[i],i++;return arr1.length=newLength,arr1}}},function(module,exports,__webpack_require__){var DomUtils=__webpack_require__(180),isTag=DomUtils.isTag,getText=DomUtils.getText,getParent=DomUtils.getParent,getChildren=DomUtils.getChildren,getSiblings=DomUtils.getSiblings,hasAttrib=DomUtils.hasAttrib,getName=DomUtils.getName,getAttribute=DomUtils.getAttributeValue,getNCheck=__webpack_require__(1098),checkAttrib=__webpack_require__(853).rules.equals,BaseFuncs=__webpack_require__(271),trueFunc=BaseFuncs.trueFunc,falseFunc=BaseFuncs.falseFunc;function getAttribFunc(name,value){var data={name:name,value:value};return function(next){return checkAttrib(next,data)}}function getChildFunc(next){return function(elem){return!!getParent(elem)&&next(elem)}}var filters={contains:function(next,text){return function(elem){return next(elem)&&getText(elem).indexOf(text)>=0}},icontains:function(next,text){var itext=text.toLowerCase();return function(elem){return next(elem)&&getText(elem).toLowerCase().indexOf(itext)>=0}},"nth-child":function(next,rule){var func=getNCheck(rule);return func===falseFunc?func:func===trueFunc?getChildFunc(next):function(elem){for(var siblings=getSiblings(elem),i=0,pos=0;i<siblings.length;i++)if(isTag(siblings[i])){if(siblings[i]===elem)break;pos++}return func(pos)&&next(elem)}},"nth-last-child":function(next,rule){var func=getNCheck(rule);return func===falseFunc?func:func===trueFunc?getChildFunc(next):function(elem){for(var siblings=getSiblings(elem),pos=0,i=siblings.length-1;i>=0;i--)if(isTag(siblings[i])){if(siblings[i]===elem)break;pos++}return func(pos)&&next(elem)}},"nth-of-type":function(next,rule){var func=getNCheck(rule);return func===falseFunc?func:func===trueFunc?getChildFunc(next):function(elem){for(var siblings=getSiblings(elem),pos=0,i=0;i<siblings.length;i++)if(isTag(siblings[i])){if(siblings[i]===elem)break;getName(siblings[i])===getName(elem)&&pos++}return func(pos)&&next(elem)}},"nth-last-of-type":function(next,rule){var func=getNCheck(rule);return func===falseFunc?func:func===trueFunc?getChildFunc(next):function(elem){for(var siblings=getSiblings(elem),pos=0,i=siblings.length-1;i>=0;i--)if(isTag(siblings[i])){if(siblings[i]===elem)break;getName(siblings[i])===getName(elem)&&pos++}return func(pos)&&next(elem)}},root:function(next){return function(elem){return!getParent(elem)&&next(elem)}},scope:function(next,rule,options,context){return context&&0!==context.length?1===context.length?function(elem){return context[0]===elem&&next(elem)}:function(elem){return context.indexOf(elem)>=0&&next(elem)}:filters.root(next)},checkbox:getAttribFunc("type","checkbox"),file:getAttribFunc("type","file"),password:getAttribFunc("type","password"),radio:getAttribFunc("type","radio"),reset:getAttribFunc("type","reset"),image:getAttribFunc("type","image"),submit:getAttribFunc("type","submit")},pseudos={empty:function(elem){return!getChildren(elem).some(function(elem){return isTag(elem)||"text"===elem.type})},"first-child":function(elem){return function(elems){for(var i=0;elems&&i<elems.length;i++)if(isTag(elems[i]))return elems[i]}(getSiblings(elem))===elem},"last-child":function(elem){for(var siblings=getSiblings(elem),i=siblings.length-1;i>=0;i--){if(siblings[i]===elem)return!0;if(isTag(siblings[i]))break}return!1},"first-of-type":function(elem){for(var siblings=getSiblings(elem),i=0;i<siblings.length;i++)if(isTag(siblings[i])){if(siblings[i]===elem)return!0;if(getName(siblings[i])===getName(elem))break}return!1},"last-of-type":function(elem){for(var siblings=getSiblings(elem),i=siblings.length-1;i>=0;i--)if(isTag(siblings[i])){if(siblings[i]===elem)return!0;if(getName(siblings[i])===getName(elem))break}return!1},"only-of-type":function(elem){for(var siblings=getSiblings(elem),i=0,j=siblings.length;i<j;i++)if(isTag(siblings[i])){if(siblings[i]===elem)continue;if(getName(siblings[i])===getName(elem))return!1}return!0},"only-child":function(elem){for(var siblings=getSiblings(elem),i=0;i<siblings.length;i++)if(isTag(siblings[i])&&siblings[i]!==elem)return!1;return!0},link:function(elem){return hasAttrib(elem,"href")},visited:falseFunc,selected:function(elem){if(hasAttrib(elem,"selected"))return!0;if("option"!==getName(elem))return!1;var parent=getParent(elem);if(!parent||"select"!==getName(parent)||hasAttrib(parent,"multiple"))return!1;for(var siblings=getChildren(parent),sawElem=!1,i=0;i<siblings.length;i++)if(isTag(siblings[i]))if(siblings[i]===elem)sawElem=!0;else{if(!sawElem)return!1;if(hasAttrib(siblings[i],"selected"))return!1}return sawElem},disabled:function(elem){return hasAttrib(elem,"disabled")},enabled:function(elem){return!hasAttrib(elem,"disabled")},checked:function(elem){return hasAttrib(elem,"checked")||pseudos.selected(elem)},required:function(elem){return hasAttrib(elem,"required")},optional:function(elem){return!hasAttrib(elem,"required")},parent:function(elem){return!pseudos.empty(elem)},header:function(elem){var name=getName(elem);return"h1"===name||"h2"===name||"h3"===name||"h4"===name||"h5"===name||"h6"===name},button:function(elem){var name=getName(elem);return"button"===name||"input"===name&&"button"===getAttribute(elem,"type")},input:function(elem){var name=getName(elem);return"input"===name||"textarea"===name||"select"===name||"button"===name},text:function(elem){var attr;return"input"===getName(elem)&&(!(attr=getAttribute(elem,"type"))||"text"===attr.toLowerCase())}};function verifyArgs(func,name,subselect){if(null===subselect){if(func.length>1&&"scope"!==name)throw new SyntaxError("pseudo-selector :"+name+" requires an argument")}else if(1===func.length)throw new SyntaxError("pseudo-selector :"+name+" doesn't have any arguments")}var re_CSS3=/^(?:(?:nth|last|first|only)-(?:child|of-type)|root|empty|(?:en|dis)abled|checked|not)$/;module.exports={compile:function(next,data,options,context){var name=data.name,subselect=data.data;if(options&&options.strict&&!re_CSS3.test(name))throw SyntaxError(":"+name+" isn't part of CSS3");if("function"==typeof filters[name])return verifyArgs(filters[name],name,subselect),filters[name](next,subselect,options,context);if("function"==typeof pseudos[name]){var func=pseudos[name];return verifyArgs(func,name,subselect),next===trueFunc?func:function(elem){return func(elem,subselect)&&next(elem)}}throw new SyntaxError("unmatched pseudo-class :"+name)},filters:filters,pseudos:pseudos}},function(module,exports){module.exports=function(map){var index=-1,result=Array(map.size);return map.forEach(function(value,key){result[++index]=[key,value]}),result}},function(module,exports,__webpack_require__){var memoizeCapped=__webpack_require__(562),rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(string){var result=[];return 46===string.charCodeAt(0)&&result.push(""),string.replace(rePropName,function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)}),result});module.exports=stringToPath},function(module,exports,__webpack_require__){var arrayFilter=__webpack_require__(201),baseFilter=__webpack_require__(855),baseIteratee=__webpack_require__(19),isArray=__webpack_require__(12);module.exports=function(collection,predicate){return(isArray(collection)?arrayFilter:baseFilter)(collection,baseIteratee(predicate,3))}},function(module,exports,__webpack_require__){var baseIteratee=__webpack_require__(19),baseUniq=__webpack_require__(165);module.exports=function(array,iteratee){return array&&array.length?baseUniq(array,baseIteratee(iteratee,2)):[]}},function(module,exports,__webpack_require__){"use strict";var iconvLite=__webpack_require__(468),Iconv=__webpack_require__(587);function convertIconvLite(str,to,from){return"UTF-8"===to?iconvLite.decode(str,from):"UTF-8"===from?iconvLite.encode(str,to):iconvLite.encode(iconvLite.decode(str,from),to)}function checkEncoding(name){return(name||"").toString().trim().replace(/^latin[\-_]?(\d+)$/i,"ISO-8859-$1").replace(/^win(?:dows)?[\-_]?(\d+)$/i,"WINDOWS-$1").replace(/^utf[\-_]?(\d+)$/i,"UTF-$1").replace(/^ks_c_5601\-1987$/i,"CP949").replace(/^us[\-_]?ascii$/i,"ASCII").toUpperCase()}module.exports.convert=function(str,to,from,useLite){var result;from=checkEncoding(from||"UTF-8"),to=checkEncoding(to||"UTF-8"),str=str||"","UTF-8"!==from&&"string"==typeof str&&(str=new Buffer(str,"binary"));if(from===to)result="string"==typeof str?new Buffer(str):str;else if(Iconv&&!useLite)try{result=function(str,to,from){var response,iconv;return iconv=new Iconv(from,to+"//TRANSLIT//IGNORE"),(response=iconv.convert(str)).slice(0,response.length)}(str,to,from)}catch(E){console.error(E);try{result=convertIconvLite(str,to,from)}catch(E){console.error(E),result=str}}else try{result=convertIconvLite(str,to,from)}catch(E){console.error(E),result=str}"string"==typeof result&&(result=new Buffer(result,"utf-8"));return result}},function(module,exports,__webpack_require__){"use strict";var Buffer=__webpack_require__(13).Buffer,bomHandling=__webpack_require__(570),iconv=module.exports;iconv.encodings=null,iconv.defaultCharUnicode="",iconv.defaultCharSingleByte="?",iconv.encode=function(str,encoding,options){str=""+(str||"");var encoder=iconv.getEncoder(encoding,options),res=encoder.write(str),trail=encoder.end();return trail&&trail.length>0?Buffer.concat([res,trail]):res},iconv.decode=function(buf,encoding,options){"string"==typeof buf&&(iconv.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),iconv.skipDecodeWarning=!0),buf=Buffer.from(""+(buf||""),"binary"));var decoder=iconv.getDecoder(encoding,options),res=decoder.write(buf),trail=decoder.end();return trail?res+trail:res},iconv.encodingExists=function(enc){try{return iconv.getCodec(enc),!0}catch(e){return!1}},iconv.toEncoding=iconv.encode,iconv.fromEncoding=iconv.decode,iconv._codecDataCache={},iconv.getCodec=function(encoding){iconv.encodings||(iconv.encodings=__webpack_require__(571));for(var enc=iconv._canonicalizeEncoding(encoding),codecOptions={};;){var codec=iconv._codecDataCache[enc];if(codec)return codec;var codecDef=iconv.encodings[enc];switch(typeof codecDef){case"string":enc=codecDef;break;case"object":for(var key in codecDef)codecOptions[key]=codecDef[key];codecOptions.encodingName||(codecOptions.encodingName=enc),enc=codecDef.type;break;case"function":return codecOptions.encodingName||(codecOptions.encodingName=enc),codec=new codecDef(codecOptions,iconv),iconv._codecDataCache[codecOptions.encodingName]=codec,codec;default:throw new Error("Encoding not recognized: '"+encoding+"' (searched as: '"+enc+"')")}}},iconv._canonicalizeEncoding=function(encoding){return(""+encoding).toLowerCase().replace(/:\d{4}$|[^0-9a-z]/g,"")},iconv.getEncoder=function(encoding,options){var codec=iconv.getCodec(encoding),encoder=new codec.encoder(options,codec);return codec.bomAware&&options&&options.addBOM&&(encoder=new bomHandling.PrependBOM(encoder,options)),encoder},iconv.getDecoder=function(encoding,options){var codec=iconv.getCodec(encoding),decoder=new codec.decoder(options,codec);return!codec.bomAware||options&&!1===options.stripBOM||(decoder=new bomHandling.StripBOM(decoder,options)),decoder};var nodeVer="undefined"!=typeof process&&process.versions&&process.versions.node;if(nodeVer){var nodeVerArr=nodeVer.split(".").map(Number);(nodeVerArr[0]>0||nodeVerArr[1]>=10)&&__webpack_require__(585)(iconv),__webpack_require__(586)(iconv)}},function(module,exports,__webpack_require__){"use strict";
/**
 * @file Tests if ES6 Symbol is supported.
 * @version 1.4.2
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module has-symbol-support-x
 */module.exports="function"==typeof Symbol&&"symbol"==typeof Symbol("")},function(module,exports,__webpack_require__){"use strict";
/**
 * @file List of ECMAScript white space characters.
 * @version 3.0.1
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module white-space-x
 */for(var list=[{code:9,description:"Tab",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\t"},{code:10,description:"Line Feed",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\n"},{code:11,description:"Vertical Tab",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\v"},{code:12,description:"Form Feed",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\f"},{code:13,description:"Carriage Return",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\r"},{code:32,description:"Space",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:" "},{code:160,description:"No-break space",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:""},{code:5760,description:"Ogham space mark",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:""},{code:6158,description:"Mongolian vowel separator",es5:!0,es2015:!0,es2016:!0,es2017:!1,es2018:!1,string:""},{code:8192,description:"En quad",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:""},{code:8193,description:"Em quad",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:""},{code:8194,description:"En space",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:""},{code:8195,description:"Em space",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:""},{code:8196,description:"Three-per-em space",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:""},{code:8197,description:"Four-per-em space",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:""},{code:8198,description:"Six-per-em space",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:""},{code:8199,description:"Figure space",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:""},{code:8200,description:"Punctuation space",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:""},{code:8201,description:"Thin space",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:""},{code:8202,description:"Hair space",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:""},{code:8232,description:"Line separator",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\u2028"},{code:8233,description:"Paragraph separator",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\u2029"},{code:8239,description:"Narrow no-break space",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:""},{code:8287,description:"Medium mathematical space",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:""},{code:12288,description:"Ideographic space",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:""},{code:65279,description:"Byte Order Mark",es5:!0,es2015:!0,es2016:!0,es2017:!0,es2018:!0,string:"\ufeff"}],stringES2016="",stringES2018="",length=list.length,i=0;i<length;i+=1)list[i].es2016&&(stringES2016+=list[i].string),list[i].es2018&&(stringES2018+=list[i].string);module.exports={list:list,string:stringES2018,string5:stringES2016,string2015:stringES2016,string2016:stringES2016,string2017:stringES2018,string2018:stringES2018}},function(module,exports,__webpack_require__){var startOfWeek=__webpack_require__(1139);module.exports=function(dirtyDate){return startOfWeek(dirtyDate,{weekStartsOn:1})}},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(80),keys=__webpack_require__(68);module.exports=function(object,source){return object&&copyObject(source,keys(source),object)}},function(module,exports,__webpack_require__){var baseIteratee=__webpack_require__(19),negate=__webpack_require__(429),pickBy=__webpack_require__(147);module.exports=function(object,predicate){return pickBy(object,negate(baseIteratee(predicate)))}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){"use strict";var EventTarget=function(){this._listeners={}};EventTarget.prototype.addEventListener=function(type,listener){this._listeners[type]=this._listeners[type]||[],this._listeners[type].indexOf(listener)<0&&this._listeners[type].push(listener)},EventTarget.prototype.removeEventListener=function(type,listener){if(this._listeners[type]){var p=this._listeners[type].indexOf(listener);p>=0&&this._listeners[type].splice(p,1)}},EventTarget.prototype.dispatchEvent=function(evt){if(this._listeners[evt.type]&&this._listeners[evt.type].length)for(var listeners=this._listeners[evt.type].slice(),i=0,l=listeners.length;i<l;++i)listeners[i].call(this,evt)};var promiseToIterator=function(promise){var called=!1;return{next:function(){return called?{done:!0}:(called=!0,{value:promise})}}},PromisePoolEvent=function(target,type,data){this.target=target,this.type=type,this.data=data},PromisePool=function(source,concurrency,options){if(EventTarget.call(this),"number"!=typeof concurrency||Math.floor(concurrency)!==concurrency||concurrency<1)throw new Error("Invalid concurrency");this._concurrency=concurrency,this._options=options||{},this._options.promise=this._options.promise||Promise,this._iterator=function(obj,Promise){var func,type=typeof obj;if("object"===type){if("function"==typeof obj.next)return obj;if("function"==typeof obj.then)return promiseToIterator(obj)}return"function"===type?"function"==typeof(func=obj).constructor&&"GeneratorFunction"===func.constructor.name?obj():function(func){return{next:function(){var promise=func();return promise?{value:promise}:{done:!0}}}}(obj):promiseToIterator(Promise.resolve(obj))}(source,this._options.promise),this._done=!1,this._size=0,this._promise=null,this._callbacks=null};return(PromisePool.prototype=new EventTarget).constructor=PromisePool,PromisePool.prototype.concurrency=function(value){return void 0!==value&&(this._concurrency=value,this.active()&&this._proceed()),this._concurrency},PromisePool.prototype.size=function(){return this._size},PromisePool.prototype.active=function(){return!!this._promise},PromisePool.prototype.promise=function(){return this._promise},PromisePool.prototype.start=function(){var that=this,Promise=this._options.promise;return this._promise=new Promise(function(resolve,reject){that._callbacks={reject:reject,resolve:resolve},that._proceed()}),this._promise},PromisePool.prototype._fireEvent=function(type,data){this.dispatchEvent(new PromisePoolEvent(this,type,data))},PromisePool.prototype._settle=function(error){error?this._callbacks.reject(error):this._callbacks.resolve(),this._promise=null,this._callbacks=null},PromisePool.prototype._onPooledPromiseFulfilled=function(promise,result){this._size--,this.active()&&(this._fireEvent("fulfilled",{promise:promise,result:result}),this._proceed())},PromisePool.prototype._onPooledPromiseRejected=function(promise,error){this._size--,this.active()&&(this._fireEvent("rejected",{promise:promise,error:error}),this._settle(error||new Error("Unknown error")))},PromisePool.prototype._trackPromise=function(promise){var that=this;promise.then(function(result){that._onPooledPromiseFulfilled(promise,result)},function(error){that._onPooledPromiseRejected(promise,error)}).catch(function(err){that._settle(new Error("Promise processing failed: "+err))})},PromisePool.prototype._proceed=function(){if(!this._done){for(var result={done:!1};this._size<this._concurrency&&!(result=this._iterator.next()).done;)this._size++,this._trackPromise(result.value);this._done=null===result||!!result.done}this._done&&0===this._size&&this._settle()},PromisePool.PromisePoolEvent=PromisePoolEvent,PromisePool.PromisePool=PromisePool,PromisePool})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var parse=__webpack_require__(35);module.exports=function(dirtyDate,dirtyDateToCompare){var date=parse(dirtyDate),dateToCompare=parse(dirtyDateToCompare);return date.getTime()>dateToCompare.getTime()}},function(module,exports,__webpack_require__){"use strict";module.exports={LOGIN_FAILED:"LOGIN_FAILED",NOT_EXISTING_DIRECTORY:"NOT_EXISTING_DIRECTORY",VENDOR_DOWN:"VENDOR_DOWN",USER_ACTION_NEEDED:"USER_ACTION_NEEDED",FILE_DOWNLOAD_FAILED:"FILE_DOWNLOAD_FAILED",SAVE_FILE_FAILED:"SAVE_FILE_FAILED",DISK_QUOTA_EXCEEDED:"DISK_QUOTA_EXCEEDED",CHALLENGE_ASKED:"CHALLENGE_ASKED",LOGIN_FAILED_TOO_MANY_ATTEMPTS:"LOGIN_FAILED.TOO_MANY_ATTEMPTS",USER_ACTION_NEEDED_OAUTH_OUTDATED:"USER_ACTION_NEEDED.OAUTH_OUTDATED",USER_ACTION_NEEDED_ACCOUNT_REMOVED:"USER_ACTION_NEEDED.ACCOUNT_REMOVED",USER_ACTION_NEEDED_CHANGE_PASSWORD:"USER_ACTION_NEEDED.CHANGE_PASSWORD",USER_ACTION_NEEDED_PERMISSIONS_CHANGED:"USER_ACTION_NEEDED.PERMISSIONS_CHANGED",USER_ACTION_NEEDED_CGU_FORM:"USER_ACTION_NEEDED.CGU_FORM",CAPTCHA_RESOLUTION_FAILED:"CAPTCHA_RESOLUTION_FAILED"}},,,,,,,function(module,exports,__webpack_require__){var arraySome=__webpack_require__(428),baseIteratee=__webpack_require__(19),baseSome=__webpack_require__(1105),isArray=__webpack_require__(12),isIterateeCall=__webpack_require__(144);module.exports=function(collection,predicate,guard){var func=isArray(collection)?arraySome:baseSome;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=void 0),func(collection,baseIteratee(predicate,3))}},function(module,exports,__webpack_require__){var baseDifference=__webpack_require__(715),baseFlatten=__webpack_require__(116),baseRest=__webpack_require__(63),isArrayLikeObject=__webpack_require__(124),difference=baseRest(function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0)):[]});module.exports=difference},function(module,exports){module.exports=function(array){return array&&array.length?array[0]:void 0}},function(module,exports){module.exports=function(value,other){return value>other}},,function(module,exports,__webpack_require__){var baseIndexOf=__webpack_require__(270),isArrayLike=__webpack_require__(64),isString=__webpack_require__(204),toInteger=__webpack_require__(146),values=__webpack_require__(1153),nativeMax=Math.max;module.exports=function(collection,value,fromIndex,guard){collection=isArrayLike(collection)?collection:values(collection),fromIndex=fromIndex&&!guard?toInteger(fromIndex):0;var length=collection.length;return fromIndex<0&&(fromIndex=nativeMax(length+fromIndex,0)),isString(collection)?fromIndex<=length&&collection.indexOf(value,fromIndex)>-1:!!length&&baseIndexOf(collection,value,fromIndex)>-1}},function(module,exports,__webpack_require__){var addDays=__webpack_require__(257);module.exports=function(dirtyDate,dirtyAmount){var amount=Number(dirtyAmount);return addDays(dirtyDate,-amount)}},function(module,exports,__webpack_require__){"use strict";var log=__webpack_require__(58).namespace("cozy-konnector-libs"),requestFactory=__webpack_require__(500),hydrateAndFilter=__webpack_require__(1113),categorization=__webpack_require__(1362);function deprecate(wrapped,message){return function(){return log("warn",message),wrapped.apply(this,arguments)}}__webpack_require__(1385),module.exports={BaseKonnector:__webpack_require__(1148),CookieKonnector:__webpack_require__(1411),cozyClient:__webpack_require__(149),errors:__webpack_require__(476),log:log,saveFiles:__webpack_require__(887),saveBills:__webpack_require__(1149),saveIdentity:__webpack_require__(1155),linkBankOperations:__webpack_require__(1152),addData:__webpack_require__(1151),hydrateAndFilter:hydrateAndFilter,htmlToPDF:__webpack_require__(1163).htmlToPDF,createCozyPDFDocument:__webpack_require__(1163).createCozyPDFDocument,filterData:deprecate(hydrateAndFilter,"Use hydrateAndFilter now. filterData will be removed in cozy-konnector-libs@4"),updateOrCreate:__webpack_require__(890),request:deprecate(requestFactory,"Use requestFactory instead of request. It will be removed in cozy-konnector-libs@4"),requestFactory:requestFactory,retry:__webpack_require__(1150),wrapIfSentrySetUp:__webpack_require__(1156).wrapIfSentrySetUp,Document:__webpack_require__(1458),signin:__webpack_require__(894),submitForm:__webpack_require__(894),scrape:__webpack_require__(1460),mkdirp:__webpack_require__(1461),normalizeFilename:__webpack_require__(1462),utils:__webpack_require__(569),solveCaptcha:__webpack_require__(1463),createCategorizer:categorization.createCategorizer,categorize:categorization.categorize,manifest:__webpack_require__(619)}},,function(module,exports){!function(global){"use strict";var undefined,Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag",inModule="object"==typeof module,runtime=global.regeneratorRuntime;if(runtime)inModule&&(module.exports=runtime);else{(runtime=global.regeneratorRuntime=inModule?module.exports:{}).wrap=wrap;var GenStateSuspendedStart="suspendedStart",GenStateSuspendedYield="suspendedYield",GenStateExecuting="executing",GenStateCompleted="completed",ContinueSentinel={},IteratorPrototype={};IteratorPrototype[iteratorSymbol]=function(){return this};var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[toStringTagSymbol]=GeneratorFunction.displayName="GeneratorFunction",runtime.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},runtime.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,toStringTagSymbol in genFun||(genFun[toStringTagSymbol]="GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},runtime.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[asyncIteratorSymbol]=function(){return this},runtime.AsyncIterator=AsyncIterator,runtime.async=function(innerFn,outerFn,self,tryLocsList){var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList));return runtime.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})},defineIteratorMethods(Gp),Gp[toStringTagSymbol]="Generator",Gp[iteratorSymbol]=function(){return this},Gp.toString=function(){return"[object Generator]"},runtime.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},runtime.values=values,Context.prototype={constructor:Context,reset:function(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=undefined)},stop:function(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=undefined),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=undefined),ContinueSentinel}}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state=GenStateSuspendedStart;return function(method,arg){if(state===GenStateExecuting)throw new Error("Generator is already running");if(state===GenStateCompleted){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if(state===GenStateSuspendedStart)throw state=GenStateCompleted,context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state=GenStateExecuting;var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?GenStateCompleted:GenStateSuspendedYield,record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state=GenStateCompleted,context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){prototype[method]=function(arg){return this._invoke(method,arg)}})}function AsyncIterator(generator){var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new Promise(function(resolve,reject){!function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?Promise.resolve(value.__await).then(function(value){invoke("next",value,resolve,reject)},function(err){invoke("throw",err,resolve,reject)}):Promise.resolve(value).then(function(unwrapped){result.value=unwrapped,resolve(result)},function(error){return invoke("throw",error,resolve,reject)})}reject(record.arg)}(method,arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(method===undefined){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=undefined,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=undefined),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=undefined,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:undefined,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(module,exports,__webpack_require__){"use strict";(function(module){const colorConvert=__webpack_require__(494),wrapAnsi16=(fn,offset)=>(function(){const code=fn.apply(colorConvert,arguments);return`[${code+offset}m`}),wrapAnsi256=(fn,offset)=>(function(){const code=fn.apply(colorConvert,arguments);return`[${38+offset};5;${code}m`}),wrapAnsi16m=(fn,offset)=>(function(){const rgb=fn.apply(colorConvert,arguments);return`[${38+offset};2;${rgb[0]};${rgb[1]};${rgb[2]}m`});Object.defineProperty(module,"exports",{enumerable:!0,get:function(){const codes=new Map,styles={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};styles.color.grey=styles.color.gray;for(const groupName of Object.keys(styles)){const group=styles[groupName];for(const styleName of Object.keys(group)){const style=group[styleName];styles[styleName]={open:`[${style[0]}m`,close:`[${style[1]}m`},group[styleName]=styles[styleName],codes.set(style[0],style[1])}Object.defineProperty(styles,groupName,{value:group,enumerable:!1}),Object.defineProperty(styles,"codes",{value:codes,enumerable:!1})}const ansi2ansi=n=>n,rgb2rgb=(r,g,b)=>[r,g,b];styles.color.close="[39m",styles.bgColor.close="[49m",styles.color.ansi={ansi:wrapAnsi16(ansi2ansi,0)},styles.color.ansi256={ansi256:wrapAnsi256(ansi2ansi,0)},styles.color.ansi16m={rgb:wrapAnsi16m(rgb2rgb,0)},styles.bgColor.ansi={ansi:wrapAnsi16(ansi2ansi,10)},styles.bgColor.ansi256={ansi256:wrapAnsi256(ansi2ansi,10)},styles.bgColor.ansi16m={rgb:wrapAnsi16m(rgb2rgb,10)};for(let key of Object.keys(colorConvert)){if("object"!=typeof colorConvert[key])continue;const suite=colorConvert[key];"ansi16"===key&&(key="ansi"),"ansi16"in suite&&(styles.color.ansi[key]=wrapAnsi16(suite.ansi16,0),styles.bgColor.ansi[key]=wrapAnsi16(suite.ansi16,10)),"ansi256"in suite&&(styles.color.ansi256[key]=wrapAnsi256(suite.ansi256,0),styles.bgColor.ansi256[key]=wrapAnsi256(suite.ansi256,10)),"rgb"in suite&&(styles.color.ansi16m[key]=wrapAnsi16m(suite.rgb,0),styles.bgColor.ansi16m[key]=wrapAnsi16m(suite.rgb,10))}return styles}})}).call(this,__webpack_require__(56)(module))},function(module,exports,__webpack_require__){var conversions=__webpack_require__(300),route=__webpack_require__(496),convert={};Object.keys(conversions).forEach(function(fromModel){convert[fromModel]={},Object.defineProperty(convert[fromModel],"channels",{value:conversions[fromModel].channels}),Object.defineProperty(convert[fromModel],"labels",{value:conversions[fromModel].labels});var routes=route(fromModel);Object.keys(routes).forEach(function(toModel){var fn=routes[toModel];convert[fromModel][toModel]=function(fn){var wrappedFn=function(args){if(null==args)return args;arguments.length>1&&(args=Array.prototype.slice.call(arguments));var result=fn(args);if("object"==typeof result)for(var len=result.length,i=0;i<len;i++)result[i]=Math.round(result[i]);return result};return"conversion"in fn&&(wrappedFn.conversion=fn.conversion),wrappedFn}(fn),convert[fromModel][toModel].raw=function(fn){var wrappedFn=function(args){return null==args?args:(arguments.length>1&&(args=Array.prototype.slice.call(arguments)),fn(args))};return"conversion"in fn&&(wrappedFn.conversion=fn.conversion),wrappedFn}(fn)})}),module.exports=convert},function(module,exports,__webpack_require__){"use strict";module.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(module,exports,__webpack_require__){var conversions=__webpack_require__(300);function deriveBFS(fromModel){var graph=function(){for(var graph={},models=Object.keys(conversions),len=models.length,i=0;i<len;i++)graph[models[i]]={distance:-1,parent:null};return graph}(),queue=[fromModel];for(graph[fromModel].distance=0;queue.length;)for(var current=queue.pop(),adjacents=Object.keys(conversions[current]),len=adjacents.length,i=0;i<len;i++){var adjacent=adjacents[i],node=graph[adjacent];-1===node.distance&&(node.distance=graph[current].distance+1,node.parent=current,queue.unshift(adjacent))}return graph}function link(from,to){return function(args){return to(from(args))}}function wrapConversion(toModel,graph){for(var path=[graph[toModel].parent,toModel],fn=conversions[graph[toModel].parent][toModel],cur=graph[toModel].parent;graph[cur].parent;)path.unshift(graph[cur].parent),fn=link(conversions[graph[cur].parent][cur],fn),cur=graph[cur].parent;return fn.conversion=path,fn}module.exports=function(fromModel){for(var graph=deriveBFS(fromModel),conversion={},models=Object.keys(graph),len=models.length,i=0;i<len;i++){var toModel=models[i];null!==graph[toModel].parent&&(conversion[toModel]=wrapConversion(toModel,graph))}return conversion}},function(module,exports,__webpack_require__){"use strict";const os=__webpack_require__(286),hasFlag=__webpack_require__(498),env=process.env;let forceColor;function getSupportLevel(stream){return function(level){return 0!==level&&{level:level,hasBasic:!0,has256:level>=2,has16m:level>=3}}(function(stream){if(!1===forceColor)return 0;if(hasFlag("color=16m")||hasFlag("color=full")||hasFlag("color=truecolor"))return 3;if(hasFlag("color=256"))return 2;if(stream&&!stream.isTTY&&!0!==forceColor)return 0;const min=forceColor?1:0;if("win32"===process.platform){const osRelease=os.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(osRelease[0])>=10&&Number(osRelease[2])>=10586?Number(osRelease[2])>=14931?3:2:1}if("CI"in env)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(sign=>sign in env)||"codeship"===env.CI_NAME?1:min;if("TEAMCITY_VERSION"in env)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(env.TEAMCITY_VERSION)?1:0;if("truecolor"===env.COLORTERM)return 3;if("TERM_PROGRAM"in env){const version=parseInt((env.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(env.TERM_PROGRAM){case"iTerm.app":return version>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(env.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)?1:"COLORTERM"in env?1:(env.TERM,min)}(stream))}hasFlag("no-color")||hasFlag("no-colors")||hasFlag("color=false")?forceColor=!1:(hasFlag("color")||hasFlag("colors")||hasFlag("color=true")||hasFlag("color=always"))&&(forceColor=!0),"FORCE_COLOR"in env&&(forceColor=0===env.FORCE_COLOR.length||0!==parseInt(env.FORCE_COLOR,10)),module.exports={supportsColor:getSupportLevel,stdout:getSupportLevel(process.stdout),stderr:getSupportLevel(process.stderr)}},function(module,exports,__webpack_require__){"use strict";module.exports=(flag,argv)=>{argv=argv||process.argv;const prefix=flag.startsWith("-")?"":1===flag.length?"-":"--",pos=argv.indexOf(prefix+flag),terminatorPos=argv.indexOf("--");return-1!==pos&&(-1===terminatorPos||pos<terminatorPos)}},function(module,exports,__webpack_require__){"use strict";const TEMPLATE_REGEX=/(?:\\(u[a-f\d]{4}|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,STYLE_REGEX=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,STRING_REGEX=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,ESCAPE_REGEX=/\\(u[a-f\d]{4}|x[a-f\d]{2}|.)|([^\\])/gi,ESCAPES=new Map([["n","\n"],["r","\r"],["t","\t"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a",""]]);function unescape(c){return"u"===c[0]&&5===c.length||"x"===c[0]&&3===c.length?String.fromCharCode(parseInt(c.slice(1),16)):ESCAPES.get(c)||c}function parseArguments(name,args){const results=[],chunks=args.trim().split(/\s*,\s*/g);let matches;for(const chunk of chunks)if(isNaN(chunk)){if(!(matches=chunk.match(STRING_REGEX)))throw new Error(`Invalid Chalk template style argument: ${chunk} (in style '${name}')`);results.push(matches[2].replace(ESCAPE_REGEX,(m,escape,chr)=>escape?unescape(escape):chr))}else results.push(Number(chunk));return results}function parseStyle(style){STYLE_REGEX.lastIndex=0;const results=[];let matches;for(;null!==(matches=STYLE_REGEX.exec(style));){const name=matches[1];if(matches[2]){const args=parseArguments(name,matches[2]);results.push([name].concat(args))}else results.push([name])}return results}function buildStyle(chalk,styles){const enabled={};for(const layer of styles)for(const style of layer.styles)enabled[style[0]]=layer.inverse?null:style.slice(1);let current=chalk;for(const styleName of Object.keys(enabled))if(Array.isArray(enabled[styleName])){if(!(styleName in current))throw new Error(`Unknown Chalk style: ${styleName}`);current=enabled[styleName].length>0?current[styleName].apply(current,enabled[styleName]):current[styleName]}return current}module.exports=(chalk,tmp)=>{const styles=[],chunks=[];let chunk=[];if(tmp.replace(TEMPLATE_REGEX,(m,escapeChar,inverse,style,close,chr)=>{if(escapeChar)chunk.push(unescape(escapeChar));else if(style){const str=chunk.join("");chunk=[],chunks.push(0===styles.length?str:buildStyle(chalk,styles)(str)),styles.push({inverse:inverse,styles:parseStyle(style)})}else if(close){if(0===styles.length)throw new Error("Found extraneous } in Chalk template literal");chunks.push(buildStyle(chalk,styles)(chunk.join(""))),chunk=[],styles.pop()}else chunk.push(chr)}),chunks.push(chunk.join("")),styles.length>0){const errMsg=`Chalk template literal is missing ${styles.length} closing bracket${1===styles.length?"":"s"} (\`}\`)`;throw new Error(errMsg)}return chunks.join("")}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(1244).default},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(101),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=Symbol?Symbol.toStringTag:void 0;module.exports=function(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result}},function(module,exports){var nativeObjectToString=Object.prototype.toString;module.exports=function(value){return nativeObjectToString.call(value)}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(306),formats=__webpack_require__(307),has=Object.prototype.hasOwnProperty,arrayPrefixGenerators={brackets:function(prefix){return prefix+"[]"},comma:"comma",indices:function(prefix,key){return prefix+"["+key+"]"},repeat:function(prefix){return prefix}},isArray=Array.isArray,push=Array.prototype.push,pushToArray=function(arr,valueOrArray){push.apply(arr,isArray(valueOrArray)?valueOrArray:[valueOrArray])},toISO=Date.prototype.toISOString,defaults={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:utils.encode,encodeValuesOnly:!1,formatter:formats.formatters[formats.default],indices:!1,serializeDate:function(date){return toISO.call(date)},skipNulls:!1,strictNullHandling:!1},stringify=function stringify(object,prefix,generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly,charset){var obj=object;if("function"==typeof filter?obj=filter(prefix,obj):obj instanceof Date?obj=serializeDate(obj):"comma"===generateArrayPrefix&&isArray(obj)&&(obj=obj.join(",")),null===obj){if(strictNullHandling)return encoder&&!encodeValuesOnly?encoder(prefix,defaults.encoder,charset):prefix;obj=""}if("string"==typeof obj||"number"==typeof obj||"boolean"==typeof obj||utils.isBuffer(obj))return encoder?[formatter(encodeValuesOnly?prefix:encoder(prefix,defaults.encoder,charset))+"="+formatter(encoder(obj,defaults.encoder,charset))]:[formatter(prefix)+"="+formatter(String(obj))];var objKeys,values=[];if(void 0===obj)return values;if(isArray(filter))objKeys=filter;else{var keys=Object.keys(obj);objKeys=sort?keys.sort(sort):keys}for(var i=0;i<objKeys.length;++i){var key=objKeys[i];skipNulls&&null===obj[key]||(isArray(obj)?pushToArray(values,stringify(obj[key],"function"==typeof generateArrayPrefix?generateArrayPrefix(prefix,key):prefix,generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly,charset)):pushToArray(values,stringify(obj[key],prefix+(allowDots?"."+key:"["+key+"]"),generateArrayPrefix,strictNullHandling,skipNulls,encoder,filter,sort,allowDots,serializeDate,formatter,encodeValuesOnly,charset)))}return values};module.exports=function(object,opts){var objKeys,obj=object,options=function(opts){if(!opts)return defaults;if(null!==opts.encoder&&void 0!==opts.encoder&&"function"!=typeof opts.encoder)throw new TypeError("Encoder has to be a function.");var charset=opts.charset||defaults.charset;if(void 0!==opts.charset&&"utf-8"!==opts.charset&&"iso-8859-1"!==opts.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var format=formats.default;if(void 0!==opts.format){if(!has.call(formats.formatters,opts.format))throw new TypeError("Unknown format option provided.");format=opts.format}var formatter=formats.formatters[format],filter=defaults.filter;return("function"==typeof opts.filter||isArray(opts.filter))&&(filter=opts.filter),{addQueryPrefix:"boolean"==typeof opts.addQueryPrefix?opts.addQueryPrefix:defaults.addQueryPrefix,allowDots:void 0===opts.allowDots?defaults.allowDots:!!opts.allowDots,charset:charset,charsetSentinel:"boolean"==typeof opts.charsetSentinel?opts.charsetSentinel:defaults.charsetSentinel,delimiter:void 0===opts.delimiter?defaults.delimiter:opts.delimiter,encode:"boolean"==typeof opts.encode?opts.encode:defaults.encode,encoder:"function"==typeof opts.encoder?opts.encoder:defaults.encoder,encodeValuesOnly:"boolean"==typeof opts.encodeValuesOnly?opts.encodeValuesOnly:defaults.encodeValuesOnly,filter:filter,formatter:formatter,serializeDate:"function"==typeof opts.serializeDate?opts.serializeDate:defaults.serializeDate,skipNulls:"boolean"==typeof opts.skipNulls?opts.skipNulls:defaults.skipNulls,sort:"function"==typeof opts.sort?opts.sort:null,strictNullHandling:"boolean"==typeof opts.strictNullHandling?opts.strictNullHandling:defaults.strictNullHandling}}(opts);"function"==typeof options.filter?obj=(0,options.filter)("",obj):isArray(options.filter)&&(objKeys=options.filter);var arrayFormat,keys=[];if("object"!=typeof obj||null===obj)return"";arrayFormat=opts&&opts.arrayFormat in arrayPrefixGenerators?opts.arrayFormat:opts&&"indices"in opts?opts.indices?"indices":"repeat":"indices";var generateArrayPrefix=arrayPrefixGenerators[arrayFormat];objKeys||(objKeys=Object.keys(obj)),options.sort&&objKeys.sort(options.sort);for(var i=0;i<objKeys.length;++i){var key=objKeys[i];options.skipNulls&&null===obj[key]||pushToArray(keys,stringify(obj[key],key,generateArrayPrefix,options.strictNullHandling,options.skipNulls,options.encode?options.encoder:null,options.filter,options.sort,options.allowDots,options.serializeDate,options.formatter,options.encodeValuesOnly,options.charset))}var joined=keys.join(options.delimiter),prefix=!0===options.addQueryPrefix?"?":"";return options.charsetSentinel&&("iso-8859-1"===options.charset?prefix+="utf8=%26%2310003%3B&":prefix+="utf8=%E2%9C%93&"),joined.length>0?prefix+joined:""}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(306),has=Object.prototype.hasOwnProperty,defaults={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:utils.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},interpretNumericEntities=function(str){return str.replace(/&#(\d+);/g,function($0,numberStr){return String.fromCharCode(parseInt(numberStr,10))})},parseKeys=function(givenKey,val,options){if(givenKey){var key=options.allowDots?givenKey.replace(/\.([^.[]+)/g,"[$1]"):givenKey,child=/(\[[^[\]]*])/g,segment=/(\[[^[\]]*])/.exec(key),parent=segment?key.slice(0,segment.index):key,keys=[];if(parent){if(!options.plainObjects&&has.call(Object.prototype,parent)&&!options.allowPrototypes)return;keys.push(parent)}for(var i=0;null!==(segment=child.exec(key))&&i<options.depth;){if(i+=1,!options.plainObjects&&has.call(Object.prototype,segment[1].slice(1,-1))&&!options.allowPrototypes)return;keys.push(segment[1])}return segment&&keys.push("["+key.slice(segment.index)+"]"),function(chain,val,options){for(var leaf=val,i=chain.length-1;i>=0;--i){var obj,root=chain[i];if("[]"===root&&options.parseArrays)obj=[].concat(leaf);else{obj=options.plainObjects?Object.create(null):{};var cleanRoot="["===root.charAt(0)&&"]"===root.charAt(root.length-1)?root.slice(1,-1):root,index=parseInt(cleanRoot,10);options.parseArrays||""!==cleanRoot?!isNaN(index)&&root!==cleanRoot&&String(index)===cleanRoot&&index>=0&&options.parseArrays&&index<=options.arrayLimit?(obj=[])[index]=leaf:obj[cleanRoot]=leaf:obj={0:leaf}}leaf=obj}return leaf}(keys,val,options)}};module.exports=function(str,opts){var options=function(opts){if(!opts)return defaults;if(null!==opts.decoder&&void 0!==opts.decoder&&"function"!=typeof opts.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==opts.charset&&"utf-8"!==opts.charset&&"iso-8859-1"!==opts.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var charset=void 0===opts.charset?defaults.charset:opts.charset;return{allowDots:void 0===opts.allowDots?defaults.allowDots:!!opts.allowDots,allowPrototypes:"boolean"==typeof opts.allowPrototypes?opts.allowPrototypes:defaults.allowPrototypes,arrayLimit:"number"==typeof opts.arrayLimit?opts.arrayLimit:defaults.arrayLimit,charset:charset,charsetSentinel:"boolean"==typeof opts.charsetSentinel?opts.charsetSentinel:defaults.charsetSentinel,comma:"boolean"==typeof opts.comma?opts.comma:defaults.comma,decoder:"function"==typeof opts.decoder?opts.decoder:defaults.decoder,delimiter:"string"==typeof opts.delimiter||utils.isRegExp(opts.delimiter)?opts.delimiter:defaults.delimiter,depth:"number"==typeof opts.depth?opts.depth:defaults.depth,ignoreQueryPrefix:!0===opts.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof opts.interpretNumericEntities?opts.interpretNumericEntities:defaults.interpretNumericEntities,parameterLimit:"number"==typeof opts.parameterLimit?opts.parameterLimit:defaults.parameterLimit,parseArrays:!1!==opts.parseArrays,plainObjects:"boolean"==typeof opts.plainObjects?opts.plainObjects:defaults.plainObjects,strictNullHandling:"boolean"==typeof opts.strictNullHandling?opts.strictNullHandling:defaults.strictNullHandling}}(opts);if(""===str||null==str)return options.plainObjects?Object.create(null):{};for(var tempObj="string"==typeof str?function(str,options){var i,obj={},cleanStr=options.ignoreQueryPrefix?str.replace(/^\?/,""):str,limit=options.parameterLimit===1/0?void 0:options.parameterLimit,parts=cleanStr.split(options.delimiter,limit),skipIndex=-1,charset=options.charset;if(options.charsetSentinel)for(i=0;i<parts.length;++i)0===parts[i].indexOf("utf8=")&&("utf8=%E2%9C%93"===parts[i]?charset="utf-8":"utf8=%26%2310003%3B"===parts[i]&&(charset="iso-8859-1"),skipIndex=i,i=parts.length);for(i=0;i<parts.length;++i)if(i!==skipIndex){var key,val,part=parts[i],bracketEqualsPos=part.indexOf("]="),pos=-1===bracketEqualsPos?part.indexOf("="):bracketEqualsPos+1;-1===pos?(key=options.decoder(part,defaults.decoder,charset),val=options.strictNullHandling?null:""):(key=options.decoder(part.slice(0,pos),defaults.decoder,charset),val=options.decoder(part.slice(pos+1),defaults.decoder,charset)),val&&options.interpretNumericEntities&&"iso-8859-1"===charset&&(val=interpretNumericEntities(val)),val&&options.comma&&val.indexOf(",")>-1&&(val=val.split(",")),has.call(obj,key)?obj[key]=utils.combine(obj[key],val):obj[key]=val}return obj}(str,options):str,obj=options.plainObjects?Object.create(null):{},keys=Object.keys(tempObj),i=0;i<keys.length;++i){var key=keys[i],newObj=parseKeys(key,tempObj[key],options);obj=utils.merge(obj,newObj,options)}return utils.compact(obj)}},function(module,exports,__webpack_require__){var isFunction=__webpack_require__(118),isMasked=__webpack_require__(506),isObject=__webpack_require__(27),toSource=__webpack_require__(312),reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");module.exports=function(value){return!(!isObject(value)||isMasked(value))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value))}},function(module,exports,__webpack_require__){var uid,coreJsData=__webpack_require__(507),maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"";module.exports=function(func){return!!maskSrcKey&&maskSrcKey in func}},function(module,exports,__webpack_require__){var coreJsData=__webpack_require__(33)["__core-js_shared__"];module.exports=coreJsData},function(module,exports){module.exports=function(object,key){return null==object?void 0:object[key]}},function(module,exports,__webpack_require__){var constant=__webpack_require__(510),defineProperty=__webpack_require__(311),identity=__webpack_require__(96),baseSetToString=defineProperty?function(func,string){return defineProperty(func,"toString",{configurable:!0,enumerable:!1,value:constant(string),writable:!0})}:identity;module.exports=baseSetToString},function(module,exports){module.exports=function(value){return function(){return value}}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(77),isObjectLike=__webpack_require__(32),argsTag="[object Arguments]";module.exports=function(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}},function(module,exports){module.exports=function(){return!1}},function(module,exports,__webpack_require__){var baseGetTag=__webpack_require__(77),isLength=__webpack_require__(205),isObjectLike=__webpack_require__(32),typedArrayTags={};typedArrayTags["[object Float32Array]"]=typedArrayTags["[object Float64Array]"]=typedArrayTags["[object Int8Array]"]=typedArrayTags["[object Int16Array]"]=typedArrayTags["[object Int32Array]"]=typedArrayTags["[object Uint8Array]"]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags["[object Uint16Array]"]=typedArrayTags["[object Uint32Array]"]=!0,typedArrayTags["[object Arguments]"]=typedArrayTags["[object Array]"]=typedArrayTags["[object ArrayBuffer]"]=typedArrayTags["[object Boolean]"]=typedArrayTags["[object DataView]"]=typedArrayTags["[object Date]"]=typedArrayTags["[object Error]"]=typedArrayTags["[object Function]"]=typedArrayTags["[object Map]"]=typedArrayTags["[object Number]"]=typedArrayTags["[object Object]"]=typedArrayTags["[object RegExp]"]=typedArrayTags["[object Set]"]=typedArrayTags["[object String]"]=typedArrayTags["[object WeakMap]"]=!1,module.exports=function(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]}},function(module,exports,__webpack_require__){var nativeKeys=__webpack_require__(316)(Object.keys,Object);module.exports=nativeKeys},function(module,exports,__webpack_require__){var isObject=__webpack_require__(27),isPrototype=__webpack_require__(188),nativeKeysIn=__webpack_require__(516),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object){if(!isObject(object))return nativeKeysIn(object);var isProto=isPrototype(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}},function(module,exports){module.exports=function(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}},function(module,exports){module.exports={}},function(module,exports,__webpack_require__){var LazyWrapper=__webpack_require__(207),LodashWrapper=__webpack_require__(255),baseLodash=__webpack_require__(208),isArray=__webpack_require__(12),isObjectLike=__webpack_require__(32),wrapperClone=__webpack_require__(519),hasOwnProperty=Object.prototype.hasOwnProperty;function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper)return value;if(hasOwnProperty.call(value,"__wrapped__"))return wrapperClone(value)}return new LodashWrapper(value)}lodash.prototype=baseLodash.prototype,lodash.prototype.constructor=lodash,module.exports=lodash},function(module,exports,__webpack_require__){var LazyWrapper=__webpack_require__(207),LodashWrapper=__webpack_require__(255),copyArray=__webpack_require__(145);module.exports=function(wrapper){if(wrapper instanceof LazyWrapper)return wrapper.clone();var result=new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__);return result.__actions__=copyArray(wrapper.__actions__),result.__index__=wrapper.__index__,result.__values__=wrapper.__values__,result}},function(module,exports){module.exports=function(value){return value!=value}},function(module,exports){module.exports=function(array,value,fromIndex){for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(27),isSymbol=__webpack_require__(93),NAN=NaN,reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;module.exports=function(value){if("number"==typeof value)return value;if(isSymbol(value))return NAN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}},function(module,exports){module.exports=function(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}},function(module,exports,__webpack_require__){var isArrayLike=__webpack_require__(64);module.exports=function(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&!1!==iteratee(iterable[index],index,iterable););return collection}}},function(module,exports,__webpack_require__){var identity=__webpack_require__(96);module.exports=function(value){return"function"==typeof value?value:identity}},function(module,exports,__webpack_require__){var Stack=__webpack_require__(155),assignMergeValue=__webpack_require__(322),baseFor=__webpack_require__(321),baseMergeDeep=__webpack_require__(549),isObject=__webpack_require__(27),keysIn=__webpack_require__(119),safeGet=__webpack_require__(327);module.exports=function baseMerge(object,source,srcIndex,customizer,stack){object!==source&&baseFor(source,function(srcValue,key){if(stack||(stack=new Stack),isObject(srcValue))baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack);else{var newValue=customizer?customizer(safeGet(object,key),srcValue,key+"",object,source,stack):void 0;void 0===newValue&&(newValue=srcValue),assignMergeValue(object,key,newValue)}},keysIn)}},function(module,exports){module.exports=function(){this.__data__=[],this.size=0}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(157),splice=Array.prototype.splice;module.exports=function(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0||(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,0))}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(157);module.exports=function(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(157);module.exports=function(key){return assocIndexOf(this.__data__,key)>-1}},function(module,exports,__webpack_require__){var assocIndexOf=__webpack_require__(157);module.exports=function(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this}},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(156);module.exports=function(){this.__data__=new ListCache,this.size=0}},function(module,exports){module.exports=function(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result}},function(module,exports){module.exports=function(key){return this.__data__.get(key)}},function(module,exports){module.exports=function(key){return this.__data__.has(key)}},function(module,exports,__webpack_require__){var ListCache=__webpack_require__(156),Map=__webpack_require__(210),MapCache=__webpack_require__(211),LARGE_ARRAY_SIZE=200;module.exports=function(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this}},function(module,exports,__webpack_require__){var Hash=__webpack_require__(538),ListCache=__webpack_require__(156),Map=__webpack_require__(210);module.exports=function(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}},function(module,exports,__webpack_require__){var hashClear=__webpack_require__(539),hashDelete=__webpack_require__(540),hashGet=__webpack_require__(541),hashHas=__webpack_require__(542),hashSet=__webpack_require__(543);function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}Hash.prototype.clear=hashClear,Hash.prototype.delete=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,module.exports=Hash},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(158);module.exports=function(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}},function(module,exports){module.exports=function(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(158),HASH_UNDEFINED="__lodash_hash_undefined__",hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(158),hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)}},function(module,exports,__webpack_require__){var nativeCreate=__webpack_require__(158),HASH_UNDEFINED="__lodash_hash_undefined__";module.exports=function(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&void 0===value?HASH_UNDEFINED:value,this}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(159);module.exports=function(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result}},function(module,exports){module.exports=function(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(159);module.exports=function(key){return getMapData(this,key).get(key)}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(159);module.exports=function(key){return getMapData(this,key).has(key)}},function(module,exports,__webpack_require__){var getMapData=__webpack_require__(159);module.exports=function(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this}},function(module,exports,__webpack_require__){var assignMergeValue=__webpack_require__(322),cloneBuffer=__webpack_require__(323),cloneTypedArray=__webpack_require__(324),copyArray=__webpack_require__(145),initCloneObject=__webpack_require__(326),isArguments=__webpack_require__(152),isArray=__webpack_require__(12),isArrayLikeObject=__webpack_require__(124),isBuffer=__webpack_require__(123),isFunction=__webpack_require__(118),isObject=__webpack_require__(27),isPlainObject=__webpack_require__(193),isTypedArray=__webpack_require__(153),safeGet=__webpack_require__(327),toPlainObject=__webpack_require__(550);module.exports=function(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=safeGet(object,key),srcValue=safeGet(source,key),stacked=stack.get(srcValue);if(stacked)assignMergeValue(object,key,stacked);else{var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):void 0,isCommon=void 0===newValue;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue,isArr||isBuff||isTyped?isArray(objValue)?newValue=objValue:isArrayLikeObject(objValue)?newValue=copyArray(objValue):isBuff?(isCommon=!1,newValue=cloneBuffer(srcValue,!0)):isTyped?(isCommon=!1,newValue=cloneTypedArray(srcValue,!0)):newValue=[]:isPlainObject(srcValue)||isArguments(srcValue)?(newValue=objValue,isArguments(objValue)?newValue=toPlainObject(objValue):isObject(objValue)&&!isFunction(objValue)||(newValue=initCloneObject(srcValue))):isCommon=!1}isCommon&&(stack.set(srcValue,newValue),mergeFunc(newValue,srcValue,srcIndex,customizer,stack),stack.delete(srcValue)),assignMergeValue(object,key,newValue)}}},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(80),keysIn=__webpack_require__(119);module.exports=function(value){return copyObject(value,keysIn(value))}},function(module,exports,__webpack_require__){var baseIsMatch=__webpack_require__(552),getMatchData=__webpack_require__(560),matchesStrictComparable=__webpack_require__(334);module.exports=function(source){var matchData=getMatchData(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||baseIsMatch(object,source,matchData)}}},function(module,exports,__webpack_require__){var Stack=__webpack_require__(155),baseIsEqual=__webpack_require__(194),COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;module.exports=function(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){var key=(data=matchData[index])[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(void 0===objValue&&!(key in object))return!1}else{var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(void 0===result?baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG,customizer,stack):result))return!1}}return!0}},function(module,exports,__webpack_require__){var Stack=__webpack_require__(155),equalArrays=__webpack_require__(328),equalByTag=__webpack_require__(556),equalObjects=__webpack_require__(557),getTag=__webpack_require__(110),isArray=__webpack_require__(12),isBuffer=__webpack_require__(123),isTypedArray=__webpack_require__(153),COMPARE_PARTIAL_FLAG=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other),objIsObj=(objTag=objTag==argsTag?objectTag:objTag)==objectTag,othIsObj=(othTag=othTag==argsTag?objectTag:othTag)==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):equalByTag(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(bitmask&COMPARE_PARTIAL_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}return!!isSameTag&&(stack||(stack=new Stack),equalObjects(object,other,bitmask,customizer,equalFunc,stack))}},function(module,exports){var HASH_UNDEFINED="__lodash_hash_undefined__";module.exports=function(value){return this.__data__.set(value,HASH_UNDEFINED),this}},function(module,exports){module.exports=function(value){return this.__data__.has(value)}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(101),Uint8Array=__webpack_require__(325),eq=__webpack_require__(114),equalArrays=__webpack_require__(328),mapToArray=__webpack_require__(463),setToArray=__webpack_require__(213),COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;module.exports=function(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case arrayBufferTag:return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&COMPARE_PARTIAL_FLAG;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=COMPARE_UNORDERED_FLAG,stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case symbolTag:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}},function(module,exports,__webpack_require__){var getAllKeys=__webpack_require__(329),COMPARE_PARTIAL_FLAG=1,hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,objProps=getAllKeys(object),objLength=objProps.length;if(objLength!=getAllKeys(other).length&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var stacked=stack.get(object);if(stacked&&stack.get(other))return stacked==other;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){var objValue=object[key=objProps[index]],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(void 0===compared?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor)&&(result=!1)}return stack.delete(object),stack.delete(other),result}},function(module,exports,__webpack_require__){var DataView=__webpack_require__(82)(__webpack_require__(33),"DataView");module.exports=DataView},function(module,exports,__webpack_require__){var Promise=__webpack_require__(82)(__webpack_require__(33),"Promise");module.exports=Promise},function(module,exports,__webpack_require__){var isStrictComparable=__webpack_require__(333),keys=__webpack_require__(68);module.exports=function(object){for(var result=keys(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}},function(module,exports,__webpack_require__){var baseIsEqual=__webpack_require__(194),get=__webpack_require__(11),hasIn=__webpack_require__(335),isKey=__webpack_require__(215),isStrictComparable=__webpack_require__(333),matchesStrictComparable=__webpack_require__(334),toKey=__webpack_require__(94),COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;module.exports=function(path,srcValue){return isKey(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey(path),srcValue):function(object){var objValue=get(object,path);return void 0===objValue&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}},function(module,exports,__webpack_require__){var memoize=__webpack_require__(250),MAX_MEMOIZE_SIZE=500;module.exports=function(func){var result=memoize(func,function(key){return cache.size===MAX_MEMOIZE_SIZE&&cache.clear(),key}),cache=result.cache;return result}},function(module,exports){module.exports=function(object,key){return null!=object&&key in Object(object)}},function(module,exports,__webpack_require__){var baseProperty=__webpack_require__(217),basePropertyDeep=__webpack_require__(565),isKey=__webpack_require__(215),toKey=__webpack_require__(94);module.exports=function(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}},function(module,exports,__webpack_require__){var baseGet=__webpack_require__(163);module.exports=function(path){return function(object){return baseGet(object,path)}}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(101),isArguments=__webpack_require__(152),isArray=__webpack_require__(12),spreadableSymbol=Symbol?Symbol.isConcatSpreadable:void 0;module.exports=function(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}},function(module,exports,__webpack_require__){var basePickBy=__webpack_require__(337),hasIn=__webpack_require__(335);module.exports=function(object,paths){return basePickBy(object,paths,function(value,path){return hasIn(object,path)})}},function(module,exports,__webpack_require__){var Set=__webpack_require__(332),noop=__webpack_require__(319),setToArray=__webpack_require__(213),createSet=Set&&1/setToArray(new Set([,-0]))[1]==1/0?function(values){return new Set(values)}:noop;module.exports=createSet},function(module,exports,__webpack_require__){"use strict";var _toConsumableArray=__webpack_require__(100),_regeneratorRuntime=__webpack_require__(0),_asyncToGenerator=__webpack_require__(3),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},cozyClient=__webpack_require__(149),groupBy=__webpack_require__(41),keyBy=__webpack_require__(87),sortBy=__webpack_require__(74),range=__webpack_require__(942),pdfjs=__webpack_require__(1361),format=__webpack_require__(139),fetchAll=function(){var _ref=_asyncToGenerator(_regeneratorRuntime.mark(function _callee(doctype){return _regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.abrupt("return",cozyClient.data.findAll(doctype));case 1:case"end":return _context.stop()}},_callee)}));return function(_x){return _ref.apply(this,arguments)}}(),queryAll=function(){var _ref2=_asyncToGenerator(_regeneratorRuntime.mark(function _callee2(doctype,selector,index){var result,resp;return _regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(selector){_context2.next=4;break}return _context2.next=3,cozyClient.data.findAll(doctype);case 3:return _context2.abrupt("return",_context2.sent);case 4:if(index){_context2.next=8;break}return _context2.next=7,cozyClient.data.defineIndex(doctype,Object.keys(selector));case 7:index=_context2.sent;case 8:result=[],resp={next:!0};case 10:if(!resp||!resp.next){_context2.next=17;break}return _context2.next=13,cozyClient.data.query(index,{selector:selector,wholeResponse:!0,skip:result.length});case 13:resp=_context2.sent,result.push.apply(result,_toConsumableArray(resp.docs)),_context2.next=10;break;case 17:return _context2.abrupt("return",result);case 18:case"end":return _context2.stop()}},_callee2)}));return function(_x2,_x3,_x4){return _ref2.apply(this,arguments)}}(),findDuplicates=function(){var _ref3=_asyncToGenerator(_regeneratorRuntime.mark(function _callee3(doctype,options){var hash,documents,operations,groups,toKeep,toRemove,_loop,key;return _regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(hash=null,!options.keys){_context3.next=5;break}hash=function(doc){return options.keys.map(function(key){var result=doc[key];return"date"===key&&(result=new Date(result)),result}).join(",")},_context3.next=10;break;case 5:if(!options.hash){_context3.next=9;break}hash=options.hash,_context3.next=10;break;case 9:throw new Error("findDuplicates: you must specify keys or hash option");case 10:return _context3.next=12,queryAll(doctype,options.selector);case 12:if(documents=_context3.sent,"io.cozy.bills"!==doctype){_context3.next=18;break}return _context3.next=16,fetchAll("io.cozy.bank.operations");case 16:operations=_context3.sent,documents=sortBillsByLinkedOperationNumber(documents,operations);case 18:for(key in groups=groupBy(documents,hash),toKeep=[],toRemove=[],_loop=function(key){var group=groups[key];toKeep.push(group[0]),toRemove.push.apply(toRemove,group.slice(1).map(function(doc){return _extends({},doc,{original:group[0]._id})}))},groups)_loop(key);return _context3.abrupt("return",{toKeep:toKeep,toRemove:toRemove});case 24:case"end":return _context3.stop()}},_callee3)}));return function(_x5,_x6){return _ref3.apply(this,arguments)}}(),sortBillsByLinkedOperationNumber=function(bills,operations){bills=bills.map(function(bill){return bill.opNb=0,bill});var billsIndex=keyBy(bills,"_id");return operations&&operations.forEach(function(op){op.bills&&op.bills.forEach(function(billId){var bill=billsIndex[billId];bill&&bill.opNb++})}),sortBy(Object.values(billsIndex),"opNb").reverse()},batchUpdateAttributes=function(){var _ref4=_asyncToGenerator(_regeneratorRuntime.mark(function _callee4(doctype,ids,transformation){var result,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,id,updateResult;return _regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:result=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0,_context4.prev=4,_iterator=ids[Symbol.iterator]();case 6:if(_iteratorNormalCompletion=(_step=_iterator.next()).done){_context4.next=15;break}return id=_step.value,_context4.next=10,cozyClient.data.updateAttributes(doctype,id,transformation);case 10:updateResult=_context4.sent,result.push(updateResult);case 12:_iteratorNormalCompletion=!0,_context4.next=6;break;case 15:_context4.next=21;break;case 17:_context4.prev=17,_context4.t0=_context4.catch(4),_didIteratorError=!0,_iteratorError=_context4.t0;case 21:_context4.prev=21,_context4.prev=22,_iteratorNormalCompletion||null==_iterator.return||_iterator.return();case 24:if(_context4.prev=24,!_didIteratorError){_context4.next=27;break}throw _iteratorError;case 27:return _context4.finish(24);case 28:return _context4.finish(21);case 29:return _context4.abrupt("return",result);case 30:case"end":return _context4.stop()}},_callee4,null,[[4,17,21,29],[22,,24,28]])}));return function(_x7,_x8,_x9){return _ref4.apply(this,arguments)}}(),batchDelete=function(){var _ref5=_asyncToGenerator(_regeneratorRuntime.mark(function _callee5(doctype,documents){var result,_iteratorNormalCompletion2,_didIteratorError2,_iteratorError2,_iterator2,_step2,doc,deleteResult;return _regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:result=[],_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0,_context5.prev=4,_iterator2=documents[Symbol.iterator]();case 6:if(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done){_context5.next=15;break}return doc=_step2.value,_context5.next=10,cozyClient.data.delete(doctype,doc);case 10:deleteResult=_context5.sent,result.push(deleteResult);case 12:_iteratorNormalCompletion2=!0,_context5.next=6;break;case 15:_context5.next=21;break;case 17:_context5.prev=17,_context5.t0=_context5.catch(4),_didIteratorError2=!0,_iteratorError2=_context5.t0;case 21:_context5.prev=21,_context5.prev=22,_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return();case 24:if(_context5.prev=24,!_didIteratorError2){_context5.next=27;break}throw _iteratorError2;case 27:return _context5.finish(24);case 28:return _context5.finish(21);case 29:return _context5.abrupt("return",result);case 30:case"end":return _context5.stop()}},_callee5,null,[[4,17,21,29],[22,,24,28]])}));return function(_x10,_x11){return _ref5.apply(this,arguments)}}(),getPdfText=function(){var _ref6=_asyncToGenerator(_regeneratorRuntime.mark(function _callee6(fileId){var options,response,buffer,document,pages,result,_iteratorNormalCompletion3,_didIteratorError3,_iteratorError3,_iterator3,_step3,pageNum,page,pageItems,_args6=arguments;return _regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return options=_args6.length>1&&void 0!==_args6[1]?_args6[1]:{},_context6.next=3,cozyClient.files.downloadById(fileId);case 3:return response=_context6.sent,_context6.next=6,response.buffer();case 6:return buffer=_context6.sent,_context6.next=9,pdfjs.getDocument(buffer);case 9:document=_context6.sent,pages=options.pages?Array.isArray(options.pages)?options.pages:[options.pages]:range(1,document.numPages+1),result={text:""},_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0,_context6.prev=15,_iterator3=pages[Symbol.iterator]();case 17:if(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done){_context6.next=30;break}return pageNum=_step3.value,_context6.next=21,document.getPage(pageNum);case 21:return page=_context6.sent,_context6.next=24,page.getTextContent();case 24:pageItems=_context6.sent.items,result.text+=pageItems.map(function(doc){return doc.str}).join("\n"),result[pageNum]=pageItems;case 27:_iteratorNormalCompletion3=!0,_context6.next=17;break;case 30:_context6.next=36;break;case 32:_context6.prev=32,_context6.t0=_context6.catch(15),_didIteratorError3=!0,_iteratorError3=_context6.t0;case 36:_context6.prev=36,_context6.prev=37,_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return();case 39:if(_context6.prev=39,!_didIteratorError3){_context6.next=42;break}throw _iteratorError3;case 42:return _context6.finish(39);case 43:return _context6.finish(36);case 44:return _context6.abrupt("return",result);case 45:case"end":return _context6.stop()}},_callee6,null,[[15,32,36,44],[37,,39,43]])}));return function(_x12){return _ref6.apply(this,arguments)}}();module.exports={fetchAll:fetchAll,queryAll:queryAll,findDuplicates:findDuplicates,sortBillsByLinkedOperationNumber:sortBillsByLinkedOperationNumber,batchUpdateAttributes:batchUpdateAttributes,batchDelete:batchDelete,getPdfText:getPdfText,formatDate:function(date){return format(date,"YYYY-MM-DD")}}},function(module,exports,__webpack_require__){"use strict";function PrependBOMWrapper(encoder,options){this.encoder=encoder,this.addBOM=!0}function StripBOMWrapper(decoder,options){this.decoder=decoder,this.pass=!1,this.options=options||{}}exports.PrependBOM=PrependBOMWrapper,PrependBOMWrapper.prototype.write=function(str){return this.addBOM&&(str="\ufeff"+str,this.addBOM=!1),this.encoder.write(str)},PrependBOMWrapper.prototype.end=function(){return this.encoder.end()},exports.StripBOM=StripBOMWrapper,StripBOMWrapper.prototype.write=function(buf){var res=this.decoder.write(buf);return this.pass||!res?res:("\ufeff"===res[0]&&(res=res.slice(1),"function"==typeof this.options.stripBOM&&this.options.stripBOM()),this.pass=!0,res)},StripBOMWrapper.prototype.end=function(){return this.decoder.end()}},function(module,exports,__webpack_require__){"use strict";for(var modules=[__webpack_require__(572),__webpack_require__(573),__webpack_require__(574),__webpack_require__(575),__webpack_require__(576),__webpack_require__(577),__webpack_require__(578),__webpack_require__(579)],i=0;i<modules.length;i++){module=modules[i];for(var enc in module)Object.prototype.hasOwnProperty.call(module,enc)&&(exports[enc]=module[enc])}},function(module,exports,__webpack_require__){"use strict";var Buffer=__webpack_require__(13).Buffer;function InternalCodec(codecOptions,iconv){this.enc=codecOptions.encodingName,this.bomAware=codecOptions.bomAware,"base64"===this.enc?this.encoder=InternalEncoderBase64:"cesu8"===this.enc&&(this.enc="utf8",this.encoder=InternalEncoderCesu8,""!==Buffer.from("eda0bdedb2a9","hex").toString()&&(this.decoder=InternalDecoderCesu8,this.defaultCharUnicode=iconv.defaultCharUnicode))}module.exports={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:InternalCodec},InternalCodec.prototype.encoder=InternalEncoder,InternalCodec.prototype.decoder=InternalDecoder;var StringDecoder=__webpack_require__(423).StringDecoder;function InternalDecoder(options,codec){StringDecoder.call(this,codec.enc)}function InternalEncoder(options,codec){this.enc=codec.enc}function InternalEncoderBase64(options,codec){this.prevStr=""}function InternalEncoderCesu8(options,codec){}function InternalDecoderCesu8(options,codec){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=codec.defaultCharUnicode}StringDecoder.prototype.end||(StringDecoder.prototype.end=function(){}),InternalDecoder.prototype=StringDecoder.prototype,InternalEncoder.prototype.write=function(str){return Buffer.from(str,this.enc)},InternalEncoder.prototype.end=function(){},InternalEncoderBase64.prototype.write=function(str){var completeQuads=(str=this.prevStr+str).length-str.length%4;return this.prevStr=str.slice(completeQuads),str=str.slice(0,completeQuads),Buffer.from(str,"base64")},InternalEncoderBase64.prototype.end=function(){return Buffer.from(this.prevStr,"base64")},InternalEncoderCesu8.prototype.write=function(str){for(var buf=Buffer.alloc(3*str.length),bufIdx=0,i=0;i<str.length;i++){var charCode=str.charCodeAt(i);charCode<128?buf[bufIdx++]=charCode:charCode<2048?(buf[bufIdx++]=192+(charCode>>>6),buf[bufIdx++]=128+(63&charCode)):(buf[bufIdx++]=224+(charCode>>>12),buf[bufIdx++]=128+(charCode>>>6&63),buf[bufIdx++]=128+(63&charCode))}return buf.slice(0,bufIdx)},InternalEncoderCesu8.prototype.end=function(){},InternalDecoderCesu8.prototype.write=function(buf){for(var acc=this.acc,contBytes=this.contBytes,accBytes=this.accBytes,res="",i=0;i<buf.length;i++){var curByte=buf[i];128!=(192&curByte)?(contBytes>0&&(res+=this.defaultCharUnicode,contBytes=0),curByte<128?res+=String.fromCharCode(curByte):curByte<224?(acc=31&curByte,contBytes=1,accBytes=1):curByte<240?(acc=15&curByte,contBytes=2,accBytes=1):res+=this.defaultCharUnicode):contBytes>0?(acc=acc<<6|63&curByte,accBytes++,0===--contBytes&&(res+=2===accBytes&&acc<128&&acc>0?this.defaultCharUnicode:3===accBytes&&acc<2048?this.defaultCharUnicode:String.fromCharCode(acc))):res+=this.defaultCharUnicode}return this.acc=acc,this.contBytes=contBytes,this.accBytes=accBytes,res},InternalDecoderCesu8.prototype.end=function(){var res=0;return this.contBytes>0&&(res+=this.defaultCharUnicode),res}},function(module,exports,__webpack_require__){"use strict";var Buffer=__webpack_require__(13).Buffer;function Utf16BECodec(){}function Utf16BEEncoder(){}function Utf16BEDecoder(){this.overflowByte=-1}function Utf16Codec(codecOptions,iconv){this.iconv=iconv}function Utf16Encoder(options,codec){void 0===(options=options||{}).addBOM&&(options.addBOM=!0),this.encoder=codec.iconv.getEncoder("utf-16le",options)}function Utf16Decoder(options,codec){this.decoder=null,this.initialBytes=[],this.initialBytesLen=0,this.options=options||{},this.iconv=codec.iconv}function detectEncoding(buf,defaultEncoding){var enc=defaultEncoding||"utf-16le";if(buf.length>=2)if(254==buf[0]&&255==buf[1])enc="utf-16be";else if(255==buf[0]&&254==buf[1])enc="utf-16le";else{for(var asciiCharsLE=0,asciiCharsBE=0,_len=Math.min(buf.length-buf.length%2,64),i=0;i<_len;i+=2)0===buf[i]&&0!==buf[i+1]&&asciiCharsBE++,0!==buf[i]&&0===buf[i+1]&&asciiCharsLE++;asciiCharsBE>asciiCharsLE?enc="utf-16be":asciiCharsBE<asciiCharsLE&&(enc="utf-16le")}return enc}exports.utf16be=Utf16BECodec,Utf16BECodec.prototype.encoder=Utf16BEEncoder,Utf16BECodec.prototype.decoder=Utf16BEDecoder,Utf16BECodec.prototype.bomAware=!0,Utf16BEEncoder.prototype.write=function(str){for(var buf=Buffer.from(str,"ucs2"),i=0;i<buf.length;i+=2){var tmp=buf[i];buf[i]=buf[i+1],buf[i+1]=tmp}return buf},Utf16BEEncoder.prototype.end=function(){},Utf16BEDecoder.prototype.write=function(buf){if(0==buf.length)return"";var buf2=Buffer.alloc(buf.length+1),i=0,j=0;for(-1!==this.overflowByte&&(buf2[0]=buf[0],buf2[1]=this.overflowByte,i=1,j=2);i<buf.length-1;i+=2,j+=2)buf2[j]=buf[i+1],buf2[j+1]=buf[i];return this.overflowByte=i==buf.length-1?buf[buf.length-1]:-1,buf2.slice(0,j).toString("ucs2")},Utf16BEDecoder.prototype.end=function(){},exports.utf16=Utf16Codec,Utf16Codec.prototype.encoder=Utf16Encoder,Utf16Codec.prototype.decoder=Utf16Decoder,Utf16Encoder.prototype.write=function(str){return this.encoder.write(str)},Utf16Encoder.prototype.end=function(){return this.encoder.end()},Utf16Decoder.prototype.write=function(buf){if(!this.decoder){if(this.initialBytes.push(buf),this.initialBytesLen+=buf.length,this.initialBytesLen<16)return"";var encoding=detectEncoding(buf=Buffer.concat(this.initialBytes),this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(encoding,this.options),this.initialBytes.length=this.initialBytesLen=0}return this.decoder.write(buf)},Utf16Decoder.prototype.end=function(){if(!this.decoder){var buf=Buffer.concat(this.initialBytes),encoding=detectEncoding(buf,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(encoding,this.options);var res=this.decoder.write(buf),trail=this.decoder.end();return trail?res+trail:res}return this.decoder.end()}},function(module,exports,__webpack_require__){"use strict";var Buffer=__webpack_require__(13).Buffer;function Utf7Codec(codecOptions,iconv){this.iconv=iconv}exports.utf7=Utf7Codec,exports.unicode11utf7="utf7",Utf7Codec.prototype.encoder=Utf7Encoder,Utf7Codec.prototype.decoder=Utf7Decoder,Utf7Codec.prototype.bomAware=!0;var nonDirectChars=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;function Utf7Encoder(options,codec){this.iconv=codec.iconv}function Utf7Decoder(options,codec){this.iconv=codec.iconv,this.inBase64=!1,this.base64Accum=""}Utf7Encoder.prototype.write=function(str){return Buffer.from(str.replace(nonDirectChars,function(chunk){return"+"+("+"===chunk?"":this.iconv.encode(chunk,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}.bind(this)))},Utf7Encoder.prototype.end=function(){};for(var base64Regex=/[A-Za-z0-9\/+]/,base64Chars=[],i=0;i<256;i++)base64Chars[i]=base64Regex.test(String.fromCharCode(i));var plusChar="+".charCodeAt(0),minusChar="-".charCodeAt(0),andChar="&".charCodeAt(0);function Utf7IMAPCodec(codecOptions,iconv){this.iconv=iconv}function Utf7IMAPEncoder(options,codec){this.iconv=codec.iconv,this.inBase64=!1,this.base64Accum=Buffer.alloc(6),this.base64AccumIdx=0}function Utf7IMAPDecoder(options,codec){this.iconv=codec.iconv,this.inBase64=!1,this.base64Accum=""}Utf7Decoder.prototype.write=function(buf){for(var res="",lastI=0,inBase64=this.inBase64,base64Accum=this.base64Accum,i=0;i<buf.length;i++)if(inBase64){if(!base64Chars[buf[i]]){if(i==lastI&&buf[i]==minusChar)res+="+";else{var b64str=base64Accum+buf.slice(lastI,i).toString();res+=this.iconv.decode(Buffer.from(b64str,"base64"),"utf16-be")}buf[i]!=minusChar&&i--,lastI=i+1,inBase64=!1,base64Accum=""}}else buf[i]==plusChar&&(res+=this.iconv.decode(buf.slice(lastI,i),"ascii"),lastI=i+1,inBase64=!0);if(inBase64){var canBeDecoded=(b64str=base64Accum+buf.slice(lastI).toString()).length-b64str.length%8;base64Accum=b64str.slice(canBeDecoded),b64str=b64str.slice(0,canBeDecoded),res+=this.iconv.decode(Buffer.from(b64str,"base64"),"utf16-be")}else res+=this.iconv.decode(buf.slice(lastI),"ascii");return this.inBase64=inBase64,this.base64Accum=base64Accum,res},Utf7Decoder.prototype.end=function(){var res="";return this.inBase64&&this.base64Accum.length>0&&(res=this.iconv.decode(Buffer.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",res},exports.utf7imap=Utf7IMAPCodec,Utf7IMAPCodec.prototype.encoder=Utf7IMAPEncoder,Utf7IMAPCodec.prototype.decoder=Utf7IMAPDecoder,Utf7IMAPCodec.prototype.bomAware=!0,Utf7IMAPEncoder.prototype.write=function(str){for(var inBase64=this.inBase64,base64Accum=this.base64Accum,base64AccumIdx=this.base64AccumIdx,buf=Buffer.alloc(5*str.length+10),bufIdx=0,i=0;i<str.length;i++){var uChar=str.charCodeAt(i);32<=uChar&&uChar<=126?(inBase64&&(base64AccumIdx>0&&(bufIdx+=buf.write(base64Accum.slice(0,base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),bufIdx),base64AccumIdx=0),buf[bufIdx++]=minusChar,inBase64=!1),inBase64||(buf[bufIdx++]=uChar,uChar===andChar&&(buf[bufIdx++]=minusChar))):(inBase64||(buf[bufIdx++]=andChar,inBase64=!0),inBase64&&(base64Accum[base64AccumIdx++]=uChar>>8,base64Accum[base64AccumIdx++]=255&uChar,base64AccumIdx==base64Accum.length&&(bufIdx+=buf.write(base64Accum.toString("base64").replace(/\//g,","),bufIdx),base64AccumIdx=0)))}return this.inBase64=inBase64,this.base64AccumIdx=base64AccumIdx,buf.slice(0,bufIdx)},Utf7IMAPEncoder.prototype.end=function(){var buf=Buffer.alloc(10),bufIdx=0;return this.inBase64&&(this.base64AccumIdx>0&&(bufIdx+=buf.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),bufIdx),this.base64AccumIdx=0),buf[bufIdx++]=minusChar,this.inBase64=!1),buf.slice(0,bufIdx)};var base64IMAPChars=base64Chars.slice();base64IMAPChars[",".charCodeAt(0)]=!0,Utf7IMAPDecoder.prototype.write=function(buf){for(var res="",lastI=0,inBase64=this.inBase64,base64Accum=this.base64Accum,i=0;i<buf.length;i++)if(inBase64){if(!base64IMAPChars[buf[i]]){if(i==lastI&&buf[i]==minusChar)res+="&";else{var b64str=base64Accum+buf.slice(lastI,i).toString().replace(/,/g,"/");res+=this.iconv.decode(Buffer.from(b64str,"base64"),"utf16-be")}buf[i]!=minusChar&&i--,lastI=i+1,inBase64=!1,base64Accum=""}}else buf[i]==andChar&&(res+=this.iconv.decode(buf.slice(lastI,i),"ascii"),lastI=i+1,inBase64=!0);if(inBase64){var canBeDecoded=(b64str=base64Accum+buf.slice(lastI).toString().replace(/,/g,"/")).length-b64str.length%8;base64Accum=b64str.slice(canBeDecoded),b64str=b64str.slice(0,canBeDecoded),res+=this.iconv.decode(Buffer.from(b64str,"base64"),"utf16-be")}else res+=this.iconv.decode(buf.slice(lastI),"ascii");return this.inBase64=inBase64,this.base64Accum=base64Accum,res},Utf7IMAPDecoder.prototype.end=function(){var res="";return this.inBase64&&this.base64Accum.length>0&&(res=this.iconv.decode(Buffer.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",res}},function(module,exports,__webpack_require__){"use strict";var Buffer=__webpack_require__(13).Buffer;function SBCSCodec(codecOptions,iconv){if(!codecOptions)throw new Error("SBCS codec is called without the data.");if(!codecOptions.chars||128!==codecOptions.chars.length&&256!==codecOptions.chars.length)throw new Error("Encoding '"+codecOptions.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(128===codecOptions.chars.length){for(var asciiString="",i=0;i<128;i++)asciiString+=String.fromCharCode(i);codecOptions.chars=asciiString+codecOptions.chars}this.decodeBuf=Buffer.from(codecOptions.chars,"ucs2");var encodeBuf=Buffer.alloc(65536,iconv.defaultCharSingleByte.charCodeAt(0));for(i=0;i<codecOptions.chars.length;i++)encodeBuf[codecOptions.chars.charCodeAt(i)]=i;this.encodeBuf=encodeBuf}function SBCSEncoder(options,codec){this.encodeBuf=codec.encodeBuf}function SBCSDecoder(options,codec){this.decodeBuf=codec.decodeBuf}exports._sbcs=SBCSCodec,SBCSCodec.prototype.encoder=SBCSEncoder,SBCSCodec.prototype.decoder=SBCSDecoder,SBCSEncoder.prototype.write=function(str){for(var buf=Buffer.alloc(str.length),i=0;i<str.length;i++)buf[i]=this.encodeBuf[str.charCodeAt(i)];return buf},SBCSEncoder.prototype.end=function(){},SBCSDecoder.prototype.write=function(buf){for(var decodeBuf=this.decodeBuf,newBuf=Buffer.alloc(2*buf.length),idx1=0,idx2=0,i=0;i<buf.length;i++)idx1=2*buf[i],newBuf[idx2=2*i]=decodeBuf[idx1],newBuf[idx2+1]=decodeBuf[idx1+1];return newBuf.toString("ucs2")},SBCSDecoder.prototype.end=function(){}},function(module,exports,__webpack_require__){"use strict";module.exports={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:""},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:""},mik:{type:"_sbcs",chars:""},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",1e4:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}},function(module,exports,__webpack_require__){"use strict";module.exports={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:""},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:""},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:""},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:""},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:""},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:""},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:""},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:""},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:""},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:""},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:""},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:""},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:""},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:""},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:""},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:""},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:""},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:""},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:""},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:""},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:""},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:""},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:""},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:""},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:""},cp28606:"iso885916",cp437:{type:"_sbcs",chars:""},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:""},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:""},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:""},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:""},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:""},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:""},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:""},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:""},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:""},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:""},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:""},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:""},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:""},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:""},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:""},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:""},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:""},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:""},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:""},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:""},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:""},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:""},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:""},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:""},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:""},maccyrillic:{type:"_sbcs",chars:""},macgreek:{type:"_sbcs",chars:""},maciceland:{type:"_sbcs",chars:""},macroman:{type:"_sbcs",chars:""},macromania:{type:"_sbcs",chars:""},macthai:{type:"_sbcs",chars:"\ufeff"},macturkish:{type:"_sbcs",chars:""},macukraine:{type:"_sbcs",chars:""},koi8r:{type:"_sbcs",chars:""},koi8u:{type:"_sbcs",chars:""},koi8ru:{type:"_sbcs",chars:""},koi8t:{type:"_sbcs",chars:""},armscii8:{type:"_sbcs",chars:")(.,-"},rk1048:{type:"_sbcs",chars:""},tcvn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},georgianacademy:{type:"_sbcs",chars:""},georgianps:{type:"_sbcs",chars:""},pt154:{type:"_sbcs",chars:""},viscii:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},iso646cn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}"},iso646jp:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}"},hproman8:{type:"_sbcs",chars:""},macintosh:{type:"_sbcs",chars:""},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}},function(module,exports,__webpack_require__){"use strict";var Buffer=__webpack_require__(13).Buffer;exports._dbcs=DBCSCodec;for(var UNASSIGNED=-1,GB18030_CODE=-2,NODE_START=-1e3,UNASSIGNED_NODE=new Array(256),i=0;i<256;i++)UNASSIGNED_NODE[i]=UNASSIGNED;function DBCSCodec(codecOptions,iconv){if(this.encodingName=codecOptions.encodingName,!codecOptions)throw new Error("DBCS codec is called without the data.");if(!codecOptions.table)throw new Error("Encoding '"+this.encodingName+"' has no data.");var mappingTable=codecOptions.table();this.decodeTables=[],this.decodeTables[0]=UNASSIGNED_NODE.slice(0),this.decodeTableSeq=[];for(var i=0;i<mappingTable.length;i++)this._addDecodeChunk(mappingTable[i]);this.defaultCharUnicode=iconv.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var skipEncodeChars={};if(codecOptions.encodeSkipVals)for(i=0;i<codecOptions.encodeSkipVals.length;i++){var val=codecOptions.encodeSkipVals[i];if("number"==typeof val)skipEncodeChars[val]=!0;else for(var j=val.from;j<=val.to;j++)skipEncodeChars[j]=!0}if(this._fillEncodeTable(0,0,skipEncodeChars),codecOptions.encodeAdd)for(var uChar in codecOptions.encodeAdd)Object.prototype.hasOwnProperty.call(codecOptions.encodeAdd,uChar)&&this._setEncodeChar(uChar.charCodeAt(0),codecOptions.encodeAdd[uChar]);if(this.defCharSB=this.encodeTable[0][iconv.defaultCharSingleByte.charCodeAt(0)],this.defCharSB===UNASSIGNED&&(this.defCharSB=this.encodeTable[0]["?"]),this.defCharSB===UNASSIGNED&&(this.defCharSB="?".charCodeAt(0)),"function"==typeof codecOptions.gb18030){this.gb18030=codecOptions.gb18030();var thirdByteNodeIdx=this.decodeTables.length,thirdByteNode=this.decodeTables[thirdByteNodeIdx]=UNASSIGNED_NODE.slice(0),fourthByteNodeIdx=this.decodeTables.length,fourthByteNode=this.decodeTables[fourthByteNodeIdx]=UNASSIGNED_NODE.slice(0);for(i=129;i<=254;i++){var secondByteNodeIdx=NODE_START-this.decodeTables[0][i],secondByteNode=this.decodeTables[secondByteNodeIdx];for(j=48;j<=57;j++)secondByteNode[j]=NODE_START-thirdByteNodeIdx}for(i=129;i<=254;i++)thirdByteNode[i]=NODE_START-fourthByteNodeIdx;for(i=48;i<=57;i++)fourthByteNode[i]=GB18030_CODE}}function DBCSEncoder(options,codec){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=codec.encodeTable,this.encodeTableSeq=codec.encodeTableSeq,this.defaultCharSingleByte=codec.defCharSB,this.gb18030=codec.gb18030}function DBCSDecoder(options,codec){this.nodeIdx=0,this.prevBuf=Buffer.alloc(0),this.decodeTables=codec.decodeTables,this.decodeTableSeq=codec.decodeTableSeq,this.defaultCharUnicode=codec.defaultCharUnicode,this.gb18030=codec.gb18030}function findIdx(table,val){if(table[0]>val)return-1;for(var l=0,r=table.length;l<r-1;){var mid=l+Math.floor((r-l+1)/2);table[mid]<=val?l=mid:r=mid}return l}DBCSCodec.prototype.encoder=DBCSEncoder,DBCSCodec.prototype.decoder=DBCSDecoder,DBCSCodec.prototype._getDecodeTrieNode=function(addr){for(var bytes=[];addr>0;addr>>=8)bytes.push(255&addr);0==bytes.length&&bytes.push(0);for(var node=this.decodeTables[0],i=bytes.length-1;i>0;i--){var val=node[bytes[i]];if(val==UNASSIGNED)node[bytes[i]]=NODE_START-this.decodeTables.length,this.decodeTables.push(node=UNASSIGNED_NODE.slice(0));else{if(!(val<=NODE_START))throw new Error("Overwrite byte in "+this.encodingName+", addr: "+addr.toString(16));node=this.decodeTables[NODE_START-val]}}return node},DBCSCodec.prototype._addDecodeChunk=function(chunk){var curAddr=parseInt(chunk[0],16),writeTable=this._getDecodeTrieNode(curAddr);curAddr&=255;for(var k=1;k<chunk.length;k++){var part=chunk[k];if("string"==typeof part)for(var l=0;l<part.length;){var code=part.charCodeAt(l++);if(55296<=code&&code<56320){var codeTrail=part.charCodeAt(l++);if(!(56320<=codeTrail&&codeTrail<57344))throw new Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+chunk[0]);writeTable[curAddr++]=65536+1024*(code-55296)+(codeTrail-56320)}else if(4080<code&&code<=4095){for(var len=4095-code+2,seq=[],m=0;m<len;m++)seq.push(part.charCodeAt(l++));writeTable[curAddr++]=-10-this.decodeTableSeq.length,this.decodeTableSeq.push(seq)}else writeTable[curAddr++]=code}else{if("number"!=typeof part)throw new Error("Incorrect type '"+typeof part+"' given in "+this.encodingName+" at chunk "+chunk[0]);var charCode=writeTable[curAddr-1]+1;for(l=0;l<part;l++)writeTable[curAddr++]=charCode++}}if(curAddr>255)throw new Error("Incorrect chunk in "+this.encodingName+" at addr "+chunk[0]+": too long"+curAddr)},DBCSCodec.prototype._getEncodeBucket=function(uCode){var high=uCode>>8;return void 0===this.encodeTable[high]&&(this.encodeTable[high]=UNASSIGNED_NODE.slice(0)),this.encodeTable[high]},DBCSCodec.prototype._setEncodeChar=function(uCode,dbcsCode){var bucket=this._getEncodeBucket(uCode),low=255&uCode;bucket[low]<=-10?this.encodeTableSeq[-10-bucket[low]][-1]=dbcsCode:bucket[low]==UNASSIGNED&&(bucket[low]=dbcsCode)},DBCSCodec.prototype._setEncodeSequence=function(seq,dbcsCode){var node,uCode=seq[0],bucket=this._getEncodeBucket(uCode),low=255&uCode;bucket[low]<=-10?node=this.encodeTableSeq[-10-bucket[low]]:(node={},bucket[low]!==UNASSIGNED&&(node[-1]=bucket[low]),bucket[low]=-10-this.encodeTableSeq.length,this.encodeTableSeq.push(node));for(var j=1;j<seq.length-1;j++){var oldVal=node[uCode];"object"==typeof oldVal?node=oldVal:(node=node[uCode]={},void 0!==oldVal&&(node[-1]=oldVal))}node[uCode=seq[seq.length-1]]=dbcsCode},DBCSCodec.prototype._fillEncodeTable=function(nodeIdx,prefix,skipEncodeChars){for(var node=this.decodeTables[nodeIdx],i=0;i<256;i++){var uCode=node[i],mbCode=prefix+i;skipEncodeChars[mbCode]||(uCode>=0?this._setEncodeChar(uCode,mbCode):uCode<=NODE_START?this._fillEncodeTable(NODE_START-uCode,mbCode<<8,skipEncodeChars):uCode<=-10&&this._setEncodeSequence(this.decodeTableSeq[-10-uCode],mbCode))}},DBCSEncoder.prototype.write=function(str){for(var newBuf=Buffer.alloc(str.length*(this.gb18030?4:3)),leadSurrogate=this.leadSurrogate,seqObj=this.seqObj,nextChar=-1,i=0,j=0;;){if(-1===nextChar){if(i==str.length)break;var uCode=str.charCodeAt(i++)}else{uCode=nextChar;nextChar=-1}if(55296<=uCode&&uCode<57344)if(uCode<56320){if(-1===leadSurrogate){leadSurrogate=uCode;continue}leadSurrogate=uCode,uCode=UNASSIGNED}else-1!==leadSurrogate?(uCode=65536+1024*(leadSurrogate-55296)+(uCode-56320),leadSurrogate=-1):uCode=UNASSIGNED;else-1!==leadSurrogate&&(nextChar=uCode,uCode=UNASSIGNED,leadSurrogate=-1);var dbcsCode=UNASSIGNED;if(void 0!==seqObj&&uCode!=UNASSIGNED){var resCode=seqObj[uCode];if("object"==typeof resCode){seqObj=resCode;continue}"number"==typeof resCode?dbcsCode=resCode:null==resCode&&void 0!==(resCode=seqObj[-1])&&(dbcsCode=resCode,nextChar=uCode),seqObj=void 0}else if(uCode>=0){var subtable=this.encodeTable[uCode>>8];if(void 0!==subtable&&(dbcsCode=subtable[255&uCode]),dbcsCode<=-10){seqObj=this.encodeTableSeq[-10-dbcsCode];continue}if(dbcsCode==UNASSIGNED&&this.gb18030){var idx=findIdx(this.gb18030.uChars,uCode);if(-1!=idx){dbcsCode=this.gb18030.gbChars[idx]+(uCode-this.gb18030.uChars[idx]);newBuf[j++]=129+Math.floor(dbcsCode/12600),dbcsCode%=12600,newBuf[j++]=48+Math.floor(dbcsCode/1260),dbcsCode%=1260,newBuf[j++]=129+Math.floor(dbcsCode/10),dbcsCode%=10,newBuf[j++]=48+dbcsCode;continue}}}dbcsCode===UNASSIGNED&&(dbcsCode=this.defaultCharSingleByte),dbcsCode<256?newBuf[j++]=dbcsCode:dbcsCode<65536?(newBuf[j++]=dbcsCode>>8,newBuf[j++]=255&dbcsCode):(newBuf[j++]=dbcsCode>>16,newBuf[j++]=dbcsCode>>8&255,newBuf[j++]=255&dbcsCode)}return this.seqObj=seqObj,this.leadSurrogate=leadSurrogate,newBuf.slice(0,j)},DBCSEncoder.prototype.end=function(){if(-1!==this.leadSurrogate||void 0!==this.seqObj){var newBuf=Buffer.alloc(10),j=0;if(this.seqObj){var dbcsCode=this.seqObj[-1];void 0!==dbcsCode&&(dbcsCode<256?newBuf[j++]=dbcsCode:(newBuf[j++]=dbcsCode>>8,newBuf[j++]=255&dbcsCode)),this.seqObj=void 0}return-1!==this.leadSurrogate&&(newBuf[j++]=this.defaultCharSingleByte,this.leadSurrogate=-1),newBuf.slice(0,j)}},DBCSEncoder.prototype.findIdx=findIdx,DBCSDecoder.prototype.write=function(buf){var newBuf=Buffer.alloc(2*buf.length),nodeIdx=this.nodeIdx,prevBuf=this.prevBuf,prevBufOffset=this.prevBuf.length,seqStart=-this.prevBuf.length;prevBufOffset>0&&(prevBuf=Buffer.concat([prevBuf,buf.slice(0,10)]));for(var i=0,j=0;i<buf.length;i++){var uCode,curByte=i>=0?buf[i]:prevBuf[i+prevBufOffset];if((uCode=this.decodeTables[nodeIdx][curByte])>=0);else if(uCode===UNASSIGNED)i=seqStart,uCode=this.defaultCharUnicode.charCodeAt(0);else if(uCode===GB18030_CODE){var curSeq=seqStart>=0?buf.slice(seqStart,i+1):prevBuf.slice(seqStart+prevBufOffset,i+1+prevBufOffset),ptr=12600*(curSeq[0]-129)+1260*(curSeq[1]-48)+10*(curSeq[2]-129)+(curSeq[3]-48),idx=findIdx(this.gb18030.gbChars,ptr);uCode=this.gb18030.uChars[idx]+ptr-this.gb18030.gbChars[idx]}else{if(uCode<=NODE_START){nodeIdx=NODE_START-uCode;continue}if(!(uCode<=-10))throw new Error("iconv-lite internal error: invalid decoding table value "+uCode+" at "+nodeIdx+"/"+curByte);for(var seq=this.decodeTableSeq[-10-uCode],k=0;k<seq.length-1;k++)uCode=seq[k],newBuf[j++]=255&uCode,newBuf[j++]=uCode>>8;uCode=seq[seq.length-1]}if(uCode>65535){uCode-=65536;var uCodeLead=55296+Math.floor(uCode/1024);newBuf[j++]=255&uCodeLead,newBuf[j++]=uCodeLead>>8,uCode=56320+uCode%1024}newBuf[j++]=255&uCode,newBuf[j++]=uCode>>8,nodeIdx=0,seqStart=i+1}return this.nodeIdx=nodeIdx,this.prevBuf=seqStart>=0?buf.slice(seqStart):prevBuf.slice(seqStart+prevBufOffset),newBuf.slice(0,j).toString("ucs2")},DBCSDecoder.prototype.end=function(){for(var ret="";this.prevBuf.length>0;){ret+=this.defaultCharUnicode;var buf=this.prevBuf.slice(1);this.prevBuf=Buffer.alloc(0),this.nodeIdx=0,buf.length>0&&(ret+=this.write(buf))}return this.nodeIdx=0,ret}},function(module,exports,__webpack_require__){"use strict";module.exports={shiftjis:{type:"_dbcs",table:function(){return __webpack_require__(580)},encodeAdd:{"":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return __webpack_require__(581)},encodeAdd:{"":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return __webpack_require__(219)}},gbk:{type:"_dbcs",table:function(){return __webpack_require__(219).concat(__webpack_require__(340))}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return __webpack_require__(219).concat(__webpack_require__(340))},gb18030:function(){return __webpack_require__(582)},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return __webpack_require__(583)}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return __webpack_require__(341)}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return __webpack_require__(341).concat(__webpack_require__(584))},encodeSkipVals:[41676]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}},function(module){module.exports=JSON.parse('[["0","\\u0000",128],["a1","",62],["8140","",9,""],["8180",""],["81b8",""],["81c8",""],["81da",""],["81f0",""],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]]')},function(module){module.exports=JSON.parse('[["0","\\u0000",127],["8ea1","",62],["a1a1","",9,""],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2",""],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af",""],["8fa2c2",""],["8fa2eb",""],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1",""],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab",""],["8fa9af",""],["8fa9c1",""],["8faaa1",""],["8faaba",""],["8faba1",""],["8fabbd",""],["8fabc5",""],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]]')},function(module){module.exports=JSON.parse('{"uChars":[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],"gbChars":[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189000]}')},function(module){module.exports=JSON.parse('[["0","\\u0000",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"",9,""],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,""],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,""],["a8a6",""],["a8a8",""],["a8b1","",27,"",25,"",14,""],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"",27,"",25,"",14,""],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]]')},function(module){module.exports=JSON.parse('[["8740",""],["8767",""],["87a1",""],["8840","",4,""],["88a1",""],["8940",""],["8943",""],["8946",""],["894c",""],["89a1",""],["89ab",""],["89b0",""],["89b5",""],["89c1",""],["89c5",""],["8a40",""],["8a43",""],["8a64",""],["8a76",""],["8aa1",""],["8aac",""],["8ab2",""],["8abb",""],["8ac9",""],["8ace",""],["8adf",""],["8af6",""],["8b40",""],["8b55",""],["8ba1",""],["8bde",""],["8c40",""],["8ca1",""],["8ca7",""],["8cc9",""],["8cce",""],["8ce6",""],["8d40",""],["8d42",""],["8da1",""],["8e40",""],["8ea1",""],["8f40",""],["8fa1",""],["9040",""],["90a1",""],["9140",""],["91a1",""],["9240",""],["92a1",""],["9340",""],["93a1",""],["9440",""],["94a1",""],["9540",""],["95a1",""],["9640",""],["96a1",""],["9740",""],["97a1",""],["9840",""],["98a1",""],["9940",""],["99a1",""],["9a40",""],["9aa1",""],["9b40",""],["9b62",""],["9ba1",""],["9c40",""],["9ca1",""],["9d40",""],["9da1",""],["9e40",""],["9ea1",""],["9ead",""],["9ec5",""],["9ef5",""],["9f40",""],["9f4f",""],["9fa1",""],["9fae",""],["9fb2",""],["9fc1",""],["9fc9",""],["9fdb",""],["9fe7",""],["9feb",""],["9ff0",""],["a040",""],["a055",""],["a058",""],["a05b",""],["a063",""],["a073",""],["a0a1",""],["a0a6",""],["a0ae",""],["a0b0",""],["a0d4",""],["a0e2",""],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,""],["c8a1",""],["c8cd",""],["c8f5",""],["f9fe",""],["fa40",""],["faa1",""],["fb40",""],["fba1",""],["fc40",""],["fca1",""],["fd40",""],["fda1",""],["fe40",""],["fea1",""]]')},function(module,exports,__webpack_require__){"use strict";var Buffer=__webpack_require__(59).Buffer,Transform=__webpack_require__(10).Transform;function IconvLiteEncoderStream(conv,options){this.conv=conv,(options=options||{}).decodeStrings=!1,Transform.call(this,options)}function IconvLiteDecoderStream(conv,options){this.conv=conv,(options=options||{}).encoding=this.encoding="utf8",Transform.call(this,options)}module.exports=function(iconv){iconv.encodeStream=function(encoding,options){return new IconvLiteEncoderStream(iconv.getEncoder(encoding,options),options)},iconv.decodeStream=function(encoding,options){return new IconvLiteDecoderStream(iconv.getDecoder(encoding,options),options)},iconv.supportsStreams=!0,iconv.IconvLiteEncoderStream=IconvLiteEncoderStream,iconv.IconvLiteDecoderStream=IconvLiteDecoderStream,iconv._collect=IconvLiteDecoderStream.prototype.collect},IconvLiteEncoderStream.prototype=Object.create(Transform.prototype,{constructor:{value:IconvLiteEncoderStream}}),IconvLiteEncoderStream.prototype._transform=function(chunk,encoding,done){if("string"!=typeof chunk)return done(new Error("Iconv encoding stream needs strings as its input."));try{var res=this.conv.write(chunk);res&&res.length&&this.push(res),done()}catch(e){done(e)}},IconvLiteEncoderStream.prototype._flush=function(done){try{var res=this.conv.end();res&&res.length&&this.push(res),done()}catch(e){done(e)}},IconvLiteEncoderStream.prototype.collect=function(cb){var chunks=[];return this.on("error",cb),this.on("data",function(chunk){chunks.push(chunk)}),this.on("end",function(){cb(null,Buffer.concat(chunks))}),this},IconvLiteDecoderStream.prototype=Object.create(Transform.prototype,{constructor:{value:IconvLiteDecoderStream}}),IconvLiteDecoderStream.prototype._transform=function(chunk,encoding,done){if(!Buffer.isBuffer(chunk))return done(new Error("Iconv decoding stream needs buffers as its input."));try{var res=this.conv.write(chunk);res&&res.length&&this.push(res,this.encoding),done()}catch(e){done(e)}},IconvLiteDecoderStream.prototype._flush=function(done){try{var res=this.conv.end();res&&res.length&&this.push(res,this.encoding),done()}catch(e){done(e)}},IconvLiteDecoderStream.prototype.collect=function(cb){var res="";return this.on("error",cb),this.on("data",function(chunk){res+=chunk}),this.on("end",function(){cb(null,res)}),this}},function(module,exports,__webpack_require__){"use strict";var Buffer=__webpack_require__(59).Buffer;module.exports=function(iconv){var original=void 0;iconv.supportsNodeEncodingsExtension=!(Buffer.from||new Buffer(0)instanceof Uint8Array),iconv.extendNodeEncodings=function(){if(!original){if(original={},!iconv.supportsNodeEncodingsExtension)return console.error("ACTION NEEDED: require('iconv-lite').extendNodeEncodings() is not supported in your version of Node"),void console.error("See more info at https://github.com/ashtuchkin/iconv-lite/wiki/Node-v4-compatibility");var nodeNativeEncodings={hex:!0,utf8:!0,"utf-8":!0,ascii:!0,binary:!0,base64:!0,ucs2:!0,"ucs-2":!0,utf16le:!0,"utf-16le":!0};Buffer.isNativeEncoding=function(enc){return enc&&nodeNativeEncodings[enc.toLowerCase()]};var SlowBuffer=__webpack_require__(59).SlowBuffer;if(original.SlowBufferToString=SlowBuffer.prototype.toString,SlowBuffer.prototype.toString=function(encoding,start,end){return encoding=String(encoding||"utf8").toLowerCase(),Buffer.isNativeEncoding(encoding)?original.SlowBufferToString.call(this,encoding,start,end):(void 0===start&&(start=0),void 0===end&&(end=this.length),iconv.decode(this.slice(start,end),encoding))},original.SlowBufferWrite=SlowBuffer.prototype.write,SlowBuffer.prototype.write=function(string,offset,length,encoding){if(isFinite(offset))isFinite(length)||(encoding=length,length=void 0);else{var swap=encoding;encoding=offset,offset=length,length=swap}offset=+offset||0;var remaining=this.length-offset;if(length?(length=+length)>remaining&&(length=remaining):length=remaining,encoding=String(encoding||"utf8").toLowerCase(),Buffer.isNativeEncoding(encoding))return original.SlowBufferWrite.call(this,string,offset,length,encoding);if(string.length>0&&(length<0||offset<0))throw new RangeError("attempt to write beyond buffer bounds");var buf=iconv.encode(string,encoding);return buf.length<length&&(length=buf.length),buf.copy(this,offset,0,length),length},original.BufferIsEncoding=Buffer.isEncoding,Buffer.isEncoding=function(encoding){return Buffer.isNativeEncoding(encoding)||iconv.encodingExists(encoding)},original.BufferByteLength=Buffer.byteLength,Buffer.byteLength=SlowBuffer.byteLength=function(str,encoding){return encoding=String(encoding||"utf8").toLowerCase(),Buffer.isNativeEncoding(encoding)?original.BufferByteLength.call(this,str,encoding):iconv.encode(str,encoding).length},original.BufferToString=Buffer.prototype.toString,Buffer.prototype.toString=function(encoding,start,end){return encoding=String(encoding||"utf8").toLowerCase(),Buffer.isNativeEncoding(encoding)?original.BufferToString.call(this,encoding,start,end):(void 0===start&&(start=0),void 0===end&&(end=this.length),iconv.decode(this.slice(start,end),encoding))},original.BufferWrite=Buffer.prototype.write,Buffer.prototype.write=function(string,offset,length,encoding){var _offset=offset,_length=length,_encoding=encoding;if(isFinite(offset))isFinite(length)||(encoding=length,length=void 0);else{var swap=encoding;encoding=offset,offset=length,length=swap}if(encoding=String(encoding||"utf8").toLowerCase(),Buffer.isNativeEncoding(encoding))return original.BufferWrite.call(this,string,_offset,_length,_encoding);offset=+offset||0;var remaining=this.length-offset;if(length?(length=+length)>remaining&&(length=remaining):length=remaining,string.length>0&&(length<0||offset<0))throw new RangeError("attempt to write beyond buffer bounds");var buf=iconv.encode(string,encoding);return buf.length<length&&(length=buf.length),buf.copy(this,offset,0,length),length},iconv.supportsStreams){var Readable=__webpack_require__(10).Readable;original.ReadableSetEncoding=Readable.prototype.setEncoding,Readable.prototype.setEncoding=function(enc,options){this._readableState.decoder=iconv.getDecoder(enc,options),this._readableState.encoding=enc},Readable.prototype.collect=iconv._collect}}},iconv.undoExtendNodeEncodings=function(){if(iconv.supportsNodeEncodingsExtension){if(!original)throw new Error("require('iconv-lite').undoExtendNodeEncodings(): Nothing to undo; extendNodeEncodings() is not called.");delete Buffer.isNativeEncoding;var SlowBuffer=__webpack_require__(59).SlowBuffer;if(SlowBuffer.prototype.toString=original.SlowBufferToString,SlowBuffer.prototype.write=original.SlowBufferWrite,Buffer.isEncoding=original.BufferIsEncoding,Buffer.byteLength=original.BufferByteLength,Buffer.prototype.toString=original.BufferToString,Buffer.prototype.write=original.BufferWrite,iconv.supportsStreams){var Readable=__webpack_require__(10).Readable;Readable.prototype.setEncoding=original.ReadableSetEncoding,delete Readable.prototype.collect}original=void 0}}}},function(module,exports,__webpack_require__){"use strict";var Iconv;try{"iconv",Iconv=__webpack_require__(588)("iconv").Iconv}catch(E){}module.exports=Iconv},function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=588},function(module,exports){var global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=global)},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(874)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(module,exports,__webpack_require__){"use strict";
/**
 * @file ES6-compliant shim for ToString.
 * @see {@link http://www.ecma-international.org/ecma-262/6.0/#sec-tostring|7.1.12 ToString ( argument )}
 * @version 1.4.5
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module to-string-x
 */var castString=__webpack_require__(220).String,isSymbol=__webpack_require__(881);module.exports=function(value){if(isSymbol(value))throw new TypeError("Cannot convert a Symbol value to a string");return castString(value)}},function(module,exports,__webpack_require__){"use strict";
/**
 * @file Converts argument to a value of type Number.
 * @version 2.0.0
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module to-number-x
 */var cachedCtrs=__webpack_require__(220),castNumber=cachedCtrs.Number,Rx=cachedCtrs.RegExp,toPrimitive=__webpack_require__(1131),libTrim=__webpack_require__(1129),trim2016=libTrim.trim2016,trim2018=libTrim.trim2018,libParseInt=__webpack_require__(1330),$parseInt2016=libParseInt.parseInt2016,$parseInt2018=libParseInt.parseInt2018,pStrSlice=cachedCtrs.String.prototype.slice,NAN=__webpack_require__(1132),binaryRegex=/^0b[01]+$/i,test=binaryRegex.test,isBinary=function(value){return test.call(binaryRegex,value)},octalRegex=/^0o[0-7]+$/i,isOctal=function(value){return test.call(octalRegex,value)},nonWSregex2016=new Rx("[]","g"),nonWSregex2018=new Rx("[]","g"),invalidHexLiteral=/^[-+]0x[0-9a-f]+$/i,isInvalidHexLiteral=function(value){return test.call(invalidHexLiteral,value)},$toNumber2018=function toNumber2018(argument){var value=toPrimitive(argument,Number);if("symbol"==typeof value)throw new TypeError("Cannot convert a Symbol value to a number");if("string"==typeof value){if(isBinary(value))return toNumber2018($parseInt2018(pStrSlice.call(value,2),2));if(isOctal(value))return toNumber2018($parseInt2018(pStrSlice.call(value,2),8));if(function(value){return test.call(nonWSregex2018,value)}(value)||isInvalidHexLiteral(value))return NAN;var trimmed=trim2018(value);if(trimmed!==value)return toNumber2018(trimmed)}return castNumber(value)};module.exports={toNumber:$toNumber2018,toNumber2016:function toNumber2016(argument){var value=toPrimitive(argument,Number);if("symbol"==typeof value)throw new TypeError("Cannot convert a Symbol value to a number");if("string"==typeof value){if(isBinary(value))return toNumber2016($parseInt2016(pStrSlice.call(value,2),2));if(isOctal(value))return toNumber2016($parseInt2016(pStrSlice.call(value,2),8));if(function(value){return test.call(nonWSregex2016,value)}(value)||isInvalidHexLiteral(value))return NAN;var trimmed=trim2016(value);if(trimmed!==value)return toNumber2016(trimmed)}return castNumber(value)},toNumber2018:$toNumber2018}},function(module,exports){module.exports=function(array,setter,iteratee,accumulator){for(var index=-1,length=null==array?0:array.length;++index<length;){var value=array[index];setter(accumulator,value,iteratee(value),array)}return accumulator}},function(module,exports,__webpack_require__){var baseEach=__webpack_require__(133);module.exports=function(collection,setter,iteratee,accumulator){return baseEach(collection,function(value,key,collection){setter(accumulator,value,iteratee(value),collection)}),accumulator}},function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(36),baseIteratee=__webpack_require__(19),baseMap=__webpack_require__(339),baseSortBy=__webpack_require__(596),baseUnary=__webpack_require__(91),compareMultiple=__webpack_require__(597),identity=__webpack_require__(96);module.exports=function(collection,iteratees,orders){var index=-1;iteratees=arrayMap(iteratees.length?iteratees:[identity],baseUnary(baseIteratee));var result=baseMap(collection,function(value,key,collection){return{criteria:arrayMap(iteratees,function(iteratee){return iteratee(value)}),index:++index,value:value}});return baseSortBy(result,function(object,other){return compareMultiple(object,other,orders)})}},function(module,exports){module.exports=function(array,comparer){var length=array.length;for(array.sort(comparer);length--;)array[length]=array[length].value;return array}},function(module,exports,__webpack_require__){var compareAscending=__webpack_require__(598);module.exports=function(object,other,orders){for(var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;++index<length;){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result)return index>=ordersLength?result:result*("desc"==orders[index]?-1:1)}return object.index-other.index}},function(module,exports,__webpack_require__){var isSymbol=__webpack_require__(93);module.exports=function(value,other){if(value!==other){var valIsDefined=void 0!==value,valIsNull=null===value,valIsReflexive=value==value,valIsSymbol=isSymbol(value),othIsDefined=void 0!==other,othIsNull=null===other,othIsReflexive=other==other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive)return 1;if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive)return-1}return 0}},function(module,exports){module.exports=function(dirtyDate){var date=new Date(dirtyDate.getTime()),baseTimezoneOffset=date.getTimezoneOffset();return date.setSeconds(0,0),6e4*baseTimezoneOffset+date.getTime()%6e4}},function(module,exports,__webpack_require__){"use strict";var DATE_REGEX=/\d{1,2}\/\d{1,2}\/\d{2,4}|\d{1,2}\/\d{1,2}/g,UNNECESSARY_CHARS_REGEX=/[^a-zA-Z_ ]/g,DESIRED_TAGS=["sign","amount","label"],getTransactionLabel=function(transaction){return transaction.label.toLowerCase()},getAmountSignTag=function(amount){return amount<0?"tag_neg":"tag_pos"},getDigitsTag=function(amount){return String(amount).includes(".")?"tag_float":"tag_integer"};module.exports={tokenizer:function(text){for(var words=function(label){return label.replace(UNNECESSARY_CHARS_REGEX,"")}(function(label){return label.replace(DATE_REGEX," tag_date ")}(function(label){return label.normalize("NFKD").replace(/[\u0300-\u036f]/g,"")}(text.toLowerCase()))).split(/\s+/).filter(function(token){return token.length>=2}),tokens=[],countWord=3;0!==countWord;){if(words.length>=countWord)for(var start=0;start+countWord<words.length+1;start++){var token=words.slice(start,start+countWord).join(" ");tokens.push(token)}countWord--}return tokens},predictProbaMax:function(classifier,label){return classifier.categorize(label,!0).likelihoods[0].proba},categorize:function(classifier,label){var predicted=classifier.categorize(label,!0);return predicted.likelihoods[0].proba>.1?predicted.predictedCategory:"0"},getLabelWithTags:function(transaction){var dateStr,dayOfMonthStr,amount,label="",_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=DESIRED_TAGS[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var keyword=_step.value;if(keyword.includes("amount")){var tag=(amount=transaction.amount)<-550?"tag_v_b_expense":amount<-100?"tag_b_expense":amount<-20?"tag_expense":amount<0?"tag_noise_neg":amount<50?"tag_noise_pos":amount<200?"tag_income":amount<1200?"tag_b_income":"tag_activity_income";label="".concat(label," ").concat(tag)}else if(keyword.includes("sign")){var _tag=getAmountSignTag(transaction.amount);label="".concat(label," ").concat(_tag)}else if(keyword.includes("day")){var _tag2=(dateStr=transaction.date,dayOfMonthStr=void 0,(dayOfMonthStr=Number(dateStr.slice(9,10)))<4||dayOfMonthStr>=28?"tag_A":dayOfMonthStr<12&&dayOfMonthStr>=4?"tag_B":dayOfMonthStr<20&&dayOfMonthStr>=12?"tag_C":dayOfMonthStr<28&&dayOfMonthStr>=20?"tag_D":void 0);label="".concat(label," ").concat(_tag2)}else if(keyword.includes("label")){var _tag3=transaction.label.toLowerCase();label="".concat(label," ").concat(_tag3)}else if(keyword.includes("digits")){var _tag4=getDigitsTag(transaction.amount);label="".concat(label," ").concat(_tag4)}else if(keyword.includes("original")){var _tag5=getTransactionLabel(transaction).toLowerCase();label="".concat(label," ").concat(_tag5)}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return label}}},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(80),keysIn=__webpack_require__(119);module.exports=function(object,source){return object&&copyObject(source,keysIn(source),object)}},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(80),getSymbols=__webpack_require__(214);module.exports=function(source,object){return copyObject(source,getSymbols(source),object)}},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(80),getSymbolsIn=__webpack_require__(343);module.exports=function(source,object){return copyObject(source,getSymbolsIn(source),object)}},function(module,exports){var hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(array){var length=array.length,result=new array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}},function(module,exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(212),cloneDataView=__webpack_require__(606),cloneRegExp=__webpack_require__(607),cloneSymbol=__webpack_require__(608),cloneTypedArray=__webpack_require__(324),boolTag="[object Boolean]",dateTag="[object Date]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";module.exports=function(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return cloneDataView(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return new Ctor;case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);case setTag:return new Ctor;case symbolTag:return cloneSymbol(object)}}},function(module,exports,__webpack_require__){var cloneArrayBuffer=__webpack_require__(212);module.exports=function(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}},function(module,exports){var reFlags=/\w*$/;module.exports=function(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));return result.lastIndex=regexp.lastIndex,result}},function(module,exports,__webpack_require__){var Symbol=__webpack_require__(101),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;module.exports=function(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}},function(module,exports,__webpack_require__){var baseIsMap=__webpack_require__(610),baseUnary=__webpack_require__(91),nodeUtil=__webpack_require__(206),nodeIsMap=nodeUtil&&nodeUtil.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;module.exports=isMap},function(module,exports,__webpack_require__){var getTag=__webpack_require__(110),isObjectLike=__webpack_require__(32),mapTag="[object Map]";module.exports=function(value){return isObjectLike(value)&&getTag(value)==mapTag}},function(module,exports,__webpack_require__){var baseIsSet=__webpack_require__(612),baseUnary=__webpack_require__(91),nodeUtil=__webpack_require__(206),nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;module.exports=isSet},function(module,exports,__webpack_require__){var getTag=__webpack_require__(110),isObjectLike=__webpack_require__(32),setTag="[object Set]";module.exports=function(value){return isObjectLike(value)&&getTag(value)==setTag}},function(module,exports,__webpack_require__){var castPath=__webpack_require__(103),last=__webpack_require__(281),parent=__webpack_require__(614),toKey=__webpack_require__(94);module.exports=function(object,path){return path=castPath(path,object),null==(object=parent(object,path))||delete object[toKey(last(path))]}},function(module,exports,__webpack_require__){var baseGet=__webpack_require__(163),baseSlice=__webpack_require__(294);module.exports=function(object,path){return path.length<2?object:baseGet(object,baseSlice(path,0,-1))}},function(module,exports,__webpack_require__){var isPlainObject=__webpack_require__(193);module.exports=function(value){return isPlainObject(value)?void 0:value}},function(module,exports,__webpack_require__){var asciiSize=__webpack_require__(617),hasUnicode=__webpack_require__(222),unicodeSize=__webpack_require__(618);module.exports=function(string){return hasUnicode(string)?unicodeSize(string):asciiSize(string)}},function(module,exports,__webpack_require__){var asciiSize=__webpack_require__(217)("length");module.exports=asciiSize},function(module,exports){var rsAstral="[\\ud800-\\udfff]",rsCombo="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsNonAstral="[^\\ud800-\\udfff]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",reOptMod="(?:"+rsCombo+"|"+rsFitz+")"+"?",rsSeq="[\\ufe0e\\ufe0f]?"+reOptMod+("(?:\\u200d(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")[\\ufe0e\\ufe0f]?"+reOptMod+")*"),rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");module.exports=function(string){for(var result=reUnicode.lastIndex=0;reUnicode.test(string);)++result;return result}},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},manifest=(__webpack_require__(67),__webpack_require__(47),"undefined"==typeof __WEBPACK_PROVIDED_MANIFEST__?{}:__WEBPACK_PROVIDED_MANIFEST__);module.exports={data:manifest,getCozyMetadata:function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},now=new Date(Date.now()),defaultData={doctypeVersion:1,metadataVersion:1,createdAt:now,createdByApp:manifest.slug,createdByAppVersion:manifest.version,updatedAt:now,updatedByApps:[{slug:manifest.slug,date:now,version:manifest.version}]};if(data.updatedByApps){var index=data.updatedByApps.findIndex(function(app){return app.slug===manifest.slug});-1!==index&&(data.updatedByApps[index]=defaultData.updatedByApps.pop())}return _extends({},defaultData,data)},setManifest:function(data){manifest=data}}},function(module,exports){module.exports=function(array,iteratee){for(var result,index=-1,length=array.length;++index<length;){var current=iteratee(array[index]);void 0!==current&&(result=void 0===result?current:result+current)}return result}},function(module,exports){function _typeof2(obj){return(_typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _typeof(obj){return"function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?module.exports=_typeof=function(obj){return _typeof2(obj)}:module.exports=_typeof=function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)},_typeof(obj)}module.exports=_typeof},function(module,exports){function _setPrototypeOf(o,p){return module.exports=_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}module.exports=_setPrototypeOf},function(module,exports){module.exports=function(arr){if(Array.isArray(arr))return arr}},function(module,exports){module.exports=function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}},function(module,exports){module.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(module,exports,__webpack_require__){"use strict";var TYPED_OK="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function _has(obj,key){return Object.prototype.hasOwnProperty.call(obj,key)}exports.assign=function(obj){for(var sources=Array.prototype.slice.call(arguments,1);sources.length;){var source=sources.shift();if(source){if("object"!=typeof source)throw new TypeError(source+"must be non-object");for(var p in source)_has(source,p)&&(obj[p]=source[p])}}return obj},exports.shrinkBuf=function(buf,size){return buf.length===size?buf:buf.subarray?buf.subarray(0,size):(buf.length=size,buf)};var fnTyped={arraySet:function(dest,src,src_offs,len,dest_offs){if(src.subarray&&dest.subarray)dest.set(src.subarray(src_offs,src_offs+len),dest_offs);else for(var i=0;i<len;i++)dest[dest_offs+i]=src[src_offs+i]},flattenChunks:function(chunks){var i,l,len,pos,chunk,result;for(len=0,i=0,l=chunks.length;i<l;i++)len+=chunks[i].length;for(result=new Uint8Array(len),pos=0,i=0,l=chunks.length;i<l;i++)chunk=chunks[i],result.set(chunk,pos),pos+=chunk.length;return result}},fnUntyped={arraySet:function(dest,src,src_offs,len,dest_offs){for(var i=0;i<len;i++)dest[dest_offs+i]=src[src_offs+i]},flattenChunks:function(chunks){return[].concat.apply([],chunks)}};exports.setTyped=function(on){on?(exports.Buf8=Uint8Array,exports.Buf16=Uint16Array,exports.Buf32=Int32Array,exports.assign(exports,fnTyped)):(exports.Buf8=Array,exports.Buf16=Array,exports.Buf32=Array,exports.assign(exports,fnUntyped))},exports.setTyped(TYPED_OK)},function(module,exports,__webpack_require__){"use strict";class Font{static isFont(font){return font&&font instanceof Font}}Font.StringWidth=class{constructor(width,kerning){this.width=width,this.kerning=kerning}valueOf(){return this.width}},module.exports=Font},function(module,exports,__webpack_require__){"use strict";"undefined"==typeof process||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?module.exports={nextTick:function(fn,arg1,arg2,arg3){if("function"!=typeof fn)throw new TypeError('"callback" argument must be a function');var args,i,len=arguments.length;switch(len){case 0:case 1:return process.nextTick(fn);case 2:return process.nextTick(function(){fn.call(null,arg1)});case 3:return process.nextTick(function(){fn.call(null,arg1,arg2)});case 4:return process.nextTick(function(){fn.call(null,arg1,arg2,arg3)});default:for(args=new Array(len-1),i=0;i<args.length;)args[i++]=arguments[i];return process.nextTick(function(){fn.apply(null,args)})}}}:module.exports=process},function(module,exports,__webpack_require__){const levels={secret:0,debug:10,info:20,warn:30,error:40,ok:50,critical:50},Secret=__webpack_require__(344);module.exports={filterSecrets:function(level,type,message){if("secret"!==type&&message instanceof Secret)throw new Error("You should log a secret with log.secret")},filterLevel:function(level,type){return levels[type]>=levels[level]}}},function(module,exports,__webpack_require__){const prodFormat=__webpack_require__(631);__webpack_require__(632);module.exports=prodFormat},function(module,exports,__webpack_require__){const stringify=__webpack_require__(301),LOG_LENGTH_LIMIT=65535;module.exports=function(type,message,label,namespace){const log={time:new Date,type:type,label:label,namespace:namespace};"object"==typeof message?(message&&message.no_retry&&(log.no_retry=message.no_retry),message&&message.message&&(log.message=message.message)):log.message=message,log.message&&log.message.stack&&(log.message=log.message.stack);let result=log;try{result=stringify(log).substr(0,LOG_LENGTH_LIMIT)}catch(err){console.log(err.message,"cozy-logger: Failed to convert message to JSON")}return result}},function(module,exports,__webpack_require__){const util=__webpack_require__(8),chalk=__webpack_require__(434);util&&util.inspect&&util.inspect.defaultOptions&&(util.inspect.defaultOptions.maxArrayLength=null,util.inspect.defaultOptions.depth=2,util.inspect.defaultOptions.colors=!0);const type2color={debug:"cyan",warn:"yellow",info:"blue",error:"red",ok:"green",secret:"red",critical:"red"};module.exports=function(type,message,label,namespace){let formatmessage=message;"string"!=typeof formatmessage&&(formatmessage=util.inspect(formatmessage));let formatlabel=label?` : "${label}" `:"",formatnamespace=namespace?chalk.magenta(`${namespace}: `):"",color=type2color[type];return`${formatnamespace}${color?chalk[color](type):type}${formatlabel} : ${formatmessage}`}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.getKey=exports.prefix=void 0;exports.prefix="flag__";var getKey=function(name){return"flag__"+name};exports.getKey=getKey;var listFlagLocalStorage=function(){return Object.keys(localStorage).filter(function(x){return 0===x.indexOf("flag__")}).map(function(x){return x.replace("flag__","")})},getItem=function(flag){var val=localStorage.getItem(getKey(flag));return val?JSON.parse(val):val},removeItem=function(flag){return localStorage.removeItem(getKey(flag))},_default={getAll:function(){var res={},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=listFlagLocalStorage()[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var flag=_step.value;res[flag]=getItem(flag)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return res},getItem:getItem,setItem:function(flag,value){var str=JSON.stringify(value);return localStorage.setItem(getKey(flag),str)},clearAll:function(){var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=listFlagLocalStorage()[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var flag=_step2.value;removeItem(flag)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}},removeItem:removeItem};exports.default=_default},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(54);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(21)),_createClass2=_interopRequireDefault(__webpack_require__(26)),_possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(39)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(31)),_assertThisInitialized2=_interopRequireDefault(__webpack_require__(282)),_inherits2=_interopRequireDefault(__webpack_require__(40)),_react=_interopRequireDefault(__webpack_require__(258)),_flag=_interopRequireDefault(__webpack_require__(223)),_default=function(Component){var Wrapped=function(_React$Component){function Wrapped(props){var _this;return(0,_classCallCheck2.default)(this,Wrapped),(_this=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(Wrapped).call(this,props))).handleChange=_this.handleChange.bind((0,_assertThisInitialized2.default)(_this)),_this}return(0,_inherits2.default)(Wrapped,_React$Component),(0,_createClass2.default)(Wrapped,[{key:"componentDidMount",value:function(){_flag.default.store.on("change",this.handleChange)}},{key:"componentWillUnmount",value:function(){_flag.default.store.removeListener("change",this.handleChange)}},{key:"handleChange",value:function(){this.forceUpdate()}},{key:"render",value:function(){return _react.default.createElement(Component,this.props)}}]),Wrapped}(_react.default.Component);return Wrapped.displayName="flag_"+Component.displayName,Wrapped};exports.default=_default},function(module,exports,__webpack_require__){"use strict";
/** @license React v16.9.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h=__webpack_require__(636),n="function"==typeof Symbol&&Symbol.for,p=n?Symbol.for("react.element"):60103,q=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,t=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,v=n?Symbol.for("react.provider"):60109,w=n?Symbol.for("react.context"):60110,x=n?Symbol.for("react.forward_ref"):60112,y=n?Symbol.for("react.suspense"):60113,aa=n?Symbol.for("react.suspense_list"):60120,ba=n?Symbol.for("react.memo"):60115,ca=n?Symbol.for("react.lazy"):60116;n&&Symbol.for("react.fundamental"),n&&Symbol.for("react.responder");var z="function"==typeof Symbol&&Symbol.iterator;function A(a){for(var b=a.message,d="https://reactjs.org/docs/error-decoder.html?invariant="+b,c=1;c<arguments.length;c++)d+="&args[]="+encodeURIComponent(arguments[c]);return a.message="Minified React error #"+b+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",a}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C={};function D(a,b,d){this.props=a,this.context=b,this.refs=C,this.updater=d||B}function E(){}function F(a,b,d){this.props=a,this.context=b,this.refs=C,this.updater=d||B}D.prototype.isReactComponent={},D.prototype.setState=function(a,b){if("object"!=typeof a&&"function"!=typeof a&&null!=a)throw A(Error(85));this.updater.enqueueSetState(this,a,b,"setState")},D.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")},E.prototype=D.prototype;var G=F.prototype=new E;G.constructor=F,h(G,D.prototype),G.isPureReactComponent=!0;var H={current:null},I={suspense:null},J={current:null},K=Object.prototype.hasOwnProperty,L={key:!0,ref:!0,__self:!0,__source:!0};function M(a,b,d){var c=void 0,e={},g=null,k=null;if(null!=b)for(c in void 0!==b.ref&&(k=b.ref),void 0!==b.key&&(g=""+b.key),b)K.call(b,c)&&!L.hasOwnProperty(c)&&(e[c]=b[c]);var f=arguments.length-2;if(1===f)e.children=d;else if(1<f){for(var l=Array(f),m=0;m<f;m++)l[m]=arguments[m+2];e.children=l}if(a&&a.defaultProps)for(c in f=a.defaultProps)void 0===e[c]&&(e[c]=f[c]);return{$$typeof:p,type:a,key:g,ref:k,props:e,_owner:J.current}}function N(a){return"object"==typeof a&&null!==a&&a.$$typeof===p}var O=/\/+/g,P=[];function Q(a,b,d,c){if(P.length){var e=P.pop();return e.result=a,e.keyPrefix=b,e.func=d,e.context=c,e.count=0,e}return{result:a,keyPrefix:b,func:d,context:c,count:0}}function R(a){a.result=null,a.keyPrefix=null,a.func=null,a.context=null,a.count=0,10>P.length&&P.push(a)}function U(a,b,d){return null==a?0:function S(a,b,d,c){var e=typeof a;"undefined"!==e&&"boolean"!==e||(a=null);var g=!1;if(null===a)g=!0;else switch(e){case"string":case"number":g=!0;break;case"object":switch(a.$$typeof){case p:case q:g=!0}}if(g)return d(c,a,""===b?"."+T(a,0):b),1;if(g=0,b=""===b?".":b+":",Array.isArray(a))for(var k=0;k<a.length;k++){var f=b+T(e=a[k],k);g+=S(e,f,d,c)}else if(f=null===a||"object"!=typeof a?null:"function"==typeof(f=z&&a[z]||a["@@iterator"])?f:null,"function"==typeof f)for(a=f.call(a),k=0;!(e=a.next()).done;)g+=S(e=e.value,f=b+T(e,k++),d,c);else if("object"===e)throw d=""+a,A(Error(31),"[object Object]"===d?"object with keys {"+Object.keys(a).join(", ")+"}":d,"");return g}(a,"",b,d)}function T(a,b){return"object"==typeof a&&null!==a&&null!=a.key?function(a){var b={"=":"=0",":":"=2"};return"$"+(""+a).replace(/[=:]/g,function(a){return b[a]})}(a.key):b.toString(36)}function ea(a,b){a.func.call(a.context,b,a.count++)}function fa(a,b,d){var c=a.result,e=a.keyPrefix;a=a.func.call(a.context,b,a.count++),Array.isArray(a)?V(a,c,d,function(a){return a}):null!=a&&(N(a)&&(a=function(a,b){return{$$typeof:p,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}(a,e+(!a.key||b&&b.key===a.key?"":(""+a.key).replace(O,"$&/")+"/")+d)),c.push(a))}function V(a,b,d,c,e){var g="";null!=d&&(g=(""+d).replace(O,"$&/")+"/"),U(a,fa,b=Q(b,g,c,e)),R(b)}function W(){var a=H.current;if(null===a)throw A(Error(321));return a}var X={Children:{map:function(a,b,d){if(null==a)return a;var c=[];return V(a,c,null,b,d),c},forEach:function(a,b,d){if(null==a)return a;U(a,ea,b=Q(null,null,b,d)),R(b)},count:function(a){return U(a,function(){return null},null)},toArray:function(a){var b=[];return V(a,b,null,function(a){return a}),b},only:function(a){if(!N(a))throw A(Error(143));return a}},createRef:function(){return{current:null}},Component:D,PureComponent:F,createContext:function(a,b){return void 0===b&&(b=null),(a={$$typeof:w,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:v,_context:a},a.Consumer=a},forwardRef:function(a){return{$$typeof:x,render:a}},lazy:function(a){return{$$typeof:ca,_ctor:a,_status:-1,_result:null}},memo:function(a,b){return{$$typeof:ba,type:a,compare:void 0===b?null:b}},useCallback:function(a,b){return W().useCallback(a,b)},useContext:function(a,b){return W().useContext(a,b)},useEffect:function(a,b){return W().useEffect(a,b)},useImperativeHandle:function(a,b,d){return W().useImperativeHandle(a,b,d)},useDebugValue:function(){},useLayoutEffect:function(a,b){return W().useLayoutEffect(a,b)},useMemo:function(a,b){return W().useMemo(a,b)},useReducer:function(a,b,d){return W().useReducer(a,b,d)},useRef:function(a){return W().useRef(a)},useState:function(a){return W().useState(a)},Fragment:r,Profiler:u,StrictMode:t,Suspense:y,unstable_SuspenseList:aa,createElement:M,cloneElement:function(a,b,d){if(null==a)throw A(Error(267),a);var c=void 0,e=h({},a.props),g=a.key,k=a.ref,f=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,f=J.current),void 0!==b.key&&(g=""+b.key);var l=void 0;for(c in a.type&&a.type.defaultProps&&(l=a.type.defaultProps),b)K.call(b,c)&&!L.hasOwnProperty(c)&&(e[c]=void 0===b[c]&&void 0!==l?l[c]:b[c])}if(1===(c=arguments.length-2))e.children=d;else if(1<c){l=Array(c);for(var m=0;m<c;m++)l[m]=arguments[m+2];e.children=l}return{$$typeof:p,type:a.type,key:g,ref:k,props:e,_owner:f}},createFactory:function(a){var b=M.bind(null,a);return b.type=a,b},isValidElement:N,version:"16.9.0",unstable_withSuspenseConfig:function(a,b){var d=I.suspense;I.suspense=void 0===b?null:b;try{a()}finally{I.suspense=d}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:H,ReactCurrentBatchConfig:I,ReactCurrentOwner:J,IsSomeRendererActing:{current:!1},assign:h}},Y={default:X},Z=Y&&X||Y;module.exports=Z.default||Z},function(module,exports,__webpack_require__){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(val){if(null==val)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(val)}module.exports=function(){try{if(!Object.assign)return!1;var test1=new String("abc");if(test1[5]="de","5"===Object.getOwnPropertyNames(test1)[0])return!1;for(var test2={},i=0;i<10;i++)test2["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(test2).map(function(n){return test2[n]}).join(""))return!1;var test3={};return"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},test3)).join("")}catch(err){return!1}}()?Object.assign:function(target,source){for(var from,symbols,to=toObject(target),s=1;s<arguments.length;s++){for(var key in from=Object(arguments[s]))hasOwnProperty.call(from,key)&&(to[key]=from[key]);if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++)propIsEnumerable.call(from,symbols[i])&&(to[symbols[i]]=from[symbols[i]])}}return to}},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(54);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _classCallCheck2=_interopRequireDefault(__webpack_require__(21)),_createClass2=_interopRequireDefault(__webpack_require__(26)),_possibleConstructorReturn2=_interopRequireDefault(__webpack_require__(39)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(31)),_inherits2=_interopRequireDefault(__webpack_require__(40)),_react=_interopRequireDefault(__webpack_require__(258)),_flag=_interopRequireDefault(__webpack_require__(223)),FlagInput=function(_ref){var name=_ref.name,_onChange=_ref.onChange;return _react.default.createElement("input",{type:"checkbox",checked:(0,_flag.default)(name),onChange:function(ev){return(0,_flag.default)(name,JSON.parse(ev.target.checked))&&_onChange&&_onChange()}})},FoldButton=function(_ref2){var children=_ref2.children,onClick=_ref2.onClick;return _react.default.createElement("button",{type:"button",onClick:onClick,style:{position:"absolute",top:"100%",left:"0"}},children)},FlagList=_flag.default.connect(function(){var allFlags=_flag.default.list();return _react.default.createElement("div",null,allFlags.map(function(name){return _react.default.createElement("div",{key:name},function(name){return name.replace(/[a-z][A-Z]/g,function(str){return str[0]+" "+str[1].toLowerCase()})}(name)," : ",_react.default.createElement(FlagInput,{onChange:function(){},name:name}))}))}),FlagSwitcher=function(_React$Component){function FlagSwitcher(props){var _this;return(0,_classCallCheck2.default)(this,FlagSwitcher),(_this=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(FlagSwitcher).call(this,props))).state={folded:!0},_this}return(0,_inherits2.default)(FlagSwitcher,_React$Component),(0,_createClass2.default)(FlagSwitcher,[{key:"render",value:function(){var state,_this2=this;return(0,_flag.default)("switcher")&&_react.default.createElement("div",{className:"flag-switcher",style:(state=this.state,{borderBottomLeftRadius:".5rem",padding:".5rem",position:"absolute",zIndex:1e3,color:"white",background:"rgba(74,68,90,0.85)",top:0,right:0,transform:"translateY(".concat(state.folded?"-100%":"0",")")})},_react.default.createElement(FoldButton,{onClick:function(){return _this2.setState(function(prevState){return{folded:!prevState.folded}})}},this.state.folded?"Show":"Hide"," flags"),_react.default.createElement("button",{onClick:function(){return _this2.setState({date:Date.now()})}},"refresh"),"",_react.default.createElement("button",{onClick:function(){return _flag.default.reset()&&(0,_flag.default)("switcher",!0)&&_this2.forceUpdate()}},"reset"),_react.default.createElement(FlagList,null))}}]),FlagSwitcher}(_react.default.Component);exports.default=FlagSwitcher,FlagSwitcher.List=FlagList},function(module,exports,__webpack_require__){__webpack_require__(83),__webpack_require__(643),module.exports=__webpack_require__(9).Array.from},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(225),defined=__webpack_require__(226);module.exports=function(TO_STRING){return function(that,pos){var a,b,s=String(defined(that)),i=toInteger(pos),l=s.length;return i<0||i>=l?TO_STRING?"":void 0:(a=s.charCodeAt(i))<55296||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):b-56320+(a-55296<<10)+65536}}},function(module,exports,__webpack_require__){"use strict";var create=__webpack_require__(166),descriptor=__webpack_require__(127),setToStringTag=__webpack_require__(129),IteratorPrototype={};__webpack_require__(70)(IteratorPrototype,__webpack_require__(25)("iterator"),function(){return this}),module.exports=function(Constructor,NAME,next){Constructor.prototype=create(IteratorPrototype,{next:descriptor(1,next)}),setToStringTag(Constructor,NAME+" Iterator")}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(71),toLength=__webpack_require__(167),toAbsoluteIndex=__webpack_require__(642);module.exports=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIObject($this),length=toLength(O.length),index=toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if((value=O[index++])!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(225),max=Math.max,min=Math.min;module.exports=function(index,length){return(index=toInteger(index))<0?max(index+length,0):min(index,length)}},function(module,exports,__webpack_require__){"use strict";var ctx=__webpack_require__(60),$export=__webpack_require__(16),toObject=__webpack_require__(86),call=__webpack_require__(352),isArrayIter=__webpack_require__(353),toLength=__webpack_require__(167),createProperty=__webpack_require__(644),getIterFn=__webpack_require__(234);$export($export.S+$export.F*!__webpack_require__(354)(function(iter){Array.from(iter)}),"Array",{from:function(arrayLike){var length,result,step,iterator,O=toObject(arrayLike),C="function"==typeof this?this:Array,aLen=arguments.length,mapfn=aLen>1?arguments[1]:void 0,mapping=void 0!==mapfn,index=0,iterFn=getIterFn(O);if(mapping&&(mapfn=ctx(mapfn,aLen>2?arguments[2]:void 0,2)),null==iterFn||C==Array&&isArrayIter(iterFn))for(result=new C(length=toLength(O.length));length>index;index++)createProperty(result,index,mapping?mapfn(O[index],index):O[index]);else for(iterator=iterFn.call(O),result=new C;!(step=iterator.next()).done;index++)createProperty(result,index,mapping?call(iterator,mapfn,[step.value,index],!0):step.value);return result.length=index,result}})},function(module,exports,__webpack_require__){"use strict";var $defineProperty=__webpack_require__(44),createDesc=__webpack_require__(127);module.exports=function(object,index,value){index in object?$defineProperty.f(object,index,createDesc(0,value)):object[index]=value}},function(module,exports,__webpack_require__){__webpack_require__(646),module.exports=__webpack_require__(9).Object.assign},function(module,exports,__webpack_require__){var $export=__webpack_require__(16);$export($export.S+$export.F,"Object",{assign:__webpack_require__(647)})},function(module,exports,__webpack_require__){"use strict";var DESCRIPTORS=__webpack_require__(28),getKeys=__webpack_require__(105),gOPS=__webpack_require__(235),pIE=__webpack_require__(130),toObject=__webpack_require__(86),IObject=__webpack_require__(230),$assign=Object.assign;module.exports=!$assign||__webpack_require__(84)(function(){var A={},B={},S=Symbol(),K="abcdefghijklmnopqrst";return A[S]=7,K.split("").forEach(function(k){B[k]=k}),7!=$assign({},A)[S]||Object.keys($assign({},B)).join("")!=K})?function(target,source){for(var T=toObject(target),aLen=arguments.length,index=1,getSymbols=gOPS.f,isEnum=pIE.f;aLen>index;)for(var key,S=IObject(arguments[index++]),keys=getSymbols?getKeys(S).concat(getSymbols(S)):getKeys(S),length=keys.length,j=0;length>j;)key=keys[j++],DESCRIPTORS&&!isEnum.call(S,key)||(T[key]=S[key]);return T}:$assign},function(module,exports,__webpack_require__){__webpack_require__(649),module.exports=__webpack_require__(9).Object.getPrototypeOf},function(module,exports,__webpack_require__){var toObject=__webpack_require__(86),$getPrototypeOf=__webpack_require__(351);__webpack_require__(170)("getPrototypeOf",function(){return function(it){return $getPrototypeOf(toObject(it))}})},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(651),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(83),__webpack_require__(106),module.exports=__webpack_require__(236).f("iterator")},function(module,exports,__webpack_require__){"use strict";var addToUnscopables=__webpack_require__(653),step=__webpack_require__(356),Iterators=__webpack_require__(104),toIObject=__webpack_require__(71);module.exports=__webpack_require__(227)(Array,"Array",function(iterated,kind){this._t=toIObject(iterated),this._i=0,this._k=kind},function(){var O=this._t,kind=this._k,index=this._i++;return!O||index>=O.length?(this._t=void 0,step(1)):step(0,"keys"==kind?index:"values"==kind?O[index]:[index,O[index]])},"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries")},function(module,exports){module.exports=function(){}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(655),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(656),__webpack_require__(172),__webpack_require__(659),__webpack_require__(660),module.exports=__webpack_require__(9).Symbol},function(module,exports,__webpack_require__){"use strict";var global=__webpack_require__(24),has=__webpack_require__(85),DESCRIPTORS=__webpack_require__(28),$export=__webpack_require__(16),redefine=__webpack_require__(347),META=__webpack_require__(171).KEY,$fails=__webpack_require__(84),shared=__webpack_require__(232),setToStringTag=__webpack_require__(129),uid=__webpack_require__(168),wks=__webpack_require__(25),wksExt=__webpack_require__(236),wksDefine=__webpack_require__(237),enumKeys=__webpack_require__(657),isArray=__webpack_require__(357),anObject=__webpack_require__(49),isObject=__webpack_require__(37),toObject=__webpack_require__(86),toIObject=__webpack_require__(71),toPrimitive=__webpack_require__(229),createDesc=__webpack_require__(127),_create=__webpack_require__(166),gOPNExt=__webpack_require__(658),$GOPD=__webpack_require__(238),$GOPS=__webpack_require__(235),$DP=__webpack_require__(44),$keys=__webpack_require__(105),gOPD=$GOPD.f,dP=$DP.f,gOPN=gOPNExt.f,$Symbol=global.Symbol,$JSON=global.JSON,_stringify=$JSON&&$JSON.stringify,HIDDEN=wks("_hidden"),TO_PRIMITIVE=wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=shared("symbol-registry"),AllSymbols=shared("symbols"),OPSymbols=shared("op-symbols"),ObjectProto=Object.prototype,USE_NATIVE="function"==typeof $Symbol&&!!$GOPS.f,QObject=global.QObject,setter=!QObject||!QObject.prototype||!QObject.prototype.findChild,setSymbolDesc=DESCRIPTORS&&$fails(function(){return 7!=_create(dP({},"a",{get:function(){return dP(this,"a",{value:7}).a}})).a})?function(it,key,D){var protoDesc=gOPD(ObjectProto,key);protoDesc&&delete ObjectProto[key],dP(it,key,D),protoDesc&&it!==ObjectProto&&dP(ObjectProto,key,protoDesc)}:dP,wrap=function(tag){var sym=AllSymbols[tag]=_create($Symbol.prototype);return sym._k=tag,sym},isSymbol=USE_NATIVE&&"symbol"==typeof $Symbol.iterator?function(it){return"symbol"==typeof it}:function(it){return it instanceof $Symbol},$defineProperty=function(it,key,D){return it===ObjectProto&&$defineProperty(OPSymbols,key,D),anObject(it),key=toPrimitive(key,!0),anObject(D),has(AllSymbols,key)?(D.enumerable?(has(it,HIDDEN)&&it[HIDDEN][key]&&(it[HIDDEN][key]=!1),D=_create(D,{enumerable:createDesc(0,!1)})):(has(it,HIDDEN)||dP(it,HIDDEN,createDesc(1,{})),it[HIDDEN][key]=!0),setSymbolDesc(it,key,D)):dP(it,key,D)},$defineProperties=function(it,P){anObject(it);for(var key,keys=enumKeys(P=toIObject(P)),i=0,l=keys.length;l>i;)$defineProperty(it,key=keys[i++],P[key]);return it},$propertyIsEnumerable=function(key){var E=isEnum.call(this,key=toPrimitive(key,!0));return!(this===ObjectProto&&has(AllSymbols,key)&&!has(OPSymbols,key))&&(!(E||!has(this,key)||!has(AllSymbols,key)||has(this,HIDDEN)&&this[HIDDEN][key])||E)},$getOwnPropertyDescriptor=function(it,key){if(it=toIObject(it),key=toPrimitive(key,!0),it!==ObjectProto||!has(AllSymbols,key)||has(OPSymbols,key)){var D=gOPD(it,key);return!D||!has(AllSymbols,key)||has(it,HIDDEN)&&it[HIDDEN][key]||(D.enumerable=!0),D}},$getOwnPropertyNames=function(it){for(var key,names=gOPN(toIObject(it)),result=[],i=0;names.length>i;)has(AllSymbols,key=names[i++])||key==HIDDEN||key==META||result.push(key);return result},$getOwnPropertySymbols=function(it){for(var key,IS_OP=it===ObjectProto,names=gOPN(IS_OP?OPSymbols:toIObject(it)),result=[],i=0;names.length>i;)!has(AllSymbols,key=names[i++])||IS_OP&&!has(ObjectProto,key)||result.push(AllSymbols[key]);return result};USE_NATIVE||(redefine(($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var tag=uid(arguments.length>0?arguments[0]:void 0),$set=function(value){this===ObjectProto&&$set.call(OPSymbols,value),has(this,HIDDEN)&&has(this[HIDDEN],tag)&&(this[HIDDEN][tag]=!1),setSymbolDesc(this,tag,createDesc(1,value))};return DESCRIPTORS&&setter&&setSymbolDesc(ObjectProto,tag,{configurable:!0,set:$set}),wrap(tag)}).prototype,"toString",function(){return this._k}),$GOPD.f=$getOwnPropertyDescriptor,$DP.f=$defineProperty,__webpack_require__(358).f=gOPNExt.f=$getOwnPropertyNames,__webpack_require__(130).f=$propertyIsEnumerable,$GOPS.f=$getOwnPropertySymbols,DESCRIPTORS&&!__webpack_require__(125)&&redefine(ObjectProto,"propertyIsEnumerable",$propertyIsEnumerable,!0),wksExt.f=function(name){return wrap(wks(name))}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Symbol:$Symbol});for(var es6Symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),j=0;es6Symbols.length>j;)wks(es6Symbols[j++]);for(var wellKnownSymbols=$keys(wks.store),k=0;wellKnownSymbols.length>k;)wksDefine(wellKnownSymbols[k++]);$export($export.S+$export.F*!USE_NATIVE,"Symbol",{for:function(key){return has(SymbolRegistry,key+="")?SymbolRegistry[key]:SymbolRegistry[key]=$Symbol(key)},keyFor:function(sym){if(!isSymbol(sym))throw TypeError(sym+" is not a symbol!");for(var key in SymbolRegistry)if(SymbolRegistry[key]===sym)return key},useSetter:function(){setter=!0},useSimple:function(){setter=!1}}),$export($export.S+$export.F*!USE_NATIVE,"Object",{create:function(it,P){return void 0===P?_create(it):$defineProperties(_create(it),P)},defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols});var FAILS_ON_PRIMITIVES=$fails(function(){$GOPS.f(1)});$export($export.S+$export.F*FAILS_ON_PRIMITIVES,"Object",{getOwnPropertySymbols:function(it){return $GOPS.f(toObject(it))}}),$JSON&&$export($export.S+$export.F*(!USE_NATIVE||$fails(function(){var S=$Symbol();return"[null]"!=_stringify([S])||"{}"!=_stringify({a:S})||"{}"!=_stringify(Object(S))})),"JSON",{stringify:function(it){for(var replacer,$replacer,args=[it],i=1;arguments.length>i;)args.push(arguments[i++]);if($replacer=replacer=args[1],(isObject(replacer)||void 0!==it)&&!isSymbol(it))return isArray(replacer)||(replacer=function(key,value){if("function"==typeof $replacer&&(value=$replacer.call(this,key,value)),!isSymbol(value))return value}),args[1]=replacer,_stringify.apply($JSON,args)}}),$Symbol.prototype[TO_PRIMITIVE]||__webpack_require__(70)($Symbol.prototype,TO_PRIMITIVE,$Symbol.prototype.valueOf),setToStringTag($Symbol,"Symbol"),setToStringTag(Math,"Math",!0),setToStringTag(global.JSON,"JSON",!0)},function(module,exports,__webpack_require__){var getKeys=__webpack_require__(105),gOPS=__webpack_require__(235),pIE=__webpack_require__(130);module.exports=function(it){var result=getKeys(it),getSymbols=gOPS.f;if(getSymbols)for(var key,symbols=getSymbols(it),isEnum=pIE.f,i=0;symbols.length>i;)isEnum.call(it,key=symbols[i++])&&result.push(key);return result}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(71),gOPN=__webpack_require__(358).f,toString={}.toString,windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];module.exports.f=function(it){return windowNames&&"[object Window]"==toString.call(it)?function(it){try{return gOPN(it)}catch(e){return windowNames.slice()}}(it):gOPN(toIObject(it))}},function(module,exports,__webpack_require__){__webpack_require__(237)("asyncIterator")},function(module,exports,__webpack_require__){__webpack_require__(237)("observable")},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(662),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(663),module.exports=__webpack_require__(9).Object.setPrototypeOf},function(module,exports,__webpack_require__){var $export=__webpack_require__(16);$export($export.S,"Object",{setPrototypeOf:__webpack_require__(664).set})},function(module,exports,__webpack_require__){var isObject=__webpack_require__(37),anObject=__webpack_require__(49),check=function(O,proto){if(anObject(O),!isObject(proto)&&null!==proto)throw TypeError(proto+": can't set as prototype!")};module.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(test,buggy,set){try{(set=__webpack_require__(60)(Function.call,__webpack_require__(238).f(Object.prototype,"__proto__").set,2))(test,[]),buggy=!(test instanceof Array)}catch(e){buggy=!0}return function(O,proto){return check(O,proto),buggy?O.__proto__=proto:set(O,proto),O}}({},!1):void 0),check:check}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(666),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(667);var $Object=__webpack_require__(9).Object;module.exports=function(P,D){return $Object.create(P,D)}},function(module,exports,__webpack_require__){var $export=__webpack_require__(16);$export($export.S,"Object",{create:__webpack_require__(166)})},function(module,exports,__webpack_require__){__webpack_require__(669);var $Object=__webpack_require__(9).Object;module.exports=function(it,key,desc){return $Object.defineProperty(it,key,desc)}},function(module,exports,__webpack_require__){var $export=__webpack_require__(16);$export($export.S+$export.F*!__webpack_require__(28),"Object",{defineProperty:__webpack_require__(44).f})},,function(module,exports,__webpack_require__){__webpack_require__(672),module.exports=__webpack_require__(9).Object.keys},function(module,exports,__webpack_require__){var toObject=__webpack_require__(86),$keys=__webpack_require__(105);__webpack_require__(170)("keys",function(){return function(it){return $keys(toObject(it))}})},,,,,,,,,,,function(module,exports,__webpack_require__){const Document=__webpack_require__(38),probableLoginFieldNames=["login","identifier","new_identifier","email"];class Account extends Document{static getAccountName(account){return account?account.auth&&(account.auth.accountName||this.getAccountLogin(account))||account._id:null}static getAccountLogin(account){if(account&&account.auth)for(const fieldName of probableLoginFieldNames)if(account.auth[fieldName])return account.auth[fieldName]}}Account.schema={doctype:"io.cozy.accounts",attributes:{},relationships:{master:{type:"has-one",doctype:"io.cozy.accounts"}}},Account.probableLoginFieldNames=probableLoginFieldNames,module.exports=Account},function(module,exports,__webpack_require__){const PromisePool=__webpack_require__(474);module.exports={parallelMap:(iterable,fn,concurrency)=>{const res=[];return new PromisePool(function*(){for(let item of iterable)yield fn(item).then(x=>res.push(x))},concurrency=concurrency||30).start().then(()=>res)}}},function(module,exports,__webpack_require__){__webpack_require__(686),module.exports=__webpack_require__(9).Object.entries},function(module,exports,__webpack_require__){var $export=__webpack_require__(16),$entries=__webpack_require__(360)(!0);$export($export.S,"Object",{entries:function(it){return $entries(it)}})},function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var obj,_from=__webpack_require__(224),_from2=(obj=_from)&&obj.__esModule?obj:{default:obj};exports.default=function(arr){return Array.isArray(arr)?arr:(0,_from2.default)(arr)}},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(689),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(106),__webpack_require__(83),module.exports=__webpack_require__(690)},function(module,exports,__webpack_require__){var classof=__webpack_require__(169),ITERATOR=__webpack_require__(25)("iterator"),Iterators=__webpack_require__(104);module.exports=__webpack_require__(9).isIterable=function(it){var O=Object(it);return void 0!==O[ITERATOR]||"@@iterator"in O||Iterators.hasOwnProperty(classof(O))}},function(module,exports,__webpack_require__){__webpack_require__(106),__webpack_require__(83),module.exports=__webpack_require__(692)},function(module,exports,__webpack_require__){var anObject=__webpack_require__(49),get=__webpack_require__(234);module.exports=__webpack_require__(9).getIterator=function(it){var iterFn=get(it);if("function"!=typeof iterFn)throw TypeError(it+" is not iterable!");return anObject(iterFn.call(it))}},function(module,exports,__webpack_require__){__webpack_require__(172),__webpack_require__(83),__webpack_require__(106),__webpack_require__(694),__webpack_require__(698),__webpack_require__(699),module.exports=__webpack_require__(9).Promise},function(module,exports,__webpack_require__){"use strict";var Internal,newGenericPromiseCapability,OwnPromiseCapability,Wrapper,LIBRARY=__webpack_require__(125),global=__webpack_require__(24),ctx=__webpack_require__(60),classof=__webpack_require__(169),$export=__webpack_require__(16),isObject=__webpack_require__(37),aFunction=__webpack_require__(126),anInstance=__webpack_require__(239),forOf=__webpack_require__(131),speciesConstructor=__webpack_require__(361),task=__webpack_require__(362).set,microtask=__webpack_require__(696)(),newPromiseCapabilityModule=__webpack_require__(240),perform=__webpack_require__(363),userAgent=__webpack_require__(697),promiseResolve=__webpack_require__(364),TypeError=global.TypeError,process=global.process,versions=process&&process.versions,v8=versions&&versions.v8||"",$Promise=global.Promise,isNode="process"==classof(process),empty=function(){},newPromiseCapability=newGenericPromiseCapability=newPromiseCapabilityModule.f,USE_NATIVE=!!function(){try{var promise=$Promise.resolve(1),FakePromise=(promise.constructor={})[__webpack_require__(25)("species")]=function(exec){exec(empty,empty)};return(isNode||"function"==typeof PromiseRejectionEvent)&&promise.then(empty)instanceof FakePromise&&0!==v8.indexOf("6.6")&&-1===userAgent.indexOf("Chrome/66")}catch(e){}}(),isThenable=function(it){var then;return!(!isObject(it)||"function"!=typeof(then=it.then))&&then},notify=function(promise,isReject){if(!promise._n){promise._n=!0;var chain=promise._c;microtask(function(){for(var value=promise._v,ok=1==promise._s,i=0,run=function(reaction){var result,then,exited,handler=ok?reaction.ok:reaction.fail,resolve=reaction.resolve,reject=reaction.reject,domain=reaction.domain;try{handler?(ok||(2==promise._h&&onHandleUnhandled(promise),promise._h=1),!0===handler?result=value:(domain&&domain.enter(),result=handler(value),domain&&(domain.exit(),exited=!0)),result===reaction.promise?reject(TypeError("Promise-chain cycle")):(then=isThenable(result))?then.call(result,resolve,reject):resolve(result)):reject(value)}catch(e){domain&&!exited&&domain.exit(),reject(e)}};chain.length>i;)run(chain[i++]);promise._c=[],promise._n=!1,isReject&&!promise._h&&onUnhandled(promise)})}},onUnhandled=function(promise){task.call(global,function(){var result,handler,console,value=promise._v,unhandled=isUnhandled(promise);if(unhandled&&(result=perform(function(){isNode?process.emit("unhandledRejection",value,promise):(handler=global.onunhandledrejection)?handler({promise:promise,reason:value}):(console=global.console)&&console.error&&console.error("Unhandled promise rejection",value)}),promise._h=isNode||isUnhandled(promise)?2:1),promise._a=void 0,unhandled&&result.e)throw result.v})},isUnhandled=function(promise){return 1!==promise._h&&0===(promise._a||promise._c).length},onHandleUnhandled=function(promise){task.call(global,function(){var handler;isNode?process.emit("rejectionHandled",promise):(handler=global.onrejectionhandled)&&handler({promise:promise,reason:promise._v})})},$reject=function(value){var promise=this;promise._d||(promise._d=!0,(promise=promise._w||promise)._v=value,promise._s=2,promise._a||(promise._a=promise._c.slice()),notify(promise,!0))},$resolve=function(value){var then,promise=this;if(!promise._d){promise._d=!0,promise=promise._w||promise;try{if(promise===value)throw TypeError("Promise can't be resolved itself");(then=isThenable(value))?microtask(function(){var wrapper={_w:promise,_d:!1};try{then.call(value,ctx($resolve,wrapper,1),ctx($reject,wrapper,1))}catch(e){$reject.call(wrapper,e)}}):(promise._v=value,promise._s=1,notify(promise,!1))}catch(e){$reject.call({_w:promise,_d:!1},e)}}};USE_NATIVE||($Promise=function(executor){anInstance(this,$Promise,"Promise","_h"),aFunction(executor),Internal.call(this);try{executor(ctx($resolve,this,1),ctx($reject,this,1))}catch(err){$reject.call(this,err)}},(Internal=function(executor){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=__webpack_require__(241)($Promise.prototype,{then:function(onFulfilled,onRejected){var reaction=newPromiseCapability(speciesConstructor(this,$Promise));return reaction.ok="function"!=typeof onFulfilled||onFulfilled,reaction.fail="function"==typeof onRejected&&onRejected,reaction.domain=isNode?process.domain:void 0,this._c.push(reaction),this._a&&this._a.push(reaction),this._s&&notify(this,!1),reaction.promise},catch:function(onRejected){return this.then(void 0,onRejected)}}),OwnPromiseCapability=function(){var promise=new Internal;this.promise=promise,this.resolve=ctx($resolve,promise,1),this.reject=ctx($reject,promise,1)},newPromiseCapabilityModule.f=newPromiseCapability=function(C){return C===$Promise||C===Wrapper?new OwnPromiseCapability(C):newGenericPromiseCapability(C)}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Promise:$Promise}),__webpack_require__(129)($Promise,"Promise"),__webpack_require__(365)("Promise"),Wrapper=__webpack_require__(9).Promise,$export($export.S+$export.F*!USE_NATIVE,"Promise",{reject:function(r){var capability=newPromiseCapability(this);return(0,capability.reject)(r),capability.promise}}),$export($export.S+$export.F*(LIBRARY||!USE_NATIVE),"Promise",{resolve:function(x){return promiseResolve(LIBRARY&&this===Wrapper?$Promise:this,x)}}),$export($export.S+$export.F*!(USE_NATIVE&&__webpack_require__(354)(function(iter){$Promise.all(iter).catch(empty)})),"Promise",{all:function(iterable){var C=this,capability=newPromiseCapability(C),resolve=capability.resolve,reject=capability.reject,result=perform(function(){var values=[],index=0,remaining=1;forOf(iterable,!1,function(promise){var $index=index++,alreadyCalled=!1;values.push(void 0),remaining++,C.resolve(promise).then(function(value){alreadyCalled||(alreadyCalled=!0,values[$index]=value,--remaining||resolve(values))},reject)}),--remaining||resolve(values)});return result.e&&reject(result.v),capability.promise},race:function(iterable){var C=this,capability=newPromiseCapability(C),reject=capability.reject,result=perform(function(){forOf(iterable,!1,function(promise){C.resolve(promise).then(capability.resolve,reject)})});return result.e&&reject(result.v),capability.promise}})},function(module,exports){module.exports=function(fn,args,that){var un=void 0===that;switch(args.length){case 0:return un?fn():fn.call(that);case 1:return un?fn(args[0]):fn.call(that,args[0]);case 2:return un?fn(args[0],args[1]):fn.call(that,args[0],args[1]);case 3:return un?fn(args[0],args[1],args[2]):fn.call(that,args[0],args[1],args[2]);case 4:return un?fn(args[0],args[1],args[2],args[3]):fn.call(that,args[0],args[1],args[2],args[3])}return fn.apply(that,args)}},function(module,exports,__webpack_require__){var global=__webpack_require__(24),macrotask=__webpack_require__(362).set,Observer=global.MutationObserver||global.WebKitMutationObserver,process=global.process,Promise=global.Promise,isNode="process"==__webpack_require__(128)(process);module.exports=function(){var head,last,notify,flush=function(){var parent,fn;for(isNode&&(parent=process.domain)&&parent.exit();head;){fn=head.fn,head=head.next;try{fn()}catch(e){throw head?notify():last=void 0,e}}last=void 0,parent&&parent.enter()};if(isNode)notify=function(){process.nextTick(flush)};else if(!Observer||global.navigator&&global.navigator.standalone)if(Promise&&Promise.resolve){var promise=Promise.resolve(void 0);notify=function(){promise.then(flush)}}else notify=function(){macrotask.call(global,flush)};else{var toggle=!0,node=document.createTextNode("");new Observer(flush).observe(node,{characterData:!0}),notify=function(){node.data=toggle=!toggle}}return function(fn){var task={fn:fn,next:void 0};last&&(last.next=task),head||(head=task,notify()),last=task}}},function(module,exports,__webpack_require__){var navigator=__webpack_require__(24).navigator;module.exports=navigator&&navigator.userAgent||""},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(16),core=__webpack_require__(9),global=__webpack_require__(24),speciesConstructor=__webpack_require__(361),promiseResolve=__webpack_require__(364);$export($export.P+$export.R,"Promise",{finally:function(onFinally){var C=speciesConstructor(this,core.Promise||global.Promise),isFunction="function"==typeof onFinally;return this.then(isFunction?function(x){return promiseResolve(C,onFinally()).then(function(){return x})}:onFinally,isFunction?function(e){return promiseResolve(C,onFinally()).then(function(){throw e})}:onFinally)}})},function(module,exports,__webpack_require__){"use strict";var $export=__webpack_require__(16),newPromiseCapability=__webpack_require__(240),perform=__webpack_require__(363);$export($export.S,"Promise",{try:function(callbackfn){var promiseCapability=newPromiseCapability.f(this),result=perform(callbackfn);return(result.e?promiseCapability.reject:promiseCapability.resolve)(result.v),promiseCapability.promise}})},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(701),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(172),__webpack_require__(83),__webpack_require__(106),__webpack_require__(702),__webpack_require__(706),__webpack_require__(708),__webpack_require__(709),module.exports=__webpack_require__(9).Map},function(module,exports,__webpack_require__){"use strict";var strong=__webpack_require__(366),validate=__webpack_require__(242);module.exports=__webpack_require__(367)("Map",function(get){return function(){return get(this,arguments.length>0?arguments[0]:void 0)}},{get:function(key){var entry=strong.getEntry(validate(this,"Map"),key);return entry&&entry.v},set:function(key,value){return strong.def(validate(this,"Map"),0===key?0:key,value)}},strong,!0)},function(module,exports,__webpack_require__){var ctx=__webpack_require__(60),IObject=__webpack_require__(230),toObject=__webpack_require__(86),toLength=__webpack_require__(167),asc=__webpack_require__(704);module.exports=function(TYPE,$create){var IS_MAP=1==TYPE,IS_FILTER=2==TYPE,IS_SOME=3==TYPE,IS_EVERY=4==TYPE,IS_FIND_INDEX=6==TYPE,NO_HOLES=5==TYPE||IS_FIND_INDEX,create=$create||asc;return function($this,callbackfn,that){for(var val,res,O=toObject($this),self=IObject(O),f=ctx(callbackfn,that,3),length=toLength(self.length),index=0,result=IS_MAP?create($this,length):IS_FILTER?create($this,0):void 0;length>index;index++)if((NO_HOLES||index in self)&&(res=f(val=self[index],index,O),TYPE))if(IS_MAP)result[index]=res;else if(res)switch(TYPE){case 3:return!0;case 5:return val;case 6:return index;case 2:result.push(val)}else if(IS_EVERY)return!1;return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:result}}},function(module,exports,__webpack_require__){var speciesConstructor=__webpack_require__(705);module.exports=function(original,length){return new(speciesConstructor(original))(length)}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(37),isArray=__webpack_require__(357),SPECIES=__webpack_require__(25)("species");module.exports=function(original){var C;return isArray(original)&&("function"!=typeof(C=original.constructor)||C!==Array&&!isArray(C.prototype)||(C=void 0),isObject(C)&&null===(C=C[SPECIES])&&(C=void 0)),void 0===C?Array:C}},function(module,exports,__webpack_require__){var $export=__webpack_require__(16);$export($export.P+$export.R,"Map",{toJSON:__webpack_require__(368)("Map")})},function(module,exports,__webpack_require__){var forOf=__webpack_require__(131);module.exports=function(iter,ITERATOR){var result=[];return forOf(iter,!1,result.push,result,ITERATOR),result}},function(module,exports,__webpack_require__){__webpack_require__(369)("Map")},function(module,exports,__webpack_require__){__webpack_require__(370)("Map")},function(module,exports,__webpack_require__){__webpack_require__(711),module.exports=__webpack_require__(9).Object.values},function(module,exports,__webpack_require__){var $export=__webpack_require__(16),$values=__webpack_require__(360)(!1);$export($export.S,"Object",{values:function(it){return $values(it)}})},function(module,exports,__webpack_require__){var core=__webpack_require__(9),$JSON=core.JSON||(core.JSON={stringify:JSON.stringify});module.exports=function(it){return $JSON.stringify.apply($JSON,arguments)}},function(module,exports,__webpack_require__){var baseSet=__webpack_require__(338);module.exports=function(object,path,value){return null==object?object:baseSet(object,path,value)}},function(module,exports,__webpack_require__){var baseFlatten=__webpack_require__(116),baseRest=__webpack_require__(63),baseUniq=__webpack_require__(165),isArrayLikeObject=__webpack_require__(124),union=baseRest(function(arrays){return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0))});module.exports=union},function(module,exports,__webpack_require__){var SetCache=__webpack_require__(161),arrayIncludes=__webpack_require__(189),arrayIncludesWith=__webpack_require__(218),arrayMap=__webpack_require__(36),baseUnary=__webpack_require__(91),cacheHas=__webpack_require__(162),LARGE_ARRAY_SIZE=200;module.exports=function(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=!0,length=array.length,result=[],valuesLength=values.length;if(!length)return result;iteratee&&(values=arrayMap(values,baseUnary(iteratee))),comparator?(includes=arrayIncludesWith,isCommon=!1):values.length>=LARGE_ARRAY_SIZE&&(includes=cacheHas,isCommon=!1,values=new SetCache(values));outer:for(;++index<length;){var value=array[index],computed=null==iteratee?value:iteratee(value);if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var valuesIndex=valuesLength;valuesIndex--;)if(values[valuesIndex]===computed)continue outer;result.push(value)}else includes(values,computed,comparator)||result.push(value)}return result}},function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(36),baseIntersection=__webpack_require__(376),baseRest=__webpack_require__(63),castArrayLikeObject=__webpack_require__(377),intersection=baseRest(function(arrays){var mapped=arrayMap(arrays,castArrayLikeObject);return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped):[]});module.exports=intersection},function(module,exports,__webpack_require__){!function(){"use strict";function isFunction(value){return"function"==typeof value}function isArray(value){return"[object Array]"===Object.prototype.toString.call(value)}function comparable(value){return value instanceof Date?value.getTime():isArray(value)?value.map(comparable):value&&"function"==typeof value.toJSON?value.toJSON():value}function get(obj,key){return isFunction(obj.get)?obj.get(key):obj[key]}function or(validator){return function(a,b){if(!isArray(b)||!b.length)return validator(a,b);for(var i=0,n=b.length;i<n;i++)if(validator(a,get(b,i)))return!0;return!1}}function validate(validator,b,k,o){return validator.v(validator.a,b,k,o)}var validator,OPERATORS={$eq:or(function(a,b){return a(b)}),$ne:(validator=function(a,b){return!a(b)},function(a,b){if(!isArray(b)||!b.length)return validator(a,b);for(var i=0,n=b.length;i<n;i++)if(!validator(a,get(b,i)))return!1;return!0}),$gt:or(function(a,b){return sift.compare(comparable(b),a)>0}),$gte:or(function(a,b){return sift.compare(comparable(b),a)>=0}),$lt:or(function(a,b){return sift.compare(comparable(b),a)<0}),$lte:or(function(a,b){return sift.compare(comparable(b),a)<=0}),$mod:or(function(a,b){return b%a[0]==a[1]}),$in:function(a,b){if(!(b instanceof Array)){var comparableB=comparable(b);if(comparableB===b&&"object"==typeof b)for(i=a.length;i--;)if(String(a[i])===String(b)&&"[object Object]"!==String(b))return!0;if(void 0===comparableB)for(i=a.length;i--;)if(null==a[i])return!0;for(i=a.length;i--;){var result=validate(createRootValidator(get(a,i),void 0),b,i,a);if(result&&"[object Object]"!==String(result)&&"[object Object]"!==String(b))return!0}return!!~a.indexOf(comparableB)}for(var i=b.length;i--;)if(~a.indexOf(comparable(get(b,i))))return!0;return!1},$nin:function(a,b,k,o){return!OPERATORS.$in(a,b,k,o)},$not:function(a,b,k,o){return!validate(a,b,k,o)},$type:function(a,b){return null!=b&&(b instanceof a||b.constructor==a)},$all:function(a,b,k,o){return OPERATORS.$and(a,b,k,o)},$size:function(a,b){return!!b&&a===b.length},$or:function(a,b,k,o){for(var i=0,n=a.length;i<n;i++)if(validate(get(a,i),b,k,o))return!0;return!1},$nor:function(a,b,k,o){return!OPERATORS.$or(a,b,k,o)},$and:function(a,b,k,o){for(var i=0,n=a.length;i<n;i++)if(!validate(get(a,i),b,k,o))return!1;return!0},$regex:or(function(a,b){return"string"==typeof b&&a.test(b)}),$where:function(a,b,k,o){return a.call(b,b,k,o)},$elemMatch:function(a,b,k,o){return isArray(b)?!!~search(b,a):validate(a,b,k,o)},$exists:function(a,b,k,o){return o.hasOwnProperty(k)===a}},prepare={$eq:function(a){return a instanceof RegExp?function(b){return"string"==typeof b&&a.test(b)}:a instanceof Function?a:isArray(a)&&!a.length?function(b){return isArray(b)&&!b.length}:null===a?function(b){return null==b}:function(b){return 0===sift.compare(comparable(b),a)}},$ne:function(a){return prepare.$eq(a)},$and:function(a){return a.map(parse)},$all:function(a){return prepare.$and(a)},$or:function(a){return a.map(parse)},$nor:function(a){return a.map(parse)},$not:function(a){return parse(a)},$regex:function(a,query){return new RegExp(a,query.$options)},$where:function(a){return"string"==typeof a?new Function("obj","return "+a):a},$elemMatch:function(a){return parse(a)},$exists:function(a){return!!a}};function search(array,validator){for(var i=0;i<array.length;i++){get(array,i);if(validate(validator,get(array,i)))return i}return-1}function createValidator(a,validate){return{a:a,v:validate}}function nestedValidator(a,b){var values=[];if(function findValues(current,keypath,index,object,values){if(index===keypath.length||null==current)return void values.push([current,keypath[index-1],object]);var k=get(keypath,index);if(isArray(current)&&isNaN(Number(k)))for(var i=0,n=current.length;i<n;i++)findValues(get(current,i),keypath,index,current,values);else findValues(get(current,k),keypath,index+1,current,values)}(b,a.k,0,b,values),1===values.length){var first=values[0];return validate(a.nv,first[0],first[1],first[2])}for(var inclusive=a&&a.q&&void 0!==a.q.$ne,allValid=inclusive,i=0;i<values.length;i++){var result=values[i],isValid=validate(a.nv,result[0],result[1],result[2]);inclusive?allValid&=isValid:allValid|=isValid}return allValid}function createNestedValidator(keypath,a,q){return{a:{k:keypath,nv:a,q:q},v:nestedValidator}}function parse(query){var value;(query=comparable(query))&&((value=query)&&value.constructor===Object)||(query={$eq:query});var validators=[];for(var key in query){var a=query[key];if("$options"!==key)if(OPERATORS[key])prepare[key]&&(a=prepare[key](a,query)),validators.push(createValidator(comparable(a),OPERATORS[key]));else{if(36===key.charCodeAt(0))throw new Error("Unknown operation "+key);validators.push(createNestedValidator(key.split("."),parse(a),a))}}return 1===validators.length?validators[0]:createValidator(validators,OPERATORS.$and)}function createRootValidator(query,getter){var validator=parse(query);return getter&&(validator={a:validator,v:function(a,b,k,o){return validate(a,getter(b),k,o)}}),validator}function sift(query,array,getter){isFunction(array)&&(getter=array,array=void 0);var validator=createRootValidator(query,getter);function filter(b,k,o){return validate(validator,b,k,o)}return array?array.filter(filter):filter}sift.use=function(plugin){if(isFunction(plugin))return plugin(sift);for(var key in plugin)36===key.charCodeAt(0)&&(OPERATORS[key]=plugin[key])},sift.indexOf=function(query,array,getter){return search(array,createRootValidator(query,getter))},sift.compare=function(a,b){if(a===b)return 0;if(typeof a==typeof b){if(a>b)return 1;if(a<b)return-1}},void 0!==module.exports&&(Object.defineProperty(exports,"__esModule",{value:!0}),module.exports=sift,exports.default=module.exports.default=sift),"undefined"!=typeof window&&(window.sift=sift)}()},function(module,exports){module.exports=function(originalModule){if(!originalModule.webpackPolyfill){var module=Object.create(originalModule);module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),Object.defineProperty(module,"exports",{enumerable:!0}),module.webpackPolyfill=1}return module}},function(module,__webpack_exports__,__webpack_require__){"use strict";function createThunkMiddleware(extraArgument){return function(_ref){var dispatch=_ref.dispatch,getState=_ref.getState;return function(next){return function(action){return"function"==typeof action?action(dispatch,getState,extraArgument):next(action)}}}}__webpack_require__.r(__webpack_exports__);var thunk=createThunkMiddleware();thunk.withExtraArgument=createThunkMiddleware,__webpack_exports__.default=thunk},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(721),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(722);var $Object=__webpack_require__(9).Object;module.exports=function(it,key){return $Object.getOwnPropertyDescriptor(it,key)}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(71),$getOwnPropertyDescriptor=__webpack_require__(238).f;__webpack_require__(170)("getOwnPropertyDescriptor",function(){return function(it,key){return $getOwnPropertyDescriptor(toIObject(it),key)}})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _getPrototypeOf2=_interopRequireDefault(__webpack_require__(4)),_classCallCheck3=_interopRequireDefault(__webpack_require__(1)),_createClass3=_interopRequireDefault(__webpack_require__(2)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(6)),_get3=_interopRequireDefault(__webpack_require__(177)),_inherits3=_interopRequireDefault(__webpack_require__(7)),_HasMany3=_interopRequireDefault(__webpack_require__(176));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var HasManyTriggers=function(_HasMany){function HasManyTriggers(){return(0,_classCallCheck3.default)(this,HasManyTriggers),(0,_possibleConstructorReturn3.default)(this,(HasManyTriggers.__proto__||(0,_getPrototypeOf2.default)(HasManyTriggers)).apply(this,arguments))}return(0,_inherits3.default)(HasManyTriggers,_HasMany),(0,_createClass3.default)(HasManyTriggers,[{key:"data",get:function(){var _this2=this;return(0,_get3.default)(HasManyTriggers.prototype.__proto__||(0,_getPrototypeOf2.default)(HasManyTriggers.prototype),"data",this).filter(function(_ref){return _ref.slug===_this2.target.slug})}}],[{key:"query",value:function(doc,client){return client.all("io.cozy.triggers").where({worker:"konnector"})}}]),HasManyTriggers}(_HasMany3.default);exports.default=HasManyTriggers},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _CozyStackClient=__webpack_require__(382);Object.defineProperty(exports,"default",{enumerable:!0,get:function(){return _interopRequireDefault(_CozyStackClient).default}});var _OAuthClient=__webpack_require__(753);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"OAuthClient",{enumerable:!0,get:function(){return _interopRequireDefault(_OAuthClient).default}})},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(726),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(172),__webpack_require__(83),__webpack_require__(106),__webpack_require__(727),__webpack_require__(728),__webpack_require__(729),__webpack_require__(730),module.exports=__webpack_require__(9).Set},function(module,exports,__webpack_require__){"use strict";var strong=__webpack_require__(366),validate=__webpack_require__(242);module.exports=__webpack_require__(367)("Set",function(get){return function(){return get(this,arguments.length>0?arguments[0]:void 0)}},{add:function(value){return strong.def(validate(this,"Set"),value=0===value?0:value,value)}},strong)},function(module,exports,__webpack_require__){var $export=__webpack_require__(16);$export($export.P+$export.R,"Set",{toJSON:__webpack_require__(368)("Set")})},function(module,exports,__webpack_require__){__webpack_require__(369)("Set")},function(module,exports,__webpack_require__){__webpack_require__(370)("Set")},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(732),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(733);var $Object=__webpack_require__(9).Object;module.exports=function(T,D){return $Object.defineProperties(T,D)}},function(module,exports,__webpack_require__){var $export=__webpack_require__(16);$export($export.S+$export.F*!__webpack_require__(28),"Object",{defineProperties:__webpack_require__(348)})},function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(735),__esModule:!0}},function(module,exports,__webpack_require__){__webpack_require__(736),module.exports=__webpack_require__(9).Object.freeze},function(module,exports,__webpack_require__){var isObject=__webpack_require__(37),meta=__webpack_require__(171).onFreeze;__webpack_require__(170)("freeze",function($freeze){return function(it){return $freeze&&isObject(it)?$freeze(meta(it)):it}})},function(module,exports,__webpack_require__){var arrayEach=__webpack_require__(154),baseCreate=__webpack_require__(137),baseForOwn=__webpack_require__(209),baseIteratee=__webpack_require__(19),getPrototype=__webpack_require__(160),isArray=__webpack_require__(12),isBuffer=__webpack_require__(123),isFunction=__webpack_require__(118),isObject=__webpack_require__(27),isTypedArray=__webpack_require__(153);module.exports=function(object,iteratee,accumulator){var isArr=isArray(object),isArrLike=isArr||isBuffer(object)||isTypedArray(object);if(iteratee=baseIteratee(iteratee,4),null==accumulator){var Ctor=object&&object.constructor;accumulator=isArrLike?isArr?new Ctor:[]:isObject(object)&&isFunction(Ctor)?baseCreate(getPrototype(object)):{}}return(isArrLike?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)}),accumulator}},function(module,exports,__webpack_require__){var baseClamp=__webpack_require__(739),baseToString=__webpack_require__(216),toInteger=__webpack_require__(146),toString=__webpack_require__(81);module.exports=function(string,target,position){return string=toString(string),position=null==position?0:baseClamp(toInteger(position),0,string.length),target=baseToString(target),string.slice(position,position+target.length)==target}},function(module,exports){module.exports=function(number,lower,upper){return number==number&&(void 0!==upper&&(number=number<=upper?number:upper),void 0!==lower&&(number=number>=lower?number:lower)),number}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _classCallCheck3=_interopRequireDefault(__webpack_require__(1)),_createClass3=_interopRequireDefault(__webpack_require__(2));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AppToken=function(){function AppToken(token){(0,_classCallCheck3.default)(this,AppToken),this.token=token||""}return(0,_createClass3.default)(AppToken,[{key:"toAuthHeader",value:function(){return"Bearer "+this.token}},{key:"toBasicAuth",value:function(){return"user:"+this.token+"@"}},{key:"getAccessToken",value:function(){return this.token}}]),AppToken}();exports.default=AppToken},function(module,exports,__webpack_require__){"use strict";var Mime=__webpack_require__(742);module.exports=new Mime(__webpack_require__(743))},function(module,exports,__webpack_require__){"use strict";function Mime(){this._types=Object.create(null),this._extensions=Object.create(null);for(var i=0;i<arguments.length;i++)this.define(arguments[i]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}Mime.prototype.define=function(typeMap,force){for(var type in typeMap){var extensions=typeMap[type].map(function(t){return t.toLowerCase()});type=type.toLowerCase();for(var i=0;i<extensions.length;i++){if("*"!=(ext=extensions[i])[0]){if(!force&&ext in this._types)throw new Error('Attempt to change mapping for "'+ext+'" extension from "'+this._types[ext]+'" to "'+type+'". Pass `force=true` to allow this, otherwise remove "'+ext+'" from the list of extensions for "'+type+'".');this._types[ext]=type}}if(force||!this._extensions[type]){var ext=extensions[0];this._extensions[type]="*"!=ext[0]?ext:ext.substr(1)}}},Mime.prototype.getType=function(path){var last=(path=String(path)).replace(/^.*[\/\\]/,"").toLowerCase(),ext=last.replace(/^.*\./,"").toLowerCase(),hasPath=last.length<path.length;return(ext.length<last.length-1||!hasPath)&&this._types[ext]||null},Mime.prototype.getExtension=function(type){return(type=/^\s*([^;\s]*)/.test(type)&&RegExp.$1)&&this._extensions[type.toLowerCase()]||null},module.exports=Mime},function(module,exports){module.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomsvc+xml":["atomsvc"],"application/bdoc":["bdoc"],"application/ccxml+xml":["ccxml"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma","es"],"application/emma+xml":["emma"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-diff+xml":["xdf"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/ktx":["ktx"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}},function(module,exports,__webpack_require__){var baseHas=__webpack_require__(745),hasPath=__webpack_require__(336);module.exports=function(object,path){return null!=object&&hasPath(object,path,baseHas)}},function(module,exports){var hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=function(object,key){return null!=object&&hasOwnProperty.call(object,key)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.KONNECTORS_DOCTYPE=void 0;var _stringify2=_interopRequireDefault(__webpack_require__(175)),_regenerator2=_interopRequireDefault(__webpack_require__(15)),_asyncToGenerator3=_interopRequireDefault(__webpack_require__(17)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(4)),_classCallCheck3=_interopRequireDefault(__webpack_require__(1)),_createClass3=_interopRequireDefault(__webpack_require__(2)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(6)),_inherits3=_interopRequireDefault(__webpack_require__(7)),_AppCollection3=_interopRequireDefault(__webpack_require__(383)),_TriggerCollection=__webpack_require__(386),_TriggerCollection2=_interopRequireDefault(_TriggerCollection),_DocumentCollection=__webpack_require__(62),_pick2=_interopRequireDefault(__webpack_require__(164));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var KONNECTORS_DOCTYPE=exports.KONNECTORS_DOCTYPE="io.cozy.konnectors",KonnectorCollection=function(_AppCollection){function KonnectorCollection(stackClient){(0,_classCallCheck3.default)(this,KonnectorCollection);var _this=(0,_possibleConstructorReturn3.default)(this,(KonnectorCollection.__proto__||(0,_getPrototypeOf2.default)(KonnectorCollection)).call(this,stackClient));return _this.doctype=KONNECTORS_DOCTYPE,_this.endpoint="/konnectors/",_this}var _ref6,_ref5,_ref3,_ref2,_ref;return(0,_inherits3.default)(KonnectorCollection,_AppCollection),(0,_createClass3.default)(KonnectorCollection,[{key:"create",value:(_ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:throw new Error("create() method is not available for konnectors");case 1:case"end":return _context.stop()}},_callee,this)})),function(){return _ref.apply(this,arguments)})},{key:"destroy",value:(_ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:throw new Error("destroy() method is not available for konnectors");case 1:case"end":return _context2.stop()}},_callee2,this)})),function(){return _ref2.apply(this,arguments)})},{key:"findTriggersBySlug",value:(_ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(slug){var triggerCol,_ref4,rawTriggers;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return triggerCol=new _TriggerCollection2.default(this.stackClient),_context3.next=3,triggerCol.all({limit:null});case 3:return _ref4=_context3.sent,rawTriggers=_ref4.data,_context3.abrupt("return",rawTriggers.map(function(x){return x.attributes}).filter(function(triggerAttrs){return(0,_TriggerCollection.isForKonnector)(triggerAttrs,slug)}));case 6:case"end":return _context3.stop()}},_callee3,this)})),function(_x){return _ref3.apply(this,arguments)})},{key:"launch",value:(_ref5=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(slug){var triggerCol,konnTriggers,filteredTriggers,filterAttrs,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return triggerCol=new _TriggerCollection2.default(this.stackClient),_context4.next=3,this.findTriggersBySlug(slug);case 3:if(konnTriggers=_context4.sent,1!==(filteredTriggers=options.accountId?konnTriggers.filter(function(triggerAttrs){return(0,_TriggerCollection.isForAccount)(triggerAttrs,options.accountId)}):konnTriggers).length){_context4.next=9;break}return _context4.abrupt("return",triggerCol.launch(konnTriggers[0]));case 9:if(filterAttrs=(0,_stringify2.default)((0,_pick2.default)({slug:slug,accountId:options.accountId})),0!==filteredTriggers.length){_context4.next=14;break}throw new Error("No trigger found for "+filterAttrs);case 14:if(!(filteredTriggers.length>1)){_context4.next=16;break}throw new Error("More than 1 trigger found for "+filterAttrs);case 16:case"end":return _context4.stop()}},_callee4,this)})),function(_x3){return _ref5.apply(this,arguments)})},{key:"update",value:(_ref6=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee5(slug){var source,sync,reqOptions,rawKonnector,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _regenerator2.default.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(slug){_context5.next=2;break}throw new Error("Cannot call update with no slug");case 2:return source=options.source||null,sync=options.sync||!1,reqOptions=sync?{headers:{Accept:"text/event-stream"}}:{},_context5.next=7,this.stackClient.fetchJSON("PUT","/konnectors/"+slug+(source?"?Source="+source:""),reqOptions);case 7:return rawKonnector=_context5.sent,_context5.abrupt("return",(0,_DocumentCollection.normalizeDoc)(rawKonnector));case 9:case"end":return _context5.stop()}},_callee5,this)})),function(_x5){return _ref6.apply(this,arguments)})}]),KonnectorCollection}(_AppCollection3.default);exports.default=KonnectorCollection},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _regenerator2=_interopRequireDefault(__webpack_require__(15)),_extends3=_interopRequireDefault(__webpack_require__(5)),_taggedTemplateLiteral3=_interopRequireDefault(__webpack_require__(108)),_asyncToGenerator3=_interopRequireDefault(__webpack_require__(17)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(4)),_classCallCheck3=_interopRequireDefault(__webpack_require__(1)),_createClass3=_interopRequireDefault(__webpack_require__(2)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(6)),_inherits3=_interopRequireDefault(__webpack_require__(7)),_templateObject=(0,_taggedTemplateLiteral3.default)(["/sharings/doctype/",""],["/sharings/doctype/",""]),_templateObject2=(0,_taggedTemplateLiteral3.default)(["/sharings/","/recipients"],["/sharings/","/recipients"]),_templateObject3=(0,_taggedTemplateLiteral3.default)(["/sharings/","/recipients/",""],["/sharings/","/recipients/",""]),_templateObject4=(0,_taggedTemplateLiteral3.default)(["/sharings/","/recipients/self"],["/sharings/","/recipients/self"]),_DocumentCollection2=__webpack_require__(62),_DocumentCollection3=_interopRequireDefault(_DocumentCollection2),_FileCollection=__webpack_require__(245),_utils=__webpack_require__(109);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var normalizeSharing=function(sharing){return(0,_DocumentCollection2.normalizeDoc)(sharing,"io.cozy.sharings")},SharingCollection=function(_DocumentCollection){function SharingCollection(){return(0,_classCallCheck3.default)(this,SharingCollection),(0,_possibleConstructorReturn3.default)(this,(SharingCollection.__proto__||(0,_getPrototypeOf2.default)(SharingCollection)).apply(this,arguments))}var _ref4,_ref2,_ref;return(0,_inherits3.default)(SharingCollection,_DocumentCollection),(0,_createClass3.default)(SharingCollection,[{key:"findByDoctype",value:(_ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(doctype){var resp;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.stackClient.fetchJSON("GET",(0,_utils.uri)(_templateObject,doctype));case 2:return resp=_context.sent,_context.abrupt("return",(0,_extends3.default)({},resp,{data:resp.data.map(normalizeSharing)}));case 4:case"end":return _context.stop()}},_callee,this)})),function(_x){return _ref.apply(this,arguments)})},{key:"share",value:(_ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(document,recipients,sharingType,description){var resp,previewPath=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.stackClient.fetchJSON("POST","/sharings/",{data:{type:"io.cozy.sharings",attributes:{description:description,preview_path:previewPath,open_sharing:"two-way"===sharingType,rules:getSharingRules(document,sharingType)},relationships:{recipients:{data:recipients.map(function(_ref3){return{id:_ref3._id,type:_ref3._type}})}}}});case 2:return resp=_context2.sent,_context2.abrupt("return",{data:normalizeSharing(resp.data)});case 4:case"end":return _context2.stop()}},_callee2,this)})),function(_x3,_x4,_x5,_x6){return _ref2.apply(this,arguments)})},{key:"getDiscoveryLink",value:function(sharingId,sharecode){return this.stackClient.fullpath("/sharings/"+sharingId+"/discovery?sharecode="+sharecode)}},{key:"addRecipients",value:(_ref4=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(sharing,recipients,sharingType){var recipientsPayload,resp;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return recipientsPayload={data:recipients.map(function(_ref5){return{id:_ref5._id,type:_ref5._type}})},_context3.next=3,this.stackClient.fetchJSON("POST",(0,_utils.uri)(_templateObject2,sharing._id),{data:{type:"io.cozy.sharings",id:sharing._id,relationships:"two-way"===sharingType?{recipients:recipientsPayload}:{read_only_recipients:recipientsPayload}}});case 3:return resp=_context3.sent,_context3.abrupt("return",{data:normalizeSharing(resp.data)});case 5:case"end":return _context3.stop()}},_callee3,this)})),function(_x7,_x8,_x9){return _ref4.apply(this,arguments)})},{key:"revokeRecipient",value:function(sharing,recipientIndex){return this.stackClient.fetchJSON("DELETE",(0,_utils.uri)(_templateObject3,sharing._id,recipientIndex))}},{key:"revokeSelf",value:function(sharing){return this.stackClient.fetchJSON("DELETE",(0,_utils.uri)(_templateObject4,sharing._id))}}]),SharingCollection}(_DocumentCollection3.default);SharingCollection.normalizeDoctype=_DocumentCollection3.default.normalizeDoctypeJsonApi;var getSharingRules=function(document,sharingType){var _id=document._id,_type=document._type;return(0,_FileCollection.isFile)(document)?[(0,_extends3.default)({title:document.name,doctype:"io.cozy.files",values:[_id]},getSharingPolicy(document,sharingType))]:[(0,_extends3.default)({title:"collection",doctype:_type,values:[_id]},getSharingPolicy(document,sharingType)),(0,_extends3.default)({title:"items",doctype:"io.cozy.files",values:[_type+"/"+_id],selector:"referenced_by"},"two-way"===sharingType?{add:"sync",update:"sync",remove:"sync"}:{add:"push",update:"none",remove:"push"})]},getSharingPolicy=function(document,sharingType){return(0,_FileCollection.isFile)(document)&&(0,_FileCollection.isDirectory)(document)?"two-way"===sharingType?{add:"sync",update:"sync",remove:"sync"}:{add:"push",update:"push",remove:"push"}:"two-way"===sharingType?{update:"sync",remove:"revoke"}:{update:"push",remove:"revoke"}};exports.default=SharingCollection},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _getIterator3=_interopRequireDefault(__webpack_require__(72)),_extends3=_interopRequireDefault(__webpack_require__(5)),_objectWithoutProperties3=_interopRequireDefault(__webpack_require__(89)),_regenerator2=_interopRequireDefault(__webpack_require__(15)),_taggedTemplateLiteral3=_interopRequireDefault(__webpack_require__(108)),_asyncToGenerator3=_interopRequireDefault(__webpack_require__(17)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(4)),_classCallCheck3=_interopRequireDefault(__webpack_require__(1)),_createClass3=_interopRequireDefault(__webpack_require__(2)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(6)),_inherits3=_interopRequireDefault(__webpack_require__(7)),_templateObject=(0,_taggedTemplateLiteral3.default)(["/permissions/",""],["/permissions/",""]),_templateObject2=(0,_taggedTemplateLiteral3.default)(["/permissions"],["/permissions"]),_templateObject3=(0,_taggedTemplateLiteral3.default)(["/permissions/doctype/","/shared-by-link"],["/permissions/doctype/","/shared-by-link"]),_DocumentCollection2=__webpack_require__(62),_DocumentCollection3=_interopRequireDefault(_DocumentCollection2),_FileCollection=__webpack_require__(245),_utils=__webpack_require__(109);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var normalizePermission=function(perm){return(0,_DocumentCollection2.normalizeDoc)(perm,"io.cozy.permissions")},PermissionCollection=function(_DocumentCollection){function PermissionCollection(){return(0,_classCallCheck3.default)(this,PermissionCollection),(0,_possibleConstructorReturn3.default)(this,(PermissionCollection.__proto__||(0,_getPrototypeOf2.default)(PermissionCollection)).apply(this,arguments))}var _ref9,_ref8,_ref7,_ref6,_ref5,_ref4,_ref3,_ref;return(0,_inherits3.default)(PermissionCollection,_DocumentCollection),(0,_createClass3.default)(PermissionCollection,[{key:"get",value:(_ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(id){var resp;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.stackClient.fetchJSON("GET",(0,_utils.uri)(_templateObject,id));case 2:return resp=_context.sent,_context.abrupt("return",{data:normalizePermission(resp.data)});case 4:case"end":return _context.stop()}},_callee,this)})),function(_x){return _ref.apply(this,arguments)})},{key:"create",value:(_ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(_ref2){_ref2._id,_ref2._type;var resp,attributes=(0,_objectWithoutProperties3.default)(_ref2,["_id","_type"]);return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.stackClient.fetchJSON("POST",(0,_utils.uri)(_templateObject2),{data:{type:"io.cozy.permissions",attributes:attributes}});case 2:return resp=_context2.sent,_context2.abrupt("return",{data:normalizePermission(resp.data)});case 4:case"end":return _context2.stop()}},_callee2,this)})),function(_x2){return _ref3.apply(this,arguments)})},{key:"add",value:(_ref4=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(document,permission){var endpoint,resp;return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:endpoint=void 0,_context3.t0=document._type,_context3.next="io.cozy.apps"===_context3.t0?4:"io.cozy.konnectors"===_context3.t0?6:"io.cozy.permissions"===_context3.t0?8:10;break;case 4:return endpoint="/permissions/apps/"+document.slug,_context3.abrupt("break",11);case 6:return endpoint="/permissions/konnectors/"+document.slug,_context3.abrupt("break",11);case 8:return endpoint="/permissions/"+document._id,_context3.abrupt("break",11);case 10:throw new Error("Permissions can only be added on existing permissions, apps and konnectors.");case 11:return _context3.next=13,this.stackClient.fetchJSON("PATCH",endpoint,{data:{type:"io.cozy.permissions",attributes:{permissions:permission}}});case 13:return resp=_context3.sent,_context3.abrupt("return",resp.data);case 15:case"end":return _context3.stop()}},_callee3,this)})),function(_x3,_x4){return _ref4.apply(this,arguments)})},{key:"destroy",value:function(permission){return this.stackClient.fetchJSON("DELETE",(0,_utils.uri)(_templateObject,permission.id))}},{key:"findLinksByDoctype",value:(_ref5=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(doctype){var resp;return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,this.stackClient.fetchJSON("GET",(0,_utils.uri)(_templateObject3,doctype));case 2:return resp=_context4.sent,_context4.abrupt("return",(0,_extends3.default)({},resp,{data:resp.data.map(normalizePermission)}));case 4:case"end":return _context4.stop()}},_callee4,this)})),function(_x5){return _ref5.apply(this,arguments)})},{key:"findApps",value:(_ref6=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee5(){var resp;return _regenerator2.default.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return _context5.next=2,this.stackClient.fetchJSON("GET","/apps/");case 2:return resp=_context5.sent,_context5.abrupt("return",(0,_extends3.default)({},resp,{data:resp.data.map(function(a){return(0,_extends3.default)({_id:a.id},a)})}));case 4:case"end":return _context5.stop()}},_callee5,this)})),function(){return _ref6.apply(this,arguments)})},{key:"createSharingLink",value:(_ref7=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee6(document){var resp;return _regenerator2.default.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,this.stackClient.fetchJSON("POST","/permissions?codes=email",{data:{type:"io.cozy.permissions",attributes:{permissions:getPermissionsFor(document,!0)}}});case 2:return resp=_context6.sent,_context6.abrupt("return",{data:normalizePermission(resp.data)});case 4:case"end":return _context6.stop()}},_callee6,this)})),function(_x6){return _ref7.apply(this,arguments)})},{key:"revokeSharingLink",value:(_ref8=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee7(document){var allLinks,links,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,perm;return _regenerator2.default.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return _context7.next=2,this.findLinksByDoctype(document._type);case 2:allLinks=_context7.sent,links=allLinks.data.filter(function(perm){return isPermissionRelatedTo(perm,document)}),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0,_context7.prev=7,_iterator=(0,_getIterator3.default)(links);case 9:if(_iteratorNormalCompletion=(_step=_iterator.next()).done){_context7.next=16;break}return perm=_step.value,_context7.next=13,this.destroy(perm);case 13:_iteratorNormalCompletion=!0,_context7.next=9;break;case 16:_context7.next=22;break;case 18:_context7.prev=18,_context7.t0=_context7.catch(7),_didIteratorError=!0,_iteratorError=_context7.t0;case 22:_context7.prev=22,_context7.prev=23,!_iteratorNormalCompletion&&_iterator.return&&_iterator.return();case 25:if(_context7.prev=25,!_didIteratorError){_context7.next=28;break}throw _iteratorError;case 28:return _context7.finish(25);case 29:return _context7.finish(22);case 30:case"end":return _context7.stop()}},_callee7,this,[[7,18,22,30],[23,,25,29]])})),function(_x7){return _ref8.apply(this,arguments)})},{key:"getOwnPermissions",value:(_ref9=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee8(){var resp;return _regenerator2.default.wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.next=2,this.stackClient.fetchJSON("GET","/permissions/self");case 2:return resp=_context8.sent,_context8.abrupt("return",{data:normalizePermission(resp.data)});case 4:case"end":return _context8.stop()}},_callee8,this)})),function(){return _ref9.apply(this,arguments)})}]),PermissionCollection}(_DocumentCollection3.default),getPermissionsFor=function(document){var publicLink=arguments.length>1&&void 0!==arguments[1]&&arguments[1],_id=document._id,_type=document._type,verbs=publicLink?["GET"]:["ALL"];return(0,_FileCollection.isFile)(document)?{files:{type:"io.cozy.files",verbs:verbs,values:[_id]}}:{collection:{type:_type,verbs:verbs,values:[_id]},files:{type:"io.cozy.files",verbs:verbs,values:[_type+"/"+_id],selector:"referenced_by"}}};PermissionCollection.normalizeDoctype=_DocumentCollection3.default.normalizeDoctypeJsonApi;var isPermissionRelatedTo=function(perm,document){var _id=document._id;return(0,_FileCollection.isFile)(document)?-1!==perm.attributes.permissions.files.values.indexOf(_id):-1!==perm.attributes.permissions.collection.values.indexOf(_id)};exports.default=PermissionCollection},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SETTINGS_DOCTYPE=void 0;var _regenerator2=_interopRequireDefault(__webpack_require__(15)),_asyncToGenerator3=_interopRequireDefault(__webpack_require__(17)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(4)),_classCallCheck3=_interopRequireDefault(__webpack_require__(1)),_createClass3=_interopRequireDefault(__webpack_require__(2)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(6)),_inherits3=_interopRequireDefault(__webpack_require__(7)),_DocumentCollection3=_interopRequireDefault(__webpack_require__(62));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SETTINGS_DOCTYPE=exports.SETTINGS_DOCTYPE="io.cozy.settings",SettingsCollection=function(_DocumentCollection){function SettingsCollection(stackClient){return(0,_classCallCheck3.default)(this,SettingsCollection),(0,_possibleConstructorReturn3.default)(this,(SettingsCollection.__proto__||(0,_getPrototypeOf2.default)(SettingsCollection)).call(this,SETTINGS_DOCTYPE,stackClient))}var _ref;return(0,_inherits3.default)(SettingsCollection,_DocumentCollection),(0,_createClass3.default)(SettingsCollection,[{key:"get",value:(_ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(path){var resp;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.stackClient.fetchJSON("GET","/settings/"+path);case 2:return resp=_context.sent,_context.abrupt("return",_DocumentCollection3.default.normalizeDoctypeJsonApi(SETTINGS_DOCTYPE)(resp.data,resp));case 4:case"end":return _context.stop()}},_callee,this)})),function(_x){return _ref.apply(this,arguments)})}]),SettingsCollection}(_DocumentCollection3.default);SettingsCollection.normalizeDoctype=_DocumentCollection3.default.normalizeDoctypeJsonApi,exports.default=SettingsCollection},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getIconURL=void 0;var _regenerator2=_interopRequireDefault(__webpack_require__(15)),_getIterator3=_interopRequireDefault(__webpack_require__(72)),_asyncToGenerator3=_interopRequireDefault(__webpack_require__(17)),_memoize2=_interopRequireDefault(__webpack_require__(751));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _ref,_ref2,mimeTypes={gif:"image/gif",ico:"image/vnd.microsoft.icon",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml"},getIconExtensionFromApp=function(app){if(!app.icon)throw new Error(app.name+": Cannot detect icon mime type since app has no icon");var extension=app.icon.split(".").pop();if(!extension)throw new Error(app.name+": Unable to detect icon mime type from extension ("+app.icon+")");return extension},fallbacks=(_ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(tries,check){var err,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,_try,res;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:err=void 0,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0,_context.prev=4,_iterator=(0,_getIterator3.default)(tries);case 6:if(_iteratorNormalCompletion=(_step=_iterator.next()).done){_context.next=22;break}return _try=_step.value,_context.prev=8,_context.next=11,_try();case 11:return res=_context.sent,check&&check(res),_context.abrupt("return",res);case 16:_context.prev=16,_context.t0=_context.catch(8),err=_context.t0;case 19:_iteratorNormalCompletion=!0,_context.next=6;break;case 22:_context.next=28;break;case 24:_context.prev=24,_context.t1=_context.catch(4),_didIteratorError=!0,_iteratorError=_context.t1;case 28:_context.prev=28,_context.prev=29,!_iteratorNormalCompletion&&_iterator.return&&_iterator.return();case 31:if(_context.prev=31,!_didIteratorError){_context.next=34;break}throw _iteratorError;case 34:return _context.finish(31);case 35:return _context.finish(28);case 36:throw err;case 37:case"end":return _context.stop()}},_callee,void 0,[[4,24,28,36],[8,16],[29,,31,35]])})),function(_x,_x2){return _ref.apply(this,arguments)}),fetchAppOrKonnector=function(stackClient,type,slug){return stackClient.fetchJSON("GET","/"+type+"s/"+slug).then(function(x){return x.data.attributes})},fetchAppOrKonnectorViaRegistry=function(stackClient,type,slug){return stackClient.fetchJSON("GET","/registry/"+slug).then(function(x){return x.latest_version.manifest})},_getIconURL=(_ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(stackClient,opts){var type,slug,appData,_opts$priority,priority,iconDataFetchers,resp,icon,app,appDataFetchers,ext;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return type=opts.type,slug=opts.slug,appData=opts.appData,_opts$priority=opts.priority,iconDataFetchers=[function(){return stackClient.fetch("GET","/"+type+"s/"+slug+"/icon")},function(){return stackClient.fetch("GET","/registry/"+slug+"/icon")}],"registry"===(priority=void 0===_opts$priority?"stack":_opts$priority)&&iconDataFetchers.reverse(),_context2.next=5,fallbacks(iconDataFetchers,function(resp){if(!resp.ok)throw new Error("Error while fetching icon "+resp.statusText)});case 5:return resp=_context2.sent,_context2.next=8,resp.blob();case 8:if(icon=_context2.sent,app=void 0,icon.type){_context2.next=26;break}if(appDataFetchers=[function(){return fetchAppOrKonnector(stackClient,type,slug)},function(){return fetchAppOrKonnectorViaRegistry(stackClient,0,slug)}],"registry"===priority&&appDataFetchers.reverse(),_context2.t1=appData,_context2.t1){_context2.next=18;break}return _context2.next=17,fallbacks(appDataFetchers);case 17:_context2.t1=_context2.sent;case 18:if(_context2.t0=_context2.t1,_context2.t0){_context2.next=21;break}_context2.t0={};case 21:if(app=_context2.t0,ext=getIconExtensionFromApp(app),mimeTypes[ext]){_context2.next=25;break}throw new Error('Unknown image extension "'+ext+'" for app '+app.name);case 25:icon=new Blob([icon],{type:mimeTypes[ext]});case 26:return _context2.abrupt("return",URL.createObjectURL(icon));case 27:case"end":return _context2.stop()}},_callee2,void 0)})),function(_x3,_x4){return _ref2.apply(this,arguments)}),getIconURL=function(){return _getIconURL.apply(this,arguments).catch(function(e){return console.warn(e),""})};exports.default=(0,_memoize2.default)(getIconURL,{maxDuration:3e5,key:function(stackClient,opts){var type=opts.type,slug=opts.slug,priority=opts.priority;return stackClient.uri+NaN+type+":"+slug+":"+priority}}),exports.getIconURL=getIconURL},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _keys2=_interopRequireDefault(__webpack_require__(66)),_getIterator3=_interopRequireDefault(__webpack_require__(72));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var garbageCollect=function(cache,maxDuration){var now=Date.now(),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=(0,_getIterator3.default)((0,_keys2.default)(cache));!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var key=_step.value;now-cache[key].date>maxDuration&&delete cache[key]}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}};exports.default=function(fn,options){var cache={};return function(){var key=options.key.apply(null,arguments);garbageCollect(cache,options.maxDuration);var existing=cache[key];if(existing)return existing.result;var result=fn.apply(this,arguments);return cache[key]={result:result,date:Date.now()},result}}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default={EXPIRED_TOKEN:/Expired token/,CLIENT_NOT_FOUND:/Client not found/}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _regenerator2=_interopRequireDefault(__webpack_require__(15)),_asyncToGenerator3=_interopRequireDefault(__webpack_require__(17)),_keys2=_interopRequireDefault(__webpack_require__(66)),_extends3=_interopRequireDefault(__webpack_require__(5)),_getPrototypeOf2=_interopRequireDefault(__webpack_require__(4)),_objectWithoutProperties3=_interopRequireDefault(__webpack_require__(89)),_classCallCheck3=_interopRequireDefault(__webpack_require__(1)),_createClass3=_interopRequireDefault(__webpack_require__(2)),_possibleConstructorReturn3=_interopRequireDefault(__webpack_require__(6)),_get3=_interopRequireDefault(__webpack_require__(177)),_inherits3=_interopRequireDefault(__webpack_require__(7)),_CozyStackClient3=_interopRequireDefault(__webpack_require__(382)),_AccessToken2=_interopRequireDefault(__webpack_require__(754)),_logDeprecate2=_interopRequireDefault(__webpack_require__(387));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var defaultoauthOptions={clientID:"",clientName:"",clientKind:"",clientSecret:"",clientURI:"",registrationAccessToken:"",redirectURI:"",softwareID:"",softwareVersion:"",logoURI:"",policyURI:"",notificationPlatform:"",notificationDeviceToken:""},OAuthClient=function(_CozyStackClient){function OAuthClient(_ref){var oauth=_ref.oauth,_ref$scope=_ref.scope,scope=void 0===_ref$scope?[]:_ref$scope,onTokenRefresh=_ref.onTokenRefresh,options=(0,_objectWithoutProperties3.default)(_ref,["oauth","scope","onTokenRefresh"]);(0,_classCallCheck3.default)(this,OAuthClient);var _this=(0,_possibleConstructorReturn3.default)(this,(OAuthClient.__proto__||(0,_getPrototypeOf2.default)(OAuthClient)).call(this,options));return _this.setOAuthOptions((0,_extends3.default)({},defaultoauthOptions,oauth)),oauth.token&&_this.setToken(oauth.token),_this.scope=scope,_this.onTokenRefresh=onTokenRefresh,_this}var _ref7,_ref6,_ref5,_ref4,_ref3,_ref2;return(0,_inherits3.default)(OAuthClient,_CozyStackClient),(0,_createClass3.default)(OAuthClient,[{key:"isRegistered",value:function(){return""!==this.oauthOptions.clientID}},{key:"snakeCaseOAuthData",value:function(data){var mappedFields={softwareID:"software_id",softwareVersion:"software_version",clientID:"client_id",clientName:"client_name",clientKind:"client_kind",clientURI:"client_uri",logoURI:"logo_uri",policyURI:"policy_uri",notificationPlatform:"notification_platform",notificationDeviceToken:"notification_device_token",redirectURI:"redirect_uris"},result={};return(0,_keys2.default)(data).forEach(function(fieldName){var key=mappedFields[fieldName]||fieldName,value=data[fieldName];result[key]=value}),result.redirect_uris&&result.redirect_uris instanceof Array==!1&&(result.redirect_uris=[result.redirect_uris]),result}},{key:"camelCaseOAuthData",value:function(data){var mappedFields={client_id:"clientID",client_name:"clientName",client_secret:"clientSecret",registration_access_token:"registrationAccessToken",software_id:"softwareID",redirect_uris:"redirectURI"},result={};return(0,_keys2.default)(data).forEach(function(fieldName){var key=mappedFields[fieldName]||fieldName,value=data[fieldName];result[key]=value}),result}},{key:"register",value:(_ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(){var mandatoryFields,fields,missingMandatoryFields,data;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!this.isRegistered()){_context.next=2;break}throw new Error("Client already registered");case 2:if(mandatoryFields=["redirectURI"],fields=(0,_keys2.default)(this.oauthOptions),!((missingMandatoryFields=mandatoryFields.filter(function(fieldName){return fields[fieldName]})).length>0)){_context.next=7;break}throw new Error("Can't register client : missing "+missingMandatoryFields+" fields");case 7:return _context.next=9,this.fetchJSON("POST","/auth/register",this.snakeCaseOAuthData({redirectURI:this.oauthOptions.redirectURI,clientName:this.oauthOptions.clientName,softwareID:this.oauthOptions.softwareID,clientKind:this.oauthOptions.clientKind,clientURI:this.oauthOptions.clientURI,logoURI:this.oauthOptions.logoURI,policyURI:this.oauthOptions.policyURI,softwareVersion:this.oauthOptions.softwareVersion,notificationPlatform:this.oauthOptions.notificationPlatform,notificationDeviceToken:this.oauthOptions.notificationDeviceToken}));case 9:return data=_context.sent,this.setOAuthOptions((0,_extends3.default)({},this.oauthOptions,{client_id:data.client_id,client_name:data.client_name,client_secret:data.client_secret,registration_access_token:data.registration_access_token,software_id:data.software_id})),_context.abrupt("return",this.oauthOptions);case 12:case"end":return _context.stop()}},_callee,this)})),function(){return _ref2.apply(this,arguments)})},{key:"unregister",value:(_ref3=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(){var clientID;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(this.isRegistered()){_context2.next=2;break}throw new NotRegisteredException;case 2:return clientID=this.oauthOptions.clientID,this.oauthOptions.clientID="",_context2.abrupt("return",this.fetchJSON("DELETE","/auth/register/"+clientID,null,{headers:{Authorization:this.registrationAccessTokenToAuthHeader()}}));case 5:case"end":return _context2.stop()}},_callee2,this)})),function(){return _ref3.apply(this,arguments)})},{key:"fetchInformation",value:(_ref4=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee3(){return _regenerator2.default.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(this.isRegistered()){_context3.next=2;break}throw new NotRegisteredException;case 2:return _context3.abrupt("return",this.fetchJSON("GET","/auth/register/"+this.oauthOptions.clientID,null,{headers:{Authorization:this.registrationAccessTokenToAuthHeader()}}));case 3:case"end":return _context3.stop()}},_callee3,this)})),function(){return _ref4.apply(this,arguments)})},{key:"updateInformation",value:(_ref5=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee4(information){var mandatoryFields,data,result,resetSecret=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return _regenerator2.default.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(this.isRegistered()){_context4.next=2;break}throw new NotRegisteredException;case 2:return mandatoryFields={clientID:this.oauthOptions.clientID,clientName:this.oauthOptions.clientName,redirectURI:this.oauthOptions.redirectURI,softwareID:this.oauthOptions.softwareID},data=this.snakeCaseOAuthData((0,_extends3.default)({},mandatoryFields,information)),resetSecret&&(data.client_secret=this.oauthOptions.clientSecret),_context4.next=7,this.fetchJSON("PUT","/auth/register/"+this.oauthOptions.clientID,data,{headers:{Authorization:this.registrationAccessTokenToAuthHeader()}});case 7:return result=_context4.sent,this.setOAuthOptions((0,_extends3.default)({},data,result)),_context4.abrupt("return",this.oauthOptions);case 10:case"end":return _context4.stop()}},_callee4,this)})),function(_x2){return _ref5.apply(this,arguments)})},{key:"generateStateCode",value:function(){var buffer=void 0;if("undefined"!=typeof window&&void 0!==window.crypto&&"function"==typeof window.crypto.getRandomValues)buffer=new Uint8Array(16),window.crypto.getRandomValues(buffer);else{buffer=new Array(16);for(var i=0;i<buffer.length;i++)buffer[i]=Math.floor(255*Math.random())}return btoa(String.fromCharCode.apply(null,buffer)).replace(/=+$/,"").replace(/\//g,"_").replace(/\+/g,"-")}},{key:"getAuthCodeURL",value:function(stateCode){var scopes=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.scope;if(!this.isRegistered())throw new NotRegisteredException;var query={client_id:this.oauthOptions.clientID,redirect_uri:this.oauthOptions.redirectURI,state:stateCode,response_type:"code",scope:scopes.join(" ")};return this.uri+"/auth/authorize?"+this.dataToQueryString(query)}},{key:"dataToQueryString",value:function(data){return(0,_keys2.default)(data).map(function(param){return param+"="+encodeURIComponent(data[param])}).join("&")}},{key:"getAccessCodeFromURL",value:function(pageURL,stateCode){if(!stateCode)throw new Error("Missing state code");var params=new URL(pageURL).searchParams,urlStateCode=params.get("state"),urlAccessCode=params.get("access_code");if(stateCode!==urlStateCode)throw new Error("Given state does not match url query state");return urlAccessCode}},{key:"fetchAccessToken",value:(_ref6=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee5(accessCode,oauthOptions,uri){var data,result;return _regenerator2.default.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(this.isRegistered()||oauthOptions){_context5.next=2;break}throw new NotRegisteredException;case 2:return oauthOptions=oauthOptions||this.oauthOptions,data={grant_type:"authorization_code",code:accessCode,client_id:oauthOptions.clientID,client_secret:oauthOptions.clientSecret},_context5.next=6,this.fetchJSON("POST",(uri||"")+"/auth/access_token",this.dataToQueryString(data),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 6:return result=_context5.sent,_context5.abrupt("return",new _AccessToken2.default(result));case 8:case"end":return _context5.stop()}},_callee5,this)})),function(_x4,_x5,_x6){return _ref6.apply(this,arguments)})},{key:"refreshToken",value:(_ref7=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee6(){var data,result,newToken;return _regenerator2.default.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:if(this.isRegistered()){_context6.next=2;break}throw new NotRegisteredException;case 2:if(this.token){_context6.next=4;break}throw new Error("No token to refresh");case 4:return data={grant_type:"refresh_token",refresh_token:this.token.refreshToken,client_id:this.oauthOptions.clientID,client_secret:this.oauthOptions.clientSecret},_context6.next=7,(0,_get3.default)(OAuthClient.prototype.__proto__||(0,_getPrototypeOf2.default)(OAuthClient.prototype),"fetchJSON",this).call(this,"POST","/auth/access_token",this.dataToQueryString(data),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 7:return result=_context6.sent,newToken=new _AccessToken2.default((0,_extends3.default)({refresh_token:this.token.refreshToken},result)),this.onTokenRefresh&&"function"==typeof this.onTokenRefresh&&this.onTokenRefresh(newToken),_context6.abrupt("return",newToken);case 11:case"end":return _context6.stop()}},_callee6,this)})),function(){return _ref7.apply(this,arguments)})},{key:"exchangeOAuthSecret",value:function(uri,secret){return this.fetchJSON("POST",uri+"/auth/secret_exchange",{secret:secret})}},{key:"setToken",value:function(token){this.token=token?token instanceof _AccessToken2.default?token:new _AccessToken2.default(token):null}},{key:"setCredentials",value:function(token){return(0,_logDeprecate2.default)("setCredentials is deprecated, please replace by setToken"),this.setToken(token)}},{key:"setOAuthOptions",value:function(options){this.oauthOptions=this.camelCaseOAuthData(options)}},{key:"resetClientId",value:function(){this.oauthOptions.clientID=""}},{key:"resetClient",value:function(){this.resetClientId(),this.setUri(null),this.setToken(null)}},{key:"registrationAccessTokenToAuthHeader",value:function(){if(!this.oauthOptions.registrationAccessToken)throw new Error("No registration access token");return"Bearer "+this.oauthOptions.registrationAccessToken}}]),OAuthClient}(_CozyStackClient3.default),NotRegisteredException=function(_Error){function NotRegisteredException(){var message=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Client not registered or missing OAuth information";(0,_classCallCheck3.default)(this,NotRegisteredException);var _this2=(0,_possibleConstructorReturn3.default)(this,(NotRegisteredException.__proto__||(0,_getPrototypeOf2.default)(NotRegisteredException)).call(this,message));return _this2.message=message,_this2.name="NotRegisteredException",_this2}return(0,_inherits3.default)(NotRegisteredException,_Error),NotRegisteredException}(Error);exports.default=OAuthClient},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _stringify2=_interopRequireDefault(__webpack_require__(175)),_classCallCheck3=_interopRequireDefault(__webpack_require__(1)),_createClass3=_interopRequireDefault(__webpack_require__(2));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AccessToken=function(){function AccessToken(data){(0,_classCallCheck3.default)(this,AccessToken),"string"==typeof data&&(data=JSON.parse(data)),this.tokenType=data.token_type||data.tokenType,this.accessToken=data.access_token||data.accessToken,this.refreshToken=data.refresh_token||data.refreshToken,this.scope=data.scope}return(0,_createClass3.default)(AccessToken,[{key:"toAuthHeader",value:function(){return"Bearer "+this.accessToken}},{key:"toBasicAuth",value:function(){return"user:"+this.accessToken+"@"}},{key:"toJSON",value:function(){return{tokenType:this.tokenType,accessToken:this.accessToken,refreshToken:this.refreshToken,scope:this.scope}}},{key:"toString",value:function(){return(0,_stringify2.default)(this.toJSON())}},{key:"getAccessToken",value:function(){return this.accessToken}}]),AccessToken}();exports.default=AccessToken},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.authenticateWithCordova=void 0;var _regenerator2=_interopRequireDefault(__webpack_require__(15)),_asyncToGenerator3=_interopRequireDefault(__webpack_require__(17)),_promise2=_interopRequireDefault(__webpack_require__(73)),_const=__webpack_require__(371),_cozyDeviceHelper=__webpack_require__(419);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _ref2,authenticateWithSafari=function(url){return new _promise2.default(function(resolve,reject){window.SafariViewController.show({url:url,transition:"curl"},function(result){"closed"===result.event&&reject(new Error(_const.REGISTRATION_ABORT))},function(error){console.log("KO: "+error),reject(new Error(_const.REGISTRATION_ABORT))});var handle=window.handleOpenURL;window.handleOpenURL=function(url){window.SafariViewController.hide(),resolve(url),handle&&(window.handleOpenURL=handle)}})},authenticateWithInAppBrowser=function(url){return new _promise2.default(function(resolve,reject){var inAppBrowser=window.cordova.InAppBrowser.open(url,"_blank","clearcache=yes,zoom=no"),removeListener=function(){inAppBrowser.removeEventListener("loadstart",onLoadStart),inAppBrowser.removeEventListener("exit",onExit)},onLoadStart=function(_ref){var url=_ref.url,accessCode=/\?access_code=(.+)$/.test(url),state=/\?state=(.+)$/.test(url);(accessCode||state)&&(resolve(url),removeListener(),inAppBrowser.close())},onExit=function(){reject(new Error(_const.REGISTRATION_ABORT)),removeListener(),inAppBrowser.close()};inAppBrowser.addEventListener("loadstart",onLoadStart),inAppBrowser.addEventListener("exit",onExit)})};exports.authenticateWithCordova=(_ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(url){return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_context.t0=(0,_cozyDeviceHelper.isIOSApp)(),!_context.t0){_context.next=5;break}return _context.next=4,(0,_cozyDeviceHelper.hasSafariPlugin)();case 4:_context.t0=_context.sent;case 5:if(!_context.t0){_context.next=9;break}return _context.abrupt("return",authenticateWithSafari(url));case 9:if(!(0,_cozyDeviceHelper.hasInAppBrowserPlugin)()){_context.next=13;break}return _context.abrupt("return",authenticateWithInAppBrowser(url));case 13:return console.log(url),_context.abrupt("return",new _promise2.default(function(resolve){setTimeout(function(){var token=prompt("Paste the url here:");resolve(token)},5e3)}));case 15:case"end":return _context.stop()}},_callee,void 0)})),function(_x){return _ref2.apply(this,arguments)})},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(54);Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDeviceName=void 0;var _capitalize=_interopRequireDefault(__webpack_require__(757)),_cordova=__webpack_require__(247),_plugins=__webpack_require__(248),_platform=__webpack_require__(246);exports.getDeviceName=function(){if(!(0,_plugins.hasDevicePlugin)())return(0,_cordova.isCordova)()&&console.warn("You should install `cordova-plugin-device`."),"Device";var _window$device=window.device,manufacturer=_window$device.manufacturer,originalModel=_window$device.model,model=(0,_platform.isIOSApp)()?function(identifier){for(var devices=["iPhone","iPad","Watch","AppleTV"],_i=0;_i<devices.length;_i++){var device=devices[_i];if(identifier.match(new RegExp(device)))return device}return"Device"}(originalModel):originalModel;return"".concat((0,_capitalize.default)(manufacturer)," ").concat(model)}},function(module,exports,__webpack_require__){var toString=__webpack_require__(81),upperFirst=__webpack_require__(758);module.exports=function(string){return upperFirst(toString(string).toLowerCase())}},function(module,exports,__webpack_require__){var upperFirst=__webpack_require__(759)("toUpperCase");module.exports=upperFirst},function(module,exports,__webpack_require__){var castSlice=__webpack_require__(388),hasUnicode=__webpack_require__(222),stringToArray=__webpack_require__(389),toString=__webpack_require__(81);module.exports=function(methodName){return function(string){string=toString(string);var strSymbols=hasUnicode(string)?stringToArray(string):void 0,chr=strSymbols?strSymbols[0]:string.charAt(0),trailing=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}},function(module,exports){module.exports=function(string){return string.split("")}},function(module,exports){var rsAstral="[\\ud800-\\udfff]",rsCombo="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsNonAstral="[^\\ud800-\\udfff]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",reOptMod="(?:"+rsCombo+"|"+rsFitz+")"+"?",rsSeq="[\\ufe0e\\ufe0f]?"+reOptMod+("(?:\\u200d(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")[\\ufe0e\\ufe0f]?"+reOptMod+")*"),rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");module.exports=function(string){return string.match(reUnicode)||[]}},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(54);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.startApp=exports.checkApp=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(0)),_asyncToGenerator2=_interopRequireDefault(__webpack_require__(3)),_platform=__webpack_require__(246),cordovaPluginIsInstalled=function(){return window.startApp},getParams=function(_ref){var appId=_ref.appId,uri=_ref.uri;return(0,_platform.isAndroidApp)()?{package:appId}:uri},exported={},startApp=exported.startApp=function(){var _ref2=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function _callee(appInfo){var startAppPlugin,params;return _regenerator.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return startAppPlugin=window.startApp,_context.next=3,exported.checkApp(appInfo);case 3:if(!_context.sent){_context.next=9;break}return params=getParams(appInfo),_context.abrupt("return",new Promise(function(resolve,reject){cordovaPluginIsInstalled()?startAppPlugin.set(params).start(resolve,reject):reject(new Error("Cordova plugin 'com.lampa.startapp' is not installed. This plugin is needed to start a native app. Required by cozy-bar"))}));case 9:return _context.abrupt("return",!1);case 10:case"end":return _context.stop()}},_callee)}));return function(_x){return _ref2.apply(this,arguments)}}();exports.startApp=startApp;var checkApp=exported.checkApp=function(){var _ref3=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function _callee2(appInfo){var startAppPlugin,params;return _regenerator.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return startAppPlugin=window.startApp,params=getParams(appInfo),_context2.abrupt("return",new Promise(function(resolve,reject){cordovaPluginIsInstalled()?startAppPlugin.set(params).check(function(infos){resolve("OK"===infos||infos)},function(error){!1===error||0===error.indexOf("NameNotFoundException")?resolve(!1):reject(error)}):reject(new Error("Cordova plugin 'com.lampa.startapp' is not installed."))}));case 3:case"end":return _context2.stop()}},_callee2)}));return function(_x2){return _ref3.apply(this,arguments)}}();exports.checkApp=checkApp;var _default=exported;exports.default=_default},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(54);Object.defineProperty(exports,"__esModule",{value:!0}),exports.nativeLinkOpen=void 0;var _regenerator=_interopRequireDefault(__webpack_require__(0)),_asyncToGenerator2=_interopRequireDefault(__webpack_require__(3)),_plugins=__webpack_require__(248),nativeLinkOpen=function(){var _ref2=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function _callee(_ref){var url;return _regenerator.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return url=_ref.url,_context.next=3,(0,_plugins.hasSafariPlugin)();case 3:if(_context.t0=_context.sent,!_context.t0){_context.next=6;break}_context.t0=window.SafariViewController;case 6:if(!_context.t0){_context.next=10;break}window.SafariViewController.show({url:url,transition:"curl"},function(result){"closed"===result.event&&window.SafariViewController.hide()},function(){window.SafariViewController.hide()}),_context.next=11;break;case 10:(0,_plugins.hasInAppBrowserPlugin)()?("_blank","clearcache=yes,zoom=no",window.cordova.InAppBrowser.open(url,"_blank","clearcache=yes,zoom=no")):window.location=url;case 11:case"end":return _context.stop()}},_callee)}));return function(_x){return _ref2.apply(this,arguments)}}();exports.nativeLinkOpen=nativeLinkOpen},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.openDeeplinkOrRedirect=void 0;var openUriWithHiddenFrame=function(uri,failCb){var randomId=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5);window.addEventListener("blur",onBlur);var iframe=function(target,uri,randomId){var iframe=document.createElement("iframe");return iframe.src=uri,iframe.id="hiddenIframe_".concat(randomId),iframe.style.display="none",target.appendChild(iframe),iframe}(document.body,"about:blank",randomId),timeout=setTimeout(function(){failCb(),window.removeEventListener("blur",onBlur),iframe.parentElement.removeChild(iframe)},500);function onBlur(){clearTimeout(timeout),window.removeEventListener("blur",onBlur),iframe.parentElement.removeChild(iframe)}iframe.contentWindow.location.href=uri};exports.openDeeplinkOrRedirect=function(deeplink,failCb){if(navigator.msLaunchUri)!function(uri,failCb){navigator.msLaunchUri(uri,void 0,failCb)}(deeplink,failCb);else{var browser=(isOpera=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,ua=navigator.userAgent.toLowerCase(),isSafari=ua.includes("safari")&&!ua.includes("chrome")||Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,isIOS=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,isIOS122=isIOS&&(ua.includes("os 12_2")||ua.includes("os 12_3")),{isOpera:isOpera,isFirefox:"undefined"!=typeof InstallTrigger,isSafari:isSafari,isChrome:!!window.chrome&&!isOpera,isIOS122:isIOS122,isIOS:isIOS});browser.isChrome||browser.isIOS&&!browser.isIOS122?function(uri,failCb){for(var timeout=setTimeout(function(){failCb(),target.removeEventListener("blur",onBlur)},500),target=window;target!=target.parent;)target=target.parent;function onBlur(){clearTimeout(timeout),target.removeEventListener("blur",onBlur)}target.addEventListener("blur",onBlur),window.location=uri}(deeplink,failCb):browser.isSafari&&!browser.isIOS122||browser.isFirefox?openUriWithHiddenFrame(deeplink,failCb):failCb()}var isOpera,ua,isSafari,isIOS,isIOS122}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _values2=_interopRequireDefault(__webpack_require__(132)),_mapValues2=_interopRequireDefault(__webpack_require__(120)),_groupBy3=_interopRequireDefault(__webpack_require__(41)),_flatten2=_interopRequireDefault(__webpack_require__(115)),_isEqual2=_interopRequireDefault(__webpack_require__(283)),_uniq2=_interopRequireDefault(__webpack_require__(178)),_uniqWith2=_interopRequireDefault(__webpack_require__(766)),_dsl=__webpack_require__(90);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var optimizeDoctypeQueries=function(queries){var _groupBy=(0,_groupBy3.default)(queries,function(q){return(query=q).id||query.ids?"idQueries":"others";var query}),_groupBy$idQueries=_groupBy.idQueries,idQueries=void 0===_groupBy$idQueries?[]:_groupBy$idQueries,_groupBy$others=_groupBy.others,others=void 0===_groupBy$others?[]:_groupBy$others,groupedIdQueries=idQueries.length>0?new _dsl.QueryDefinition({doctype:queries[0].doctype,ids:(0,_uniq2.default)((0,_flatten2.default)(idQueries.map(function(q){return q.id||q.ids})))}):[];return(0,_uniqWith2.default)(others,_isEqual2.default).concat(groupedIdQueries)};exports.default=function(queries){var byDoctype=(0,_groupBy3.default)(queries,function(q){return q.doctype});return(0,_flatten2.default)((0,_values2.default)((0,_mapValues2.default)(byDoctype,optimizeDoctypeQueries)))}},function(module,exports,__webpack_require__){var baseUniq=__webpack_require__(165);module.exports=function(array,comparator){return comparator="function"==typeof comparator?comparator:void 0,array&&array.length?baseUniq(array,void 0,comparator):[]}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var fetchPolicies={olderThan:function(delay){return function(queryState){return!queryState||!queryState.lastUpdate||Date.now()-queryState.lastUpdate>delay}},noFetch:function(){return!1}};exports.default=fetchPolicies},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _regenerator2=_interopRequireDefault(__webpack_require__(15)),_keys2=_interopRequireDefault(__webpack_require__(66)),_asyncToGenerator3=_interopRequireDefault(__webpack_require__(17)),_values2=_interopRequireDefault(__webpack_require__(132)),_classCallCheck3=_interopRequireDefault(__webpack_require__(1)),_createClass3=_interopRequireDefault(__webpack_require__(2)),_extends3=_interopRequireDefault(__webpack_require__(5)),_keyBy2=_interopRequireDefault(__webpack_require__(87)),_mapValues2=_interopRequireDefault(__webpack_require__(120)),_merge2=_interopRequireDefault(__webpack_require__(202)),_size2=_interopRequireDefault(__webpack_require__(280)),_intersectionBy2=_interopRequireDefault(__webpack_require__(769)),_associations=__webpack_require__(182);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var normalizeDoctypeSchema=function(doctypeSchema){var relationships=(0,_mapValues2.default)(doctypeSchema.relationships||{},function(v,k){return(0,_extends3.default)({},v,{name:k,type:(0,_associations.resolveClass)(v.doctype,v.type)})});return(0,_extends3.default)({},doctypeSchema,{relationships:(0,_size2.default)(relationships)>0?(0,_keyBy2.default)(relationships,"name"):null})},assert=function(predicate,errorMessage){if(!predicate)throw new Error(errorMessage)},ensureCanBeAdded=function(newSchemas,existingSchemas){var sameNames=(0,_intersectionBy2.default)(newSchemas,existingSchemas,function(x){return x.name});assert(0===sameNames.length,"Duplicated names in schemas being added: "+sameNames.map(function(x){return x.name}).join(", "));var sameDoctypes=(0,_intersectionBy2.default)(newSchemas,existingSchemas,function(x){return x.doctype});assert(0===sameDoctypes.length,"Duplicated doctypes in schemas being added: "+sameDoctypes.map(function(x){return x.name}).join(", "))},Schema=function(){function Schema(){var schemaDefinition=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},client=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,_classCallCheck3.default)(this,Schema),this.byDoctype={},this.add(schemaDefinition),this.client=client}var _ref2,_ref;return(0,_createClass3.default)(Schema,[{key:"add",value:function(){var schemaDefinition=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},normalizedSchemaDefinition=(0,_mapValues2.default)(schemaDefinition,function(obj,name){return(0,_extends3.default)({name:name},normalizeDoctypeSchema(obj))});ensureCanBeAdded((0,_values2.default)(normalizedSchemaDefinition),(0,_values2.default)(this.byDoctype)),(0,_merge2.default)(this.byDoctype,(0,_keyBy2.default)(normalizedSchemaDefinition,function(x){return x.doctype}))}},{key:"getDoctypeSchema",value:function(doctype){var schema=this.byDoctype[doctype];return schema||(schema=normalizeDoctypeSchema({name:doctype,doctype:doctype}),this.byDoctype[doctype]=schema),schema}},{key:"getRelationship",value:function(doctype,relationshipName){return this.getDoctypeSchema(doctype).relationships[relationshipName]}},{key:"validate",value:(_ref=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee(document){var errors,schema,n,ret;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(errors={},schema=this.byDoctype[document._type]){_context.next=4;break}return _context.abrupt("return",!0);case 4:if(schema.attributes){_context.next=6;break}return _context.abrupt("return",!0);case 6:_context.t0=_regenerator2.default.keys(schema.attributes);case 7:if((_context.t1=_context.t0()).done){_context.next=15;break}return n=_context.t1.value,_context.next=11,this.validateAttribute(document,n,schema.attributes[n]);case 11:!0!==(ret=_context.sent)&&(errors[n]=ret),_context.next=7;break;case 15:if(0!==(0,_keys2.default)(errors).length){_context.next=17;break}return _context.abrupt("return",!0);case 17:return _context.abrupt("return",errors);case 18:case"end":return _context.stop()}},_callee,this)})),function(_x4){return _ref.apply(this,arguments)})},{key:"validateAttribute",value:(_ref2=(0,_asyncToGenerator3.default)(_regenerator2.default.mark(function _callee2(document,attrName,attrProps){return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!attrProps.unique||!this.client){_context2.next=6;break}return _context2.next=3,this.client.collection(document._type).checkUniquenessOf(attrName,document[attrName]);case 3:if(!0===_context2.sent){_context2.next=6;break}return _context2.abrupt("return","must be unique");case 6:return _context2.abrupt("return",!0);case 7:case"end":return _context2.stop()}},_callee2,this)})),function(_x5,_x6,_x7){return _ref2.apply(this,arguments)})}]),Schema}();exports.default=Schema},function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(36),baseIntersection=__webpack_require__(376),baseIteratee=__webpack_require__(19),baseRest=__webpack_require__(63),castArrayLikeObject=__webpack_require__(377),last=__webpack_require__(281),intersectionBy=baseRest(function(arrays){var iteratee=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);return iteratee===last(mapped)?iteratee=void 0:mapped.pop(),mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,baseIteratee(iteratee,2)):[]});module.exports=intersectionBy},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof3=_interopRequireDefault(__webpack_require__(97)),_keys2=_interopRequireDefault(__webpack_require__(66)),_extends3=_interopRequireDefault(__webpack_require__(5)),_classCallCheck3=_interopRequireDefault(__webpack_require__(1)),_createClass3=_interopRequireDefault(__webpack_require__(2)),_store=__webpack_require__(134);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var hasOwn=Object.prototype.hasOwnProperty,ObservableQuery=function(){function ObservableQuery(queryId,definition,client){var _this=this;if((0,_classCallCheck3.default)(this,ObservableQuery),this.handleStoreChange=function(){var nextResult=_this.currentRawResult();(function(objA,objB){if(is(objA,objB))return!0;if("object"!==(void 0===objA?"undefined":(0,_typeof3.default)(objA))||null===objA||"object"!==(void 0===objB?"undefined":(0,_typeof3.default)(objB))||null===objB)return!1;var keysA=(0,_keys2.default)(objA),keysB=(0,_keys2.default)(objB);if(keysA.length!==keysB.length)return!1;for(var i=0;i<keysA.length;i++)if(!hasOwn.call(objB,keysA[i])||!is(objA[keysA[i]],objB[keysA[i]]))return!1;return!0})(nextResult,_this.lastResult)||(_this.lastResult=nextResult,_this.notifyObservers())},!queryId||!definition||!client)throw new Error("ObservableQuery takes 3 arguments: queryId, definition and client");this.queryId=queryId,this.definition=definition,this.client=client,this.observers={},this.idCounter=1,this.lastResult=this.currentRawResult()}return(0,_createClass3.default)(ObservableQuery,[{key:"currentResult",value:function(){var result=this.client.getQueryFromState(this.queryId,{hydrated:!0});return result.lastFetch?(0,_extends3.default)({},result,{data:this.definition.id?result.data[0]:result.data}):result}},{key:"fetch",value:function(){return this.client.query(this.definition,{as:this.queryId})}},{key:"fetchMore",value:function(){return this.client.query(this.definition.offset(this.currentRawResult().data.length),{as:this.queryId})}},{key:"currentRawResult",value:function(){return(0,_store.getRawQueryFromState)(this.getStore().getState(),this.queryId)}},{key:"notifyObservers",value:function(){var _this2=this;(0,_keys2.default)(this.observers).forEach(function(id){return _this2.observers[id]()})}},{key:"subscribeToStore",value:function(){if(this._unsubscribeStore)throw new Error("ObservableQuery instance is already subscribed to store.");this._unsubscribeStore=this.getStore().subscribe(this.handleStoreChange)}},{key:"unsubscribeFromStore",value:function(){if(!this._unsubscribeStore)throw new Error("ObservableQuery instance is not subscribed to store");this._unsubscribeStore()}},{key:"subscribe",value:function(callback){var _this3=this,callbackId=this.idCounter;return this.idCounter++,this.observers[callbackId]=callback,1===(0,_keys2.default)(this.observers).length&&this.subscribeToStore(),function(){return _this3.unsubscribe(callbackId)}}},{key:"unsubscribe",value:function(callbackId){if(!this.observers[callbackId])throw new Error("Cannot unsubscribe unknown callbackId "+callbackId);delete this.observers[callbackId],0===(0,_keys2.default)(this.observers).length&&(this.unsubscribeFromStore(),this._unsubscribeStore=null)}},{key:"getStore",value:function(){return this.client.store}}]),ObservableQuery}();function is(x,y){return x===y?0!==x||0!==y||1/x==1/y:x!=x&&y!=y}exports.default=ObservableQuery},function(module,exports,__webpack_require__){var zip=__webpack_require__(63)(__webpack_require__(772));module.exports=zip},function(module,exports,__webpack_require__){var arrayFilter=__webpack_require__(201),arrayMap=__webpack_require__(36),baseProperty=__webpack_require__(217),baseTimes=__webpack_require__(315),isArrayLikeObject=__webpack_require__(124),nativeMax=Math.max;module.exports=function(array){if(!array||!array.length)return[];var length=0;return array=arrayFilter(array,function(group){if(isArrayLikeObject(group))return length=nativeMax(group.length,length),!0}),baseTimes(length,function(index){return arrayMap(array,baseProperty(index))})}},function(module,exports,__webpack_require__){const get=__webpack_require__(11),flatten=__webpack_require__(115),Contact=__webpack_require__(390),Document=__webpack_require__(38);class AdministrativeProcedure extends Document{static getPersonalData(contact,fields){const mapping={firstname:{path:"name.givenName"},lastname:{path:"name.familyName"},address:{getter:Contact.getPrimaryAddress},email:{getter:Contact.getPrimaryEmail},phone:{getter:Contact.getPrimaryPhone}};let personalData={};return fields.forEach(field=>{const contactField=get(mapping,field,field);let value;if(contactField.getter)value=contactField.getter(contact);else{const path=get(contactField,"path",field);value=get(contact,path)}void 0!==value&&(personalData[field]=value)}),personalData}static async getFilesByRules(docRules){const{rules:rules,count:count}=docRules,cozyRules={trashed:!1,type:"file",...rules};return await this.cozyClient.collection("io.cozy.files").createIndex(["metadata.datetime","metadata.classification"]),await this.cozyClient.collection("io.cozy.files").find(cozyRules,{indexedFields:["metadata.datetime","metadata.classification"],sort:[{"metadata.datetime":"desc"},{"metadata.classification":"desc"}],limit:count||1})}static create(data,template){const{documentsData:documentsData,personalData:personalData,procedureData:procedureData}=data,files=Object.keys(documentsData).map(identifier=>documentsData[identifier].files.map(file=>{if(file)return{_id:file.id,_type:"io.cozy.files",templateDocumentId:identifier}}));return{personalData:personalData,procedureData:procedureData,submissionDate:new Date,templateId:template.type,templateVersion:template.version,relationships:{files:{data:flatten(files)}}}}static createJson(administrativeProcedure){return JSON.stringify(administrativeProcedure)}}AdministrativeProcedure.doctype="io.cozy.procedures.administratives",module.exports=AdministrativeProcedure},function(module,exports,__webpack_require__){"use strict";var ReactPropTypesSecret=__webpack_require__(775);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret!==ReactPropTypesSecret){var err=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw err.name="Invariant Violation",err}}function getShim(){return shim}shim.isRequired=shim;var ReactPropTypes={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return ReactPropTypes.PropTypes=ReactPropTypes,ReactPropTypes}},function(module,exports,__webpack_require__){"use strict";module.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(module,exports,__webpack_require__){const Document=__webpack_require__(38),BankAccount=__webpack_require__(249);class BalanceHistory extends Document{static async getByYearAndAccount(year,accountId){const index=await Document.getIndex(this.doctype,this.idAttributes),options={selector:{year:year,"relationships.account.data._id":accountId},limit:1},[balance]=await Document.query(index,options);return balance||this.getEmptyDocument(year,accountId)}static getEmptyDocument(year,accountId){return{year:year,balances:{},metadata:{version:this.version},relationships:{account:{data:{_id:accountId,_type:BankAccount.doctype}}}}}}BalanceHistory.doctype="io.cozy.bank.balancehistories",BalanceHistory.idAttributes=["year","relationships.account.data._id"],BalanceHistory.version=1,BalanceHistory.checkedAttributes=["balances"],module.exports=BalanceHistory},function(module,exports,__webpack_require__){const sortBy=__webpack_require__(74),{eitherIncludes:eitherIncludes}=__webpack_require__(393),{getSlugFromInstitutionLabel:getSlugFromInstitutionLabel}=__webpack_require__(394),findExactMatch=(attr,account,existingAccounts)=>{const sameAttr=existingAccounts.filter(existingAccount=>existingAccount[attr]===account[attr]);return 1===sameAttr.length?{match:sameAttr[0],method:attr+"-exact"}:sameAttr.length>1?{matches:sameAttr,method:attr+"-exact"}:null},untrimmedAccountNumber=/^(?:[A-Za-z]+)?-?([0-9]+)-?(?:[A-Za-z]+)?$/,redactedCreditCard=/xxxx xxxx xxxx (\d{4})/,normalizeAccountNumber=(number,iban)=>{let match;return iban=iban&&iban.replace(/\s/g,""),number=number&&!number.match(redactedCreditCard)?number.replace(/\s/g,""):number,iban&&27==iban.length?iban.substr(14,11):number?23==number.length?number.substr(10,11):16==number.length?number.substr(5,11):number.length>11&&(match=number.match(untrimmedAccountNumber))?match[1]:number:number},score=(account,existingAccount)=>{const methods=[],res={account:existingAccount,methods:methods};let points=0;if(((account,existingAccount)=>{const possibleSlug=getSlugFromInstitutionLabel(account.institutionLabel),possibleSlugExisting=getSlugFromInstitutionLabel(existingAccount.institutionLabel);return!possibleSlug||!possibleSlugExisting||possibleSlug===possibleSlugExisting})(account,existingAccount)||(points-=1e3),((account,existingAccount)=>existingAccount.number&&account.number&&(11===existingAccount.number.length||11===account.number.length)&&eitherIncludes(existingAccount.number,account.number))(account,existingAccount)?(points+=50,methods.push("approx-number")):points-=50,account.type===existingAccount.type&&(points+=50,methods.push("same-type")),"CreditCard"!==account.type&&"CreditCard"!==existingAccount.type||!((account,existingAccount)=>{let ccAccount,lastDigits;for(let acc of[account,existingAccount]){const match=acc.number&&acc.number.match(redactedCreditCard);match&&(ccAccount=acc,lastDigits=match[1])}if((ccAccount===account?existingAccount:account).number.slice(-4)===lastDigits)return!0})(account,existingAccount)||(points+=150,methods.push("credit-card-number")),account.currency){(existingAccount.rawNumber&&existingAccount.rawNumber.includes(account.currency)||existingAccount.label&&existingAccount.label.includes(account.currency)||existingAccount.originalBankLabel&&existingAccount.originalBankLabel.includes(account.currency))&&(points+=50,methods.push("currency"))}return res.points=points,res},normalizeAccount=account=>{const normalizedAccountNumber=normalizeAccountNumber(account.number,account.iban);return{...account,rawNumber:account.number,number:normalizedAccountNumber}},exactMatchAttributes=["iban","number"],eqNotUndefined=(attr1,attr2)=>attr1&&attr1===attr2,findMatch=(account,existingAccounts)=>{for(const exactAttribute of exactMatchAttributes)if(account[exactAttribute]){const result=findExactMatch(exactAttribute,account,existingAccounts);if(result&&result.match)return result}const matchOriginalNumber=existingAccounts.find(otherAccount=>eqNotUndefined(account.originalNumber,otherAccount.number)||eqNotUndefined(account.number,otherAccount.originalNumber));if(matchOriginalNumber)return{match:matchOriginalNumber,method:"originalNumber-exact"};const candidates=sortBy(existingAccounts.map(existingAccount=>score(account,existingAccount)),x=>-x.points).filter(x=>x.points>0);return candidates.length>0?{match:candidates[0].account,method:candidates[0].methods.join("-")}:void 0};module.exports={matchAccounts:(fetchedAccounts,existingAccounts)=>{fetchedAccounts=fetchedAccounts.map(normalizeAccount);const toMatch=[...existingAccounts].map(normalizeAccount),results=[];for(let fetchedAccount of fetchedAccounts){const matchResult=findMatch(fetchedAccount,toMatch);if(matchResult){const i=toMatch.indexOf(matchResult.match);toMatch.splice(i,1),results.push({account:fetchedAccount,...matchResult})}else results.push({account:fetchedAccount})}return results},normalizeAccountNumber:normalizeAccountNumber,score:score}},function(module,exports){module.exports={"AXA Banque":"axabanque102","/Banque Populaire.*/":"banquepopulaire",BforBank:"bforbank97","BNP Paribas":"bnpparibas82",BNPP:"bnpparibas82","/Boursorama.*/":"boursorama83",casden:"casden173","/Hello bank!.*/":"hellobank145",Bred:"bred",CA:"caatlantica3","Carrefour Banque":"carrefour159","/Caisse d'pargne.*/":"caissedepargne1","Compte Nickel":"comptenickel168","/^CIC.*/":"cic63","Crdit Agricole":"caatlantica3","Crdit Coopratif":"creditcooperatif148","/Crdit du Nord.*/":"cdngroup88","/Crdit Maritime.*/":"creditmaritime","/Crdit Mutuel.*/":"cic45",Fortuneo:"fortuneo84","Hello bank!":"hellobank145","HSBC France":"hsbc119",HSBC:"hsbc119","/^ING.*/":"ingdirect95","/La Banque Postale.*/":"labanquepostale44","/LCL.*/":"lcl-linxo",Milleis:"barclays136",Monabanq:"monabanq96","Socit Gnrale":"societegenerale","Socit marseillaise de crdit":"cdngroup109"}},function(module,exports,__webpack_require__){const fromPairs=__webpack_require__(92),log=__webpack_require__(29).namespace("BankingReconciliator");module.exports=class{constructor(options){this.options=options}async saveAccounts(fetchedAccounts,options){const{BankAccount:BankAccount}=this.options,stackAccounts=await BankAccount.fetchAll(),reconciliatedAccounts=BankAccount.reconciliate(fetchedAccounts,stackAccounts);log("info","Saving accounts...");const savedAccounts=await BankAccount.bulkSave(reconciliatedAccounts);return options.onAccountsSaved&&options.onAccountsSaved(savedAccounts),{savedAccounts:savedAccounts,reconciliatedAccounts:reconciliatedAccounts}}async save(fetchedAccounts,fetchedTransactions,options={}){const{BankAccount:BankAccount,BankTransaction:BankTransaction}=this.options,{reconciliatedAccounts:reconciliatedAccounts,savedAccounts:savedAccounts}=await this.saveAccounts(fetchedAccounts,options),vendorIdToCozyId=fromPairs(savedAccounts.map(acc=>[acc[BankAccount.vendorIdAttr],acc._id]));log("info","Linking transactions to accounts..."),log("info",JSON.stringify(vendorIdToCozyId)),fetchedTransactions.forEach(tr=>{if(tr.account=vendorIdToCozyId[tr[BankTransaction.vendorAccountIdAttr]],void 0===tr.account)throw log("warn",`Transaction without account, vendorAccountIdAttr: ${BankTransaction.vendorAccountIdAttr}`),log("warn","transaction: "+JSON.stringify(tr)),new Error("Transaction without account.")});const reconciliatedAccountIds=new Set(reconciliatedAccounts.filter(acc=>acc._id).map(acc=>acc._id)),stackTransactions=(await BankTransaction.fetchAll()).filter(transaction=>reconciliatedAccountIds.has(transaction.account)),transactions=BankTransaction.reconciliate(fetchedTransactions,stackTransactions,options);log("info","Saving transactions...");let i=1;return{accounts:savedAccounts,transactions:await BankTransaction.bulkSave(transactions,30,doc=>{log("debug",`[bulkSave] ${i++} Saving ${doc.date} ${doc.label}`)})}}}},function(module,exports,__webpack_require__){const keyBy=__webpack_require__(87),groupBy=__webpack_require__(41),maxBy=__webpack_require__(275),addDays=__webpack_require__(257),isAfter=__webpack_require__(475),Document=__webpack_require__(38),log=__webpack_require__(391),BankAccount=__webpack_require__(249),{matchTransactions:matchTransactions}=__webpack_require__(781),maxValue=(iterable,fn)=>{const res=maxBy(iterable,fn);return res?fn(res):null},getDate=transaction=>{return(transaction.realisationDate||transaction.date).slice(0,10)},getSplitDate=stackTransactions=>{const now=new Date,notFutureTransactions=stackTransactions.filter(transaction=>{const date=getDate(transaction);return!isAfter(date,now)});return maxValue(notFutureTransactions,getDate)},ensureISOString=date=>date instanceof Date?date.toISOString():date;class Transaction extends Document{static getDate(transaction){return transaction}isAfter(minDate){if(minDate){const day=ensureISOString(this.date).slice(0,10);return"NaN"!==day?day>minDate:(log("warn","transaction date could not be parsed. transaction: "+JSON.stringify(this)),!1)}return!0}isBeforeOrSame(maxDate){if(maxDate){const day=ensureISOString(this.date).slice(0,10);return"NaN"!==day?day<=maxDate:(log("warn","transaction date could not be parsed. transaction: "+JSON.stringify(this)),!1)}return!0}getIdentifier(){return`${this.amount}-${this.originalBankLabel}-${this.date}`}static getMissedTransactions(newTransactions,stackTransactions,options={}){const oldestDate=maxValue(stackTransactions,getDate),frontierDate=addDays(oldestDate,-7),recentNewTransactions=newTransactions.filter(tr=>isAfter(getDate(tr),frontierDate)),missedTransactions=Array.from(matchTransactions(recentNewTransactions,stackTransactions)).filter(result=>!result.match).map(result=>result.transaction),trackEvent=options.trackEvent;if("function"==typeof trackEvent)try{const nbMissed=missedTransactions.length,nbExisting=stackTransactions.length;trackEvent({e_a:"ReconciliateMissing",e_n:"MissedTransactionPct",e_v:parseFloat((nbMissed/nbExisting).toFixed(2),10)}),trackEvent({e_a:"ReconciliateMissing",e_n:"MissedTransactionAbs",e_v:nbMissed})}catch(e){log("warn",`Could not send MissedTransaction event: ${e.message}`)}return missedTransactions}static reconciliate(remoteTransactions,localTransactions,options={}){const groups=groupBy(remoteTransactions,transaction=>(transaction=>localTransactions.find(t=>t.vendorId===transaction.vendorId))(transaction)?"updatedTransactions":"newTransactions");let newTransactions=groups.newTransactions||[];const updatedTransactions=groups.updatedTransactions||[],splitDate=getSplitDate(localTransactions);if(splitDate){"function"==typeof options.trackEvent&&options.trackEvent({e_a:"ReconciliateSplitDate"});const isAfterSplit=x=>Transaction.prototype.isAfter.call(x,splitDate),isBeforeSplit=x=>Transaction.prototype.isBeforeOrSame.call(x,splitDate),transactionsAfterSplit=newTransactions.filter(isAfterSplit);transactionsAfterSplit.length>0?log("info",`Found ${transactionsAfterSplit.length} transactions after ${splitDate}`):log("info",`No transaction after ${splitDate}`);const transactionsBeforeSplit=newTransactions.filter(isBeforeSplit);log("info",`Found ${transactionsBeforeSplit.length} transactions before ${splitDate}`);const missedTransactions=Transaction.getMissedTransactions(transactionsBeforeSplit,localTransactions,options);missedTransactions.length>0?log("info",`Found ${missedTransactions.length} missed transactions before ${splitDate}`):log("info",`No missed transactions before ${splitDate}`),newTransactions=[...transactionsAfterSplit,...missedTransactions]}else log("info","Can't find a split date, saving all new transactions");return log("info",`Transaction reconciliation: new ${newTransactions.length}, updated ${updatedTransactions.length}, split date ${splitDate} `),[].concat(newTransactions).concat(updatedTransactions)}static async getMostRecentForAccounts(accountIds){try{log("debug","Transaction.getLast");const index=await Document.getIndex(this.doctype,["date","account"]),options={selector:{date:{$gte:null},account:{$in:accountIds}},sort:[{date:"desc"}]},transactions=await Document.query(index,options);return log("info","last transactions length: "+transactions.length),transactions}catch(e){return log("error",e),[]}}static async deleteOrphans(){log("info","Deleting up orphan operations");const accounts=keyBy(await BankAccount.fetchAll(),"_id"),operations=await this.fetchAll(),orphanOperations=operations.filter(x=>!accounts[x.account]);if(log("info",`Total number of operations: ${operations.length}`),log("info",`Total number of orphan operations: ${orphanOperations.length}`),log("info",`Deleting ${orphanOperations.length} orphan operations...`),orphanOperations.length>0)return this.deleteAll(orphanOperations)}getVendorAccountId(){return this[this.constructor.vendorAccountIdAttr]}static getCategoryId(transaction,options){const opts={localModelOverride:!1,localModelUsageThreshold:this.LOCAL_MODEL_USAGE_THRESHOLD,globalModelUsageThreshold:this.GLOBAL_MODEL_USAGE_THRESHOLD,...options};return transaction.manualCategoryId?transaction.manualCategoryId:opts.localModelOverride&&transaction.localCategoryId&&transaction.localCategoryProba&&transaction.localCategoryProba>opts.localModelUsageThreshold?transaction.localCategoryId:transaction.cozyCategoryId&&transaction.cozyCategoryProba&&transaction.cozyCategoryProba>opts.globalModelUsageThreshold?transaction.cozyCategoryId:transaction.localCategoryId||transaction.cozyCategoryId?transaction.automaticCategoryId:null}}Transaction.doctype="io.cozy.bank.operations",Transaction.version=1,Transaction.vendorAccountIdAttr="vendorAccountId",Transaction.vendorIdAttr="vendorId",Transaction.idAttributes=["vendorId"],Transaction.checkedAttributes=["label","originalBankLabel","automaticCategoryId","account"],Transaction.LOCAL_MODEL_USAGE_THRESHOLD=.8,Transaction.GLOBAL_MODEL_USAGE_THRESHOLD=.15,Transaction.getSplitDate=getSplitDate,module.exports=Transaction},function(module,exports,__webpack_require__){const groupBy=__webpack_require__(41),sortBy=__webpack_require__(74),{eitherIncludes:eitherIncludes}=__webpack_require__(393),getDateTransaction=op=>op.date.substr(0,10),squash=(str,char)=>{const rx=new RegExp(String.raw`${char}{2,}`,"gi");return str&&str.replace(rx,char)},redactedNumber=/\b[0-9X]+\b/gi,dateRx=/\b\d{2}\/\d{2}\/\d{4}\b/g,cleanLabel=label=>label&&label.replace(redactedNumber,""),withoutDate=str=>str&&str.replace(dateRx,""),compacted=str=>str&&str.replace(/\s/g,"").replace(/-/g,""),scoreMatching=(newTr,existingTr,options={})=>{const methods=[],res={op:existingTr,methods:methods};if(options.maxDateDelta){if(((newTr,existingTr)=>{const nDate1=new Date(newTr.date.substr(0,10)),eDate1=new Date(existingTr.date.substr(0,10)),delta=Math.abs(eDate1-nDate1);if(newTr.realisationDate){const nDate2=new Date(newTr.realisationDate.substr(0,10)),delta2=Math.abs(eDate1-nDate2);return Math.min(delta,delta2)}return delta})(newTr,existingTr)>options.maxDateDelta)return res.points=-1e3,res;methods.push("approx-date")}const[labelPoints,labelMethod]=((newTr,existingTr)=>squash(existingTr.originalBankLabel," ")===squash(newTr.originalBankLabel," ")?[200,"originalBankLabel"]:compacted(existingTr.originalBankLabel)===compacted(newTr.originalBankLabel)?[120,"originalBankLabelCompacted"]:withoutDate(existingTr.originalBankLabel)===withoutDate(newTr.originalBankLabel)?[150,"originalBankLabelWithoutDate"]:existingTr.label===newTr.label?[100,"label"]:eitherIncludes(existingTr.label.toLowerCase(),newTr.label.toLowerCase())?[70,"eitherIncludes"]:eitherIncludes(cleanLabel(existingTr.label.toLowerCase()),cleanLabel(newTr.label.toLowerCase()))?[50,"fuzzy-eitherIncludes"]:[-1e3,"label-penalty"])(newTr,existingTr);methods.push(labelMethod);const points=(0===Math.abs(existingTr.amount-newTr.amount)?methods.push("amount")&&100:-1e3)+labelPoints;return res.points=points,res},matchTransaction=(newTr,existingTrs,options={})=>{const exactVendorId=existingTrs.find(existingTr=>existingTr.vendorId&&newTr.vendorId&&existingTr.vendorId===newTr.vendorId);if(exactVendorId)return{match:exactVendorId,method:"vendorId"};const withPoints=existingTrs.map(existingTr=>scoreMatching(newTr,existingTr,options)),candidates=sortBy(withPoints,x=>-x.points).filter(x=>x.points>0);return candidates.length>0?{match:candidates[0].op,method:candidates[0].methods.join("-")}:{candidates:candidates}},matchTransactionToGroup=function*(newTrs,existingTrs,options={}){const toMatch=Array.isArray(existingTrs)?[...existingTrs]:[];for(let newTr of newTrs){const res={transaction:newTr},result=toMatch.length>0?matchTransaction(newTr,toMatch,options):null;if(result){Object.assign(res,result);const matchIdx=toMatch.indexOf(result.match);matchIdx>-1&&toMatch.splice(matchIdx,1)}yield res}};module.exports={matchTransactions:function*(newTrs,existingTrs){const unmatchedNew=new Set(newTrs),unmatchedExisting=new Set(existingTrs);for(let[date,[newGroup,existingGroup]]of function*(iterables,grouper){const grouped=iterables.map(items=>groupBy(items,grouper));for(const key of Object.keys(grouped[0]).sort()){const groups=grouped.map(keyedGroups=>keyedGroups[key]||[]);yield[key,groups]}}([newTrs,existingTrs],getDateTransaction))for(let result of matchTransactionToGroup(newGroup,existingGroup))result.match&&(unmatchedExisting.delete(result.match),unmatchedNew.delete(result.transaction),yield result);const deltas=[3,4,5];for(let delta of deltas)for(let result of matchTransactionToGroup(Array.from(unmatchedNew),Array.from(unmatchedExisting),{maxDateDelta:864e5*delta}))result.method&&(result.method+=`-delta${delta}`),result.match&&(unmatchedExisting.delete(result.match),unmatchedNew.delete(result.transaction)),(result.match||delta===deltas[deltas.length-1])&&(yield result)},scoreMatching:scoreMatching}},function(module,exports,__webpack_require__){const Document=__webpack_require__(38),sumBy=__webpack_require__(111);class BankAccountStats extends Document{static checkCurrencies(accountsStats){const currency=accountsStats[0].currency;for(const accountStats of accountsStats)if(accountStats.currency!==currency)return!1;return!0}static sum(accountsStats){if(0===accountsStats.length)throw new Error("You must give at least one stats object");if(!this.checkCurrencies(accountsStats))throw new Error("Currency of all stats object must be the same.");const summedStats=["income","additionalIncome","mortgage","loans","fixedCharges"].reduce((sums,property)=>(sums[property]=sumBy(accountsStats,accountStats=>accountStats[property]||0),sums),{});return summedStats.currency=accountsStats[0].currency,summedStats}}BankAccountStats.doctype="io.cozy.bank.accounts.stats",BankAccountStats.idAttributes=["_id"],BankAccountStats.version=1,BankAccountStats.checkedAttributes=null,module.exports=BankAccountStats},function(module,exports,__webpack_require__){var baseToString=__webpack_require__(216),castSlice=__webpack_require__(388),charsEndIndex=__webpack_require__(784),stringToArray=__webpack_require__(389),toString=__webpack_require__(81),reTrimEnd=/\s+$/;module.exports=function(string,chars,guard){if((string=toString(string))&&(guard||void 0===chars))return string.replace(reTrimEnd,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string),end=charsEndIndex(strSymbols,stringToArray(chars))+1;return castSlice(strSymbols,0,end).join("")}},function(module,exports,__webpack_require__){var baseIndexOf=__webpack_require__(270);module.exports=function(strSymbols,chrSymbols){for(var index=strSymbols.length;index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1;);return index}},function(module,exports,__webpack_require__){const Application=__webpack_require__(392),CozyFile=__webpack_require__(395);class CozyFolder extends CozyFile{static async createFolderWithReference(path,document){const collection=this.cozyClient.collection(CozyFile.doctype),dirId=await collection.ensureDirectoryExists(path);await collection.addReferencesTo(document,[{_id:dirId}]);const{data:dirInfos}=await collection.get(dirId);return dirInfos}static async ensureMagicFolder(id,path){const magicFolderDocument={_type:Application.doctype,_id:id},folders=await this.getReferencedFolders(magicFolderDocument),existingMagicFolder=folders.length?folders[0]:null;if(existingMagicFolder)return existingMagicFolder;const magicFoldersValues=Object.values(this.magicFolders);if(!magicFoldersValues.includes(id))throw new Error(`Cannot create Magic folder with id ${id}. Allowed values are ${magicFoldersValues.join(", ")}.`);if(!path)throw new Error("Magic folder default path must be defined");return this.createFolderWithReference(path,magicFolderDocument)}static async getReferencedFolders(document){const{included:included}=await this.cozyClient.collection(CozyFile.doctype).findReferencedBy(document);return included.filter(folder=>!this.isTrashed(folder))}static async ensureFolderWithReference(path,document){const existingFolders=await this.getReferencedFolders(document);if(existingFolders.length)return existingFolders[0];const collection=this.cozyClient.collection(CozyFile.doctype),dirId=await collection.ensureDirectoryExists(path);await collection.addReferencesTo(document,[{_id:dirId}]);const{data:dirInfos}=await collection.get(dirId);return dirInfos}static isTrashed(folder){return/^\/\.cozy_trash/.test(folder.attributes.path)}}CozyFolder.magicFolders={ADMINISTRATIVE:`${Application.doctype}/administrative`,PHOTOS:`${Application.doctype}/photos`,PHOTOS_BACKUP:`${Application.doctype}/photos/mobile`,PHOTOS_UPLOAD:`${Application.doctype}/photos/upload`},module.exports=CozyFolder},function(module,exports,__webpack_require__){const PropTypes=__webpack_require__(183),Document=__webpack_require__(38);class Group extends Document{}const GroupShape=PropTypes.shape({_id:PropTypes.string.isRequired,_type:PropTypes.string.isRequired,name:PropTypes.string.isRequired,trashed:PropTypes.bool});Group.doctype="io.cozy.contacts.groups",Group.propType=GroupShape,module.exports=Group},function(module,exports,__webpack_require__){const Document=__webpack_require__(38);class Permission extends Document{}Permission.schema={doctype:"io.cozy.permissions",attributes:{}},module.exports=Permission},,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,_Symbol=(_freeGlobal||freeSelf||Function("return this")()).Symbol,objectProto=Object.prototype,_getRawTag_hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=_Symbol?_Symbol.toStringTag:void 0;var _getRawTag=function(value){var isOwn=_getRawTag_hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=void 0;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]),result},_objectToString_nativeObjectToString=Object.prototype.toString;var _objectToString=function(value){return _objectToString_nativeObjectToString.call(value)},nullTag="[object Null]",undefinedTag="[object Undefined]",_baseGetTag_symToStringTag=_Symbol?_Symbol.toStringTag:void 0;var _baseGetTag=function(value){return null==value?void 0===value?undefinedTag:nullTag:_baseGetTag_symToStringTag&&_baseGetTag_symToStringTag in Object(value)?_getRawTag(value):_objectToString(value)};var _getPrototype=function(func,transform){return function(arg){return func(transform(arg))}}(Object.getPrototypeOf,Object);var lodash_es_isObjectLike=function(value){return null!=value&&"object"==typeof value},objectTag="[object Object]",funcProto=Function.prototype,isPlainObject_objectProto=Object.prototype,funcToString=funcProto.toString,isPlainObject_hasOwnProperty=isPlainObject_objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);var lodash_es_isPlainObject=function(value){if(!lodash_es_isObjectLike(value)||_baseGetTag(value)!=objectTag)return!1;var proto=_getPrototype(value);if(null===proto)return!0;var Ctor=isPlainObject_hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString},es=__webpack_require__(253),ActionTypes={INIT:"@@redux/INIT"};function createStore_createStore(reducer,preloadedState,enhancer){var _ref2;if("function"==typeof preloadedState&&void 0===enhancer&&(enhancer=preloadedState,preloadedState=void 0),void 0!==enhancer){if("function"!=typeof enhancer)throw new Error("Expected the enhancer to be a function.");return enhancer(createStore_createStore)(reducer,preloadedState)}if("function"!=typeof reducer)throw new Error("Expected the reducer to be a function.");var currentReducer=reducer,currentState=preloadedState,currentListeners=[],nextListeners=currentListeners,isDispatching=!1;function ensureCanMutateNextListeners(){nextListeners===currentListeners&&(nextListeners=currentListeners.slice())}function getState(){return currentState}function subscribe(listener){if("function"!=typeof listener)throw new Error("Expected listener to be a function.");var isSubscribed=!0;return ensureCanMutateNextListeners(),nextListeners.push(listener),function(){if(isSubscribed){isSubscribed=!1,ensureCanMutateNextListeners();var index=nextListeners.indexOf(listener);nextListeners.splice(index,1)}}}function dispatch(action){if(!lodash_es_isPlainObject(action))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===action.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(isDispatching)throw new Error("Reducers may not dispatch actions.");try{isDispatching=!0,currentState=currentReducer(currentState,action)}finally{isDispatching=!1}for(var listeners=currentListeners=nextListeners,i=0;i<listeners.length;i++){(0,listeners[i])()}return action}return dispatch({type:ActionTypes.INIT}),(_ref2={dispatch:dispatch,subscribe:subscribe,getState:getState,replaceReducer:function(nextReducer){if("function"!=typeof nextReducer)throw new Error("Expected the nextReducer to be a function.");currentReducer=nextReducer,dispatch({type:ActionTypes.INIT})}})[es.a]=function(){var _ref,outerSubscribe=subscribe;return(_ref={subscribe:function(observer){if("object"!=typeof observer)throw new TypeError("Expected the observer to be an object.");function observeState(){observer.next&&observer.next(getState())}return observeState(),{unsubscribe:outerSubscribe(observeState)}}})[es.a]=function(){return this},_ref},_ref2}function getUndefinedStateErrorMessage(key,action){var actionType=action&&action.type;return"Given action "+(actionType&&'"'+actionType.toString()+'"'||"an action")+', reducer "'+key+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function combineReducers(reducers){for(var reducerKeys=Object.keys(reducers),finalReducers={},i=0;i<reducerKeys.length;i++){var key=reducerKeys[i];0,"function"==typeof reducers[key]&&(finalReducers[key]=reducers[key])}var finalReducerKeys=Object.keys(finalReducers);var shapeAssertionError=void 0;try{!function(reducers){Object.keys(reducers).forEach(function(key){var reducer=reducers[key];if(void 0===reducer(void 0,{type:ActionTypes.INIT}))throw new Error('Reducer "'+key+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===reducer(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+key+"\" returned undefined when probed with a random type. Don't try to handle "+ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(finalReducers)}catch(e){shapeAssertionError=e}return function(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},action=arguments[1];if(shapeAssertionError)throw shapeAssertionError;for(var hasChanged=!1,nextState={},_i=0;_i<finalReducerKeys.length;_i++){var _key=finalReducerKeys[_i],reducer=finalReducers[_key],previousStateForKey=state[_key],nextStateForKey=reducer(previousStateForKey,action);if(void 0===nextStateForKey){var errorMessage=getUndefinedStateErrorMessage(_key,action);throw new Error(errorMessage)}nextState[_key]=nextStateForKey,hasChanged=hasChanged||nextStateForKey!==previousStateForKey}return hasChanged?nextState:state}}function bindActionCreator(actionCreator,dispatch){return function(){return dispatch(actionCreator.apply(void 0,arguments))}}function bindActionCreators(actionCreators,dispatch){if("function"==typeof actionCreators)return bindActionCreator(actionCreators,dispatch);if("object"!=typeof actionCreators||null===actionCreators)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===actionCreators?"null":typeof actionCreators)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var keys=Object.keys(actionCreators),boundActionCreators={},i=0;i<keys.length;i++){var key=keys[i],actionCreator=actionCreators[key];"function"==typeof actionCreator&&(boundActionCreators[key]=bindActionCreator(actionCreator,dispatch))}return boundActionCreators}function compose(){for(var _len=arguments.length,funcs=Array(_len),_key=0;_key<_len;_key++)funcs[_key]=arguments[_key];return 0===funcs.length?function(arg){return arg}:1===funcs.length?funcs[0]:funcs.reduce(function(a,b){return function(){return a(b.apply(void 0,arguments))}})}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function applyMiddleware(){for(var _len=arguments.length,middlewares=Array(_len),_key=0;_key<_len;_key++)middlewares[_key]=arguments[_key];return function(createStore){return function(reducer,preloadedState,enhancer){var chain,store=createStore(reducer,preloadedState,enhancer),_dispatch=store.dispatch,middlewareAPI={getState:store.getState,dispatch:function(action){return _dispatch(action)}};return chain=middlewares.map(function(middleware){return middleware(middlewareAPI)}),_dispatch=compose.apply(void 0,chain)(store.dispatch),_extends({},store,{dispatch:_dispatch})}}}__webpack_require__.d(__webpack_exports__,"createStore",function(){return createStore_createStore}),__webpack_require__.d(__webpack_exports__,"combineReducers",function(){return combineReducers}),__webpack_require__.d(__webpack_exports__,"bindActionCreators",function(){return bindActionCreators}),__webpack_require__.d(__webpack_exports__,"applyMiddleware",function(){return applyMiddleware}),__webpack_require__.d(__webpack_exports__,"compose",function(){return compose})},,function(module,exports,__webpack_require__){module.exports=function(undefined){"use strict";var hex_chr=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function md5cycle(x,k){var a=x[0],b=x[1],c=x[2],d=x[3];a+=(b&c|~b&d)+k[0]-680876936|0,d+=((a=(a<<7|a>>>25)+b|0)&b|~a&c)+k[1]-389564586|0,c+=((d=(d<<12|d>>>20)+a|0)&a|~d&b)+k[2]+606105819|0,b+=((c=(c<<17|c>>>15)+d|0)&d|~c&a)+k[3]-1044525330|0,a+=((b=(b<<22|b>>>10)+c|0)&c|~b&d)+k[4]-176418897|0,d+=((a=(a<<7|a>>>25)+b|0)&b|~a&c)+k[5]+1200080426|0,c+=((d=(d<<12|d>>>20)+a|0)&a|~d&b)+k[6]-1473231341|0,b+=((c=(c<<17|c>>>15)+d|0)&d|~c&a)+k[7]-45705983|0,a+=((b=(b<<22|b>>>10)+c|0)&c|~b&d)+k[8]+1770035416|0,d+=((a=(a<<7|a>>>25)+b|0)&b|~a&c)+k[9]-1958414417|0,c+=((d=(d<<12|d>>>20)+a|0)&a|~d&b)+k[10]-42063|0,b+=((c=(c<<17|c>>>15)+d|0)&d|~c&a)+k[11]-1990404162|0,a+=((b=(b<<22|b>>>10)+c|0)&c|~b&d)+k[12]+1804603682|0,d+=((a=(a<<7|a>>>25)+b|0)&b|~a&c)+k[13]-40341101|0,c+=((d=(d<<12|d>>>20)+a|0)&a|~d&b)+k[14]-1502002290|0,b+=((c=(c<<17|c>>>15)+d|0)&d|~c&a)+k[15]+1236535329|0,a+=((b=(b<<22|b>>>10)+c|0)&d|c&~d)+k[1]-165796510|0,d+=((a=(a<<5|a>>>27)+b|0)&c|b&~c)+k[6]-1069501632|0,c+=((d=(d<<9|d>>>23)+a|0)&b|a&~b)+k[11]+643717713|0,b+=((c=(c<<14|c>>>18)+d|0)&a|d&~a)+k[0]-373897302|0,a+=((b=(b<<20|b>>>12)+c|0)&d|c&~d)+k[5]-701558691|0,d+=((a=(a<<5|a>>>27)+b|0)&c|b&~c)+k[10]+38016083|0,c+=((d=(d<<9|d>>>23)+a|0)&b|a&~b)+k[15]-660478335|0,b+=((c=(c<<14|c>>>18)+d|0)&a|d&~a)+k[4]-405537848|0,a+=((b=(b<<20|b>>>12)+c|0)&d|c&~d)+k[9]+568446438|0,d+=((a=(a<<5|a>>>27)+b|0)&c|b&~c)+k[14]-1019803690|0,c+=((d=(d<<9|d>>>23)+a|0)&b|a&~b)+k[3]-187363961|0,b+=((c=(c<<14|c>>>18)+d|0)&a|d&~a)+k[8]+1163531501|0,a+=((b=(b<<20|b>>>12)+c|0)&d|c&~d)+k[13]-1444681467|0,d+=((a=(a<<5|a>>>27)+b|0)&c|b&~c)+k[2]-51403784|0,c+=((d=(d<<9|d>>>23)+a|0)&b|a&~b)+k[7]+1735328473|0,b+=((c=(c<<14|c>>>18)+d|0)&a|d&~a)+k[12]-1926607734|0,a+=((b=(b<<20|b>>>12)+c|0)^c^d)+k[5]-378558|0,d+=((a=(a<<4|a>>>28)+b|0)^b^c)+k[8]-2022574463|0,c+=((d=(d<<11|d>>>21)+a|0)^a^b)+k[11]+1839030562|0,b+=((c=(c<<16|c>>>16)+d|0)^d^a)+k[14]-35309556|0,a+=((b=(b<<23|b>>>9)+c|0)^c^d)+k[1]-1530992060|0,d+=((a=(a<<4|a>>>28)+b|0)^b^c)+k[4]+1272893353|0,c+=((d=(d<<11|d>>>21)+a|0)^a^b)+k[7]-155497632|0,b+=((c=(c<<16|c>>>16)+d|0)^d^a)+k[10]-1094730640|0,a+=((b=(b<<23|b>>>9)+c|0)^c^d)+k[13]+681279174|0,d+=((a=(a<<4|a>>>28)+b|0)^b^c)+k[0]-358537222|0,c+=((d=(d<<11|d>>>21)+a|0)^a^b)+k[3]-722521979|0,b+=((c=(c<<16|c>>>16)+d|0)^d^a)+k[6]+76029189|0,a+=((b=(b<<23|b>>>9)+c|0)^c^d)+k[9]-640364487|0,d+=((a=(a<<4|a>>>28)+b|0)^b^c)+k[12]-421815835|0,c+=((d=(d<<11|d>>>21)+a|0)^a^b)+k[15]+530742520|0,b+=((c=(c<<16|c>>>16)+d|0)^d^a)+k[2]-995338651|0,a+=(c^((b=(b<<23|b>>>9)+c|0)|~d))+k[0]-198630844|0,d+=(b^((a=(a<<6|a>>>26)+b|0)|~c))+k[7]+1126891415|0,c+=(a^((d=(d<<10|d>>>22)+a|0)|~b))+k[14]-1416354905|0,b+=(d^((c=(c<<15|c>>>17)+d|0)|~a))+k[5]-57434055|0,a+=(c^((b=(b<<21|b>>>11)+c|0)|~d))+k[12]+1700485571|0,d+=(b^((a=(a<<6|a>>>26)+b|0)|~c))+k[3]-1894986606|0,c+=(a^((d=(d<<10|d>>>22)+a|0)|~b))+k[10]-1051523|0,b+=(d^((c=(c<<15|c>>>17)+d|0)|~a))+k[1]-2054922799|0,a+=(c^((b=(b<<21|b>>>11)+c|0)|~d))+k[8]+1873313359|0,d+=(b^((a=(a<<6|a>>>26)+b|0)|~c))+k[15]-30611744|0,c+=(a^((d=(d<<10|d>>>22)+a|0)|~b))+k[6]-1560198380|0,b+=(d^((c=(c<<15|c>>>17)+d|0)|~a))+k[13]+1309151649|0,a+=(c^((b=(b<<21|b>>>11)+c|0)|~d))+k[4]-145523070|0,d+=(b^((a=(a<<6|a>>>26)+b|0)|~c))+k[11]-1120210379|0,c+=(a^((d=(d<<10|d>>>22)+a|0)|~b))+k[2]+718787259|0,b=((b+=(d^((c=(c<<15|c>>>17)+d|0)|~a))+k[9]-343485551|0)<<21|b>>>11)+c|0,x[0]=a+x[0]|0,x[1]=b+x[1]|0,x[2]=c+x[2]|0,x[3]=d+x[3]|0}function md5blk(s){var i,md5blks=[];for(i=0;i<64;i+=4)md5blks[i>>2]=s.charCodeAt(i)+(s.charCodeAt(i+1)<<8)+(s.charCodeAt(i+2)<<16)+(s.charCodeAt(i+3)<<24);return md5blks}function md5blk_array(a){var i,md5blks=[];for(i=0;i<64;i+=4)md5blks[i>>2]=a[i]+(a[i+1]<<8)+(a[i+2]<<16)+(a[i+3]<<24);return md5blks}function md51(s){var i,length,tail,tmp,lo,hi,n=s.length,state=[1732584193,-271733879,-1732584194,271733878];for(i=64;i<=n;i+=64)md5cycle(state,md5blk(s.substring(i-64,i)));for(s=s.substring(i-64),length=s.length,tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=0;i<length;i+=1)tail[i>>2]|=s.charCodeAt(i)<<(i%4<<3);if(tail[i>>2]|=128<<(i%4<<3),i>55)for(md5cycle(state,tail),i=0;i<16;i+=1)tail[i]=0;return tmp=(tmp=8*n).toString(16).match(/(.*?)(.{0,8})$/),lo=parseInt(tmp[2],16),hi=parseInt(tmp[1],16)||0,tail[14]=lo,tail[15]=hi,md5cycle(state,tail),state}function rhex(n){var j,s="";for(j=0;j<4;j+=1)s+=hex_chr[n>>8*j+4&15]+hex_chr[n>>8*j&15];return s}function hex(x){var i;for(i=0;i<x.length;i+=1)x[i]=rhex(x[i]);return x.join("")}function toUtf8(str){return/[\u0080-\uFFFF]/.test(str)&&(str=unescape(encodeURIComponent(str))),str}function hexToBinaryString(hex){var x,bytes=[],length=hex.length;for(x=0;x<length-1;x+=2)bytes.push(parseInt(hex.substr(x,2),16));return String.fromCharCode.apply(String,bytes)}function SparkMD5(){this.reset()}return hex(md51("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function clamp(val,length){return(val=0|val||0)<0?Math.max(val+length,0):Math.min(val,length)}ArrayBuffer.prototype.slice=function(from,to){var num,target,targetArray,sourceArray,length=this.byteLength,begin=clamp(from,length),end=length;return to!==undefined&&(end=clamp(to,length)),begin>end?new ArrayBuffer(0):(num=end-begin,target=new ArrayBuffer(num),targetArray=new Uint8Array(target),sourceArray=new Uint8Array(this,begin,num),targetArray.set(sourceArray),target)}}(),SparkMD5.prototype.append=function(str){return this.appendBinary(toUtf8(str)),this},SparkMD5.prototype.appendBinary=function(contents){this._buff+=contents,this._length+=contents.length;var i,length=this._buff.length;for(i=64;i<=length;i+=64)md5cycle(this._hash,md5blk(this._buff.substring(i-64,i)));return this._buff=this._buff.substring(i-64),this},SparkMD5.prototype.end=function(raw){var i,ret,buff=this._buff,length=buff.length,tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<length;i+=1)tail[i>>2]|=buff.charCodeAt(i)<<(i%4<<3);return this._finish(tail,length),ret=hex(this._hash),raw&&(ret=hexToBinaryString(ret)),this.reset(),ret},SparkMD5.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},SparkMD5.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},SparkMD5.prototype.setState=function(state){return this._buff=state.buff,this._length=state.length,this._hash=state.hash,this},SparkMD5.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},SparkMD5.prototype._finish=function(tail,length){var tmp,lo,hi,i=length;if(tail[i>>2]|=128<<(i%4<<3),i>55)for(md5cycle(this._hash,tail),i=0;i<16;i+=1)tail[i]=0;tmp=(tmp=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),lo=parseInt(tmp[2],16),hi=parseInt(tmp[1],16)||0,tail[14]=lo,tail[15]=hi,md5cycle(this._hash,tail)},SparkMD5.hash=function(str,raw){return SparkMD5.hashBinary(toUtf8(str),raw)},SparkMD5.hashBinary=function(content,raw){var ret=hex(md51(content));return raw?hexToBinaryString(ret):ret},SparkMD5.ArrayBuffer=function(){this.reset()},SparkMD5.ArrayBuffer.prototype.append=function(arr){var i,first,second,returnUInt8Array,result,buff=(first=this._buff.buffer,second=arr,returnUInt8Array=!0,(result=new Uint8Array(first.byteLength+second.byteLength)).set(new Uint8Array(first)),result.set(new Uint8Array(second),first.byteLength),returnUInt8Array?result:result.buffer),length=buff.length;for(this._length+=arr.byteLength,i=64;i<=length;i+=64)md5cycle(this._hash,md5blk_array(buff.subarray(i-64,i)));return this._buff=i-64<length?new Uint8Array(buff.buffer.slice(i-64)):new Uint8Array(0),this},SparkMD5.ArrayBuffer.prototype.end=function(raw){var i,ret,buff=this._buff,length=buff.length,tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<length;i+=1)tail[i>>2]|=buff[i]<<(i%4<<3);return this._finish(tail,length),ret=hex(this._hash),raw&&(ret=hexToBinaryString(ret)),this.reset(),ret},SparkMD5.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},SparkMD5.ArrayBuffer.prototype.getState=function(){var buff,state=SparkMD5.prototype.getState.call(this);return state.buff=(buff=state.buff,String.fromCharCode.apply(null,new Uint8Array(buff))),state},SparkMD5.ArrayBuffer.prototype.setState=function(state){return state.buff=function(str,returnUInt8Array){var i,length=str.length,buff=new ArrayBuffer(length),arr=new Uint8Array(buff);for(i=0;i<length;i+=1)arr[i]=str.charCodeAt(i);return returnUInt8Array?arr:buff}(state.buff,!0),SparkMD5.prototype.setState.call(this,state)},SparkMD5.ArrayBuffer.prototype.destroy=SparkMD5.prototype.destroy,SparkMD5.ArrayBuffer.prototype._finish=SparkMD5.prototype._finish,SparkMD5.ArrayBuffer.hash=function(arr,raw){var ret=hex(function(a){var i,length,tail,tmp,lo,hi,n=a.length,state=[1732584193,-271733879,-1732584194,271733878];for(i=64;i<=n;i+=64)md5cycle(state,md5blk_array(a.subarray(i-64,i)));for(a=i-64<n?a.subarray(i-64):new Uint8Array(0),length=a.length,tail=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=0;i<length;i+=1)tail[i>>2]|=a[i]<<(i%4<<3);if(tail[i>>2]|=128<<(i%4<<3),i>55)for(md5cycle(state,tail),i=0;i<16;i+=1)tail[i]=0;return tmp=(tmp=8*n).toString(16).match(/(.*?)(.{0,8})$/),lo=parseInt(tmp[2],16),hi=parseInt(tmp[1],16)||0,tail[14]=lo,tail[15]=hi,md5cycle(state,tail),state}(new Uint8Array(arr)));return raw?hexToBinaryString(ret):ret},SparkMD5}()},,function(module,exports,__webpack_require__){"use strict";var tough=__webpack_require__(437),Cookie=tough.Cookie,CookieJar=tough.CookieJar;function RequestJar(store){this._jar=new CookieJar(store,{looseMode:!0})}exports.parse=function(str){if(str&&str.uri&&(str=str.uri),"string"!=typeof str)throw new Error("The cookie function only accepts STRING as param");return Cookie.parse(str,{loose:!0})},RequestJar.prototype.setCookie=function(cookieOrStr,uri,options){return this._jar.setCookieSync(cookieOrStr,uri,options||{})},RequestJar.prototype.getCookieString=function(uri){return this._jar.getCookieStringSync(uri)},RequestJar.prototype.getCookies=function(uri){return this._jar.getCookiesSync(uri)},exports.jar=function(store){return new RequestJar(store)}},function(module,exports,__webpack_require__){"use strict";
/*!
 * Copyright (c) 2018, Salesforce.com, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. Neither the name of Salesforce.com nor the names of its contributors may
 * be used to endorse or promote products derived from this software without
 * specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */var psl=__webpack_require__(953);exports.getPublicSuffix=function(domain){return psl.get(domain)}},function(module,exports){module.exports=require("punycode")},function(module,exports,__webpack_require__){"use strict";
/*!
 * Copyright (c) 2015, Salesforce.com, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. Neither the name of Salesforce.com nor the names of its contributors may
 * be used to endorse or promote products derived from this software without
 * specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */function Store(){}exports.Store=Store,Store.prototype.synchronous=!1,Store.prototype.findCookie=function(domain,path,key,cb){throw new Error("findCookie is not implemented")},Store.prototype.findCookies=function(domain,path,cb){throw new Error("findCookies is not implemented")},Store.prototype.putCookie=function(cookie,cb){throw new Error("putCookie is not implemented")},Store.prototype.updateCookie=function(oldCookie,newCookie,cb){throw new Error("updateCookie is not implemented")},Store.prototype.removeCookie=function(domain,path,key,cb){throw new Error("removeCookie is not implemented")},Store.prototype.removeCookies=function(domain,path,cb){throw new Error("removeCookies is not implemented")},Store.prototype.removeAllCookies=function(cb){throw new Error("removeAllCookies is not implemented")},Store.prototype.getAllCookies=function(cb){throw new Error("getAllCookies is not implemented (therefore jar cannot be serialized)")}},function(module,exports,__webpack_require__){"use strict";
/*!
 * Copyright (c) 2015, Salesforce.com, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. Neither the name of Salesforce.com nor the names of its contributors may
 * be used to endorse or promote products derived from this software without
 * specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */var pubsuffix=__webpack_require__(794);exports.permuteDomain=function(domain){var pubSuf=pubsuffix.getPublicSuffix(domain);if(!pubSuf)return null;if(pubSuf==domain)return[domain];for(var parts=domain.slice(0,-(pubSuf.length+1)).split(".").reverse(),cur=pubSuf,permutations=[cur];parts.length;)cur=parts.shift()+"."+cur,permutations.push(cur);return permutations}},function(module,exports,__webpack_require__){"use strict";
/*!
 * Copyright (c) 2015, Salesforce.com, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. Neither the name of Salesforce.com nor the names of its contributors may
 * be used to endorse or promote products derived from this software without
 * specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */exports.pathMatch=function(reqPath,cookiePath){if(cookiePath===reqPath)return!0;if(0===reqPath.indexOf(cookiePath)){if("/"===cookiePath.substr(-1))return!0;if("/"===reqPath.substr(cookiePath.length,1))return!0}return!1}},function(module,exports,__webpack_require__){module.exports={Verifier:Verifier,Signer:Signer};var nacl=__webpack_require__(262),stream=__webpack_require__(10),util=__webpack_require__(8),assert=__webpack_require__(18),Buffer=__webpack_require__(13).Buffer,Signature=__webpack_require__(121);function Verifier(key,hashAlgo){if("sha512"!==hashAlgo.toLowerCase())throw new Error("ED25519 only supports the use of SHA-512 hashes");this.key=key,this.chunks=[],stream.Writable.call(this,{})}function Signer(key,hashAlgo){if("sha512"!==hashAlgo.toLowerCase())throw new Error("ED25519 only supports the use of SHA-512 hashes");this.key=key,this.chunks=[],stream.Writable.call(this,{})}util.inherits(Verifier,stream.Writable),Verifier.prototype._write=function(chunk,enc,cb){this.chunks.push(chunk),cb()},Verifier.prototype.update=function(chunk){"string"==typeof chunk&&(chunk=Buffer.from(chunk,"binary")),this.chunks.push(chunk)},Verifier.prototype.verify=function(signature,fmt){var sig;if(Signature.isSignature(signature,[2,0])){if("ed25519"!==signature.type)return!1;sig=signature.toBuffer("raw")}else if("string"==typeof signature)sig=Buffer.from(signature,"base64");else if(Signature.isSignature(signature,[1,0]))throw new Error("signature was created by too old a version of sshpk and cannot be verified");return assert.buffer(sig),nacl.sign.detached.verify(new Uint8Array(Buffer.concat(this.chunks)),new Uint8Array(sig),new Uint8Array(this.key.part.A.data))},util.inherits(Signer,stream.Writable),Signer.prototype._write=function(chunk,enc,cb){this.chunks.push(chunk),cb()},Signer.prototype.update=function(chunk){"string"==typeof chunk&&(chunk=Buffer.from(chunk,"binary")),this.chunks.push(chunk)},Signer.prototype.sign=function(){var sig=nacl.sign.detached(new Uint8Array(Buffer.concat(this.chunks)),new Uint8Array(Buffer.concat([this.key.part.k.data,this.key.part.A.data]))),sigBuf=Buffer.from(sig),sigObj=Signature.parse(sigBuf,"ed25519","raw");return sigObj.hashAlgorithm="sha512",sigObj}},function(module,exports,__webpack_require__){module.exports={read:function(buf,options){if("string"==typeof buf){if(buf.trim().match(/^[-]+[ ]*BEGIN/))return pem.read(buf,options);if(buf.match(/^\s*ssh-[a-z]/))return ssh.read(buf,options);if(buf.match(/^\s*ecdsa-/))return ssh.read(buf,options);if(buf.match(/^putty-user-key-file-2:/i))return putty.read(buf,options);if(findDNSSECHeader(buf))return dnssec.read(buf,options);buf=Buffer.from(buf,"binary")}else{if(assert.buffer(buf),function(buf){var offset=0;for(;offset<buf.length&&(32===buf[offset]||10===buf[offset]);)++offset;if(45!==buf[offset])return!1;for(;offset<buf.length&&45===buf[offset];)++offset;for(;offset<buf.length&&32===buf[offset];)++offset;return!(offset+5>buf.length||"BEGIN"!==buf.slice(offset,offset+5).toString("ascii"))}(buf))return pem.read(buf,options);if(function(buf){var offset=0;for(;offset<buf.length&&(32===buf[offset]||10===buf[offset]||9===buf[offset]);)++offset;return offset+4<=buf.length&&"ssh-"===buf.slice(offset,offset+4).toString("ascii")||offset+6<=buf.length&&"ecdsa-"===buf.slice(offset,offset+6).toString("ascii")}(buf))return ssh.read(buf,options);if(function(buf){var offset=0;for(;offset<buf.length&&(32===buf[offset]||10===buf[offset]||9===buf[offset]);)++offset;return offset+22<=buf.length&&"putty-user-key-file-2:"===buf.slice(offset,offset+22).toString("ascii").toLowerCase()}(buf))return putty.read(buf,options);if(findDNSSECHeader(buf))return dnssec.read(buf,options)}if(buf.readUInt32BE(0)<buf.length)return rfc4253.read(buf,options);throw new Error("Failed to auto-detect format of key")},write:function(key,options){throw new Error('"auto" format cannot be used for writing')}};var assert=__webpack_require__(18),Buffer=__webpack_require__(13).Buffer,pem=(__webpack_require__(46),__webpack_require__(45),__webpack_require__(53),__webpack_require__(142)),ssh=__webpack_require__(802),rfc4253=__webpack_require__(143),dnssec=__webpack_require__(445),putty=__webpack_require__(803),DNSSEC_PRIVKEY_HEADER_PREFIX="Private-key-format: v1";function findDNSSECHeader(buf){if(buf.length<=DNSSEC_PRIVKEY_HEADER_PREFIX.length)return!1;if(buf.slice(0,DNSSEC_PRIVKEY_HEADER_PREFIX.length).toString("ascii")===DNSSEC_PRIVKEY_HEADER_PREFIX)return!0;"string"!=typeof buf&&(buf=buf.toString("ascii"));for(var lines=buf.split("\n"),line=0;lines[line].match(/^\;/);)line++;return!!lines[line].toString("ascii").match(/\. IN KEY /)||!!lines[line].toString("ascii").match(/\. IN DNSKEY /)}},function(module,exports,__webpack_require__){"use strict";var crypto_hash_sha512=__webpack_require__(262).lowlevel.crypto_hash,BLF_J=0,Blowfish=function(){this.S=[new Uint32Array([3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946]),new Uint32Array([1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055]),new Uint32Array([3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504]),new Uint32Array([976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462])],this.P=new Uint32Array([608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731])};function F(S,x8,i){return(S[0][x8[i+3]]+S[1][x8[i+2]]^S[2][x8[i+1]])+S[3][x8[i]]}function stream2word(data,databytes){var i,temp=0;for(i=0;i<4;i++,BLF_J++)BLF_J>=databytes&&(BLF_J=0),temp=temp<<8|data[BLF_J];return temp}Blowfish.prototype.encipher=function(x,x8){void 0===x8&&(x8=new Uint8Array(x.buffer),0!==x.byteOffset&&(x8=x8.subarray(x.byteOffset))),x[0]^=this.P[0];for(var i=1;i<16;i+=2)x[1]^=F(this.S,x8,0)^this.P[i],x[0]^=F(this.S,x8,4)^this.P[i+1];var t=x[0];x[0]=x[1]^this.P[17],x[1]=t},Blowfish.prototype.decipher=function(x){var x8=new Uint8Array(x.buffer);0!==x.byteOffset&&(x8=x8.subarray(x.byteOffset)),x[0]^=this.P[17];for(var i=16;i>0;i-=2)x[1]^=F(this.S,x8,0)^this.P[i],x[0]^=F(this.S,x8,4)^this.P[i-1];var t=x[0];x[0]=x[1]^this.P[0],x[1]=t},Blowfish.prototype.expand0state=function(key,keybytes){var i,k,d=new Uint32Array(2),d8=new Uint8Array(d.buffer);for(i=0,BLF_J=0;i<18;i++)this.P[i]^=stream2word(key,keybytes);for(BLF_J=0,i=0;i<18;i+=2)this.encipher(d,d8),this.P[i]=d[0],this.P[i+1]=d[1];for(i=0;i<4;i++)for(k=0;k<256;k+=2)this.encipher(d,d8),this.S[i][k]=d[0],this.S[i][k+1]=d[1]},Blowfish.prototype.expandstate=function(data,databytes,key,keybytes){var i,k,d=new Uint32Array(2);for(i=0,BLF_J=0;i<18;i++)this.P[i]^=stream2word(key,keybytes);for(i=0,BLF_J=0;i<18;i+=2)d[0]^=stream2word(data,databytes),d[1]^=stream2word(data,databytes),this.encipher(d),this.P[i]=d[0],this.P[i+1]=d[1];for(i=0;i<4;i++)for(k=0;k<256;k+=2)d[0]^=stream2word(data,databytes),d[1]^=stream2word(data,databytes),this.encipher(d),this.S[i][k]=d[0],this.S[i][k+1]=d[1];BLF_J=0},Blowfish.prototype.enc=function(data,blocks){for(var i=0;i<blocks;i++)this.encipher(data.subarray(2*i))},Blowfish.prototype.dec=function(data,blocks){for(var i=0;i<blocks;i++)this.decipher(data.subarray(2*i))};var BCRYPT_BLOCKS=8,BCRYPT_HASHSIZE=32;function bcrypt_hash(sha2pass,sha2salt,out){var i,state=new Blowfish,cdata=new Uint32Array(BCRYPT_BLOCKS),ciphertext=new Uint8Array([79,120,121,99,104,114,111,109,97,116,105,99,66,108,111,119,102,105,115,104,83,119,97,116,68,121,110,97,109,105,116,101]);for(state.expandstate(sha2salt,64,sha2pass,64),i=0;i<64;i++)state.expand0state(sha2salt,64),state.expand0state(sha2pass,64);for(i=0;i<BCRYPT_BLOCKS;i++)cdata[i]=stream2word(ciphertext,ciphertext.byteLength);for(i=0;i<64;i++)state.enc(cdata,cdata.byteLength/8);for(i=0;i<BCRYPT_BLOCKS;i++)out[4*i+3]=cdata[i]>>>24,out[4*i+2]=cdata[i]>>>16,out[4*i+1]=cdata[i]>>>8,out[4*i+0]=cdata[i]}module.exports={BLOCKS:BCRYPT_BLOCKS,HASHSIZE:BCRYPT_HASHSIZE,hash:bcrypt_hash,pbkdf:function(pass,passlen,salt,saltlen,key,keylen,rounds){var i,j,amt,stride,dest,count,sha2pass=new Uint8Array(64),sha2salt=new Uint8Array(64),out=new Uint8Array(BCRYPT_HASHSIZE),tmpout=new Uint8Array(BCRYPT_HASHSIZE),countsalt=new Uint8Array(saltlen+4),origkeylen=keylen;if(rounds<1)return-1;if(0===passlen||0===saltlen||0===keylen||keylen>out.byteLength*out.byteLength||saltlen>1<<20)return-1;for(stride=Math.floor((keylen+out.byteLength-1)/out.byteLength),amt=Math.floor((keylen+stride-1)/stride),i=0;i<saltlen;i++)countsalt[i]=salt[i];for(crypto_hash_sha512(sha2pass,pass,passlen),count=1;keylen>0;count++){for(countsalt[saltlen+0]=count>>>24,countsalt[saltlen+1]=count>>>16,countsalt[saltlen+2]=count>>>8,countsalt[saltlen+3]=count,crypto_hash_sha512(sha2salt,countsalt,saltlen+4),bcrypt_hash(sha2pass,sha2salt,tmpout),i=out.byteLength;i--;)out[i]=tmpout[i];for(i=1;i<rounds;i++)for(crypto_hash_sha512(sha2salt,tmpout,tmpout.byteLength),bcrypt_hash(sha2pass,sha2salt,tmpout),j=0;j<out.byteLength;j++)out[j]^=tmpout[j];for(amt=Math.min(amt,keylen),i=0;i<amt&&!((dest=i*stride+(count-1))>=origkeylen);i++)key[dest]=out[i];keylen-=i}return 0}}},function(module,exports,__webpack_require__){module.exports={read:function(buf,options){"string"!=typeof buf&&(assert.buffer(buf,"buf"),buf=buf.toString("ascii"));var trimmed=buf.trim().replace(/[\\\r]/g,""),m=trimmed.match(SSHKEY_RE);m||(m=trimmed.match(SSHKEY_RE2));assert.ok(m,"key must match regex");var key,type=rfc4253.algToKeyType(m[1]),kbuf=Buffer.from(m[2],"base64"),ret={};if(m[4])try{key=rfc4253.read(kbuf)}catch(e){m=trimmed.match(SSHKEY_RE2),assert.ok(m,"key must match regex"),kbuf=Buffer.from(m[2],"base64"),key=rfc4253.readInternal(ret,"public",kbuf)}else key=rfc4253.readInternal(ret,"public",kbuf);if(assert.strictEqual(type,key.type),m[4]&&m[4].length>0)key.comment=m[4];else if(ret.consumed){var data=m[2]+(m[3]?m[3]:""),realOffset=4*Math.ceil(ret.consumed/3);data=data.slice(0,realOffset-2).replace(/[^a-zA-Z0-9+\/=]/g,"")+data.slice(realOffset-2);var padding=ret.consumed%3;for(padding>0&&"="!==data.slice(realOffset-1,realOffset)&&realOffset--;"="===data.slice(realOffset,realOffset+1);)realOffset++;var trailer=data.slice(realOffset);(trailer=trailer.replace(/[\r\n]/g," ").replace(/^\s+/,"")).match(/^[a-zA-Z0-9]/)&&(key.comment=trailer)}return key},write:function(key,options){if(assert.object(key),!Key.isKey(key))throw new Error("Must be a public key");var parts=[],alg=rfc4253.keyTypeToAlg(key);parts.push(alg);var buf=rfc4253.write(key);parts.push(buf.toString("base64")),key.comment&&parts.push(key.comment);return Buffer.from(parts.join(" "))}};var assert=__webpack_require__(18),Buffer=__webpack_require__(13).Buffer,rfc4253=__webpack_require__(143),Key=(__webpack_require__(46),__webpack_require__(45)),SSHKEY_RE=(__webpack_require__(53),__webpack_require__(305),/^([a-z0-9-]+)[ \t]+([a-zA-Z0-9+\/]+[=]*)([ \t]+([^ \t][^\n]*[\n]*)?)?$/),SSHKEY_RE2=/^([a-z0-9-]+)[ \t\n]+([a-zA-Z0-9+\/][a-zA-Z0-9+\/ \t\n=]*)([^a-zA-Z0-9+\/ \t\n=].*)?$/},function(module,exports,__webpack_require__){module.exports={read:function(buf,options){var parts,lines=buf.toString("ascii").split(/[\r\n]+/),found=!1,si=0;for(;si<lines.length;)if((parts=splitHeader(lines[si++]))&&"putty-user-key-file-2"===parts[0].toLowerCase()){found=!0;break}if(!found)throw new Error("No PuTTY format first line found");var alg=parts[1];parts=splitHeader(lines[si++]),assert.equal(parts[0].toLowerCase(),"encryption"),parts=splitHeader(lines[si++]),assert.equal(parts[0].toLowerCase(),"comment");var comment=parts[1];parts=splitHeader(lines[si++]),assert.equal(parts[0].toLowerCase(),"public-lines");var publicLines=parseInt(parts[1],10);if(!isFinite(publicLines)||publicLines<0||publicLines>lines.length)throw new Error("Invalid public-lines count");var publicBuf=Buffer.from(lines.slice(si,si+publicLines).join(""),"base64"),keyType=rfc4253.algToKeyType(alg),key=rfc4253.read(publicBuf);if(key.type!==keyType)throw new Error("Outer key algorithm mismatch");return key.comment=comment,key},write:function(key,options){if(assert.object(key),!Key.isKey(key))throw new Error("Must be a public key");var alg=rfc4253.keyTypeToAlg(key),buf=rfc4253.write(key),comment=key.comment||"",lines=function(txt,len){var lines=[],pos=0;for(;pos<txt.length;)lines.push(txt.slice(pos,pos+64)),pos+=64;return lines}(buf.toString("base64"));return lines.unshift("Public-Lines: "+lines.length),lines.unshift("Comment: "+comment),lines.unshift("Encryption: none"),lines.unshift("PuTTY-User-Key-File-2: "+alg),Buffer.from(lines.join("\n")+"\n")}};var assert=__webpack_require__(18),Buffer=__webpack_require__(13).Buffer,rfc4253=__webpack_require__(143),Key=__webpack_require__(45);__webpack_require__(112);function splitHeader(line){var idx=line.indexOf(":");if(-1===idx)return null;var header=line.slice(0,idx);for(++idx;" "===line[idx];)++idx;return[header,line.slice(idx)]}},function(module,exports,__webpack_require__){module.exports={read:function(buf,options){"string"==typeof buf&&(buf=Buffer.from(buf,"binary"));assert.buffer(buf,"buf");var der=new asn1.BerReader(buf);if(der.readSequence(),Math.abs(der.length-der.remain)>1)throw new Error("DER sequence does not contain whole byte stream");var tbsStart=der.offset;der.readSequence();var sigOffset=der.offset+der.length,tbsEnd=sigOffset;if(der.peek()===Local(0)){der.readSequence(Local(0));var version=der.readInt();assert.ok(version<=3,"only x.509 versions up to v3 supported")}var cert={signatures:{}},sig=cert.signatures.x509={};sig.extras={},cert.serial=function(der,nm){return assert.strictEqual(der.peek(),asn1.Ber.Integer,nm+" is not an Integer"),utils.mpNormalize(der.readString(asn1.Ber.Integer,!0))}(der,"serial"),der.readSequence();var after=der.offset+der.length,certAlgOid=der.readOID();if(void 0===SIGN_ALGS[certAlgOid])throw new Error("unknown signature algorithm "+certAlgOid);der._offset=after,cert.issuer=Identity.parseAsn1(der),der.readSequence(),cert.validFrom=readDate(der),cert.validUntil=readDate(der),cert.subjects=[Identity.parseAsn1(der)],der.readSequence(),after=der.offset+der.length,cert.subjectKey=pkcs8.readPkcs8(void 0,"public",der),der._offset=after,der.peek()===Local(1)&&(der.readSequence(Local(1)),sig.extras.issuerUniqueID=buf.slice(der.offset,der.offset+der.length),der._offset+=der.length);der.peek()===Local(2)&&(der.readSequence(Local(2)),sig.extras.subjectUniqueID=buf.slice(der.offset,der.offset+der.length),der._offset+=der.length);if(der.peek()===Local(3)){der.readSequence(Local(3));var extEnd=der.offset+der.length;for(der.readSequence();der.offset<extEnd;)readExtension(cert,buf,der);assert.strictEqual(der.offset,extEnd)}assert.strictEqual(der.offset,sigOffset),der.readSequence(),after=der.offset+der.length;var sigAlgOid=der.readOID(),sigAlg=SIGN_ALGS[sigAlgOid];if(void 0===sigAlg)throw new Error("unknown signature algorithm "+sigAlgOid);der._offset=after;var sigData=der.readString(asn1.Ber.BitString,!0);0===sigData[0]&&(sigData=sigData.slice(1));var algParts=sigAlg.split("-");return sig.signature=Signature.parse(sigData,algParts[0],"asn1"),sig.signature.hashAlgorithm=algParts[1],sig.algo=sigAlg,sig.cache=buf.slice(tbsStart,tbsEnd),new Certificate(cert)},verify:function(cert,key){var sig=cert.signatures.x509;assert.object(sig,"x509 signature");var algParts=sig.algo.split("-");if(algParts[0]!==key.type)return!1;var blob=sig.cache;if(void 0===blob){var der=new asn1.BerWriter;writeTBSCert(cert,der),blob=der.buffer}var verifier=key.createVerify(algParts[1]);return verifier.write(blob),verifier.verify(sig.signature)},sign:function(cert,key){void 0===cert.signatures.x509&&(cert.signatures.x509={});var sig=cert.signatures.x509;if(sig.algo=key.type+"-"+key.defaultHashAlgorithm(),void 0===SIGN_ALGS[sig.algo])return!1;var der=new asn1.BerWriter;writeTBSCert(cert,der);var blob=der.buffer;sig.cache=blob;var signer=key.createSign();return signer.write(blob),cert.signatures.x509.signature=signer.sign(),!0},signAsync:function(cert,signer,done){void 0===cert.signatures.x509&&(cert.signatures.x509={});var sig=cert.signatures.x509,der=new asn1.BerWriter;writeTBSCert(cert,der);var blob=der.buffer;sig.cache=blob,signer(blob,function(err,signature){err?done(err):(sig.algo=signature.type+"-"+signature.hashAlgorithm,void 0!==SIGN_ALGS[sig.algo]?(sig.signature=signature,done()):done(new Error('Invalid signing algorithm "'+sig.algo+'"')))})},write:function(cert,options){var sig=cert.signatures.x509;assert.object(sig,"x509 signature");var der=new asn1.BerWriter;der.startSequence(),sig.cache?(der._ensure(sig.cache.length),sig.cache.copy(der._buf,der._offset),der._offset+=sig.cache.length):writeTBSCert(cert,der);der.startSequence(),der.writeOID(SIGN_ALGS[sig.algo]),sig.algo.match(/^rsa-/)&&der.writeNull();der.endSequence();var sigData=sig.signature.toBuffer("asn1"),data=Buffer.alloc(sigData.length+1);return data[0]=0,sigData.copy(data,1),der.writeBuffer(data,asn1.Ber.BitString),der.endSequence(),der.buffer}};var assert=__webpack_require__(18),asn1=__webpack_require__(122),Buffer=__webpack_require__(13).Buffer,utils=(__webpack_require__(57),__webpack_require__(46)),Identity=(__webpack_require__(45),__webpack_require__(53),__webpack_require__(142),__webpack_require__(266)),Signature=__webpack_require__(121),Certificate=__webpack_require__(265),pkcs8=__webpack_require__(264);function Local(i){return asn1.Ber.Context|asn1.Ber.Constructor|i}function Context(i){return asn1.Ber.Context|i}var SIGN_ALGS={"rsa-md5":"1.2.840.113549.1.1.4","rsa-sha1":"1.2.840.113549.1.1.5","rsa-sha256":"1.2.840.113549.1.1.11","rsa-sha384":"1.2.840.113549.1.1.12","rsa-sha512":"1.2.840.113549.1.1.13","dsa-sha1":"1.2.840.10040.4.3","dsa-sha256":"2.16.840.1.101.3.4.3.2","ecdsa-sha1":"1.2.840.10045.4.1","ecdsa-sha256":"1.2.840.10045.4.3.2","ecdsa-sha384":"1.2.840.10045.4.3.3","ecdsa-sha512":"1.2.840.10045.4.3.4","ed25519-sha512":"1.3.101.112"};Object.keys(SIGN_ALGS).forEach(function(k){SIGN_ALGS[SIGN_ALGS[k]]=k}),SIGN_ALGS["1.3.14.3.2.3"]="rsa-md5",SIGN_ALGS["1.3.14.3.2.29"]="rsa-sha1";var EXTS={issuerKeyId:"2.5.29.35",altName:"2.5.29.17",basicConstraints:"2.5.29.19",keyUsage:"2.5.29.15",extKeyUsage:"2.5.29.37"};function readDate(der){if(der.peek()===asn1.Ber.UTCTime)return function(t){var m=t.match(UTCTIME_RE);assert.ok(m,"timestamps must be in UTC");var d=new Date,thisYear=d.getUTCFullYear(),century=100*Math.floor(thisYear/100),year=parseInt(m[1],10);year+=thisYear%100<50&&year>=60?century-1:century;d.setUTCFullYear(year,parseInt(m[2],10)-1,parseInt(m[3],10)),d.setUTCHours(parseInt(m[4],10),parseInt(m[5],10)),m[6]&&m[6].length>0&&d.setUTCSeconds(parseInt(m[6],10));return d}(der.readString(asn1.Ber.UTCTime));if(der.peek()===asn1.Ber.GeneralizedTime)return function(t){var m=t.match(GTIME_RE);assert.ok(m);var d=new Date;d.setUTCFullYear(parseInt(m[1],10),parseInt(m[2],10)-1,parseInt(m[3],10)),d.setUTCHours(parseInt(m[4],10),parseInt(m[5],10)),m[6]&&m[6].length>0&&d.setUTCSeconds(parseInt(m[6],10));return d}(der.readString(asn1.Ber.GeneralizedTime));throw new Error("Unsupported date format")}function writeDate(der,date){var d,s;date.getUTCFullYear()>=2050||date.getUTCFullYear()<1950?der.writeString((s="",s+=zeroPad((d=date).getUTCFullYear(),4),s+=zeroPad(d.getUTCMonth()+1),s+=zeroPad(d.getUTCDate()),s+=zeroPad(d.getUTCHours()),s+=zeroPad(d.getUTCMinutes()),s+=zeroPad(d.getUTCSeconds()),s+="Z"),asn1.Ber.GeneralizedTime):der.writeString(function(d){var s="";return s+=zeroPad(d.getUTCFullYear()%100),s+=zeroPad(d.getUTCMonth()+1),s+=zeroPad(d.getUTCDate()),s+=zeroPad(d.getUTCHours()),s+=zeroPad(d.getUTCMinutes()),s+=zeroPad(d.getUTCSeconds()),s+="Z"}(date),asn1.Ber.UTCTime)}var ALTNAME={OtherName:Local(0),RFC822Name:Context(1),DNSName:Context(2),X400Address:Local(3),DirectoryName:Local(4),EDIPartyName:Local(5),URI:Context(6),IPAddress:Context(7),OID:Context(8)},EXTPURPOSE={serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",joyentDocker:"1.3.6.1.4.1.38678.1.4.1",joyentCmon:"1.3.6.1.4.1.38678.1.4.2"},EXTPURPOSE_REV={};Object.keys(EXTPURPOSE).forEach(function(k){EXTPURPOSE_REV[EXTPURPOSE[k]]=k});var KEYUSEBITS=["signature","identity","keyEncryption","encryption","keyAgreement","ca","crl"];function readExtension(cert,buf,der){der.readSequence();var id,critical,after=der.offset+der.length,extId=der.readOID(),sig=cert.signatures.x509;switch(sig.extras.exts||(sig.extras.exts=[]),der.peek()===asn1.Ber.Boolean&&(critical=der.readBoolean()),extId){case EXTS.basicConstraints:der.readSequence(asn1.Ber.OctetString),der.readSequence();var bcEnd=der.offset+der.length,ca=!1;der.peek()===asn1.Ber.Boolean&&(ca=der.readBoolean()),void 0===cert.purposes&&(cert.purposes=[]),!0===ca&&cert.purposes.push("ca");var bc={oid:extId,critical:critical};der.offset<bcEnd&&der.peek()===asn1.Ber.Integer&&(bc.pathLen=der.readInt()),sig.extras.exts.push(bc);break;case EXTS.extKeyUsage:der.readSequence(asn1.Ber.OctetString),der.readSequence(),void 0===cert.purposes&&(cert.purposes=[]);for(var ekEnd=der.offset+der.length;der.offset<ekEnd;){var oid=der.readOID();cert.purposes.push(EXTPURPOSE_REV[oid]||oid)}-1!==cert.purposes.indexOf("serverAuth")&&-1===cert.purposes.indexOf("clientAuth")?cert.subjects.forEach(function(ide){"host"!==ide.type&&(ide.type="host",ide.hostname=ide.uid||ide.email||ide.components[0].value)}):-1!==cert.purposes.indexOf("clientAuth")&&-1===cert.purposes.indexOf("serverAuth")&&cert.subjects.forEach(function(ide){"user"!==ide.type&&(ide.type="user",ide.uid=ide.hostname||ide.email||ide.components[0].value)}),sig.extras.exts.push({oid:extId,critical:critical});break;case EXTS.keyUsage:der.readSequence(asn1.Ber.OctetString);var bits=der.readString(asn1.Ber.BitString,!0);(function(bits,bitIndex){for(var bitLen=8*(bits.length-1)-bits[0],setBits={},i=0;i<bitLen;++i){var byteN=1+Math.floor(i/8),bit=7-i%8,mask=1<<bit,bitVal=0!=(bits[byteN]&mask),name=bitIndex[i];bitVal&&"string"==typeof name&&(setBits[name]=!0)}return Object.keys(setBits)})(bits,KEYUSEBITS).forEach(function(bit){void 0===cert.purposes&&(cert.purposes=[]),-1===cert.purposes.indexOf(bit)&&cert.purposes.push(bit)}),sig.extras.exts.push({oid:extId,critical:critical,bits:bits});break;case EXTS.altName:der.readSequence(asn1.Ber.OctetString),der.readSequence();for(var aeEnd=der.offset+der.length;der.offset<aeEnd;)switch(der.peek()){case ALTNAME.OtherName:case ALTNAME.EDIPartyName:der.readSequence(),der._offset+=der.length;break;case ALTNAME.OID:der.readOID(ALTNAME.OID);break;case ALTNAME.RFC822Name:var email=der.readString(ALTNAME.RFC822Name);id=Identity.forEmail(email),cert.subjects[0].equals(id)||cert.subjects.push(id);break;case ALTNAME.DirectoryName:der.readSequence(ALTNAME.DirectoryName),id=Identity.parseAsn1(der),cert.subjects[0].equals(id)||cert.subjects.push(id);break;case ALTNAME.DNSName:var host=der.readString(ALTNAME.DNSName);id=Identity.forHost(host),cert.subjects[0].equals(id)||cert.subjects.push(id);break;default:der.readString(der.peek())}sig.extras.exts.push({oid:extId,critical:critical});break;default:sig.extras.exts.push({oid:extId,critical:critical,data:der.readString(asn1.Ber.OctetString,!0)})}der._offset=after}var UTCTIME_RE=/^([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})?Z$/;var GTIME_RE=/^([0-9]{4})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})?Z$/;function zeroPad(n,m){void 0===m&&(m=2);for(var s=""+n;s.length<m;)s="0"+s;return s}function writeTBSCert(cert,der){var sig=cert.signatures.x509;assert.object(sig,"x509 signature"),der.startSequence(),der.startSequence(Local(0)),der.writeInt(2),der.endSequence(),der.writeBuffer(utils.mpNormalize(cert.serial),asn1.Ber.Integer),der.startSequence(),der.writeOID(SIGN_ALGS[sig.algo]),sig.algo.match(/^rsa-/)&&der.writeNull(),der.endSequence(),cert.issuer.toAsn1(der),der.startSequence(),writeDate(der,cert.validFrom),writeDate(der,cert.validUntil),der.endSequence();var subject=cert.subjects[0],altNames=cert.subjects.slice(1);if(subject.toAsn1(der),pkcs8.writePkcs8(der,cert.subjectKey),sig.extras&&sig.extras.issuerUniqueID&&der.writeBuffer(sig.extras.issuerUniqueID,Local(1)),sig.extras&&sig.extras.subjectUniqueID&&der.writeBuffer(sig.extras.subjectUniqueID,Local(2)),altNames.length>0||"host"===subject.type||void 0!==cert.purposes&&cert.purposes.length>0||sig.extras&&sig.extras.exts){der.startSequence(Local(3)),der.startSequence();var exts=[];void 0!==cert.purposes&&cert.purposes.length>0&&(exts.push({oid:EXTS.basicConstraints,critical:!0}),exts.push({oid:EXTS.keyUsage,critical:!0}),exts.push({oid:EXTS.extKeyUsage,critical:!0})),exts.push({oid:EXTS.altName}),sig.extras&&sig.extras.exts&&(exts=sig.extras.exts);for(var i=0;i<exts.length;++i){if(der.startSequence(),der.writeOID(exts[i].oid),void 0!==exts[i].critical&&der.writeBoolean(exts[i].critical),exts[i].oid===EXTS.altName){der.startSequence(asn1.Ber.OctetString),der.startSequence(),"host"===subject.type&&der.writeString(subject.hostname,Context(2));for(var j=0;j<altNames.length;++j)"host"===altNames[j].type?der.writeString(altNames[j].hostname,ALTNAME.DNSName):"email"===altNames[j].type?der.writeString(altNames[j].email,ALTNAME.RFC822Name):(der.startSequence(ALTNAME.DirectoryName),altNames[j].toAsn1(der),der.endSequence());der.endSequence(),der.endSequence()}else if(exts[i].oid===EXTS.basicConstraints){der.startSequence(asn1.Ber.OctetString),der.startSequence();var ca=-1!==cert.purposes.indexOf("ca"),pathLen=exts[i].pathLen;der.writeBoolean(ca),void 0!==pathLen&&der.writeInt(pathLen),der.endSequence(),der.endSequence()}else if(exts[i].oid===EXTS.extKeyUsage)der.startSequence(asn1.Ber.OctetString),der.startSequence(),cert.purposes.forEach(function(purpose){if("ca"!==purpose&&-1===KEYUSEBITS.indexOf(purpose)){var oid=purpose;void 0!==EXTPURPOSE[purpose]&&(oid=EXTPURPOSE[purpose]),der.writeOID(oid)}}),der.endSequence(),der.endSequence();else if(exts[i].oid===EXTS.keyUsage){if(der.startSequence(asn1.Ber.OctetString),void 0!==exts[i].bits)der.writeBuffer(exts[i].bits,asn1.Ber.BitString);else{var bits=writeBitField(cert.purposes,KEYUSEBITS);der.writeBuffer(bits,asn1.Ber.BitString)}der.endSequence()}else der.writeBuffer(exts[i].data,asn1.Ber.OctetString);der.endSequence()}der.endSequence(),der.endSequence()}der.endSequence()}function writeBitField(setBits,bitIndex){var bitLen=bitIndex.length,blen=Math.ceil(bitLen/8),unused=8*blen-bitLen,bits=Buffer.alloc(1+blen);bits[0]=unused;for(var i=0;i<bitLen;++i){var byteN=1+Math.floor(i/8),mask=1<<7-i%8,name=bitIndex[i];if(void 0!==name)-1!==setBits.indexOf(name)&&(bits[byteN]|=mask)}return bits}},function(module,exports,__webpack_require__){var mod_assert=__webpack_require__(192),mod_util=__webpack_require__(8);function jsSprintf(fmt){var flags,width,precision,conversion,left,pad,sign,arg,match,regex=["([^%]*)","%","(['\\-+ #0]*?)","([1-9]\\d*)?","(\\.([1-9]\\d*))?","[lhjztL]*?","([diouxXfFeEgGaAcCsSp%jr])"].join(""),re=new RegExp(regex),args=Array.prototype.slice.call(arguments,1),ret="",argn=1;for(mod_assert.equal("string",typeof fmt);null!==(match=re.exec(fmt));)if(ret+=match[1],fmt=fmt.substring(match[0].length),flags=match[2]||"",width=match[3]||0,precision=match[4]||"",left=!1,sign=!1,pad=" ","%"!=(conversion=match[6])){if(0===args.length)throw new Error("too few args to sprintf");if(arg=args.shift(),argn++,flags.match(/[\' #]/))throw new Error("unsupported flags: "+flags);if(precision.length>0)throw new Error("non-zero precision not supported");switch(flags.match(/-/)&&(left=!0),flags.match(/0/)&&(pad="0"),flags.match(/\+/)&&(sign=!0),conversion){case"s":if(null==arg)throw new Error("argument "+argn+": attempted to print undefined or null as a string");ret+=doPad(pad,width,left,arg.toString());break;case"d":arg=Math.floor(arg);case"f":ret+=(sign=sign&&arg>0?"+":"")+doPad(pad,width,left,arg.toString());break;case"x":ret+=doPad(pad,width,left,arg.toString(16));break;case"j":0===width&&(width=10),ret+=mod_util.inspect(arg,!1,width);break;case"r":ret+=dumpException(arg);break;default:throw new Error("unsupported conversion: "+conversion)}}else ret+="%";return ret+=fmt}function jsFprintf(stream){var args=Array.prototype.slice.call(arguments,1);return stream.write(jsSprintf.apply(this,args))}function doPad(chr,width,left,str){for(var ret=str;ret.length<width;)left?ret+=chr:ret=chr+ret;return ret}function dumpException(ex){var ret;if(!(ex instanceof Error))throw new Error(jsSprintf("invalid type for %%r: %j",ex));if(ret="EXCEPTION: "+ex.constructor.name+": "+ex.stack,ex.cause&&"function"==typeof ex.cause){var cex=ex.cause();cex&&(ret+="\nCaused by: "+dumpException(cex))}return ret}exports.sprintf=jsSprintf,exports.printf=function(){var args=Array.prototype.slice.call(arguments);args.unshift(process.stdout),jsFprintf.apply(null,args)},exports.fprintf=jsFprintf},function(module,exports){module.exports=require("tls")},function(module,exports,__webpack_require__){var util=__webpack_require__(8),Stream=__webpack_require__(10).Stream,DelayedStream=__webpack_require__(978);function CombinedStream(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2097152,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}module.exports=CombinedStream,util.inherits(CombinedStream,Stream),CombinedStream.create=function(options){var combinedStream=new this;for(var option in options=options||{})combinedStream[option]=options[option];return combinedStream},CombinedStream.isStreamLike=function(stream){return"function"!=typeof stream&&"string"!=typeof stream&&"boolean"!=typeof stream&&"number"!=typeof stream&&!Buffer.isBuffer(stream)},CombinedStream.prototype.append=function(stream){if(CombinedStream.isStreamLike(stream)){if(!(stream instanceof DelayedStream)){var newStream=DelayedStream.create(stream,{maxDataSize:1/0,pauseStream:this.pauseStreams});stream.on("data",this._checkDataSize.bind(this)),stream=newStream}this._handleErrors(stream),this.pauseStreams&&stream.pause()}return this._streams.push(stream),this},CombinedStream.prototype.pipe=function(dest,options){return Stream.prototype.pipe.call(this,dest,options),this.resume(),dest},CombinedStream.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop)this._pendingNext=!0;else{this._insideLoop=!0;try{do{this._pendingNext=!1,this._realGetNext()}while(this._pendingNext)}finally{this._insideLoop=!1}}},CombinedStream.prototype._realGetNext=function(){var stream=this._streams.shift();void 0!==stream?"function"==typeof stream?stream(function(stream){CombinedStream.isStreamLike(stream)&&(stream.on("data",this._checkDataSize.bind(this)),this._handleErrors(stream)),this._pipeNext(stream)}.bind(this)):this._pipeNext(stream):this.end()},CombinedStream.prototype._pipeNext=function(stream){if(this._currentStream=stream,CombinedStream.isStreamLike(stream))return stream.on("end",this._getNext.bind(this)),void stream.pipe(this,{end:!1});var value=stream;this.write(value),this._getNext()},CombinedStream.prototype._handleErrors=function(stream){var self=this;stream.on("error",function(err){self._emitError(err)})},CombinedStream.prototype.write=function(data){this.emit("data",data)},CombinedStream.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.pause&&this._currentStream.pause(),this.emit("pause"))},CombinedStream.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&"function"==typeof this._currentStream.resume&&this._currentStream.resume(),this.emit("resume")},CombinedStream.prototype.end=function(){this._reset(),this.emit("end")},CombinedStream.prototype.destroy=function(){this._reset(),this.emit("close")},CombinedStream.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null},CombinedStream.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var message="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(message))}},CombinedStream.prototype._updateDataSize=function(){this.dataSize=0;var self=this;this._streams.forEach(function(stream){stream.dataSize&&(self.dataSize+=stream.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)},CombinedStream.prototype._emitError=function(err){this._reset(),this.emit("error",err)}},function(module,exports,__webpack_require__){var async=__webpack_require__(809),abort=__webpack_require__(810);module.exports=function(list,iterator,state,callback){var key=state.keyedList?state.keyedList[state.index]:state.index;state.jobs[key]=function(iterator,key,item,callback){var aborter;aborter=2==iterator.length?iterator(item,async(callback)):iterator(item,key,async(callback));return aborter}(iterator,key,list[key],function(error,output){key in state.jobs&&(delete state.jobs[key],error?abort(state):state.results[key]=output,callback(error,state.results))})}},function(module,exports,__webpack_require__){var defer=__webpack_require__(981);module.exports=function(callback){var isAsync=!1;return defer(function(){isAsync=!0}),function(err,result){isAsync?callback(err,result):defer(function(){callback(err,result)})}}},function(module,exports){module.exports=function(state){Object.keys(state.jobs).forEach(function(key){"function"==typeof this.jobs[key]&&this.jobs[key]()}.bind(state)),state.jobs={}}},function(module,exports){module.exports=function(list,sortMethod){var isNamedList=!Array.isArray(list),initState={index:0,keyedList:isNamedList||sortMethod?Object.keys(list):null,jobs:{},results:isNamedList?{}:[],size:isNamedList?Object.keys(list).length:list.length};sortMethod&&initState.keyedList.sort(isNamedList?sortMethod:function(a,b){return sortMethod(list[a],list[b])});return initState}},function(module,exports,__webpack_require__){var abort=__webpack_require__(810),async=__webpack_require__(809);module.exports=function(callback){if(!Object.keys(this.jobs).length)return;this.index=this.size,abort(this),async(callback)(null,this.results)}},function(module,exports,__webpack_require__){var iterate=__webpack_require__(808),initState=__webpack_require__(811),terminator=__webpack_require__(812);function ascending(a,b){return a<b?-1:a>b?1:0}module.exports=function(list,iterator,sortMethod,callback){var state=initState(list,sortMethod);return iterate(list,iterator,state,function iteratorHandler(error,result){error?callback(error,result):(state.index++,state.index<(state.keyedList||list).length?iterate(list,iterator,state,iteratorHandler):callback(null,state.results))}),terminator.bind(state,callback)},module.exports.ascending=ascending,module.exports.descending=function(a,b){return-1*ascending(a,b)}},function(module,exports,__webpack_require__){var stream=__webpack_require__(10);function isStream(obj){return obj instanceof stream.Stream}function isReadable(obj){return isStream(obj)&&"function"==typeof obj._read&&"object"==typeof obj._readableState}function isWritable(obj){return isStream(obj)&&"function"==typeof obj._write&&"object"==typeof obj._writableState}module.exports=isStream,module.exports.isReadable=isReadable,module.exports.isWritable=isWritable,module.exports.isDuplex=function(obj){return isReadable(obj)&&isWritable(obj)}},function(module,exports,__webpack_require__){"use strict";var util=__webpack_require__(196);module.exports=function(obj){util.copy(obj,this)}},function(module,exports,__webpack_require__){"use strict";module.exports=function(data,opts){opts||(opts={}),"function"==typeof opts&&(opts={cmp:opts});var f,cycles="boolean"==typeof opts.cycles&&opts.cycles,cmp=opts.cmp&&(f=opts.cmp,function(node){return function(a,b){var aobj={key:a,value:node[a]},bobj={key:b,value:node[b]};return f(aobj,bobj)}}),seen=[];return function stringify(node){if(node&&node.toJSON&&"function"==typeof node.toJSON&&(node=node.toJSON()),void 0!==node){if("number"==typeof node)return isFinite(node)?""+node:"null";if("object"!=typeof node)return JSON.stringify(node);var i,out;if(Array.isArray(node)){for(out="[",i=0;i<node.length;i++)i&&(out+=","),out+=stringify(node[i])||"null";return out+"]"}if(null===node)return"null";if(-1!==seen.indexOf(node)){if(cycles)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var seenIndex=seen.push(node)-1,keys=Object.keys(node).sort(cmp&&cmp(node));for(out="",i=0;i<keys.length;i++){var key=keys[i],value=stringify(node[key]);value&&(out&&(out+=","),out+=JSON.stringify(key)+":"+value)}return seen.splice(seenIndex,1),"{"+out+"}"}}(data)}},function(module,exports,__webpack_require__){"use strict";module.exports=function(it,$keyword,$ruleType){var out="",$async=!0===it.schema.$async,$refKeywords=it.util.schemaHasRulesExcept(it.schema,it.RULES.all,"$ref"),$id=it.self._getId(it.schema);if(it.opts.strictKeywords){var $unknownKwd=it.util.schemaUnknownRules(it.schema,it.RULES.keywords);if($unknownKwd){var $keywordsMsg="unknown keyword: "+$unknownKwd;if("log"!==it.opts.strictKeywords)throw new Error($keywordsMsg);it.logger.warn($keywordsMsg)}}if(it.isTop&&(out+=" var validate = ",$async&&(it.async=!0,out+="async "),out+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",$id&&(it.opts.sourceCode||it.opts.processCode)&&(out+=" /*# sourceURL="+$id+" */ ")),"boolean"==typeof it.schema||!$refKeywords&&!it.schema.$ref){var $lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema["false schema"],$schemaPath=it.schemaPath+it.util.getProperty("false schema"),$errSchemaPath=it.errSchemaPath+"/false schema",$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl;if(!1===it.schema){it.isTop?$breakOnError=!0:out+=" var "+$valid+" = false; ",($$outStack=$$outStack||[]).push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ",!1!==it.opts.messages&&(out+=" , message: 'boolean schema is false' "),it.opts.verbose&&(out+=" , schema: false , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else it.isTop?out+=$async?" return data; ":" validate.errors = null; return true; ":out+=" var "+$valid+" = true; ";return it.isTop&&(out+=" }; return validate; "),out}if(it.isTop){var $top=it.isTop;$lvl=it.level=0,$dataLvl=it.dataLevel=0,$data="data";if(it.rootId=it.resolve.fullPath(it.self._getId(it.root.schema)),it.baseId=it.baseId||it.rootId,delete it.isTop,it.dataPathArr=[void 0],void 0!==it.schema.default&&it.opts.useDefaults&&it.opts.strictDefaults){var $defaultMsg="default is ignored in the schema root";if("log"!==it.opts.strictDefaults)throw new Error($defaultMsg);it.logger.warn($defaultMsg)}out+=" var vErrors = null; ",out+=" var errors = 0;     ",out+=" if (rootData === undefined) rootData = data; "}else{$lvl=it.level,$data="data"+(($dataLvl=it.dataLevel)||"");if($id&&(it.baseId=it.resolve.url(it.baseId,$id)),$async&&!it.async)throw new Error("async schema in sync schema");out+=" var errs_"+$lvl+" = errors;"}$valid="valid"+$lvl,$breakOnError=!it.opts.allErrors;var $closingBraces1="",$closingBraces2="",$typeSchema=it.schema.type,$typeIsArray=Array.isArray($typeSchema);if($typeSchema&&it.opts.nullable&&!0===it.schema.nullable&&($typeIsArray?-1==$typeSchema.indexOf("null")&&($typeSchema=$typeSchema.concat("null")):"null"!=$typeSchema&&($typeSchema=[$typeSchema,"null"],$typeIsArray=!0)),$typeIsArray&&1==$typeSchema.length&&($typeSchema=$typeSchema[0],$typeIsArray=!1),it.schema.$ref&&$refKeywords){if("fail"==it.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+it.errSchemaPath+'" (see option extendRefs)');!0!==it.opts.extendRefs&&($refKeywords=!1,it.logger.warn('$ref: keywords ignored in schema at path "'+it.errSchemaPath+'"'))}if(it.schema.$comment&&it.opts.$comment&&(out+=" "+it.RULES.all.$comment.code(it,"$comment")),$typeSchema){if(it.opts.coerceTypes)var $coerceToTypes=it.util.coerceToTypes(it.opts.coerceTypes,$typeSchema);var $rulesGroup=it.RULES.types[$typeSchema];if($coerceToTypes||$typeIsArray||!0===$rulesGroup||$rulesGroup&&!$shouldUseGroup($rulesGroup)){$schemaPath=it.schemaPath+".type",$errSchemaPath=it.errSchemaPath+"/type",$schemaPath=it.schemaPath+".type",$errSchemaPath=it.errSchemaPath+"/type";var $method=$typeIsArray?"checkDataTypes":"checkDataType";if(out+=" if ("+it.util[$method]($typeSchema,$data,!0)+") { ",$coerceToTypes){var $dataType="dataType"+$lvl,$coerced="coerced"+$lvl;out+=" var "+$dataType+" = typeof "+$data+"; ","array"==it.opts.coerceTypes&&(out+=" if ("+$dataType+" == 'object' && Array.isArray("+$data+")) "+$dataType+" = 'array'; "),out+=" var "+$coerced+" = undefined; ";var $bracesCoercion="",arr1=$coerceToTypes;if(arr1)for(var $type,$i=-1,l1=arr1.length-1;$i<l1;)$type=arr1[$i+=1],$i&&(out+=" if ("+$coerced+" === undefined) { ",$bracesCoercion+="}"),"array"==it.opts.coerceTypes&&"array"!=$type&&(out+=" if ("+$dataType+" == 'array' && "+$data+".length == 1) { "+$coerced+" = "+$data+" = "+$data+"[0]; "+$dataType+" = typeof "+$data+";  } "),"string"==$type?out+=" if ("+$dataType+" == 'number' || "+$dataType+" == 'boolean') "+$coerced+" = '' + "+$data+"; else if ("+$data+" === null) "+$coerced+" = ''; ":"number"==$type||"integer"==$type?(out+=" if ("+$dataType+" == 'boolean' || "+$data+" === null || ("+$dataType+" == 'string' && "+$data+" && "+$data+" == +"+$data+" ","integer"==$type&&(out+=" && !("+$data+" % 1)"),out+=")) "+$coerced+" = +"+$data+"; "):"boolean"==$type?out+=" if ("+$data+" === 'false' || "+$data+" === 0 || "+$data+" === null) "+$coerced+" = false; else if ("+$data+" === 'true' || "+$data+" === 1) "+$coerced+" = true; ":"null"==$type?out+=" if ("+$data+" === '' || "+$data+" === 0 || "+$data+" === false) "+$coerced+" = null; ":"array"==it.opts.coerceTypes&&"array"==$type&&(out+=" if ("+$dataType+" == 'string' || "+$dataType+" == 'number' || "+$dataType+" == 'boolean' || "+$data+" == null) "+$coerced+" = ["+$data+"]; ");out+=" "+$bracesCoercion+" if ("+$coerced+" === undefined) {   ",($$outStack=$$outStack||[]).push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'type' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { type: '",out+=$typeIsArray?""+$typeSchema.join(","):""+$typeSchema,out+="' } ",!1!==it.opts.messages&&(out+=" , message: 'should be ",out+=$typeIsArray?""+$typeSchema.join(","):""+$typeSchema,out+="' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";__err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } else {  ";var $parentData=$dataLvl?"data"+($dataLvl-1||""):"parentData";out+=" "+$data+" = "+$coerced+"; ",$dataLvl||(out+="if ("+$parentData+" !== undefined)"),out+=" "+$parentData+"["+($dataLvl?it.dataPathArr[$dataLvl]:"parentDataProperty")+"] = "+$coerced+"; } "}else{($$outStack=$$outStack||[]).push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'type' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { type: '",out+=$typeIsArray?""+$typeSchema.join(","):""+$typeSchema,out+="' } ",!1!==it.opts.messages&&(out+=" , message: 'should be ",out+=$typeIsArray?""+$typeSchema.join(","):""+$typeSchema,out+="' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";__err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}out+=" } "}}if(it.schema.$ref&&!$refKeywords)out+=" "+it.RULES.all.$ref.code(it,"$ref")+" ",$breakOnError&&(out+=" } if (errors === ",out+=$top?"0":"errs_"+$lvl,out+=") { ",$closingBraces2+="}");else{var arr2=it.RULES;if(arr2)for(var i2=-1,l2=arr2.length-1;i2<l2;)if($shouldUseGroup($rulesGroup=arr2[i2+=1])){if($rulesGroup.type&&(out+=" if ("+it.util.checkDataType($rulesGroup.type,$data)+") { "),it.opts.useDefaults)if("object"==$rulesGroup.type&&it.schema.properties){$schema=it.schema.properties;var arr3=Object.keys($schema);if(arr3)for(var $propertyKey,i3=-1,l3=arr3.length-1;i3<l3;){if(void 0!==($sch=$schema[$propertyKey=arr3[i3+=1]]).default){var $passData=$data+it.util.getProperty($propertyKey);if(it.compositeRule){if(it.opts.strictDefaults){$defaultMsg="default is ignored for: "+$passData;if("log"!==it.opts.strictDefaults)throw new Error($defaultMsg);it.logger.warn($defaultMsg)}}else out+=" if ("+$passData+" === undefined ","empty"==it.opts.useDefaults&&(out+=" || "+$passData+" === null || "+$passData+" === '' "),out+=" ) "+$passData+" = ","shared"==it.opts.useDefaults?out+=" "+it.useDefault($sch.default)+" ":out+=" "+JSON.stringify($sch.default)+" ",out+="; "}}}else if("array"==$rulesGroup.type&&Array.isArray(it.schema.items)){var arr4=it.schema.items;if(arr4){$i=-1;for(var $sch,l4=arr4.length-1;$i<l4;)if(void 0!==($sch=arr4[$i+=1]).default){$passData=$data+"["+$i+"]";if(it.compositeRule){if(it.opts.strictDefaults){$defaultMsg="default is ignored for: "+$passData;if("log"!==it.opts.strictDefaults)throw new Error($defaultMsg);it.logger.warn($defaultMsg)}}else out+=" if ("+$passData+" === undefined ","empty"==it.opts.useDefaults&&(out+=" || "+$passData+" === null || "+$passData+" === '' "),out+=" ) "+$passData+" = ","shared"==it.opts.useDefaults?out+=" "+it.useDefault($sch.default)+" ":out+=" "+JSON.stringify($sch.default)+" ",out+="; "}}}var arr5=$rulesGroup.rules;if(arr5)for(var $rule,i5=-1,l5=arr5.length-1;i5<l5;)if($shouldUseRule($rule=arr5[i5+=1])){var $code=$rule.code(it,$rule.keyword,$rulesGroup.type);$code&&(out+=" "+$code+" ",$breakOnError&&($closingBraces1+="}"))}if($breakOnError&&(out+=" "+$closingBraces1+" ",$closingBraces1=""),$rulesGroup.type&&(out+=" } ",$typeSchema&&$typeSchema===$rulesGroup.type&&!$coerceToTypes)){out+=" else { ";var $$outStack;$schemaPath=it.schemaPath+".type",$errSchemaPath=it.errSchemaPath+"/type";($$outStack=$$outStack||[]).push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'type' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { type: '",out+=$typeIsArray?""+$typeSchema.join(","):""+$typeSchema,out+="' } ",!1!==it.opts.messages&&(out+=" , message: 'should be ",out+=$typeIsArray?""+$typeSchema.join(","):""+$typeSchema,out+="' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";__err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } "}$breakOnError&&(out+=" if (errors === ",out+=$top?"0":"errs_"+$lvl,out+=") { ",$closingBraces2+="}")}}function $shouldUseGroup($rulesGroup){for(var rules=$rulesGroup.rules,i=0;i<rules.length;i++)if($shouldUseRule(rules[i]))return!0}function $shouldUseRule($rule){return void 0!==it.schema[$rule.keyword]||$rule.implements&&function($rule){for(var impl=$rule.implements,i=0;i<impl.length;i++)if(void 0!==it.schema[impl[i]])return!0}($rule)}return $breakOnError&&(out+=" "+$closingBraces2+" "),$top?($async?(out+=" if (errors === 0) return data;           ",out+=" else throw new ValidationError(vErrors); "):(out+=" validate.errors = vErrors; ",out+=" return errors === 0;       "),out+=" }; return validate;"):out+=" var "+$valid+" = errors === errs_"+$lvl+";",out=it.util.cleanUpCode(out),$top&&(out=it.util.finalCleanUpCode(out,$async)),out}},function(module,exports,__webpack_require__){"use strict";module.exports=function(it,$keyword,$ruleType){var $schemaValue,out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$isData=it.opts.$data&&$schema&&$schema.$data;$isData?(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ",$schemaValue="schema"+$lvl):$schemaValue=$schema;var $isMax="maximum"==$keyword,$exclusiveKeyword=$isMax?"exclusiveMaximum":"exclusiveMinimum",$schemaExcl=it.schema[$exclusiveKeyword],$isDataExcl=it.opts.$data&&$schemaExcl&&$schemaExcl.$data,$op=$isMax?"<":">",$notOp=$isMax?">":"<",$errorKeyword=void 0;if($isDataExcl){var $schemaValueExcl=it.util.getData($schemaExcl.$data,$dataLvl,it.dataPathArr),$exclusive="exclusive"+$lvl,$exclType="exclType"+$lvl,$exclIsNumber="exclIsNumber"+$lvl,$opStr="' + "+($opExpr="op"+$lvl)+" + '";out+=" var schemaExcl"+$lvl+" = "+$schemaValueExcl+"; ",out+=" var "+$exclusive+"; var "+$exclType+" = typeof "+($schemaValueExcl="schemaExcl"+$lvl)+"; if ("+$exclType+" != 'boolean' && "+$exclType+" != 'undefined' && "+$exclType+" != 'number') { ";var $$outStack;$errorKeyword=$exclusiveKeyword;($$outStack=$$outStack||[]).push(out),out="",!1!==it.createErrors?(out+=" { keyword: '"+($errorKeyword||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ",!1!==it.opts.messages&&(out+=" , message: '"+$exclusiveKeyword+" should be boolean' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } else if ( ",$isData&&(out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'number') || "),out+=" "+$exclType+" == 'number' ? ( ("+$exclusive+" = "+$schemaValue+" === undefined || "+$schemaValueExcl+" "+$op+"= "+$schemaValue+") ? "+$data+" "+$notOp+"= "+$schemaValueExcl+" : "+$data+" "+$notOp+" "+$schemaValue+" ) : ( ("+$exclusive+" = "+$schemaValueExcl+" === true) ? "+$data+" "+$notOp+"= "+$schemaValue+" : "+$data+" "+$notOp+" "+$schemaValue+" ) || "+$data+" !== "+$data+") { var op"+$lvl+" = "+$exclusive+" ? '"+$op+"' : '"+$op+"='; ",void 0===$schema&&($errorKeyword=$exclusiveKeyword,$errSchemaPath=it.errSchemaPath+"/"+$exclusiveKeyword,$schemaValue=$schemaValueExcl,$isData=$isDataExcl)}else{$opStr=$op;if(($exclIsNumber="number"==typeof $schemaExcl)&&$isData){var $opExpr="'"+$opStr+"'";out+=" if ( ",$isData&&(out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'number') || "),out+=" ( "+$schemaValue+" === undefined || "+$schemaExcl+" "+$op+"= "+$schemaValue+" ? "+$data+" "+$notOp+"= "+$schemaExcl+" : "+$data+" "+$notOp+" "+$schemaValue+" ) || "+$data+" !== "+$data+") { "}else{$exclIsNumber&&void 0===$schema?($exclusive=!0,$errorKeyword=$exclusiveKeyword,$errSchemaPath=it.errSchemaPath+"/"+$exclusiveKeyword,$schemaValue=$schemaExcl,$notOp+="="):($exclIsNumber&&($schemaValue=Math[$isMax?"min":"max"]($schemaExcl,$schema)),$schemaExcl===(!$exclIsNumber||$schemaValue)?($exclusive=!0,$errorKeyword=$exclusiveKeyword,$errSchemaPath=it.errSchemaPath+"/"+$exclusiveKeyword,$notOp+="="):($exclusive=!1,$opStr+="="));$opExpr="'"+$opStr+"'";out+=" if ( ",$isData&&(out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'number') || "),out+=" "+$data+" "+$notOp+" "+$schemaValue+" || "+$data+" !== "+$data+") { "}}$errorKeyword=$errorKeyword||$keyword,($$outStack=$$outStack||[]).push(out),out="",!1!==it.createErrors?(out+=" { keyword: '"+($errorKeyword||"_limit")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { comparison: "+$opExpr+", limit: "+$schemaValue+", exclusive: "+$exclusive+" } ",!1!==it.opts.messages&&(out+=" , message: 'should be "+$opStr+" ",out+=$isData?"' + "+$schemaValue:$schemaValue+"'"),it.opts.verbose&&(out+=" , schema:  ",out+=$isData?"validate.schema"+$schemaPath:""+$schema,out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";__err=out;return out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } ",$breakOnError&&(out+=" else { "),out}},function(module,exports,__webpack_require__){"use strict";module.exports=function(it,$keyword,$ruleType){var $schemaValue,out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$isData=it.opts.$data&&$schema&&$schema.$data;$isData?(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ",$schemaValue="schema"+$lvl):$schemaValue=$schema,out+="if ( ",$isData&&(out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'number') || "),out+=" "+$data+".length "+("maxItems"==$keyword?">":"<")+" "+$schemaValue+") { ";var $errorKeyword=$keyword,$$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: '"+($errorKeyword||"_limitItems")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { limit: "+$schemaValue+" } ",!1!==it.opts.messages&&(out+=" , message: 'should NOT have ",out+="maxItems"==$keyword?"more":"fewer",out+=" than ",out+=$isData?"' + "+$schemaValue+" + '":""+$schema,out+=" items' "),it.opts.verbose&&(out+=" , schema:  ",out+=$isData?"validate.schema"+$schemaPath:""+$schema,out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;return out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+="} ",$breakOnError&&(out+=" else { "),out}},function(module,exports,__webpack_require__){"use strict";module.exports=function(it,$keyword,$ruleType){var $schemaValue,out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$isData=it.opts.$data&&$schema&&$schema.$data;$isData?(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ",$schemaValue="schema"+$lvl):$schemaValue=$schema;var $op="maxLength"==$keyword?">":"<";out+="if ( ",$isData&&(out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'number') || "),!1===it.opts.unicode?out+=" "+$data+".length ":out+=" ucs2length("+$data+") ",out+=" "+$op+" "+$schemaValue+") { ";var $errorKeyword=$keyword,$$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: '"+($errorKeyword||"_limitLength")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { limit: "+$schemaValue+" } ",!1!==it.opts.messages&&(out+=" , message: 'should NOT be ",out+="maxLength"==$keyword?"longer":"shorter",out+=" than ",out+=$isData?"' + "+$schemaValue+" + '":""+$schema,out+=" characters' "),it.opts.verbose&&(out+=" , schema:  ",out+=$isData?"validate.schema"+$schemaPath:""+$schema,out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;return out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+="} ",$breakOnError&&(out+=" else { "),out}},function(module,exports,__webpack_require__){"use strict";module.exports=function(it,$keyword,$ruleType){var $schemaValue,out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$isData=it.opts.$data&&$schema&&$schema.$data;$isData?(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ",$schemaValue="schema"+$lvl):$schemaValue=$schema,out+="if ( ",$isData&&(out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'number') || "),out+=" Object.keys("+$data+").length "+("maxProperties"==$keyword?">":"<")+" "+$schemaValue+") { ";var $errorKeyword=$keyword,$$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: '"+($errorKeyword||"_limitProperties")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { limit: "+$schemaValue+" } ",!1!==it.opts.messages&&(out+=" , message: 'should NOT have ",out+="maxProperties"==$keyword?"more":"fewer",out+=" than ",out+=$isData?"' + "+$schemaValue+" + '":""+$schema,out+=" properties' "),it.opts.verbose&&(out+=" , schema:  ",out+=$isData?"validate.schema"+$schemaPath:""+$schema,out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;return out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+="} ",$breakOnError&&(out+=" else { "),out}},function(module){module.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},function(module,exports,__webpack_require__){(module.exports=__webpack_require__(824)).version=__webpack_require__(1112).version},function(module,exports,__webpack_require__){var parse=__webpack_require__(308),defaultOptions=__webpack_require__(310).default,flattenOptions=__webpack_require__(310).flatten,isHtml=__webpack_require__(269).isHtml,_={extend:__webpack_require__(845),bind:__webpack_require__(456),forEach:__webpack_require__(138),defaults:__webpack_require__(460)},api=[__webpack_require__(1097),__webpack_require__(1106),__webpack_require__(1109),__webpack_require__(1110),__webpack_require__(1111)],Cheerio=module.exports=function(selector,context,root,options){return this instanceof Cheerio?(this.options=_.defaults(flattenOptions(options),this.options,defaultOptions),selector?(root&&("string"==typeof root&&(root=parse(root,this.options,!1)),this._root=Cheerio.call(this,root)),selector.cheerio?selector:(isNode(selector)&&(selector=[selector]),Array.isArray(selector)?(_.forEach(selector,_.bind(function(elem,idx){this[idx]=elem},this)),this.length=selector.length,this):"string"==typeof selector&&isHtml(selector)?Cheerio.call(this,parse(selector,this.options,!1).children):(context?"string"==typeof context?isHtml(context)?(context=parse(context,this.options,!1),context=Cheerio.call(this,context)):(selector=[context,selector].join(" "),context=this._root):context.cheerio||(context=Cheerio.call(this,context)):context=this._root,context?context.find(selector):this))):this):new Cheerio(selector,context,root,options)};_.extend(Cheerio,__webpack_require__(461)),Cheerio.prototype.cheerio="[cheerio object]",Cheerio.prototype.length=0,Cheerio.prototype.splice=Array.prototype.splice,Cheerio.prototype._make=function(dom,context){var cheerio=new this.constructor(dom,context,this._root,this.options);return cheerio.prevObject=this,cheerio},Cheerio.prototype.toArray=function(){return this.get()},api.forEach(function(mod){_.extend(Cheerio.prototype,mod)});var isNode=function(obj){return obj.name||"text"===obj.type||"comment"===obj.type}},function(module,exports,__webpack_require__){var Tokenizer=__webpack_require__(826),formTags={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},openImpliesClose={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:formTags,input:formTags,output:formTags,button:formTags,datalist:formTags,textarea:formTags,option:{option:!0},optgroup:{optgroup:!0}},voidElements={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},foreignContextElements={__proto__:null,math:!0,svg:!0},htmlIntegrationElements={__proto__:null,mi:!0,mo:!0,mn:!0,ms:!0,mtext:!0,"annotation-xml":!0,foreignObject:!0,desc:!0,title:!0},re_nameEnd=/\s|\//;function Parser(cbs,options){this._options=options||{},this._cbs=cbs||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this._foreignContext=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(Tokenizer=this._options.Tokenizer),this._tokenizer=new Tokenizer(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}__webpack_require__(22)(Parser,__webpack_require__(43).EventEmitter),Parser.prototype._updatePosition=function(initialOffset){null===this.endIndex?this._tokenizer._sectionStart<=initialOffset?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-initialOffset:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},Parser.prototype.ontext=function(data){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(data)},Parser.prototype.onopentagname=function(name){if(this._lowerCaseTagNames&&(name=name.toLowerCase()),this._tagname=name,!this._options.xmlMode&&name in openImpliesClose)for(var el;(el=this._stack[this._stack.length-1])in openImpliesClose[name];this.onclosetag(el));!this._options.xmlMode&&name in voidElements||(this._stack.push(name),name in foreignContextElements?this._foreignContext.push(!0):name in htmlIntegrationElements&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(name),this._cbs.onopentag&&(this._attribs={})},Parser.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in voidElements&&this._cbs.onclosetag(this._tagname),this._tagname=""},Parser.prototype.onclosetag=function(name){if(this._updatePosition(1),this._lowerCaseTagNames&&(name=name.toLowerCase()),(name in foreignContextElements||name in htmlIntegrationElements)&&this._foreignContext.pop(),!this._stack.length||name in voidElements&&!this._options.xmlMode)this._options.xmlMode||"br"!==name&&"p"!==name||(this.onopentagname(name),this._closeCurrentTag());else{var pos=this._stack.lastIndexOf(name);if(-1!==pos)if(this._cbs.onclosetag)for(pos=this._stack.length-pos;pos--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=pos;else"p"!==name||this._options.xmlMode||(this.onopentagname(name),this._closeCurrentTag())}},Parser.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},Parser.prototype._closeCurrentTag=function(){var name=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===name&&(this._cbs.onclosetag&&this._cbs.onclosetag(name),this._stack.pop())},Parser.prototype.onattribname=function(name){this._lowerCaseAttributeNames&&(name=name.toLowerCase()),this._attribname=name},Parser.prototype.onattribdata=function(value){this._attribvalue+=value},Parser.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},Parser.prototype._getInstructionName=function(value){var idx=value.search(re_nameEnd),name=idx<0?value:value.substr(0,idx);return this._lowerCaseTagNames&&(name=name.toLowerCase()),name},Parser.prototype.ondeclaration=function(value){if(this._cbs.onprocessinginstruction){var name=this._getInstructionName(value);this._cbs.onprocessinginstruction("!"+name,"!"+value)}},Parser.prototype.onprocessinginstruction=function(value){if(this._cbs.onprocessinginstruction){var name=this._getInstructionName(value);this._cbs.onprocessinginstruction("?"+name,"?"+value)}},Parser.prototype.oncomment=function(value){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(value),this._cbs.oncommentend&&this._cbs.oncommentend()},Parser.prototype.oncdata=function(value){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(value),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+value+"]]")},Parser.prototype.onerror=function(err){this._cbs.onerror&&this._cbs.onerror(err)},Parser.prototype.onend=function(){if(this._cbs.onclosetag)for(var i=this._stack.length;i>0;this._cbs.onclosetag(this._stack[--i]));this._cbs.onend&&this._cbs.onend()},Parser.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},Parser.prototype.parseComplete=function(data){this.reset(),this.end(data)},Parser.prototype.write=function(chunk){this._tokenizer.write(chunk)},Parser.prototype.end=function(chunk){this._tokenizer.end(chunk)},Parser.prototype.pause=function(){this._tokenizer.pause()},Parser.prototype.resume=function(){this._tokenizer.resume()},Parser.prototype.parseChunk=Parser.prototype.write,Parser.prototype.done=Parser.prototype.end,module.exports=Parser},function(module,exports,__webpack_require__){module.exports=Tokenizer;var decodeCodePoint=__webpack_require__(827),entityMap=__webpack_require__(450),legacyMap=__webpack_require__(828),xmlMap=__webpack_require__(451),i=0,TEXT=i++,BEFORE_TAG_NAME=i++,IN_TAG_NAME=i++,IN_SELF_CLOSING_TAG=i++,BEFORE_CLOSING_TAG_NAME=i++,IN_CLOSING_TAG_NAME=i++,AFTER_CLOSING_TAG_NAME=i++,BEFORE_ATTRIBUTE_NAME=i++,IN_ATTRIBUTE_NAME=i++,AFTER_ATTRIBUTE_NAME=i++,BEFORE_ATTRIBUTE_VALUE=i++,IN_ATTRIBUTE_VALUE_DQ=i++,IN_ATTRIBUTE_VALUE_SQ=i++,IN_ATTRIBUTE_VALUE_NQ=i++,BEFORE_DECLARATION=i++,IN_DECLARATION=i++,IN_PROCESSING_INSTRUCTION=i++,BEFORE_COMMENT=i++,IN_COMMENT=i++,AFTER_COMMENT_1=i++,AFTER_COMMENT_2=i++,BEFORE_CDATA_1=i++,BEFORE_CDATA_2=i++,BEFORE_CDATA_3=i++,BEFORE_CDATA_4=i++,BEFORE_CDATA_5=i++,BEFORE_CDATA_6=i++,IN_CDATA=i++,AFTER_CDATA_1=i++,AFTER_CDATA_2=i++,BEFORE_SPECIAL=i++,BEFORE_SPECIAL_END=i++,BEFORE_SCRIPT_1=i++,BEFORE_SCRIPT_2=i++,BEFORE_SCRIPT_3=i++,BEFORE_SCRIPT_4=i++,BEFORE_SCRIPT_5=i++,AFTER_SCRIPT_1=i++,AFTER_SCRIPT_2=i++,AFTER_SCRIPT_3=i++,AFTER_SCRIPT_4=i++,AFTER_SCRIPT_5=i++,BEFORE_STYLE_1=i++,BEFORE_STYLE_2=i++,BEFORE_STYLE_3=i++,BEFORE_STYLE_4=i++,AFTER_STYLE_1=i++,AFTER_STYLE_2=i++,AFTER_STYLE_3=i++,AFTER_STYLE_4=i++,BEFORE_ENTITY=i++,BEFORE_NUMERIC_ENTITY=i++,IN_NAMED_ENTITY=i++,IN_NUMERIC_ENTITY=i++,IN_HEX_ENTITY=i++,j=0,SPECIAL_NONE=j++,SPECIAL_SCRIPT=j++,SPECIAL_STYLE=j++;function whitespace(c){return" "===c||"\n"===c||"\t"===c||"\f"===c||"\r"===c}function ifElseState(upper,SUCCESS,FAILURE){var lower=upper.toLowerCase();return upper===lower?function(c){c===lower?this._state=SUCCESS:(this._state=FAILURE,this._index--)}:function(c){c===lower||c===upper?this._state=SUCCESS:(this._state=FAILURE,this._index--)}}function consumeSpecialNameChar(upper,NEXT_STATE){var lower=upper.toLowerCase();return function(c){c===lower||c===upper?this._state=NEXT_STATE:(this._state=IN_TAG_NAME,this._index--)}}function Tokenizer(options,cbs){this._state=TEXT,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=TEXT,this._special=SPECIAL_NONE,this._cbs=cbs,this._running=!0,this._ended=!1,this._xmlMode=!(!options||!options.xmlMode),this._decodeEntities=!(!options||!options.decodeEntities)}Tokenizer.prototype._stateText=function(c){"<"===c?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=BEFORE_TAG_NAME,this._sectionStart=this._index):this._decodeEntities&&this._special===SPECIAL_NONE&&"&"===c&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=TEXT,this._state=BEFORE_ENTITY,this._sectionStart=this._index)},Tokenizer.prototype._stateBeforeTagName=function(c){"/"===c?this._state=BEFORE_CLOSING_TAG_NAME:"<"===c?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===c||this._special!==SPECIAL_NONE||whitespace(c)?this._state=TEXT:"!"===c?(this._state=BEFORE_DECLARATION,this._sectionStart=this._index+1):"?"===c?(this._state=IN_PROCESSING_INSTRUCTION,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==c&&"S"!==c?IN_TAG_NAME:BEFORE_SPECIAL,this._sectionStart=this._index)},Tokenizer.prototype._stateInTagName=function(c){("/"===c||">"===c||whitespace(c))&&(this._emitToken("onopentagname"),this._state=BEFORE_ATTRIBUTE_NAME,this._index--)},Tokenizer.prototype._stateBeforeCloseingTagName=function(c){whitespace(c)||(">"===c?this._state=TEXT:this._special!==SPECIAL_NONE?"s"===c||"S"===c?this._state=BEFORE_SPECIAL_END:(this._state=TEXT,this._index--):(this._state=IN_CLOSING_TAG_NAME,this._sectionStart=this._index))},Tokenizer.prototype._stateInCloseingTagName=function(c){(">"===c||whitespace(c))&&(this._emitToken("onclosetag"),this._state=AFTER_CLOSING_TAG_NAME,this._index--)},Tokenizer.prototype._stateAfterCloseingTagName=function(c){">"===c&&(this._state=TEXT,this._sectionStart=this._index+1)},Tokenizer.prototype._stateBeforeAttributeName=function(c){">"===c?(this._cbs.onopentagend(),this._state=TEXT,this._sectionStart=this._index+1):"/"===c?this._state=IN_SELF_CLOSING_TAG:whitespace(c)||(this._state=IN_ATTRIBUTE_NAME,this._sectionStart=this._index)},Tokenizer.prototype._stateInSelfClosingTag=function(c){">"===c?(this._cbs.onselfclosingtag(),this._state=TEXT,this._sectionStart=this._index+1):whitespace(c)||(this._state=BEFORE_ATTRIBUTE_NAME,this._index--)},Tokenizer.prototype._stateInAttributeName=function(c){("="===c||"/"===c||">"===c||whitespace(c))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=AFTER_ATTRIBUTE_NAME,this._index--)},Tokenizer.prototype._stateAfterAttributeName=function(c){"="===c?this._state=BEFORE_ATTRIBUTE_VALUE:"/"===c||">"===c?(this._cbs.onattribend(),this._state=BEFORE_ATTRIBUTE_NAME,this._index--):whitespace(c)||(this._cbs.onattribend(),this._state=IN_ATTRIBUTE_NAME,this._sectionStart=this._index)},Tokenizer.prototype._stateBeforeAttributeValue=function(c){'"'===c?(this._state=IN_ATTRIBUTE_VALUE_DQ,this._sectionStart=this._index+1):"'"===c?(this._state=IN_ATTRIBUTE_VALUE_SQ,this._sectionStart=this._index+1):whitespace(c)||(this._state=IN_ATTRIBUTE_VALUE_NQ,this._sectionStart=this._index,this._index--)},Tokenizer.prototype._stateInAttributeValueDoubleQuotes=function(c){'"'===c?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=BEFORE_ATTRIBUTE_NAME):this._decodeEntities&&"&"===c&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=BEFORE_ENTITY,this._sectionStart=this._index)},Tokenizer.prototype._stateInAttributeValueSingleQuotes=function(c){"'"===c?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=BEFORE_ATTRIBUTE_NAME):this._decodeEntities&&"&"===c&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=BEFORE_ENTITY,this._sectionStart=this._index)},Tokenizer.prototype._stateInAttributeValueNoQuotes=function(c){whitespace(c)||">"===c?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=BEFORE_ATTRIBUTE_NAME,this._index--):this._decodeEntities&&"&"===c&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=BEFORE_ENTITY,this._sectionStart=this._index)},Tokenizer.prototype._stateBeforeDeclaration=function(c){this._state="["===c?BEFORE_CDATA_1:"-"===c?BEFORE_COMMENT:IN_DECLARATION},Tokenizer.prototype._stateInDeclaration=function(c){">"===c&&(this._cbs.ondeclaration(this._getSection()),this._state=TEXT,this._sectionStart=this._index+1)},Tokenizer.prototype._stateInProcessingInstruction=function(c){">"===c&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=TEXT,this._sectionStart=this._index+1)},Tokenizer.prototype._stateBeforeComment=function(c){"-"===c?(this._state=IN_COMMENT,this._sectionStart=this._index+1):this._state=IN_DECLARATION},Tokenizer.prototype._stateInComment=function(c){"-"===c&&(this._state=AFTER_COMMENT_1)},Tokenizer.prototype._stateAfterComment1=function(c){this._state="-"===c?AFTER_COMMENT_2:IN_COMMENT},Tokenizer.prototype._stateAfterComment2=function(c){">"===c?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=TEXT,this._sectionStart=this._index+1):"-"!==c&&(this._state=IN_COMMENT)},Tokenizer.prototype._stateBeforeCdata1=ifElseState("C",BEFORE_CDATA_2,IN_DECLARATION),Tokenizer.prototype._stateBeforeCdata2=ifElseState("D",BEFORE_CDATA_3,IN_DECLARATION),Tokenizer.prototype._stateBeforeCdata3=ifElseState("A",BEFORE_CDATA_4,IN_DECLARATION),Tokenizer.prototype._stateBeforeCdata4=ifElseState("T",BEFORE_CDATA_5,IN_DECLARATION),Tokenizer.prototype._stateBeforeCdata5=ifElseState("A",BEFORE_CDATA_6,IN_DECLARATION),Tokenizer.prototype._stateBeforeCdata6=function(c){"["===c?(this._state=IN_CDATA,this._sectionStart=this._index+1):(this._state=IN_DECLARATION,this._index--)},Tokenizer.prototype._stateInCdata=function(c){"]"===c&&(this._state=AFTER_CDATA_1)},Tokenizer.prototype._stateAfterCdata1=function(c){this._state="]"===c?AFTER_CDATA_2:IN_CDATA},Tokenizer.prototype._stateAfterCdata2=function(c){">"===c?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=TEXT,this._sectionStart=this._index+1):"]"!==c&&(this._state=IN_CDATA)},Tokenizer.prototype._stateBeforeSpecial=function(c){"c"===c||"C"===c?this._state=BEFORE_SCRIPT_1:"t"===c||"T"===c?this._state=BEFORE_STYLE_1:(this._state=IN_TAG_NAME,this._index--)},Tokenizer.prototype._stateBeforeSpecialEnd=function(c){this._special!==SPECIAL_SCRIPT||"c"!==c&&"C"!==c?this._special!==SPECIAL_STYLE||"t"!==c&&"T"!==c?this._state=TEXT:this._state=AFTER_STYLE_1:this._state=AFTER_SCRIPT_1},Tokenizer.prototype._stateBeforeScript1=consumeSpecialNameChar("R",BEFORE_SCRIPT_2),Tokenizer.prototype._stateBeforeScript2=consumeSpecialNameChar("I",BEFORE_SCRIPT_3),Tokenizer.prototype._stateBeforeScript3=consumeSpecialNameChar("P",BEFORE_SCRIPT_4),Tokenizer.prototype._stateBeforeScript4=consumeSpecialNameChar("T",BEFORE_SCRIPT_5),Tokenizer.prototype._stateBeforeScript5=function(c){("/"===c||">"===c||whitespace(c))&&(this._special=SPECIAL_SCRIPT),this._state=IN_TAG_NAME,this._index--},Tokenizer.prototype._stateAfterScript1=ifElseState("R",AFTER_SCRIPT_2,TEXT),Tokenizer.prototype._stateAfterScript2=ifElseState("I",AFTER_SCRIPT_3,TEXT),Tokenizer.prototype._stateAfterScript3=ifElseState("P",AFTER_SCRIPT_4,TEXT),Tokenizer.prototype._stateAfterScript4=ifElseState("T",AFTER_SCRIPT_5,TEXT),Tokenizer.prototype._stateAfterScript5=function(c){">"===c||whitespace(c)?(this._special=SPECIAL_NONE,this._state=IN_CLOSING_TAG_NAME,this._sectionStart=this._index-6,this._index--):this._state=TEXT},Tokenizer.prototype._stateBeforeStyle1=consumeSpecialNameChar("Y",BEFORE_STYLE_2),Tokenizer.prototype._stateBeforeStyle2=consumeSpecialNameChar("L",BEFORE_STYLE_3),Tokenizer.prototype._stateBeforeStyle3=consumeSpecialNameChar("E",BEFORE_STYLE_4),Tokenizer.prototype._stateBeforeStyle4=function(c){("/"===c||">"===c||whitespace(c))&&(this._special=SPECIAL_STYLE),this._state=IN_TAG_NAME,this._index--},Tokenizer.prototype._stateAfterStyle1=ifElseState("Y",AFTER_STYLE_2,TEXT),Tokenizer.prototype._stateAfterStyle2=ifElseState("L",AFTER_STYLE_3,TEXT),Tokenizer.prototype._stateAfterStyle3=ifElseState("E",AFTER_STYLE_4,TEXT),Tokenizer.prototype._stateAfterStyle4=function(c){">"===c||whitespace(c)?(this._special=SPECIAL_NONE,this._state=IN_CLOSING_TAG_NAME,this._sectionStart=this._index-5,this._index--):this._state=TEXT},Tokenizer.prototype._stateBeforeEntity=ifElseState("#",BEFORE_NUMERIC_ENTITY,IN_NAMED_ENTITY),Tokenizer.prototype._stateBeforeNumericEntity=ifElseState("X",IN_HEX_ENTITY,IN_NUMERIC_ENTITY),Tokenizer.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var entity=this._buffer.substring(this._sectionStart+1,this._index),map=this._xmlMode?xmlMap:entityMap;map.hasOwnProperty(entity)&&(this._emitPartial(map[entity]),this._sectionStart=this._index+1)}},Tokenizer.prototype._parseLegacyEntity=function(){var start=this._sectionStart+1,limit=this._index-start;for(limit>6&&(limit=6);limit>=2;){var entity=this._buffer.substr(start,limit);if(legacyMap.hasOwnProperty(entity))return this._emitPartial(legacyMap[entity]),void(this._sectionStart+=limit+1);limit--}},Tokenizer.prototype._stateInNamedEntity=function(c){";"===c?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(c<"a"||c>"z")&&(c<"A"||c>"Z")&&(c<"0"||c>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==TEXT?"="!==c&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},Tokenizer.prototype._decodeNumericEntity=function(offset,base){var sectionStart=this._sectionStart+offset;if(sectionStart!==this._index){var entity=this._buffer.substring(sectionStart,this._index),parsed=parseInt(entity,base);this._emitPartial(decodeCodePoint(parsed)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},Tokenizer.prototype._stateInNumericEntity=function(c){";"===c?(this._decodeNumericEntity(2,10),this._sectionStart++):(c<"0"||c>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},Tokenizer.prototype._stateInHexEntity=function(c){";"===c?(this._decodeNumericEntity(3,16),this._sectionStart++):(c<"a"||c>"f")&&(c<"A"||c>"F")&&(c<"0"||c>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},Tokenizer.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===TEXT?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},Tokenizer.prototype.write=function(chunk){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=chunk,this._parse()},Tokenizer.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var c=this._buffer.charAt(this._index);this._state===TEXT?this._stateText(c):this._state===BEFORE_TAG_NAME?this._stateBeforeTagName(c):this._state===IN_TAG_NAME?this._stateInTagName(c):this._state===BEFORE_CLOSING_TAG_NAME?this._stateBeforeCloseingTagName(c):this._state===IN_CLOSING_TAG_NAME?this._stateInCloseingTagName(c):this._state===AFTER_CLOSING_TAG_NAME?this._stateAfterCloseingTagName(c):this._state===IN_SELF_CLOSING_TAG?this._stateInSelfClosingTag(c):this._state===BEFORE_ATTRIBUTE_NAME?this._stateBeforeAttributeName(c):this._state===IN_ATTRIBUTE_NAME?this._stateInAttributeName(c):this._state===AFTER_ATTRIBUTE_NAME?this._stateAfterAttributeName(c):this._state===BEFORE_ATTRIBUTE_VALUE?this._stateBeforeAttributeValue(c):this._state===IN_ATTRIBUTE_VALUE_DQ?this._stateInAttributeValueDoubleQuotes(c):this._state===IN_ATTRIBUTE_VALUE_SQ?this._stateInAttributeValueSingleQuotes(c):this._state===IN_ATTRIBUTE_VALUE_NQ?this._stateInAttributeValueNoQuotes(c):this._state===BEFORE_DECLARATION?this._stateBeforeDeclaration(c):this._state===IN_DECLARATION?this._stateInDeclaration(c):this._state===IN_PROCESSING_INSTRUCTION?this._stateInProcessingInstruction(c):this._state===BEFORE_COMMENT?this._stateBeforeComment(c):this._state===IN_COMMENT?this._stateInComment(c):this._state===AFTER_COMMENT_1?this._stateAfterComment1(c):this._state===AFTER_COMMENT_2?this._stateAfterComment2(c):this._state===BEFORE_CDATA_1?this._stateBeforeCdata1(c):this._state===BEFORE_CDATA_2?this._stateBeforeCdata2(c):this._state===BEFORE_CDATA_3?this._stateBeforeCdata3(c):this._state===BEFORE_CDATA_4?this._stateBeforeCdata4(c):this._state===BEFORE_CDATA_5?this._stateBeforeCdata5(c):this._state===BEFORE_CDATA_6?this._stateBeforeCdata6(c):this._state===IN_CDATA?this._stateInCdata(c):this._state===AFTER_CDATA_1?this._stateAfterCdata1(c):this._state===AFTER_CDATA_2?this._stateAfterCdata2(c):this._state===BEFORE_SPECIAL?this._stateBeforeSpecial(c):this._state===BEFORE_SPECIAL_END?this._stateBeforeSpecialEnd(c):this._state===BEFORE_SCRIPT_1?this._stateBeforeScript1(c):this._state===BEFORE_SCRIPT_2?this._stateBeforeScript2(c):this._state===BEFORE_SCRIPT_3?this._stateBeforeScript3(c):this._state===BEFORE_SCRIPT_4?this._stateBeforeScript4(c):this._state===BEFORE_SCRIPT_5?this._stateBeforeScript5(c):this._state===AFTER_SCRIPT_1?this._stateAfterScript1(c):this._state===AFTER_SCRIPT_2?this._stateAfterScript2(c):this._state===AFTER_SCRIPT_3?this._stateAfterScript3(c):this._state===AFTER_SCRIPT_4?this._stateAfterScript4(c):this._state===AFTER_SCRIPT_5?this._stateAfterScript5(c):this._state===BEFORE_STYLE_1?this._stateBeforeStyle1(c):this._state===BEFORE_STYLE_2?this._stateBeforeStyle2(c):this._state===BEFORE_STYLE_3?this._stateBeforeStyle3(c):this._state===BEFORE_STYLE_4?this._stateBeforeStyle4(c):this._state===AFTER_STYLE_1?this._stateAfterStyle1(c):this._state===AFTER_STYLE_2?this._stateAfterStyle2(c):this._state===AFTER_STYLE_3?this._stateAfterStyle3(c):this._state===AFTER_STYLE_4?this._stateAfterStyle4(c):this._state===BEFORE_ENTITY?this._stateBeforeEntity(c):this._state===BEFORE_NUMERIC_ENTITY?this._stateBeforeNumericEntity(c):this._state===IN_NAMED_ENTITY?this._stateInNamedEntity(c):this._state===IN_NUMERIC_ENTITY?this._stateInNumericEntity(c):this._state===IN_HEX_ENTITY?this._stateInHexEntity(c):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},Tokenizer.prototype.pause=function(){this._running=!1},Tokenizer.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},Tokenizer.prototype.end=function(chunk){this._ended&&this._cbs.onerror(Error(".end() after done!")),chunk&&this.write(chunk),this._ended=!0,this._running&&this._finish()},Tokenizer.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},Tokenizer.prototype._handleTrailingData=function(){var data=this._buffer.substr(this._sectionStart);this._state===IN_CDATA||this._state===AFTER_CDATA_1||this._state===AFTER_CDATA_2?this._cbs.oncdata(data):this._state===IN_COMMENT||this._state===AFTER_COMMENT_1||this._state===AFTER_COMMENT_2?this._cbs.oncomment(data):this._state!==IN_NAMED_ENTITY||this._xmlMode?this._state!==IN_NUMERIC_ENTITY||this._xmlMode?this._state!==IN_HEX_ENTITY||this._xmlMode?this._state!==IN_TAG_NAME&&this._state!==BEFORE_ATTRIBUTE_NAME&&this._state!==BEFORE_ATTRIBUTE_VALUE&&this._state!==AFTER_ATTRIBUTE_NAME&&this._state!==IN_ATTRIBUTE_NAME&&this._state!==IN_ATTRIBUTE_VALUE_SQ&&this._state!==IN_ATTRIBUTE_VALUE_DQ&&this._state!==IN_ATTRIBUTE_VALUE_NQ&&this._state!==IN_CLOSING_TAG_NAME&&this._cbs.ontext(data):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},Tokenizer.prototype.reset=function(){Tokenizer.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},Tokenizer.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},Tokenizer.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},Tokenizer.prototype._emitToken=function(name){this._cbs[name](this._getSection()),this._sectionStart=-1},Tokenizer.prototype._emitPartial=function(value){this._baseState!==TEXT?this._cbs.onattribdata(value):this._cbs.ontext(value)}},function(module,exports,__webpack_require__){var decodeMap=__webpack_require__(1053);module.exports=function(codePoint){if(codePoint>=55296&&codePoint<=57343||codePoint>1114111)return"";codePoint in decodeMap&&(codePoint=decodeMap[codePoint]);var output="";codePoint>65535&&(codePoint-=65536,output+=String.fromCharCode(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint);return output+=String.fromCharCode(codePoint)}},function(module){module.exports=JSON.parse('{"Aacute":"","aacute":"","Acirc":"","acirc":"","acute":"","AElig":"","aelig":"","Agrave":"","agrave":"","amp":"&","AMP":"&","Aring":"","aring":"","Atilde":"","atilde":"","Auml":"","auml":"","brvbar":"","Ccedil":"","ccedil":"","cedil":"","cent":"","copy":"","COPY":"","curren":"","deg":"","divide":"","Eacute":"","eacute":"","Ecirc":"","ecirc":"","Egrave":"","egrave":"","ETH":"","eth":"","Euml":"","euml":"","frac12":"","frac14":"","frac34":"","gt":">","GT":">","Iacute":"","iacute":"","Icirc":"","icirc":"","iexcl":"","Igrave":"","igrave":"","iquest":"","Iuml":"","iuml":"","laquo":"","lt":"<","LT":"<","macr":"","micro":"","middot":"","nbsp":"","not":"","Ntilde":"","ntilde":"","Oacute":"","oacute":"","Ocirc":"","ocirc":"","Ograve":"","ograve":"","ordf":"","ordm":"","Oslash":"","oslash":"","Otilde":"","otilde":"","Ouml":"","ouml":"","para":"","plusmn":"","pound":"","quot":"\\"","QUOT":"\\"","raquo":"","reg":"","REG":"","sect":"","shy":"","sup1":"","sup2":"","sup3":"","szlig":"","THORN":"","thorn":"","times":"","Uacute":"","uacute":"","Ucirc":"","ucirc":"","Ugrave":"","ugrave":"","uml":"","Uuml":"","uuml":"","Yacute":"","yacute":"","yen":"","yuml":""}')},function(module,exports,__webpack_require__){var ElementType=__webpack_require__(197),re_whitespace=/\s+/g,NodePrototype=__webpack_require__(830),ElementPrototype=__webpack_require__(1055);function DomHandler(callback,options,elementCB){"object"==typeof callback?(elementCB=options,options=callback,callback=null):"function"==typeof options&&(elementCB=options,options=defaultOpts),this._callback=callback,this._options=options||defaultOpts,this._elementCB=elementCB,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var defaultOpts={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1};DomHandler.prototype.onparserinit=function(parser){this._parser=parser},DomHandler.prototype.onreset=function(){DomHandler.call(this,this._callback,this._options,this._elementCB)},DomHandler.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},DomHandler.prototype._handleCallback=DomHandler.prototype.onerror=function(error){if("function"==typeof this._callback)this._callback(error,this.dom);else if(error)throw error},DomHandler.prototype.onclosetag=function(){var elem=this._tagStack.pop();this._options.withEndIndices&&elem&&(elem.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(elem)},DomHandler.prototype._createDomElement=function(properties){if(!this._options.withDomLvl1)return properties;var element;for(var key in element="tag"===properties.type?Object.create(ElementPrototype):Object.create(NodePrototype),properties)properties.hasOwnProperty(key)&&(element[key]=properties[key]);return element},DomHandler.prototype._addDomElement=function(element){var parent=this._tagStack[this._tagStack.length-1],siblings=parent?parent.children:this.dom,previousSibling=siblings[siblings.length-1];element.next=null,this._options.withStartIndices&&(element.startIndex=this._parser.startIndex),this._options.withEndIndices&&(element.endIndex=this._parser.endIndex),previousSibling?(element.prev=previousSibling,previousSibling.next=element):element.prev=null,siblings.push(element),element.parent=parent||null},DomHandler.prototype.onopentag=function(name,attribs){var properties={type:"script"===name?ElementType.Script:"style"===name?ElementType.Style:ElementType.Tag,name:name,attribs:attribs,children:[]},element=this._createDomElement(properties);this._addDomElement(element),this._tagStack.push(element)},DomHandler.prototype.ontext=function(data){var lastTag,normalize=this._options.normalizeWhitespace||this._options.ignoreWhitespace;if(!this._tagStack.length&&this.dom.length&&(lastTag=this.dom[this.dom.length-1]).type===ElementType.Text)normalize?lastTag.data=(lastTag.data+data).replace(re_whitespace," "):lastTag.data+=data;else if(this._tagStack.length&&(lastTag=this._tagStack[this._tagStack.length-1])&&(lastTag=lastTag.children[lastTag.children.length-1])&&lastTag.type===ElementType.Text)normalize?lastTag.data=(lastTag.data+data).replace(re_whitespace," "):lastTag.data+=data;else{normalize&&(data=data.replace(re_whitespace," "));var element=this._createDomElement({data:data,type:ElementType.Text});this._addDomElement(element)}},DomHandler.prototype.oncomment=function(data){var lastTag=this._tagStack[this._tagStack.length-1];if(lastTag&&lastTag.type===ElementType.Comment)lastTag.data+=data;else{var properties={data:data,type:ElementType.Comment},element=this._createDomElement(properties);this._addDomElement(element),this._tagStack.push(element)}},DomHandler.prototype.oncdatastart=function(){var properties={children:[{data:"",type:ElementType.Text}],type:ElementType.CDATA},element=this._createDomElement(properties);this._addDomElement(element),this._tagStack.push(element)},DomHandler.prototype.oncommentend=DomHandler.prototype.oncdataend=function(){this._tagStack.pop()},DomHandler.prototype.onprocessinginstruction=function(name,data){var element=this._createDomElement({name:name,data:data,type:ElementType.Directive});this._addDomElement(element)},module.exports=DomHandler},function(module,exports){var NodePrototype=module.exports={get firstChild(){var children=this.children;return children&&children[0]||null},get lastChild(){var children=this.children;return children&&children[children.length-1]||null},get nodeType(){return nodeTypes[this.type]||nodeTypes.element}},domLvl1={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},nodeTypes={element:1,text:3,cdata:4,comment:8};Object.keys(domLvl1).forEach(function(key){var shorthand=domLvl1[key];Object.defineProperty(NodePrototype,key,{get:function(){return this[shorthand]||null},set:function(val){return this[shorthand]=val,val}})})},function(module,exports,__webpack_require__){module.exports=Stream;var Parser=__webpack_require__(825),WritableStream=__webpack_require__(1067).Writable,StringDecoder=__webpack_require__(423).StringDecoder,Buffer=__webpack_require__(59).Buffer;function Stream(cbs,options){var parser=this._parser=new Parser(cbs,options),decoder=this._decoder=new StringDecoder;WritableStream.call(this,{decodeStrings:!1}),this.once("finish",function(){parser.end(decoder.end())})}__webpack_require__(22)(Stream,WritableStream),Stream.prototype._write=function(chunk,encoding,cb){chunk instanceof Buffer&&(chunk=this._decoder.write(chunk)),this._parser.write(chunk),cb()}},function(module,exports,__webpack_require__){"use strict";var Duplex;module.exports=Readable,Readable.ReadableState=ReadableState;__webpack_require__(43).EventEmitter;var EElistenerCount=function(emitter,type){return emitter.listeners(type).length},Stream=__webpack_require__(833),Buffer=__webpack_require__(59).Buffer,OurUint8Array=global.Uint8Array||function(){};var debug,debugUtil=__webpack_require__(8);debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var StringDecoder,createReadableStreamAsyncIterator,BufferList=__webpack_require__(1068),destroyImpl=__webpack_require__(834),getHighWaterMark=__webpack_require__(835).getHighWaterMark,_require$codes=__webpack_require__(198).codes,ERR_INVALID_ARG_TYPE=_require$codes.ERR_INVALID_ARG_TYPE,ERR_STREAM_PUSH_AFTER_EOF=_require$codes.ERR_STREAM_PUSH_AFTER_EOF,ERR_METHOD_NOT_IMPLEMENTED=_require$codes.ERR_METHOD_NOT_IMPLEMENTED,ERR_STREAM_UNSHIFT_AFTER_END_EVENT=_require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,emitExperimentalWarning=__webpack_require__(1069).emitExperimentalWarning;__webpack_require__(22)(Readable,Stream);var kProxyEvents=["error","close","destroy","pause","resume"];function ReadableState(options,stream,isDuplex){Duplex=Duplex||__webpack_require__(199),options=options||{},"boolean"!=typeof isDuplex&&(isDuplex=stream instanceof Duplex),this.objectMode=!!options.objectMode,isDuplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode),this.highWaterMark=getHighWaterMark(this,options,"readableHighWaterMark",isDuplex),this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==options.emitClose,this.destroyed=!1,this.defaultEncoding=options.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder||(StringDecoder=__webpack_require__(422).StringDecoder),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){if(Duplex=Duplex||__webpack_require__(199),!(this instanceof Readable))return new Readable(options);var isDuplex=this instanceof Duplex;this._readableState=new ReadableState(options,this,isDuplex),this.readable=!0,options&&("function"==typeof options.read&&(this._read=options.read),"function"==typeof options.destroy&&(this._destroy=options.destroy)),Stream.call(this)}function readableAddChunk(stream,chunk,encoding,addToFront,skipChunkCheck){debug("readableAddChunk",chunk);var er,state=stream._readableState;if(null===chunk)state.reading=!1,function(stream,state){if(state.ended)return;if(state.decoder){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,state.sync?emitReadable(stream):(state.needReadable=!1,state.emittedReadable||(state.emittedReadable=!0,emitReadable_(stream)))}(stream,state);else if(skipChunkCheck||(er=function(state,chunk){var er;obj=chunk,Buffer.isBuffer(obj)||obj instanceof OurUint8Array||"string"==typeof chunk||void 0===chunk||state.objectMode||(er=new ERR_INVALID_ARG_TYPE("chunk",["string","Buffer","Uint8Array"],chunk));var obj;return er}(state,chunk)),er)stream.emit("error",er);else if(state.objectMode||chunk&&chunk.length>0)if("string"==typeof chunk||state.objectMode||Object.getPrototypeOf(chunk)===Buffer.prototype||(chunk=function(chunk){return Buffer.from(chunk)}(chunk)),addToFront)state.endEmitted?stream.emit("error",new ERR_STREAM_UNSHIFT_AFTER_END_EVENT):addChunk(stream,state,chunk,!0);else if(state.ended)stream.emit("error",new ERR_STREAM_PUSH_AFTER_EOF);else{if(state.destroyed)return!1;state.reading=!1,state.decoder&&!encoding?(chunk=state.decoder.write(chunk),state.objectMode||0!==chunk.length?addChunk(stream,state,chunk,!1):maybeReadMore(stream,state)):addChunk(stream,state,chunk,!1)}else addToFront||(state.reading=!1,maybeReadMore(stream,state));return!state.ended&&(state.length<state.highWaterMark||0===state.length)}function addChunk(stream,state,chunk,addToFront){state.flowing&&0===state.length&&!state.sync?(state.awaitDrain=0,stream.emit("data",chunk)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream)),maybeReadMore(stream,state)}Object.defineProperty(Readable.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(value){this._readableState&&(this._readableState.destroyed=value)}}),Readable.prototype.destroy=destroyImpl.destroy,Readable.prototype._undestroy=destroyImpl.undestroy,Readable.prototype._destroy=function(err,cb){cb(err)},Readable.prototype.push=function(chunk,encoding){var skipChunkCheck,state=this._readableState;return state.objectMode?skipChunkCheck=!0:"string"==typeof chunk&&((encoding=encoding||state.defaultEncoding)!==state.encoding&&(chunk=Buffer.from(chunk,encoding),encoding=""),skipChunkCheck=!0),readableAddChunk(this,chunk,encoding,!1,skipChunkCheck)},Readable.prototype.unshift=function(chunk){return readableAddChunk(this,chunk,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(enc){return StringDecoder||(StringDecoder=__webpack_require__(422).StringDecoder),this._readableState.decoder=new StringDecoder(enc),this._readableState.encoding=this._readableState.decoder.encoding,this};var MAX_HWM=8388608;function howMuchToRead(n,state){return n<=0||0===state.length&&state.ended?0:state.objectMode?1:n!=n?state.flowing&&state.length?state.buffer.head.data.length:state.length:(n>state.highWaterMark&&(state.highWaterMark=function(n){return n>=MAX_HWM?n=MAX_HWM:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}(n)),n<=state.length?n:state.ended?state.length:(state.needReadable=!0,0))}function emitReadable(stream){var state=stream._readableState;state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,process.nextTick(emitReadable_,stream))}function emitReadable_(stream){var state=stream._readableState;debug("emitReadable_",state.destroyed,state.length,state.ended),state.destroyed||!state.length&&!state.ended||stream.emit("readable"),state.needReadable=!state.flowing&&!state.ended&&state.length<=state.highWaterMark,flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,process.nextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(;!state.reading&&!state.ended&&(state.length<state.highWaterMark||state.flowing&&0===state.length);){var len=state.length;if(debug("maybeReadMore read 0"),stream.read(0),len===state.length)break}state.readingMore=!1}function updateReadableListening(self){var state=self._readableState;state.readableListening=self.listenerCount("readable")>0,state.resumeScheduled&&!state.paused?state.flowing=!0:self.listenerCount("data")>0&&self.resume()}function nReadingNextTick(self){debug("readable nexttick read 0"),self.read(0)}function resume_(stream,state){debug("resume",state.reading),state.reading||stream.read(0),state.resumeScheduled=!1,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;for(debug("flow",state.flowing);state.flowing&&null!==stream.read(););}function fromList(n,state){return 0===state.length?null:(state.objectMode?ret=state.buffer.shift():!n||n>=state.length?(ret=state.decoder?state.buffer.join(""):1===state.buffer.length?state.buffer.first():state.buffer.concat(state.length),state.buffer.clear()):ret=state.buffer.consume(n,state.decoder),ret);var ret}function endReadable(stream){var state=stream._readableState;debug("endReadable",state.endEmitted),state.endEmitted||(state.ended=!0,process.nextTick(endReadableNT,state,stream))}function endReadableNT(state,stream){debug("endReadableNT",state.endEmitted,state.length),state.endEmitted||0!==state.length||(state.endEmitted=!0,stream.readable=!1,stream.emit("end"))}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}Readable.prototype.read=function(n){debug("read",n),n=parseInt(n,10);var state=this._readableState,nOrig=n;if(0!==n&&(state.emittedReadable=!1),0===n&&state.needReadable&&((0!==state.highWaterMark?state.length>=state.highWaterMark:state.length>0)||state.ended))return debug("read: emitReadable",state.length,state.ended),0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(0===(n=howMuchToRead(n,state))&&state.ended)return 0===state.length&&endReadable(this),null;var ret,doRead=state.needReadable;return debug("need readable",doRead),(0===state.length||state.length-n<state.highWaterMark)&&debug("length less than watermark",doRead=!0),state.ended||state.reading?debug("reading or ended",doRead=!1):doRead&&(debug("do read"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1,state.reading||(n=howMuchToRead(nOrig,state))),null===(ret=n>0?fromList(n,state):null)?(state.needReadable=!0,n=0):(state.length-=n,state.awaitDrain=0),0===state.length&&(state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&endReadable(this)),null!==ret&&this.emit("data",ret),ret},Readable.prototype._read=function(n){this.emit("error",new ERR_METHOD_NOT_IMPLEMENTED("_read()"))},Readable.prototype.pipe=function(dest,pipeOpts){var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var endFn=(!pipeOpts||!1!==pipeOpts.end)&&dest!==process.stdout&&dest!==process.stderr?onend:unpipe;function onunpipe(readable,unpipeInfo){debug("onunpipe"),readable===src&&unpipeInfo&&!1===unpipeInfo.hasUnpiped&&(unpipeInfo.hasUnpiped=!0,debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),dest.removeListener("drain",ondrain),dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",unpipe),src.removeListener("data",ondata),cleanedUp=!0,!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain())}function onend(){debug("onend"),dest.end()}state.endEmitted?process.nextTick(endFn):src.once("end",endFn),dest.on("unpipe",onunpipe);var ondrain=function(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,"data")&&(state.flowing=!0,flow(src))}}(src);dest.on("drain",ondrain);var cleanedUp=!1;function ondata(chunk){debug("ondata");var ret=dest.write(chunk);debug("dest.write",ret),!1===ret&&((1===state.pipesCount&&state.pipes===dest||state.pipesCount>1&&-1!==indexOf(state.pipes,dest))&&!cleanedUp&&(debug("false write response, pause",state.awaitDrain),state.awaitDrain++),src.pause())}function onerror(er){debug("onerror",er),unpipe(),dest.removeListener("error",onerror),0===EElistenerCount(dest,"error")&&dest.emit("error",er)}function onclose(){dest.removeListener("finish",onfinish),unpipe()}function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}function unpipe(){debug("unpipe"),src.unpipe(dest)}return src.on("data",ondata),function(emitter,event,fn){if("function"==typeof emitter.prependListener)return emitter.prependListener(event,fn);emitter._events&&emitter._events[event]?Array.isArray(emitter._events[event])?emitter._events[event].unshift(fn):emitter._events[event]=[fn,emitter._events[event]]:emitter.on(event,fn)}(dest,"error",onerror),dest.once("close",onclose),dest.once("finish",onfinish),dest.emit("pipe",src),state.flowing||(debug("pipe resume"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState,unpipeInfo={hasUnpiped:!1};if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes?this:(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit("unpipe",this,unpipeInfo),this);if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var i=0;i<len;i++)dests[i].emit("unpipe",this,{hasUnpiped:!1});return this}var index=indexOf(state.pipes,dest);return-1===index?this:(state.pipes.splice(index,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit("unpipe",this,unpipeInfo),this)},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn),state=this._readableState;return"data"===ev?(state.readableListening=this.listenerCount("readable")>0,!1!==state.flowing&&this.resume()):"readable"===ev&&(state.endEmitted||state.readableListening||(state.readableListening=state.needReadable=!0,state.flowing=!1,state.emittedReadable=!1,debug("on readable",state.length,state.reading),state.length?emitReadable(this):state.reading||process.nextTick(nReadingNextTick,this))),res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.removeListener=function(ev,fn){var res=Stream.prototype.removeListener.call(this,ev,fn);return"readable"===ev&&process.nextTick(updateReadableListening,this),res},Readable.prototype.removeAllListeners=function(ev){var res=Stream.prototype.removeAllListeners.apply(this,arguments);return"readable"!==ev&&void 0!==ev||process.nextTick(updateReadableListening,this),res},Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!state.readableListening,function(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,process.nextTick(resume_,stream,state))}(this,state)),state.paused=!1,this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Readable.prototype.wrap=function(stream){var _this=this,state=this._readableState,paused=!1;for(var i in stream.on("end",function(){if(debug("wrapped end"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&_this.push(chunk)}_this.push(null)}),stream.on("data",function(chunk){(debug("wrapped data"),state.decoder&&(chunk=state.decoder.write(chunk)),state.objectMode&&null==chunk)||(state.objectMode||chunk&&chunk.length)&&(_this.push(chunk)||(paused=!0,stream.pause()))}),stream)void 0===this[i]&&"function"==typeof stream[i]&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));for(var n=0;n<kProxyEvents.length;n++)stream.on(kProxyEvents[n],this.emit.bind(this,kProxyEvents[n]));return this._read=function(n){debug("wrapped _read",n),paused&&(paused=!1,stream.resume())},this},"function"==typeof Symbol&&(Readable.prototype[Symbol.asyncIterator]=function(){return emitExperimentalWarning("Readable[Symbol.asyncIterator]"),void 0===createReadableStreamAsyncIterator&&(createReadableStreamAsyncIterator=__webpack_require__(1070)),createReadableStreamAsyncIterator(this)}),Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Readable.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Readable.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(state){this._readableState&&(this._readableState.flowing=state)}}),Readable._fromList=fromList,Object.defineProperty(Readable.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}})},function(module,exports,__webpack_require__){module.exports=__webpack_require__(10)},function(module,exports,__webpack_require__){"use strict";function emitErrorAndCloseNT(self,err){emitErrorNT(self,err),emitCloseNT(self)}function emitCloseNT(self){self._writableState&&!self._writableState.emitClose||self._readableState&&!self._readableState.emitClose||self.emit("close")}function emitErrorNT(self,err){self.emit("error",err)}module.exports={destroy:function(err,cb){var _this=this,readableDestroyed=this._readableState&&this._readableState.destroyed,writableDestroyed=this._writableState&&this._writableState.destroyed;return readableDestroyed||writableDestroyed?(cb?cb(err):!err||this._writableState&&this._writableState.errorEmitted||process.nextTick(emitErrorNT,this,err),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(err||null,function(err){!cb&&err?(process.nextTick(emitErrorAndCloseNT,_this,err),_this._writableState&&(_this._writableState.errorEmitted=!0)):cb?(process.nextTick(emitCloseNT,_this),cb(err)):process.nextTick(emitCloseNT,_this)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(module,exports,__webpack_require__){"use strict";var ERR_INVALID_OPT_VALUE=__webpack_require__(198).codes.ERR_INVALID_OPT_VALUE;module.exports={getHighWaterMark:function(state,options,duplexKey,isDuplex){var hwm=function(options,isDuplex,duplexKey){return null!=options.highWaterMark?options.highWaterMark:isDuplex?options[duplexKey]:null}(options,isDuplex,duplexKey);if(null!=hwm){if(!isFinite(hwm)||Math.floor(hwm)!==hwm||hwm<0)throw new ERR_INVALID_OPT_VALUE(isDuplex?duplexKey:"highWaterMark",hwm);return Math.floor(hwm)}return state.objectMode?16:16384}}},function(module,exports,__webpack_require__){"use strict";function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(){!function(corkReq,state,err){var entry=corkReq.entry;corkReq.entry=null;for(;entry;){var cb=entry.callback;state.pendingcb--,cb(err),entry=entry.next}state.corkedRequestsFree.next=corkReq}(_this,state)}}var Duplex;module.exports=Writable,Writable.WritableState=WritableState;var internalUtil={deprecate:__webpack_require__(864)},Stream=__webpack_require__(833),Buffer=__webpack_require__(59).Buffer,OurUint8Array=global.Uint8Array||function(){};var realHasInstance,destroyImpl=__webpack_require__(834),getHighWaterMark=__webpack_require__(835).getHighWaterMark,_require$codes=__webpack_require__(198).codes,ERR_INVALID_ARG_TYPE=_require$codes.ERR_INVALID_ARG_TYPE,ERR_METHOD_NOT_IMPLEMENTED=_require$codes.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes.ERR_MULTIPLE_CALLBACK,ERR_STREAM_CANNOT_PIPE=_require$codes.ERR_STREAM_CANNOT_PIPE,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED,ERR_STREAM_NULL_VALUES=_require$codes.ERR_STREAM_NULL_VALUES,ERR_STREAM_WRITE_AFTER_END=_require$codes.ERR_STREAM_WRITE_AFTER_END,ERR_UNKNOWN_ENCODING=_require$codes.ERR_UNKNOWN_ENCODING;function nop(){}function WritableState(options,stream,isDuplex){Duplex=Duplex||__webpack_require__(199),options=options||{},"boolean"!=typeof isDuplex&&(isDuplex=stream instanceof Duplex),this.objectMode=!!options.objectMode,isDuplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode),this.highWaterMark=getHighWaterMark(this,options,"writableHighWaterMark",isDuplex),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var noDecode=!1===options.decodeStrings;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){!function(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if("function"!=typeof cb)throw new ERR_MULTIPLE_CALLBACK;if(function(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}(state),er)!function(stream,state,sync,er,cb){--state.pendingcb,sync?(process.nextTick(cb,er),process.nextTick(finishMaybe,stream,state),stream._writableState.errorEmitted=!0,stream.emit("error",er)):(cb(er),stream._writableState.errorEmitted=!0,stream.emit("error",er),finishMaybe(stream,state))}(stream,state,sync,er,cb);else{var finished=needFinish(state)||stream.destroyed;finished||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?process.nextTick(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb)}}(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==options.emitClose,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(options){var isDuplex=this instanceof(Duplex=Duplex||__webpack_require__(199));if(!isDuplex&&!realHasInstance.call(Writable,this))return new Writable(options);this._writableState=new WritableState(options,this,isDuplex),this.writable=!0,options&&("function"==typeof options.write&&(this._write=options.write),"function"==typeof options.writev&&(this._writev=options.writev),"function"==typeof options.destroy&&(this._destroy=options.destroy),"function"==typeof options.final&&(this._final=options.final)),Stream.call(this)}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,state.destroyed?state.onwrite(new ERR_STREAM_DESTROYED("write")):writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function afterWrite(stream,state,finished,cb){finished||function(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"))}(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount,buffer=new Array(l),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0,allBuffers=!0;entry;)buffer[count]=entry,entry.isBuf||(allBuffers=!1),entry=entry.next,count+=1;buffer.allBuffers=allBuffers,doWrite(stream,state,!0,state.length,buffer,"",holder.finish),state.pendingcb++,state.lastBufferedRequest=null,holder.next?(state.corkedRequestsFree=holder.next,holder.next=null):state.corkedRequestsFree=new CorkedRequest(state),state.bufferedRequestCount=0}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback;if(doWrite(stream,state,!1,state.objectMode?1:chunk.length,chunk,encoding,cb),entry=entry.next,state.bufferedRequestCount--,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function callFinal(stream,state){stream._final(function(err){state.pendingcb--,err&&stream.emit("error",err),state.prefinished=!0,stream.emit("prefinish"),finishMaybe(stream,state)})}function finishMaybe(stream,state){var need=needFinish(state);return need&&(!function(stream,state){state.prefinished||state.finalCalled||("function"!=typeof stream._final||state.destroyed?(state.prefinished=!0,stream.emit("prefinish")):(state.pendingcb++,state.finalCalled=!0,process.nextTick(callFinal,stream,state)))}(stream,state),0===state.pendingcb&&(state.finished=!0,stream.emit("finish"))),need}__webpack_require__(22)(Writable,Stream),WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(_){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(realHasInstance=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(object){return!!realHasInstance.call(this,object)||this===Writable&&(object&&object._writableState instanceof WritableState)}})):realHasInstance=function(object){return object instanceof this},Writable.prototype.pipe=function(){this.emit("error",new ERR_STREAM_CANNOT_PIPE)},Writable.prototype.write=function(chunk,encoding,cb){var obj,state=this._writableState,ret=!1,isBuf=!state.objectMode&&(obj=chunk,Buffer.isBuffer(obj)||obj instanceof OurUint8Array);return isBuf&&!Buffer.isBuffer(chunk)&&(chunk=function(chunk){return Buffer.from(chunk)}(chunk)),"function"==typeof encoding&&(cb=encoding,encoding=null),isBuf?encoding="buffer":encoding||(encoding=state.defaultEncoding),"function"!=typeof cb&&(cb=nop),state.ending?function(stream,cb){var er=new ERR_STREAM_WRITE_AFTER_END;stream.emit("error",er),process.nextTick(cb,er)}(this,cb):(isBuf||function(stream,state,chunk,cb){var er;return null===chunk?er=new ERR_STREAM_NULL_VALUES:"string"==typeof chunk||state.objectMode||(er=new ERR_INVALID_ARG_TYPE("chunk",["string","Buffer"],chunk)),!er||(stream.emit("error",er),process.nextTick(cb,er),!1)}(this,state,chunk,cb))&&(state.pendingcb++,ret=function(stream,state,isBuf,chunk,encoding,cb){if(!isBuf){var newChunk=function(state,chunk,encoding){state.objectMode||!1===state.decodeStrings||"string"!=typeof chunk||(chunk=Buffer.from(chunk,encoding));return chunk}(state,chunk,encoding);chunk!==newChunk&&(isBuf=!0,encoding="buffer",chunk=newChunk)}var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;ret||(state.needDrain=!0);if(state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest={chunk:chunk,encoding:encoding,isBuf:isBuf,callback:cb,next:null},last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1}else doWrite(stream,state,!1,len,chunk,encoding,cb);return ret}(this,state,isBuf,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function(encoding){if("string"==typeof encoding&&(encoding=encoding.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new ERR_UNKNOWN_ENCODING(encoding);return this._writableState.defaultEncoding=encoding,this},Object.defineProperty(Writable.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Writable.prototype._write=function(chunk,encoding,cb){cb(new ERR_METHOD_NOT_IMPLEMENTED("_write()"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;return"function"==typeof chunk?(cb=chunk,chunk=null,encoding=null):"function"==typeof encoding&&(cb=encoding,encoding=null),null!=chunk&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||function(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?process.nextTick(cb):stream.once("finish",cb));state.ended=!0,stream.writable=!1}(this,state,cb),this},Object.defineProperty(Writable.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Writable.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(value){this._writableState&&(this._writableState.destroyed=value)}}),Writable.prototype.destroy=destroyImpl.destroy,Writable.prototype._undestroy=destroyImpl.undestroy,Writable.prototype._destroy=function(err,cb){cb(err)}},function(module,exports,__webpack_require__){"use strict";module.exports=Transform;var _require$codes=__webpack_require__(198).codes,ERR_METHOD_NOT_IMPLEMENTED=_require$codes.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=_require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=_require$codes.ERR_TRANSFORM_WITH_LENGTH_0,Duplex=__webpack_require__(199);function afterTransform(er,data){var ts=this._transformState;ts.transforming=!1;var cb=ts.writecb;if(null===cb)return this.emit("error",new ERR_MULTIPLE_CALLBACK);ts.writechunk=null,ts.writecb=null,null!=data&&this.push(data),cb(er);var rs=this._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,options&&("function"==typeof options.transform&&(this._transform=options.transform),"function"==typeof options.flush&&(this._flush=options.flush)),this.on("prefinish",prefinish)}function prefinish(){var _this=this;"function"!=typeof this._flush||this._readableState.destroyed?done(this,null,null):this._flush(function(er,data){done(_this,er,data)})}function done(stream,er,data){if(er)return stream.emit("error",er);if(null!=data&&stream.push(data),stream._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(stream._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return stream.push(null)}__webpack_require__(22)(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){cb(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"))},Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;if(ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=encoding,!ts.transforming){var rs=this._readableState;(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}},Transform.prototype._read=function(n){var ts=this._transformState;null===ts.writechunk||ts.transforming?ts.needTransform=!0:(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform))},Transform.prototype._destroy=function(err,cb){Duplex.prototype._destroy.call(this,err,function(err2){cb(err2)})}},function(module,exports,__webpack_require__){"use strict";var Tokenizer=__webpack_require__(200),OpenElementStack=__webpack_require__(1078),FormattingElementList=__webpack_require__(1079),LocationInfoParserMixin=__webpack_require__(1080),defaultTreeAdapter=__webpack_require__(453),mergeOptions=__webpack_require__(454),doctype=__webpack_require__(455),foreignContent=__webpack_require__(841),UNICODE=__webpack_require__(267),HTML=__webpack_require__(113),$=HTML.TAG_NAMES,NS=HTML.NAMESPACES,ATTRS=HTML.ATTRS,DEFAULT_OPTIONS={locationInfo:!1,treeAdapter:defaultTreeAdapter},HIDDEN_INPUT_TYPE="hidden",AA_OUTER_LOOP_ITER=8,AA_INNER_LOOP_ITER=3,BEFORE_HTML_MODE="BEFORE_HTML_MODE",BEFORE_HEAD_MODE="BEFORE_HEAD_MODE",IN_HEAD_MODE="IN_HEAD_MODE",AFTER_HEAD_MODE="AFTER_HEAD_MODE",IN_BODY_MODE="IN_BODY_MODE",TEXT_MODE="TEXT_MODE",IN_TABLE_MODE="IN_TABLE_MODE",IN_TABLE_TEXT_MODE="IN_TABLE_TEXT_MODE",IN_CAPTION_MODE="IN_CAPTION_MODE",IN_COLUMN_GROUP_MODE="IN_COLUMN_GROUP_MODE",IN_TABLE_BODY_MODE="IN_TABLE_BODY_MODE",IN_ROW_MODE="IN_ROW_MODE",IN_CELL_MODE="IN_CELL_MODE",IN_SELECT_MODE="IN_SELECT_MODE",IN_SELECT_IN_TABLE_MODE="IN_SELECT_IN_TABLE_MODE",IN_TEMPLATE_MODE="IN_TEMPLATE_MODE",AFTER_BODY_MODE="AFTER_BODY_MODE",IN_FRAMESET_MODE="IN_FRAMESET_MODE",AFTER_FRAMESET_MODE="AFTER_FRAMESET_MODE",AFTER_AFTER_BODY_MODE="AFTER_AFTER_BODY_MODE",AFTER_AFTER_FRAMESET_MODE="AFTER_AFTER_FRAMESET_MODE",INSERTION_MODE_RESET_MAP=Object.create(null);INSERTION_MODE_RESET_MAP[$.TR]=IN_ROW_MODE,INSERTION_MODE_RESET_MAP[$.TBODY]=INSERTION_MODE_RESET_MAP[$.THEAD]=INSERTION_MODE_RESET_MAP[$.TFOOT]=IN_TABLE_BODY_MODE,INSERTION_MODE_RESET_MAP[$.CAPTION]=IN_CAPTION_MODE,INSERTION_MODE_RESET_MAP[$.COLGROUP]=IN_COLUMN_GROUP_MODE,INSERTION_MODE_RESET_MAP[$.TABLE]=IN_TABLE_MODE,INSERTION_MODE_RESET_MAP[$.BODY]=IN_BODY_MODE,INSERTION_MODE_RESET_MAP[$.FRAMESET]=IN_FRAMESET_MODE;var TEMPLATE_INSERTION_MODE_SWITCH_MAP=Object.create(null);TEMPLATE_INSERTION_MODE_SWITCH_MAP[$.CAPTION]=TEMPLATE_INSERTION_MODE_SWITCH_MAP[$.COLGROUP]=TEMPLATE_INSERTION_MODE_SWITCH_MAP[$.TBODY]=TEMPLATE_INSERTION_MODE_SWITCH_MAP[$.TFOOT]=TEMPLATE_INSERTION_MODE_SWITCH_MAP[$.THEAD]=IN_TABLE_MODE,TEMPLATE_INSERTION_MODE_SWITCH_MAP[$.COL]=IN_COLUMN_GROUP_MODE,TEMPLATE_INSERTION_MODE_SWITCH_MAP[$.TR]=IN_TABLE_BODY_MODE,TEMPLATE_INSERTION_MODE_SWITCH_MAP[$.TD]=TEMPLATE_INSERTION_MODE_SWITCH_MAP[$.TH]=IN_ROW_MODE;var _=Object.create(null);_.INITIAL_MODE=Object.create(null),_.INITIAL_MODE[Tokenizer.CHARACTER_TOKEN]=_.INITIAL_MODE[Tokenizer.NULL_CHARACTER_TOKEN]=tokenInInitialMode,_.INITIAL_MODE[Tokenizer.WHITESPACE_CHARACTER_TOKEN]=ignoreToken,_.INITIAL_MODE[Tokenizer.COMMENT_TOKEN]=appendComment,_.INITIAL_MODE[Tokenizer.DOCTYPE_TOKEN]=function(p,token){p._setDocumentType(token);var mode=token.forceQuirks?HTML.DOCUMENT_MODE.QUIRKS:doctype.getDocumentMode(token.name,token.publicId,token.systemId);p.treeAdapter.setDocumentMode(p.document,mode),p.insertionMode=BEFORE_HTML_MODE},_.INITIAL_MODE[Tokenizer.START_TAG_TOKEN]=_.INITIAL_MODE[Tokenizer.END_TAG_TOKEN]=_.INITIAL_MODE[Tokenizer.EOF_TOKEN]=tokenInInitialMode,_[BEFORE_HTML_MODE]=Object.create(null),_[BEFORE_HTML_MODE][Tokenizer.CHARACTER_TOKEN]=_[BEFORE_HTML_MODE][Tokenizer.NULL_CHARACTER_TOKEN]=tokenBeforeHtml,_[BEFORE_HTML_MODE][Tokenizer.WHITESPACE_CHARACTER_TOKEN]=ignoreToken,_[BEFORE_HTML_MODE][Tokenizer.COMMENT_TOKEN]=appendComment,_[BEFORE_HTML_MODE][Tokenizer.DOCTYPE_TOKEN]=ignoreToken,_[BEFORE_HTML_MODE][Tokenizer.START_TAG_TOKEN]=function(p,token){token.tagName===$.HTML?(p._insertElement(token,NS.HTML),p.insertionMode=BEFORE_HEAD_MODE):tokenBeforeHtml(p,token)},_[BEFORE_HTML_MODE][Tokenizer.END_TAG_TOKEN]=function(p,token){var tn=token.tagName;tn!==$.HTML&&tn!==$.HEAD&&tn!==$.BODY&&tn!==$.BR||tokenBeforeHtml(p,token)},_[BEFORE_HTML_MODE][Tokenizer.EOF_TOKEN]=tokenBeforeHtml,_[BEFORE_HEAD_MODE]=Object.create(null),_[BEFORE_HEAD_MODE][Tokenizer.CHARACTER_TOKEN]=_[BEFORE_HEAD_MODE][Tokenizer.NULL_CHARACTER_TOKEN]=tokenBeforeHead,_[BEFORE_HEAD_MODE][Tokenizer.WHITESPACE_CHARACTER_TOKEN]=ignoreToken,_[BEFORE_HEAD_MODE][Tokenizer.COMMENT_TOKEN]=appendComment,_[BEFORE_HEAD_MODE][Tokenizer.DOCTYPE_TOKEN]=ignoreToken,_[BEFORE_HEAD_MODE][Tokenizer.START_TAG_TOKEN]=function(p,token){var tn=token.tagName;tn===$.HTML?startTagInBody(p,token):tn===$.HEAD?(p._insertElement(token,NS.HTML),p.headElement=p.openElements.current,p.insertionMode=IN_HEAD_MODE):tokenBeforeHead(p,token)},_[BEFORE_HEAD_MODE][Tokenizer.END_TAG_TOKEN]=function(p,token){var tn=token.tagName;tn!==$.HEAD&&tn!==$.BODY&&tn!==$.HTML&&tn!==$.BR||tokenBeforeHead(p,token)},_[BEFORE_HEAD_MODE][Tokenizer.EOF_TOKEN]=tokenBeforeHead,_[IN_HEAD_MODE]=Object.create(null),_[IN_HEAD_MODE][Tokenizer.CHARACTER_TOKEN]=_[IN_HEAD_MODE][Tokenizer.NULL_CHARACTER_TOKEN]=tokenInHead,_[IN_HEAD_MODE][Tokenizer.WHITESPACE_CHARACTER_TOKEN]=insertCharacters,_[IN_HEAD_MODE][Tokenizer.COMMENT_TOKEN]=appendComment,_[IN_HEAD_MODE][Tokenizer.DOCTYPE_TOKEN]=ignoreToken,_[IN_HEAD_MODE][Tokenizer.START_TAG_TOKEN]=startTagInHead,_[IN_HEAD_MODE][Tokenizer.END_TAG_TOKEN]=endTagInHead,_[IN_HEAD_MODE][Tokenizer.EOF_TOKEN]=tokenInHead,_[AFTER_HEAD_MODE]=Object.create(null),_[AFTER_HEAD_MODE][Tokenizer.CHARACTER_TOKEN]=_[AFTER_HEAD_MODE][Tokenizer.NULL_CHARACTER_TOKEN]=tokenAfterHead,_[AFTER_HEAD_MODE][Tokenizer.WHITESPACE_CHARACTER_TOKEN]=insertCharacters,_[AFTER_HEAD_MODE][Tokenizer.COMMENT_TOKEN]=appendComment,_[AFTER_HEAD_MODE][Tokenizer.DOCTYPE_TOKEN]=ignoreToken,_[AFTER_HEAD_MODE][Tokenizer.START_TAG_TOKEN]=function(p,token){var tn=token.tagName;tn===$.HTML?startTagInBody(p,token):tn===$.BODY?(p._insertElement(token,NS.HTML),p.framesetOk=!1,p.insertionMode=IN_BODY_MODE):tn===$.FRAMESET?(p._insertElement(token,NS.HTML),p.insertionMode=IN_FRAMESET_MODE):tn===$.BASE||tn===$.BASEFONT||tn===$.BGSOUND||tn===$.LINK||tn===$.META||tn===$.NOFRAMES||tn===$.SCRIPT||tn===$.STYLE||tn===$.TEMPLATE||tn===$.TITLE?(p.openElements.push(p.headElement),startTagInHead(p,token),p.openElements.remove(p.headElement)):tn!==$.HEAD&&tokenAfterHead(p,token)},_[AFTER_HEAD_MODE][Tokenizer.END_TAG_TOKEN]=function(p,token){var tn=token.tagName;tn===$.BODY||tn===$.HTML||tn===$.BR?tokenAfterHead(p,token):tn===$.TEMPLATE&&endTagInHead(p,token)},_[AFTER_HEAD_MODE][Tokenizer.EOF_TOKEN]=tokenAfterHead,_[IN_BODY_MODE]=Object.create(null),_[IN_BODY_MODE][Tokenizer.CHARACTER_TOKEN]=characterInBody,_[IN_BODY_MODE][Tokenizer.NULL_CHARACTER_TOKEN]=ignoreToken,_[IN_BODY_MODE][Tokenizer.WHITESPACE_CHARACTER_TOKEN]=whitespaceCharacterInBody,_[IN_BODY_MODE][Tokenizer.COMMENT_TOKEN]=appendComment,_[IN_BODY_MODE][Tokenizer.DOCTYPE_TOKEN]=ignoreToken,_[IN_BODY_MODE][Tokenizer.START_TAG_TOKEN]=startTagInBody,_[IN_BODY_MODE][Tokenizer.END_TAG_TOKEN]=endTagInBody,_[IN_BODY_MODE][Tokenizer.EOF_TOKEN]=eofInBody,_[TEXT_MODE]=Object.create(null),_[TEXT_MODE][Tokenizer.CHARACTER_TOKEN]=_[TEXT_MODE][Tokenizer.NULL_CHARACTER_TOKEN]=_[TEXT_MODE][Tokenizer.WHITESPACE_CHARACTER_TOKEN]=insertCharacters,_[TEXT_MODE][Tokenizer.COMMENT_TOKEN]=_[TEXT_MODE][Tokenizer.DOCTYPE_TOKEN]=_[TEXT_MODE][Tokenizer.START_TAG_TOKEN]=ignoreToken,_[TEXT_MODE][Tokenizer.END_TAG_TOKEN]=function(p,token){token.tagName===$.SCRIPT&&(p.pendingScript=p.openElements.current);p.openElements.pop(),p.insertionMode=p.originalInsertionMode},_[TEXT_MODE][Tokenizer.EOF_TOKEN]=function(p,token){p.openElements.pop(),p.insertionMode=p.originalInsertionMode,p._processToken(token)},_[IN_TABLE_MODE]=Object.create(null),_[IN_TABLE_MODE][Tokenizer.CHARACTER_TOKEN]=_[IN_TABLE_MODE][Tokenizer.NULL_CHARACTER_TOKEN]=_[IN_TABLE_MODE][Tokenizer.WHITESPACE_CHARACTER_TOKEN]=characterInTable,_[IN_TABLE_MODE][Tokenizer.COMMENT_TOKEN]=appendComment,_[IN_TABLE_MODE][Tokenizer.DOCTYPE_TOKEN]=ignoreToken,_[IN_TABLE_MODE][Tokenizer.START_TAG_TOKEN]=startTagInTable,_[IN_TABLE_MODE][Tokenizer.END_TAG_TOKEN]=endTagInTable,_[IN_TABLE_MODE][Tokenizer.EOF_TOKEN]=eofInBody,_[IN_TABLE_TEXT_MODE]=Object.create(null),_[IN_TABLE_TEXT_MODE][Tokenizer.CHARACTER_TOKEN]=function(p,token){p.pendingCharacterTokens.push(token),p.hasNonWhitespacePendingCharacterToken=!0},_[IN_TABLE_TEXT_MODE][Tokenizer.NULL_CHARACTER_TOKEN]=ignoreToken,_[IN_TABLE_TEXT_MODE][Tokenizer.WHITESPACE_CHARACTER_TOKEN]=function(p,token){p.pendingCharacterTokens.push(token)},_[IN_TABLE_TEXT_MODE][Tokenizer.COMMENT_TOKEN]=_[IN_TABLE_TEXT_MODE][Tokenizer.DOCTYPE_TOKEN]=_[IN_TABLE_TEXT_MODE][Tokenizer.START_TAG_TOKEN]=_[IN_TABLE_TEXT_MODE][Tokenizer.END_TAG_TOKEN]=_[IN_TABLE_TEXT_MODE][Tokenizer.EOF_TOKEN]=function(p,token){var i=0;if(p.hasNonWhitespacePendingCharacterToken)for(;i<p.pendingCharacterTokens.length;i++)tokenInTable(p,p.pendingCharacterTokens[i]);else for(;i<p.pendingCharacterTokens.length;i++)p._insertCharacters(p.pendingCharacterTokens[i]);p.insertionMode=p.originalInsertionMode,p._processToken(token)},_[IN_CAPTION_MODE]=Object.create(null),_[IN_CAPTION_MODE][Tokenizer.CHARACTER_TOKEN]=characterInBody,_[IN_CAPTION_MODE][Tokenizer.NULL_CHARACTER_TOKEN]=ignoreToken,_[IN_CAPTION_MODE][Tokenizer.WHITESPACE_CHARACTER_TOKEN]=whitespaceCharacterInBody,_[IN_CAPTION_MODE][Tokenizer.COMMENT_TOKEN]=appendComment,_[IN_CAPTION_MODE][Tokenizer.DOCTYPE_TOKEN]=ignoreToken,_[IN_CAPTION_MODE][Tokenizer.START_TAG_TOKEN]=function(p,token){var tn=token.tagName;tn===$.CAPTION||tn===$.COL||tn===$.COLGROUP||tn===$.TBODY||tn===$.TD||tn===$.TFOOT||tn===$.TH||tn===$.THEAD||tn===$.TR?p.openElements.hasInTableScope($.CAPTION)&&(p.openElements.generateImpliedEndTags(),p.openElements.popUntilTagNamePopped($.CAPTION),p.activeFormattingElements.clearToLastMarker(),p.insertionMode=IN_TABLE_MODE,p._processToken(token)):startTagInBody(p,token)},_[IN_CAPTION_MODE][Tokenizer.END_TAG_TOKEN]=function(p,token){var tn=token.tagName;tn===$.CAPTION||tn===$.TABLE?p.openElements.hasInTableScope($.CAPTION)&&(p.openElements.generateImpliedEndTags(),p.openElements.popUntilTagNamePopped($.CAPTION),p.activeFormattingElements.clearToLastMarker(),p.insertionMode=IN_TABLE_MODE,tn===$.TABLE&&p._processToken(token)):tn!==$.BODY&&tn!==$.COL&&tn!==$.COLGROUP&&tn!==$.HTML&&tn!==$.TBODY&&tn!==$.TD&&tn!==$.TFOOT&&tn!==$.TH&&tn!==$.THEAD&&tn!==$.TR&&endTagInBody(p,token)},_[IN_CAPTION_MODE][Tokenizer.EOF_TOKEN]=eofInBody,_[IN_COLUMN_GROUP_MODE]=Object.create(null),_[IN_COLUMN_GROUP_MODE][Tokenizer.CHARACTER_TOKEN]=_[IN_COLUMN_GROUP_MODE][Tokenizer.NULL_CHARACTER_TOKEN]=tokenInColumnGroup,_[IN_COLUMN_GROUP_MODE][Tokenizer.WHITESPACE_CHARACTER_TOKEN]=insertCharacters,_[IN_COLUMN_GROUP_MODE][Tokenizer.COMMENT_TOKEN]=appendComment,_[IN_COLUMN_GROUP_MODE][Tokenizer.DOCTYPE_TOKEN]=ignoreToken,_[IN_COLUMN_GROUP_MODE][Tokenizer.START_TAG_TOKEN]=function(p,token){var tn=token.tagName;tn===$.HTML?startTagInBody(p,token):tn===$.COL?p._appendElement(token,NS.HTML):tn===$.TEMPLATE?startTagInHead(p,token):tokenInColumnGroup(p,token)},_[IN_COLUMN_GROUP_MODE][Tokenizer.END_TAG_TOKEN]=function(p,token){var tn=token.tagName;tn===$.COLGROUP?p.openElements.currentTagName===$.COLGROUP&&(p.openElements.pop(),p.insertionMode=IN_TABLE_MODE):tn===$.TEMPLATE?endTagInHead(p,token):tn!==$.COL&&tokenInColumnGroup(p,token)},_[IN_COLUMN_GROUP_MODE][Tokenizer.EOF_TOKEN]=eofInBody,_[IN_TABLE_BODY_MODE]=Object.create(null),_[IN_TABLE_BODY_MODE][Tokenizer.CHARACTER_TOKEN]=_[IN_TABLE_BODY_MODE][Tokenizer.NULL_CHARACTER_TOKEN]=_[IN_TABLE_BODY_MODE][Tokenizer.WHITESPACE_CHARACTER_TOKEN]=characterInTable,_[IN_TABLE_BODY_MODE][Tokenizer.COMMENT_TOKEN]=appendComment,_[IN_TABLE_BODY_MODE][Tokenizer.DOCTYPE_TOKEN]=ignoreToken,_[IN_TABLE_BODY_MODE][Tokenizer.START_TAG_TOKEN]=function(p,token){var tn=token.tagName;tn===$.TR?(p.openElements.clearBackToTableBodyContext(),p._insertElement(token,NS.HTML),p.insertionMode=IN_ROW_MODE):tn===$.TH||tn===$.TD?(p.openElements.clearBackToTableBodyContext(),p._insertFakeElement($.TR),p.insertionMode=IN_ROW_MODE,p._processToken(token)):tn===$.CAPTION||tn===$.COL||tn===$.COLGROUP||tn===$.TBODY||tn===$.TFOOT||tn===$.THEAD?p.openElements.hasTableBodyContextInTableScope()&&(p.openElements.clearBackToTableBodyContext(),p.openElements.pop(),p.insertionMode=IN_TABLE_MODE,p._processToken(token)):startTagInTable(p,token)},_[IN_TABLE_BODY_MODE][Tokenizer.END_TAG_TOKEN]=function(p,token){var tn=token.tagName;tn===$.TBODY||tn===$.TFOOT||tn===$.THEAD?p.openElements.hasInTableScope(tn)&&(p.openElements.clearBackToTableBodyContext(),p.openElements.pop(),p.insertionMode=IN_TABLE_MODE):tn===$.TABLE?p.openElements.hasTableBodyContextInTableScope()&&(p.openElements.clearBackToTableBodyContext(),p.openElements.pop(),p.insertionMode=IN_TABLE_MODE,p._processToken(token)):(tn!==$.BODY&&tn!==$.CAPTION&&tn!==$.COL&&tn!==$.COLGROUP||tn!==$.HTML&&tn!==$.TD&&tn!==$.TH&&tn!==$.TR)&&endTagInTable(p,token)},_[IN_TABLE_BODY_MODE][Tokenizer.EOF_TOKEN]=eofInBody,_[IN_ROW_MODE]=Object.create(null),_[IN_ROW_MODE][Tokenizer.CHARACTER_TOKEN]=_[IN_ROW_MODE][Tokenizer.NULL_CHARACTER_TOKEN]=_[IN_ROW_MODE][Tokenizer.WHITESPACE_CHARACTER_TOKEN]=characterInTable,_[IN_ROW_MODE][Tokenizer.COMMENT_TOKEN]=appendComment,_[IN_ROW_MODE][Tokenizer.DOCTYPE_TOKEN]=ignoreToken,_[IN_ROW_MODE][Tokenizer.START_TAG_TOKEN]=function(p,token){var tn=token.tagName;tn===$.TH||tn===$.TD?(p.openElements.clearBackToTableRowContext(),p._insertElement(token,NS.HTML),p.insertionMode=IN_CELL_MODE,p.activeFormattingElements.insertMarker()):tn===$.CAPTION||tn===$.COL||tn===$.COLGROUP||tn===$.TBODY||tn===$.TFOOT||tn===$.THEAD||tn===$.TR?p.openElements.hasInTableScope($.TR)&&(p.openElements.clearBackToTableRowContext(),p.openElements.pop(),p.insertionMode=IN_TABLE_BODY_MODE,p._processToken(token)):startTagInTable(p,token)},_[IN_ROW_MODE][Tokenizer.END_TAG_TOKEN]=function(p,token){var tn=token.tagName;tn===$.TR?p.openElements.hasInTableScope($.TR)&&(p.openElements.clearBackToTableRowContext(),p.openElements.pop(),p.insertionMode=IN_TABLE_BODY_MODE):tn===$.TABLE?p.openElements.hasInTableScope($.TR)&&(p.openElements.clearBackToTableRowContext(),p.openElements.pop(),p.insertionMode=IN_TABLE_BODY_MODE,p._processToken(token)):tn===$.TBODY||tn===$.TFOOT||tn===$.THEAD?(p.openElements.hasInTableScope(tn)||p.openElements.hasInTableScope($.TR))&&(p.openElements.clearBackToTableRowContext(),p.openElements.pop(),p.insertionMode=IN_TABLE_BODY_MODE,p._processToken(token)):(tn!==$.BODY&&tn!==$.CAPTION&&tn!==$.COL&&tn!==$.COLGROUP||tn!==$.HTML&&tn!==$.TD&&tn!==$.TH)&&endTagInTable(p,token)},_[IN_ROW_MODE][Tokenizer.EOF_TOKEN]=eofInBody,_[IN_CELL_MODE]=Object.create(null),_[IN_CELL_MODE][Tokenizer.CHARACTER_TOKEN]=characterInBody,_[IN_CELL_MODE][Tokenizer.NULL_CHARACTER_TOKEN]=ignoreToken,_[IN_CELL_MODE][Tokenizer.WHITESPACE_CHARACTER_TOKEN]=whitespaceCharacterInBody,_[IN_CELL_MODE][Tokenizer.COMMENT_TOKEN]=appendComment,_[IN_CELL_MODE][Tokenizer.DOCTYPE_TOKEN]=ignoreToken,_[IN_CELL_MODE][Tokenizer.START_TAG_TOKEN]=function(p,token){var tn=token.tagName;tn===$.CAPTION||tn===$.COL||tn===$.COLGROUP||tn===$.TBODY||tn===$.TD||tn===$.TFOOT||tn===$.TH||tn===$.THEAD||tn===$.TR?(p.openElements.hasInTableScope($.TD)||p.openElements.hasInTableScope($.TH))&&(p._closeTableCell(),p._processToken(token)):startTagInBody(p,token)},_[IN_CELL_MODE][Tokenizer.END_TAG_TOKEN]=function(p,token){var tn=token.tagName;tn===$.TD||tn===$.TH?p.openElements.hasInTableScope(tn)&&(p.openElements.generateImpliedEndTags(),p.openElements.popUntilTagNamePopped(tn),p.activeFormattingElements.clearToLastMarker(),p.insertionMode=IN_ROW_MODE):tn===$.TABLE||tn===$.TBODY||tn===$.TFOOT||tn===$.THEAD||tn===$.TR?p.openElements.hasInTableScope(tn)&&(p._closeTableCell(),p._processToken(token)):tn!==$.BODY&&tn!==$.CAPTION&&tn!==$.COL&&tn!==$.COLGROUP&&tn!==$.HTML&&endTagInBody(p,token)},_[IN_CELL_MODE][Tokenizer.EOF_TOKEN]=eofInBody,_[IN_SELECT_MODE]=Object.create(null),_[IN_SELECT_MODE][Tokenizer.CHARACTER_TOKEN]=insertCharacters,_[IN_SELECT_MODE][Tokenizer.NULL_CHARACTER_TOKEN]=ignoreToken,_[IN_SELECT_MODE][Tokenizer.WHITESPACE_CHARACTER_TOKEN]=insertCharacters,_[IN_SELECT_MODE][Tokenizer.COMMENT_TOKEN]=appendComment,_[IN_SELECT_MODE][Tokenizer.DOCTYPE_TOKEN]=ignoreToken,_[IN_SELECT_MODE][Tokenizer.START_TAG_TOKEN]=startTagInSelect,_[IN_SELECT_MODE][Tokenizer.END_TAG_TOKEN]=endTagInSelect,_[IN_SELECT_MODE][Tokenizer.EOF_TOKEN]=eofInBody,_[IN_SELECT_IN_TABLE_MODE]=Object.create(null),_[IN_SELECT_IN_TABLE_MODE][Tokenizer.CHARACTER_TOKEN]=insertCharacters,_[IN_SELECT_IN_TABLE_MODE][Tokenizer.NULL_CHARACTER_TOKEN]=ignoreToken,_[IN_SELECT_IN_TABLE_MODE][Tokenizer.WHITESPACE_CHARACTER_TOKEN]=insertCharacters,_[IN_SELECT_IN_TABLE_MODE][Tokenizer.COMMENT_TOKEN]=appendComment,_[IN_SELECT_IN_TABLE_MODE][Tokenizer.DOCTYPE_TOKEN]=ignoreToken,_[IN_SELECT_IN_TABLE_MODE][Tokenizer.START_TAG_TOKEN]=function(p,token){var tn=token.tagName;tn===$.CAPTION||tn===$.TABLE||tn===$.TBODY||tn===$.TFOOT||tn===$.THEAD||tn===$.TR||tn===$.TD||tn===$.TH?(p.openElements.popUntilTagNamePopped($.SELECT),p._resetInsertionMode(),p._processToken(token)):startTagInSelect(p,token)},_[IN_SELECT_IN_TABLE_MODE][Tokenizer.END_TAG_TOKEN]=function(p,token){var tn=token.tagName;tn===$.CAPTION||tn===$.TABLE||tn===$.TBODY||tn===$.TFOOT||tn===$.THEAD||tn===$.TR||tn===$.TD||tn===$.TH?p.openElements.hasInTableScope(tn)&&(p.openElements.popUntilTagNamePopped($.SELECT),p._resetInsertionMode(),p._processToken(token)):endTagInSelect(p,token)},_[IN_SELECT_IN_TABLE_MODE][Tokenizer.EOF_TOKEN]=eofInBody,_[IN_TEMPLATE_MODE]=Object.create(null),_[IN_TEMPLATE_MODE][Tokenizer.CHARACTER_TOKEN]=characterInBody,_[IN_TEMPLATE_MODE][Tokenizer.NULL_CHARACTER_TOKEN]=ignoreToken,_[IN_TEMPLATE_MODE][Tokenizer.WHITESPACE_CHARACTER_TOKEN]=whitespaceCharacterInBody,_[IN_TEMPLATE_MODE][Tokenizer.COMMENT_TOKEN]=appendComment,_[IN_TEMPLATE_MODE][Tokenizer.DOCTYPE_TOKEN]=ignoreToken,_[IN_TEMPLATE_MODE][Tokenizer.START_TAG_TOKEN]=function(p,token){var tn=token.tagName;if(tn===$.BASE||tn===$.BASEFONT||tn===$.BGSOUND||tn===$.LINK||tn===$.META||tn===$.NOFRAMES||tn===$.SCRIPT||tn===$.STYLE||tn===$.TEMPLATE||tn===$.TITLE)startTagInHead(p,token);else{var newInsertionMode=TEMPLATE_INSERTION_MODE_SWITCH_MAP[tn]||IN_BODY_MODE;p._popTmplInsertionMode(),p._pushTmplInsertionMode(newInsertionMode),p.insertionMode=newInsertionMode,p._processToken(token)}},_[IN_TEMPLATE_MODE][Tokenizer.END_TAG_TOKEN]=function(p,token){token.tagName===$.TEMPLATE&&endTagInHead(p,token)},_[IN_TEMPLATE_MODE][Tokenizer.EOF_TOKEN]=eofInTemplate,_[AFTER_BODY_MODE]=Object.create(null),_[AFTER_BODY_MODE][Tokenizer.CHARACTER_TOKEN]=_[AFTER_BODY_MODE][Tokenizer.NULL_CHARACTER_TOKEN]=tokenAfterBody,_[AFTER_BODY_MODE][Tokenizer.WHITESPACE_CHARACTER_TOKEN]=whitespaceCharacterInBody,_[AFTER_BODY_MODE][Tokenizer.COMMENT_TOKEN]=function(p,token){p._appendCommentNode(token,p.openElements.items[0])},_[AFTER_BODY_MODE][Tokenizer.DOCTYPE_TOKEN]=ignoreToken,_[AFTER_BODY_MODE][Tokenizer.START_TAG_TOKEN]=function(p,token){token.tagName===$.HTML?startTagInBody(p,token):tokenAfterBody(p,token)},_[AFTER_BODY_MODE][Tokenizer.END_TAG_TOKEN]=function(p,token){token.tagName===$.HTML?p.fragmentContext||(p.insertionMode=AFTER_AFTER_BODY_MODE):tokenAfterBody(p,token)},_[AFTER_BODY_MODE][Tokenizer.EOF_TOKEN]=stopParsing,_[IN_FRAMESET_MODE]=Object.create(null),_[IN_FRAMESET_MODE][Tokenizer.CHARACTER_TOKEN]=_[IN_FRAMESET_MODE][Tokenizer.NULL_CHARACTER_TOKEN]=ignoreToken,_[IN_FRAMESET_MODE][Tokenizer.WHITESPACE_CHARACTER_TOKEN]=insertCharacters,_[IN_FRAMESET_MODE][Tokenizer.COMMENT_TOKEN]=appendComment,_[IN_FRAMESET_MODE][Tokenizer.DOCTYPE_TOKEN]=ignoreToken,_[IN_FRAMESET_MODE][Tokenizer.START_TAG_TOKEN]=function(p,token){var tn=token.tagName;tn===$.HTML?startTagInBody(p,token):tn===$.FRAMESET?p._insertElement(token,NS.HTML):tn===$.FRAME?p._appendElement(token,NS.HTML):tn===$.NOFRAMES&&startTagInHead(p,token)},_[IN_FRAMESET_MODE][Tokenizer.END_TAG_TOKEN]=function(p,token){token.tagName!==$.FRAMESET||p.openElements.isRootHtmlElementCurrent()||(p.openElements.pop(),p.fragmentContext||p.openElements.currentTagName===$.FRAMESET||(p.insertionMode=AFTER_FRAMESET_MODE))},_[IN_FRAMESET_MODE][Tokenizer.EOF_TOKEN]=stopParsing,_[AFTER_FRAMESET_MODE]=Object.create(null),_[AFTER_FRAMESET_MODE][Tokenizer.CHARACTER_TOKEN]=_[AFTER_FRAMESET_MODE][Tokenizer.NULL_CHARACTER_TOKEN]=ignoreToken,_[AFTER_FRAMESET_MODE][Tokenizer.WHITESPACE_CHARACTER_TOKEN]=insertCharacters,_[AFTER_FRAMESET_MODE][Tokenizer.COMMENT_TOKEN]=appendComment,_[AFTER_FRAMESET_MODE][Tokenizer.DOCTYPE_TOKEN]=ignoreToken,_[AFTER_FRAMESET_MODE][Tokenizer.START_TAG_TOKEN]=function(p,token){var tn=token.tagName;tn===$.HTML?startTagInBody(p,token):tn===$.NOFRAMES&&startTagInHead(p,token)},_[AFTER_FRAMESET_MODE][Tokenizer.END_TAG_TOKEN]=function(p,token){token.tagName===$.HTML&&(p.insertionMode=AFTER_AFTER_FRAMESET_MODE)},_[AFTER_FRAMESET_MODE][Tokenizer.EOF_TOKEN]=stopParsing,_[AFTER_AFTER_BODY_MODE]=Object.create(null),_[AFTER_AFTER_BODY_MODE][Tokenizer.CHARACTER_TOKEN]=tokenAfterAfterBody,_[AFTER_AFTER_BODY_MODE][Tokenizer.NULL_CHARACTER_TOKEN]=tokenAfterAfterBody,_[AFTER_AFTER_BODY_MODE][Tokenizer.WHITESPACE_CHARACTER_TOKEN]=whitespaceCharacterInBody,_[AFTER_AFTER_BODY_MODE][Tokenizer.COMMENT_TOKEN]=appendCommentToDocument,_[AFTER_AFTER_BODY_MODE][Tokenizer.DOCTYPE_TOKEN]=ignoreToken,_[AFTER_AFTER_BODY_MODE][Tokenizer.START_TAG_TOKEN]=function(p,token){token.tagName===$.HTML?startTagInBody(p,token):tokenAfterAfterBody(p,token)},_[AFTER_AFTER_BODY_MODE][Tokenizer.END_TAG_TOKEN]=tokenAfterAfterBody,_[AFTER_AFTER_BODY_MODE][Tokenizer.EOF_TOKEN]=stopParsing,_[AFTER_AFTER_FRAMESET_MODE]=Object.create(null),_[AFTER_AFTER_FRAMESET_MODE][Tokenizer.CHARACTER_TOKEN]=_[AFTER_AFTER_FRAMESET_MODE][Tokenizer.NULL_CHARACTER_TOKEN]=ignoreToken,_[AFTER_AFTER_FRAMESET_MODE][Tokenizer.WHITESPACE_CHARACTER_TOKEN]=whitespaceCharacterInBody,_[AFTER_AFTER_FRAMESET_MODE][Tokenizer.COMMENT_TOKEN]=appendCommentToDocument,_[AFTER_AFTER_FRAMESET_MODE][Tokenizer.DOCTYPE_TOKEN]=ignoreToken,_[AFTER_AFTER_FRAMESET_MODE][Tokenizer.START_TAG_TOKEN]=function(p,token){var tn=token.tagName;tn===$.HTML?startTagInBody(p,token):tn===$.NOFRAMES&&startTagInHead(p,token)},_[AFTER_AFTER_FRAMESET_MODE][Tokenizer.END_TAG_TOKEN]=ignoreToken,_[AFTER_AFTER_FRAMESET_MODE][Tokenizer.EOF_TOKEN]=stopParsing;var Parser=module.exports=function(options){this.options=mergeOptions(DEFAULT_OPTIONS,options),this.treeAdapter=this.options.treeAdapter,this.pendingScript=null,this.options.locationInfo&&new LocationInfoParserMixin(this)};function aaObtainFormattingElementEntry(p,token){var formattingElementEntry=p.activeFormattingElements.getElementEntryInScopeWithTagName(token.tagName);return formattingElementEntry?p.openElements.contains(formattingElementEntry.element)?p.openElements.hasInScope(token.tagName)||(formattingElementEntry=null):(p.activeFormattingElements.removeEntry(formattingElementEntry),formattingElementEntry=null):genericEndTagInBody(p,token),formattingElementEntry}function aaObtainFurthestBlock(p,formattingElementEntry){for(var furthestBlock=null,i=p.openElements.stackTop;i>=0;i--){var element=p.openElements.items[i];if(element===formattingElementEntry.element)break;p._isSpecialElement(element)&&(furthestBlock=element)}return furthestBlock||(p.openElements.popUntilElementPopped(formattingElementEntry.element),p.activeFormattingElements.removeEntry(formattingElementEntry)),furthestBlock}function aaInnerLoop(p,furthestBlock,formattingElement){for(var lastElement=furthestBlock,nextElement=p.openElements.getCommonAncestor(furthestBlock),i=0,element=nextElement;element!==formattingElement;i++,element=nextElement){nextElement=p.openElements.getCommonAncestor(element);var elementEntry=p.activeFormattingElements.getElementEntry(element),counterOverflow=elementEntry&&i>=AA_INNER_LOOP_ITER;!elementEntry||counterOverflow?(counterOverflow&&p.activeFormattingElements.removeEntry(elementEntry),p.openElements.remove(element)):(element=aaRecreateElementFromEntry(p,elementEntry),lastElement===furthestBlock&&(p.activeFormattingElements.bookmark=elementEntry),p.treeAdapter.detachNode(lastElement),p.treeAdapter.appendChild(element,lastElement),lastElement=element)}return lastElement}function aaRecreateElementFromEntry(p,elementEntry){var ns=p.treeAdapter.getNamespaceURI(elementEntry.element),newElement=p.treeAdapter.createElement(elementEntry.token.tagName,ns,elementEntry.token.attrs);return p.openElements.replace(elementEntry.element,newElement),elementEntry.element=newElement,newElement}function aaInsertLastNodeInCommonAncestor(p,commonAncestor,lastElement){if(p._isElementCausesFosterParenting(commonAncestor))p._fosterParentElement(lastElement);else{var tn=p.treeAdapter.getTagName(commonAncestor),ns=p.treeAdapter.getNamespaceURI(commonAncestor);tn===$.TEMPLATE&&ns===NS.HTML&&(commonAncestor=p.treeAdapter.getTemplateContent(commonAncestor)),p.treeAdapter.appendChild(commonAncestor,lastElement)}}function aaReplaceFormattingElement(p,furthestBlock,formattingElementEntry){var ns=p.treeAdapter.getNamespaceURI(formattingElementEntry.element),token=formattingElementEntry.token,newElement=p.treeAdapter.createElement(token.tagName,ns,token.attrs);p._adoptNodes(furthestBlock,newElement),p.treeAdapter.appendChild(furthestBlock,newElement),p.activeFormattingElements.insertElementAfterBookmark(newElement,formattingElementEntry.token),p.activeFormattingElements.removeEntry(formattingElementEntry),p.openElements.remove(formattingElementEntry.element),p.openElements.insertAfter(furthestBlock,newElement)}function callAdoptionAgency(p,token){for(var formattingElementEntry,i=0;i<AA_OUTER_LOOP_ITER&&(formattingElementEntry=aaObtainFormattingElementEntry(p,token));i++){var furthestBlock=aaObtainFurthestBlock(p,formattingElementEntry);if(!furthestBlock)break;p.activeFormattingElements.bookmark=formattingElementEntry;var lastElement=aaInnerLoop(p,furthestBlock,formattingElementEntry.element),commonAncestor=p.openElements.getCommonAncestor(formattingElementEntry.element);p.treeAdapter.detachNode(lastElement),aaInsertLastNodeInCommonAncestor(p,commonAncestor,lastElement),aaReplaceFormattingElement(p,furthestBlock,formattingElementEntry)}}function ignoreToken(){}function appendComment(p,token){p._appendCommentNode(token,p.openElements.currentTmplContent||p.openElements.current)}function appendCommentToDocument(p,token){p._appendCommentNode(token,p.document)}function insertCharacters(p,token){p._insertCharacters(token)}function stopParsing(p){p.stopped=!0}function tokenInInitialMode(p,token){p.treeAdapter.setDocumentMode(p.document,HTML.DOCUMENT_MODE.QUIRKS),p.insertionMode=BEFORE_HTML_MODE,p._processToken(token)}function tokenBeforeHtml(p,token){p._insertFakeRootElement(),p.insertionMode=BEFORE_HEAD_MODE,p._processToken(token)}function tokenBeforeHead(p,token){p._insertFakeElement($.HEAD),p.headElement=p.openElements.current,p.insertionMode=IN_HEAD_MODE,p._processToken(token)}function startTagInHead(p,token){var tn=token.tagName;tn===$.HTML?startTagInBody(p,token):tn===$.BASE||tn===$.BASEFONT||tn===$.BGSOUND||tn===$.LINK||tn===$.META?p._appendElement(token,NS.HTML):tn===$.TITLE?p._switchToTextParsing(token,Tokenizer.MODE.RCDATA):tn===$.NOSCRIPT||tn===$.NOFRAMES||tn===$.STYLE?p._switchToTextParsing(token,Tokenizer.MODE.RAWTEXT):tn===$.SCRIPT?p._switchToTextParsing(token,Tokenizer.MODE.SCRIPT_DATA):tn===$.TEMPLATE?(p._insertTemplate(token,NS.HTML),p.activeFormattingElements.insertMarker(),p.framesetOk=!1,p.insertionMode=IN_TEMPLATE_MODE,p._pushTmplInsertionMode(IN_TEMPLATE_MODE)):tn!==$.HEAD&&tokenInHead(p,token)}function endTagInHead(p,token){var tn=token.tagName;tn===$.HEAD?(p.openElements.pop(),p.insertionMode=AFTER_HEAD_MODE):tn===$.BODY||tn===$.BR||tn===$.HTML?tokenInHead(p,token):tn===$.TEMPLATE&&p.openElements.tmplCount>0&&(p.openElements.generateImpliedEndTags(),p.openElements.popUntilTagNamePopped($.TEMPLATE),p.activeFormattingElements.clearToLastMarker(),p._popTmplInsertionMode(),p._resetInsertionMode())}function tokenInHead(p,token){p.openElements.pop(),p.insertionMode=AFTER_HEAD_MODE,p._processToken(token)}function tokenAfterHead(p,token){p._insertFakeElement($.BODY),p.insertionMode=IN_BODY_MODE,p._processToken(token)}function whitespaceCharacterInBody(p,token){p._reconstructActiveFormattingElements(),p._insertCharacters(token)}function characterInBody(p,token){p._reconstructActiveFormattingElements(),p._insertCharacters(token),p.framesetOk=!1}function addressStartTagInBody(p,token){p.openElements.hasInButtonScope($.P)&&p._closePElement(),p._insertElement(token,NS.HTML)}function preStartTagInBody(p,token){p.openElements.hasInButtonScope($.P)&&p._closePElement(),p._insertElement(token,NS.HTML),p.skipNextNewLine=!0,p.framesetOk=!1}function bStartTagInBody(p,token){p._reconstructActiveFormattingElements(),p._insertElement(token,NS.HTML),p.activeFormattingElements.pushElement(p.openElements.current,token)}function appletStartTagInBody(p,token){p._reconstructActiveFormattingElements(),p._insertElement(token,NS.HTML),p.activeFormattingElements.insertMarker(),p.framesetOk=!1}function areaStartTagInBody(p,token){p._reconstructActiveFormattingElements(),p._appendElement(token,NS.HTML),p.framesetOk=!1}function paramStartTagInBody(p,token){p._appendElement(token,NS.HTML)}function noembedStartTagInBody(p,token){p._switchToTextParsing(token,Tokenizer.MODE.RAWTEXT)}function optgroupStartTagInBody(p,token){p.openElements.currentTagName===$.OPTION&&p.openElements.pop(),p._reconstructActiveFormattingElements(),p._insertElement(token,NS.HTML)}function rbStartTagInBody(p,token){p.openElements.hasInScope($.RUBY)&&p.openElements.generateImpliedEndTags(),p._insertElement(token,NS.HTML)}function genericStartTagInBody(p,token){p._reconstructActiveFormattingElements(),p._insertElement(token,NS.HTML)}function startTagInBody(p,token){var tn=token.tagName;switch(tn.length){case 1:tn===$.I||tn===$.S||tn===$.B||tn===$.U?bStartTagInBody(p,token):tn===$.P?addressStartTagInBody(p,token):tn===$.A?function(p,token){var activeElementEntry=p.activeFormattingElements.getElementEntryInScopeWithTagName($.A);activeElementEntry&&(callAdoptionAgency(p,token),p.openElements.remove(activeElementEntry.element),p.activeFormattingElements.removeEntry(activeElementEntry)),p._reconstructActiveFormattingElements(),p._insertElement(token,NS.HTML),p.activeFormattingElements.pushElement(p.openElements.current,token)}(p,token):genericStartTagInBody(p,token);break;case 2:tn===$.DL||tn===$.OL||tn===$.UL?addressStartTagInBody(p,token):tn===$.H1||tn===$.H2||tn===$.H3||tn===$.H4||tn===$.H5||tn===$.H6?function(p,token){p.openElements.hasInButtonScope($.P)&&p._closePElement();var tn=p.openElements.currentTagName;tn!==$.H1&&tn!==$.H2&&tn!==$.H3&&tn!==$.H4&&tn!==$.H5&&tn!==$.H6||p.openElements.pop(),p._insertElement(token,NS.HTML)}(p,token):tn===$.LI||tn===$.DD||tn===$.DT?function(p,token){p.framesetOk=!1;for(var tn=token.tagName,i=p.openElements.stackTop;i>=0;i--){var element=p.openElements.items[i],elementTn=p.treeAdapter.getTagName(element),closeTn=null;if(tn===$.LI&&elementTn===$.LI?closeTn=$.LI:tn!==$.DD&&tn!==$.DT||elementTn!==$.DD&&elementTn!==$.DT||(closeTn=elementTn),closeTn){p.openElements.generateImpliedEndTagsWithExclusion(closeTn),p.openElements.popUntilTagNamePopped(closeTn);break}if(elementTn!==$.ADDRESS&&elementTn!==$.DIV&&elementTn!==$.P&&p._isSpecialElement(element))break}p.openElements.hasInButtonScope($.P)&&p._closePElement(),p._insertElement(token,NS.HTML)}(p,token):tn===$.EM||tn===$.TT?bStartTagInBody(p,token):tn===$.BR?areaStartTagInBody(p,token):tn===$.HR?function(p,token){p.openElements.hasInButtonScope($.P)&&p._closePElement(),p.openElements.currentTagName===$.MENUITEM&&p.openElements.pop(),p._appendElement(token,NS.HTML),p.framesetOk=!1}(p,token):tn===$.RB?rbStartTagInBody(p,token):tn===$.RT||tn===$.RP?function(p,token){p.openElements.hasInScope($.RUBY)&&p.openElements.generateImpliedEndTagsWithExclusion($.RTC),p._insertElement(token,NS.HTML)}(p,token):tn!==$.TH&&tn!==$.TD&&tn!==$.TR&&genericStartTagInBody(p,token);break;case 3:tn===$.DIV||tn===$.DIR||tn===$.NAV?addressStartTagInBody(p,token):tn===$.PRE?preStartTagInBody(p,token):tn===$.BIG?bStartTagInBody(p,token):tn===$.IMG||tn===$.WBR?areaStartTagInBody(p,token):tn===$.XMP?function(p,token){p.openElements.hasInButtonScope($.P)&&p._closePElement(),p._reconstructActiveFormattingElements(),p.framesetOk=!1,p._switchToTextParsing(token,Tokenizer.MODE.RAWTEXT)}(p,token):tn===$.SVG?function(p,token){p._reconstructActiveFormattingElements(),foreignContent.adjustTokenSVGAttrs(token),foreignContent.adjustTokenXMLAttrs(token),token.selfClosing?p._appendElement(token,NS.SVG):p._insertElement(token,NS.SVG)}(p,token):tn===$.RTC?rbStartTagInBody(p,token):tn!==$.COL&&genericStartTagInBody(p,token);break;case 4:tn===$.HTML?function(p,token){0===p.openElements.tmplCount&&p.treeAdapter.adoptAttributes(p.openElements.items[0],token.attrs)}(p,token):tn===$.BASE||tn===$.LINK||tn===$.META?startTagInHead(p,token):tn===$.BODY?function(p,token){var bodyElement=p.openElements.tryPeekProperlyNestedBodyElement();bodyElement&&0===p.openElements.tmplCount&&(p.framesetOk=!1,p.treeAdapter.adoptAttributes(bodyElement,token.attrs))}(p,token):tn===$.MAIN?addressStartTagInBody(p,token):tn===$.FORM?function(p,token){var inTemplate=p.openElements.tmplCount>0;p.formElement&&!inTemplate||(p.openElements.hasInButtonScope($.P)&&p._closePElement(),p._insertElement(token,NS.HTML),inTemplate||(p.formElement=p.openElements.current))}(p,token):tn===$.CODE||tn===$.FONT?bStartTagInBody(p,token):tn===$.NOBR?function(p,token){p._reconstructActiveFormattingElements(),p.openElements.hasInScope($.NOBR)&&(callAdoptionAgency(p,token),p._reconstructActiveFormattingElements()),p._insertElement(token,NS.HTML),p.activeFormattingElements.pushElement(p.openElements.current,token)}(p,token):tn===$.AREA?areaStartTagInBody(p,token):tn===$.MATH?function(p,token){p._reconstructActiveFormattingElements(),foreignContent.adjustTokenMathMLAttrs(token),foreignContent.adjustTokenXMLAttrs(token),token.selfClosing?p._appendElement(token,NS.MATHML):p._insertElement(token,NS.MATHML)}(p,token):tn===$.MENU?function(p,token){p.openElements.hasInButtonScope($.P)&&p._closePElement(),p.openElements.currentTagName===$.MENUITEM&&p.openElements.pop(),p._insertElement(token,NS.HTML)}(p,token):tn!==$.HEAD&&genericStartTagInBody(p,token);break;case 5:tn===$.STYLE||tn===$.TITLE?startTagInHead(p,token):tn===$.ASIDE?addressStartTagInBody(p,token):tn===$.SMALL?bStartTagInBody(p,token):tn===$.TABLE?function(p,token){p.treeAdapter.getDocumentMode(p.document)!==HTML.DOCUMENT_MODE.QUIRKS&&p.openElements.hasInButtonScope($.P)&&p._closePElement(),p._insertElement(token,NS.HTML),p.framesetOk=!1,p.insertionMode=IN_TABLE_MODE}(p,token):tn===$.EMBED?areaStartTagInBody(p,token):tn===$.INPUT?function(p,token){p._reconstructActiveFormattingElements(),p._appendElement(token,NS.HTML);var inputType=Tokenizer.getTokenAttr(token,ATTRS.TYPE);inputType&&inputType.toLowerCase()===HIDDEN_INPUT_TYPE||(p.framesetOk=!1)}(p,token):tn===$.PARAM||tn===$.TRACK?paramStartTagInBody(p,token):tn===$.IMAGE?function(p,token){token.tagName=$.IMG,areaStartTagInBody(p,token)}(p,token):tn!==$.FRAME&&tn!==$.TBODY&&tn!==$.TFOOT&&tn!==$.THEAD&&genericStartTagInBody(p,token);break;case 6:tn===$.SCRIPT?startTagInHead(p,token):tn===$.CENTER||tn===$.FIGURE||tn===$.FOOTER||tn===$.HEADER||tn===$.HGROUP?addressStartTagInBody(p,token):tn===$.BUTTON?function(p,token){p.openElements.hasInScope($.BUTTON)&&(p.openElements.generateImpliedEndTags(),p.openElements.popUntilTagNamePopped($.BUTTON)),p._reconstructActiveFormattingElements(),p._insertElement(token,NS.HTML),p.framesetOk=!1}(p,token):tn===$.STRIKE||tn===$.STRONG?bStartTagInBody(p,token):tn===$.APPLET||tn===$.OBJECT?appletStartTagInBody(p,token):tn===$.KEYGEN?areaStartTagInBody(p,token):tn===$.SOURCE?paramStartTagInBody(p,token):tn===$.IFRAME?function(p,token){p.framesetOk=!1,p._switchToTextParsing(token,Tokenizer.MODE.RAWTEXT)}(p,token):tn===$.SELECT?function(p,token){p._reconstructActiveFormattingElements(),p._insertElement(token,NS.HTML),p.framesetOk=!1,p.insertionMode===IN_TABLE_MODE||p.insertionMode===IN_CAPTION_MODE||p.insertionMode===IN_TABLE_BODY_MODE||p.insertionMode===IN_ROW_MODE||p.insertionMode===IN_CELL_MODE?p.insertionMode=IN_SELECT_IN_TABLE_MODE:p.insertionMode=IN_SELECT_MODE}(p,token):tn===$.OPTION?optgroupStartTagInBody(p,token):genericStartTagInBody(p,token);break;case 7:tn===$.BGSOUND?startTagInHead(p,token):tn===$.DETAILS||tn===$.ADDRESS||tn===$.ARTICLE||tn===$.SECTION||tn===$.SUMMARY?addressStartTagInBody(p,token):tn===$.LISTING?preStartTagInBody(p,token):tn===$.MARQUEE?appletStartTagInBody(p,token):tn===$.NOEMBED?noembedStartTagInBody(p,token):tn!==$.CAPTION&&genericStartTagInBody(p,token);break;case 8:tn===$.BASEFONT?startTagInHead(p,token):tn===$.MENUITEM?function(p,token){p.openElements.currentTagName===$.MENUITEM&&p.openElements.pop(),p._reconstructActiveFormattingElements(),p._insertElement(token,NS.HTML)}(p,token):tn===$.FRAMESET?function(p,token){var bodyElement=p.openElements.tryPeekProperlyNestedBodyElement();p.framesetOk&&bodyElement&&(p.treeAdapter.detachNode(bodyElement),p.openElements.popAllUpToHtmlElement(),p._insertElement(token,NS.HTML),p.insertionMode=IN_FRAMESET_MODE)}(p,token):tn===$.FIELDSET?addressStartTagInBody(p,token):tn===$.TEXTAREA?function(p,token){p._insertElement(token,NS.HTML),p.skipNextNewLine=!0,p.tokenizer.state=Tokenizer.MODE.RCDATA,p.originalInsertionMode=p.insertionMode,p.framesetOk=!1,p.insertionMode=TEXT_MODE}(p,token):tn===$.TEMPLATE?startTagInHead(p,token):tn===$.NOSCRIPT?noembedStartTagInBody(p,token):tn===$.OPTGROUP?optgroupStartTagInBody(p,token):tn!==$.COLGROUP&&genericStartTagInBody(p,token);break;case 9:tn===$.PLAINTEXT?function(p,token){p.openElements.hasInButtonScope($.P)&&p._closePElement(),p._insertElement(token,NS.HTML),p.tokenizer.state=Tokenizer.MODE.PLAINTEXT}(p,token):genericStartTagInBody(p,token);break;case 10:tn===$.BLOCKQUOTE||tn===$.FIGCAPTION?addressStartTagInBody(p,token):genericStartTagInBody(p,token);break;default:genericStartTagInBody(p,token)}}function addressEndTagInBody(p,token){var tn=token.tagName;p.openElements.hasInScope(tn)&&(p.openElements.generateImpliedEndTags(),p.openElements.popUntilTagNamePopped(tn))}function appletEndTagInBody(p,token){var tn=token.tagName;p.openElements.hasInScope(tn)&&(p.openElements.generateImpliedEndTags(),p.openElements.popUntilTagNamePopped(tn),p.activeFormattingElements.clearToLastMarker())}function genericEndTagInBody(p,token){for(var tn=token.tagName,i=p.openElements.stackTop;i>0;i--){var element=p.openElements.items[i];if(p.treeAdapter.getTagName(element)===tn){p.openElements.generateImpliedEndTagsWithExclusion(tn),p.openElements.popUntilElementPopped(element);break}if(p._isSpecialElement(element))break}}function endTagInBody(p,token){var tn=token.tagName;switch(tn.length){case 1:tn===$.A||tn===$.B||tn===$.I||tn===$.S||tn===$.U?callAdoptionAgency(p,token):tn===$.P?function(p){p.openElements.hasInButtonScope($.P)||p._insertFakeElement($.P),p._closePElement()}(p):genericEndTagInBody(p,token);break;case 2:tn===$.DL||tn===$.UL||tn===$.OL?addressEndTagInBody(p,token):tn===$.LI?function(p){p.openElements.hasInListItemScope($.LI)&&(p.openElements.generateImpliedEndTagsWithExclusion($.LI),p.openElements.popUntilTagNamePopped($.LI))}(p):tn===$.DD||tn===$.DT?function(p,token){var tn=token.tagName;p.openElements.hasInScope(tn)&&(p.openElements.generateImpliedEndTagsWithExclusion(tn),p.openElements.popUntilTagNamePopped(tn))}(p,token):tn===$.H1||tn===$.H2||tn===$.H3||tn===$.H4||tn===$.H5||tn===$.H6?function(p){p.openElements.hasNumberedHeaderInScope()&&(p.openElements.generateImpliedEndTags(),p.openElements.popUntilNumberedHeaderPopped())}(p):tn===$.BR?function(p){p._reconstructActiveFormattingElements(),p._insertFakeElement($.BR),p.openElements.pop(),p.framesetOk=!1}(p):tn===$.EM||tn===$.TT?callAdoptionAgency(p,token):genericEndTagInBody(p,token);break;case 3:tn===$.BIG?callAdoptionAgency(p,token):tn===$.DIR||tn===$.DIV||tn===$.NAV?addressEndTagInBody(p,token):genericEndTagInBody(p,token);break;case 4:tn===$.BODY?function(p){p.openElements.hasInScope($.BODY)&&(p.insertionMode=AFTER_BODY_MODE)}(p):tn===$.HTML?function(p,token){p.openElements.hasInScope($.BODY)&&(p.insertionMode=AFTER_BODY_MODE,p._processToken(token))}(p,token):tn===$.FORM?function(p){var inTemplate=p.openElements.tmplCount>0,formElement=p.formElement;inTemplate||(p.formElement=null),(formElement||inTemplate)&&p.openElements.hasInScope($.FORM)&&(p.openElements.generateImpliedEndTags(),inTemplate?p.openElements.popUntilTagNamePopped($.FORM):p.openElements.remove(formElement))}(p):tn===$.CODE||tn===$.FONT||tn===$.NOBR?callAdoptionAgency(p,token):tn===$.MAIN||tn===$.MENU?addressEndTagInBody(p,token):genericEndTagInBody(p,token);break;case 5:tn===$.ASIDE?addressEndTagInBody(p,token):tn===$.SMALL?callAdoptionAgency(p,token):genericEndTagInBody(p,token);break;case 6:tn===$.CENTER||tn===$.FIGURE||tn===$.FOOTER||tn===$.HEADER||tn===$.HGROUP?addressEndTagInBody(p,token):tn===$.APPLET||tn===$.OBJECT?appletEndTagInBody(p,token):tn===$.STRIKE||tn===$.STRONG?callAdoptionAgency(p,token):genericEndTagInBody(p,token);break;case 7:tn===$.ADDRESS||tn===$.ARTICLE||tn===$.DETAILS||tn===$.SECTION||tn===$.SUMMARY?addressEndTagInBody(p,token):tn===$.MARQUEE?appletEndTagInBody(p,token):genericEndTagInBody(p,token);break;case 8:tn===$.FIELDSET?addressEndTagInBody(p,token):tn===$.TEMPLATE?endTagInHead(p,token):genericEndTagInBody(p,token);break;case 10:tn===$.BLOCKQUOTE||tn===$.FIGCAPTION?addressEndTagInBody(p,token):genericEndTagInBody(p,token);break;default:genericEndTagInBody(p,token)}}function eofInBody(p,token){p.tmplInsertionModeStackTop>-1?eofInTemplate(p,token):p.stopped=!0}function characterInTable(p,token){var curTn=p.openElements.currentTagName;curTn===$.TABLE||curTn===$.TBODY||curTn===$.TFOOT||curTn===$.THEAD||curTn===$.TR?(p.pendingCharacterTokens=[],p.hasNonWhitespacePendingCharacterToken=!1,p.originalInsertionMode=p.insertionMode,p.insertionMode=IN_TABLE_TEXT_MODE,p._processToken(token)):tokenInTable(p,token)}function startTagInTable(p,token){var tn=token.tagName;switch(tn.length){case 2:tn===$.TD||tn===$.TH||tn===$.TR?function(p,token){p.openElements.clearBackToTableContext(),p._insertFakeElement($.TBODY),p.insertionMode=IN_TABLE_BODY_MODE,p._processToken(token)}(p,token):tokenInTable(p,token);break;case 3:tn===$.COL?function(p,token){p.openElements.clearBackToTableContext(),p._insertFakeElement($.COLGROUP),p.insertionMode=IN_COLUMN_GROUP_MODE,p._processToken(token)}(p,token):tokenInTable(p,token);break;case 4:tn===$.FORM?function(p,token){p.formElement||0!==p.openElements.tmplCount||(p._insertElement(token,NS.HTML),p.formElement=p.openElements.current,p.openElements.pop())}(p,token):tokenInTable(p,token);break;case 5:tn===$.TABLE?function(p,token){p.openElements.hasInTableScope($.TABLE)&&(p.openElements.popUntilTagNamePopped($.TABLE),p._resetInsertionMode(),p._processToken(token))}(p,token):tn===$.STYLE?startTagInHead(p,token):tn===$.TBODY||tn===$.TFOOT||tn===$.THEAD?function(p,token){p.openElements.clearBackToTableContext(),p._insertElement(token,NS.HTML),p.insertionMode=IN_TABLE_BODY_MODE}(p,token):tn===$.INPUT?function(p,token){var inputType=Tokenizer.getTokenAttr(token,ATTRS.TYPE);inputType&&inputType.toLowerCase()===HIDDEN_INPUT_TYPE?p._appendElement(token,NS.HTML):tokenInTable(p,token)}(p,token):tokenInTable(p,token);break;case 6:tn===$.SCRIPT?startTagInHead(p,token):tokenInTable(p,token);break;case 7:tn===$.CAPTION?function(p,token){p.openElements.clearBackToTableContext(),p.activeFormattingElements.insertMarker(),p._insertElement(token,NS.HTML),p.insertionMode=IN_CAPTION_MODE}(p,token):tokenInTable(p,token);break;case 8:tn===$.COLGROUP?function(p,token){p.openElements.clearBackToTableContext(),p._insertElement(token,NS.HTML),p.insertionMode=IN_COLUMN_GROUP_MODE}(p,token):tn===$.TEMPLATE?startTagInHead(p,token):tokenInTable(p,token);break;default:tokenInTable(p,token)}}function endTagInTable(p,token){var tn=token.tagName;tn===$.TABLE?p.openElements.hasInTableScope($.TABLE)&&(p.openElements.popUntilTagNamePopped($.TABLE),p._resetInsertionMode()):tn===$.TEMPLATE?endTagInHead(p,token):tn!==$.BODY&&tn!==$.CAPTION&&tn!==$.COL&&tn!==$.COLGROUP&&tn!==$.HTML&&tn!==$.TBODY&&tn!==$.TD&&tn!==$.TFOOT&&tn!==$.TH&&tn!==$.THEAD&&tn!==$.TR&&tokenInTable(p,token)}function tokenInTable(p,token){var savedFosterParentingState=p.fosterParentingEnabled;p.fosterParentingEnabled=!0,p._processTokenInBodyMode(token),p.fosterParentingEnabled=savedFosterParentingState}function tokenInColumnGroup(p,token){p.openElements.currentTagName===$.COLGROUP&&(p.openElements.pop(),p.insertionMode=IN_TABLE_MODE,p._processToken(token))}function startTagInSelect(p,token){var tn=token.tagName;tn===$.HTML?startTagInBody(p,token):tn===$.OPTION?(p.openElements.currentTagName===$.OPTION&&p.openElements.pop(),p._insertElement(token,NS.HTML)):tn===$.OPTGROUP?(p.openElements.currentTagName===$.OPTION&&p.openElements.pop(),p.openElements.currentTagName===$.OPTGROUP&&p.openElements.pop(),p._insertElement(token,NS.HTML)):tn===$.INPUT||tn===$.KEYGEN||tn===$.TEXTAREA||tn===$.SELECT?p.openElements.hasInSelectScope($.SELECT)&&(p.openElements.popUntilTagNamePopped($.SELECT),p._resetInsertionMode(),tn!==$.SELECT&&p._processToken(token)):tn!==$.SCRIPT&&tn!==$.TEMPLATE||startTagInHead(p,token)}function endTagInSelect(p,token){var tn=token.tagName;if(tn===$.OPTGROUP){var prevOpenElement=p.openElements.items[p.openElements.stackTop-1],prevOpenElementTn=prevOpenElement&&p.treeAdapter.getTagName(prevOpenElement);p.openElements.currentTagName===$.OPTION&&prevOpenElementTn===$.OPTGROUP&&p.openElements.pop(),p.openElements.currentTagName===$.OPTGROUP&&p.openElements.pop()}else tn===$.OPTION?p.openElements.currentTagName===$.OPTION&&p.openElements.pop():tn===$.SELECT&&p.openElements.hasInSelectScope($.SELECT)?(p.openElements.popUntilTagNamePopped($.SELECT),p._resetInsertionMode()):tn===$.TEMPLATE&&endTagInHead(p,token)}function eofInTemplate(p,token){p.openElements.tmplCount>0?(p.openElements.popUntilTagNamePopped($.TEMPLATE),p.activeFormattingElements.clearToLastMarker(),p._popTmplInsertionMode(),p._resetInsertionMode(),p._processToken(token)):p.stopped=!0}function tokenAfterBody(p,token){p.insertionMode=IN_BODY_MODE,p._processToken(token)}function tokenAfterAfterBody(p,token){p.insertionMode=IN_BODY_MODE,p._processToken(token)}Parser.prototype.parse=function(html){var document=this.treeAdapter.createDocument();return this._bootstrap(document,null),this.tokenizer.write(html,!0),this._runParsingLoop(null),document},Parser.prototype.parseFragment=function(html,fragmentContext){fragmentContext||(fragmentContext=this.treeAdapter.createElement($.TEMPLATE,NS.HTML,[]));var documentMock=this.treeAdapter.createElement("documentmock",NS.HTML,[]);this._bootstrap(documentMock,fragmentContext),this.treeAdapter.getTagName(fragmentContext)===$.TEMPLATE&&this._pushTmplInsertionMode(IN_TEMPLATE_MODE),this._initTokenizerForFragmentParsing(),this._insertFakeRootElement(),this._resetInsertionMode(),this._findFormInFragmentContext(),this.tokenizer.write(html,!0),this._runParsingLoop(null);var rootElement=this.treeAdapter.getFirstChild(documentMock),fragment=this.treeAdapter.createDocumentFragment();return this._adoptNodes(rootElement,fragment),fragment},Parser.prototype._bootstrap=function(document,fragmentContext){this.tokenizer=new Tokenizer(this.options),this.stopped=!1,this.insertionMode="INITIAL_MODE",this.originalInsertionMode="",this.document=document,this.fragmentContext=fragmentContext,this.headElement=null,this.formElement=null,this.openElements=new OpenElementStack(this.document,this.treeAdapter),this.activeFormattingElements=new FormattingElementList(this.treeAdapter),this.tmplInsertionModeStack=[],this.tmplInsertionModeStackTop=-1,this.currentTmplInsertionMode=null,this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1},Parser.prototype._runParsingLoop=function(scriptHandler){for(;!this.stopped;){this._setupTokenizerCDATAMode();var token=this.tokenizer.getNextToken();if(token.type===Tokenizer.HIBERNATION_TOKEN)break;if(this.skipNextNewLine&&(this.skipNextNewLine=!1,token.type===Tokenizer.WHITESPACE_CHARACTER_TOKEN&&"\n"===token.chars[0])){if(1===token.chars.length)continue;token.chars=token.chars.substr(1)}if(this._processInputToken(token),scriptHandler&&this.pendingScript)break}},Parser.prototype.runParsingLoopForCurrentChunk=function(writeCallback,scriptHandler){if(this._runParsingLoop(scriptHandler),scriptHandler&&this.pendingScript){var script=this.pendingScript;return this.pendingScript=null,void scriptHandler(script)}writeCallback&&writeCallback()},Parser.prototype._setupTokenizerCDATAMode=function(){var current=this._getAdjustedCurrentElement();this.tokenizer.allowCDATA=current&&current!==this.document&&this.treeAdapter.getNamespaceURI(current)!==NS.HTML&&!this._isIntegrationPoint(current)},Parser.prototype._switchToTextParsing=function(currentToken,nextTokenizerState){this._insertElement(currentToken,NS.HTML),this.tokenizer.state=nextTokenizerState,this.originalInsertionMode=this.insertionMode,this.insertionMode=TEXT_MODE},Parser.prototype.switchToPlaintextParsing=function(){this.insertionMode=TEXT_MODE,this.originalInsertionMode=IN_BODY_MODE,this.tokenizer.state=Tokenizer.MODE.PLAINTEXT},Parser.prototype._getAdjustedCurrentElement=function(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current},Parser.prototype._findFormInFragmentContext=function(){var node=this.fragmentContext;do{if(this.treeAdapter.getTagName(node)===$.FORM){this.formElement=node;break}node=this.treeAdapter.getParentNode(node)}while(node)},Parser.prototype._initTokenizerForFragmentParsing=function(){if(this.treeAdapter.getNamespaceURI(this.fragmentContext)===NS.HTML){var tn=this.treeAdapter.getTagName(this.fragmentContext);tn===$.TITLE||tn===$.TEXTAREA?this.tokenizer.state=Tokenizer.MODE.RCDATA:tn===$.STYLE||tn===$.XMP||tn===$.IFRAME||tn===$.NOEMBED||tn===$.NOFRAMES||tn===$.NOSCRIPT?this.tokenizer.state=Tokenizer.MODE.RAWTEXT:tn===$.SCRIPT?this.tokenizer.state=Tokenizer.MODE.SCRIPT_DATA:tn===$.PLAINTEXT&&(this.tokenizer.state=Tokenizer.MODE.PLAINTEXT)}},Parser.prototype._setDocumentType=function(token){this.treeAdapter.setDocumentType(this.document,token.name,token.publicId,token.systemId)},Parser.prototype._attachElementToTree=function(element){if(this._shouldFosterParentOnInsertion())this._fosterParentElement(element);else{var parent=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.appendChild(parent,element)}},Parser.prototype._appendElement=function(token,namespaceURI){var element=this.treeAdapter.createElement(token.tagName,namespaceURI,token.attrs);this._attachElementToTree(element)},Parser.prototype._insertElement=function(token,namespaceURI){var element=this.treeAdapter.createElement(token.tagName,namespaceURI,token.attrs);this._attachElementToTree(element),this.openElements.push(element)},Parser.prototype._insertFakeElement=function(tagName){var element=this.treeAdapter.createElement(tagName,NS.HTML,[]);this._attachElementToTree(element),this.openElements.push(element)},Parser.prototype._insertTemplate=function(token){var tmpl=this.treeAdapter.createElement(token.tagName,NS.HTML,token.attrs),content=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(tmpl,content),this._attachElementToTree(tmpl),this.openElements.push(tmpl)},Parser.prototype._insertFakeRootElement=function(){var element=this.treeAdapter.createElement($.HTML,NS.HTML,[]);this.treeAdapter.appendChild(this.openElements.current,element),this.openElements.push(element)},Parser.prototype._appendCommentNode=function(token,parent){var commentNode=this.treeAdapter.createCommentNode(token.data);this.treeAdapter.appendChild(parent,commentNode)},Parser.prototype._insertCharacters=function(token){if(this._shouldFosterParentOnInsertion())this._fosterParentText(token.chars);else{var parent=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.insertText(parent,token.chars)}},Parser.prototype._adoptNodes=function(donor,recipient){for(;;){var child=this.treeAdapter.getFirstChild(donor);if(!child)break;this.treeAdapter.detachNode(child),this.treeAdapter.appendChild(recipient,child)}},Parser.prototype._shouldProcessTokenInForeignContent=function(token){var current=this._getAdjustedCurrentElement();if(!current||current===this.document)return!1;var ns=this.treeAdapter.getNamespaceURI(current);if(ns===NS.HTML)return!1;if(this.treeAdapter.getTagName(current)===$.ANNOTATION_XML&&ns===NS.MATHML&&token.type===Tokenizer.START_TAG_TOKEN&&token.tagName===$.SVG)return!1;var isCharacterToken=token.type===Tokenizer.CHARACTER_TOKEN||token.type===Tokenizer.NULL_CHARACTER_TOKEN||token.type===Tokenizer.WHITESPACE_CHARACTER_TOKEN;return(!(token.type===Tokenizer.START_TAG_TOKEN&&token.tagName!==$.MGLYPH&&token.tagName!==$.MALIGNMARK)&&!isCharacterToken||!this._isIntegrationPoint(current,NS.MATHML))&&((token.type!==Tokenizer.START_TAG_TOKEN&&!isCharacterToken||!this._isIntegrationPoint(current,NS.HTML))&&token.type!==Tokenizer.EOF_TOKEN)},Parser.prototype._processToken=function(token){_[this.insertionMode][token.type](this,token)},Parser.prototype._processTokenInBodyMode=function(token){_[IN_BODY_MODE][token.type](this,token)},Parser.prototype._processTokenInForeignContent=function(token){token.type===Tokenizer.CHARACTER_TOKEN?function(p,token){p._insertCharacters(token),p.framesetOk=!1}(this,token):token.type===Tokenizer.NULL_CHARACTER_TOKEN?function(p,token){token.chars=UNICODE.REPLACEMENT_CHARACTER,p._insertCharacters(token)}(this,token):token.type===Tokenizer.WHITESPACE_CHARACTER_TOKEN?insertCharacters(this,token):token.type===Tokenizer.COMMENT_TOKEN?appendComment(this,token):token.type===Tokenizer.START_TAG_TOKEN?function(p,token){if(foreignContent.causesExit(token)&&!p.fragmentContext){for(;p.treeAdapter.getNamespaceURI(p.openElements.current)!==NS.HTML&&!p._isIntegrationPoint(p.openElements.current);)p.openElements.pop();p._processToken(token)}else{var current=p._getAdjustedCurrentElement(),currentNs=p.treeAdapter.getNamespaceURI(current);currentNs===NS.MATHML?foreignContent.adjustTokenMathMLAttrs(token):currentNs===NS.SVG&&(foreignContent.adjustTokenSVGTagName(token),foreignContent.adjustTokenSVGAttrs(token)),foreignContent.adjustTokenXMLAttrs(token),token.selfClosing?p._appendElement(token,currentNs):p._insertElement(token,currentNs)}}(this,token):token.type===Tokenizer.END_TAG_TOKEN&&function(p,token){for(var i=p.openElements.stackTop;i>0;i--){var element=p.openElements.items[i];if(p.treeAdapter.getNamespaceURI(element)===NS.HTML){p._processToken(token);break}if(p.treeAdapter.getTagName(element).toLowerCase()===token.tagName){p.openElements.popUntilElementPopped(element);break}}}(this,token)},Parser.prototype._processInputToken=function(token){this._shouldProcessTokenInForeignContent(token)?this._processTokenInForeignContent(token):this._processToken(token)},Parser.prototype._isIntegrationPoint=function(element,foreignNS){var tn=this.treeAdapter.getTagName(element),ns=this.treeAdapter.getNamespaceURI(element),attrs=this.treeAdapter.getAttrList(element);return foreignContent.isIntegrationPoint(tn,ns,attrs,foreignNS)},Parser.prototype._reconstructActiveFormattingElements=function(){var listLength=this.activeFormattingElements.length;if(listLength){var unopenIdx=listLength,entry=null;do{if(unopenIdx--,(entry=this.activeFormattingElements.entries[unopenIdx]).type===FormattingElementList.MARKER_ENTRY||this.openElements.contains(entry.element)){unopenIdx++;break}}while(unopenIdx>0);for(var i=unopenIdx;i<listLength;i++)entry=this.activeFormattingElements.entries[i],this._insertElement(entry.token,this.treeAdapter.getNamespaceURI(entry.element)),entry.element=this.openElements.current}},Parser.prototype._closeTableCell=function(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=IN_ROW_MODE},Parser.prototype._closePElement=function(){this.openElements.generateImpliedEndTagsWithExclusion($.P),this.openElements.popUntilTagNamePopped($.P)},Parser.prototype._resetInsertionMode=function(){for(var i=this.openElements.stackTop,last=!1;i>=0;i--){var element=this.openElements.items[i];0===i&&(last=!0,this.fragmentContext&&(element=this.fragmentContext));var tn=this.treeAdapter.getTagName(element),newInsertionMode=INSERTION_MODE_RESET_MAP[tn];if(newInsertionMode){this.insertionMode=newInsertionMode;break}if(!(last||tn!==$.TD&&tn!==$.TH)){this.insertionMode=IN_CELL_MODE;break}if(!last&&tn===$.HEAD){this.insertionMode=IN_HEAD_MODE;break}if(tn===$.SELECT){this._resetInsertionModeForSelect(i);break}if(tn===$.TEMPLATE){this.insertionMode=this.currentTmplInsertionMode;break}if(tn===$.HTML){this.insertionMode=this.headElement?AFTER_HEAD_MODE:BEFORE_HEAD_MODE;break}if(last){this.insertionMode=IN_BODY_MODE;break}}},Parser.prototype._resetInsertionModeForSelect=function(selectIdx){if(selectIdx>0)for(var i=selectIdx-1;i>0;i--){var ancestor=this.openElements.items[i],tn=this.treeAdapter.getTagName(ancestor);if(tn===$.TEMPLATE)break;if(tn===$.TABLE)return void(this.insertionMode=IN_SELECT_IN_TABLE_MODE)}this.insertionMode=IN_SELECT_MODE},Parser.prototype._pushTmplInsertionMode=function(mode){this.tmplInsertionModeStack.push(mode),this.tmplInsertionModeStackTop++,this.currentTmplInsertionMode=mode},Parser.prototype._popTmplInsertionMode=function(){this.tmplInsertionModeStack.pop(),this.tmplInsertionModeStackTop--,this.currentTmplInsertionMode=this.tmplInsertionModeStack[this.tmplInsertionModeStackTop]},Parser.prototype._isElementCausesFosterParenting=function(element){var tn=this.treeAdapter.getTagName(element);return tn===$.TABLE||tn===$.TBODY||tn===$.TFOOT||tn===$.THEAD||tn===$.TR},Parser.prototype._shouldFosterParentOnInsertion=function(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.current)},Parser.prototype._findFosterParentingLocation=function(){for(var location={parent:null,beforeElement:null},i=this.openElements.stackTop;i>=0;i--){var openElement=this.openElements.items[i],tn=this.treeAdapter.getTagName(openElement),ns=this.treeAdapter.getNamespaceURI(openElement);if(tn===$.TEMPLATE&&ns===NS.HTML){location.parent=this.treeAdapter.getTemplateContent(openElement);break}if(tn===$.TABLE){location.parent=this.treeAdapter.getParentNode(openElement),location.parent?location.beforeElement=openElement:location.parent=this.openElements.items[i-1];break}}return location.parent||(location.parent=this.openElements.items[0]),location},Parser.prototype._fosterParentElement=function(element){var location=this._findFosterParentingLocation();location.beforeElement?this.treeAdapter.insertBefore(location.parent,element,location.beforeElement):this.treeAdapter.appendChild(location.parent,element)},Parser.prototype._fosterParentText=function(chars){var location=this._findFosterParentingLocation();location.beforeElement?this.treeAdapter.insertTextBefore(location.parent,chars,location.beforeElement):this.treeAdapter.insertText(location.parent,chars)},Parser.prototype._isSpecialElement=function(element){var tn=this.treeAdapter.getTagName(element),ns=this.treeAdapter.getNamespaceURI(element);return HTML.SPECIAL_ELEMENTS[ns][tn]}},function(module,exports,__webpack_require__){"use strict";var Mixin=__webpack_require__(309),Tokenizer=__webpack_require__(200),PositionTrackingPreprocessorMixin=__webpack_require__(840),inherits=__webpack_require__(8).inherits,LocationInfoTokenizerMixin=module.exports=function(tokenizer){Mixin.call(this,tokenizer),this.tokenizer=tokenizer,this.posTracker=new PositionTrackingPreprocessorMixin(tokenizer.preprocessor),this.currentAttrLocation=null,this.currentTokenLocation=null};inherits(LocationInfoTokenizerMixin,Mixin),LocationInfoTokenizerMixin.prototype._getCurrentLocation=function(){return{line:this.posTracker.line,col:this.posTracker.col,startOffset:this.posTracker.offset,endOffset:-1}},LocationInfoTokenizerMixin.prototype._attachCurrentAttrLocationInfo=function(){this.currentAttrLocation.endOffset=this.posTracker.offset;var currentToken=this.tokenizer.currentToken,currentAttr=this.tokenizer.currentAttr;currentToken.location.attrs||(currentToken.location.attrs=Object.create(null)),currentToken.location.attrs[currentAttr.name]=this.currentAttrLocation},LocationInfoTokenizerMixin.prototype._getOverriddenMethods=function(mxn,orig){var methods={_createStartTagToken:function(){orig._createStartTagToken.call(this),this.currentToken.location=mxn.currentTokenLocation},_createEndTagToken:function(){orig._createEndTagToken.call(this),this.currentToken.location=mxn.currentTokenLocation},_createCommentToken:function(){orig._createCommentToken.call(this),this.currentToken.location=mxn.currentTokenLocation},_createDoctypeToken:function(initialName){orig._createDoctypeToken.call(this,initialName),this.currentToken.location=mxn.currentTokenLocation},_createCharacterToken:function(type,ch){orig._createCharacterToken.call(this,type,ch),this.currentCharacterToken.location=mxn.currentTokenLocation},_createAttr:function(attrNameFirstCh){orig._createAttr.call(this,attrNameFirstCh),mxn.currentAttrLocation=mxn._getCurrentLocation()},_leaveAttrName:function(toState){orig._leaveAttrName.call(this,toState),mxn._attachCurrentAttrLocationInfo()},_leaveAttrValue:function(toState){orig._leaveAttrValue.call(this,toState),mxn._attachCurrentAttrLocationInfo()},_emitCurrentToken:function(){this.currentCharacterToken&&(this.currentCharacterToken.location.endOffset=this.currentToken.location.startOffset),this.currentToken.location.endOffset=mxn.posTracker.offset+1,orig._emitCurrentToken.call(this)},_emitCurrentCharacterToken:function(){this.currentCharacterToken&&-1===this.currentCharacterToken.location.endOffset&&(this.currentCharacterToken.location.endOffset=mxn.posTracker.offset),orig._emitCurrentCharacterToken.call(this)}};return Object.keys(Tokenizer.MODE).forEach(function(modeName){var state=Tokenizer.MODE[modeName];methods[state]=function(cp){mxn.currentTokenLocation=mxn._getCurrentLocation(),orig[state].call(this,cp)}}),methods}},function(module,exports,__webpack_require__){"use strict";var Mixin=__webpack_require__(309),inherits=__webpack_require__(8).inherits,$=__webpack_require__(267).CODE_POINTS,PositionTrackingPreprocessorMixin=module.exports=function(preprocessor){return preprocessor.__locTracker||(preprocessor.__locTracker=this,Mixin.call(this,preprocessor),this.preprocessor=preprocessor,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.col=-1,this.line=1),preprocessor.__locTracker};inherits(PositionTrackingPreprocessorMixin,Mixin),Object.defineProperty(PositionTrackingPreprocessorMixin.prototype,"offset",{get:function(){return this.droppedBufferSize+this.preprocessor.pos}}),PositionTrackingPreprocessorMixin.prototype._getOverriddenMethods=function(mxn,orig){return{advance:function(){var cp=orig.advance.call(this);return mxn.isEol&&(mxn.isEol=!1,mxn.line++,mxn.lineStartPos=mxn.offset),cp===$.LINE_FEED&&(mxn.isEol=!0),mxn.col=mxn.offset-mxn.lineStartPos+1,cp},retreat:function(){orig.retreat.call(this),mxn.isEol=!1,mxn.col=mxn.offset-mxn.lineStartPos+1},dropParsedChunk:function(){var prevPos=this.pos;orig.dropParsedChunk.call(this),mxn.droppedBufferSize+=prevPos-this.pos}}}},function(module,exports,__webpack_require__){"use strict";var Tokenizer=__webpack_require__(200),HTML=__webpack_require__(113),$=HTML.TAG_NAMES,NS=HTML.NAMESPACES,ATTRS=HTML.ATTRS,MIME_TYPES={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},SVG_ATTRS_ADJUSTMENT_MAP={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},XML_ATTRS_ADJUSTMENT_MAP={"xlink:actuate":{prefix:"xlink",name:"actuate",namespace:NS.XLINK},"xlink:arcrole":{prefix:"xlink",name:"arcrole",namespace:NS.XLINK},"xlink:href":{prefix:"xlink",name:"href",namespace:NS.XLINK},"xlink:role":{prefix:"xlink",name:"role",namespace:NS.XLINK},"xlink:show":{prefix:"xlink",name:"show",namespace:NS.XLINK},"xlink:title":{prefix:"xlink",name:"title",namespace:NS.XLINK},"xlink:type":{prefix:"xlink",name:"type",namespace:NS.XLINK},"xml:base":{prefix:"xml",name:"base",namespace:NS.XML},"xml:lang":{prefix:"xml",name:"lang",namespace:NS.XML},"xml:space":{prefix:"xml",name:"space",namespace:NS.XML},xmlns:{prefix:"",name:"xmlns",namespace:NS.XMLNS},"xmlns:xlink":{prefix:"xmlns",name:"xlink",namespace:NS.XMLNS}},SVG_TAG_NAMES_ADJUSTMENT_MAP=exports.SVG_TAG_NAMES_ADJUSTMENT_MAP={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},EXITS_FOREIGN_CONTENT=Object.create(null);EXITS_FOREIGN_CONTENT[$.B]=!0,EXITS_FOREIGN_CONTENT[$.BIG]=!0,EXITS_FOREIGN_CONTENT[$.BLOCKQUOTE]=!0,EXITS_FOREIGN_CONTENT[$.BODY]=!0,EXITS_FOREIGN_CONTENT[$.BR]=!0,EXITS_FOREIGN_CONTENT[$.CENTER]=!0,EXITS_FOREIGN_CONTENT[$.CODE]=!0,EXITS_FOREIGN_CONTENT[$.DD]=!0,EXITS_FOREIGN_CONTENT[$.DIV]=!0,EXITS_FOREIGN_CONTENT[$.DL]=!0,EXITS_FOREIGN_CONTENT[$.DT]=!0,EXITS_FOREIGN_CONTENT[$.EM]=!0,EXITS_FOREIGN_CONTENT[$.EMBED]=!0,EXITS_FOREIGN_CONTENT[$.H1]=!0,EXITS_FOREIGN_CONTENT[$.H2]=!0,EXITS_FOREIGN_CONTENT[$.H3]=!0,EXITS_FOREIGN_CONTENT[$.H4]=!0,EXITS_FOREIGN_CONTENT[$.H5]=!0,EXITS_FOREIGN_CONTENT[$.H6]=!0,EXITS_FOREIGN_CONTENT[$.HEAD]=!0,EXITS_FOREIGN_CONTENT[$.HR]=!0,EXITS_FOREIGN_CONTENT[$.I]=!0,EXITS_FOREIGN_CONTENT[$.IMG]=!0,EXITS_FOREIGN_CONTENT[$.LI]=!0,EXITS_FOREIGN_CONTENT[$.LISTING]=!0,EXITS_FOREIGN_CONTENT[$.MENU]=!0,EXITS_FOREIGN_CONTENT[$.META]=!0,EXITS_FOREIGN_CONTENT[$.NOBR]=!0,EXITS_FOREIGN_CONTENT[$.OL]=!0,EXITS_FOREIGN_CONTENT[$.P]=!0,EXITS_FOREIGN_CONTENT[$.PRE]=!0,EXITS_FOREIGN_CONTENT[$.RUBY]=!0,EXITS_FOREIGN_CONTENT[$.S]=!0,EXITS_FOREIGN_CONTENT[$.SMALL]=!0,EXITS_FOREIGN_CONTENT[$.SPAN]=!0,EXITS_FOREIGN_CONTENT[$.STRONG]=!0,EXITS_FOREIGN_CONTENT[$.STRIKE]=!0,EXITS_FOREIGN_CONTENT[$.SUB]=!0,EXITS_FOREIGN_CONTENT[$.SUP]=!0,EXITS_FOREIGN_CONTENT[$.TABLE]=!0,EXITS_FOREIGN_CONTENT[$.TT]=!0,EXITS_FOREIGN_CONTENT[$.U]=!0,EXITS_FOREIGN_CONTENT[$.UL]=!0,EXITS_FOREIGN_CONTENT[$.VAR]=!0,exports.causesExit=function(startTagToken){var tn=startTagToken.tagName;return!!(tn===$.FONT&&(null!==Tokenizer.getTokenAttr(startTagToken,ATTRS.COLOR)||null!==Tokenizer.getTokenAttr(startTagToken,ATTRS.SIZE)||null!==Tokenizer.getTokenAttr(startTagToken,ATTRS.FACE)))||EXITS_FOREIGN_CONTENT[tn]},exports.adjustTokenMathMLAttrs=function(token){for(var i=0;i<token.attrs.length;i++)if("definitionurl"===token.attrs[i].name){token.attrs[i].name="definitionURL";break}},exports.adjustTokenSVGAttrs=function(token){for(var i=0;i<token.attrs.length;i++){var adjustedAttrName=SVG_ATTRS_ADJUSTMENT_MAP[token.attrs[i].name];adjustedAttrName&&(token.attrs[i].name=adjustedAttrName)}},exports.adjustTokenXMLAttrs=function(token){for(var i=0;i<token.attrs.length;i++){var adjustedAttrEntry=XML_ATTRS_ADJUSTMENT_MAP[token.attrs[i].name];adjustedAttrEntry&&(token.attrs[i].prefix=adjustedAttrEntry.prefix,token.attrs[i].name=adjustedAttrEntry.name,token.attrs[i].namespace=adjustedAttrEntry.namespace)}},exports.adjustTokenSVGTagName=function(token){var adjustedTagName=SVG_TAG_NAMES_ADJUSTMENT_MAP[token.tagName];adjustedTagName&&(token.tagName=adjustedTagName)},exports.isIntegrationPoint=function(tn,ns,attrs,foreignNS){return!(foreignNS&&foreignNS!==NS.HTML||!function(tn,ns,attrs){if(ns===NS.MATHML&&tn===$.ANNOTATION_XML)for(var i=0;i<attrs.length;i++)if(attrs[i].name===ATTRS.ENCODING){var value=attrs[i].value.toLowerCase();return value===MIME_TYPES.TEXT_HTML||value===MIME_TYPES.APPLICATION_XML}return ns===NS.SVG&&(tn===$.FOREIGN_OBJECT||tn===$.DESC||tn===$.TITLE)}(tn,ns,attrs))||!(foreignNS&&foreignNS!==NS.MATHML||!function(tn,ns){return ns===NS.MATHML&&(tn===$.MI||tn===$.MO||tn===$.MN||tn===$.MS||tn===$.MTEXT)}(tn,ns))}},function(module,exports,__webpack_require__){"use strict";var defaultTreeAdapter=__webpack_require__(453),mergeOptions=__webpack_require__(454),doctype=__webpack_require__(455),HTML=__webpack_require__(113),$=HTML.TAG_NAMES,NS=HTML.NAMESPACES,DEFAULT_OPTIONS={treeAdapter:defaultTreeAdapter},AMP_REGEX=/&/g,NBSP_REGEX=/\u00a0/g,DOUBLE_QUOTE_REGEX=/"/g,LT_REGEX=/</g,GT_REGEX=/>/g,Serializer=module.exports=function(node,options){this.options=mergeOptions(DEFAULT_OPTIONS,options),this.treeAdapter=this.options.treeAdapter,this.html="",this.startNode=node};Serializer.escapeString=function(str,attrMode){return str=str.replace(AMP_REGEX,"&amp;").replace(NBSP_REGEX,"&nbsp;"),str=attrMode?str.replace(DOUBLE_QUOTE_REGEX,"&quot;"):str.replace(LT_REGEX,"&lt;").replace(GT_REGEX,"&gt;")},Serializer.prototype.serialize=function(){return this._serializeChildNodes(this.startNode),this.html},Serializer.prototype._serializeChildNodes=function(parentNode){var childNodes=this.treeAdapter.getChildNodes(parentNode);if(childNodes)for(var i=0,cnLength=childNodes.length;i<cnLength;i++){var currentNode=childNodes[i];this.treeAdapter.isElementNode(currentNode)?this._serializeElement(currentNode):this.treeAdapter.isTextNode(currentNode)?this._serializeTextNode(currentNode):this.treeAdapter.isCommentNode(currentNode)?this._serializeCommentNode(currentNode):this.treeAdapter.isDocumentTypeNode(currentNode)&&this._serializeDocumentTypeNode(currentNode)}},Serializer.prototype._serializeElement=function(node){var tn=this.treeAdapter.getTagName(node),ns=this.treeAdapter.getNamespaceURI(node);if(this.html+="<"+tn,this._serializeAttributes(node),this.html+=">",tn!==$.AREA&&tn!==$.BASE&&tn!==$.BASEFONT&&tn!==$.BGSOUND&&tn!==$.BR&&tn!==$.BR&&tn!==$.COL&&tn!==$.EMBED&&tn!==$.FRAME&&tn!==$.HR&&tn!==$.IMG&&tn!==$.INPUT&&tn!==$.KEYGEN&&tn!==$.LINK&&tn!==$.MENUITEM&&tn!==$.META&&tn!==$.PARAM&&tn!==$.SOURCE&&tn!==$.TRACK&&tn!==$.WBR){var childNodesHolder=tn===$.TEMPLATE&&ns===NS.HTML?this.treeAdapter.getTemplateContent(node):node;this._serializeChildNodes(childNodesHolder),this.html+="</"+tn+">"}},Serializer.prototype._serializeAttributes=function(node){for(var attrs=this.treeAdapter.getAttrList(node),i=0,attrsLength=attrs.length;i<attrsLength;i++){var attr=attrs[i],value=Serializer.escapeString(attr.value,!0);this.html+=" ",attr.namespace?attr.namespace===NS.XML?this.html+="xml:"+attr.name:attr.namespace===NS.XMLNS?("xmlns"!==attr.name&&(this.html+="xmlns:"),this.html+=attr.name):attr.namespace===NS.XLINK?this.html+="xlink:"+attr.name:this.html+=attr.namespace+":"+attr.name:this.html+=attr.name,this.html+='="'+value+'"'}},Serializer.prototype._serializeTextNode=function(node){var content=this.treeAdapter.getTextNodeContent(node),parent=this.treeAdapter.getParentNode(node),parentTn=void 0;parent&&this.treeAdapter.isElementNode(parent)&&(parentTn=this.treeAdapter.getTagName(parent)),parentTn===$.STYLE||parentTn===$.SCRIPT||parentTn===$.XMP||parentTn===$.IFRAME||parentTn===$.NOEMBED||parentTn===$.NOFRAMES||parentTn===$.PLAINTEXT||parentTn===$.NOSCRIPT?this.html+=content:this.html+=Serializer.escapeString(content,!1)},Serializer.prototype._serializeCommentNode=function(node){this.html+="\x3c!--"+this.treeAdapter.getCommentNodeContent(node)+"--\x3e"},Serializer.prototype._serializeDocumentTypeNode=function(node){var name=this.treeAdapter.getDocumentTypeNodeName(node);this.html+="<"+doctype.serializeContent(name,null,null)+">"}},function(module,exports,__webpack_require__){"use strict";var WritableStream=__webpack_require__(10).Writable,inherits=__webpack_require__(8).inherits,Parser=__webpack_require__(838),ParserStream=module.exports=function(options){WritableStream.call(this),this.parser=new Parser(options),this.lastChunkWritten=!1,this.writeCallback=null,this.pausedByScript=!1,this.document=this.parser.treeAdapter.createDocument(),this.pendingHtmlInsertions=[],this._resume=this._resume.bind(this),this._documentWrite=this._documentWrite.bind(this),this._scriptHandler=this._scriptHandler.bind(this),this.parser._bootstrap(this.document,null)};inherits(ParserStream,WritableStream),ParserStream.prototype._write=function(chunk,encoding,callback){this.writeCallback=callback,this.parser.tokenizer.write(chunk.toString("utf8"),this.lastChunkWritten),this._runParsingLoop()},ParserStream.prototype.end=function(chunk,encoding,callback){this.lastChunkWritten=!0,WritableStream.prototype.end.call(this,chunk||"",encoding,callback)},ParserStream.prototype._runParsingLoop=function(){this.parser.runParsingLoopForCurrentChunk(this.writeCallback,this._scriptHandler)},ParserStream.prototype._resume=function(){if(!this.pausedByScript)throw new Error("Parser was already resumed");for(;this.pendingHtmlInsertions.length;){var html=this.pendingHtmlInsertions.pop();this.parser.tokenizer.insertHtmlAtCurrentPos(html)}this.pausedByScript=!1,this.parser.tokenizer.active&&this._runParsingLoop()},ParserStream.prototype._documentWrite=function(html){this.parser.stopped||this.pendingHtmlInsertions.push(html)},ParserStream.prototype._scriptHandler=function(scriptElement){this.listeners("script").length?(this.pausedByScript=!0,this.emit("script",scriptElement,this._documentWrite,this._resume)):this._runParsingLoop()}},function(module,exports,__webpack_require__){var assignValue=__webpack_require__(187),copyObject=__webpack_require__(80),createAssigner=__webpack_require__(291),isArrayLike=__webpack_require__(64),isPrototype=__webpack_require__(188),keys=__webpack_require__(68),hasOwnProperty=Object.prototype.hasOwnProperty,assign=createAssigner(function(object,source){if(isPrototype(source)||isArrayLike(source))copyObject(source,keys(source),object);else for(var key in source)hasOwnProperty.call(source,key)&&assignValue(object,key,source[key])});module.exports=assign},function(module,exports,__webpack_require__){var copyObject=__webpack_require__(80),createAssigner=__webpack_require__(291),keysIn=__webpack_require__(119),assignIn=createAssigner(function(object,source){copyObject(source,keysIn(source),object)});module.exports=assignIn},function(module,exports,__webpack_require__){var identity=__webpack_require__(96),metaMap=__webpack_require__(425),baseSetData=metaMap?function(func,data){return metaMap.set(func,data),func}:identity;module.exports=baseSetData},function(module,exports,__webpack_require__){var composeArgs=__webpack_require__(848),composeArgsRight=__webpack_require__(849),countHolders=__webpack_require__(1090),createCtor=__webpack_require__(318),createRecurry=__webpack_require__(850),getHolder=__webpack_require__(459),reorder=__webpack_require__(1094),replaceHolders=__webpack_require__(320),root=__webpack_require__(33),WRAP_BIND_FLAG=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_FLAG=8,WRAP_CURRY_RIGHT_FLAG=16,WRAP_ARY_FLAG=128,WRAP_FLIP_FLAG=512;module.exports=function createHybrid(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=bitmask&WRAP_ARY_FLAG,isBind=bitmask&WRAP_BIND_FLAG,isBindKey=bitmask&WRAP_BIND_KEY_FLAG,isCurried=bitmask&(WRAP_CURRY_FLAG|WRAP_CURRY_RIGHT_FLAG),isFlip=bitmask&WRAP_FLIP_FLAG,Ctor=isBindKey?void 0:createCtor(func);return function wrapper(){for(var length=arguments.length,args=Array(length),index=length;index--;)args[index]=arguments[index];if(isCurried)var placeholder=getHolder(wrapper),holdersCount=countHolders(args,placeholder);if(partials&&(args=composeArgs(args,partials,holders,isCurried)),partialsRight&&(args=composeArgsRight(args,partialsRight,holdersRight,isCurried)),length-=holdersCount,isCurried&&length<arity){var newHolders=replaceHolders(args,placeholder);return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,thisArg,args,newHolders,argPos,ary,arity-length)}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;return length=args.length,argPos?args=reorder(args,argPos):isFlip&&length>1&&args.reverse(),isAry&&ary<length&&(args.length=ary),this&&this!==root&&this instanceof wrapper&&(fn=Ctor||createCtor(fn)),fn.apply(thisBinding,args)}}},function(module,exports){var nativeMax=Math.max;module.exports=function(args,partials,holders,isCurried){for(var argsIndex=-1,argsLength=args.length,holdersLength=holders.length,leftIndex=-1,leftLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(leftLength+rangeLength),isUncurried=!isCurried;++leftIndex<leftLength;)result[leftIndex]=partials[leftIndex];for(;++argsIndex<holdersLength;)(isUncurried||argsIndex<argsLength)&&(result[holders[argsIndex]]=args[argsIndex]);for(;rangeLength--;)result[leftIndex++]=args[argsIndex++];return result}},function(module,exports){var nativeMax=Math.max;module.exports=function(args,partials,holders,isCurried){for(var argsIndex=-1,argsLength=args.length,holdersIndex=-1,holdersLength=holders.length,rightIndex=-1,rightLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(rangeLength+rightLength),isUncurried=!isCurried;++argsIndex<rangeLength;)result[argsIndex]=args[argsIndex];for(var offset=argsIndex;++rightIndex<rightLength;)result[offset+rightIndex]=partials[rightIndex];for(;++holdersIndex<holdersLength;)(isUncurried||argsIndex<argsLength)&&(result[offset+holders[holdersIndex]]=args[argsIndex++]);return result}},function(module,exports,__webpack_require__){var isLaziable=__webpack_require__(458),setData=__webpack_require__(851),setWrapToString=__webpack_require__(852),WRAP_BIND_FLAG=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_BOUND_FLAG=4,WRAP_CURRY_FLAG=8,WRAP_PARTIAL_FLAG=32,WRAP_PARTIAL_RIGHT_FLAG=64;module.exports=function(func,bitmask,wrapFunc,placeholder,thisArg,partials,holders,argPos,ary,arity){var isCurry=bitmask&WRAP_CURRY_FLAG;bitmask|=isCurry?WRAP_PARTIAL_FLAG:WRAP_PARTIAL_RIGHT_FLAG,(bitmask&=~(isCurry?WRAP_PARTIAL_RIGHT_FLAG:WRAP_PARTIAL_FLAG))&WRAP_CURRY_BOUND_FLAG||(bitmask&=~(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG));var newData=[func,bitmask,thisArg,isCurry?partials:void 0,isCurry?holders:void 0,isCurry?void 0:partials,isCurry?void 0:holders,argPos,ary,arity],result=wrapFunc.apply(void 0,newData);return isLaziable(func)&&setData(result,newData),result.placeholder=placeholder,setWrapToString(result,func,bitmask)}},function(module,exports,__webpack_require__){var baseSetData=__webpack_require__(846),setData=__webpack_require__(424)(baseSetData);module.exports=setData},function(module,exports,__webpack_require__){var getWrapDetails=__webpack_require__(1091),insertWrapDetails=__webpack_require__(1092),setToString=__webpack_require__(268),updateWrapDetails=__webpack_require__(1093);module.exports=function(wrapper,reference,bitmask){var source=reference+"";return setToString(wrapper,insertWrapDetails(source,updateWrapDetails(getWrapDetails(source),bitmask)))}},function(module,exports,__webpack_require__){var DomUtils=__webpack_require__(180),hasAttrib=DomUtils.hasAttrib,getAttributeValue=DomUtils.getAttributeValue,falseFunc=__webpack_require__(271).falseFunc,reChars=/[-[\]{}()*+?.,\\^$|#\s]/g,attributeRules={__proto__:null,equals:function(next,data){var name=data.name,value=data.value;return data.ignoreCase?(value=value.toLowerCase(),function(elem){var attr=getAttributeValue(elem,name);return null!=attr&&attr.toLowerCase()===value&&next(elem)}):function(elem){return getAttributeValue(elem,name)===value&&next(elem)}},hyphen:function(next,data){var name=data.name,value=data.value,len=value.length;return data.ignoreCase?(value=value.toLowerCase(),function(elem){var attr=getAttributeValue(elem,name);return null!=attr&&(attr.length===len||"-"===attr.charAt(len))&&attr.substr(0,len).toLowerCase()===value&&next(elem)}):function(elem){var attr=getAttributeValue(elem,name);return null!=attr&&attr.substr(0,len)===value&&(attr.length===len||"-"===attr.charAt(len))&&next(elem)}},element:function(next,data){var name=data.name,value=data.value;if(/\s/.test(value))return falseFunc;var pattern="(?:^|\\s)"+(value=value.replace(reChars,"\\$&"))+"(?:$|\\s)",flags=data.ignoreCase?"i":"",regex=new RegExp(pattern,flags);return function(elem){var attr=getAttributeValue(elem,name);return null!=attr&&regex.test(attr)&&next(elem)}},exists:function(next,data){var name=data.name;return function(elem){return hasAttrib(elem,name)&&next(elem)}},start:function(next,data){var name=data.name,value=data.value,len=value.length;return 0===len?falseFunc:data.ignoreCase?(value=value.toLowerCase(),function(elem){var attr=getAttributeValue(elem,name);return null!=attr&&attr.substr(0,len).toLowerCase()===value&&next(elem)}):function(elem){var attr=getAttributeValue(elem,name);return null!=attr&&attr.substr(0,len)===value&&next(elem)}},end:function(next,data){var name=data.name,value=data.value,len=-value.length;return 0===len?falseFunc:data.ignoreCase?(value=value.toLowerCase(),function(elem){var attr=getAttributeValue(elem,name);return null!=attr&&attr.substr(len).toLowerCase()===value&&next(elem)}):function(elem){var attr=getAttributeValue(elem,name);return null!=attr&&attr.substr(len)===value&&next(elem)}},any:function(next,data){var name=data.name,value=data.value;if(""===value)return falseFunc;if(data.ignoreCase){var regex=new RegExp(value.replace(reChars,"\\$&"),"i");return function(elem){var attr=getAttributeValue(elem,name);return null!=attr&&regex.test(attr)&&next(elem)}}return function(elem){var attr=getAttributeValue(elem,name);return null!=attr&&attr.indexOf(value)>=0&&next(elem)}},not:function(next,data){var name=data.name,value=data.value;return""===value?function(elem){return!!getAttributeValue(elem,name)&&next(elem)}:data.ignoreCase?(value=value.toLowerCase(),function(elem){var attr=getAttributeValue(elem,name);return null!=attr&&attr.toLowerCase()!==value&&next(elem)}):function(elem){return getAttributeValue(elem,name)!==value&&next(elem)}}};module.exports={compile:function(next,data,options){if(options&&options.strict&&(data.ignoreCase||"not"===data.action))throw SyntaxError("Unsupported attribute selector");return attributeRules[data.action](next,data)},rules:attributeRules}},function(module){module.exports=JSON.parse('{"universal":50,"tag":30,"attribute":1,"pseudo":0,"descendant":-1,"child":-1,"parent":-1,"sibling":-1,"adjacent":-1}')},function(module,exports,__webpack_require__){var baseEach=__webpack_require__(133);module.exports=function(collection,predicate){var result=[];return baseEach(collection,function(value,index,collection){predicate(value,index,collection)&&result.push(value)}),result}},function(module,exports,__webpack_require__){var parse=__webpack_require__(35),startOfISOWeek=__webpack_require__(471);module.exports=function(dirtyDate){var date=parse(dirtyDate),year=date.getFullYear(),fourthOfJanuaryOfNextYear=new Date(0);fourthOfJanuaryOfNextYear.setFullYear(year+1,0,4),fourthOfJanuaryOfNextYear.setHours(0,0,0,0);var startOfNextYear=startOfISOWeek(fourthOfJanuaryOfNextYear),fourthOfJanuaryOfThisYear=new Date(0);fourthOfJanuaryOfThisYear.setFullYear(year,0,4),fourthOfJanuaryOfThisYear.setHours(0,0,0,0);var startOfThisYear=startOfISOWeek(fourthOfJanuaryOfThisYear);return date.getTime()>=startOfNextYear.getTime()?year+1:date.getTime()>=startOfThisYear.getTime()?year:year-1}},,,,,,function(module,exports,__webpack_require__){var crypto=__webpack_require__(23);module.exports=function(){return crypto.randomBytes(16)}},function(module,exports){for(var byteToHex=[],i=0;i<256;++i)byteToHex[i]=(i+256).toString(16).substr(1);module.exports=function(buf,offset){var i=offset||0,bth=byteToHex;return[bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],"-",bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]]].join("")}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(8).deprecate},function(module,exports,__webpack_require__){var arrayReduce=__webpack_require__(866),baseEach=__webpack_require__(133),baseIteratee=__webpack_require__(19),baseReduce=__webpack_require__(1108),isArray=__webpack_require__(12);module.exports=function(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,baseIteratee(iteratee,4),accumulator,initAccum,baseEach)}},function(module,exports){module.exports=function(array,iteratee,accumulator,initAccum){var index=-1,length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}},function(module,exports){module.exports=function(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}},function(module,exports){module.exports=function(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}},function(module,exports){module.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(module,exports,__webpack_require__){var convert=__webpack_require__(467).convert,bodyStream=__webpack_require__(1283),PassThrough=__webpack_require__(10).PassThrough,FetchError=__webpack_require__(1114);function Body(body,opts){opts=opts||{},this.body=body,this.bodyUsed=!1,this.size=opts.size||0,this.timeout=opts.timeout||0,this._raw=[],this._abort=!1}module.exports=Body,Body.prototype.json=function(){var self=this;return this._decode().then(function(buffer){try{return JSON.parse(buffer.toString())}catch(err){return Body.Promise.reject(new FetchError("invalid json response body at "+self.url+" reason: "+err.message,"invalid-json"))}})},Body.prototype.text=function(){return this._decode().then(function(buffer){return buffer.toString()})},Body.prototype.buffer=function(){return this._decode()},Body.prototype._decode=function(){var self=this;return this.bodyUsed?Body.Promise.reject(new Error("body used already for: "+this.url)):(this.bodyUsed=!0,this._bytes=0,this._abort=!1,this._raw=[],new Body.Promise(function(resolve,reject){var resTimeout;return"string"==typeof self.body?(self._bytes=self.body.length,self._raw=[new Buffer(self.body)],resolve(self._convert())):self.body instanceof Buffer?(self._bytes=self.body.length,self._raw=[self.body],resolve(self._convert())):(self.timeout&&(resTimeout=setTimeout(function(){self._abort=!0,reject(new FetchError("response timeout at "+self.url+" over limit: "+self.timeout,"body-timeout"))},self.timeout)),self.body.on("error",function(err){reject(new FetchError("invalid response body at: "+self.url+" reason: "+err.message,"system",err))}),self.body.on("data",function(chunk){if(!self._abort&&null!==chunk){if(self.size&&self._bytes+chunk.length>self.size)return self._abort=!0,void reject(new FetchError("content size at "+self.url+" over limit: "+self.size,"max-size"));self._bytes+=chunk.length,self._raw.push(chunk)}}),void self.body.on("end",function(){self._abort||(clearTimeout(resTimeout),resolve(self._convert()))}))}))},Body.prototype._convert=function(encoding){encoding=encoding||"utf-8";var res,str,ct=this.headers.get("content-type"),charset="utf-8";if(ct){if(!/text\/html|text\/plain|\+xml|\/xml/i.test(ct))return Buffer.concat(this._raw);res=/charset=([^;]*)/i.exec(ct)}if(!res&&this._raw.length>0){for(var i=0;i<this._raw.length&&!((str+=this._raw[i].toString()).length>1024);i++);str=str.substr(0,1024)}return!res&&str&&(res=/<meta.+?charset=(['"])(.+?)\1/i.exec(str)),!res&&str&&(res=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(str))&&(res=/charset=(.*)/i.exec(res.pop())),!res&&str&&(res=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(str)),res&&("gb2312"!==(charset=res.pop())&&"gbk"!==charset||(charset="gb18030")),convert(Buffer.concat(this._raw),encoding,charset)},Body.prototype._clone=function(instance){var p1,p2,body=instance.body;if(instance.bodyUsed)throw new Error("cannot clone body after it is used");return bodyStream(body)&&"function"!=typeof body.getBoundary&&(p1=new PassThrough,p2=new PassThrough,body.pipe(p1),body.pipe(p2),instance.body=p1,body=p2),body},Body.Promise=global.Promise},function(module,exports){function Headers(headers){var self=this;for(var prop in this._headers={},headers instanceof Headers&&(headers=headers.raw()),headers)headers.hasOwnProperty(prop)&&("string"==typeof headers[prop]?this.set(prop,headers[prop]):"number"!=typeof headers[prop]||isNaN(headers[prop])?Array.isArray(headers[prop])&&headers[prop].forEach(function(item){self.append(prop,item.toString())}):this.set(prop,headers[prop].toString()))}module.exports=Headers,Headers.prototype.get=function(name){var list=this._headers[name.toLowerCase()];return list?list[0]:null},Headers.prototype.getAll=function(name){return this.has(name)?this._headers[name.toLowerCase()]:[]},Headers.prototype.forEach=function(callback,thisArg){Object.getOwnPropertyNames(this._headers).forEach(function(name){this._headers[name].forEach(function(value){callback.call(thisArg,value,name,this)},this)},this)},Headers.prototype.set=function(name,value){this._headers[name.toLowerCase()]=[value]},Headers.prototype.append=function(name,value){this.has(name)?this._headers[name.toLowerCase()].push(value):this.set(name,value)},Headers.prototype.has=function(name){return this._headers.hasOwnProperty(name.toLowerCase())},Headers.prototype.delete=function(name){delete this._headers[name.toLowerCase()]},Headers.prototype.raw=function(){return this._headers}},function(module,exports){var core=module.exports={version:"2.6.9"};"number"==typeof __e&&(__e=core)},function(module,exports){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}},function(module,exports){module.exports=function(exec){try{return!!exec()}catch(e){return!0}}},function(module,exports,__webpack_require__){"use strict";
/**
 * @file Invokes function, returning an object of the results.
 * @version 1.1.3
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module attempt-x
 */var getArgs=function(args){var length=args.length>>>0,array=[],argLength=length-1;if(argLength<1)return array;array.length=argLength;for(var index=1;index<length;index+=1)array[index-1]=args[index];return array};module.exports=function(fn){try{return{threw:!1,value:fn.apply(this,getArgs(arguments))}}catch(e){return{threw:!0,value:e}}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(value){return void 0===value}},function(module,exports,__webpack_require__){"use strict";
/*!
 * is-primitive <https://github.com/jonschlinkert/is-primitive>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */module.exports=function(value){return null==value||"function"!=typeof value&&"object"!=typeof value}},function(module,exports,__webpack_require__){"use strict";
/**
 * @file This method removes whitespace from the left end of a string.
 * @version 3.0.0
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module trim-left-x
 */var requireCoercibleToString=__webpack_require__(879),Rx=__webpack_require__(220).RegExp,reLeft2016=new Rx("^["+__webpack_require__(470).string2016+"]+"),reLeft2018=new Rx("^["+__webpack_require__(470).string2018+"]+"),replace="".replace,$trimLeft2018=function(string){return replace.call(requireCoercibleToString(string),reLeft2018,"")};module.exports={trimLeft:$trimLeft2018,trimLeft2016:function(string){return replace.call(requireCoercibleToString(string),reLeft2016,"")},trimLeft2018:$trimLeft2018}},function(module,exports,__webpack_require__){"use strict";
/**
 * @file Requires an argument is corecible then converts using ToString.
 * @version 1.0.2
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module require-coercible-to-string-x
 */var requireObjectCoercible=__webpack_require__(880),toStr=__webpack_require__(591);module.exports=function(value){return toStr(requireObjectCoercible(value))}},function(module,exports,__webpack_require__){"use strict";
/**
 * @file ES6-compliant shim for RequireObjectCoercible.
 * @see {@link http://www.ecma-international.org/ecma-262/6.0/#sec-requireobjectcoercible|7.2.1 RequireObjectCoercible ( argument )}
 * @version 1.4.3
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module require-object-coercible-x
 */var isNil=__webpack_require__(1130);module.exports=function(value){if(isNil(value))throw new TypeError("Cannot call method on "+value);return value}},function(module,exports,__webpack_require__){"use strict";var toStr=Object.prototype.toString;if(__webpack_require__(1318)()){var symToStr=Symbol.prototype.toString,symStringRegex=/^Symbol\(.*\)$/;module.exports=function(value){if("symbol"==typeof value)return!0;if("[object Symbol]"!==toStr.call(value))return!1;try{return function(value){return"symbol"==typeof value.valueOf()&&symStringRegex.test(symToStr.call(value))}(value)}catch(e){return!1}}}else module.exports=function(value){return!1}},function(module,exports,__webpack_require__){"use strict";
/**
 * @file ES6-compliant shim for ToObject.
 * @see {@link http://www.ecma-international.org/ecma-262/6.0/#sec-toobject|7.1.13 ToObject ( argument )}
 * @version 1.5.0
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module to-object-x
 */var requireObjectCoercible=__webpack_require__(880),castObject=__webpack_require__(220).Object;module.exports=function(value){return castObject(requireObjectCoercible(value))}},function(module,exports,__webpack_require__){"use strict";
/**
 * @file Converts argument to a value that can be used as a property key.
 * @version 2.0.2
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module to-property-key-x
 */var hasSymbols=__webpack_require__(469),toPrimitive=__webpack_require__(1131),toStr=__webpack_require__(591);module.exports=function(argument){var key=toPrimitive(argument,String);return hasSymbols&&"symbol"==typeof key?key:toStr(key)}},function(module,exports,__webpack_require__){"use strict";
/**
 * @file ES6-compliant shim for Number.isNaN - the global isNaN returns false positives.
 * @version 1.0.3
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module is-nan-x
 */module.exports=function(value){return value!=value}},function(module,exports,__webpack_require__){var parse=__webpack_require__(35);module.exports=function(dirtyDate){var date=parse(dirtyDate);return date.setHours(0,0,0,0),date}},function(module,exports,__webpack_require__){const groupBy=__webpack_require__(41),Document=__webpack_require__(293),matching=__webpack_require__(1377),{getSlugFromInstitutionLabel:getSlugFromInstitutionLabel}=__webpack_require__(1146);class BankAccount extends Document{static reconciliate(fetchedAccounts,localAccounts){return matching.matchAccounts(fetchedAccounts,localAccounts).map(matching=>({...matching.account,_id:matching.match?matching.match._id:void 0}))}static findDuplicateAccountsWithNoOperations(accounts,operations){const opsByAccountId=groupBy(operations,op=>op.account),duplicateAccountGroups=Object.entries(groupBy(accounts,x=>x.institutionLabel+" > "+x.label)).map(([,duplicateGroup])=>duplicateGroup).filter(duplicateGroup=>duplicateGroup.length>1),res=[];for(const duplicateAccounts of duplicateAccountGroups)for(const account of duplicateAccounts){0===(opsByAccountId[account._id]||[]).length&&res.push(account)}return res}static hasIncoherentCreatedByApp(account){const predictedSlug=getSlugFromInstitutionLabel(account.institutionLabel),createdByApp=account.cozyMetadata&&account.cozyMetadata.createdByApp;return Boolean(predictedSlug&&createdByApp&&predictedSlug!==createdByApp)}}BankAccount.normalizeAccountNumber=matching.normalizeAccountNumber,BankAccount.doctype="io.cozy.bank.accounts",BankAccount.idAttributes=["_id"],BankAccount.version=1,BankAccount.checkedAttributes=null,BankAccount.vendorIdAttr="vendorId",module.exports=BankAccount},function(module,exports,__webpack_require__){"use strict";var _regeneratorRuntime=__webpack_require__(0),_asyncToGenerator=__webpack_require__(3),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},bluebird=__webpack_require__(277),retry=__webpack_require__(1150),mimetypes=__webpack_require__(421),path=__webpack_require__(47),requestFactory=__webpack_require__(500),omit=__webpack_require__(98),log=__webpack_require__(58).namespace("saveFiles"),cozy=__webpack_require__(149),queryAll=__webpack_require__(569).queryAll,errors=__webpack_require__(476),stream=__webpack_require__(10),fileType=__webpack_require__(1387),DEFAULT_TIMEOUT=Date.now()+24e4,DEFAULT_VALIDATE_FILE=function(fileDocument){return function(fileobject){if(0===fileobject.attributes.size)return log("warn","".concat(fileobject.attributes.name," is empty")),log("warn","BAD_FILE_SIZE"),!1;return!0}(fileDocument)&&function(fileDocument){var _fileDocument$attribu=fileDocument.attributes,mime=_fileDocument$attribu.mime,name=_fileDocument$attribu.name,extension=path.extname(name).substr(1);if(extension&&mime&&mimetypes.lookup(extension)!==mime)return log("warn","".concat(name," and ").concat(mime," do not correspond")),log("warn","BAD_MIME_TYPE"),!1;return!0}(fileDocument)},DEFAULT_VALIDATE_FILECONTENT=function(){var _ref=_asyncToGenerator(_regeneratorRuntime.mark(function _callee(fileDocument){var response,fileTypeFromContent;return _regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,cozy.files.downloadById(fileDocument._id);case 2:return response=_context.sent,_context.t0=fileType,_context.next=6,response.buffer();case 6:if(_context.t1=_context.sent,fileTypeFromContent=(0,_context.t0)(_context.t1)){_context.next=11;break}return log("warn","Could not find mime type from file content"),_context.abrupt("return",!1);case 11:if(DEFAULT_VALIDATE_FILE(fileDocument)&&fileDocument.attributes.mime===fileTypeFromContent.mime){_context.next=14;break}return log("warn","Wrong file type from content ".concat(JSON.stringify(fileTypeFromContent))),_context.abrupt("return",!1);case 14:return _context.abrupt("return",!0);case 15:case"end":return _context.stop()}},_callee)}));return function(_x){return _ref.apply(this,arguments)}}(),sanitizeEntry=function(entry){return delete entry.requestOptions,delete entry.filestream,delete entry.shouldReplaceFile,entry};var downloadEntry=function(entry,options){var filePromise=function(entry,options){return options.requestInstance?options.requestInstance:requestFactory({json:!1,cheerio:!1,userAgent:!0,jar:!0})}(0,options)(function(entry,options){var defaultRequestOptions={uri:entry.fileurl,method:"GET"};return options.requestInstance||(defaultRequestOptions.jar=!0),_extends({},defaultRequestOptions,entry.requestOptions)}(entry,options));return options.contentType?filePromise.pipe(new stream.PassThrough):options.postProcessFile?(log("warn","Be carefull postProcessFile option is deprecated. You should use the filestream attribute in each entry instead"),filePromise.then(function(data){return options.postProcessFile(data)})):filePromise},createFile=function(){var _ref2=_asyncToGenerator(_regeneratorRuntime.mark(function _callee2(entry,options,method,fileId){var folder,createFileOptions,toCreate,fileDocument;return _regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,cozy.files.statByPath(options.folderPath);case 2:if(folder=_context2.sent,createFileOptions={name:getFileName(entry),dirID:folder._id},options.contentType&&(!0===options.contentType&&entry.filename?createFileOptions.contentType=mimetypes.contentType(entry.filename):createFileOptions.contentType=options.contentType),entry.fileAttributes&&(createFileOptions=_extends({},createFileOptions,entry.fileAttributes,options.sourceAccountOptions)),toCreate=entry.filestream||downloadEntry(entry,_extends({},options,{simple:!1})),"create"!==method){_context2.next=13;break}return _context2.next=10,cozy.files.create(toCreate,createFileOptions);case 10:fileDocument=_context2.sent,_context2.next=18;break;case 13:if("updateById"!==method){_context2.next=18;break}return log("info","replacing file for ".concat(entry.filename)),_context2.next=17,cozy.files.updateById(fileId,toCreate,createFileOptions);case 17:fileDocument=_context2.sent;case 18:if(!options.validateFile){_context2.next=37;break}return _context2.next=21,options.validateFile(fileDocument);case 21:if(_context2.t0=_context2.sent,!1!==_context2.t0){_context2.next=27;break}if("create"!==method){_context2.next=26;break}return _context2.next=26,removeFile(fileDocument);case 26:throw new Error("BAD_DOWNLOADED_FILE");case 27:if(_context2.t1=options.validateFileContent,!_context2.t1){_context2.next=32;break}return _context2.next=31,options.validateFileContent(fileDocument);case 31:_context2.t1=!_context2.sent;case 32:if(!_context2.t1){_context2.next=37;break}if("create"!==method){_context2.next=36;break}return _context2.next=36,removeFile(fileDocument);case 36:throw new Error("BAD_DOWNLOADED_FILE");case 37:return _context2.abrupt("return",fileDocument);case 38:case"end":return _context2.stop()}},_callee2)}));return function(_x2,_x3,_x4,_x5){return _ref2.apply(this,arguments)}}(),attachFileToEntry=function(entry,fileDocument){return entry.fileDocument=fileDocument,entry},shouldReplaceFile=function(){var _ref3=_asyncToGenerator(_regeneratorRuntime.mark(function _callee3(file,entry,options,filepath){var defaultShouldReplaceFile,shouldReplaceFileFn;return _regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(_context3.t0=!options.validateFile,_context3.t0){_context3.next=5;break}return _context3.next=4,options.validateFile(file);case 4:_context3.t0=_context3.sent;case 5:if(_context3.t0){_context3.next=9;break}throw log("warn","".concat(filepath," is invalid. Downloading it one more time")),new Error("BAD_DOWNLOADED_FILE");case 9:return defaultShouldReplaceFile=function(){return!1},shouldReplaceFileFn=entry.shouldReplaceFile||options.shouldReplaceFile||defaultShouldReplaceFile,_context3.abrupt("return",shouldReplaceFileFn(file,entry));case 12:case"end":return _context3.stop()}},_callee3)}));return function(_x6,_x7,_x8,_x9){return _ref3.apply(this,arguments)}}(),removeFile=function(){var _ref4=_asyncToGenerator(_regeneratorRuntime.mark(function _callee4(file){return _regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,cozy.files.trashById(file._id);case 2:return _context4.next=4,cozy.files.destroyById(file._id);case 4:case"end":return _context4.stop()}},_callee4)}));return function(_x10){return _ref4.apply(this,arguments)}}(),saveEntry=function(){var _ref5=_asyncToGenerator(_regeneratorRuntime.mark(function _callee5(entry,options){var remainingTime,filepath,file,shouldReplace,method;return _regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:if(!(options.timeout&&Date.now()>options.timeout)){_context5.next=4;break}throw remainingTime=Math.floor((options.timeout-Date.now())/1e3),log("info","".concat(remainingTime,"s timeout finished for ").concat(options.folderPath)),new Error("TIMEOUT");case 4:return filepath=path.join(options.folderPath,getFileName(entry)),file=null,_context5.prev=6,_context5.next=9,cozy.files.statByPath(filepath);case 9:file=_context5.sent,_context5.next=15;break;case 12:_context5.prev=12,_context5.t0=_context5.catch(6),log("info",_context5.t0.message);case 15:if(shouldReplace=!1,!file){_context5.next=27;break}return _context5.prev=17,_context5.next=20,shouldReplaceFile(file,entry,options,filepath);case 20:shouldReplace=_context5.sent,_context5.next=27;break;case 23:_context5.prev=23,_context5.t1=_context5.catch(17),log("info","Error in shouldReplace : ".concat(_context5.t1.message)),shouldReplace=!0;case 27:if(method="create",shouldReplace&&file&&(method="updateById",log("info","Will replace ".concat(filepath,"..."))),_context5.prev=29,file&&"updateById"!==method){_context5.next=38;break}return log("debug",omit(entry,"filestream")),logFileStream(entry.filestream),log("debug","File ".concat(filepath," does not exist yet or is not valid")),entry._cozy_file_to_create=!0,_context5.next=37,retry(createFile,{interval:1e3,throw_original:!0,max_tries:options.retry,args:[entry,options,method,file?file._id:void 0]}).catch(function(err){"BAD_DOWNLOADED_FILE"===err.message?log("warn","Could not download file after ".concat(options.retry," tries removing the file")):log("warn","unknown file download error: "+err.message)});case 37:file=_context5.sent;case 38:if(attachFileToEntry(entry,file),sanitizeEntry(entry),!options.postProcess){_context5.next=43;break}return _context5.next=43,options.postProcess(entry);case 43:_context5.next=51;break;case 45:if(_context5.prev=45,_context5.t2=_context5.catch(29),413!==getErrorStatus(_context5.t2)){_context5.next=49;break}throw new Error(errors.DISK_QUOTA_EXCEEDED);case 49:log("warn",errors.SAVE_FILE_FAILED),log("warn",_context5.t2.message,"Error caught while trying to save the file ".concat(entry.fileurl?entry.fileurl:entry.filename));case 51:return _context5.abrupt("return",entry);case 52:case"end":return _context5.stop()}},_callee5,null,[[6,12],[17,23],[29,45]])}));return function(_x11,_x12){return _ref5.apply(this,arguments)}}(),saveFiles=function(){var _ref6=_asyncToGenerator(_regeneratorRuntime.mark(function _callee7(entries,fields){var options,saveOptions,canBeSaved,filesArray,savedFiles,savedEntries,_args7=arguments;return _regeneratorRuntime.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return options=_args7.length>2&&void 0!==_args7[2]?_args7[2]:{},entries&&0!==entries.length||log("warn","No file to download"),options.sourceAccount||log("warn","There is no sourceAccount given to saveFiles"),options.sourceAccountIdentifier||log("warn","There is no sourceAccountIdentifier given to saveFIles"),"object"!=typeof fields&&(log("debug","Deprecation warning, saveFiles 2nd argument should not be a string"),fields={folderPath:fields}),saveOptions={folderPath:fields.folderPath,timeout:options.timeout||DEFAULT_TIMEOUT,concurrency:options.concurrency||1,retry:options.retry||1,postProcess:options.postProcess,postProcessFile:options.postProcessFile,contentType:options.contentType,requestInstance:options.requestInstance,shouldReplaceFile:options.shouldReplaceFile,validateFile:options.validateFile||DEFAULT_VALIDATE_FILE,sourceAccountOptions:{sourceAccount:options.sourceAccount,sourceAccountIdentifier:options.sourceAccountIdentifier}},options.validateFileContent&&(!0===options.validateFileContent?saveOptions.validateFileContent=DEFAULT_VALIDATE_FILECONTENT:"function"==typeof options.validateFileContent&&(saveOptions.validateFileContent=options.validateFileContent)),canBeSaved=function(entry){return entry.fileurl||entry.requestOptions||entry.filestream},filesArray=void 0,savedFiles=0,savedEntries=[],_context7.prev=11,_context7.next=14,bluebird.map(entries,function(){var _ref7=_asyncToGenerator(_regeneratorRuntime.mark(function _callee6(entry){var fileFound;return _regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:if(["fileurl","filename","shouldReplaceName","requestOptions"].forEach(function(key){entry[key]&&(entry[key]=getValOrFnResult(entry[key],entry,options))}),!entry.shouldReplaceName){_context6.next=16;break}if(void 0!==filesArray){_context6.next=8;break}return log("debug","initialize files list for renamming"),_context6.next=7,getFiles(fields.folderPath);case 7:filesArray=_context6.sent;case 8:if(!(fileFound=filesArray.find(function(f){return f.name===entry.shouldReplaceName}))){_context6.next=15;break}return _context6.next=12,renameFile(fileFound,entry);case 12:return _context6.abrupt("return");case 15:delete entry.shouldReplaceName;case 16:if(!canBeSaved(entry)){_context6.next=21;break}return _context6.next=19,saveEntry(entry,saveOptions);case 19:(entry=_context6.sent)&&entry._cozy_file_to_create&&(savedFiles++,delete entry._cozy_file_to_create);case 21:savedEntries.push(entry);case 22:case"end":return _context6.stop()}},_callee6)}));return function(_x15){return _ref7.apply(this,arguments)}}(),{concurrency:saveOptions.concurrency});case 14:_context7.next=23;break;case 16:if(_context7.prev=16,_context7.t0=_context7.catch(11),"TIMEOUT"===_context7.t0.message){_context7.next=22;break}throw _context7.t0;case 22:log("warn","saveFile timeout: still ".concat(entries.length-savedEntries.length," / ").concat(entries.length," to download"));case 23:return log("info","saveFiles created ".concat(savedFiles," files for ").concat(savedEntries?savedEntries.length:"n"," entries")),_context7.abrupt("return",savedEntries);case 25:case"end":return _context7.stop()}},_callee7,null,[[11,16]])}));return function(_x13,_x14){return _ref6.apply(this,arguments)}}();function getFileName(entry){var filename;if(entry.filename)filename=entry.filename;else{if(entry.filestream)throw log("debug",omit(entry,"filestream")),logFileStream(entry.filestream),new Error("Missing filename property");var parsed=__webpack_require__(20).parse(entry.fileurl);filename=path.basename(parsed.pathname)}return function(filename){return filename.replace(/^\.+$/,"").replace(/[\/?<>\\:*|":]/g,"")}(filename)}function logFileStream(fileStream){fileStream&&(fileStream&&fileStream.constructor&&fileStream.constructor.name?log("info","The fileStream attribute is an instance of ".concat(fileStream.constructor.name)):log("info","The fileStream attribute is a ".concat(typeof fileStream)))}function getFiles(_x16){return _getFiles.apply(this,arguments)}function _getFiles(){return(_getFiles=_asyncToGenerator(_regeneratorRuntime.mark(function _callee8(folderPath){var dir,files;return _regeneratorRuntime.wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:return _context8.next=2,cozy.files.statByPath(folderPath);case 2:return dir=_context8.sent,_context8.next=5,queryAll("io.cozy.files",{dir_id:dir._id});case 5:return files=_context8.sent,_context8.abrupt("return",files);case 7:case"end":return _context8.stop()}},_callee8)}))).apply(this,arguments)}function renameFile(_x17,_x18){return _renameFile.apply(this,arguments)}function _renameFile(){return(_renameFile=_asyncToGenerator(_regeneratorRuntime.mark(function _callee9(file,entry){return _regeneratorRuntime.wrap(function(_context9){for(;;)switch(_context9.prev=_context9.next){case 0:if(entry.filename){_context9.next=2;break}throw new Error("shouldReplaceName needs a filename");case 2:return log("debug","Renaming ".concat(file.name," to ").concat(entry.filename)),_context9.next=5,cozy.files.updateAttributesById(file._id,{name:entry.filename});case 5:case"end":return _context9.stop()}},_callee9)}))).apply(this,arguments)}function getErrorStatus(err){try{return Number(JSON.parse(err.message).errors[0].status)}catch(e){return null}}function getValOrFnResult(val){if("function"==typeof val){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return val.apply(val,args)}return val}module.exports=saveFiles},function(module,exports,__webpack_require__){"use strict";var sortBy=__webpack_require__(74),addDays=__webpack_require__(257),subDays=__webpack_require__(489),differenceInDays=__webpack_require__(432),getOperationAmountFromBill=function(bill,options){return options&&options.credit?bill.groupAmount||bill.amount:-(bill.originalAmount||bill.amount)},getOperationDateFromBill=function(bill,options){var date=options&&options.credit?bill.date:bill.originalDate||bill.date;return date?new Date(date):new Date};module.exports={getOperationAmountFromBill:getOperationAmountFromBill,getOperationDateFromBill:getOperationDateFromBill,getIdentifiers:function(options){return options.identifiers},getDateRangeFromBill:function(bill,options){var date=getOperationDateFromBill(bill,options);return{minDate:subDays(date,options.pastWindow),maxDate:addDays(date,options.futureWindow)}},getAmountRangeFromBill:function(bill,options){var amount=getOperationAmountFromBill(bill,options);return{minAmount:amount-options.minAmountDelta,maxAmount:amount+options.maxAmountDelta}},getTotalReimbursements:function(operation){return operation.reimbursements?operation.reimbursements.reduce(function(s,r){return s+r.amount},0):0},sortedOperations:function(bill,operations){return sortBy(operations,function(bill){var opDate=getOperationDateFromBill(bill),opAmount=getOperationAmountFromBill(bill);return function(operation){return.7*Math.abs(differenceInDays(opDate,operation.date))+(1-.7)*Math.abs(opAmount-operation.amount)}}(bill))}}},function(module,exports,__webpack_require__){var parse=__webpack_require__(35);module.exports=function(dirtyDateLeft,dirtyDateRight){var timeLeft=parse(dirtyDateLeft).getTime(),timeRight=parse(dirtyDateRight).getTime();return timeLeft<timeRight?-1:timeLeft>timeRight?1:0}},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},bluebird=__webpack_require__(277),log=__webpack_require__(58).namespace("updateOrCreate"),cozy=__webpack_require__(149),get=__webpack_require__(11),getCozyMetadata=__webpack_require__(619).getCozyMetadata;module.exports=function(){var entries=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],doctype=arguments.length>1?arguments[1]:void 0,matchingAttributes=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return cozy.data.findAll(doctype).then(function(existings){return bluebird.mapSeries(entries,function(entry){var metaEntry=_extends({cozyMetadata:getCozyMetadata(_extends({},entry.cozyMetadata,{sourceAccount:options.sourceAccount,sourceAccountIdentifier:options.sourceAccountIdentifier}))},entry),toUpdate=existings.find(function(doc){return matchingAttributes.reduce(function(isMatching,matchingAttribute){return isMatching&&get(doc,matchingAttribute)===get(metaEntry,matchingAttribute)},!0)});return toUpdate?(log("debug","updating"),toUpdate.cozyMetadata&&(metaEntry.cozyMetadata.createdAt=toUpdate.cozyMetadata.createdAt),cozy.data.updateAttributes(doctype,toUpdate._id,metaEntry)):(log("debug","creating"),cozy.data.create(doctype,metaEntry))})})}},function(module,exports,__webpack_require__){"use strict";function serializer(replacer,cycleReplacer){var stack=[],keys=[];return null==cycleReplacer&&(cycleReplacer=function(key,value){return stack[0]===value?"[Circular ~]":"[Circular ~."+keys.slice(0,stack.indexOf(value)).join(".")+"]"}),function(key,value){if(stack.length>0){var thisPos=stack.indexOf(this);~thisPos?stack.splice(thisPos+1):stack.push(this),~thisPos?keys.splice(thisPos,1/0,key):keys.push(key),~stack.indexOf(value)&&(value=cycleReplacer.call(this,key,value))}else stack.push(value);return null==replacer?value instanceof Error?function(value){var err={stack:value.stack,message:value.message,name:value.name};for(var i in value)Object.prototype.hasOwnProperty.call(value,i)&&(err[i]=value[i]);return err}(value):value:replacer.call(this,key,value)}}(module.exports=function(obj,replacer,spaces,cycleReplacer){return JSON.stringify(obj,serializer(replacer,cycleReplacer),spaces)}).getSerialize=serializer},function(module,exports,__webpack_require__){"use strict";var events=__webpack_require__(43),util=__webpack_require__(8),timeoutReq=__webpack_require__(1400),http=__webpack_require__(65),https=__webpack_require__(95),agentOptions={keepAlive:!0,maxSockets:100},httpAgent=new http.Agent(agentOptions),httpsAgent=new https.Agent(agentOptions);function Transport(){}function HTTPTransport(options){this.defaultPort=80,this.transport=http,this.options=options||{},this.agent=httpAgent}function HTTPSTransport(options){this.defaultPort=443,this.transport=https,this.options=options||{},this.agent=httpsAgent}util.inherits(Transport,events.EventEmitter),util.inherits(HTTPTransport,Transport),HTTPTransport.prototype.send=function(client,message,headers,eventId,cb){var options={hostname:client.dsn.host,path:client.dsn.path+"api/"+client.dsn.project_id+"/store/",headers:headers,method:"POST",port:client.dsn.port||this.defaultPort,ca:client.ca,agent:this.agent};for(var key in this.options)this.options.hasOwnProperty(key)&&(options[key]=this.options[key]);var _name=this.agent.getName({host:client.dsn.host,port:client.dsn.port}),_requests=this.agent.requests[_name];if(_requests&&Object.keys(_requests).length>client.maxReqQueueCount)client.emit("error",new Error("client req queue is full.."));else{var req=this.transport.request(options,function(res){if(res.setEncoding("utf8"),res.statusCode>=200&&res.statusCode<300)client.emit("logged",eventId),cb&&cb(null,eventId);else{var reason=res.headers["x-sentry-error"],e=new Error("HTTP Error ("+res.statusCode+"): "+reason);e.response=res,e.statusCode=res.statusCode,e.reason=reason,e.sendMessage=message,e.requestHeaders=headers,e.eventId=eventId,client.emit("error",e),cb&&cb(e)}var noop=function(){};res.on("data",noop),res.on("end",noop)});timeoutReq(req,1e3*client.sendTimeout);var cbFired=!1;req.on("error",function(e){client.emit("error",e),cbFired||(cb&&cb(e),cbFired=!0)}),req.end(message)}},util.inherits(HTTPSTransport,HTTPTransport),module.exports.http=new HTTPTransport,module.exports.https=new HTTPSTransport,module.exports.Transport=Transport,module.exports.HTTPTransport=HTTPTransport,module.exports.HTTPSTransport=HTTPSTransport},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(405),defaultOnConfig={console:!0,http:!0},defaultConfig={console:!1,http:!1,pg:!1};module.exports={instrument:function(Raven,config){if(!1!==config){config=!0===config?defaultOnConfig:utils.extend({},defaultConfig,config),Raven.instrumentedOriginals=[],Raven.instrumentedModules=[];var Module=__webpack_require__(1407);utils.fill(Module,"_load",function(origLoad){return function(moduleId,parent,isMain){var origModule=origLoad.apply(this,arguments);return config[moduleId]&&-1===Raven.instrumentedModules.indexOf(moduleId)?(Raven.instrumentedModules.push(moduleId),__webpack_require__(1408)("./"+moduleId)(Raven,origModule,Raven.instrumentedOriginals)):origModule}},Raven.instrumentedOriginals),config.console&&__webpack_require__(1409),config.http&&__webpack_require__(65)}},deinstrument:function(Raven){if(Raven.instrumentedOriginals)for(var original;original=Raven.instrumentedOriginals.shift();){var obj=original[0],name=original[1],orig=original[2];obj[name]=orig}}}},function(module,exports,__webpack_require__){"use strict";var _slicedToArray=__webpack_require__(75),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}var errors=__webpack_require__(476),rerrors=__webpack_require__(1413),log=__webpack_require__(58).namespace("cozy-konnector-libs"),requestFactory=__webpack_require__(500),cheerio=__webpack_require__(823);function defaultValidate(statusCode){return 200===statusCode}function getStrategy(parseStrategy){switch(parseStrategy){case"cheerio":return cheerio.load;case"json":return JSON.parse;case"raw":return function(body){return body};default:var err="signin: parsing strategy `".concat(parseStrategy,"` unknown. ");throw log("error",err+"Use one of `raw`, `cheerio` or `json`"),new Error("UNKNOWN_PARSING_STRATEGY")}}function parseForm($,formSelector,currentUrl){var err,form=$(formSelector).first(),action=form.attr("action")||currentUrl;if(!form.is("form"))throw log("error","element matching `"+formSelector+"` is not a `form`"),new Error("INVALID_FORM");var inputs={},arr=form.serializeArray(),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=arr[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var input=_step.value;inputs[input.name]=input.value}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return[action,inputs]}function submitForm(rq,uri,inputs,parseBody,referer){return rq({uri:uri,method:"POST",form:_extends({},inputs),transform:function(body,response){return[response.statusCode,parseBody(body),response]},headers:{Referer:referer}}).catch(handleRequestErrors)}function handleRequestErrors(err){if(err instanceof rerrors.RequestError||err instanceof rerrors.StatusCodeError)throw log("error",err),new Error(errors.VENDOR_DOWN);return Promise.reject(err)}module.exports=function(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},url=_ref.url,formSelector=_ref.formSelector,_ref$formData=_ref.formData,formData=void 0===_ref$formData?{}:_ref$formData,_ref$parse=_ref.parse,parse=void 0===_ref$parse?"cheerio":_ref$parse,_ref$validate=_ref.validate,validate=void 0===_ref$validate?defaultValidate:_ref$validate,requestOpts=_objectWithoutProperties(_ref,["url","formSelector","formData","parse","validate"]);if(void 0===url)throw new Error("signin: `url` must be defined");if(void 0===formSelector)throw new Error("signin: `formSelector` must be defined");var rq=requestOpts.requestInstance||requestFactory(_extends({jar:!0,json:!1},requestOpts)),parseBody=getStrategy(parse);return rq({uri:url,transform:function(body){return cheerio.load(body)}}).catch(handleRequestErrors).then(function($){var data="function"==typeof formData?formData($):formData,_parseForm=parseForm($,formSelector,url),_parseForm2=_slicedToArray(_parseForm,2),action=_parseForm2[0],inputs=_parseForm2[1];for(var name in data)inputs[name]=data[name];return submitForm(rq,__webpack_require__(20).resolve(url,action),inputs,parseBody,url)}).then(function(_ref2){var _ref3=_slicedToArray(_ref2,3),statusCode=_ref3[0],parsedBody=_ref3[1],fullResponse=_ref3[2];if(validate(statusCode,parsedBody,fullResponse))return Promise.resolve(parsedBody);throw new Error(errors.LOGIN_FAILED)})}},function(module,exports,__webpack_require__){const Objects=[];exports.parse=function(xref,lexer){Objects.length||Objects.push.apply(Objects,[__webpack_require__(1429),__webpack_require__(1430),__webpack_require__(296),__webpack_require__(408),__webpack_require__(295),__webpack_require__(407),__webpack_require__(896),__webpack_require__(1431)]);for(let i=0;i<Objects.length;++i){const value=Objects[i].parse(xref,lexer,!0);if(void 0!==value)return value}lexer._error("Invalid value")}},function(module,exports,__webpack_require__){"use strict";const util=__webpack_require__(150);class PDFReference{constructor(obj){Object.defineProperty(this,"object",{enumerable:!0,get:()=>{if(obj)return"function"==typeof obj&&(obj=obj()),obj}})}toString(){return this.object.id+" "+this.object.rev+" R"}static parse(xref,lexer,trial){const before=lexer.pos,id=lexer.readNumber(trial);if(void 0===id&&!trial)throw new Error("Invalid indirect");lexer.skipSpace(1,trial);const generation=lexer.readNumber(trial);if(void 0===generation&&!trial)throw new Error("Invalid indirect");if(lexer.skipSpace(1,trial),"R"!==lexer.getString(1)){if(trial)return void(lexer.pos=before);throw new Error("Invalid indirect")}lexer.shift(1),lexer.state.references||(lexer.state.references=new Map);const key=`${id} ${generation}`;if(lexer.state.references.has(key))return lexer.state.references.get(key);const ref=new PDFReference(function(xref,lexer,id){const PDFObject=__webpack_require__(409),Lexer=__webpack_require__(1166),obj=xref.get(id);if(obj)return obj;const offset=xref.getOffset(id);if(null===offset){const entry=xref.objects[id];if(entry.compressed){if(!entry.obj){lexer.pos=xref.getOffset(entry.id);const obj=PDFObject.parse(xref,lexer),type=obj.properties.get("Type");if(type&&"ObjStm"!==type.name)throw new Error("Expected compressed object stream");const src=util.inflate(obj),innerLexer=new Lexer(src,lexer);obj.lexer=innerLexer,obj.innerObjects=[];const n=obj.properties.get("N");for(let i=0;i<n;++i){const id=innerLexer.readNumber(!1);innerLexer.skipSpace(1,!1);const offset=innerLexer.readNumber(!1);innerLexer.skipWhitespace(1,!0),obj.innerObjects.push({id:id,offset:offset,obj:null})}entry.obj=obj}const inner=entry.obj.innerObjects[entry.ix];if(!inner.obj){const innerLexer=entry.obj.lexer;innerLexer.pos=entry.obj.properties.get("First")+inner.offset,inner.obj=PDFObject.parseInner(xref,innerLexer)}return inner.obj}throw new Error("Expected compressed object stream")}return lexer.pos=offset,PDFObject.parse(xref,lexer)}.bind(null,xref,lexer.outer,id));return lexer.state.references.set(key,ref),ref}}module.exports=PDFReference},function(module,exports,__webpack_require__){"use strict";const PDFObject=__webpack_require__(409);module.exports=class{constructor(object){object||(object=new PDFObject),object.content=this,this.object=object,this.content=""}writeLine(str){this.content+=str+"\n",this.object.prop("Length",this.content.length-1)}toReference(){return this.object.toReference()}toString(){let content=this.content;return content instanceof Uint8Array&&(content=function(u8a){const c=[];for(let i=0;i<u8a.length;i+=32768)c.push(String.fromCharCode.apply(null,u8a.subarray(i,i+32768)));return c.join("")}(content)+"\n"),"stream\n"+content+"endstream"}}},function(module,exports,__webpack_require__){"use strict";const Fragment=__webpack_require__(406),LineBreaker=__webpack_require__(1436),unorm=__webpack_require__(1440),ops=__webpack_require__(272),util=__webpack_require__(150),Font=__webpack_require__(627),PDF=__webpack_require__(151),UNDERLINE_FLAG=1,STRIKETHROUGH_FLAG=2;function calcSpaceWidth(spacing,font,fontSize){const scaleFactor=1e3/fontSize;return-(spacing+font.stringWidth(" ",fontSize))*scaleFactor}class TextChunk{constructor(values){this.wordWidth=values.wordWidth,this.spaceWidth=values.spaceWidth,this.word=values.word,this.font=values.font,this.fontSize=values.fontSize,this.color=values.color,this.decoration=values.decoration,this.link=values.link,this.destination=values.destination,this.goTo=values.goTo}}class RangeStyle{constructor(doc,x,y,height,spacing){this.doc=doc,this.from=x,this.width=0,this.y=y,this.height=height,this.spacing=spacing,this.isActive=!1,this.lastSpaceWidth=0}applyStyle(textChunk,isLast,fontStyleChanged){const shouldApply=this._active(textChunk);let chunk="";return shouldApply&&!fontStyleChanged&&this.isActive&&(this.width+=this.lastSpaceWidth),!this.isActive||shouldApply&&!fontStyleChanged||(chunk+=this._applyStyle(textChunk),this.from+=this.width+this.lastSpaceWidth,this.width=0),(!this.isActive||shouldApply||this.isActive&&fontStyleChanged)&&this._start(textChunk),this.isActive=shouldApply,this.lastSpaceWidth=this.spacing||textChunk.spaceWidth,this.isActive?this.width+=textChunk.wordWidth:this.from+=textChunk.wordWidth+this.lastSpaceWidth,this.isActive&&isLast&&(chunk+=this._applyStyle(textChunk)),chunk}_active(textChunk){}_start(textChunk){}_applyStyle(textChunk){}}class UnderlineRangeStyle extends RangeStyle{constructor(doc,x,y,height,spacing){super(doc,x,y,height,spacing),this.underlinePosition=0,this.underlineThickness=0,this.color=null}_active(textChunk){return textChunk.decoration&UNDERLINE_FLAG}_start(textChunk){this.underlinePosition=textChunk.font.underlinePosition(textChunk.fontSize),this.underlineThickness=textChunk.font.underlineThickness(textChunk.fontSize),this.color=textChunk.color}_applyStyle(textChunk){const y=this.y+this.underlinePosition;return ops.w(this.underlineThickness)+ops.SC(...this.color)+ops.S(this.from,y,"m",this.from+this.width,y,"l")}}class StrikethroughRangeStyle extends RangeStyle{constructor(doc,x,y,height,spacing){super(doc,x,y,height,spacing),this.ascent=0,this.lineThickness=0,this.color=null}_active(textChunk){return textChunk.decoration&STRIKETHROUGH_FLAG}_start(textChunk){this.ascent=textChunk.font.ascent(textChunk.fontSize),this.lineThickness=textChunk.font.underlineThickness(textChunk.fontSize),this.color=textChunk.color}_applyStyle(textChunk){const y=this.y+.35*this.ascent;return ops.w(this.lineThickness)+ops.SC(...this.color)+ops.S(this.from,y,"m",this.from+this.width,y,"l")}}class LinkRangeStyle extends RangeStyle{constructor(doc,x,y,height,spacing){super(doc,x,y,height,spacing),this.link=null}applyStyle(textChunk,isLast,fontStyleChanged){return this.link&&textChunk.link!==this.link&&(fontStyleChanged=!0),RangeStyle.prototype.applyStyle.call(this,textChunk,isLast,fontStyleChanged)}_active(textChunk){return void 0!==textChunk.link}_start(textChunk){this.link=textChunk.link}_applyStyle(textChunk){return this.doc._annotations.push(new PDF.Dictionary({Type:"Annot",Subtype:"Link",Rect:new PDF.Array([this.from,this.y,this.from+this.width,this.y+this.height]),Border:new PDF.Array([0,0,0]),A:new PDF.Dictionary({Type:"Action",S:"URI",URI:new PDF.String(this.link)})})),""}}class DestinationRangeStyle extends RangeStyle{constructor(doc,x,y,height,spacing){super(doc,x,y,height,spacing),this.destination=null}applyStyle(textChunk,isLast,fontStyleChanged){return this.destination&&textChunk.destination!==this.destination&&(fontStyleChanged=!0),RangeStyle.prototype.applyStyle.call(this,textChunk,isLast,fontStyleChanged)}_active(textChunk){return void 0!==textChunk.destination}_start(textChunk){this.destination=textChunk.destination}_applyStyle(textChunk){return this.doc._destinations.set(this.destination,new PDF.Array([this.doc._currentPage.toReference(),new PDF.Name("XYZ"),this.from,this.y,null])),""}}class GoToRangeStyle extends RangeStyle{constructor(doc,x,y,height,spacing){super(doc,x,y,height,spacing),this.goTo=null}applyStyle(textChunk,isLast,fontStyleChanged){return this.goTo&&textChunk.goTo!==this.goTo&&(fontStyleChanged=!0),RangeStyle.prototype.applyStyle.call(this,textChunk,isLast,fontStyleChanged)}_active(textChunk){return void 0!==textChunk.goTo}_start(textChunk){this.goTo=textChunk.goTo}_applyStyle(textChunk){return this.doc._annotations.push(new PDF.Dictionary({Type:"Annot",Subtype:"Link",Rect:new PDF.Array([this.from,this.y,this.from+this.width,this.y+this.height]),Border:new PDF.Array([0,0,0]),A:new PDF.Dictionary({S:"GoTo",D:new PDF.String(this.goTo)})})),""}}(module.exports=class extends Fragment{constructor(doc,parent,opts){super(doc,parent),this._line=[],this._spaceLeft=0,this._parts=0,this._isFirstLine=!0,this._isNewLine=!0,this._previousFont=null,this._previousFontSize=null,this._previousColor=null,this._previousHeight=0,this._previousDescent=0,this.defaultFont=opts.font||this._doc.defaultFont,this.defaultFontSize=opts.fontSize||this._doc.defaultFontSize,this.defaultColor=opts.color&&util.colorToRgb(opts.color)||this._doc.defaultColor,this.defaultLineHeight=opts.lineHeight||this._doc.defaultLineHeight,this.defaultDecoration=(opts.underline?UNDERLINE_FLAG:0)|(opts.strikethrough?STRIKETHROUGH_FLAG:0),this.alignment=opts.alignment||opts.textAlign||"left",this.link=opts.link,this.destination=opts.destination,this.goTo=opts.goTo}async _start(){this._doc._currentContent||await this._doc._startPage(),this._spaceLeft=this._cursor.width}async _end(){await this._doc._write(ops.ET())}async _render(text,opts){if(this._parts--,!Font.isFont(opts.font||this.defaultFont))throw new TypeError("invalid font: "+font);const font=this._doc._fontInstance(opts.font||this.defaultFont),fontSize=opts.fontSize||this.defaultFontSize,color=opts.color&&util.colorToRgb(opts.color)||this.defaultColor,lineHeight=opts.lineHeight||this.defaultLineHeight,link=opts.link||this.link,destination=opts.destination||this.destination,goTo=opts.goTo||this.goTo,decoration=this.defaultDecoration|(opts.underline?UNDERLINE_FLAG:0)|(opts.strikethrough?STRIKETHROUGH_FLAG:0);text=(text=String(text)).replace(/\r\n/g,"\n").replace(/\u2028|\u2029/g,"");const breaker=new LineBreaker(text);let bk,last=0;const isLastTextChunk=0===this._parts&&this._ended;let postponeLinebreak=!1,nextWord=null;for(;null!==nextWord||postponeLinebreak||(bk=breaker.nextBreak())||isLastTextChunk&&this._line.length>0;){let word=null;if(nextWord)word=nextWord,nextWord=null;else if(bk){let until=bk.position;const lastIsSpace=text[bk.position-1].match(/\s/);if(lastIsSpace&&until--,word=text.slice(last,until),bk.position!==text.length&&!lastIsSpace)continue;last=bk.position,word=unorm.nfc(word)}let wordWidth=0,offsetWidth=0,spaceWidth=0;word&&(offsetWidth=(wordWidth=font.stringWidth(word,fontSize)).width,spaceWidth=font.stringWidth(" ",fontSize).width,this._line.length>(this._isNewLine?0:1)&&(offsetWidth+=spaceWidth));const isLastWord=(!bk||bk.position===text.length)&&isLastTextChunk,notEnoughSpace=this._spaceLeft<offsetWidth;if(postponeLinebreak||bk&&bk.required||isLastWord||notEnoughSpace){if(0===this._line.length&&notEnoughSpace)for(let i=word.length-1;i>=0;--i){const w=font.stringWidth(word.slice(i),fontSize);if(this._spaceLeft>=offsetWidth-w.width){const subword=word.slice(0,i);this._line.push(new TextChunk({wordWidth:font.stringWidth(subword,fontSize),spaceWidth:spaceWidth,word:subword,font:font,fontSize:fontSize,color:color,decoration:decoration,link:link,destination:destination,goTo:goTo})),offsetWidth-=w.width,this._spaceLeft-=offsetWidth,nextWord=word.slice(i),word=null;break}}!postponeLinebreak&&word&&this._spaceLeft-offsetWidth>=0&&(this._line.push(new TextChunk({wordWidth:wordWidth,spaceWidth:spaceWidth,word:word,font:font,fontSize:fontSize,color:color,decoration:decoration,link:link,destination:destination,goTo:goTo})),this._spaceLeft-=offsetWidth,word=null);let left=this._cursor.x,height=0,descent=0;for(const w of this._line){const h=w.font.lineHeight(w.fontSize,!0);h>height&&(height=h);const d=-w.font.descent(w.fontSize);d>descent&&(descent=d)}if(descent*=lineHeight,0===(height*=lineHeight)&&(height=this._previousHeight,descent=this._previousDescent),!this._cursor.doesFit(height)){this._isFirstLine||await this._doc._write(ops.ET());const remainingText=bk?(word?word+" ":"")+text.substring(bk.position):"";this._pending.unshift(()=>(this._parts++,this._render(remainingText,opts))),await this._parent._pageBreak(1),this._isFirstLine=!0,this._isNewLine=!0,this._previousFont=null,this._previousFontSize=null,this._previousColor=null;break}this._cursor.y-=height;const freeSpace=this._spaceLeft;let spacing=0;switch(this.alignment){case"right":left+=freeSpace;break;case"center":left+=this._cursor.width/2-(this._cursor.width-freeSpace)/2;break;case"justify":if((isLastWord||bk&&bk.required)&&freeSpace/this._cursor.width>.2)break;this._line.length>1&&(spacing=freeSpace/(this._line.length-1))}let chunk="";if(this._isFirstLine)this._previousHeight=height,chunk+=ops.BT()+ops.Tm(1,0,0,1,left,this._cursor.y)+ops.TL(this._previousHeight);else{const lh=height+this._previousDescent;height>0&&lh!==this._previousHeight&&(this._previousHeight=lh,chunk+=ops.TL(lh)),left>this._cursor.x?chunk+=ops.Tm(1,0,0,1,left,this._cursor.y):chunk+=ops.Tstar()}height>0&&(this._previousDescent=descent);const out=[],rangeStyleArgs=[this._doc,left,this._cursor.y,height,spacing],underlineStyle=new UnderlineRangeStyle(...rangeStyleArgs),strikethroughStyle=new StrikethroughRangeStyle(...rangeStyleArgs),linkStyle=new LinkRangeStyle(...rangeStyleArgs),destinationStyle=new DestinationRangeStyle(...rangeStyleArgs),goToStyle=new GoToRangeStyle(...rangeStyleArgs),lastIx=this._line.length-1;for(let i=0;i<this._line.length;++i){const w=this._line[i],fontStyleChanged=w.font!==this._previousFont||w.fontSize!==this._previousFontSize,colorChanged=!util.rgbEqual(w.color,this._previousColor);if(chunk+=underlineStyle.applyStyle(w,i===lastIx,fontStyleChanged||colorChanged),chunk+=strikethroughStyle.applyStyle(w,i===lastIx,fontStyleChanged||colorChanged),chunk+=linkStyle.applyStyle(w,i===lastIx,fontStyleChanged||colorChanged),chunk+=destinationStyle.applyStyle(w,i===lastIx,fontStyleChanged||colorChanged),chunk+=goToStyle.applyStyle(w,i===lastIx,fontStyleChanged||colorChanged),fontStyleChanged||colorChanged){if(out.length>0&&(chunk+=ops.TJ(out)),fontStyleChanged){this._previousFont=w.font,this._previousFontSize=w.fontSize;const alias=this._doc._fontAlias(w.font);chunk+=ops.Tf(alias,w.fontSize)}colorChanged&&(this._previousColor=w.color,chunk+=ops.sc(...w.color)),out.length=0}const kerning=w.wordWidth.kerning;if(kerning.length>0){let pos=0;for(let i=0;i<kerning.length;++i){let subword=w.word.substring(pos,kerning[i].pos);out.push(w.font.encode(subword),kerning[i].offset),pos=kerning[i].pos}out.push(w.font.encode(w.word.substring(pos)))}else out.push(w.font.encode(w.word));i<this._line.length-1&&w.spaceWidth>0&&out.push(calcSpaceWidth(spacing,w.font,w.fontSize))}out.length>0&&(chunk+=ops.TJ(out)),await this._doc._write(chunk),this._cursor.y-=descent,this._spaceLeft=this._cursor.width,this._line.length=0,this._isFirstLine=!1,this._isNewLine=bk&&bk.required,postponeLinebreak=bk&&bk.required&&null!==word&&word.length>0}word&&(this._line.push(new TextChunk({wordWidth:wordWidth,spaceWidth:spaceWidth,word:word,font:font,fontSize:fontSize,color:color,decoration:decoration,link:link,destination:destination,goTo:goTo})),this._spaceLeft-=offsetWidth),bk=null}}add(text,opts){return this._begin(null),this._parts++,this._pending.push(()=>this._render(text,opts||{})),this}append(text,opts){return this._begin(null),this._parts++,this._pending.push(()=>{if(this._line.length>0){const w=this._line[this._line.length-1];this._spaceLeft+=w.spaceWidth,w.spaceWidth=0}return this._render(text,opts||{})}),this}br(){return this._begin(null),this._parts++,this._pending.push(()=>this._render("\n\n",{})),this}}).DestinationRangeStyle=DestinationRangeStyle},function(module,exports,__webpack_require__){"use strict";const Fragment=__webpack_require__(406),ops=(__webpack_require__(150),__webpack_require__(272)),PDF=__webpack_require__(151);module.exports=class extends Fragment{constructor(doc,parent){super(doc,parent),this._objects=[],this._pageNumbers=[],this._cursor=this._cursor.clone()}async _pageBreak(level){throw new Error("Header is to long (tried to execute a page break inside the header)")}async _start(){await this._doc._endPage(),await this._setup()}async _setup(){this._cursor.reset(),this._resources=new PDF.Object,this._doc._registerObject(this._resources),this._bbox=new PDF.Object,this._doc._registerObject(this._bbox),this.fonts=new PDF.Dictionary({}),this.xobjects=new PDF.Dictionary({}),this._doc._contentObjCreator=this._createObject.bind(this),await this._doc._startContentObject()}_createObject(){const xobj=new PDF.Object("XObject");return xobj.prop("Subtype","Form"),xobj.prop("FormType",1),xobj.prop("BBox",this._bbox.toReference()),xobj.prop("Resources",this._resources.toReference()),xobj}async _render(){if(0===this._pageNumbers.length)return;const Text=__webpack_require__(898);for(const instance of this._pageNumbers){let withPageCount=!1;if(instance.fn){const lhs=instance.fn(1,1),rhs=instance.fn(1,10);withPageCount=lhs.length!==rhs.length}if(withPageCount){const fonts=new PDF.Dictionary({}),font=this._doc._fontInstance(instance.opts.font||this._doc.defaultFont),fontAlias=this._doc._fontAlias(font);fonts.set(fontAlias,this._doc._fonts[fontAlias].o.toReference());const xobj=new PDF.Object("XObject");xobj.prop("Subtype","Form"),xobj.prop("FormType",1),xobj.prop("BBox",new PDF.Array([instance.x,instance.y,instance.x+instance.width,instance.y-instance.height])),xobj.prop("Resources",new PDF.Dictionary({ColorSpace:new PDF.Dictionary({CS1:new PDF.Array([new PDF.Name("ICCBased"),this._doc._colorSpace.toReference()])}),ProcSet:new PDF.Array([new PDF.Name("Text")]),Font:fonts})),this._doc._registerObject(xobj);const currentPage=this._doc._pages.length;this._doc._finalize.push(async()=>{await this._doc._startContentObject(xobj),this._cursor.y=instance.y,this._cursor.x=instance.x,this._cursor.width=instance.width,this._cursor.bottomOffset=-this._doc._cursor.bottomOffset;const pageCount=this._doc._pages.length,str=instance.fn?instance.fn(currentPage,pageCount):currentPage,txt=new Text(this._doc,this,instance.opts);txt._parts++,txt._ended=!0,await txt._start(),await txt._render(str,instance.opts),await txt._end(),await this._doc._endContentObject()});const alias=new PDF.Name(this._doc._aliases.next("X"));this._doc._currentContent._xobjects[alias]=xobj.toReference(),await this._doc._write(ops.Do(alias))}else{this._cursor.y=instance.y,this._cursor.x=instance.x,this._cursor.width=instance.width,this._cursor.bottomOffset=-this._doc._cursor.bottomOffset;const txt=new Text(this._doc,this,instance.opts);txt._parts++,txt._ended=!0,await txt._start(),await txt._render(String(this._doc._pages.length),instance.opts),await txt._end()}}}async _end(){this.height=this._doc._cursor.startY-this._doc._cursor.y,await this._doc._endContentObject();for(const content of this._doc._contents){for(const alias in content._fonts)this.fonts.add(alias,content._fonts[alias]);for(const alias in content._xobjects)this.xobjects.add(alias,content._xobjects[alias])}this._resources.content=new PDF.Dictionary({ColorSpace:new PDF.Dictionary({CS1:new PDF.Array([new PDF.Name("ICCBased"),this._doc._colorSpace.toReference()])}),ProcSet:new PDF.Array([new PDF.Name("PDF"),new PDF.Name("Text"),new PDF.Name("ImageB"),new PDF.Name("ImageC"),new PDF.Name("ImageI")]),Font:this.fonts,XObject:this.xobjects}),await this._doc._writeObject(this._resources),this._bbox.content=new PDF.Array([this._cursor.startX,this._cursor.startY,this._cursor.startX+this._doc._cursor.width,this._doc._cursor.y]),await this._doc._writeObject(this._bbox),this._objects=this._doc._contents.map(c=>c._object),this._doc._cursor.reset(),this._doc._currentContent=null,this._doc._contents.length=0,this._doc._contentObjCreator=null}pageNumber(fn,opts){"object"==typeof fn&&(opts=fn,fn=void 0),opts&&"object"==typeof opts||(opts={});const font=this._doc._fontInstance(opts.font||this._doc.defaultFont),fontSize=opts.fontSize||this._doc.defaultFontSize,lineHeight=opts.lineHeight||this._doc.defaultLineHeight,height=font.lineHeight(fontSize,!0)*lineHeight,descent=-font.descent(fontSize)*lineHeight;this._begin(null),this._pending.push(()=>(this._pageNumbers.push({y:this._cursor.y,x:this._cursor.x,width:this._cursor.width,height:height+descent,opts:opts,fn:fn}),this._cursor.y-=height+descent,Promise.resolve()))}}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(296),__webpack_require__(409),__webpack_require__(295),__webpack_require__(407);const Base=__webpack_require__(627),StringWidth=Base.StringWidth;module.exports=class extends Base{constructor(data){super(),this._data=data,this.lineGap=this._data.fontBBox[3]-this._data.fontBBox[1]-(this._data.ascender-this._data.descender),this.parent=this}instance(){return this}encode(str){let encoded="";for(let i=0,len=str.length;i<len;++i)switch(str[i]){case"\\":encoded+="\\\\";break;case"(":encoded+="\\(";break;case")":encoded+="\\)";break;default:encoded+=String.fromCharCode(this._charCodeFor(str[i]))}return"("+encoded+")"}_charCodeFor(c){return c in UNICODE_TO_WIN1252?UNICODE_TO_WIN1252[c]:c.charCodeAt(0)}stringWidth(str,size){const scale=size/1e3;let width=0;const kerning=[];for(let i=0,len=str.length;i<len;++i){const left=this._charCodeFor(str[i]),advanceWidth=this._data.widths[left];if(advanceWidth&&(width+=advanceWidth),void 0!==str[i+1]&&left in this._data.kerning){const right=this._charCodeFor(str[i+1]),offset=this._data.kerning[left][right];void 0!==offset&&(width+=offset,kerning.push({pos:i+1,offset:-offset}))}}return new StringWidth(width*scale,kerning)}lineHeight(size,includeGap){null==includeGap&&(includeGap=!1);includeGap&&this.lineGap;return(this._data.ascender-this._data.descender)*size/1e3}ascent(size){return this._data.ascender*size/1e3}descent(size){return this._data.descender*size/1e3}underlinePosition(size){return this._data.underlinePosition*size/1e3}underlineThickness(size){return this._data.underlineThickness*size/1e3}async write(doc,fontObj){fontObj.prop("Subtype","Type1"),fontObj.prop("BaseFont",this._data.fontName),fontObj.prop("Encoding","WinAnsiEncoding"),await doc._writeObject(fontObj)}};const UNICODE_TO_WIN1252={"":128,"":130,"":131,"":132,"":133,"":134,"":135,"":136,"":137,"":138,"":139,"":140,"":142,"":145,"":146,"":147,"":148,"":149,"":150,"":151,"":152,"":153,"":154,"":155,"":156,"":158,"":159}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){__webpack_require__(31);var superPropBase=__webpack_require__(1412);function _get(target,property,receiver){return"undefined"!=typeof Reflect&&Reflect.get?module.exports=_get=Reflect.get:module.exports=_get=function(target,property,receiver){var base=superPropBase(target,property);if(base){var desc=Object.getOwnPropertyDescriptor(base,property);return desc.get?desc.get.call(receiver):desc.value}},_get(target,property,receiver||target)}module.exports=_get},function(module,exports){var TINF_OK=0,TINF_DATA_ERROR=-3;function Tree(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function Data(source,dest){this.source=source,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=dest,this.destLen=0,this.ltree=new Tree,this.dtree=new Tree}var sltree=new Tree,sdtree=new Tree,length_bits=new Uint8Array(30),length_base=new Uint16Array(30),dist_bits=new Uint8Array(30),dist_base=new Uint16Array(30),clcidx=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),code_tree=new Tree,lengths=new Uint8Array(320);function tinf_build_bits_base(bits,base,delta,first){var i,sum;for(i=0;i<delta;++i)bits[i]=0;for(i=0;i<30-delta;++i)bits[i+delta]=i/delta|0;for(sum=first,i=0;i<30;++i)base[i]=sum,sum+=1<<bits[i]}var offs=new Uint16Array(16);function tinf_build_tree(t,lengths,off,num){var i,sum;for(i=0;i<16;++i)t.table[i]=0;for(i=0;i<num;++i)t.table[lengths[off+i]]++;for(t.table[0]=0,sum=0,i=0;i<16;++i)offs[i]=sum,sum+=t.table[i];for(i=0;i<num;++i)lengths[off+i]&&(t.trans[offs[lengths[off+i]]++]=i)}function tinf_getbit(d){d.bitcount--||(d.tag=d.source[d.sourceIndex++],d.bitcount=7);var bit=1&d.tag;return d.tag>>>=1,bit}function tinf_read_bits(d,num,base){if(!num)return base;for(;d.bitcount<24;)d.tag|=d.source[d.sourceIndex++]<<d.bitcount,d.bitcount+=8;var val=d.tag&65535>>>16-num;return d.tag>>>=num,d.bitcount-=num,val+base}function tinf_decode_symbol(d,t){for(;d.bitcount<24;)d.tag|=d.source[d.sourceIndex++]<<d.bitcount,d.bitcount+=8;var sum=0,cur=0,len=0,tag=d.tag;do{cur=2*cur+(1&tag),tag>>>=1,++len,sum+=t.table[len],cur-=t.table[len]}while(cur>=0);return d.tag=tag,d.bitcount-=len,t.trans[sum+cur]}function tinf_decode_trees(d,lt,dt){var hlit,hdist,hclen,i,num,length;for(hlit=tinf_read_bits(d,5,257),hdist=tinf_read_bits(d,5,1),hclen=tinf_read_bits(d,4,4),i=0;i<19;++i)lengths[i]=0;for(i=0;i<hclen;++i){var clen=tinf_read_bits(d,3,0);lengths[clcidx[i]]=clen}for(tinf_build_tree(code_tree,lengths,0,19),num=0;num<hlit+hdist;){var sym=tinf_decode_symbol(d,code_tree);switch(sym){case 16:var prev=lengths[num-1];for(length=tinf_read_bits(d,2,3);length;--length)lengths[num++]=prev;break;case 17:for(length=tinf_read_bits(d,3,3);length;--length)lengths[num++]=0;break;case 18:for(length=tinf_read_bits(d,7,11);length;--length)lengths[num++]=0;break;default:lengths[num++]=sym}}tinf_build_tree(lt,lengths,0,hlit),tinf_build_tree(dt,lengths,hlit,hdist)}function tinf_inflate_block_data(d,lt,dt){for(;;){var length,dist,offs,i,sym=tinf_decode_symbol(d,lt);if(256===sym)return TINF_OK;if(sym<256)d.dest[d.destLen++]=sym;else for(length=tinf_read_bits(d,length_bits[sym-=257],length_base[sym]),dist=tinf_decode_symbol(d,dt),i=offs=d.destLen-tinf_read_bits(d,dist_bits[dist],dist_base[dist]);i<offs+length;++i)d.dest[d.destLen++]=d.dest[i]}}function tinf_inflate_uncompressed_block(d){for(var length,i;d.bitcount>8;)d.sourceIndex--,d.bitcount-=8;if((length=256*(length=d.source[d.sourceIndex+1])+d.source[d.sourceIndex])!==(65535&~(256*d.source[d.sourceIndex+3]+d.source[d.sourceIndex+2])))return TINF_DATA_ERROR;for(d.sourceIndex+=4,i=length;i;--i)d.dest[d.destLen++]=d.source[d.sourceIndex++];return d.bitcount=0,TINF_OK}!function(lt,dt){var i;for(i=0;i<7;++i)lt.table[i]=0;for(lt.table[7]=24,lt.table[8]=152,lt.table[9]=112,i=0;i<24;++i)lt.trans[i]=256+i;for(i=0;i<144;++i)lt.trans[24+i]=i;for(i=0;i<8;++i)lt.trans[168+i]=280+i;for(i=0;i<112;++i)lt.trans[176+i]=144+i;for(i=0;i<5;++i)dt.table[i]=0;for(dt.table[5]=32,i=0;i<32;++i)dt.trans[i]=i}(sltree,sdtree),tinf_build_bits_base(length_bits,length_base,4,3),tinf_build_bits_base(dist_bits,dist_base,2,1),length_bits[28]=0,length_base[28]=258,module.exports=function(source,dest){var bfinal,res,d=new Data(source,dest);do{switch(bfinal=tinf_getbit(d),tinf_read_bits(d,2,0)){case 0:res=tinf_inflate_uncompressed_block(d);break;case 1:res=tinf_inflate_block_data(d,sltree,sdtree);break;case 2:tinf_decode_trees(d,d.ltree,d.dtree),res=tinf_inflate_block_data(d,d.ltree,d.dtree);break;default:res=TINF_DATA_ERROR}if(res!==TINF_OK)throw new Error("Data error")}while(!bfinal);return d.destLen<d.dest.length?"function"==typeof d.dest.slice?d.dest.slice(0,d.destLen):d.dest.subarray(0,d.destLen):d.dest}},,function(module,exports,__webpack_require__){"use strict";function pop(obj,stack,metaStack){var lastMetaElement=metaStack[metaStack.length-1];obj===lastMetaElement.element&&(metaStack.pop(),lastMetaElement=metaStack[metaStack.length-1]);var element=lastMetaElement.element,lastElementIndex=lastMetaElement.index;if(Array.isArray(element))element.push(obj);else if(lastElementIndex===stack.length-2){element[stack.pop()]=obj}else stack.push(obj)}exports.stringify=function(input){var queue=[];queue.push({obj:input});for(var next,obj,val,i,arrayPrefix,keys,k,key,value,objPrefix,res="";next=queue.pop();)if(obj=next.obj,res+=next.prefix||"",val=next.val||"")res+=val;else if("object"!=typeof obj)res+=void 0===obj?null:JSON.stringify(obj);else if(null===obj)res+="null";else if(Array.isArray(obj)){for(queue.push({val:"]"}),i=obj.length-1;i>=0;i--)arrayPrefix=0===i?"":",",queue.push({obj:obj[i],prefix:arrayPrefix});queue.push({val:"["})}else{for(k in keys=[],obj)obj.hasOwnProperty(k)&&keys.push(k);for(queue.push({val:"}"}),i=keys.length-1;i>=0;i--)value=obj[key=keys[i]],objPrefix=i>0?",":"",objPrefix+=JSON.stringify(key)+":",queue.push({obj:value,prefix:objPrefix});queue.push({val:"{"})}return res},exports.parse=function(str){for(var collationIndex,parsedNum,numChar,parsedString,lastCh,numConsecutiveSlashes,ch,arrayElement,objElement,stack=[],metaStack=[],i=0;;)if("}"!==(collationIndex=str[i++])&&"]"!==collationIndex&&void 0!==collationIndex)switch(collationIndex){case" ":case"\t":case"\n":case":":case",":break;case"n":i+=3,pop(null,stack,metaStack);break;case"t":i+=3,pop(!0,stack,metaStack);break;case"f":i+=4,pop(!1,stack,metaStack);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(parsedNum="",i--;;){if(numChar=str[i++],!/[\d\.\-e\+]/.test(numChar)){i--;break}parsedNum+=numChar}pop(parseFloat(parsedNum),stack,metaStack);break;case'"':for(parsedString="",lastCh=void 0,numConsecutiveSlashes=0;'"'!==(ch=str[i++])||"\\"===lastCh&&numConsecutiveSlashes%2==1;)parsedString+=ch,"\\"===(lastCh=ch)?numConsecutiveSlashes++:numConsecutiveSlashes=0;pop(JSON.parse('"'+parsedString+'"'),stack,metaStack);break;case"[":arrayElement={element:[],index:stack.length},stack.push(arrayElement.element),metaStack.push(arrayElement);break;case"{":objElement={element:{},index:stack.length},stack.push(objElement.element),metaStack.push(objElement);break;default:throw new Error("unexpectedly reached end of input: "+collationIndex)}else{if(1===stack.length)return stack.pop();pop(stack.pop(),stack,metaStack)}}},function(module,exports,__webpack_require__){var isArrayBuffer=__webpack_require__(1315),isModern="function"==typeof Buffer.alloc&&"function"==typeof Buffer.allocUnsafe&&"function"==typeof Buffer.from;module.exports=function(value,encodingOrOffset,length){if("number"==typeof value)throw new TypeError('"value" argument must not be a number');return isArrayBuffer(value)?function(obj,byteOffset,length){byteOffset>>>=0;var maxLength=obj.byteLength-byteOffset;if(maxLength<0)throw new RangeError("'offset' is out of bounds");if(void 0===length)length=maxLength;else if((length>>>=0)>maxLength)throw new RangeError("'length' is out of bounds");return isModern?Buffer.from(obj.slice(byteOffset,byteOffset+length)):new Buffer(new Uint8Array(obj.slice(byteOffset,byteOffset+length)))}(value,encodingOrOffset,length):"string"==typeof value?function(string,encoding){if("string"==typeof encoding&&""!==encoding||(encoding="utf8"),!Buffer.isEncoding(encoding))throw new TypeError('"encoding" must be a valid string encoding');return isModern?Buffer.from(string,encoding):new Buffer(string,encoding)}(value,encodingOrOffset):isModern?Buffer.from(value):new Buffer(value)}},function(module,exports,__webpack_require__){"use strict";var extend=__webpack_require__(436),cookies=__webpack_require__(793),paramsHaveRequestBody=__webpack_require__(439).paramsHaveRequestBody;function initParams(uri,options,callback){"function"==typeof options&&(callback=options);var params={};return"object"==typeof options?extend(params,options,{uri:uri}):extend(params,"string"==typeof uri?{uri:uri}:uri),params.callback=callback||params.callback,params}function request(uri,options,callback){if(void 0===uri)throw new Error("undefined is not a valid uri or options object.");var params=initParams(uri,options,callback);if("HEAD"===params.method&&paramsHaveRequestBody(params))throw new Error("HTTP HEAD requests MUST NOT include a request body.");return new request.Request(params)}function verbFunc(verb){var method=verb.toUpperCase();return function(uri,options,callback){var params=initParams(uri,options,callback);return params.method=method,request(params,params.callback)}}function wrapRequestMethod(method,options,requester,verb){return function(uri,opts,callback){var params=initParams(uri,opts,callback),target={};return extend(!0,target,options,params),target.pool=params.pool||options.pool,verb&&(target.method=verb.toUpperCase()),"function"==typeof requester&&(method=requester),method(target,target.callback)}}request.get=verbFunc("get"),request.head=verbFunc("head"),request.options=verbFunc("options"),request.post=verbFunc("post"),request.put=verbFunc("put"),request.patch=verbFunc("patch"),request.del=verbFunc("delete"),request.delete=verbFunc("delete"),request.jar=function(store){return cookies.jar(store)},request.cookie=function(str){return cookies.parse(str)},request.defaults=function(options,requester){var self=this;"function"==typeof(options=options||{})&&(requester=options,options={});var defaults=wrapRequestMethod(self,options,requester);return["get","head","post","put","patch","del","delete"].forEach(function(verb){defaults[verb]=wrapRequestMethod(self[verb],options,requester,verb)}),defaults.cookie=wrapRequestMethod(self.cookie,options,requester),defaults.jar=self.jar,defaults.defaults=self.defaults,defaults},request.forever=function(agentOptions,optionsArg){var options={};return optionsArg&&extend(options,optionsArg),agentOptions&&(options.agentOptions=agentOptions),options.forever=!0,request.defaults(options)},module.exports=request,request.Request=__webpack_require__(957),request.initParams=initParams,Object.defineProperty(request,"debug",{enumerable:!0,get:function(){return request.Request.debug},set:function(debug){request.Request.debug=debug}})},function(module,exports,__webpack_require__){var range=__webpack_require__(1134)();module.exports=range},function(module,exports,__webpack_require__){var buildDistanceInWordsLocale=__webpack_require__(1142),buildFormatLocale=__webpack_require__(1143);module.exports={distanceInWords:buildDistanceInWordsLocale(),format:buildFormatLocale()}},function(module,exports){var commonFormatterKeys=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];module.exports=function(formatters){var formatterKeys=[];for(var key in formatters)formatters.hasOwnProperty(key)&&formatterKeys.push(key);var formattingTokens=commonFormatterKeys.concat(formatterKeys).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+formattingTokens.join("|")+"|.)","g")}},function(module,exports,__webpack_require__){var parse=__webpack_require__(35);module.exports=function(dirtyDate,dirtyStartDate,dirtyEndDate){var time=parse(dirtyDate).getTime(),startTime=parse(dirtyStartDate).getTime(),endTime=parse(dirtyEndDate).getTime();if(startTime>endTime)throw new Error("The start of the range cannot be after the end of the range");return time>=startTime&&time<=endTime}},,,function(module,exports){const Secret=function(data){return Object.assign(this,data),this};Secret.prototype.toString=function(){throw new Error("Cannot convert Secret to string")},module.exports=Secret},function(module,exports,__webpack_require__){"use strict";(function(module){var Bluebird=__webpack_require__(277).getNewLibraryCopy(),configure=__webpack_require__(1275),stealthyRequire=__webpack_require__(1277);try{var request=stealthyRequire(__webpack_require__.c,function(){return __webpack_require__(941)},function(){__webpack_require__(437)},module)}catch(err){var EOL=__webpack_require__(286).EOL;throw console.error(EOL+"###"+EOL+'### The "request" library is not installed automatically anymore.'+EOL+'### But is a dependency of "request-promise".'+EOL+"### Please install it with:"+EOL+"### npm install request --save"+EOL+"###"+EOL),err}Bluebird.config({cancellation:!0}),configure({request:request,PromiseImpl:Bluebird,expose:["then","catch","finally","cancel","promise"],constructorMixin:function(resolve,reject,onCancel){var self=this;onCancel(function(){self.abort()})}}),request.bindCLS=function(){throw new Error("CLS support was dropped. To get it back read: https://github.com/request/request-promise/wiki/Getting-Back-Support-for-Continuation-Local-Storage")},module.exports=request}).call(this,__webpack_require__(56)(module))},function(module,exports,__webpack_require__){"use strict";module.exports=function(NEXT_FILTER){var util=__webpack_require__(52),getKeys=__webpack_require__(287).keys,tryCatch=util.tryCatch,errorObj=util.errorObj;return function(instances,cb,promise){return function(e){var boundTo=promise._boundValue();predicateLoop:for(var i=0;i<instances.length;++i){var item=instances[i];if(item===Error||null!=item&&item.prototype instanceof Error){if(e instanceof item)return tryCatch(cb).call(boundTo,e)}else if("function"==typeof item){var matchesPredicate=tryCatch(item).call(boundTo,e);if(matchesPredicate===errorObj)return matchesPredicate;if(matchesPredicate)return tryCatch(cb).call(boundTo,e)}else if(util.isObject(e)){for(var keys=getKeys(item),j=0;j<keys.length;++j){var key=keys[j];if(item[key]!=e[key])continue predicateLoop}return tryCatch(cb).call(boundTo,e)}}return NEXT_FILTER}}}},function(module,exports,__webpack_require__){"use strict";var util=__webpack_require__(52),maybeWrapAsError=util.maybeWrapAsError,OperationalError=__webpack_require__(259).OperationalError,es5=__webpack_require__(287);var rErrorKey=/^(?:name|message|stack|cause)$/;function wrapAsOperationalError(obj){var ret;if(function(obj){return obj instanceof Error&&es5.getPrototypeOf(obj)===Error.prototype}(obj)){(ret=new OperationalError(obj)).name=obj.name,ret.message=obj.message,ret.stack=obj.stack;for(var keys=es5.keys(obj),i=0;i<keys.length;++i){var key=keys[i];rErrorKey.test(key)||(ret[key]=obj[key])}return ret}return util.markAsOriginatingFromRejection(obj),obj}module.exports=function(promise,multiArgs){return function(err,value){if(null!==promise){if(err){var wrapped=wrapAsOperationalError(maybeWrapAsError(err));promise._attachExtraTrace(wrapped),promise._reject(wrapped)}else if(multiArgs){for(var $_len=arguments.length,args=new Array(Math.max($_len-1,0)),$_i=1;$_i<$_len;++$_i)args[$_i-1]=arguments[$_i];promise._fulfill(args)}else promise._fulfill(value);promise=null}}}},function(module,exports,__webpack_require__){"use strict";function RequestError(cause,options,response){this.name="RequestError",this.message=String(cause),this.cause=cause,this.error=cause,this.options=options,this.response=response,Error.captureStackTrace&&Error.captureStackTrace(this)}function StatusCodeError(statusCode,body,options,response){this.name="StatusCodeError",this.statusCode=statusCode,this.message=statusCode+" - "+(JSON&&JSON.stringify?JSON.stringify(body):body),this.error=body,this.options=options,this.response=response,Error.captureStackTrace&&Error.captureStackTrace(this)}function TransformError(cause,options,response){this.name="TransformError",this.message=String(cause),this.cause=cause,this.error=cause,this.options=options,this.response=response,Error.captureStackTrace&&Error.captureStackTrace(this)}RequestError.prototype=Object.create(Error.prototype),RequestError.prototype.constructor=RequestError,StatusCodeError.prototype=Object.create(Error.prototype),StatusCodeError.prototype.constructor=StatusCodeError,TransformError.prototype=Object.create(Error.prototype),TransformError.prototype.constructor=TransformError,module.exports={RequestError:RequestError,StatusCodeError:StatusCodeError,TransformError:TransformError}},function(module,exports,__webpack_require__){"use strict";var Punycode=__webpack_require__(795),internals={};internals.rules=__webpack_require__(954).map(function(rule){return{rule:rule,suffix:rule.replace(/^(\*\.|\!)/,""),punySuffix:-1,wildcard:"*"===rule.charAt(0),exception:"!"===rule.charAt(0)}}),internals.endsWith=function(str,suffix){return-1!==str.indexOf(suffix,str.length-suffix.length)},internals.findRule=function(domain){var punyDomain=Punycode.toASCII(domain);return internals.rules.reduce(function(memo,rule){return-1===rule.punySuffix&&(rule.punySuffix=Punycode.toASCII(rule.suffix)),internals.endsWith(punyDomain,"."+rule.punySuffix)||punyDomain===rule.punySuffix?rule:memo},null)},exports.errorCodes={DOMAIN_TOO_SHORT:"Domain name too short.",DOMAIN_TOO_LONG:"Domain name too long. It should be no more than 255 chars.",LABEL_STARTS_WITH_DASH:"Domain name label can not start with a dash.",LABEL_ENDS_WITH_DASH:"Domain name label can not end with a dash.",LABEL_TOO_LONG:"Domain name label should be at most 63 chars long.",LABEL_TOO_SHORT:"Domain name label should be at least 1 character long.",LABEL_INVALID_CHARS:"Domain name label can only contain alphanumeric characters or dashes."},internals.validate=function(input){var ascii=Punycode.toASCII(input);if(ascii.length<1)return"DOMAIN_TOO_SHORT";if(ascii.length>255)return"DOMAIN_TOO_LONG";for(var label,labels=ascii.split("."),i=0;i<labels.length;++i){if(!(label=labels[i]).length)return"LABEL_TOO_SHORT";if(label.length>63)return"LABEL_TOO_LONG";if("-"===label.charAt(0))return"LABEL_STARTS_WITH_DASH";if("-"===label.charAt(label.length-1))return"LABEL_ENDS_WITH_DASH";if(!/^[a-z0-9\-]+$/.test(label))return"LABEL_INVALID_CHARS"}},exports.parse=function(input){if("string"!=typeof input)throw new TypeError("Domain name must be a string.");var domain=input.slice(0).toLowerCase();"."===domain.charAt(domain.length-1)&&(domain=domain.slice(0,domain.length-1));var error=internals.validate(domain);if(error)return{input:input,error:{message:exports.errorCodes[error],code:error}};var parsed={input:input,tld:null,sld:null,domain:null,subdomain:null,listed:!1},domainParts=domain.split(".");if("local"===domainParts[domainParts.length-1])return parsed;var handlePunycode=function(){return/xn--/.test(domain)?(parsed.domain&&(parsed.domain=Punycode.toASCII(parsed.domain)),parsed.subdomain&&(parsed.subdomain=Punycode.toASCII(parsed.subdomain)),parsed):parsed},rule=internals.findRule(domain);if(!rule)return domainParts.length<2?parsed:(parsed.tld=domainParts.pop(),parsed.sld=domainParts.pop(),parsed.domain=[parsed.sld,parsed.tld].join("."),domainParts.length&&(parsed.subdomain=domainParts.pop()),handlePunycode());parsed.listed=!0;var tldParts=rule.suffix.split("."),privateParts=domainParts.slice(0,domainParts.length-tldParts.length);return rule.exception&&privateParts.push(tldParts.shift()),parsed.tld=tldParts.join("."),privateParts.length?(rule.wildcard&&(tldParts.unshift(privateParts.pop()),parsed.tld=tldParts.join(".")),privateParts.length?(parsed.sld=privateParts.pop(),parsed.domain=[parsed.sld,parsed.tld].join("."),privateParts.length&&(parsed.subdomain=privateParts.join(".")),handlePunycode()):handlePunycode()):handlePunycode()},exports.get=function(domain){return domain&&exports.parse(domain).domain||null},exports.isValid=function(domain){var parsed=exports.parse(domain);return Boolean(parsed.domain&&parsed.listed)}},function(module){module.exports=JSON.parse('["ac","com.ac","edu.ac","gov.ac","net.ac","mil.ac","org.ac","ad","nom.ad","ae","co.ae","net.ae","org.ae","sch.ae","ac.ae","gov.ae","mil.ae","aero","accident-investigation.aero","accident-prevention.aero","aerobatic.aero","aeroclub.aero","aerodrome.aero","agents.aero","aircraft.aero","airline.aero","airport.aero","air-surveillance.aero","airtraffic.aero","air-traffic-control.aero","ambulance.aero","amusement.aero","association.aero","author.aero","ballooning.aero","broker.aero","caa.aero","cargo.aero","catering.aero","certification.aero","championship.aero","charter.aero","civilaviation.aero","club.aero","conference.aero","consultant.aero","consulting.aero","control.aero","council.aero","crew.aero","design.aero","dgca.aero","educator.aero","emergency.aero","engine.aero","engineer.aero","entertainment.aero","equipment.aero","exchange.aero","express.aero","federation.aero","flight.aero","freight.aero","fuel.aero","gliding.aero","government.aero","groundhandling.aero","group.aero","hanggliding.aero","homebuilt.aero","insurance.aero","journal.aero","journalist.aero","leasing.aero","logistics.aero","magazine.aero","maintenance.aero","media.aero","microlight.aero","modelling.aero","navigation.aero","parachuting.aero","paragliding.aero","passenger-association.aero","pilot.aero","press.aero","production.aero","recreation.aero","repbody.aero","res.aero","research.aero","rotorcraft.aero","safety.aero","scientist.aero","services.aero","show.aero","skydiving.aero","software.aero","student.aero","trader.aero","trading.aero","trainer.aero","union.aero","workinggroup.aero","works.aero","af","gov.af","com.af","org.af","net.af","edu.af","ag","com.ag","org.ag","net.ag","co.ag","nom.ag","ai","off.ai","com.ai","net.ai","org.ai","al","com.al","edu.al","gov.al","mil.al","net.al","org.al","am","co.am","com.am","commune.am","net.am","org.am","ao","ed.ao","gv.ao","og.ao","co.ao","pb.ao","it.ao","aq","ar","com.ar","edu.ar","gob.ar","gov.ar","int.ar","mil.ar","musica.ar","net.ar","org.ar","tur.ar","arpa","e164.arpa","in-addr.arpa","ip6.arpa","iris.arpa","uri.arpa","urn.arpa","as","gov.as","asia","at","ac.at","co.at","gv.at","or.at","au","com.au","net.au","org.au","edu.au","gov.au","asn.au","id.au","info.au","conf.au","oz.au","act.au","nsw.au","nt.au","qld.au","sa.au","tas.au","vic.au","wa.au","act.edu.au","nsw.edu.au","nt.edu.au","qld.edu.au","sa.edu.au","tas.edu.au","vic.edu.au","wa.edu.au","qld.gov.au","sa.gov.au","tas.gov.au","vic.gov.au","wa.gov.au","aw","com.aw","ax","az","com.az","net.az","int.az","gov.az","org.az","edu.az","info.az","pp.az","mil.az","name.az","pro.az","biz.az","ba","com.ba","edu.ba","gov.ba","mil.ba","net.ba","org.ba","bb","biz.bb","co.bb","com.bb","edu.bb","gov.bb","info.bb","net.bb","org.bb","store.bb","tv.bb","*.bd","be","ac.be","bf","gov.bf","bg","a.bg","b.bg","c.bg","d.bg","e.bg","f.bg","g.bg","h.bg","i.bg","j.bg","k.bg","l.bg","m.bg","n.bg","o.bg","p.bg","q.bg","r.bg","s.bg","t.bg","u.bg","v.bg","w.bg","x.bg","y.bg","z.bg","0.bg","1.bg","2.bg","3.bg","4.bg","5.bg","6.bg","7.bg","8.bg","9.bg","bh","com.bh","edu.bh","net.bh","org.bh","gov.bh","bi","co.bi","com.bi","edu.bi","or.bi","org.bi","biz","bj","asso.bj","barreau.bj","gouv.bj","bm","com.bm","edu.bm","gov.bm","net.bm","org.bm","bn","com.bn","edu.bn","gov.bn","net.bn","org.bn","bo","com.bo","edu.bo","gob.bo","int.bo","org.bo","net.bo","mil.bo","tv.bo","web.bo","academia.bo","agro.bo","arte.bo","blog.bo","bolivia.bo","ciencia.bo","cooperativa.bo","democracia.bo","deporte.bo","ecologia.bo","economia.bo","empresa.bo","indigena.bo","industria.bo","info.bo","medicina.bo","movimiento.bo","musica.bo","natural.bo","nombre.bo","noticias.bo","patria.bo","politica.bo","profesional.bo","plurinacional.bo","pueblo.bo","revista.bo","salud.bo","tecnologia.bo","tksat.bo","transporte.bo","wiki.bo","br","9guacu.br","abc.br","adm.br","adv.br","agr.br","aju.br","am.br","anani.br","aparecida.br","arq.br","art.br","ato.br","b.br","barueri.br","belem.br","bhz.br","bio.br","blog.br","bmd.br","boavista.br","bsb.br","campinagrande.br","campinas.br","caxias.br","cim.br","cng.br","cnt.br","com.br","contagem.br","coop.br","cri.br","cuiaba.br","curitiba.br","def.br","ecn.br","eco.br","edu.br","emp.br","eng.br","esp.br","etc.br","eti.br","far.br","feira.br","flog.br","floripa.br","fm.br","fnd.br","fortal.br","fot.br","foz.br","fst.br","g12.br","ggf.br","goiania.br","gov.br","ac.gov.br","al.gov.br","am.gov.br","ap.gov.br","ba.gov.br","ce.gov.br","df.gov.br","es.gov.br","go.gov.br","ma.gov.br","mg.gov.br","ms.gov.br","mt.gov.br","pa.gov.br","pb.gov.br","pe.gov.br","pi.gov.br","pr.gov.br","rj.gov.br","rn.gov.br","ro.gov.br","rr.gov.br","rs.gov.br","sc.gov.br","se.gov.br","sp.gov.br","to.gov.br","gru.br","imb.br","ind.br","inf.br","jab.br","jampa.br","jdf.br","joinville.br","jor.br","jus.br","leg.br","lel.br","londrina.br","macapa.br","maceio.br","manaus.br","maringa.br","mat.br","med.br","mil.br","morena.br","mp.br","mus.br","natal.br","net.br","niteroi.br","*.nom.br","not.br","ntr.br","odo.br","ong.br","org.br","osasco.br","palmas.br","poa.br","ppg.br","pro.br","psc.br","psi.br","pvh.br","qsl.br","radio.br","rec.br","recife.br","ribeirao.br","rio.br","riobranco.br","riopreto.br","salvador.br","sampa.br","santamaria.br","santoandre.br","saobernardo.br","saogonca.br","sjc.br","slg.br","slz.br","sorocaba.br","srv.br","taxi.br","tc.br","teo.br","the.br","tmp.br","trd.br","tur.br","tv.br","udi.br","vet.br","vix.br","vlog.br","wiki.br","zlg.br","bs","com.bs","net.bs","org.bs","edu.bs","gov.bs","bt","com.bt","edu.bt","gov.bt","net.bt","org.bt","bv","bw","co.bw","org.bw","by","gov.by","mil.by","com.by","of.by","bz","com.bz","net.bz","org.bz","edu.bz","gov.bz","ca","ab.ca","bc.ca","mb.ca","nb.ca","nf.ca","nl.ca","ns.ca","nt.ca","nu.ca","on.ca","pe.ca","qc.ca","sk.ca","yk.ca","gc.ca","cat","cc","cd","gov.cd","cf","cg","ch","ci","org.ci","or.ci","com.ci","co.ci","edu.ci","ed.ci","ac.ci","net.ci","go.ci","asso.ci","aroport.ci","int.ci","presse.ci","md.ci","gouv.ci","*.ck","!www.ck","cl","gov.cl","gob.cl","co.cl","mil.cl","cm","co.cm","com.cm","gov.cm","net.cm","cn","ac.cn","com.cn","edu.cn","gov.cn","net.cn","org.cn","mil.cn",".cn",".cn",".cn","ah.cn","bj.cn","cq.cn","fj.cn","gd.cn","gs.cn","gz.cn","gx.cn","ha.cn","hb.cn","he.cn","hi.cn","hl.cn","hn.cn","jl.cn","js.cn","jx.cn","ln.cn","nm.cn","nx.cn","qh.cn","sc.cn","sd.cn","sh.cn","sn.cn","sx.cn","tj.cn","xj.cn","xz.cn","yn.cn","zj.cn","hk.cn","mo.cn","tw.cn","co","arts.co","com.co","edu.co","firm.co","gov.co","info.co","int.co","mil.co","net.co","nom.co","org.co","rec.co","web.co","com","coop","cr","ac.cr","co.cr","ed.cr","fi.cr","go.cr","or.cr","sa.cr","cu","com.cu","edu.cu","org.cu","net.cu","gov.cu","inf.cu","cv","cw","com.cw","edu.cw","net.cw","org.cw","cx","gov.cx","cy","ac.cy","biz.cy","com.cy","ekloges.cy","gov.cy","ltd.cy","name.cy","net.cy","org.cy","parliament.cy","press.cy","pro.cy","tm.cy","cz","de","dj","dk","dm","com.dm","net.dm","org.dm","edu.dm","gov.dm","do","art.do","com.do","edu.do","gob.do","gov.do","mil.do","net.do","org.do","sld.do","web.do","dz","com.dz","org.dz","net.dz","gov.dz","edu.dz","asso.dz","pol.dz","art.dz","ec","com.ec","info.ec","net.ec","fin.ec","k12.ec","med.ec","pro.ec","org.ec","edu.ec","gov.ec","gob.ec","mil.ec","edu","ee","edu.ee","gov.ee","riik.ee","lib.ee","med.ee","com.ee","pri.ee","aip.ee","org.ee","fie.ee","eg","com.eg","edu.eg","eun.eg","gov.eg","mil.eg","name.eg","net.eg","org.eg","sci.eg","*.er","es","com.es","nom.es","org.es","gob.es","edu.es","et","com.et","gov.et","org.et","edu.et","biz.et","name.et","info.et","net.et","eu","fi","aland.fi","*.fj","*.fk","fm","fo","fr","asso.fr","com.fr","gouv.fr","nom.fr","prd.fr","tm.fr","aeroport.fr","avocat.fr","avoues.fr","cci.fr","chambagri.fr","chirurgiens-dentistes.fr","experts-comptables.fr","geometre-expert.fr","greta.fr","huissier-justice.fr","medecin.fr","notaires.fr","pharmacien.fr","port.fr","veterinaire.fr","ga","gb","gd","ge","com.ge","edu.ge","gov.ge","org.ge","mil.ge","net.ge","pvt.ge","gf","gg","co.gg","net.gg","org.gg","gh","com.gh","edu.gh","gov.gh","org.gh","mil.gh","gi","com.gi","ltd.gi","gov.gi","mod.gi","edu.gi","org.gi","gl","co.gl","com.gl","edu.gl","net.gl","org.gl","gm","gn","ac.gn","com.gn","edu.gn","gov.gn","org.gn","net.gn","gov","gp","com.gp","net.gp","mobi.gp","edu.gp","org.gp","asso.gp","gq","gr","com.gr","edu.gr","net.gr","org.gr","gov.gr","gs","gt","com.gt","edu.gt","gob.gt","ind.gt","mil.gt","net.gt","org.gt","gu","com.gu","edu.gu","gov.gu","guam.gu","info.gu","net.gu","org.gu","web.gu","gw","gy","co.gy","com.gy","edu.gy","gov.gy","net.gy","org.gy","hk","com.hk","edu.hk","gov.hk","idv.hk","net.hk","org.hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk",".hk","hm","hn","com.hn","edu.hn","org.hn","net.hn","mil.hn","gob.hn","hr","iz.hr","from.hr","name.hr","com.hr","ht","com.ht","shop.ht","firm.ht","info.ht","adult.ht","net.ht","pro.ht","org.ht","med.ht","art.ht","coop.ht","pol.ht","asso.ht","edu.ht","rel.ht","gouv.ht","perso.ht","hu","co.hu","info.hu","org.hu","priv.hu","sport.hu","tm.hu","2000.hu","agrar.hu","bolt.hu","casino.hu","city.hu","erotica.hu","erotika.hu","film.hu","forum.hu","games.hu","hotel.hu","ingatlan.hu","jogasz.hu","konyvelo.hu","lakas.hu","media.hu","news.hu","reklam.hu","sex.hu","shop.hu","suli.hu","szex.hu","tozsde.hu","utazas.hu","video.hu","id","ac.id","biz.id","co.id","desa.id","go.id","mil.id","my.id","net.id","or.id","ponpes.id","sch.id","web.id","ie","gov.ie","il","ac.il","co.il","gov.il","idf.il","k12.il","muni.il","net.il","org.il","im","ac.im","co.im","com.im","ltd.co.im","net.im","org.im","plc.co.im","tt.im","tv.im","in","co.in","firm.in","net.in","org.in","gen.in","ind.in","nic.in","ac.in","edu.in","res.in","gov.in","mil.in","info","int","eu.int","io","com.io","iq","gov.iq","edu.iq","mil.iq","com.iq","org.iq","net.iq","ir","ac.ir","co.ir","gov.ir","id.ir","net.ir","org.ir","sch.ir",".ir",".ir","is","net.is","com.is","edu.is","gov.is","org.is","int.is","it","gov.it","edu.it","abr.it","abruzzo.it","aosta-valley.it","aostavalley.it","bas.it","basilicata.it","cal.it","calabria.it","cam.it","campania.it","emilia-romagna.it","emiliaromagna.it","emr.it","friuli-v-giulia.it","friuli-ve-giulia.it","friuli-vegiulia.it","friuli-venezia-giulia.it","friuli-veneziagiulia.it","friuli-vgiulia.it","friuliv-giulia.it","friulive-giulia.it","friulivegiulia.it","friulivenezia-giulia.it","friuliveneziagiulia.it","friulivgiulia.it","fvg.it","laz.it","lazio.it","lig.it","liguria.it","lom.it","lombardia.it","lombardy.it","lucania.it","mar.it","marche.it","mol.it","molise.it","piedmont.it","piemonte.it","pmn.it","pug.it","puglia.it","sar.it","sardegna.it","sardinia.it","sic.it","sicilia.it","sicily.it","taa.it","tos.it","toscana.it","trentin-sud-tirol.it","trentin-sd-tirol.it","trentin-sudtirol.it","trentin-sdtirol.it","trentin-sued-tirol.it","trentin-suedtirol.it","trentino-a-adige.it","trentino-aadige.it","trentino-alto-adige.it","trentino-altoadige.it","trentino-s-tirol.it","trentino-stirol.it","trentino-sud-tirol.it","trentino-sd-tirol.it","trentino-sudtirol.it","trentino-sdtirol.it","trentino-sued-tirol.it","trentino-suedtirol.it","trentino.it","trentinoa-adige.it","trentinoaadige.it","trentinoalto-adige.it","trentinoaltoadige.it","trentinos-tirol.it","trentinostirol.it","trentinosud-tirol.it","trentinosd-tirol.it","trentinosudtirol.it","trentinosdtirol.it","trentinosued-tirol.it","trentinosuedtirol.it","trentinsud-tirol.it","trentinsd-tirol.it","trentinsudtirol.it","trentinsdtirol.it","trentinsued-tirol.it","trentinsuedtirol.it","tuscany.it","umb.it","umbria.it","val-d-aosta.it","val-daosta.it","vald-aosta.it","valdaosta.it","valle-aosta.it","valle-d-aosta.it","valle-daosta.it","valleaosta.it","valled-aosta.it","valledaosta.it","vallee-aoste.it","valle-aoste.it","vallee-d-aoste.it","valle-d-aoste.it","valleeaoste.it","valleaoste.it","valleedaoste.it","valledaoste.it","vao.it","vda.it","ven.it","veneto.it","ag.it","agrigento.it","al.it","alessandria.it","alto-adige.it","altoadige.it","an.it","ancona.it","andria-barletta-trani.it","andria-trani-barletta.it","andriabarlettatrani.it","andriatranibarletta.it","ao.it","aosta.it","aoste.it","ap.it","aq.it","aquila.it","ar.it","arezzo.it","ascoli-piceno.it","ascolipiceno.it","asti.it","at.it","av.it","avellino.it","ba.it","balsan-sudtirol.it","balsan-sdtirol.it","balsan-suedtirol.it","balsan.it","bari.it","barletta-trani-andria.it","barlettatraniandria.it","belluno.it","benevento.it","bergamo.it","bg.it","bi.it","biella.it","bl.it","bn.it","bo.it","bologna.it","bolzano-altoadige.it","bolzano.it","bozen-sudtirol.it","bozen-sdtirol.it","bozen-suedtirol.it","bozen.it","br.it","brescia.it","brindisi.it","bs.it","bt.it","bulsan-sudtirol.it","bulsan-sdtirol.it","bulsan-suedtirol.it","bulsan.it","bz.it","ca.it","cagliari.it","caltanissetta.it","campidano-medio.it","campidanomedio.it","campobasso.it","carbonia-iglesias.it","carboniaiglesias.it","carrara-massa.it","carraramassa.it","caserta.it","catania.it","catanzaro.it","cb.it","ce.it","cesena-forli.it","cesena-forl.it","cesenaforli.it","cesenaforl.it","ch.it","chieti.it","ci.it","cl.it","cn.it","co.it","como.it","cosenza.it","cr.it","cremona.it","crotone.it","cs.it","ct.it","cuneo.it","cz.it","dell-ogliastra.it","dellogliastra.it","en.it","enna.it","fc.it","fe.it","fermo.it","ferrara.it","fg.it","fi.it","firenze.it","florence.it","fm.it","foggia.it","forli-cesena.it","forl-cesena.it","forlicesena.it","forlcesena.it","fr.it","frosinone.it","ge.it","genoa.it","genova.it","go.it","gorizia.it","gr.it","grosseto.it","iglesias-carbonia.it","iglesiascarbonia.it","im.it","imperia.it","is.it","isernia.it","kr.it","la-spezia.it","laquila.it","laspezia.it","latina.it","lc.it","le.it","lecce.it","lecco.it","li.it","livorno.it","lo.it","lodi.it","lt.it","lu.it","lucca.it","macerata.it","mantova.it","massa-carrara.it","massacarrara.it","matera.it","mb.it","mc.it","me.it","medio-campidano.it","mediocampidano.it","messina.it","mi.it","milan.it","milano.it","mn.it","mo.it","modena.it","monza-brianza.it","monza-e-della-brianza.it","monza.it","monzabrianza.it","monzaebrianza.it","monzaedellabrianza.it","ms.it","mt.it","na.it","naples.it","napoli.it","no.it","novara.it","nu.it","nuoro.it","og.it","ogliastra.it","olbia-tempio.it","olbiatempio.it","or.it","oristano.it","ot.it","pa.it","padova.it","padua.it","palermo.it","parma.it","pavia.it","pc.it","pd.it","pe.it","perugia.it","pesaro-urbino.it","pesarourbino.it","pescara.it","pg.it","pi.it","piacenza.it","pisa.it","pistoia.it","pn.it","po.it","pordenone.it","potenza.it","pr.it","prato.it","pt.it","pu.it","pv.it","pz.it","ra.it","ragusa.it","ravenna.it","rc.it","re.it","reggio-calabria.it","reggio-emilia.it","reggiocalabria.it","reggioemilia.it","rg.it","ri.it","rieti.it","rimini.it","rm.it","rn.it","ro.it","roma.it","rome.it","rovigo.it","sa.it","salerno.it","sassari.it","savona.it","si.it","siena.it","siracusa.it","so.it","sondrio.it","sp.it","sr.it","ss.it","suedtirol.it","sdtirol.it","sv.it","ta.it","taranto.it","te.it","tempio-olbia.it","tempioolbia.it","teramo.it","terni.it","tn.it","to.it","torino.it","tp.it","tr.it","trani-andria-barletta.it","trani-barletta-andria.it","traniandriabarletta.it","tranibarlettaandria.it","trapani.it","trento.it","treviso.it","trieste.it","ts.it","turin.it","tv.it","ud.it","udine.it","urbino-pesaro.it","urbinopesaro.it","va.it","varese.it","vb.it","vc.it","ve.it","venezia.it","venice.it","verbania.it","vercelli.it","verona.it","vi.it","vibo-valentia.it","vibovalentia.it","vicenza.it","viterbo.it","vr.it","vs.it","vt.it","vv.it","je","co.je","net.je","org.je","*.jm","jo","com.jo","org.jo","net.jo","edu.jo","sch.jo","gov.jo","mil.jo","name.jo","jobs","jp","ac.jp","ad.jp","co.jp","ed.jp","go.jp","gr.jp","lg.jp","ne.jp","or.jp","aichi.jp","akita.jp","aomori.jp","chiba.jp","ehime.jp","fukui.jp","fukuoka.jp","fukushima.jp","gifu.jp","gunma.jp","hiroshima.jp","hokkaido.jp","hyogo.jp","ibaraki.jp","ishikawa.jp","iwate.jp","kagawa.jp","kagoshima.jp","kanagawa.jp","kochi.jp","kumamoto.jp","kyoto.jp","mie.jp","miyagi.jp","miyazaki.jp","nagano.jp","nagasaki.jp","nara.jp","niigata.jp","oita.jp","okayama.jp","okinawa.jp","osaka.jp","saga.jp","saitama.jp","shiga.jp","shimane.jp","shizuoka.jp","tochigi.jp","tokushima.jp","tokyo.jp","tottori.jp","toyama.jp","wakayama.jp","yamagata.jp","yamaguchi.jp","yamanashi.jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp",".jp","*.kawasaki.jp","*.kitakyushu.jp","*.kobe.jp","*.nagoya.jp","*.sapporo.jp","*.sendai.jp","*.yokohama.jp","!city.kawasaki.jp","!city.kitakyushu.jp","!city.kobe.jp","!city.nagoya.jp","!city.sapporo.jp","!city.sendai.jp","!city.yokohama.jp","aisai.aichi.jp","ama.aichi.jp","anjo.aichi.jp","asuke.aichi.jp","chiryu.aichi.jp","chita.aichi.jp","fuso.aichi.jp","gamagori.aichi.jp","handa.aichi.jp","hazu.aichi.jp","hekinan.aichi.jp","higashiura.aichi.jp","ichinomiya.aichi.jp","inazawa.aichi.jp","inuyama.aichi.jp","isshiki.aichi.jp","iwakura.aichi.jp","kanie.aichi.jp","kariya.aichi.jp","kasugai.aichi.jp","kira.aichi.jp","kiyosu.aichi.jp","komaki.aichi.jp","konan.aichi.jp","kota.aichi.jp","mihama.aichi.jp","miyoshi.aichi.jp","nishio.aichi.jp","nisshin.aichi.jp","obu.aichi.jp","oguchi.aichi.jp","oharu.aichi.jp","okazaki.aichi.jp","owariasahi.aichi.jp","seto.aichi.jp","shikatsu.aichi.jp","shinshiro.aichi.jp","shitara.aichi.jp","tahara.aichi.jp","takahama.aichi.jp","tobishima.aichi.jp","toei.aichi.jp","togo.aichi.jp","tokai.aichi.jp","tokoname.aichi.jp","toyoake.aichi.jp","toyohashi.aichi.jp","toyokawa.aichi.jp","toyone.aichi.jp","toyota.aichi.jp","tsushima.aichi.jp","yatomi.aichi.jp","akita.akita.jp","daisen.akita.jp","fujisato.akita.jp","gojome.akita.jp","hachirogata.akita.jp","happou.akita.jp","higashinaruse.akita.jp","honjo.akita.jp","honjyo.akita.jp","ikawa.akita.jp","kamikoani.akita.jp","kamioka.akita.jp","katagami.akita.jp","kazuno.akita.jp","kitaakita.akita.jp","kosaka.akita.jp","kyowa.akita.jp","misato.akita.jp","mitane.akita.jp","moriyoshi.akita.jp","nikaho.akita.jp","noshiro.akita.jp","odate.akita.jp","oga.akita.jp","ogata.akita.jp","semboku.akita.jp","yokote.akita.jp","yurihonjo.akita.jp","aomori.aomori.jp","gonohe.aomori.jp","hachinohe.aomori.jp","hashikami.aomori.jp","hiranai.aomori.jp","hirosaki.aomori.jp","itayanagi.aomori.jp","kuroishi.aomori.jp","misawa.aomori.jp","mutsu.aomori.jp","nakadomari.aomori.jp","noheji.aomori.jp","oirase.aomori.jp","owani.aomori.jp","rokunohe.aomori.jp","sannohe.aomori.jp","shichinohe.aomori.jp","shingo.aomori.jp","takko.aomori.jp","towada.aomori.jp","tsugaru.aomori.jp","tsuruta.aomori.jp","abiko.chiba.jp","asahi.chiba.jp","chonan.chiba.jp","chosei.chiba.jp","choshi.chiba.jp","chuo.chiba.jp","funabashi.chiba.jp","futtsu.chiba.jp","hanamigawa.chiba.jp","ichihara.chiba.jp","ichikawa.chiba.jp","ichinomiya.chiba.jp","inzai.chiba.jp","isumi.chiba.jp","kamagaya.chiba.jp","kamogawa.chiba.jp","kashiwa.chiba.jp","katori.chiba.jp","katsuura.chiba.jp","kimitsu.chiba.jp","kisarazu.chiba.jp","kozaki.chiba.jp","kujukuri.chiba.jp","kyonan.chiba.jp","matsudo.chiba.jp","midori.chiba.jp","mihama.chiba.jp","minamiboso.chiba.jp","mobara.chiba.jp","mutsuzawa.chiba.jp","nagara.chiba.jp","nagareyama.chiba.jp","narashino.chiba.jp","narita.chiba.jp","noda.chiba.jp","oamishirasato.chiba.jp","omigawa.chiba.jp","onjuku.chiba.jp","otaki.chiba.jp","sakae.chiba.jp","sakura.chiba.jp","shimofusa.chiba.jp","shirako.chiba.jp","shiroi.chiba.jp","shisui.chiba.jp","sodegaura.chiba.jp","sosa.chiba.jp","tako.chiba.jp","tateyama.chiba.jp","togane.chiba.jp","tohnosho.chiba.jp","tomisato.chiba.jp","urayasu.chiba.jp","yachimata.chiba.jp","yachiyo.chiba.jp","yokaichiba.chiba.jp","yokoshibahikari.chiba.jp","yotsukaido.chiba.jp","ainan.ehime.jp","honai.ehime.jp","ikata.ehime.jp","imabari.ehime.jp","iyo.ehime.jp","kamijima.ehime.jp","kihoku.ehime.jp","kumakogen.ehime.jp","masaki.ehime.jp","matsuno.ehime.jp","matsuyama.ehime.jp","namikata.ehime.jp","niihama.ehime.jp","ozu.ehime.jp","saijo.ehime.jp","seiyo.ehime.jp","shikokuchuo.ehime.jp","tobe.ehime.jp","toon.ehime.jp","uchiko.ehime.jp","uwajima.ehime.jp","yawatahama.ehime.jp","echizen.fukui.jp","eiheiji.fukui.jp","fukui.fukui.jp","ikeda.fukui.jp","katsuyama.fukui.jp","mihama.fukui.jp","minamiechizen.fukui.jp","obama.fukui.jp","ohi.fukui.jp","ono.fukui.jp","sabae.fukui.jp","sakai.fukui.jp","takahama.fukui.jp","tsuruga.fukui.jp","wakasa.fukui.jp","ashiya.fukuoka.jp","buzen.fukuoka.jp","chikugo.fukuoka.jp","chikuho.fukuoka.jp","chikujo.fukuoka.jp","chikushino.fukuoka.jp","chikuzen.fukuoka.jp","chuo.fukuoka.jp","dazaifu.fukuoka.jp","fukuchi.fukuoka.jp","hakata.fukuoka.jp","higashi.fukuoka.jp","hirokawa.fukuoka.jp","hisayama.fukuoka.jp","iizuka.fukuoka.jp","inatsuki.fukuoka.jp","kaho.fukuoka.jp","kasuga.fukuoka.jp","kasuya.fukuoka.jp","kawara.fukuoka.jp","keisen.fukuoka.jp","koga.fukuoka.jp","kurate.fukuoka.jp","kurogi.fukuoka.jp","kurume.fukuoka.jp","minami.fukuoka.jp","miyako.fukuoka.jp","miyama.fukuoka.jp","miyawaka.fukuoka.jp","mizumaki.fukuoka.jp","munakata.fukuoka.jp","nakagawa.fukuoka.jp","nakama.fukuoka.jp","nishi.fukuoka.jp","nogata.fukuoka.jp","ogori.fukuoka.jp","okagaki.fukuoka.jp","okawa.fukuoka.jp","oki.fukuoka.jp","omuta.fukuoka.jp","onga.fukuoka.jp","onojo.fukuoka.jp","oto.fukuoka.jp","saigawa.fukuoka.jp","sasaguri.fukuoka.jp","shingu.fukuoka.jp","shinyoshitomi.fukuoka.jp","shonai.fukuoka.jp","soeda.fukuoka.jp","sue.fukuoka.jp","tachiarai.fukuoka.jp","tagawa.fukuoka.jp","takata.fukuoka.jp","toho.fukuoka.jp","toyotsu.fukuoka.jp","tsuiki.fukuoka.jp","ukiha.fukuoka.jp","umi.fukuoka.jp","usui.fukuoka.jp","yamada.fukuoka.jp","yame.fukuoka.jp","yanagawa.fukuoka.jp","yukuhashi.fukuoka.jp","aizubange.fukushima.jp","aizumisato.fukushima.jp","aizuwakamatsu.fukushima.jp","asakawa.fukushima.jp","bandai.fukushima.jp","date.fukushima.jp","fukushima.fukushima.jp","furudono.fukushima.jp","futaba.fukushima.jp","hanawa.fukushima.jp","higashi.fukushima.jp","hirata.fukushima.jp","hirono.fukushima.jp","iitate.fukushima.jp","inawashiro.fukushima.jp","ishikawa.fukushima.jp","iwaki.fukushima.jp","izumizaki.fukushima.jp","kagamiishi.fukushima.jp","kaneyama.fukushima.jp","kawamata.fukushima.jp","kitakata.fukushima.jp","kitashiobara.fukushima.jp","koori.fukushima.jp","koriyama.fukushima.jp","kunimi.fukushima.jp","miharu.fukushima.jp","mishima.fukushima.jp","namie.fukushima.jp","nango.fukushima.jp","nishiaizu.fukushima.jp","nishigo.fukushima.jp","okuma.fukushima.jp","omotego.fukushima.jp","ono.fukushima.jp","otama.fukushima.jp","samegawa.fukushima.jp","shimogo.fukushima.jp","shirakawa.fukushima.jp","showa.fukushima.jp","soma.fukushima.jp","sukagawa.fukushima.jp","taishin.fukushima.jp","tamakawa.fukushima.jp","tanagura.fukushima.jp","tenei.fukushima.jp","yabuki.fukushima.jp","yamato.fukushima.jp","yamatsuri.fukushima.jp","yanaizu.fukushima.jp","yugawa.fukushima.jp","anpachi.gifu.jp","ena.gifu.jp","gifu.gifu.jp","ginan.gifu.jp","godo.gifu.jp","gujo.gifu.jp","hashima.gifu.jp","hichiso.gifu.jp","hida.gifu.jp","higashishirakawa.gifu.jp","ibigawa.gifu.jp","ikeda.gifu.jp","kakamigahara.gifu.jp","kani.gifu.jp","kasahara.gifu.jp","kasamatsu.gifu.jp","kawaue.gifu.jp","kitagata.gifu.jp","mino.gifu.jp","minokamo.gifu.jp","mitake.gifu.jp","mizunami.gifu.jp","motosu.gifu.jp","nakatsugawa.gifu.jp","ogaki.gifu.jp","sakahogi.gifu.jp","seki.gifu.jp","sekigahara.gifu.jp","shirakawa.gifu.jp","tajimi.gifu.jp","takayama.gifu.jp","tarui.gifu.jp","toki.gifu.jp","tomika.gifu.jp","wanouchi.gifu.jp","yamagata.gifu.jp","yaotsu.gifu.jp","yoro.gifu.jp","annaka.gunma.jp","chiyoda.gunma.jp","fujioka.gunma.jp","higashiagatsuma.gunma.jp","isesaki.gunma.jp","itakura.gunma.jp","kanna.gunma.jp","kanra.gunma.jp","katashina.gunma.jp","kawaba.gunma.jp","kiryu.gunma.jp","kusatsu.gunma.jp","maebashi.gunma.jp","meiwa.gunma.jp","midori.gunma.jp","minakami.gunma.jp","naganohara.gunma.jp","nakanojo.gunma.jp","nanmoku.gunma.jp","numata.gunma.jp","oizumi.gunma.jp","ora.gunma.jp","ota.gunma.jp","shibukawa.gunma.jp","shimonita.gunma.jp","shinto.gunma.jp","showa.gunma.jp","takasaki.gunma.jp","takayama.gunma.jp","tamamura.gunma.jp","tatebayashi.gunma.jp","tomioka.gunma.jp","tsukiyono.gunma.jp","tsumagoi.gunma.jp","ueno.gunma.jp","yoshioka.gunma.jp","asaminami.hiroshima.jp","daiwa.hiroshima.jp","etajima.hiroshima.jp","fuchu.hiroshima.jp","fukuyama.hiroshima.jp","hatsukaichi.hiroshima.jp","higashihiroshima.hiroshima.jp","hongo.hiroshima.jp","jinsekikogen.hiroshima.jp","kaita.hiroshima.jp","kui.hiroshima.jp","kumano.hiroshima.jp","kure.hiroshima.jp","mihara.hiroshima.jp","miyoshi.hiroshima.jp","naka.hiroshima.jp","onomichi.hiroshima.jp","osakikamijima.hiroshima.jp","otake.hiroshima.jp","saka.hiroshima.jp","sera.hiroshima.jp","seranishi.hiroshima.jp","shinichi.hiroshima.jp","shobara.hiroshima.jp","takehara.hiroshima.jp","abashiri.hokkaido.jp","abira.hokkaido.jp","aibetsu.hokkaido.jp","akabira.hokkaido.jp","akkeshi.hokkaido.jp","asahikawa.hokkaido.jp","ashibetsu.hokkaido.jp","ashoro.hokkaido.jp","assabu.hokkaido.jp","atsuma.hokkaido.jp","bibai.hokkaido.jp","biei.hokkaido.jp","bifuka.hokkaido.jp","bihoro.hokkaido.jp","biratori.hokkaido.jp","chippubetsu.hokkaido.jp","chitose.hokkaido.jp","date.hokkaido.jp","ebetsu.hokkaido.jp","embetsu.hokkaido.jp","eniwa.hokkaido.jp","erimo.hokkaido.jp","esan.hokkaido.jp","esashi.hokkaido.jp","fukagawa.hokkaido.jp","fukushima.hokkaido.jp","furano.hokkaido.jp","furubira.hokkaido.jp","haboro.hokkaido.jp","hakodate.hokkaido.jp","hamatonbetsu.hokkaido.jp","hidaka.hokkaido.jp","higashikagura.hokkaido.jp","higashikawa.hokkaido.jp","hiroo.hokkaido.jp","hokuryu.hokkaido.jp","hokuto.hokkaido.jp","honbetsu.hokkaido.jp","horokanai.hokkaido.jp","horonobe.hokkaido.jp","ikeda.hokkaido.jp","imakane.hokkaido.jp","ishikari.hokkaido.jp","iwamizawa.hokkaido.jp","iwanai.hokkaido.jp","kamifurano.hokkaido.jp","kamikawa.hokkaido.jp","kamishihoro.hokkaido.jp","kamisunagawa.hokkaido.jp","kamoenai.hokkaido.jp","kayabe.hokkaido.jp","kembuchi.hokkaido.jp","kikonai.hokkaido.jp","kimobetsu.hokkaido.jp","kitahiroshima.hokkaido.jp","kitami.hokkaido.jp","kiyosato.hokkaido.jp","koshimizu.hokkaido.jp","kunneppu.hokkaido.jp","kuriyama.hokkaido.jp","kuromatsunai.hokkaido.jp","kushiro.hokkaido.jp","kutchan.hokkaido.jp","kyowa.hokkaido.jp","mashike.hokkaido.jp","matsumae.hokkaido.jp","mikasa.hokkaido.jp","minamifurano.hokkaido.jp","mombetsu.hokkaido.jp","moseushi.hokkaido.jp","mukawa.hokkaido.jp","muroran.hokkaido.jp","naie.hokkaido.jp","nakagawa.hokkaido.jp","nakasatsunai.hokkaido.jp","nakatombetsu.hokkaido.jp","nanae.hokkaido.jp","nanporo.hokkaido.jp","nayoro.hokkaido.jp","nemuro.hokkaido.jp","niikappu.hokkaido.jp","niki.hokkaido.jp","nishiokoppe.hokkaido.jp","noboribetsu.hokkaido.jp","numata.hokkaido.jp","obihiro.hokkaido.jp","obira.hokkaido.jp","oketo.hokkaido.jp","okoppe.hokkaido.jp","otaru.hokkaido.jp","otobe.hokkaido.jp","otofuke.hokkaido.jp","otoineppu.hokkaido.jp","oumu.hokkaido.jp","ozora.hokkaido.jp","pippu.hokkaido.jp","rankoshi.hokkaido.jp","rebun.hokkaido.jp","rikubetsu.hokkaido.jp","rishiri.hokkaido.jp","rishirifuji.hokkaido.jp","saroma.hokkaido.jp","sarufutsu.hokkaido.jp","shakotan.hokkaido.jp","shari.hokkaido.jp","shibecha.hokkaido.jp","shibetsu.hokkaido.jp","shikabe.hokkaido.jp","shikaoi.hokkaido.jp","shimamaki.hokkaido.jp","shimizu.hokkaido.jp","shimokawa.hokkaido.jp","shinshinotsu.hokkaido.jp","shintoku.hokkaido.jp","shiranuka.hokkaido.jp","shiraoi.hokkaido.jp","shiriuchi.hokkaido.jp","sobetsu.hokkaido.jp","sunagawa.hokkaido.jp","taiki.hokkaido.jp","takasu.hokkaido.jp","takikawa.hokkaido.jp","takinoue.hokkaido.jp","teshikaga.hokkaido.jp","tobetsu.hokkaido.jp","tohma.hokkaido.jp","tomakomai.hokkaido.jp","tomari.hokkaido.jp","toya.hokkaido.jp","toyako.hokkaido.jp","toyotomi.hokkaido.jp","toyoura.hokkaido.jp","tsubetsu.hokkaido.jp","tsukigata.hokkaido.jp","urakawa.hokkaido.jp","urausu.hokkaido.jp","uryu.hokkaido.jp","utashinai.hokkaido.jp","wakkanai.hokkaido.jp","wassamu.hokkaido.jp","yakumo.hokkaido.jp","yoichi.hokkaido.jp","aioi.hyogo.jp","akashi.hyogo.jp","ako.hyogo.jp","amagasaki.hyogo.jp","aogaki.hyogo.jp","asago.hyogo.jp","ashiya.hyogo.jp","awaji.hyogo.jp","fukusaki.hyogo.jp","goshiki.hyogo.jp","harima.hyogo.jp","himeji.hyogo.jp","ichikawa.hyogo.jp","inagawa.hyogo.jp","itami.hyogo.jp","kakogawa.hyogo.jp","kamigori.hyogo.jp","kamikawa.hyogo.jp","kasai.hyogo.jp","kasuga.hyogo.jp","kawanishi.hyogo.jp","miki.hyogo.jp","minamiawaji.hyogo.jp","nishinomiya.hyogo.jp","nishiwaki.hyogo.jp","ono.hyogo.jp","sanda.hyogo.jp","sannan.hyogo.jp","sasayama.hyogo.jp","sayo.hyogo.jp","shingu.hyogo.jp","shinonsen.hyogo.jp","shiso.hyogo.jp","sumoto.hyogo.jp","taishi.hyogo.jp","taka.hyogo.jp","takarazuka.hyogo.jp","takasago.hyogo.jp","takino.hyogo.jp","tamba.hyogo.jp","tatsuno.hyogo.jp","toyooka.hyogo.jp","yabu.hyogo.jp","yashiro.hyogo.jp","yoka.hyogo.jp","yokawa.hyogo.jp","ami.ibaraki.jp","asahi.ibaraki.jp","bando.ibaraki.jp","chikusei.ibaraki.jp","daigo.ibaraki.jp","fujishiro.ibaraki.jp","hitachi.ibaraki.jp","hitachinaka.ibaraki.jp","hitachiomiya.ibaraki.jp","hitachiota.ibaraki.jp","ibaraki.ibaraki.jp","ina.ibaraki.jp","inashiki.ibaraki.jp","itako.ibaraki.jp","iwama.ibaraki.jp","joso.ibaraki.jp","kamisu.ibaraki.jp","kasama.ibaraki.jp","kashima.ibaraki.jp","kasumigaura.ibaraki.jp","koga.ibaraki.jp","miho.ibaraki.jp","mito.ibaraki.jp","moriya.ibaraki.jp","naka.ibaraki.jp","namegata.ibaraki.jp","oarai.ibaraki.jp","ogawa.ibaraki.jp","omitama.ibaraki.jp","ryugasaki.ibaraki.jp","sakai.ibaraki.jp","sakuragawa.ibaraki.jp","shimodate.ibaraki.jp","shimotsuma.ibaraki.jp","shirosato.ibaraki.jp","sowa.ibaraki.jp","suifu.ibaraki.jp","takahagi.ibaraki.jp","tamatsukuri.ibaraki.jp","tokai.ibaraki.jp","tomobe.ibaraki.jp","tone.ibaraki.jp","toride.ibaraki.jp","tsuchiura.ibaraki.jp","tsukuba.ibaraki.jp","uchihara.ibaraki.jp","ushiku.ibaraki.jp","yachiyo.ibaraki.jp","yamagata.ibaraki.jp","yawara.ibaraki.jp","yuki.ibaraki.jp","anamizu.ishikawa.jp","hakui.ishikawa.jp","hakusan.ishikawa.jp","kaga.ishikawa.jp","kahoku.ishikawa.jp","kanazawa.ishikawa.jp","kawakita.ishikawa.jp","komatsu.ishikawa.jp","nakanoto.ishikawa.jp","nanao.ishikawa.jp","nomi.ishikawa.jp","nonoichi.ishikawa.jp","noto.ishikawa.jp","shika.ishikawa.jp","suzu.ishikawa.jp","tsubata.ishikawa.jp","tsurugi.ishikawa.jp","uchinada.ishikawa.jp","wajima.ishikawa.jp","fudai.iwate.jp","fujisawa.iwate.jp","hanamaki.iwate.jp","hiraizumi.iwate.jp","hirono.iwate.jp","ichinohe.iwate.jp","ichinoseki.iwate.jp","iwaizumi.iwate.jp","iwate.iwate.jp","joboji.iwate.jp","kamaishi.iwate.jp","kanegasaki.iwate.jp","karumai.iwate.jp","kawai.iwate.jp","kitakami.iwate.jp","kuji.iwate.jp","kunohe.iwate.jp","kuzumaki.iwate.jp","miyako.iwate.jp","mizusawa.iwate.jp","morioka.iwate.jp","ninohe.iwate.jp","noda.iwate.jp","ofunato.iwate.jp","oshu.iwate.jp","otsuchi.iwate.jp","rikuzentakata.iwate.jp","shiwa.iwate.jp","shizukuishi.iwate.jp","sumita.iwate.jp","tanohata.iwate.jp","tono.iwate.jp","yahaba.iwate.jp","yamada.iwate.jp","ayagawa.kagawa.jp","higashikagawa.kagawa.jp","kanonji.kagawa.jp","kotohira.kagawa.jp","manno.kagawa.jp","marugame.kagawa.jp","mitoyo.kagawa.jp","naoshima.kagawa.jp","sanuki.kagawa.jp","tadotsu.kagawa.jp","takamatsu.kagawa.jp","tonosho.kagawa.jp","uchinomi.kagawa.jp","utazu.kagawa.jp","zentsuji.kagawa.jp","akune.kagoshima.jp","amami.kagoshima.jp","hioki.kagoshima.jp","isa.kagoshima.jp","isen.kagoshima.jp","izumi.kagoshima.jp","kagoshima.kagoshima.jp","kanoya.kagoshima.jp","kawanabe.kagoshima.jp","kinko.kagoshima.jp","kouyama.kagoshima.jp","makurazaki.kagoshima.jp","matsumoto.kagoshima.jp","minamitane.kagoshima.jp","nakatane.kagoshima.jp","nishinoomote.kagoshima.jp","satsumasendai.kagoshima.jp","soo.kagoshima.jp","tarumizu.kagoshima.jp","yusui.kagoshima.jp","aikawa.kanagawa.jp","atsugi.kanagawa.jp","ayase.kanagawa.jp","chigasaki.kanagawa.jp","ebina.kanagawa.jp","fujisawa.kanagawa.jp","hadano.kanagawa.jp","hakone.kanagawa.jp","hiratsuka.kanagawa.jp","isehara.kanagawa.jp","kaisei.kanagawa.jp","kamakura.kanagawa.jp","kiyokawa.kanagawa.jp","matsuda.kanagawa.jp","minamiashigara.kanagawa.jp","miura.kanagawa.jp","nakai.kanagawa.jp","ninomiya.kanagawa.jp","odawara.kanagawa.jp","oi.kanagawa.jp","oiso.kanagawa.jp","sagamihara.kanagawa.jp","samukawa.kanagawa.jp","tsukui.kanagawa.jp","yamakita.kanagawa.jp","yamato.kanagawa.jp","yokosuka.kanagawa.jp","yugawara.kanagawa.jp","zama.kanagawa.jp","zushi.kanagawa.jp","aki.kochi.jp","geisei.kochi.jp","hidaka.kochi.jp","higashitsuno.kochi.jp","ino.kochi.jp","kagami.kochi.jp","kami.kochi.jp","kitagawa.kochi.jp","kochi.kochi.jp","mihara.kochi.jp","motoyama.kochi.jp","muroto.kochi.jp","nahari.kochi.jp","nakamura.kochi.jp","nankoku.kochi.jp","nishitosa.kochi.jp","niyodogawa.kochi.jp","ochi.kochi.jp","okawa.kochi.jp","otoyo.kochi.jp","otsuki.kochi.jp","sakawa.kochi.jp","sukumo.kochi.jp","susaki.kochi.jp","tosa.kochi.jp","tosashimizu.kochi.jp","toyo.kochi.jp","tsuno.kochi.jp","umaji.kochi.jp","yasuda.kochi.jp","yusuhara.kochi.jp","amakusa.kumamoto.jp","arao.kumamoto.jp","aso.kumamoto.jp","choyo.kumamoto.jp","gyokuto.kumamoto.jp","kamiamakusa.kumamoto.jp","kikuchi.kumamoto.jp","kumamoto.kumamoto.jp","mashiki.kumamoto.jp","mifune.kumamoto.jp","minamata.kumamoto.jp","minamioguni.kumamoto.jp","nagasu.kumamoto.jp","nishihara.kumamoto.jp","oguni.kumamoto.jp","ozu.kumamoto.jp","sumoto.kumamoto.jp","takamori.kumamoto.jp","uki.kumamoto.jp","uto.kumamoto.jp","yamaga.kumamoto.jp","yamato.kumamoto.jp","yatsushiro.kumamoto.jp","ayabe.kyoto.jp","fukuchiyama.kyoto.jp","higashiyama.kyoto.jp","ide.kyoto.jp","ine.kyoto.jp","joyo.kyoto.jp","kameoka.kyoto.jp","kamo.kyoto.jp","kita.kyoto.jp","kizu.kyoto.jp","kumiyama.kyoto.jp","kyotamba.kyoto.jp","kyotanabe.kyoto.jp","kyotango.kyoto.jp","maizuru.kyoto.jp","minami.kyoto.jp","minamiyamashiro.kyoto.jp","miyazu.kyoto.jp","muko.kyoto.jp","nagaokakyo.kyoto.jp","nakagyo.kyoto.jp","nantan.kyoto.jp","oyamazaki.kyoto.jp","sakyo.kyoto.jp","seika.kyoto.jp","tanabe.kyoto.jp","uji.kyoto.jp","ujitawara.kyoto.jp","wazuka.kyoto.jp","yamashina.kyoto.jp","yawata.kyoto.jp","asahi.mie.jp","inabe.mie.jp","ise.mie.jp","kameyama.mie.jp","kawagoe.mie.jp","kiho.mie.jp","kisosaki.mie.jp","kiwa.mie.jp","komono.mie.jp","kumano.mie.jp","kuwana.mie.jp","matsusaka.mie.jp","meiwa.mie.jp","mihama.mie.jp","minamiise.mie.jp","misugi.mie.jp","miyama.mie.jp","nabari.mie.jp","shima.mie.jp","suzuka.mie.jp","tado.mie.jp","taiki.mie.jp","taki.mie.jp","tamaki.mie.jp","toba.mie.jp","tsu.mie.jp","udono.mie.jp","ureshino.mie.jp","watarai.mie.jp","yokkaichi.mie.jp","furukawa.miyagi.jp","higashimatsushima.miyagi.jp","ishinomaki.miyagi.jp","iwanuma.miyagi.jp","kakuda.miyagi.jp","kami.miyagi.jp","kawasaki.miyagi.jp","marumori.miyagi.jp","matsushima.miyagi.jp","minamisanriku.miyagi.jp","misato.miyagi.jp","murata.miyagi.jp","natori.miyagi.jp","ogawara.miyagi.jp","ohira.miyagi.jp","onagawa.miyagi.jp","osaki.miyagi.jp","rifu.miyagi.jp","semine.miyagi.jp","shibata.miyagi.jp","shichikashuku.miyagi.jp","shikama.miyagi.jp","shiogama.miyagi.jp","shiroishi.miyagi.jp","tagajo.miyagi.jp","taiwa.miyagi.jp","tome.miyagi.jp","tomiya.miyagi.jp","wakuya.miyagi.jp","watari.miyagi.jp","yamamoto.miyagi.jp","zao.miyagi.jp","aya.miyazaki.jp","ebino.miyazaki.jp","gokase.miyazaki.jp","hyuga.miyazaki.jp","kadogawa.miyazaki.jp","kawaminami.miyazaki.jp","kijo.miyazaki.jp","kitagawa.miyazaki.jp","kitakata.miyazaki.jp","kitaura.miyazaki.jp","kobayashi.miyazaki.jp","kunitomi.miyazaki.jp","kushima.miyazaki.jp","mimata.miyazaki.jp","miyakonojo.miyazaki.jp","miyazaki.miyazaki.jp","morotsuka.miyazaki.jp","nichinan.miyazaki.jp","nishimera.miyazaki.jp","nobeoka.miyazaki.jp","saito.miyazaki.jp","shiiba.miyazaki.jp","shintomi.miyazaki.jp","takaharu.miyazaki.jp","takanabe.miyazaki.jp","takazaki.miyazaki.jp","tsuno.miyazaki.jp","achi.nagano.jp","agematsu.nagano.jp","anan.nagano.jp","aoki.nagano.jp","asahi.nagano.jp","azumino.nagano.jp","chikuhoku.nagano.jp","chikuma.nagano.jp","chino.nagano.jp","fujimi.nagano.jp","hakuba.nagano.jp","hara.nagano.jp","hiraya.nagano.jp","iida.nagano.jp","iijima.nagano.jp","iiyama.nagano.jp","iizuna.nagano.jp","ikeda.nagano.jp","ikusaka.nagano.jp","ina.nagano.jp","karuizawa.nagano.jp","kawakami.nagano.jp","kiso.nagano.jp","kisofukushima.nagano.jp","kitaaiki.nagano.jp","komagane.nagano.jp","komoro.nagano.jp","matsukawa.nagano.jp","matsumoto.nagano.jp","miasa.nagano.jp","minamiaiki.nagano.jp","minamimaki.nagano.jp","minamiminowa.nagano.jp","minowa.nagano.jp","miyada.nagano.jp","miyota.nagano.jp","mochizuki.nagano.jp","nagano.nagano.jp","nagawa.nagano.jp","nagiso.nagano.jp","nakagawa.nagano.jp","nakano.nagano.jp","nozawaonsen.nagano.jp","obuse.nagano.jp","ogawa.nagano.jp","okaya.nagano.jp","omachi.nagano.jp","omi.nagano.jp","ookuwa.nagano.jp","ooshika.nagano.jp","otaki.nagano.jp","otari.nagano.jp","sakae.nagano.jp","sakaki.nagano.jp","saku.nagano.jp","sakuho.nagano.jp","shimosuwa.nagano.jp","shinanomachi.nagano.jp","shiojiri.nagano.jp","suwa.nagano.jp","suzaka.nagano.jp","takagi.nagano.jp","takamori.nagano.jp","takayama.nagano.jp","tateshina.nagano.jp","tatsuno.nagano.jp","togakushi.nagano.jp","togura.nagano.jp","tomi.nagano.jp","ueda.nagano.jp","wada.nagano.jp","yamagata.nagano.jp","yamanouchi.nagano.jp","yasaka.nagano.jp","yasuoka.nagano.jp","chijiwa.nagasaki.jp","futsu.nagasaki.jp","goto.nagasaki.jp","hasami.nagasaki.jp","hirado.nagasaki.jp","iki.nagasaki.jp","isahaya.nagasaki.jp","kawatana.nagasaki.jp","kuchinotsu.nagasaki.jp","matsuura.nagasaki.jp","nagasaki.nagasaki.jp","obama.nagasaki.jp","omura.nagasaki.jp","oseto.nagasaki.jp","saikai.nagasaki.jp","sasebo.nagasaki.jp","seihi.nagasaki.jp","shimabara.nagasaki.jp","shinkamigoto.nagasaki.jp","togitsu.nagasaki.jp","tsushima.nagasaki.jp","unzen.nagasaki.jp","ando.nara.jp","gose.nara.jp","heguri.nara.jp","higashiyoshino.nara.jp","ikaruga.nara.jp","ikoma.nara.jp","kamikitayama.nara.jp","kanmaki.nara.jp","kashiba.nara.jp","kashihara.nara.jp","katsuragi.nara.jp","kawai.nara.jp","kawakami.nara.jp","kawanishi.nara.jp","koryo.nara.jp","kurotaki.nara.jp","mitsue.nara.jp","miyake.nara.jp","nara.nara.jp","nosegawa.nara.jp","oji.nara.jp","ouda.nara.jp","oyodo.nara.jp","sakurai.nara.jp","sango.nara.jp","shimoichi.nara.jp","shimokitayama.nara.jp","shinjo.nara.jp","soni.nara.jp","takatori.nara.jp","tawaramoto.nara.jp","tenkawa.nara.jp","tenri.nara.jp","uda.nara.jp","yamatokoriyama.nara.jp","yamatotakada.nara.jp","yamazoe.nara.jp","yoshino.nara.jp","aga.niigata.jp","agano.niigata.jp","gosen.niigata.jp","itoigawa.niigata.jp","izumozaki.niigata.jp","joetsu.niigata.jp","kamo.niigata.jp","kariwa.niigata.jp","kashiwazaki.niigata.jp","minamiuonuma.niigata.jp","mitsuke.niigata.jp","muika.niigata.jp","murakami.niigata.jp","myoko.niigata.jp","nagaoka.niigata.jp","niigata.niigata.jp","ojiya.niigata.jp","omi.niigata.jp","sado.niigata.jp","sanjo.niigata.jp","seiro.niigata.jp","seirou.niigata.jp","sekikawa.niigata.jp","shibata.niigata.jp","tagami.niigata.jp","tainai.niigata.jp","tochio.niigata.jp","tokamachi.niigata.jp","tsubame.niigata.jp","tsunan.niigata.jp","uonuma.niigata.jp","yahiko.niigata.jp","yoita.niigata.jp","yuzawa.niigata.jp","beppu.oita.jp","bungoono.oita.jp","bungotakada.oita.jp","hasama.oita.jp","hiji.oita.jp","himeshima.oita.jp","hita.oita.jp","kamitsue.oita.jp","kokonoe.oita.jp","kuju.oita.jp","kunisaki.oita.jp","kusu.oita.jp","oita.oita.jp","saiki.oita.jp","taketa.oita.jp","tsukumi.oita.jp","usa.oita.jp","usuki.oita.jp","yufu.oita.jp","akaiwa.okayama.jp","asakuchi.okayama.jp","bizen.okayama.jp","hayashima.okayama.jp","ibara.okayama.jp","kagamino.okayama.jp","kasaoka.okayama.jp","kibichuo.okayama.jp","kumenan.okayama.jp","kurashiki.okayama.jp","maniwa.okayama.jp","misaki.okayama.jp","nagi.okayama.jp","niimi.okayama.jp","nishiawakura.okayama.jp","okayama.okayama.jp","satosho.okayama.jp","setouchi.okayama.jp","shinjo.okayama.jp","shoo.okayama.jp","soja.okayama.jp","takahashi.okayama.jp","tamano.okayama.jp","tsuyama.okayama.jp","wake.okayama.jp","yakage.okayama.jp","aguni.okinawa.jp","ginowan.okinawa.jp","ginoza.okinawa.jp","gushikami.okinawa.jp","haebaru.okinawa.jp","higashi.okinawa.jp","hirara.okinawa.jp","iheya.okinawa.jp","ishigaki.okinawa.jp","ishikawa.okinawa.jp","itoman.okinawa.jp","izena.okinawa.jp","kadena.okinawa.jp","kin.okinawa.jp","kitadaito.okinawa.jp","kitanakagusuku.okinawa.jp","kumejima.okinawa.jp","kunigami.okinawa.jp","minamidaito.okinawa.jp","motobu.okinawa.jp","nago.okinawa.jp","naha.okinawa.jp","nakagusuku.okinawa.jp","nakijin.okinawa.jp","nanjo.okinawa.jp","nishihara.okinawa.jp","ogimi.okinawa.jp","okinawa.okinawa.jp","onna.okinawa.jp","shimoji.okinawa.jp","taketomi.okinawa.jp","tarama.okinawa.jp","tokashiki.okinawa.jp","tomigusuku.okinawa.jp","tonaki.okinawa.jp","urasoe.okinawa.jp","uruma.okinawa.jp","yaese.okinawa.jp","yomitan.okinawa.jp","yonabaru.okinawa.jp","yonaguni.okinawa.jp","zamami.okinawa.jp","abeno.osaka.jp","chihayaakasaka.osaka.jp","chuo.osaka.jp","daito.osaka.jp","fujiidera.osaka.jp","habikino.osaka.jp","hannan.osaka.jp","higashiosaka.osaka.jp","higashisumiyoshi.osaka.jp","higashiyodogawa.osaka.jp","hirakata.osaka.jp","ibaraki.osaka.jp","ikeda.osaka.jp","izumi.osaka.jp","izumiotsu.osaka.jp","izumisano.osaka.jp","kadoma.osaka.jp","kaizuka.osaka.jp","kanan.osaka.jp","kashiwara.osaka.jp","katano.osaka.jp","kawachinagano.osaka.jp","kishiwada.osaka.jp","kita.osaka.jp","kumatori.osaka.jp","matsubara.osaka.jp","minato.osaka.jp","minoh.osaka.jp","misaki.osaka.jp","moriguchi.osaka.jp","neyagawa.osaka.jp","nishi.osaka.jp","nose.osaka.jp","osakasayama.osaka.jp","sakai.osaka.jp","sayama.osaka.jp","sennan.osaka.jp","settsu.osaka.jp","shijonawate.osaka.jp","shimamoto.osaka.jp","suita.osaka.jp","tadaoka.osaka.jp","taishi.osaka.jp","tajiri.osaka.jp","takaishi.osaka.jp","takatsuki.osaka.jp","tondabayashi.osaka.jp","toyonaka.osaka.jp","toyono.osaka.jp","yao.osaka.jp","ariake.saga.jp","arita.saga.jp","fukudomi.saga.jp","genkai.saga.jp","hamatama.saga.jp","hizen.saga.jp","imari.saga.jp","kamimine.saga.jp","kanzaki.saga.jp","karatsu.saga.jp","kashima.saga.jp","kitagata.saga.jp","kitahata.saga.jp","kiyama.saga.jp","kouhoku.saga.jp","kyuragi.saga.jp","nishiarita.saga.jp","ogi.saga.jp","omachi.saga.jp","ouchi.saga.jp","saga.saga.jp","shiroishi.saga.jp","taku.saga.jp","tara.saga.jp","tosu.saga.jp","yoshinogari.saga.jp","arakawa.saitama.jp","asaka.saitama.jp","chichibu.saitama.jp","fujimi.saitama.jp","fujimino.saitama.jp","fukaya.saitama.jp","hanno.saitama.jp","hanyu.saitama.jp","hasuda.saitama.jp","hatogaya.saitama.jp","hatoyama.saitama.jp","hidaka.saitama.jp","higashichichibu.saitama.jp","higashimatsuyama.saitama.jp","honjo.saitama.jp","ina.saitama.jp","iruma.saitama.jp","iwatsuki.saitama.jp","kamiizumi.saitama.jp","kamikawa.saitama.jp","kamisato.saitama.jp","kasukabe.saitama.jp","kawagoe.saitama.jp","kawaguchi.saitama.jp","kawajima.saitama.jp","kazo.saitama.jp","kitamoto.saitama.jp","koshigaya.saitama.jp","kounosu.saitama.jp","kuki.saitama.jp","kumagaya.saitama.jp","matsubushi.saitama.jp","minano.saitama.jp","misato.saitama.jp","miyashiro.saitama.jp","miyoshi.saitama.jp","moroyama.saitama.jp","nagatoro.saitama.jp","namegawa.saitama.jp","niiza.saitama.jp","ogano.saitama.jp","ogawa.saitama.jp","ogose.saitama.jp","okegawa.saitama.jp","omiya.saitama.jp","otaki.saitama.jp","ranzan.saitama.jp","ryokami.saitama.jp","saitama.saitama.jp","sakado.saitama.jp","satte.saitama.jp","sayama.saitama.jp","shiki.saitama.jp","shiraoka.saitama.jp","soka.saitama.jp","sugito.saitama.jp","toda.saitama.jp","tokigawa.saitama.jp","tokorozawa.saitama.jp","tsurugashima.saitama.jp","urawa.saitama.jp","warabi.saitama.jp","yashio.saitama.jp","yokoze.saitama.jp","yono.saitama.jp","yorii.saitama.jp","yoshida.saitama.jp","yoshikawa.saitama.jp","yoshimi.saitama.jp","aisho.shiga.jp","gamo.shiga.jp","higashiomi.shiga.jp","hikone.shiga.jp","koka.shiga.jp","konan.shiga.jp","kosei.shiga.jp","koto.shiga.jp","kusatsu.shiga.jp","maibara.shiga.jp","moriyama.shiga.jp","nagahama.shiga.jp","nishiazai.shiga.jp","notogawa.shiga.jp","omihachiman.shiga.jp","otsu.shiga.jp","ritto.shiga.jp","ryuoh.shiga.jp","takashima.shiga.jp","takatsuki.shiga.jp","torahime.shiga.jp","toyosato.shiga.jp","yasu.shiga.jp","akagi.shimane.jp","ama.shimane.jp","gotsu.shimane.jp","hamada.shimane.jp","higashiizumo.shimane.jp","hikawa.shimane.jp","hikimi.shimane.jp","izumo.shimane.jp","kakinoki.shimane.jp","masuda.shimane.jp","matsue.shimane.jp","misato.shimane.jp","nishinoshima.shimane.jp","ohda.shimane.jp","okinoshima.shimane.jp","okuizumo.shimane.jp","shimane.shimane.jp","tamayu.shimane.jp","tsuwano.shimane.jp","unnan.shimane.jp","yakumo.shimane.jp","yasugi.shimane.jp","yatsuka.shimane.jp","arai.shizuoka.jp","atami.shizuoka.jp","fuji.shizuoka.jp","fujieda.shizuoka.jp","fujikawa.shizuoka.jp","fujinomiya.shizuoka.jp","fukuroi.shizuoka.jp","gotemba.shizuoka.jp","haibara.shizuoka.jp","hamamatsu.shizuoka.jp","higashiizu.shizuoka.jp","ito.shizuoka.jp","iwata.shizuoka.jp","izu.shizuoka.jp","izunokuni.shizuoka.jp","kakegawa.shizuoka.jp","kannami.shizuoka.jp","kawanehon.shizuoka.jp","kawazu.shizuoka.jp","kikugawa.shizuoka.jp","kosai.shizuoka.jp","makinohara.shizuoka.jp","matsuzaki.shizuoka.jp","minamiizu.shizuoka.jp","mishima.shizuoka.jp","morimachi.shizuoka.jp","nishiizu.shizuoka.jp","numazu.shizuoka.jp","omaezaki.shizuoka.jp","shimada.shizuoka.jp","shimizu.shizuoka.jp","shimoda.shizuoka.jp","shizuoka.shizuoka.jp","susono.shizuoka.jp","yaizu.shizuoka.jp","yoshida.shizuoka.jp","ashikaga.tochigi.jp","bato.tochigi.jp","haga.tochigi.jp","ichikai.tochigi.jp","iwafune.tochigi.jp","kaminokawa.tochigi.jp","kanuma.tochigi.jp","karasuyama.tochigi.jp","kuroiso.tochigi.jp","mashiko.tochigi.jp","mibu.tochigi.jp","moka.tochigi.jp","motegi.tochigi.jp","nasu.tochigi.jp","nasushiobara.tochigi.jp","nikko.tochigi.jp","nishikata.tochigi.jp","nogi.tochigi.jp","ohira.tochigi.jp","ohtawara.tochigi.jp","oyama.tochigi.jp","sakura.tochigi.jp","sano.tochigi.jp","shimotsuke.tochigi.jp","shioya.tochigi.jp","takanezawa.tochigi.jp","tochigi.tochigi.jp","tsuga.tochigi.jp","ujiie.tochigi.jp","utsunomiya.tochigi.jp","yaita.tochigi.jp","aizumi.tokushima.jp","anan.tokushima.jp","ichiba.tokushima.jp","itano.tokushima.jp","kainan.tokushima.jp","komatsushima.tokushima.jp","matsushige.tokushima.jp","mima.tokushima.jp","minami.tokushima.jp","miyoshi.tokushima.jp","mugi.tokushima.jp","nakagawa.tokushima.jp","naruto.tokushima.jp","sanagochi.tokushima.jp","shishikui.tokushima.jp","tokushima.tokushima.jp","wajiki.tokushima.jp","adachi.tokyo.jp","akiruno.tokyo.jp","akishima.tokyo.jp","aogashima.tokyo.jp","arakawa.tokyo.jp","bunkyo.tokyo.jp","chiyoda.tokyo.jp","chofu.tokyo.jp","chuo.tokyo.jp","edogawa.tokyo.jp","fuchu.tokyo.jp","fussa.tokyo.jp","hachijo.tokyo.jp","hachioji.tokyo.jp","hamura.tokyo.jp","higashikurume.tokyo.jp","higashimurayama.tokyo.jp","higashiyamato.tokyo.jp","hino.tokyo.jp","hinode.tokyo.jp","hinohara.tokyo.jp","inagi.tokyo.jp","itabashi.tokyo.jp","katsushika.tokyo.jp","kita.tokyo.jp","kiyose.tokyo.jp","kodaira.tokyo.jp","koganei.tokyo.jp","kokubunji.tokyo.jp","komae.tokyo.jp","koto.tokyo.jp","kouzushima.tokyo.jp","kunitachi.tokyo.jp","machida.tokyo.jp","meguro.tokyo.jp","minato.tokyo.jp","mitaka.tokyo.jp","mizuho.tokyo.jp","musashimurayama.tokyo.jp","musashino.tokyo.jp","nakano.tokyo.jp","nerima.tokyo.jp","ogasawara.tokyo.jp","okutama.tokyo.jp","ome.tokyo.jp","oshima.tokyo.jp","ota.tokyo.jp","setagaya.tokyo.jp","shibuya.tokyo.jp","shinagawa.tokyo.jp","shinjuku.tokyo.jp","suginami.tokyo.jp","sumida.tokyo.jp","tachikawa.tokyo.jp","taito.tokyo.jp","tama.tokyo.jp","toshima.tokyo.jp","chizu.tottori.jp","hino.tottori.jp","kawahara.tottori.jp","koge.tottori.jp","kotoura.tottori.jp","misasa.tottori.jp","nanbu.tottori.jp","nichinan.tottori.jp","sakaiminato.tottori.jp","tottori.tottori.jp","wakasa.tottori.jp","yazu.tottori.jp","yonago.tottori.jp","asahi.toyama.jp","fuchu.toyama.jp","fukumitsu.toyama.jp","funahashi.toyama.jp","himi.toyama.jp","imizu.toyama.jp","inami.toyama.jp","johana.toyama.jp","kamiichi.toyama.jp","kurobe.toyama.jp","nakaniikawa.toyama.jp","namerikawa.toyama.jp","nanto.toyama.jp","nyuzen.toyama.jp","oyabe.toyama.jp","taira.toyama.jp","takaoka.toyama.jp","tateyama.toyama.jp","toga.toyama.jp","tonami.toyama.jp","toyama.toyama.jp","unazuki.toyama.jp","uozu.toyama.jp","yamada.toyama.jp","arida.wakayama.jp","aridagawa.wakayama.jp","gobo.wakayama.jp","hashimoto.wakayama.jp","hidaka.wakayama.jp","hirogawa.wakayama.jp","inami.wakayama.jp","iwade.wakayama.jp","kainan.wakayama.jp","kamitonda.wakayama.jp","katsuragi.wakayama.jp","kimino.wakayama.jp","kinokawa.wakayama.jp","kitayama.wakayama.jp","koya.wakayama.jp","koza.wakayama.jp","kozagawa.wakayama.jp","kudoyama.wakayama.jp","kushimoto.wakayama.jp","mihama.wakayama.jp","misato.wakayama.jp","nachikatsuura.wakayama.jp","shingu.wakayama.jp","shirahama.wakayama.jp","taiji.wakayama.jp","tanabe.wakayama.jp","wakayama.wakayama.jp","yuasa.wakayama.jp","yura.wakayama.jp","asahi.yamagata.jp","funagata.yamagata.jp","higashine.yamagata.jp","iide.yamagata.jp","kahoku.yamagata.jp","kaminoyama.yamagata.jp","kaneyama.yamagata.jp","kawanishi.yamagata.jp","mamurogawa.yamagata.jp","mikawa.yamagata.jp","murayama.yamagata.jp","nagai.yamagata.jp","nakayama.yamagata.jp","nanyo.yamagata.jp","nishikawa.yamagata.jp","obanazawa.yamagata.jp","oe.yamagata.jp","oguni.yamagata.jp","ohkura.yamagata.jp","oishida.yamagata.jp","sagae.yamagata.jp","sakata.yamagata.jp","sakegawa.yamagata.jp","shinjo.yamagata.jp","shirataka.yamagata.jp","shonai.yamagata.jp","takahata.yamagata.jp","tendo.yamagata.jp","tozawa.yamagata.jp","tsuruoka.yamagata.jp","yamagata.yamagata.jp","yamanobe.yamagata.jp","yonezawa.yamagata.jp","yuza.yamagata.jp","abu.yamaguchi.jp","hagi.yamaguchi.jp","hikari.yamaguchi.jp","hofu.yamaguchi.jp","iwakuni.yamaguchi.jp","kudamatsu.yamaguchi.jp","mitou.yamaguchi.jp","nagato.yamaguchi.jp","oshima.yamaguchi.jp","shimonoseki.yamaguchi.jp","shunan.yamaguchi.jp","tabuse.yamaguchi.jp","tokuyama.yamaguchi.jp","toyota.yamaguchi.jp","ube.yamaguchi.jp","yuu.yamaguchi.jp","chuo.yamanashi.jp","doshi.yamanashi.jp","fuefuki.yamanashi.jp","fujikawa.yamanashi.jp","fujikawaguchiko.yamanashi.jp","fujiyoshida.yamanashi.jp","hayakawa.yamanashi.jp","hokuto.yamanashi.jp","ichikawamisato.yamanashi.jp","kai.yamanashi.jp","kofu.yamanashi.jp","koshu.yamanashi.jp","kosuge.yamanashi.jp","minami-alps.yamanashi.jp","minobu.yamanashi.jp","nakamichi.yamanashi.jp","nanbu.yamanashi.jp","narusawa.yamanashi.jp","nirasaki.yamanashi.jp","nishikatsura.yamanashi.jp","oshino.yamanashi.jp","otsuki.yamanashi.jp","showa.yamanashi.jp","tabayama.yamanashi.jp","tsuru.yamanashi.jp","uenohara.yamanashi.jp","yamanakako.yamanashi.jp","yamanashi.yamanashi.jp","ke","ac.ke","co.ke","go.ke","info.ke","me.ke","mobi.ke","ne.ke","or.ke","sc.ke","kg","org.kg","net.kg","com.kg","edu.kg","gov.kg","mil.kg","*.kh","ki","edu.ki","biz.ki","net.ki","org.ki","gov.ki","info.ki","com.ki","km","org.km","nom.km","gov.km","prd.km","tm.km","edu.km","mil.km","ass.km","com.km","coop.km","asso.km","presse.km","medecin.km","notaires.km","pharmaciens.km","veterinaire.km","gouv.km","kn","net.kn","org.kn","edu.kn","gov.kn","kp","com.kp","edu.kp","gov.kp","org.kp","rep.kp","tra.kp","kr","ac.kr","co.kr","es.kr","go.kr","hs.kr","kg.kr","mil.kr","ms.kr","ne.kr","or.kr","pe.kr","re.kr","sc.kr","busan.kr","chungbuk.kr","chungnam.kr","daegu.kr","daejeon.kr","gangwon.kr","gwangju.kr","gyeongbuk.kr","gyeonggi.kr","gyeongnam.kr","incheon.kr","jeju.kr","jeonbuk.kr","jeonnam.kr","seoul.kr","ulsan.kr","kw","com.kw","edu.kw","emb.kw","gov.kw","ind.kw","net.kw","org.kw","ky","edu.ky","gov.ky","com.ky","org.ky","net.ky","kz","org.kz","edu.kz","net.kz","gov.kz","mil.kz","com.kz","la","int.la","net.la","info.la","edu.la","gov.la","per.la","com.la","org.la","lb","com.lb","edu.lb","gov.lb","net.lb","org.lb","lc","com.lc","net.lc","co.lc","org.lc","edu.lc","gov.lc","li","lk","gov.lk","sch.lk","net.lk","int.lk","com.lk","org.lk","edu.lk","ngo.lk","soc.lk","web.lk","ltd.lk","assn.lk","grp.lk","hotel.lk","ac.lk","lr","com.lr","edu.lr","gov.lr","org.lr","net.lr","ls","ac.ls","biz.ls","co.ls","edu.ls","gov.ls","info.ls","net.ls","org.ls","sc.ls","lt","gov.lt","lu","lv","com.lv","edu.lv","gov.lv","org.lv","mil.lv","id.lv","net.lv","asn.lv","conf.lv","ly","com.ly","net.ly","gov.ly","plc.ly","edu.ly","sch.ly","med.ly","org.ly","id.ly","ma","co.ma","net.ma","gov.ma","org.ma","ac.ma","press.ma","mc","tm.mc","asso.mc","md","me","co.me","net.me","org.me","edu.me","ac.me","gov.me","its.me","priv.me","mg","org.mg","nom.mg","gov.mg","prd.mg","tm.mg","edu.mg","mil.mg","com.mg","co.mg","mh","mil","mk","com.mk","org.mk","net.mk","edu.mk","gov.mk","inf.mk","name.mk","ml","com.ml","edu.ml","gouv.ml","gov.ml","net.ml","org.ml","presse.ml","*.mm","mn","gov.mn","edu.mn","org.mn","mo","com.mo","net.mo","org.mo","edu.mo","gov.mo","mobi","mp","mq","mr","gov.mr","ms","com.ms","edu.ms","gov.ms","net.ms","org.ms","mt","com.mt","edu.mt","net.mt","org.mt","mu","com.mu","net.mu","org.mu","gov.mu","ac.mu","co.mu","or.mu","museum","academy.museum","agriculture.museum","air.museum","airguard.museum","alabama.museum","alaska.museum","amber.museum","ambulance.museum","american.museum","americana.museum","americanantiques.museum","americanart.museum","amsterdam.museum","and.museum","annefrank.museum","anthro.museum","anthropology.museum","antiques.museum","aquarium.museum","arboretum.museum","archaeological.museum","archaeology.museum","architecture.museum","art.museum","artanddesign.museum","artcenter.museum","artdeco.museum","arteducation.museum","artgallery.museum","arts.museum","artsandcrafts.museum","asmatart.museum","assassination.museum","assisi.museum","association.museum","astronomy.museum","atlanta.museum","austin.museum","australia.museum","automotive.museum","aviation.museum","axis.museum","badajoz.museum","baghdad.museum","bahn.museum","bale.museum","baltimore.museum","barcelona.museum","baseball.museum","basel.museum","baths.museum","bauern.museum","beauxarts.museum","beeldengeluid.museum","bellevue.museum","bergbau.museum","berkeley.museum","berlin.museum","bern.museum","bible.museum","bilbao.museum","bill.museum","birdart.museum","birthplace.museum","bonn.museum","boston.museum","botanical.museum","botanicalgarden.museum","botanicgarden.museum","botany.museum","brandywinevalley.museum","brasil.museum","bristol.museum","british.museum","britishcolumbia.museum","broadcast.museum","brunel.museum","brussel.museum","brussels.museum","bruxelles.museum","building.museum","burghof.museum","bus.museum","bushey.museum","cadaques.museum","california.museum","cambridge.museum","can.museum","canada.museum","capebreton.museum","carrier.museum","cartoonart.museum","casadelamoneda.museum","castle.museum","castres.museum","celtic.museum","center.museum","chattanooga.museum","cheltenham.museum","chesapeakebay.museum","chicago.museum","children.museum","childrens.museum","childrensgarden.museum","chiropractic.museum","chocolate.museum","christiansburg.museum","cincinnati.museum","cinema.museum","circus.museum","civilisation.museum","civilization.museum","civilwar.museum","clinton.museum","clock.museum","coal.museum","coastaldefence.museum","cody.museum","coldwar.museum","collection.museum","colonialwilliamsburg.museum","coloradoplateau.museum","columbia.museum","columbus.museum","communication.museum","communications.museum","community.museum","computer.museum","computerhistory.museum","comunicaes.museum","contemporary.museum","contemporaryart.museum","convent.museum","copenhagen.museum","corporation.museum","correios-e-telecomunicaes.museum","corvette.museum","costume.museum","countryestate.museum","county.museum","crafts.museum","cranbrook.museum","creation.museum","cultural.museum","culturalcenter.museum","culture.museum","cyber.museum","cymru.museum","dali.museum","dallas.museum","database.museum","ddr.museum","decorativearts.museum","delaware.museum","delmenhorst.museum","denmark.museum","depot.museum","design.museum","detroit.museum","dinosaur.museum","discovery.museum","dolls.museum","donostia.museum","durham.museum","eastafrica.museum","eastcoast.museum","education.museum","educational.museum","egyptian.museum","eisenbahn.museum","elburg.museum","elvendrell.museum","embroidery.museum","encyclopedic.museum","england.museum","entomology.museum","environment.museum","environmentalconservation.museum","epilepsy.museum","essex.museum","estate.museum","ethnology.museum","exeter.museum","exhibition.museum","family.museum","farm.museum","farmequipment.museum","farmers.museum","farmstead.museum","field.museum","figueres.museum","filatelia.museum","film.museum","fineart.museum","finearts.museum","finland.museum","flanders.museum","florida.museum","force.museum","fortmissoula.museum","fortworth.museum","foundation.museum","francaise.museum","frankfurt.museum","franziskaner.museum","freemasonry.museum","freiburg.museum","fribourg.museum","frog.museum","fundacio.museum","furniture.museum","gallery.museum","garden.museum","gateway.museum","geelvinck.museum","gemological.museum","geology.museum","georgia.museum","giessen.museum","glas.museum","glass.museum","gorge.museum","grandrapids.museum","graz.museum","guernsey.museum","halloffame.museum","hamburg.museum","handson.museum","harvestcelebration.museum","hawaii.museum","health.museum","heimatunduhren.museum","hellas.museum","helsinki.museum","hembygdsforbund.museum","heritage.museum","histoire.museum","historical.museum","historicalsociety.museum","historichouses.museum","historisch.museum","historisches.museum","history.museum","historyofscience.museum","horology.museum","house.museum","humanities.museum","illustration.museum","imageandsound.museum","indian.museum","indiana.museum","indianapolis.museum","indianmarket.museum","intelligence.museum","interactive.museum","iraq.museum","iron.museum","isleofman.museum","jamison.museum","jefferson.museum","jerusalem.museum","jewelry.museum","jewish.museum","jewishart.museum","jfk.museum","journalism.museum","judaica.museum","judygarland.museum","juedisches.museum","juif.museum","karate.museum","karikatur.museum","kids.museum","koebenhavn.museum","koeln.museum","kunst.museum","kunstsammlung.museum","kunstunddesign.museum","labor.museum","labour.museum","lajolla.museum","lancashire.museum","landes.museum","lans.museum","lns.museum","larsson.museum","lewismiller.museum","lincoln.museum","linz.museum","living.museum","livinghistory.museum","localhistory.museum","london.museum","losangeles.museum","louvre.museum","loyalist.museum","lucerne.museum","luxembourg.museum","luzern.museum","mad.museum","madrid.museum","mallorca.museum","manchester.museum","mansion.museum","mansions.museum","manx.museum","marburg.museum","maritime.museum","maritimo.museum","maryland.museum","marylhurst.museum","media.museum","medical.museum","medizinhistorisches.museum","meeres.museum","memorial.museum","mesaverde.museum","michigan.museum","midatlantic.museum","military.museum","mill.museum","miners.museum","mining.museum","minnesota.museum","missile.museum","missoula.museum","modern.museum","moma.museum","money.museum","monmouth.museum","monticello.museum","montreal.museum","moscow.museum","motorcycle.museum","muenchen.museum","muenster.museum","mulhouse.museum","muncie.museum","museet.museum","museumcenter.museum","museumvereniging.museum","music.museum","national.museum","nationalfirearms.museum","nationalheritage.museum","nativeamerican.museum","naturalhistory.museum","naturalhistorymuseum.museum","naturalsciences.museum","nature.museum","naturhistorisches.museum","natuurwetenschappen.museum","naumburg.museum","naval.museum","nebraska.museum","neues.museum","newhampshire.museum","newjersey.museum","newmexico.museum","newport.museum","newspaper.museum","newyork.museum","niepce.museum","norfolk.museum","north.museum","nrw.museum","nuernberg.museum","nuremberg.museum","nyc.museum","nyny.museum","oceanographic.museum","oceanographique.museum","omaha.museum","online.museum","ontario.museum","openair.museum","oregon.museum","oregontrail.museum","otago.museum","oxford.museum","pacific.museum","paderborn.museum","palace.museum","paleo.museum","palmsprings.museum","panama.museum","paris.museum","pasadena.museum","pharmacy.museum","philadelphia.museum","philadelphiaarea.museum","philately.museum","phoenix.museum","photography.museum","pilots.museum","pittsburgh.museum","planetarium.museum","plantation.museum","plants.museum","plaza.museum","portal.museum","portland.museum","portlligat.museum","posts-and-telecommunications.museum","preservation.museum","presidio.museum","press.museum","project.museum","public.museum","pubol.museum","quebec.museum","railroad.museum","railway.museum","research.museum","resistance.museum","riodejaneiro.museum","rochester.museum","rockart.museum","roma.museum","russia.museum","saintlouis.museum","salem.museum","salvadordali.museum","salzburg.museum","sandiego.museum","sanfrancisco.museum","santabarbara.museum","santacruz.museum","santafe.museum","saskatchewan.museum","satx.museum","savannahga.museum","schlesisches.museum","schoenbrunn.museum","schokoladen.museum","school.museum","schweiz.museum","science.museum","scienceandhistory.museum","scienceandindustry.museum","sciencecenter.museum","sciencecenters.museum","science-fiction.museum","sciencehistory.museum","sciences.museum","sciencesnaturelles.museum","scotland.museum","seaport.museum","settlement.museum","settlers.museum","shell.museum","sherbrooke.museum","sibenik.museum","silk.museum","ski.museum","skole.museum","society.museum","sologne.museum","soundandvision.museum","southcarolina.museum","southwest.museum","space.museum","spy.museum","square.museum","stadt.museum","stalbans.museum","starnberg.museum","state.museum","stateofdelaware.museum","station.museum","steam.museum","steiermark.museum","stjohn.museum","stockholm.museum","stpetersburg.museum","stuttgart.museum","suisse.museum","surgeonshall.museum","surrey.museum","svizzera.museum","sweden.museum","sydney.museum","tank.museum","tcm.museum","technology.museum","telekommunikation.museum","television.museum","texas.museum","textile.museum","theater.museum","time.museum","timekeeping.museum","topology.museum","torino.museum","touch.museum","town.museum","transport.museum","tree.museum","trolley.museum","trust.museum","trustee.museum","uhren.museum","ulm.museum","undersea.museum","university.museum","usa.museum","usantiques.museum","usarts.museum","uscountryestate.museum","usculture.museum","usdecorativearts.museum","usgarden.museum","ushistory.museum","ushuaia.museum","uslivinghistory.museum","utah.museum","uvic.museum","valley.museum","vantaa.museum","versailles.museum","viking.museum","village.museum","virginia.museum","virtual.museum","virtuel.museum","vlaanderen.museum","volkenkunde.museum","wales.museum","wallonie.museum","war.museum","washingtondc.museum","watchandclock.museum","watch-and-clock.museum","western.museum","westfalen.museum","whaling.museum","wildlife.museum","williamsburg.museum","windmill.museum","workshop.museum","york.museum","yorkshire.museum","yosemite.museum","youth.museum","zoological.museum","zoology.museum",".museum",".museum","mv","aero.mv","biz.mv","com.mv","coop.mv","edu.mv","gov.mv","info.mv","int.mv","mil.mv","museum.mv","name.mv","net.mv","org.mv","pro.mv","mw","ac.mw","biz.mw","co.mw","com.mw","coop.mw","edu.mw","gov.mw","int.mw","museum.mw","net.mw","org.mw","mx","com.mx","org.mx","gob.mx","edu.mx","net.mx","my","com.my","net.my","org.my","gov.my","edu.my","mil.my","name.my","mz","ac.mz","adv.mz","co.mz","edu.mz","gov.mz","mil.mz","net.mz","org.mz","na","info.na","pro.na","name.na","school.na","or.na","dr.na","us.na","mx.na","ca.na","in.na","cc.na","tv.na","ws.na","mobi.na","co.na","com.na","org.na","name","nc","asso.nc","nom.nc","ne","net","nf","com.nf","net.nf","per.nf","rec.nf","web.nf","arts.nf","firm.nf","info.nf","other.nf","store.nf","ng","com.ng","edu.ng","gov.ng","i.ng","mil.ng","mobi.ng","name.ng","net.ng","org.ng","sch.ng","ni","ac.ni","biz.ni","co.ni","com.ni","edu.ni","gob.ni","in.ni","info.ni","int.ni","mil.ni","net.ni","nom.ni","org.ni","web.ni","nl","no","fhs.no","vgs.no","fylkesbibl.no","folkebibl.no","museum.no","idrett.no","priv.no","mil.no","stat.no","dep.no","kommune.no","herad.no","aa.no","ah.no","bu.no","fm.no","hl.no","hm.no","jan-mayen.no","mr.no","nl.no","nt.no","of.no","ol.no","oslo.no","rl.no","sf.no","st.no","svalbard.no","tm.no","tr.no","va.no","vf.no","gs.aa.no","gs.ah.no","gs.bu.no","gs.fm.no","gs.hl.no","gs.hm.no","gs.jan-mayen.no","gs.mr.no","gs.nl.no","gs.nt.no","gs.of.no","gs.ol.no","gs.oslo.no","gs.rl.no","gs.sf.no","gs.st.no","gs.svalbard.no","gs.tm.no","gs.tr.no","gs.va.no","gs.vf.no","akrehamn.no","krehamn.no","algard.no","lgrd.no","arna.no","brumunddal.no","bryne.no","bronnoysund.no","brnnysund.no","drobak.no","drbak.no","egersund.no","fetsund.no","floro.no","flor.no","fredrikstad.no","hokksund.no","honefoss.no","hnefoss.no","jessheim.no","jorpeland.no","jrpeland.no","kirkenes.no","kopervik.no","krokstadelva.no","langevag.no","langevg.no","leirvik.no","mjondalen.no","mjndalen.no","mo-i-rana.no","mosjoen.no","mosjen.no","nesoddtangen.no","orkanger.no","osoyro.no","osyro.no","raholt.no","rholt.no","sandnessjoen.no","sandnessjen.no","skedsmokorset.no","slattum.no","spjelkavik.no","stathelle.no","stavern.no","stjordalshalsen.no","stjrdalshalsen.no","tananger.no","tranby.no","vossevangen.no","afjord.no","fjord.no","agdenes.no","al.no","l.no","alesund.no","lesund.no","alstahaug.no","alta.no","lt.no","alaheadju.no","laheadju.no","alvdal.no","amli.no","mli.no","amot.no","mot.no","andebu.no","andoy.no","andy.no","andasuolo.no","ardal.no","rdal.no","aremark.no","arendal.no","s.no","aseral.no","seral.no","asker.no","askim.no","askvoll.no","askoy.no","asky.no","asnes.no","snes.no","audnedaln.no","aukra.no","aure.no","aurland.no","aurskog-holand.no","aurskog-hland.no","austevoll.no","austrheim.no","averoy.no","avery.no","balestrand.no","ballangen.no","balat.no","blt.no","balsfjord.no","bahccavuotna.no","bhccavuotna.no","bamble.no","bardu.no","beardu.no","beiarn.no","bajddar.no","bjddar.no","baidar.no","bidr.no","berg.no","bergen.no","berlevag.no","berlevg.no","bearalvahki.no","bearalvhki.no","bindal.no","birkenes.no","bjarkoy.no","bjarky.no","bjerkreim.no","bjugn.no","bodo.no","bod.no","badaddja.no","bdddj.no","budejju.no","bokn.no","bremanger.no","bronnoy.no","brnny.no","bygland.no","bykle.no","barum.no","brum.no","bo.telemark.no","b.telemark.no","bo.nordland.no","b.nordland.no","bievat.no","bievt.no","bomlo.no","bmlo.no","batsfjord.no","btsfjord.no","bahcavuotna.no","bhcavuotna.no","dovre.no","drammen.no","drangedal.no","dyroy.no","dyry.no","donna.no","dnna.no","eid.no","eidfjord.no","eidsberg.no","eidskog.no","eidsvoll.no","eigersund.no","elverum.no","enebakk.no","engerdal.no","etne.no","etnedal.no","evenes.no","evenassi.no","eveni.no","evje-og-hornnes.no","farsund.no","fauske.no","fuossko.no","fuoisku.no","fedje.no","fet.no","finnoy.no","finny.no","fitjar.no","fjaler.no","fjell.no","flakstad.no","flatanger.no","flekkefjord.no","flesberg.no","flora.no","fla.no","fl.no","folldal.no","forsand.no","fosnes.no","frei.no","frogn.no","froland.no","frosta.no","frana.no","frna.no","froya.no","frya.no","fusa.no","fyresdal.no","forde.no","frde.no","gamvik.no","gangaviika.no","ggaviika.no","gaular.no","gausdal.no","gildeskal.no","gildeskl.no","giske.no","gjemnes.no","gjerdrum.no","gjerstad.no","gjesdal.no","gjovik.no","gjvik.no","gloppen.no","gol.no","gran.no","grane.no","granvin.no","gratangen.no","grimstad.no","grong.no","kraanghke.no","kranghke.no","grue.no","gulen.no","hadsel.no","halden.no","halsa.no","hamar.no","hamaroy.no","habmer.no","hbmer.no","hapmir.no","hpmir.no","hammerfest.no","hammarfeasta.no","hmmrfeasta.no","haram.no","hareid.no","harstad.no","hasvik.no","aknoluokta.no","koluokta.no","hattfjelldal.no","aarborte.no","haugesund.no","hemne.no","hemnes.no","hemsedal.no","heroy.more-og-romsdal.no","hery.mre-og-romsdal.no","heroy.nordland.no","hery.nordland.no","hitra.no","hjartdal.no","hjelmeland.no","hobol.no","hobl.no","hof.no","hol.no","hole.no","holmestrand.no","holtalen.no","holtlen.no","hornindal.no","horten.no","hurdal.no","hurum.no","hvaler.no","hyllestad.no","hagebostad.no","hgebostad.no","hoyanger.no","hyanger.no","hoylandet.no","hylandet.no","ha.no","h.no","ibestad.no","inderoy.no","indery.no","iveland.no","jevnaker.no","jondal.no","jolster.no","jlster.no","karasjok.no","karasjohka.no","krjohka.no","karlsoy.no","galsa.no","gls.no","karmoy.no","karmy.no","kautokeino.no","guovdageaidnu.no","klepp.no","klabu.no","klbu.no","kongsberg.no","kongsvinger.no","kragero.no","krager.no","kristiansand.no","kristiansund.no","krodsherad.no","krdsherad.no","kvalsund.no","rahkkeravju.no","rhkkervju.no","kvam.no","kvinesdal.no","kvinnherad.no","kviteseid.no","kvitsoy.no","kvitsy.no","kvafjord.no","kvfjord.no","giehtavuoatna.no","kvanangen.no","kvnangen.no","navuotna.no","nvuotna.no","kafjord.no","kfjord.no","gaivuotna.no","givuotna.no","larvik.no","lavangen.no","lavagis.no","loabat.no","loabt.no","lebesby.no","davvesiida.no","leikanger.no","leirfjord.no","leka.no","leksvik.no","lenvik.no","leangaviika.no","leagaviika.no","lesja.no","levanger.no","lier.no","lierne.no","lillehammer.no","lillesand.no","lindesnes.no","lindas.no","linds.no","lom.no","loppa.no","lahppi.no","lhppi.no","lund.no","lunner.no","luroy.no","lury.no","luster.no","lyngdal.no","lyngen.no","ivgu.no","lardal.no","lerdal.no","lrdal.no","lodingen.no","ldingen.no","lorenskog.no","lrenskog.no","loten.no","lten.no","malvik.no","masoy.no","msy.no","muosat.no","muost.no","mandal.no","marker.no","marnardal.no","masfjorden.no","meland.no","meldal.no","melhus.no","meloy.no","mely.no","meraker.no","merker.no","moareke.no","moreke.no","midsund.no","midtre-gauldal.no","modalen.no","modum.no","molde.no","moskenes.no","moss.no","mosvik.no","malselv.no","mlselv.no","malatvuopmi.no","mlatvuopmi.no","namdalseid.no","aejrie.no","namsos.no","namsskogan.no","naamesjevuemie.no","nmesjevuemie.no","laakesvuemie.no","nannestad.no","narvik.no","narviika.no","naustdal.no","nedre-eiker.no","nes.akershus.no","nes.buskerud.no","nesna.no","nesodden.no","nesseby.no","unjarga.no","unjrga.no","nesset.no","nissedal.no","nittedal.no","nord-aurdal.no","nord-fron.no","nord-odal.no","norddal.no","nordkapp.no","davvenjarga.no","davvenjrga.no","nordre-land.no","nordreisa.no","raisa.no","risa.no","nore-og-uvdal.no","notodden.no","naroy.no","nry.no","notteroy.no","nttery.no","odda.no","oksnes.no","ksnes.no","oppdal.no","oppegard.no","oppegrd.no","orkdal.no","orland.no","rland.no","orskog.no","rskog.no","orsta.no","rsta.no","os.hedmark.no","os.hordaland.no","osen.no","osteroy.no","ostery.no","ostre-toten.no","stre-toten.no","overhalla.no","ovre-eiker.no","vre-eiker.no","oyer.no","yer.no","oygarden.no","ygarden.no","oystre-slidre.no","ystre-slidre.no","porsanger.no","porsangu.no","porsgu.no","porsgrunn.no","radoy.no","rady.no","rakkestad.no","rana.no","ruovat.no","randaberg.no","rauma.no","rendalen.no","rennebu.no","rennesoy.no","rennesy.no","rindal.no","ringebu.no","ringerike.no","ringsaker.no","rissa.no","risor.no","risr.no","roan.no","rollag.no","rygge.no","ralingen.no","rlingen.no","rodoy.no","rdy.no","romskog.no","rmskog.no","roros.no","rros.no","rost.no","rst.no","royken.no","ryken.no","royrvik.no","ryrvik.no","rade.no","rde.no","salangen.no","siellak.no","saltdal.no","salat.no","slt.no","slat.no","samnanger.no","sande.more-og-romsdal.no","sande.mre-og-romsdal.no","sande.vestfold.no","sandefjord.no","sandnes.no","sandoy.no","sandy.no","sarpsborg.no","sauda.no","sauherad.no","sel.no","selbu.no","selje.no","seljord.no","sigdal.no","siljan.no","sirdal.no","skaun.no","skedsmo.no","ski.no","skien.no","skiptvet.no","skjervoy.no","skjervy.no","skierva.no","skierv.no","skjak.no","skjk.no","skodje.no","skanland.no","sknland.no","skanit.no","sknit.no","smola.no","smla.no","snillfjord.no","snasa.no","snsa.no","snoasa.no","snaase.no","snase.no","sogndal.no","sokndal.no","sola.no","solund.no","songdalen.no","sortland.no","spydeberg.no","stange.no","stavanger.no","steigen.no","steinkjer.no","stjordal.no","stjrdal.no","stokke.no","stor-elvdal.no","stord.no","stordal.no","storfjord.no","omasvuotna.no","strand.no","stranda.no","stryn.no","sula.no","suldal.no","sund.no","sunndal.no","surnadal.no","sveio.no","svelvik.no","sykkylven.no","sogne.no","sgne.no","somna.no","smna.no","sondre-land.no","sndre-land.no","sor-aurdal.no","sr-aurdal.no","sor-fron.no","sr-fron.no","sor-odal.no","sr-odal.no","sor-varanger.no","sr-varanger.no","matta-varjjat.no","mtta-vrjjat.no","sorfold.no","srfold.no","sorreisa.no","srreisa.no","sorum.no","srum.no","tana.no","deatnu.no","time.no","tingvoll.no","tinn.no","tjeldsund.no","dielddanuorri.no","tjome.no","tjme.no","tokke.no","tolga.no","torsken.no","tranoy.no","trany.no","tromso.no","troms.no","tromsa.no","romsa.no","trondheim.no","troandin.no","trysil.no","trana.no","trna.no","trogstad.no","trgstad.no","tvedestrand.no","tydal.no","tynset.no","tysfjord.no","divtasvuodna.no","divttasvuotna.no","tysnes.no","tysvar.no","tysvr.no","tonsberg.no","tnsberg.no","ullensaker.no","ullensvang.no","ulvik.no","utsira.no","vadso.no","vads.no","cahcesuolo.no","hcesuolo.no","vaksdal.no","valle.no","vang.no","vanylven.no","vardo.no","vard.no","varggat.no","vrggt.no","vefsn.no","vaapste.no","vega.no","vegarshei.no","vegrshei.no","vennesla.no","verdal.no","verran.no","vestby.no","vestnes.no","vestre-slidre.no","vestre-toten.no","vestvagoy.no","vestvgy.no","vevelstad.no","vik.no","vikna.no","vindafjord.no","volda.no","voss.no","varoy.no","vry.no","vagan.no","vgan.no","voagat.no","vagsoy.no","vgsy.no","vaga.no","vg.no","valer.ostfold.no","vler.stfold.no","valer.hedmark.no","vler.hedmark.no","*.np","nr","biz.nr","info.nr","gov.nr","edu.nr","org.nr","net.nr","com.nr","nu","nz","ac.nz","co.nz","cri.nz","geek.nz","gen.nz","govt.nz","health.nz","iwi.nz","kiwi.nz","maori.nz","mil.nz","mori.nz","net.nz","org.nz","parliament.nz","school.nz","om","co.om","com.om","edu.om","gov.om","med.om","museum.om","net.om","org.om","pro.om","onion","org","pa","ac.pa","gob.pa","com.pa","org.pa","sld.pa","edu.pa","net.pa","ing.pa","abo.pa","med.pa","nom.pa","pe","edu.pe","gob.pe","nom.pe","mil.pe","org.pe","com.pe","net.pe","pf","com.pf","org.pf","edu.pf","*.pg","ph","com.ph","net.ph","org.ph","gov.ph","edu.ph","ngo.ph","mil.ph","i.ph","pk","com.pk","net.pk","edu.pk","org.pk","fam.pk","biz.pk","web.pk","gov.pk","gob.pk","gok.pk","gon.pk","gop.pk","gos.pk","info.pk","pl","com.pl","net.pl","org.pl","aid.pl","agro.pl","atm.pl","auto.pl","biz.pl","edu.pl","gmina.pl","gsm.pl","info.pl","mail.pl","miasta.pl","media.pl","mil.pl","nieruchomosci.pl","nom.pl","pc.pl","powiat.pl","priv.pl","realestate.pl","rel.pl","sex.pl","shop.pl","sklep.pl","sos.pl","szkola.pl","targi.pl","tm.pl","tourism.pl","travel.pl","turystyka.pl","gov.pl","ap.gov.pl","ic.gov.pl","is.gov.pl","us.gov.pl","kmpsp.gov.pl","kppsp.gov.pl","kwpsp.gov.pl","psp.gov.pl","wskr.gov.pl","kwp.gov.pl","mw.gov.pl","ug.gov.pl","um.gov.pl","umig.gov.pl","ugim.gov.pl","upow.gov.pl","uw.gov.pl","starostwo.gov.pl","pa.gov.pl","po.gov.pl","psse.gov.pl","pup.gov.pl","rzgw.gov.pl","sa.gov.pl","so.gov.pl","sr.gov.pl","wsa.gov.pl","sko.gov.pl","uzs.gov.pl","wiih.gov.pl","winb.gov.pl","pinb.gov.pl","wios.gov.pl","witd.gov.pl","wzmiuw.gov.pl","piw.gov.pl","wiw.gov.pl","griw.gov.pl","wif.gov.pl","oum.gov.pl","sdn.gov.pl","zp.gov.pl","uppo.gov.pl","mup.gov.pl","wuoz.gov.pl","konsulat.gov.pl","oirm.gov.pl","augustow.pl","babia-gora.pl","bedzin.pl","beskidy.pl","bialowieza.pl","bialystok.pl","bielawa.pl","bieszczady.pl","boleslawiec.pl","bydgoszcz.pl","bytom.pl","cieszyn.pl","czeladz.pl","czest.pl","dlugoleka.pl","elblag.pl","elk.pl","glogow.pl","gniezno.pl","gorlice.pl","grajewo.pl","ilawa.pl","jaworzno.pl","jelenia-gora.pl","jgora.pl","kalisz.pl","kazimierz-dolny.pl","karpacz.pl","kartuzy.pl","kaszuby.pl","katowice.pl","kepno.pl","ketrzyn.pl","klodzko.pl","kobierzyce.pl","kolobrzeg.pl","konin.pl","konskowola.pl","kutno.pl","lapy.pl","lebork.pl","legnica.pl","lezajsk.pl","limanowa.pl","lomza.pl","lowicz.pl","lubin.pl","lukow.pl","malbork.pl","malopolska.pl","mazowsze.pl","mazury.pl","mielec.pl","mielno.pl","mragowo.pl","naklo.pl","nowaruda.pl","nysa.pl","olawa.pl","olecko.pl","olkusz.pl","olsztyn.pl","opoczno.pl","opole.pl","ostroda.pl","ostroleka.pl","ostrowiec.pl","ostrowwlkp.pl","pila.pl","pisz.pl","podhale.pl","podlasie.pl","polkowice.pl","pomorze.pl","pomorskie.pl","prochowice.pl","pruszkow.pl","przeworsk.pl","pulawy.pl","radom.pl","rawa-maz.pl","rybnik.pl","rzeszow.pl","sanok.pl","sejny.pl","slask.pl","slupsk.pl","sosnowiec.pl","stalowa-wola.pl","skoczow.pl","starachowice.pl","stargard.pl","suwalki.pl","swidnica.pl","swiebodzin.pl","swinoujscie.pl","szczecin.pl","szczytno.pl","tarnobrzeg.pl","tgory.pl","turek.pl","tychy.pl","ustka.pl","walbrzych.pl","warmia.pl","warszawa.pl","waw.pl","wegrow.pl","wielun.pl","wlocl.pl","wloclawek.pl","wodzislaw.pl","wolomin.pl","wroclaw.pl","zachpomor.pl","zagan.pl","zarow.pl","zgora.pl","zgorzelec.pl","pm","pn","gov.pn","co.pn","org.pn","edu.pn","net.pn","post","pr","com.pr","net.pr","org.pr","gov.pr","edu.pr","isla.pr","pro.pr","biz.pr","info.pr","name.pr","est.pr","prof.pr","ac.pr","pro","aaa.pro","aca.pro","acct.pro","avocat.pro","bar.pro","cpa.pro","eng.pro","jur.pro","law.pro","med.pro","recht.pro","ps","edu.ps","gov.ps","sec.ps","plo.ps","com.ps","org.ps","net.ps","pt","net.pt","gov.pt","org.pt","edu.pt","int.pt","publ.pt","com.pt","nome.pt","pw","co.pw","ne.pw","or.pw","ed.pw","go.pw","belau.pw","py","com.py","coop.py","edu.py","gov.py","mil.py","net.py","org.py","qa","com.qa","edu.qa","gov.qa","mil.qa","name.qa","net.qa","org.qa","sch.qa","re","asso.re","com.re","nom.re","ro","arts.ro","com.ro","firm.ro","info.ro","nom.ro","nt.ro","org.ro","rec.ro","store.ro","tm.ro","www.ro","rs","ac.rs","co.rs","edu.rs","gov.rs","in.rs","org.rs","ru","ac.ru","edu.ru","gov.ru","int.ru","mil.ru","test.ru","rw","ac.rw","co.rw","coop.rw","gov.rw","mil.rw","net.rw","org.rw","sa","com.sa","net.sa","org.sa","gov.sa","med.sa","pub.sa","edu.sa","sch.sa","sb","com.sb","edu.sb","gov.sb","net.sb","org.sb","sc","com.sc","gov.sc","net.sc","org.sc","edu.sc","sd","com.sd","net.sd","org.sd","edu.sd","med.sd","tv.sd","gov.sd","info.sd","se","a.se","ac.se","b.se","bd.se","brand.se","c.se","d.se","e.se","f.se","fh.se","fhsk.se","fhv.se","g.se","h.se","i.se","k.se","komforb.se","kommunalforbund.se","komvux.se","l.se","lanbib.se","m.se","n.se","naturbruksgymn.se","o.se","org.se","p.se","parti.se","pp.se","press.se","r.se","s.se","t.se","tm.se","u.se","w.se","x.se","y.se","z.se","sg","com.sg","net.sg","org.sg","gov.sg","edu.sg","per.sg","sh","com.sh","net.sh","gov.sh","org.sh","mil.sh","si","sj","sk","sl","com.sl","net.sl","edu.sl","gov.sl","org.sl","sm","sn","art.sn","com.sn","edu.sn","gouv.sn","org.sn","perso.sn","univ.sn","so","com.so","net.so","org.so","sr","st","co.st","com.st","consulado.st","edu.st","embaixada.st","gov.st","mil.st","net.st","org.st","principe.st","saotome.st","store.st","su","sv","com.sv","edu.sv","gob.sv","org.sv","red.sv","sx","gov.sx","sy","edu.sy","gov.sy","net.sy","mil.sy","com.sy","org.sy","sz","co.sz","ac.sz","org.sz","tc","td","tel","tf","tg","th","ac.th","co.th","go.th","in.th","mi.th","net.th","or.th","tj","ac.tj","biz.tj","co.tj","com.tj","edu.tj","go.tj","gov.tj","int.tj","mil.tj","name.tj","net.tj","nic.tj","org.tj","test.tj","web.tj","tk","tl","gov.tl","tm","com.tm","co.tm","org.tm","net.tm","nom.tm","gov.tm","mil.tm","edu.tm","tn","com.tn","ens.tn","fin.tn","gov.tn","ind.tn","intl.tn","nat.tn","net.tn","org.tn","info.tn","perso.tn","tourism.tn","edunet.tn","rnrt.tn","rns.tn","rnu.tn","mincom.tn","agrinet.tn","defense.tn","turen.tn","to","com.to","gov.to","net.to","org.to","edu.to","mil.to","tr","av.tr","bbs.tr","bel.tr","biz.tr","com.tr","dr.tr","edu.tr","gen.tr","gov.tr","info.tr","mil.tr","k12.tr","kep.tr","name.tr","net.tr","org.tr","pol.tr","tel.tr","tsk.tr","tv.tr","web.tr","nc.tr","gov.nc.tr","tt","co.tt","com.tt","org.tt","net.tt","biz.tt","info.tt","pro.tt","int.tt","coop.tt","jobs.tt","mobi.tt","travel.tt","museum.tt","aero.tt","name.tt","gov.tt","edu.tt","tv","tw","edu.tw","gov.tw","mil.tw","com.tw","net.tw","org.tw","idv.tw","game.tw","ebiz.tw","club.tw",".tw",".tw",".tw","tz","ac.tz","co.tz","go.tz","hotel.tz","info.tz","me.tz","mil.tz","mobi.tz","ne.tz","or.tz","sc.tz","tv.tz","ua","com.ua","edu.ua","gov.ua","in.ua","net.ua","org.ua","cherkassy.ua","cherkasy.ua","chernigov.ua","chernihiv.ua","chernivtsi.ua","chernovtsy.ua","ck.ua","cn.ua","cr.ua","crimea.ua","cv.ua","dn.ua","dnepropetrovsk.ua","dnipropetrovsk.ua","dominic.ua","donetsk.ua","dp.ua","if.ua","ivano-frankivsk.ua","kh.ua","kharkiv.ua","kharkov.ua","kherson.ua","khmelnitskiy.ua","khmelnytskyi.ua","kiev.ua","kirovograd.ua","km.ua","kr.ua","krym.ua","ks.ua","kv.ua","kyiv.ua","lg.ua","lt.ua","lugansk.ua","lutsk.ua","lv.ua","lviv.ua","mk.ua","mykolaiv.ua","nikolaev.ua","od.ua","odesa.ua","odessa.ua","pl.ua","poltava.ua","rivne.ua","rovno.ua","rv.ua","sb.ua","sebastopol.ua","sevastopol.ua","sm.ua","sumy.ua","te.ua","ternopil.ua","uz.ua","uzhgorod.ua","vinnica.ua","vinnytsia.ua","vn.ua","volyn.ua","yalta.ua","zaporizhzhe.ua","zaporizhzhia.ua","zhitomir.ua","zhytomyr.ua","zp.ua","zt.ua","ug","co.ug","or.ug","ac.ug","sc.ug","go.ug","ne.ug","com.ug","org.ug","uk","ac.uk","co.uk","gov.uk","ltd.uk","me.uk","net.uk","nhs.uk","org.uk","plc.uk","police.uk","*.sch.uk","us","dni.us","fed.us","isa.us","kids.us","nsn.us","ak.us","al.us","ar.us","as.us","az.us","ca.us","co.us","ct.us","dc.us","de.us","fl.us","ga.us","gu.us","hi.us","ia.us","id.us","il.us","in.us","ks.us","ky.us","la.us","ma.us","md.us","me.us","mi.us","mn.us","mo.us","ms.us","mt.us","nc.us","nd.us","ne.us","nh.us","nj.us","nm.us","nv.us","ny.us","oh.us","ok.us","or.us","pa.us","pr.us","ri.us","sc.us","sd.us","tn.us","tx.us","ut.us","vi.us","vt.us","va.us","wa.us","wi.us","wv.us","wy.us","k12.ak.us","k12.al.us","k12.ar.us","k12.as.us","k12.az.us","k12.ca.us","k12.co.us","k12.ct.us","k12.dc.us","k12.de.us","k12.fl.us","k12.ga.us","k12.gu.us","k12.ia.us","k12.id.us","k12.il.us","k12.in.us","k12.ks.us","k12.ky.us","k12.la.us","k12.ma.us","k12.md.us","k12.me.us","k12.mi.us","k12.mn.us","k12.mo.us","k12.ms.us","k12.mt.us","k12.nc.us","k12.ne.us","k12.nh.us","k12.nj.us","k12.nm.us","k12.nv.us","k12.ny.us","k12.oh.us","k12.ok.us","k12.or.us","k12.pa.us","k12.pr.us","k12.ri.us","k12.sc.us","k12.tn.us","k12.tx.us","k12.ut.us","k12.vi.us","k12.vt.us","k12.va.us","k12.wa.us","k12.wi.us","k12.wy.us","cc.ak.us","cc.al.us","cc.ar.us","cc.as.us","cc.az.us","cc.ca.us","cc.co.us","cc.ct.us","cc.dc.us","cc.de.us","cc.fl.us","cc.ga.us","cc.gu.us","cc.hi.us","cc.ia.us","cc.id.us","cc.il.us","cc.in.us","cc.ks.us","cc.ky.us","cc.la.us","cc.ma.us","cc.md.us","cc.me.us","cc.mi.us","cc.mn.us","cc.mo.us","cc.ms.us","cc.mt.us","cc.nc.us","cc.nd.us","cc.ne.us","cc.nh.us","cc.nj.us","cc.nm.us","cc.nv.us","cc.ny.us","cc.oh.us","cc.ok.us","cc.or.us","cc.pa.us","cc.pr.us","cc.ri.us","cc.sc.us","cc.sd.us","cc.tn.us","cc.tx.us","cc.ut.us","cc.vi.us","cc.vt.us","cc.va.us","cc.wa.us","cc.wi.us","cc.wv.us","cc.wy.us","lib.ak.us","lib.al.us","lib.ar.us","lib.as.us","lib.az.us","lib.ca.us","lib.co.us","lib.ct.us","lib.dc.us","lib.fl.us","lib.ga.us","lib.gu.us","lib.hi.us","lib.ia.us","lib.id.us","lib.il.us","lib.in.us","lib.ks.us","lib.ky.us","lib.la.us","lib.ma.us","lib.md.us","lib.me.us","lib.mi.us","lib.mn.us","lib.mo.us","lib.ms.us","lib.mt.us","lib.nc.us","lib.nd.us","lib.ne.us","lib.nh.us","lib.nj.us","lib.nm.us","lib.nv.us","lib.ny.us","lib.oh.us","lib.ok.us","lib.or.us","lib.pa.us","lib.pr.us","lib.ri.us","lib.sc.us","lib.sd.us","lib.tn.us","lib.tx.us","lib.ut.us","lib.vi.us","lib.vt.us","lib.va.us","lib.wa.us","lib.wi.us","lib.wy.us","pvt.k12.ma.us","chtr.k12.ma.us","paroch.k12.ma.us","ann-arbor.mi.us","cog.mi.us","dst.mi.us","eaton.mi.us","gen.mi.us","mus.mi.us","tec.mi.us","washtenaw.mi.us","uy","com.uy","edu.uy","gub.uy","mil.uy","net.uy","org.uy","uz","co.uz","com.uz","net.uz","org.uz","va","vc","com.vc","net.vc","org.vc","gov.vc","mil.vc","edu.vc","ve","arts.ve","co.ve","com.ve","e12.ve","edu.ve","firm.ve","gob.ve","gov.ve","info.ve","int.ve","mil.ve","net.ve","org.ve","rec.ve","store.ve","tec.ve","web.ve","vg","vi","co.vi","com.vi","k12.vi","net.vi","org.vi","vn","com.vn","net.vn","org.vn","edu.vn","gov.vn","int.vn","ac.vn","biz.vn","info.vn","name.vn","pro.vn","health.vn","vu","com.vu","edu.vu","net.vu","org.vu","wf","ws","com.ws","net.ws","org.ws","gov.ws","edu.ws","yt","","","","","","","","","","","","","",".",".",".",".",".",".","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",".",".",".",".",".",".","","","","","","","","","","","","",".",".",".",".",".",".","","","","","","","xxx","*.ye","ac.za","agric.za","alt.za","co.za","edu.za","gov.za","grondar.za","law.za","mil.za","net.za","ngo.za","nis.za","nom.za","org.za","school.za","tm.za","web.za","zm","ac.zm","biz.zm","co.zm","com.zm","edu.zm","gov.zm","info.zm","mil.zm","net.zm","org.zm","sch.zm","zw","ac.zw","co.zw","gov.zw","mil.zw","org.zw","aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","academy","accenture","accountant","accountants","aco","actor","adac","ads","adult","aeg","aetna","afamilycompany","afl","africa","agakhan","agency","aig","aigo","airbus","airforce","airtel","akdn","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","aol","apartments","app","apple","aquarelle","arab","aramco","archi","army","art","arte","asda","associates","athleta","attorney","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aws","axa","azure","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bbc","bbt","bbva","bcg","bcn","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bharti","bible","bid","bike","bing","bingo","bio","black","blackfriday","blockbuster","blog","bloomberg","blue","bms","bmw","bnl","bnpparibas","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","bradesco","bridgestone","broadway","broker","brother","brussels","budapest","bugatti","build","builders","business","buy","buzz","bzh","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","cartier","casa","case","caseih","cash","casino","catering","catholic","cba","cbn","cbre","cbs","ceb","center","ceo","cern","cfa","cfd","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","chrysler","church","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","coach","codes","coffee","college","cologne","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","corsica","country","coupon","coupons","courses","cpa","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","csc","cuisinella","cymru","cyou","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dnp","docs","doctor","dodge","dog","domains","dot","download","drive","dtv","dubai","duck","dunlop","duns","dupont","durban","dvag","dvr","earth","eat","eco","edeka","education","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","ericsson","erni","esq","estate","esurance","etisalat","eurovision","eus","events","everbank","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","flickr","flights","flir","florist","flowers","fly","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fujixerox","fun","fund","furniture","futbol","fyi","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gbiz","gdn","gea","gent","genting","george","ggee","gift","gifts","gives","giving","glade","glass","gle","global","globo","gmail","gmbh","gmo","gmx","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","grainger","graphics","gratis","green","gripe","grocery","group","guardian","gucci","guge","guide","guitars","guru","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hkt","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","honeywell","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hsbc","hughes","hyatt","hyundai","ibm","icbc","ice","icu","ieee","ifm","ikano","imamat","imdb","immo","immobilien","inc","industries","infiniti","ing","ink","institute","insurance","insure","intel","international","intuit","investments","ipiranga","irish","iselect","ismaili","ist","istanbul","itau","itv","iveco","jaguar","java","jcb","jcp","jeep","jetzt","jewelry","jio","jll","jmp","jnj","joburg","jot","joy","jpmorgan","jprs","juegos","juniper","kaufen","kddi","kerryhotels","kerrylogistics","kerryproperties","kfh","kia","kim","kinder","kindle","kitchen","kiwi","koeln","komatsu","kosher","kpmg","kpn","krd","kred","kuokgroup","kyoto","lacaixa","ladbrokes","lamborghini","lamer","lancaster","lancia","lancome","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","liaison","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lixil","llc","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","ltd","ltda","lundbeck","lupin","luxe","luxury","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mckinsey","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","metlife","miami","microsoft","mini","mint","mit","mitsubishi","mlb","mls","mma","mobile","mobily","moda","moe","moi","mom","monash","money","monster","mopar","mormon","mortgage","moscow","moto","motorcycles","mov","movie","movistar","msd","mtn","mtr","mutual","nab","nadex","nagoya","nationwide","natura","navy","nba","nec","netbank","netflix","network","neustar","new","newholland","news","next","nextdirect","nexus","nfl","ngo","nhk","nico","nike","nikon","ninja","nissan","nissay","nokia","northwesternmutual","norton","now","nowruz","nowtv","nra","nrw","ntt","nyc","obi","observer","off","office","okinawa","olayan","olayangroup","oldnavy","ollo","omega","one","ong","onl","online","onyourside","ooo","open","oracle","orange","organic","origins","osaka","otsuka","ott","ovh","page","panasonic","paris","pars","partners","parts","party","passagens","pay","pccw","pet","pfizer","pharmacy","phd","philips","phone","photo","photography","photos","physio","piaget","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","place","play","playstation","plumbing","plus","pnc","pohl","poker","politie","porn","pramerica","praxi","press","prime","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","pub","pwc","qpon","quebec","quest","qvc","racing","radio","raid","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","rightathome","ril","rio","rip","rmit","rocher","rocks","rodeo","rogers","room","rsvp","rugby","ruhr","run","rwe","ryukyu","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sbi","sbs","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scjohnson","scor","scot","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","shriram","silk","sina","singles","site","ski","skin","sky","skype","sling","smart","smile","sncf","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","space","sport","spot","spreadbetting","srl","srt","stada","staples","star","starhub","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","sucks","supplies","supply","support","surf","surgery","suzuki","swatch","swiftcover","swiss","sydney","symantec","systems","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tci","tdk","team","tech","technology","telefonica","temasek","tennis","teva","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tjmaxx","tjx","tkmaxx","tmall","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tube","tui","tunes","tushu","tvs","ubank","ubs","uconnect","unicom","university","uno","uol","ups","vacations","vana","vanguard","vegas","ventures","verisign","versicherung","vet","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","vistaprint","viva","vivo","vlaanderen","vodka","volkswagen","volvo","vote","voting","voto","voyage","vuelos","wales","walmart","walter","wang","wanggou","warman","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","vermgensberater","vermgensberatung","","","","","","","xyz","yachts","yahoo","yamaxun","yandex","yodobashi","yoga","yokohama","you","youtube","yun","zappos","zara","zero","zip","zone","zuerich","cc.ua","inf.ua","ltd.ua","beep.pl","barsy.ca","*.compute.estate","*.alces.network","alwaysdata.net","cloudfront.net","*.compute.amazonaws.com","*.compute-1.amazonaws.com","*.compute.amazonaws.com.cn","us-east-1.amazonaws.com","cn-north-1.eb.amazonaws.com.cn","cn-northwest-1.eb.amazonaws.com.cn","elasticbeanstalk.com","ap-northeast-1.elasticbeanstalk.com","ap-northeast-2.elasticbeanstalk.com","ap-northeast-3.elasticbeanstalk.com","ap-south-1.elasticbeanstalk.com","ap-southeast-1.elasticbeanstalk.com","ap-southeast-2.elasticbeanstalk.com","ca-central-1.elasticbeanstalk.com","eu-central-1.elasticbeanstalk.com","eu-west-1.elasticbeanstalk.com","eu-west-2.elasticbeanstalk.com","eu-west-3.elasticbeanstalk.com","sa-east-1.elasticbeanstalk.com","us-east-1.elasticbeanstalk.com","us-east-2.elasticbeanstalk.com","us-gov-west-1.elasticbeanstalk.com","us-west-1.elasticbeanstalk.com","us-west-2.elasticbeanstalk.com","*.elb.amazonaws.com","*.elb.amazonaws.com.cn","s3.amazonaws.com","s3-ap-northeast-1.amazonaws.com","s3-ap-northeast-2.amazonaws.com","s3-ap-south-1.amazonaws.com","s3-ap-southeast-1.amazonaws.com","s3-ap-southeast-2.amazonaws.com","s3-ca-central-1.amazonaws.com","s3-eu-central-1.amazonaws.com","s3-eu-west-1.amazonaws.com","s3-eu-west-2.amazonaws.com","s3-eu-west-3.amazonaws.com","s3-external-1.amazonaws.com","s3-fips-us-gov-west-1.amazonaws.com","s3-sa-east-1.amazonaws.com","s3-us-gov-west-1.amazonaws.com","s3-us-east-2.amazonaws.com","s3-us-west-1.amazonaws.com","s3-us-west-2.amazonaws.com","s3.ap-northeast-2.amazonaws.com","s3.ap-south-1.amazonaws.com","s3.cn-north-1.amazonaws.com.cn","s3.ca-central-1.amazonaws.com","s3.eu-central-1.amazonaws.com","s3.eu-west-2.amazonaws.com","s3.eu-west-3.amazonaws.com","s3.us-east-2.amazonaws.com","s3.dualstack.ap-northeast-1.amazonaws.com","s3.dualstack.ap-northeast-2.amazonaws.com","s3.dualstack.ap-south-1.amazonaws.com","s3.dualstack.ap-southeast-1.amazonaws.com","s3.dualstack.ap-southeast-2.amazonaws.com","s3.dualstack.ca-central-1.amazonaws.com","s3.dualstack.eu-central-1.amazonaws.com","s3.dualstack.eu-west-1.amazonaws.com","s3.dualstack.eu-west-2.amazonaws.com","s3.dualstack.eu-west-3.amazonaws.com","s3.dualstack.sa-east-1.amazonaws.com","s3.dualstack.us-east-1.amazonaws.com","s3.dualstack.us-east-2.amazonaws.com","s3-website-us-east-1.amazonaws.com","s3-website-us-west-1.amazonaws.com","s3-website-us-west-2.amazonaws.com","s3-website-ap-northeast-1.amazonaws.com","s3-website-ap-southeast-1.amazonaws.com","s3-website-ap-southeast-2.amazonaws.com","s3-website-eu-west-1.amazonaws.com","s3-website-sa-east-1.amazonaws.com","s3-website.ap-northeast-2.amazonaws.com","s3-website.ap-south-1.amazonaws.com","s3-website.ca-central-1.amazonaws.com","s3-website.eu-central-1.amazonaws.com","s3-website.eu-west-2.amazonaws.com","s3-website.eu-west-3.amazonaws.com","s3-website.us-east-2.amazonaws.com","t3l3p0rt.net","tele.amune.org","apigee.io","on-aptible.com","user.party.eus","pimienta.org","poivron.org","potager.org","sweetpepper.org","myasustor.com","go-vip.co","go-vip.net","wpcomstaging.com","myfritz.net","*.awdev.ca","*.advisor.ws","b-data.io","backplaneapp.io","balena-devices.com","app.banzaicloud.io","betainabox.com","bnr.la","blackbaudcdn.net","boomla.net","boxfuse.io","square7.ch","bplaced.com","bplaced.de","square7.de","bplaced.net","square7.net","browsersafetymark.io","uk0.bigv.io","dh.bytemark.co.uk","vm.bytemark.co.uk","mycd.eu","carrd.co","crd.co","uwu.ai","ae.org","ar.com","br.com","cn.com","com.de","com.se","de.com","eu.com","gb.com","gb.net","hu.com","hu.net","jp.net","jpn.com","kr.com","mex.com","no.com","qc.com","ru.com","sa.com","se.net","uk.com","uk.net","us.com","uy.com","za.bz","za.com","africa.com","gr.com","in.net","us.org","co.com","c.la","certmgr.org","xenapponazure.com","discourse.group","virtueeldomein.nl","cleverapps.io","*.lcl.dev","*.stg.dev","c66.me","cloud66.ws","cloud66.zone","jdevcloud.com","wpdevcloud.com","cloudaccess.host","freesite.host","cloudaccess.net","cloudcontrolled.com","cloudcontrolapp.com","cloudera.site","trycloudflare.com","workers.dev","wnext.app","co.ca","*.otap.co","co.cz","c.cdn77.org","cdn77-ssl.net","r.cdn77.net","rsc.cdn77.org","ssl.origin.cdn77-secure.org","cloudns.asia","cloudns.biz","cloudns.club","cloudns.cc","cloudns.eu","cloudns.in","cloudns.info","cloudns.org","cloudns.pro","cloudns.pw","cloudns.us","cloudeity.net","cnpy.gdn","co.nl","co.no","webhosting.be","hosting-cluster.nl","dyn.cosidns.de","dynamisches-dns.de","dnsupdater.de","internet-dns.de","l-o-g-i-n.de","dynamic-dns.info","feste-ip.net","knx-server.net","static-access.net","realm.cz","*.cryptonomic.net","cupcake.is","cyon.link","cyon.site","daplie.me","localhost.daplie.me","dattolocal.com","dattorelay.com","dattoweb.com","mydatto.com","dattolocal.net","mydatto.net","biz.dk","co.dk","firm.dk","reg.dk","store.dk","*.dapps.earth","*.bzz.dapps.earth","debian.net","dedyn.io","dnshome.de","online.th","shop.th","drayddns.com","dreamhosters.com","mydrobo.com","drud.io","drud.us","duckdns.org","dy.fi","tunk.org","dyndns-at-home.com","dyndns-at-work.com","dyndns-blog.com","dyndns-free.com","dyndns-home.com","dyndns-ip.com","dyndns-mail.com","dyndns-office.com","dyndns-pics.com","dyndns-remote.com","dyndns-server.com","dyndns-web.com","dyndns-wiki.com","dyndns-work.com","dyndns.biz","dyndns.info","dyndns.org","dyndns.tv","at-band-camp.net","ath.cx","barrel-of-knowledge.info","barrell-of-knowledge.info","better-than.tv","blogdns.com","blogdns.net","blogdns.org","blogsite.org","boldlygoingnowhere.org","broke-it.net","buyshouses.net","cechire.com","dnsalias.com","dnsalias.net","dnsalias.org","dnsdojo.com","dnsdojo.net","dnsdojo.org","does-it.net","doesntexist.com","doesntexist.org","dontexist.com","dontexist.net","dontexist.org","doomdns.com","doomdns.org","dvrdns.org","dyn-o-saur.com","dynalias.com","dynalias.net","dynalias.org","dynathome.net","dyndns.ws","endofinternet.net","endofinternet.org","endoftheinternet.org","est-a-la-maison.com","est-a-la-masion.com","est-le-patron.com","est-mon-blogueur.com","for-better.biz","for-more.biz","for-our.info","for-some.biz","for-the.biz","forgot.her.name","forgot.his.name","from-ak.com","from-al.com","from-ar.com","from-az.net","from-ca.com","from-co.net","from-ct.com","from-dc.com","from-de.com","from-fl.com","from-ga.com","from-hi.com","from-ia.com","from-id.com","from-il.com","from-in.com","from-ks.com","from-ky.com","from-la.net","from-ma.com","from-md.com","from-me.org","from-mi.com","from-mn.com","from-mo.com","from-ms.com","from-mt.com","from-nc.com","from-nd.com","from-ne.com","from-nh.com","from-nj.com","from-nm.com","from-nv.com","from-ny.net","from-oh.com","from-ok.com","from-or.com","from-pa.com","from-pr.com","from-ri.com","from-sc.com","from-sd.com","from-tn.com","from-tx.com","from-ut.com","from-va.com","from-vt.com","from-wa.com","from-wi.com","from-wv.com","from-wy.com","ftpaccess.cc","fuettertdasnetz.de","game-host.org","game-server.cc","getmyip.com","gets-it.net","go.dyndns.org","gotdns.com","gotdns.org","groks-the.info","groks-this.info","ham-radio-op.net","here-for-more.info","hobby-site.com","hobby-site.org","home.dyndns.org","homedns.org","homeftp.net","homeftp.org","homeip.net","homelinux.com","homelinux.net","homelinux.org","homeunix.com","homeunix.net","homeunix.org","iamallama.com","in-the-band.net","is-a-anarchist.com","is-a-blogger.com","is-a-bookkeeper.com","is-a-bruinsfan.org","is-a-bulls-fan.com","is-a-candidate.org","is-a-caterer.com","is-a-celticsfan.org","is-a-chef.com","is-a-chef.net","is-a-chef.org","is-a-conservative.com","is-a-cpa.com","is-a-cubicle-slave.com","is-a-democrat.com","is-a-designer.com","is-a-doctor.com","is-a-financialadvisor.com","is-a-geek.com","is-a-geek.net","is-a-geek.org","is-a-green.com","is-a-guru.com","is-a-hard-worker.com","is-a-hunter.com","is-a-knight.org","is-a-landscaper.com","is-a-lawyer.com","is-a-liberal.com","is-a-libertarian.com","is-a-linux-user.org","is-a-llama.com","is-a-musician.com","is-a-nascarfan.com","is-a-nurse.com","is-a-painter.com","is-a-patsfan.org","is-a-personaltrainer.com","is-a-photographer.com","is-a-player.com","is-a-republican.com","is-a-rockstar.com","is-a-socialist.com","is-a-soxfan.org","is-a-student.com","is-a-teacher.com","is-a-techie.com","is-a-therapist.com","is-an-accountant.com","is-an-actor.com","is-an-actress.com","is-an-anarchist.com","is-an-artist.com","is-an-engineer.com","is-an-entertainer.com","is-by.us","is-certified.com","is-found.org","is-gone.com","is-into-anime.com","is-into-cars.com","is-into-cartoons.com","is-into-games.com","is-leet.com","is-lost.org","is-not-certified.com","is-saved.org","is-slick.com","is-uberleet.com","is-very-bad.org","is-very-evil.org","is-very-good.org","is-very-nice.org","is-very-sweet.org","is-with-theband.com","isa-geek.com","isa-geek.net","isa-geek.org","isa-hockeynut.com","issmarterthanyou.com","isteingeek.de","istmein.de","kicks-ass.net","kicks-ass.org","knowsitall.info","land-4-sale.us","lebtimnetz.de","leitungsen.de","likes-pie.com","likescandy.com","merseine.nu","mine.nu","misconfused.org","mypets.ws","myphotos.cc","neat-url.com","office-on-the.net","on-the-web.tv","podzone.net","podzone.org","readmyblog.org","saves-the-whales.com","scrapper-site.net","scrapping.cc","selfip.biz","selfip.com","selfip.info","selfip.net","selfip.org","sells-for-less.com","sells-for-u.com","sells-it.net","sellsyourhome.org","servebbs.com","servebbs.net","servebbs.org","serveftp.net","serveftp.org","servegame.org","shacknet.nu","simple-url.com","space-to-rent.com","stuff-4-sale.org","stuff-4-sale.us","teaches-yoga.com","thruhere.net","traeumtgerade.de","webhop.biz","webhop.info","webhop.net","webhop.org","worse-than.tv","writesthisblog.com","ddnss.de","dyn.ddnss.de","dyndns.ddnss.de","dyndns1.de","dyn-ip24.de","home-webserver.de","dyn.home-webserver.de","myhome-server.de","ddnss.org","definima.net","definima.io","bci.dnstrace.pro","ddnsfree.com","ddnsgeek.com","giize.com","gleeze.com","kozow.com","loseyourip.com","ooguy.com","theworkpc.com","casacam.net","dynu.net","accesscam.org","camdvr.org","freeddns.org","mywire.org","webredirect.org","myddns.rocks","blogsite.xyz","dynv6.net","e4.cz","mytuleap.com","onred.one","staging.onred.one","enonic.io","customer.enonic.io","eu.org","al.eu.org","asso.eu.org","at.eu.org","au.eu.org","be.eu.org","bg.eu.org","ca.eu.org","cd.eu.org","ch.eu.org","cn.eu.org","cy.eu.org","cz.eu.org","de.eu.org","dk.eu.org","edu.eu.org","ee.eu.org","es.eu.org","fi.eu.org","fr.eu.org","gr.eu.org","hr.eu.org","hu.eu.org","ie.eu.org","il.eu.org","in.eu.org","int.eu.org","is.eu.org","it.eu.org","jp.eu.org","kr.eu.org","lt.eu.org","lu.eu.org","lv.eu.org","mc.eu.org","me.eu.org","mk.eu.org","mt.eu.org","my.eu.org","net.eu.org","ng.eu.org","nl.eu.org","no.eu.org","nz.eu.org","paris.eu.org","pl.eu.org","pt.eu.org","q-a.eu.org","ro.eu.org","ru.eu.org","se.eu.org","si.eu.org","sk.eu.org","tr.eu.org","uk.eu.org","us.eu.org","eu-1.evennode.com","eu-2.evennode.com","eu-3.evennode.com","eu-4.evennode.com","us-1.evennode.com","us-2.evennode.com","us-3.evennode.com","us-4.evennode.com","twmail.cc","twmail.net","twmail.org","mymailer.com.tw","url.tw","apps.fbsbx.com","ru.net","adygeya.ru","bashkiria.ru","bir.ru","cbg.ru","com.ru","dagestan.ru","grozny.ru","kalmykia.ru","kustanai.ru","marine.ru","mordovia.ru","msk.ru","mytis.ru","nalchik.ru","nov.ru","pyatigorsk.ru","spb.ru","vladikavkaz.ru","vladimir.ru","abkhazia.su","adygeya.su","aktyubinsk.su","arkhangelsk.su","armenia.su","ashgabad.su","azerbaijan.su","balashov.su","bashkiria.su","bryansk.su","bukhara.su","chimkent.su","dagestan.su","east-kazakhstan.su","exnet.su","georgia.su","grozny.su","ivanovo.su","jambyl.su","kalmykia.su","kaluga.su","karacol.su","karaganda.su","karelia.su","khakassia.su","krasnodar.su","kurgan.su","kustanai.su","lenug.su","mangyshlak.su","mordovia.su","msk.su","murmansk.su","nalchik.su","navoi.su","north-kazakhstan.su","nov.su","obninsk.su","penza.su","pokrovsk.su","sochi.su","spb.su","tashkent.su","termez.su","togliatti.su","troitsk.su","tselinograd.su","tula.su","tuva.su","vladikavkaz.su","vladimir.su","vologda.su","channelsdvr.net","fastly-terrarium.com","fastlylb.net","map.fastlylb.net","freetls.fastly.net","map.fastly.net","a.prod.fastly.net","global.prod.fastly.net","a.ssl.fastly.net","b.ssl.fastly.net","global.ssl.fastly.net","fastpanel.direct","fastvps-server.com","fhapp.xyz","fedorainfracloud.org","fedorapeople.org","cloud.fedoraproject.org","app.os.fedoraproject.org","app.os.stg.fedoraproject.org","mydobiss.com","filegear.me","filegear-au.me","filegear-de.me","filegear-gb.me","filegear-ie.me","filegear-jp.me","filegear-sg.me","firebaseapp.com","flynnhub.com","flynnhosting.net","freebox-os.com","freeboxos.com","fbx-os.fr","fbxos.fr","freebox-os.fr","freeboxos.fr","freedesktop.org","*.futurecms.at","*.ex.futurecms.at","*.in.futurecms.at","futurehosting.at","futuremailing.at","*.ex.ortsinfo.at","*.kunden.ortsinfo.at","*.statics.cloud","service.gov.uk","gehirn.ne.jp","usercontent.jp","lab.ms","github.io","githubusercontent.com","gitlab.io","glitch.me","cloudapps.digital","london.cloudapps.digital","homeoffice.gov.uk","ro.im","shop.ro","goip.de","run.app","a.run.app","web.app","*.0emm.com","appspot.com","blogspot.ae","blogspot.al","blogspot.am","blogspot.ba","blogspot.be","blogspot.bg","blogspot.bj","blogspot.ca","blogspot.cf","blogspot.ch","blogspot.cl","blogspot.co.at","blogspot.co.id","blogspot.co.il","blogspot.co.ke","blogspot.co.nz","blogspot.co.uk","blogspot.co.za","blogspot.com","blogspot.com.ar","blogspot.com.au","blogspot.com.br","blogspot.com.by","blogspot.com.co","blogspot.com.cy","blogspot.com.ee","blogspot.com.eg","blogspot.com.es","blogspot.com.mt","blogspot.com.ng","blogspot.com.tr","blogspot.com.uy","blogspot.cv","blogspot.cz","blogspot.de","blogspot.dk","blogspot.fi","blogspot.fr","blogspot.gr","blogspot.hk","blogspot.hr","blogspot.hu","blogspot.ie","blogspot.in","blogspot.is","blogspot.it","blogspot.jp","blogspot.kr","blogspot.li","blogspot.lt","blogspot.lu","blogspot.md","blogspot.mk","blogspot.mr","blogspot.mx","blogspot.my","blogspot.nl","blogspot.no","blogspot.pe","blogspot.pt","blogspot.qa","blogspot.re","blogspot.ro","blogspot.rs","blogspot.ru","blogspot.se","blogspot.sg","blogspot.si","blogspot.sk","blogspot.sn","blogspot.td","blogspot.tw","blogspot.ug","blogspot.vn","cloudfunctions.net","cloud.goog","codespot.com","googleapis.com","googlecode.com","pagespeedmobilizer.com","publishproxy.com","withgoogle.com","withyoutube.com","fin.ci","free.hr","caa.li","ua.rs","conf.se","hs.zone","hs.run","hashbang.sh","hasura.app","hasura-app.io","hepforge.org","herokuapp.com","herokussl.com","myravendb.com","ravendb.community","ravendb.me","development.run","ravendb.run","bpl.biz","orx.biz","ng.city","ng.ink","biz.gl","col.ng","gen.ng","ltd.ng","sch.so","hkkinen.fi","*.moonscale.io","moonscale.net","iki.fi","dyn-berlin.de","in-berlin.de","in-brb.de","in-butter.de","in-dsl.de","in-dsl.net","in-dsl.org","in-vpn.de","in-vpn.net","in-vpn.org","biz.at","info.at","info.cx","ac.leg.br","al.leg.br","am.leg.br","ap.leg.br","ba.leg.br","ce.leg.br","df.leg.br","es.leg.br","go.leg.br","ma.leg.br","mg.leg.br","ms.leg.br","mt.leg.br","pa.leg.br","pb.leg.br","pe.leg.br","pi.leg.br","pr.leg.br","rj.leg.br","rn.leg.br","ro.leg.br","rr.leg.br","rs.leg.br","sc.leg.br","se.leg.br","sp.leg.br","to.leg.br","pixolino.com","ipifony.net","mein-iserv.de","test-iserv.de","iserv.dev","iobb.net","myjino.ru","*.hosting.myjino.ru","*.landing.myjino.ru","*.spectrum.myjino.ru","*.vps.myjino.ru","*.triton.zone","*.cns.joyent.com","js.org","kaas.gg","khplay.nl","keymachine.de","kinghost.net","uni5.net","knightpoint.systems","co.krd","edu.krd","git-repos.de","lcube-server.de","svn-repos.de","leadpages.co","lpages.co","lpusercontent.com","co.business","co.education","co.events","co.financial","co.network","co.place","co.technology","app.lmpm.com","linkitools.space","linkyard.cloud","linkyard-cloud.ch","members.linode.com","nodebalancer.linode.com","we.bs","loginline.app","loginline.dev","loginline.io","loginline.services","loginline.site","krasnik.pl","leczna.pl","lubartow.pl","lublin.pl","poniatowa.pl","swidnik.pl","uklugs.org","glug.org.uk","lug.org.uk","lugs.org.uk","barsy.bg","barsy.co.uk","barsyonline.co.uk","barsycenter.com","barsyonline.com","barsy.club","barsy.de","barsy.eu","barsy.in","barsy.info","barsy.io","barsy.me","barsy.menu","barsy.mobi","barsy.net","barsy.online","barsy.org","barsy.pro","barsy.pub","barsy.shop","barsy.site","barsy.support","barsy.uk","*.magentosite.cloud","mayfirst.info","mayfirst.org","hb.cldmail.ru","miniserver.com","memset.net","cloud.metacentrum.cz","custom.metacentrum.cz","flt.cloud.muni.cz","usr.cloud.muni.cz","meteorapp.com","eu.meteorapp.com","co.pl","azurecontainer.io","azurewebsites.net","azure-mobile.net","cloudapp.net","mozilla-iot.org","bmoattachments.org","net.ru","org.ru","pp.ru","ui.nabu.casa","pony.club","of.fashion","on.fashion","of.football","in.london","of.london","for.men","and.mom","for.mom","for.one","for.sale","of.work","to.work","nctu.me","bitballoon.com","netlify.com","4u.com","ngrok.io","nh-serv.co.uk","nfshost.com","dnsking.ch","mypi.co","n4t.co","001www.com","ddnslive.com","myiphost.com","forumz.info","16-b.it","32-b.it","64-b.it","soundcast.me","tcp4.me","dnsup.net","hicam.net","now-dns.net","ownip.net","vpndns.net","dynserv.org","now-dns.org","x443.pw","now-dns.top","ntdll.top","freeddns.us","crafting.xyz","zapto.xyz","nsupdate.info","nerdpol.ovh","blogsyte.com","brasilia.me","cable-modem.org","ciscofreak.com","collegefan.org","couchpotatofries.org","damnserver.com","ddns.me","ditchyourip.com","dnsfor.me","dnsiskinky.com","dvrcam.info","dynns.com","eating-organic.net","fantasyleague.cc","geekgalaxy.com","golffan.us","health-carereform.com","homesecuritymac.com","homesecuritypc.com","hopto.me","ilovecollege.info","loginto.me","mlbfan.org","mmafan.biz","myactivedirectory.com","mydissent.net","myeffect.net","mymediapc.net","mypsx.net","mysecuritycamera.com","mysecuritycamera.net","mysecuritycamera.org","net-freaks.com","nflfan.org","nhlfan.net","no-ip.ca","no-ip.co.uk","no-ip.net","noip.us","onthewifi.com","pgafan.net","point2this.com","pointto.us","privatizehealthinsurance.net","quicksytes.com","read-books.org","securitytactics.com","serveexchange.com","servehumour.com","servep2p.com","servesarcasm.com","stufftoread.com","ufcfan.org","unusualperson.com","workisboring.com","3utilities.com","bounceme.net","ddns.net","ddnsking.com","gotdns.ch","hopto.org","myftp.biz","myftp.org","myvnc.com","no-ip.biz","no-ip.info","no-ip.org","noip.me","redirectme.net","servebeer.com","serveblog.net","servecounterstrike.com","serveftp.com","servegame.com","servehalflife.com","servehttp.com","serveirc.com","serveminecraft.net","servemp3.com","servepics.com","servequake.com","sytes.net","webhop.me","zapto.org","stage.nodeart.io","nodum.co","nodum.io","pcloud.host","nyc.mn","nom.ae","nom.af","nom.ai","nom.al","nym.by","nym.bz","nom.cl","nom.gd","nom.ge","nom.gl","nym.gr","nom.gt","nym.gy","nom.hn","nym.ie","nom.im","nom.ke","nym.kz","nym.la","nym.lc","nom.li","nym.li","nym.lt","nym.lu","nym.me","nom.mk","nym.mn","nym.mx","nom.nu","nym.nz","nym.pe","nym.pt","nom.pw","nom.qa","nym.ro","nom.rs","nom.si","nym.sk","nom.st","nym.su","nym.sx","nom.tj","nym.tw","nom.ug","nom.uy","nom.vc","nom.vg","cya.gg","cloudycluster.net","nid.io","opencraft.hosting","operaunite.com","outsystemscloud.com","ownprovider.com","own.pm","ox.rs","oy.lc","pgfog.com","pagefrontapp.com","art.pl","gliwice.pl","krakow.pl","poznan.pl","wroc.pl","zakopane.pl","pantheonsite.io","gotpantheon.com","mypep.link","on-web.fr","*.platform.sh","*.platformsh.site","dyn53.io","co.bn","xen.prgmr.com","priv.at","prvcy.page","*.dweb.link","protonet.io","chirurgiens-dentistes-en-france.fr","byen.site","pubtls.org","qualifioapp.com","instantcloud.cn","ras.ru","qa2.com","dev-myqnapcloud.com","alpha-myqnapcloud.com","myqnapcloud.com","*.quipelements.com","vapor.cloud","vaporcloud.io","rackmaze.com","rackmaze.net","*.on-rancher.cloud","*.on-rio.io","readthedocs.io","rhcloud.com","app.render.com","onrender.com","repl.co","repl.run","resindevice.io","devices.resinstaging.io","hzc.io","wellbeingzone.eu","ptplus.fit","wellbeingzone.co.uk","git-pages.rit.edu","sandcats.io","logoip.de","logoip.com","schokokeks.net","scrysec.com","firewall-gateway.com","firewall-gateway.de","my-gateway.de","my-router.de","spdns.de","spdns.eu","firewall-gateway.net","my-firewall.org","myfirewall.org","spdns.org","*.s5y.io","*.sensiosite.cloud","biz.ua","co.ua","pp.ua","shiftedit.io","myshopblocks.com","shopitsite.com","mo-siemens.io","1kapp.com","appchizi.com","applinzi.com","sinaapp.com","vipsinaapp.com","siteleaf.net","bounty-full.com","alpha.bounty-full.com","beta.bounty-full.com","stackhero-network.com","static.land","dev.static.land","sites.static.land","apps.lair.io","*.stolos.io","spacekit.io","customer.speedpartner.de","api.stdlib.com","storj.farm","utwente.io","soc.srcf.net","user.srcf.net","temp-dns.com","applicationcloud.io","scapp.io","syncloud.it","diskstation.me","dscloud.biz","dscloud.me","dscloud.mobi","dsmynas.com","dsmynas.net","dsmynas.org","familyds.com","familyds.net","familyds.org","i234.me","myds.me","synology.me","vpnplus.to","taifun-dns.de","gda.pl","gdansk.pl","gdynia.pl","med.pl","sopot.pl","edugit.org","telebit.app","telebit.io","*.telebit.xyz","gwiddle.co.uk","thingdustdata.com","cust.dev.thingdust.io","cust.disrec.thingdust.io","cust.prod.thingdust.io","cust.testing.thingdust.io","arvo.network","azimuth.network","bloxcms.com","townnews-staging.com","12hp.at","2ix.at","4lima.at","lima-city.at","12hp.ch","2ix.ch","4lima.ch","lima-city.ch","trafficplex.cloud","de.cool","12hp.de","2ix.de","4lima.de","lima-city.de","1337.pictures","clan.rip","lima-city.rocks","webspace.rocks","lima.zone","*.transurl.be","*.transurl.eu","*.transurl.nl","tuxfamily.org","dd-dns.de","diskstation.eu","diskstation.org","dray-dns.de","draydns.de","dyn-vpn.de","dynvpn.de","mein-vigor.de","my-vigor.de","my-wan.de","syno-ds.de","synology-diskstation.de","synology-ds.de","uber.space","*.uberspace.de","hk.com","hk.org","ltd.hk","inc.hk","virtualuser.de","virtual-user.de","lib.de.us","2038.io","router.management","v-info.info","voorloper.cloud","wafflecell.com","wedeploy.io","wedeploy.me","wedeploy.sh","remotewd.com","wmflabs.org","half.host","xnbay.com","u2.xnbay.com","u2-local.xnbay.com","cistron.nl","demon.nl","xs4all.space","official.academy","yolasite.com","ybo.faith","yombo.me","homelink.one","ybo.party","ybo.review","ybo.science","ybo.trade","nohost.me","noho.st","za.net","za.org","now.sh","bss.design","basicserver.io","virtualserver.io","site.builder.nu","enterprisecloud.nu","zone.id"]')},function(module,exports,__webpack_require__){"use strict";
/*!
 * Copyright (c) 2015, Salesforce.com, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. Neither the name of Salesforce.com nor the names of its contributors may
 * be used to endorse or promote products derived from this software without
 * specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */var Store=__webpack_require__(796).Store,permuteDomain=__webpack_require__(797).permuteDomain,pathMatch=__webpack_require__(798).pathMatch,util=__webpack_require__(8);function MemoryCookieStore(){Store.call(this),this.idx={}}util.inherits(MemoryCookieStore,Store),exports.MemoryCookieStore=MemoryCookieStore,MemoryCookieStore.prototype.idx=null,MemoryCookieStore.prototype.synchronous=!0,MemoryCookieStore.prototype.inspect=function(){return"{ idx: "+util.inspect(this.idx,!1,2)+" }"},util.inspect.custom&&(MemoryCookieStore.prototype[util.inspect.custom]=MemoryCookieStore.prototype.inspect),MemoryCookieStore.prototype.findCookie=function(domain,path,key,cb){return this.idx[domain]&&this.idx[domain][path]?cb(null,this.idx[domain][path][key]||null):cb(null,void 0)},MemoryCookieStore.prototype.findCookies=function(domain,path,cb){var pathMatcher,results=[];if(!domain)return cb(null,[]);pathMatcher=path?function(domainIndex){Object.keys(domainIndex).forEach(function(cookiePath){if(pathMatch(path,cookiePath)){var pathIndex=domainIndex[cookiePath];for(var key in pathIndex)results.push(pathIndex[key])}})}:function(domainIndex){for(var curPath in domainIndex){var pathIndex=domainIndex[curPath];for(var key in pathIndex)results.push(pathIndex[key])}};var domains=permuteDomain(domain)||[domain],idx=this.idx;domains.forEach(function(curDomain){var domainIndex=idx[curDomain];domainIndex&&pathMatcher(domainIndex)}),cb(null,results)},MemoryCookieStore.prototype.putCookie=function(cookie,cb){this.idx[cookie.domain]||(this.idx[cookie.domain]={}),this.idx[cookie.domain][cookie.path]||(this.idx[cookie.domain][cookie.path]={}),this.idx[cookie.domain][cookie.path][cookie.key]=cookie,cb(null)},MemoryCookieStore.prototype.updateCookie=function(oldCookie,newCookie,cb){this.putCookie(newCookie,cb)},MemoryCookieStore.prototype.removeCookie=function(domain,path,key,cb){this.idx[domain]&&this.idx[domain][path]&&this.idx[domain][path][key]&&delete this.idx[domain][path][key],cb(null)},MemoryCookieStore.prototype.removeCookies=function(domain,path,cb){return this.idx[domain]&&(path?delete this.idx[domain][path]:delete this.idx[domain]),cb(null)},MemoryCookieStore.prototype.removeAllCookies=function(cb){return this.idx={},cb(null)},MemoryCookieStore.prototype.getAllCookies=function(cb){var cookies=[],idx=this.idx;Object.keys(idx).forEach(function(domain){Object.keys(idx[domain]).forEach(function(path){Object.keys(idx[domain][path]).forEach(function(key){null!==key&&cookies.push(idx[domain][path][key])})})}),cookies.sort(function(a,b){return(a.creationIndex||0)-(b.creationIndex||0)}),cb(null,cookies)}},function(module,exports){module.exports="2.5.0"},function(module,exports,__webpack_require__){"use strict";var http=__webpack_require__(65),https=__webpack_require__(95),url=__webpack_require__(20),util=__webpack_require__(8),stream=__webpack_require__(10),zlib=__webpack_require__(55),aws2=__webpack_require__(958),aws4=__webpack_require__(959),httpSignature=__webpack_require__(961),mime=__webpack_require__(421),caseless=__webpack_require__(446),ForeverAgent=__webpack_require__(976),FormData=__webpack_require__(977),extend=__webpack_require__(436),isstream=__webpack_require__(814),isTypedArray=__webpack_require__(984).strict,helpers=__webpack_require__(439),cookies=__webpack_require__(793),getProxyFromURI=__webpack_require__(985),Querystring=__webpack_require__(986).Querystring,Har=__webpack_require__(987).Har,Auth=__webpack_require__(1044).Auth,OAuth=__webpack_require__(1045).OAuth,hawk=__webpack_require__(1047),Multipart=__webpack_require__(1048).Multipart,Redirect=__webpack_require__(1049).Redirect,Tunnel=__webpack_require__(1050).Tunnel,now=__webpack_require__(1052),Buffer=__webpack_require__(179).Buffer,safeStringify=helpers.safeStringify,isReadStream=helpers.isReadStream,toBase64=helpers.toBase64,defer=helpers.defer,copy=helpers.copy,version=helpers.version,globalCookieJar=cookies.jar(),globalPool={};function requestToJSON(){return{uri:this.uri,method:this.method,headers:this.headers}}function responseToJSON(){return{statusCode:this.statusCode,body:this.body,headers:this.headers,request:requestToJSON.call(this.request)}}function Request(options){options.har&&(this._har=new Har(this),options=this._har.options(options)),stream.Stream.call(this);var reserved=Object.keys(Request.prototype),nonReserved=function(reserved,options){var object={};for(var i in options)-1===reserved.indexOf(i)&&(object[i]=options[i]);return object}(reserved,options);extend(this,nonReserved),options=function(reserved,options){var object={};for(var i in options){var isReserved=!(-1===reserved.indexOf(i)),isFunction="function"==typeof options[i];isReserved&&isFunction||(object[i]=options[i])}return object}(reserved,options),this.readable=!0,this.writable=!0,options.method&&(this.explicitMethod=!0),this._qs=new Querystring(this),this._auth=new Auth(this),this._oauth=new OAuth(this),this._multipart=new Multipart(this),this._redirect=new Redirect(this),this._tunnel=new Tunnel(this),this.init(options)}function debug(){Request.debug&&console.error("REQUEST %s",util.format.apply(util,arguments))}util.inherits(Request,stream.Stream),Request.debug=process.env.NODE_DEBUG&&/\brequest\b/.test(process.env.NODE_DEBUG),Request.prototype.debug=debug,Request.prototype.init=function(options){var self=this;for(var headerName in options||(options={}),self.headers=self.headers?copy(self.headers):{},self.headers)void 0===self.headers[headerName]&&delete self.headers[headerName];if(caseless.httpify(self,self.headers),self.method||(self.method=options.method||"GET"),self.localAddress||(self.localAddress=options.localAddress),self._qs.init(options),debug(options),self.pool||!1===self.pool||(self.pool=globalPool),self.dests=self.dests||[],self.__isRequestRequest=!0,!self._callback&&self.callback&&(self._callback=self.callback,self.callback=function(){self._callbackCalled||(self._callbackCalled=!0,self._callback.apply(self,arguments))},self.on("error",self.callback.bind()),self.on("complete",self.callback.bind(self,null))),!self.uri&&self.url&&(self.uri=self.url,delete self.url),self.baseUrl){if("string"!=typeof self.baseUrl)return self.emit("error",new Error("options.baseUrl must be a string"));if("string"!=typeof self.uri)return self.emit("error",new Error("options.uri must be a string when using options.baseUrl"));if(0===self.uri.indexOf("//")||-1!==self.uri.indexOf("://"))return self.emit("error",new Error("options.uri must be a path when using options.baseUrl"));var baseUrlEndsWithSlash=self.baseUrl.lastIndexOf("/")===self.baseUrl.length-1,uriStartsWithSlash=0===self.uri.indexOf("/");baseUrlEndsWithSlash&&uriStartsWithSlash?self.uri=self.baseUrl+self.uri.slice(1):baseUrlEndsWithSlash||uriStartsWithSlash?self.uri=self.baseUrl+self.uri:""===self.uri?self.uri=self.baseUrl:self.uri=self.baseUrl+"/"+self.uri,delete self.baseUrl}if(!self.uri)return self.emit("error",new Error("options.uri is a required argument"));if("string"==typeof self.uri&&(self.uri=url.parse(self.uri)),self.uri.href||(self.uri.href=url.format(self.uri)),"unix:"===self.uri.protocol)return self.emit("error",new Error("`unix://` URL scheme is no longer supported. Please use the format `http://unix:SOCKET:PATH`"));if("unix"===self.uri.host&&self.enableUnixSocket(),!1===self.strictSSL&&(self.rejectUnauthorized=!1),self.uri.pathname||(self.uri.pathname="/"),!(self.uri.host||self.uri.hostname&&self.uri.port||self.uri.isUnix)){var message='Invalid URI "'+url.format(self.uri)+'"';return 0===Object.keys(options).length&&(message+=". This can be caused by a crappy redirection."),self.abort(),self.emit("error",new Error(message))}if(self.hasOwnProperty("proxy")||(self.proxy=getProxyFromURI(self.uri)),self.tunnel=self._tunnel.isEnabled(),self.proxy&&self._tunnel.setup(options),self._redirect.onRequest(options),self.setHost=!1,!self.hasHeader("host")){var hostHeaderName=self.originalHostHeaderName||"host";self.setHeader(hostHeaderName,self.uri.host),self.uri.port&&("80"===self.uri.port&&"http:"===self.uri.protocol||"443"===self.uri.port&&"https:"===self.uri.protocol)&&self.setHeader(hostHeaderName,self.uri.hostname),self.setHost=!0}if(self.jar(self._jar||options.jar),self.uri.port||("http:"===self.uri.protocol?self.uri.port=80:"https:"===self.uri.protocol&&(self.uri.port=443)),self.proxy&&!self.tunnel?(self.port=self.proxy.port,self.host=self.proxy.hostname):(self.port=self.uri.port,self.host=self.uri.hostname),options.form&&self.form(options.form),options.formData){var formData=options.formData,requestForm=self.form(),appendFormValue=function(key,value){value&&value.hasOwnProperty("value")&&value.hasOwnProperty("options")?requestForm.append(key,value.value,value.options):requestForm.append(key,value)};for(var formKey in formData)if(formData.hasOwnProperty(formKey)){var formValue=formData[formKey];if(formValue instanceof Array)for(var j=0;j<formValue.length;j++)appendFormValue(formKey,formValue[j]);else appendFormValue(formKey,formValue)}}if(options.qs&&self.qs(options.qs),self.uri.path?self.path=self.uri.path:self.path=self.uri.pathname+(self.uri.search||""),0===self.path.length&&(self.path="/"),options.aws&&self.aws(options.aws),options.hawk&&self.hawk(options.hawk),options.httpSignature&&self.httpSignature(options.httpSignature),options.auth&&(Object.prototype.hasOwnProperty.call(options.auth,"username")&&(options.auth.user=options.auth.username),Object.prototype.hasOwnProperty.call(options.auth,"password")&&(options.auth.pass=options.auth.password),self.auth(options.auth.user,options.auth.pass,options.auth.sendImmediately,options.auth.bearer)),self.gzip&&!self.hasHeader("accept-encoding")&&self.setHeader("accept-encoding","gzip, deflate"),self.uri.auth&&!self.hasHeader("authorization")){var uriAuthPieces=self.uri.auth.split(":").map(function(item){return self._qs.unescape(item)});self.auth(uriAuthPieces[0],uriAuthPieces.slice(1).join(":"),!0)}if(!self.tunnel&&self.proxy&&self.proxy.auth&&!self.hasHeader("proxy-authorization")){var proxyAuthPieces=self.proxy.auth.split(":").map(function(item){return self._qs.unescape(item)}),authHeader="Basic "+toBase64(proxyAuthPieces.join(":"));self.setHeader("proxy-authorization",authHeader)}function setContentLength(){var length;(isTypedArray(self.body)&&(self.body=Buffer.from(self.body)),self.hasHeader("content-length"))||((length="string"==typeof self.body?Buffer.byteLength(self.body):Array.isArray(self.body)?self.body.reduce(function(a,b){return a+b.length},0):self.body.length)?self.setHeader("content-length",length):self.emit("error",new Error("Argument error, options.body.")))}self.proxy&&!self.tunnel&&(self.path=self.uri.protocol+"//"+self.uri.host+self.path),options.json&&self.json(options.json),options.multipart&&self.multipart(options.multipart),options.time&&(self.timing=!0,self.elapsedTime=self.elapsedTime||0),self.body&&!isstream(self.body)&&setContentLength(),options.oauth?self.oauth(options.oauth):self._oauth.params&&self.hasHeader("authorization")&&self.oauth(self._oauth.params);var protocol=self.proxy&&!self.tunnel?self.proxy.protocol:self.uri.protocol,defaultModules={"http:":http,"https:":https},httpModules=self.httpModules||{};if(self.httpModule=httpModules[protocol]||defaultModules[protocol],!self.httpModule)return self.emit("error",new Error("Invalid protocol: "+protocol));if(options.ca&&(self.ca=options.ca),!self.agent)if(options.agentOptions&&(self.agentOptions=options.agentOptions),options.agentClass)self.agentClass=options.agentClass;else if(options.forever){var v=version();0===v.major&&v.minor<=10?self.agentClass="http:"===protocol?ForeverAgent:ForeverAgent.SSL:(self.agentClass=self.httpModule.Agent,self.agentOptions=self.agentOptions||{},self.agentOptions.keepAlive=!0)}else self.agentClass=self.httpModule.Agent;!1===self.pool?self.agent=!1:self.agent=self.agent||self.getNewAgent(),self.on("pipe",function(src){if(self.ntick&&self._started&&self.emit("error",new Error("You cannot pipe to this stream after the outbound request has started.")),self.src=src,isReadStream(src))self.hasHeader("content-type")||self.setHeader("content-type",mime.lookup(src.path));else{if(src.headers)for(var i in src.headers)self.hasHeader(i)||self.setHeader(i,src.headers[i]);self._json&&!self.hasHeader("content-type")&&self.setHeader("content-type","application/json"),src.method&&!self.explicitMethod&&(self.method=src.method)}}),defer(function(){if(!self._aborted){var end=function(){if(self._form&&(self._auth.hasAuth?self._auth.hasAuth&&self._auth.sentAuth&&self._form.pipe(self):self._form.pipe(self)),self._multipart&&self._multipart.chunked&&self._multipart.body.pipe(self),self.body)isstream(self.body)?self.body.pipe(self):(setContentLength(),Array.isArray(self.body)?self.body.forEach(function(part){self.write(part)}):self.write(self.body),self.end());else if(self.requestBodyStream)console.warn("options.requestBodyStream is deprecated, please pass the request object to stream.pipe."),self.requestBodyStream.pipe(self);else if(!self.src){if(self._auth.hasAuth&&!self._auth.sentAuth)return void self.end();"GET"!==self.method&&void 0!==self.method&&self.setHeader("content-length",0),self.end()}};self._form&&!self.hasHeader("content-length")?(self.setHeader(self._form.getHeaders(),!0),self._form.getLength(function(err,length){err||isNaN(length)||self.setHeader("content-length",length),end()})):end(),self.ntick=!0}})},Request.prototype.getNewAgent=function(){var Agent=this.agentClass,options={};if(this.agentOptions)for(var i in this.agentOptions)options[i]=this.agentOptions[i];this.ca&&(options.ca=this.ca),this.ciphers&&(options.ciphers=this.ciphers),this.secureProtocol&&(options.secureProtocol=this.secureProtocol),this.secureOptions&&(options.secureOptions=this.secureOptions),void 0!==this.rejectUnauthorized&&(options.rejectUnauthorized=this.rejectUnauthorized),this.cert&&this.key&&(options.key=this.key,options.cert=this.cert),this.pfx&&(options.pfx=this.pfx),this.passphrase&&(options.passphrase=this.passphrase);var poolKey="";Agent!==this.httpModule.Agent&&(poolKey+=Agent.name);var proxy=this.proxy;return"string"==typeof proxy&&(proxy=url.parse(proxy)),(proxy&&"https:"===proxy.protocol||"https:"===this.uri.protocol)&&(options.ca&&(poolKey&&(poolKey+=":"),poolKey+=options.ca),void 0!==options.rejectUnauthorized&&(poolKey&&(poolKey+=":"),poolKey+=options.rejectUnauthorized),options.cert&&(poolKey&&(poolKey+=":"),poolKey+=options.cert.toString("ascii")+options.key.toString("ascii")),options.pfx&&(poolKey&&(poolKey+=":"),poolKey+=options.pfx.toString("ascii")),options.ciphers&&(poolKey&&(poolKey+=":"),poolKey+=options.ciphers),options.secureProtocol&&(poolKey&&(poolKey+=":"),poolKey+=options.secureProtocol),options.secureOptions&&(poolKey&&(poolKey+=":"),poolKey+=options.secureOptions)),this.pool===globalPool&&!poolKey&&0===Object.keys(options).length&&this.httpModule.globalAgent?this.httpModule.globalAgent:(poolKey=this.uri.protocol+poolKey,this.pool[poolKey]||(this.pool[poolKey]=new Agent(options),this.pool.maxSockets&&(this.pool[poolKey].maxSockets=this.pool.maxSockets)),this.pool[poolKey])},Request.prototype.start=function(){var self=this;if(self.timing)var startTime=(new Date).getTime(),startTimeNow=now();if(!self._aborted){self._started=!0,self.method=self.method||"GET",self.href=self.uri.href,self.src&&self.src.stat&&self.src.stat.size&&!self.hasHeader("content-length")&&self.setHeader("content-length",self.src.stat.size),self._aws&&self.aws(self._aws,!0);var timeout,reqOptions=copy(self);delete reqOptions.auth,debug("make request",self.uri.href),delete reqOptions.timeout;try{self.req=self.httpModule.request(reqOptions)}catch(err){return void self.emit("error",err)}self.timing&&(self.startTime=startTime,self.startTimeNow=startTimeNow,self.timings={}),self.timeout&&!self.timeoutTimer&&(self.timeout<0?timeout=0:"number"==typeof self.timeout&&isFinite(self.timeout)&&(timeout=self.timeout)),self.req.on("response",self.onRequestResponse.bind(self)),self.req.on("error",self.onRequestError.bind(self)),self.req.on("drain",function(){self.emit("drain")}),self.req.on("socket",function(socket){var isConnecting=socket._connecting||socket.connecting;if(self.timing&&(self.timings.socket=now()-self.startTimeNow,isConnecting)){var onLookupTiming=function(){self.timings.lookup=now()-self.startTimeNow},onConnectTiming=function(){self.timings.connect=now()-self.startTimeNow};socket.once("lookup",onLookupTiming),socket.once("connect",onConnectTiming),self.req.once("error",function(){socket.removeListener("lookup",onLookupTiming),socket.removeListener("connect",onConnectTiming)})}var setReqTimeout=function(){self.req.setTimeout(timeout,function(){if(self.req){self.abort();var e=new Error("ESOCKETTIMEDOUT");e.code="ESOCKETTIMEDOUT",e.connect=!1,self.emit("error",e)}})};if(void 0!==timeout)if(isConnecting){var onReqSockConnect=function(){socket.removeListener("connect",onReqSockConnect),clearTimeout(self.timeoutTimer),self.timeoutTimer=null,setReqTimeout()};socket.on("connect",onReqSockConnect),self.req.on("error",function(err){socket.removeListener("connect",onReqSockConnect)}),self.timeoutTimer=setTimeout(function(){socket.removeListener("connect",onReqSockConnect),self.abort();var e=new Error("ETIMEDOUT");e.code="ETIMEDOUT",e.connect=!0,self.emit("error",e)},timeout)}else setReqTimeout();self.emit("socket",socket)}),self.emit("request",self.req)}},Request.prototype.onRequestError=function(error){if(!this._aborted){if(this.req&&this.req._reusedSocket&&"ECONNRESET"===error.code&&this.agent.addRequestNoreuse)return this.agent={addRequest:this.agent.addRequestNoreuse.bind(this.agent)},this.start(),void this.req.end();this.timeout&&this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null),this.emit("error",error)}},Request.prototype.onRequestResponse=function(response){var self=this;if(self.timing&&(self.timings.response=now()-self.startTimeNow),debug("onRequestResponse",self.uri.href,response.statusCode,response.headers),response.on("end",function(){self.timing&&(self.timings.end=now()-self.startTimeNow,response.timingStart=self.startTime,self.timings.socket||(self.timings.socket=0),self.timings.lookup||(self.timings.lookup=self.timings.socket),self.timings.connect||(self.timings.connect=self.timings.lookup),self.timings.response||(self.timings.response=self.timings.connect),debug("elapsed time",self.timings.end),self.elapsedTime+=Math.round(self.timings.end),response.elapsedTime=self.elapsedTime,response.timings=self.timings,response.timingPhases={wait:self.timings.socket,dns:self.timings.lookup-self.timings.socket,tcp:self.timings.connect-self.timings.lookup,firstByte:self.timings.response-self.timings.connect,download:self.timings.end-self.timings.response,total:self.timings.end}),debug("response end",self.uri.href,response.statusCode,response.headers)}),self._aborted)return debug("aborted",self.uri.href),void response.resume();if(self.response=response,response.request=self,response.toJSON=responseToJSON,self.httpModule!==https||!self.strictSSL||response.hasOwnProperty("socket")&&response.socket.authorized){self.originalHost=self.getHeader("host"),self.originalHostHeaderName||(self.originalHostHeaderName=self.hasHeader("host")),self.setHost&&self.removeHeader("host"),self.timeout&&self.timeoutTimer&&(clearTimeout(self.timeoutTimer),self.timeoutTimer=null);var targetCookieJar=self._jar&&self._jar.setCookie?self._jar:globalCookieJar,addCookie=function(cookie){try{targetCookieJar.setCookie(cookie,self.uri.href,{ignoreError:!0})}catch(e){self.emit("error",e)}};if(response.caseless=caseless(response.headers),response.caseless.has("set-cookie")&&!self._disableCookies){var headerName=response.caseless.has("set-cookie");Array.isArray(response.headers[headerName])?response.headers[headerName].forEach(addCookie):addCookie(response.headers[headerName])}if(!self._redirect.onResponse(response)){response.on("close",function(){self._ended||self.response.emit("end")}),response.once("end",function(){self._ended=!0});var responseContent,code;if(!self.gzip||(code=response.statusCode,"HEAD"===self.method||code>=100&&code<200||204===code||304===code))responseContent=response;else{var contentEncoding=response.headers["content-encoding"]||"identity";contentEncoding=contentEncoding.trim().toLowerCase();var zlibOptions={flush:zlib.Z_SYNC_FLUSH,finishFlush:zlib.Z_SYNC_FLUSH};"gzip"===contentEncoding?(responseContent=zlib.createGunzip(zlibOptions),response.pipe(responseContent)):"deflate"===contentEncoding?(responseContent=zlib.createInflate(zlibOptions),response.pipe(responseContent)):("identity"!==contentEncoding&&debug("ignoring unrecognized Content-Encoding "+contentEncoding),responseContent=response)}self.encoding&&(0!==self.dests.length?console.error("Ignoring encoding parameter as this stream is being piped to another stream which makes the encoding option invalid."):responseContent.setEncoding(self.encoding)),self._paused&&responseContent.pause(),self.responseContent=responseContent,self.emit("response",response),self.dests.forEach(function(dest){self.pipeDest(dest)}),responseContent.on("data",function(chunk){self.timing&&!self.responseStarted&&(self.responseStartTime=(new Date).getTime(),response.responseStartTime=self.responseStartTime),self._destdata=!0,self.emit("data",chunk)}),responseContent.once("end",function(chunk){self.emit("end",chunk)}),responseContent.on("error",function(error){self.emit("error",error)}),responseContent.on("close",function(){self.emit("close")}),self.callback?self.readResponseBody(response):self.on("end",function(){self._aborted?debug("aborted",self.uri.href):self.emit("complete",response)}),debug("finish init function",self.uri.href)}}else{debug("strict ssl error",self.uri.href);var sslErr=response.hasOwnProperty("socket")?response.socket.authorizationError:self.uri.href+" does not support SSL";self.emit("error",new Error("SSL Error: "+sslErr))}},Request.prototype.readResponseBody=function(response){var self=this;debug("reading response's body");var buffers=[],bufferLength=0,strings=[];self.on("data",function(chunk){Buffer.isBuffer(chunk)?chunk.length&&(bufferLength+=chunk.length,buffers.push(chunk)):strings.push(chunk)}),self.on("end",function(){if(debug("end event",self.uri.href),self._aborted)return debug("aborted",self.uri.href),buffers=[],void(bufferLength=0);if(bufferLength?(debug("has body",self.uri.href,bufferLength),response.body=Buffer.concat(buffers,bufferLength),null!==self.encoding&&(response.body=response.body.toString(self.encoding)),buffers=[],bufferLength=0):strings.length&&("utf8"===self.encoding&&strings[0].length>0&&"\ufeff"===strings[0][0]&&(strings[0]=strings[0].substring(1)),response.body=strings.join("")),self._json)try{response.body=JSON.parse(response.body,self._jsonReviver)}catch(e){debug("invalid JSON received",self.uri.href)}debug("emitting complete",self.uri.href),void 0!==response.body||self._json||(response.body=null===self.encoding?Buffer.alloc(0):""),self.emit("complete",response,response.body)})},Request.prototype.abort=function(){this._aborted=!0,this.req?this.req.abort():this.response&&this.response.destroy(),this.emit("abort")},Request.prototype.pipeDest=function(dest){var response=this.response;if(dest.headers&&!dest.headersSent){if(response.caseless.has("content-type")){var ctname=response.caseless.has("content-type");dest.setHeader?dest.setHeader(ctname,response.headers[ctname]):dest.headers[ctname]=response.headers[ctname]}if(response.caseless.has("content-length")){var clname=response.caseless.has("content-length");dest.setHeader?dest.setHeader(clname,response.headers[clname]):dest.headers[clname]=response.headers[clname]}}if(dest.setHeader&&!dest.headersSent){for(var i in response.headers)this.gzip&&"content-encoding"===i||dest.setHeader(i,response.headers[i]);dest.statusCode=response.statusCode}this.pipefilter&&this.pipefilter(response,dest)},Request.prototype.qs=function(q,clobber){var base;for(var i in base=!clobber&&this.uri.query?this._qs.parse(this.uri.query):{},q)base[i]=q[i];var qs=this._qs.stringify(base);return""===qs?this:(this.uri=url.parse(this.uri.href.split("?")[0]+"?"+qs),this.url=this.uri,this.path=this.uri.path,"unix"===this.uri.host&&this.enableUnixSocket(),this)},Request.prototype.form=function(form){var self=this;return form?(/^application\/x-www-form-urlencoded\b/.test(self.getHeader("content-type"))||self.setHeader("content-type","application/x-www-form-urlencoded"),self.body="string"==typeof form?self._qs.rfc3986(form.toString("utf8")):self._qs.stringify(form).toString("utf8"),self):(self._form=new FormData,self._form.on("error",function(err){err.message="form-data: "+err.message,self.emit("error",err),self.abort()}),self._form)},Request.prototype.multipart=function(multipart){return this._multipart.onRequest(multipart),this._multipart.chunked||(this.body=this._multipart.body),this},Request.prototype.json=function(val){return this.hasHeader("accept")||this.setHeader("accept","application/json"),"function"==typeof this.jsonReplacer&&(this._jsonReplacer=this.jsonReplacer),this._json=!0,"boolean"==typeof val?void 0!==this.body&&(/^application\/x-www-form-urlencoded\b/.test(this.getHeader("content-type"))?this.body=this._qs.rfc3986(this.body):this.body=safeStringify(this.body,this._jsonReplacer),this.hasHeader("content-type")||this.setHeader("content-type","application/json")):(this.body=safeStringify(val,this._jsonReplacer),this.hasHeader("content-type")||this.setHeader("content-type","application/json")),"function"==typeof this.jsonReviver&&(this._jsonReviver=this.jsonReviver),this},Request.prototype.getHeader=function(name,headers){var result,re;return headers||(headers=this.headers),Object.keys(headers).forEach(function(key){key.length===name.length&&(re=new RegExp(name,"i"),key.match(re)&&(result=headers[key]))}),result},Request.prototype.enableUnixSocket=function(){var unixParts=this.uri.path.split(":"),host=unixParts[0],path=unixParts[1];this.socketPath=host,this.uri.pathname=path,this.uri.path=path,this.uri.host=host,this.uri.hostname=host,this.uri.isUnix=!0},Request.prototype.auth=function(user,pass,sendImmediately,bearer){return this._auth.onRequest(user,pass,sendImmediately,bearer),this},Request.prototype.aws=function(opts,now){if(!now)return this._aws=opts,this;if(4===opts.sign_version||"4"===opts.sign_version){var options={host:this.uri.host,path:this.uri.path,method:this.method,headers:this.headers,body:this.body};opts.service&&(options.service=opts.service);var signRes=aws4.sign(options,{accessKeyId:opts.key,secretAccessKey:opts.secret,sessionToken:opts.session});this.setHeader("authorization",signRes.headers.Authorization),this.setHeader("x-amz-date",signRes.headers["X-Amz-Date"]),signRes.headers["X-Amz-Security-Token"]&&this.setHeader("x-amz-security-token",signRes.headers["X-Amz-Security-Token"])}else{var date=new Date;this.setHeader("date",date.toUTCString());var auth={key:opts.key,secret:opts.secret,verb:this.method.toUpperCase(),date:date,contentType:this.getHeader("content-type")||"",md5:this.getHeader("content-md5")||"",amazonHeaders:aws2.canonicalizeHeaders(this.headers)},path=this.uri.path;opts.bucket&&path?auth.resource="/"+opts.bucket+path:opts.bucket&&!path?auth.resource="/"+opts.bucket:!opts.bucket&&path?auth.resource=path:opts.bucket||path||(auth.resource="/"),auth.resource=aws2.canonicalizeResource(auth.resource),this.setHeader("authorization",aws2.authorization(auth))}return this},Request.prototype.httpSignature=function(opts){var self=this;return httpSignature.signRequest({getHeader:function(header){return self.getHeader(header,self.headers)},setHeader:function(header,value){self.setHeader(header,value)},method:self.method,path:self.path},opts),debug("httpSignature authorization",self.getHeader("authorization")),self},Request.prototype.hawk=function(opts){this.setHeader("Authorization",hawk.header(this.uri,this.method,opts))},Request.prototype.oauth=function(_oauth){return this._oauth.onRequest(_oauth),this},Request.prototype.jar=function(jar){var cookies;if(0===this._redirect.redirectsFollowed&&(this.originalCookieHeader=this.getHeader("cookie")),jar){var targetCookieJar=jar&&jar.getCookieString?jar:globalCookieJar,urihref=this.uri.href;targetCookieJar&&(cookies=targetCookieJar.getCookieString(urihref))}else cookies=!1,this._disableCookies=!0;return cookies&&cookies.length&&(this.originalCookieHeader?this.setHeader("cookie",this.originalCookieHeader+"; "+cookies):this.setHeader("cookie",cookies)),this._jar=jar,this},Request.prototype.pipe=function(dest,opts){if(!this.response)return this.dests.push(dest),stream.Stream.prototype.pipe.call(this,dest,opts),dest;if(this._destdata)this.emit("error",new Error("You cannot pipe after data has been emitted from the response."));else{if(!this._ended)return stream.Stream.prototype.pipe.call(this,dest,opts),this.pipeDest(dest),dest;this.emit("error",new Error("You cannot pipe after the response has been ended."))}},Request.prototype.write=function(){var self=this;if(!self._aborted)return self._started||self.start(),self.req?self.req.write.apply(self.req,arguments):void 0},Request.prototype.end=function(chunk){this._aborted||(chunk&&this.write(chunk),this._started||this.start(),this.req&&this.req.end())},Request.prototype.pause=function(){var self=this;self.responseContent?self.responseContent.pause.apply(self.responseContent,arguments):self._paused=!0},Request.prototype.resume=function(){var self=this;self.responseContent?self.responseContent.resume.apply(self.responseContent,arguments):self._paused=!1},Request.prototype.destroy=function(){this._ended?this.response&&this.response.destroy():this.end()},Request.defaultProxyHeaderWhiteList=Tunnel.defaultProxyHeaderWhiteList.slice(),Request.defaultProxyHeaderExclusiveList=Tunnel.defaultProxyHeaderExclusiveList.slice(),Request.prototype.toJSON=requestToJSON,module.exports=Request},function(module,exports,__webpack_require__){
/*!
 *  Copyright 2010 LearnBoost <dev@learnboost.com>
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var crypto=__webpack_require__(23),parse=__webpack_require__(20).parse,keys=["acl","location","logging","notification","partNumber","policy","requestPayment","torrent","uploadId","uploads","versionId","versioning","versions","website"];function authorization(options){return"AWS "+options.key+":"+sign(options)}function hmacSha1(options){return crypto.createHmac("sha1",options.secret).update(options.message).digest("base64")}function sign(options){return options.message=stringToSign(options),hmacSha1(options)}function stringToSign(options){var headers=options.amazonHeaders||"";return headers&&(headers+="\n"),[options.verb,options.md5,options.contentType,options.date?options.date.toUTCString():"",headers+options.resource].join("\n")}function queryStringToSign(options){return"GET\n\n\n"+options.date+"\n"+options.resource}module.exports=authorization,module.exports.authorization=authorization,module.exports.hmacSha1=hmacSha1,module.exports.sign=sign,module.exports.signQuery=function(options){return options.message=queryStringToSign(options),hmacSha1(options)},module.exports.stringToSign=stringToSign,module.exports.queryStringToSign=queryStringToSign,module.exports.canonicalizeHeaders=function(headers){for(var buf=[],fields=Object.keys(headers),i=0,len=fields.length;i<len;++i){var field,val=headers[field=fields[i]];0===(field=field.toLowerCase()).indexOf("x-amz")&&buf.push(field+":"+val)}return buf.sort().join("\n")},module.exports.canonicalizeResource=function(resource){var url=parse(resource,!0),path=url.pathname,buf=[];return Object.keys(url.query).forEach(function(key){if(~keys.indexOf(key)){var val=""==url.query[key]?"":"="+encodeURIComponent(url.query[key]);buf.push(key+val)}}),path+(buf.length?"?"+buf.sort().join("&"):"")}},function(module,exports,__webpack_require__){var aws4=exports,url=__webpack_require__(20),querystring=__webpack_require__(186),crypto=__webpack_require__(23),credentialsCache=__webpack_require__(960)(1e3);function hmac(key,string,encoding){return crypto.createHmac("sha256",key).update(string,"utf8").digest(encoding)}function hash(string,encoding){return crypto.createHash("sha256").update(string,"utf8").digest(encoding)}function encodeRfc3986(urlEncodedString){return urlEncodedString.replace(/[!'()*]/g,function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()})}function RequestSigner(request,credentials){"string"==typeof request&&(request=url.parse(request));var headers=request.headers=request.headers||{},hostParts=this.matchHost(request.hostname||request.host||headers.Host||headers.host);this.request=request,this.credentials=credentials||this.defaultCredentials(),this.service=request.service||hostParts[0]||"",this.region=request.region||hostParts[1]||"us-east-1","email"===this.service&&(this.service="ses"),!request.method&&request.body&&(request.method="POST"),headers.Host||headers.host||(headers.Host=request.hostname||request.host||this.createHost(),request.port&&(headers.Host+=":"+request.port)),request.hostname||request.host||(request.hostname=headers.Host||headers.host),this.isCodeCommitGit="codecommit"===this.service&&"GIT"===request.method}RequestSigner.prototype.matchHost=function(host){var hostParts=((host||"").match(/([^\.]+)\.(?:([^\.]*)\.)?amazonaws\.com(\.cn)?$/)||[]).slice(1,3);return"es"===hostParts[1]&&(hostParts=hostParts.reverse()),hostParts},RequestSigner.prototype.isSingleRegion=function(){return["s3","sdb"].indexOf(this.service)>=0&&"us-east-1"===this.region||["cloudfront","ls","route53","iam","importexport","sts"].indexOf(this.service)>=0},RequestSigner.prototype.createHost=function(){var region=this.isSingleRegion()?"":("s3"===this.service&&"us-east-1"!==this.region?"-":".")+this.region;return("ses"===this.service?"email":this.service)+region+".amazonaws.com"},RequestSigner.prototype.prepareRequest=function(){this.parsePath();var query,request=this.request,headers=request.headers;request.signQuery?(this.parsedPath.query=query=this.parsedPath.query||{},this.credentials.sessionToken&&(query["X-Amz-Security-Token"]=this.credentials.sessionToken),"s3"!==this.service||query["X-Amz-Expires"]||(query["X-Amz-Expires"]=86400),query["X-Amz-Date"]?this.datetime=query["X-Amz-Date"]:query["X-Amz-Date"]=this.getDateTime(),query["X-Amz-Algorithm"]="AWS4-HMAC-SHA256",query["X-Amz-Credential"]=this.credentials.accessKeyId+"/"+this.credentialString(),query["X-Amz-SignedHeaders"]=this.signedHeaders()):(request.doNotModifyHeaders||this.isCodeCommitGit||(!request.body||headers["Content-Type"]||headers["content-type"]||(headers["Content-Type"]="application/x-www-form-urlencoded; charset=utf-8"),!request.body||headers["Content-Length"]||headers["content-length"]||(headers["Content-Length"]=Buffer.byteLength(request.body)),!this.credentials.sessionToken||headers["X-Amz-Security-Token"]||headers["x-amz-security-token"]||(headers["X-Amz-Security-Token"]=this.credentials.sessionToken),"s3"!==this.service||headers["X-Amz-Content-Sha256"]||headers["x-amz-content-sha256"]||(headers["X-Amz-Content-Sha256"]=hash(this.request.body||"","hex")),headers["X-Amz-Date"]||headers["x-amz-date"]?this.datetime=headers["X-Amz-Date"]||headers["x-amz-date"]:headers["X-Amz-Date"]=this.getDateTime()),delete headers.Authorization,delete headers.authorization)},RequestSigner.prototype.sign=function(){return this.parsedPath||this.prepareRequest(),this.request.signQuery?this.parsedPath.query["X-Amz-Signature"]=this.signature():this.request.headers.Authorization=this.authHeader(),this.request.path=this.formatPath(),this.request},RequestSigner.prototype.getDateTime=function(){if(!this.datetime){var headers=this.request.headers,date=new Date(headers.Date||headers.date||new Date);this.datetime=date.toISOString().replace(/[:\-]|\.\d{3}/g,""),this.isCodeCommitGit&&(this.datetime=this.datetime.slice(0,-1))}return this.datetime},RequestSigner.prototype.getDate=function(){return this.getDateTime().substr(0,8)},RequestSigner.prototype.authHeader=function(){return["AWS4-HMAC-SHA256 Credential="+this.credentials.accessKeyId+"/"+this.credentialString(),"SignedHeaders="+this.signedHeaders(),"Signature="+this.signature()].join(", ")},RequestSigner.prototype.signature=function(){var kDate,kRegion,kService,date=this.getDate(),cacheKey=[this.credentials.secretAccessKey,date,this.region,this.service].join(),kCredentials=credentialsCache.get(cacheKey);return kCredentials||(kDate=hmac("AWS4"+this.credentials.secretAccessKey,date),kRegion=hmac(kDate,this.region),kService=hmac(kRegion,this.service),kCredentials=hmac(kService,"aws4_request"),credentialsCache.set(cacheKey,kCredentials)),hmac(kCredentials,this.stringToSign(),"hex")},RequestSigner.prototype.stringToSign=function(){return["AWS4-HMAC-SHA256",this.getDateTime(),this.credentialString(),hash(this.canonicalString(),"hex")].join("\n")},RequestSigner.prototype.canonicalString=function(){this.parsedPath||this.prepareRequest();var bodyHash,pathStr=this.parsedPath.path,query=this.parsedPath.query,headers=this.request.headers,queryStr="",normalizePath="s3"!==this.service,decodePath="s3"===this.service||this.request.doNotEncodePath,decodeSlashesInPath="s3"===this.service,firstValOnly="s3"===this.service;return bodyHash="s3"===this.service&&this.request.signQuery?"UNSIGNED-PAYLOAD":this.isCodeCommitGit?"":headers["X-Amz-Content-Sha256"]||headers["x-amz-content-sha256"]||hash(this.request.body||"","hex"),query&&(queryStr=encodeRfc3986(querystring.stringify(Object.keys(query).sort().reduce(function(obj,key){return key?(obj[key]=Array.isArray(query[key])?firstValOnly?query[key][0]:query[key].slice().sort():query[key],obj):obj},{})))),"/"!==pathStr&&(normalizePath&&(pathStr=pathStr.replace(/\/{2,}/g,"/")),"/"!==(pathStr=pathStr.split("/").reduce(function(path,piece){return normalizePath&&".."===piece?path.pop():normalizePath&&"."===piece||(decodePath&&(piece=decodeURIComponent(piece)),path.push(encodeRfc3986(encodeURIComponent(piece)))),path},[]).join("/"))[0]&&(pathStr="/"+pathStr),decodeSlashesInPath&&(pathStr=pathStr.replace(/%2F/g,"/"))),[this.request.method||"GET",pathStr,queryStr,this.canonicalHeaders()+"\n",this.signedHeaders(),bodyHash].join("\n")},RequestSigner.prototype.canonicalHeaders=function(){var headers=this.request.headers;return Object.keys(headers).sort(function(a,b){return a.toLowerCase()<b.toLowerCase()?-1:1}).map(function(key){return key.toLowerCase()+":"+headers[key].toString().trim().replace(/\s+/g," ")}).join("\n")},RequestSigner.prototype.signedHeaders=function(){return Object.keys(this.request.headers).map(function(key){return key.toLowerCase()}).sort().join(";")},RequestSigner.prototype.credentialString=function(){return[this.getDate(),this.region,this.service,"aws4_request"].join("/")},RequestSigner.prototype.defaultCredentials=function(){var env=process.env;return{accessKeyId:env.AWS_ACCESS_KEY_ID||env.AWS_ACCESS_KEY,secretAccessKey:env.AWS_SECRET_ACCESS_KEY||env.AWS_SECRET_KEY,sessionToken:env.AWS_SESSION_TOKEN}},RequestSigner.prototype.parsePath=function(){var path=this.request.path||"/",queryIx=path.indexOf("?"),query=null;queryIx>=0&&(query=querystring.parse(path.slice(queryIx+1)),path=path.slice(0,queryIx)),/[^0-9A-Za-z!'()*\-._~%\/]/.test(path)&&(path=path.split("/").map(function(piece){return encodeURIComponent(decodeURIComponent(piece))}).join("/")),this.parsedPath={path:path,query:query}},RequestSigner.prototype.formatPath=function(){var path=this.parsedPath.path,query=this.parsedPath.query;return query?(null!=query[""]&&delete query[""],path+"?"+encodeRfc3986(querystring.stringify(query))):path},aws4.RequestSigner=RequestSigner,aws4.sign=function(request,credentials){return new RequestSigner(request,credentials).sign()}},function(module,exports){function LruCache(size){this.capacity=0|size,this.map=Object.create(null),this.list=new DoublyLinkedList}function DoublyLinkedList(){this.firstNode=null,this.lastNode=null}function DoublyLinkedNode(key,val){this.key=key,this.val=val,this.prev=null,this.next=null}module.exports=function(size){return new LruCache(size)},LruCache.prototype.get=function(key){var node=this.map[key];if(null!=node)return this.used(node),node.val},LruCache.prototype.set=function(key,val){var node=this.map[key];if(null!=node)node.val=val;else{if(this.capacity||this.prune(),!this.capacity)return!1;node=new DoublyLinkedNode(key,val),this.map[key]=node,this.capacity--}return this.used(node),!0},LruCache.prototype.used=function(node){this.list.moveToFront(node)},LruCache.prototype.prune=function(){var node=this.list.pop();null!=node&&(delete this.map[node.key],this.capacity++)},DoublyLinkedList.prototype.moveToFront=function(node){this.firstNode!=node&&(this.remove(node),null==this.firstNode?(this.firstNode=node,this.lastNode=node,node.prev=null,node.next=null):(node.prev=null,node.next=this.firstNode,node.next.prev=node,this.firstNode=node))},DoublyLinkedList.prototype.pop=function(){var lastNode=this.lastNode;return null!=lastNode&&this.remove(lastNode),lastNode},DoublyLinkedList.prototype.remove=function(node){this.firstNode==node?this.firstNode=node.next:null!=node.prev&&(node.prev.next=node.next),this.lastNode==node?this.lastNode=node.prev:null!=node.next&&(node.next.prev=node.prev)}},function(module,exports,__webpack_require__){var parser=__webpack_require__(962),signer=__webpack_require__(970),verify=__webpack_require__(974),utils=__webpack_require__(303);module.exports={parse:parser.parseRequest,parseRequest:parser.parseRequest,sign:signer.signRequest,signRequest:signer.signRequest,createSigner:signer.createSigner,isSigner:signer.isSigner,sshKeyToPEM:utils.sshKeyToPEM,sshKeyFingerprint:utils.fingerprint,pemToRsaSSHKey:utils.pemToRsaSSHKey,verify:verify.verifySignature,verifySignature:verify.verifySignature,verifyHMAC:verify.verifyHMAC}},function(module,exports,__webpack_require__){var assert=__webpack_require__(18),util=__webpack_require__(8),utils=__webpack_require__(303),HttpSignatureError=(utils.HASH_ALGOS,utils.PK_ALGOS,utils.HttpSignatureError),InvalidAlgorithmError=utils.InvalidAlgorithmError,validateAlgorithm=utils.validateAlgorithm,State_New=0,State_Params=1,ParamsState_Name=0,ParamsState_Quote=1,ParamsState_Value=2,ParamsState_Comma=3;function ExpiredRequestError(message){HttpSignatureError.call(this,message,ExpiredRequestError)}function InvalidHeaderError(message){HttpSignatureError.call(this,message,InvalidHeaderError)}function InvalidParamsError(message){HttpSignatureError.call(this,message,InvalidParamsError)}function MissingHeaderError(message){HttpSignatureError.call(this,message,MissingHeaderError)}function StrictParsingError(message){HttpSignatureError.call(this,message,StrictParsingError)}util.inherits(ExpiredRequestError,HttpSignatureError),util.inherits(InvalidHeaderError,HttpSignatureError),util.inherits(InvalidParamsError,HttpSignatureError),util.inherits(MissingHeaderError,HttpSignatureError),util.inherits(StrictParsingError,HttpSignatureError),module.exports={parseRequest:function(request,options){assert.object(request,"request"),assert.object(request.headers,"request.headers"),void 0===options&&(options={}),void 0===options.headers&&(options.headers=[request.headers["x-date"]?"x-date":"date"]),assert.object(options,"options"),assert.arrayOfString(options.headers,"options.headers"),assert.optionalFinite(options.clockSkew,"options.clockSkew");var authzHeaderName=options.authorizationHeaderName||"authorization";if(!request.headers[authzHeaderName])throw new MissingHeaderError("no "+authzHeaderName+" header present in the request");options.clockSkew=options.clockSkew||300;var date,i=0,state=State_New,substate=ParamsState_Name,tmpName="",tmpValue="",parsed={scheme:"",params:{},signingString:""},authz=request.headers[authzHeaderName];for(i=0;i<authz.length;i++){var c=authz.charAt(i);switch(Number(state)){case State_New:" "!==c?parsed.scheme+=c:state=State_Params;break;case State_Params:switch(Number(substate)){case ParamsState_Name:var code=c.charCodeAt(0);if(code>=65&&code<=90||code>=97&&code<=122)tmpName+=c;else{if("="!==c)throw new InvalidHeaderError("bad param format");if(0===tmpName.length)throw new InvalidHeaderError("bad param format");substate=ParamsState_Quote}break;case ParamsState_Quote:if('"'!==c)throw new InvalidHeaderError("bad param format");tmpValue="",substate=ParamsState_Value;break;case ParamsState_Value:'"'===c?(parsed.params[tmpName]=tmpValue,substate=ParamsState_Comma):tmpValue+=c;break;case ParamsState_Comma:if(","!==c)throw new InvalidHeaderError("bad param format");tmpName="",substate=ParamsState_Name;break;default:throw new Error("Invalid substate")}break;default:throw new Error("Invalid substate")}}if(parsed.params.headers&&""!==parsed.params.headers?parsed.params.headers=parsed.params.headers.split(" "):request.headers["x-date"]?parsed.params.headers=["x-date"]:parsed.params.headers=["date"],!parsed.scheme||"Signature"!==parsed.scheme)throw new InvalidHeaderError('scheme was not "Signature"');if(!parsed.params.keyId)throw new InvalidHeaderError("keyId was not specified");if(!parsed.params.algorithm)throw new InvalidHeaderError("algorithm was not specified");if(!parsed.params.signature)throw new InvalidHeaderError("signature was not specified");parsed.params.algorithm=parsed.params.algorithm.toLowerCase();try{validateAlgorithm(parsed.params.algorithm)}catch(e){throw e instanceof InvalidAlgorithmError?new InvalidParamsError(parsed.params.algorithm+" is not supported"):e}for(i=0;i<parsed.params.headers.length;i++){var h=parsed.params.headers[i].toLowerCase();if(parsed.params.headers[i]=h,"request-line"===h){if(options.strict)throw new StrictParsingError("request-line is not a valid header with strict parsing enabled.");parsed.signingString+=request.method+" "+request.url+" HTTP/"+request.httpVersion}else if("(request-target)"===h)parsed.signingString+="(request-target): "+request.method.toLowerCase()+" "+request.url;else{var value=request.headers[h];if(void 0===value)throw new MissingHeaderError(h+" was not in the request");parsed.signingString+=h+": "+value}i+1<parsed.params.headers.length&&(parsed.signingString+="\n")}if(request.headers.date||request.headers["x-date"]){date=request.headers["x-date"]?new Date(request.headers["x-date"]):new Date(request.headers.date);var now=new Date,skew=Math.abs(now.getTime()-date.getTime());if(skew>1e3*options.clockSkew)throw new ExpiredRequestError("clock skew of "+skew/1e3+"s was greater than "+options.clockSkew+"s")}if(options.headers.forEach(function(hdr){if(parsed.params.headers.indexOf(hdr.toLowerCase())<0)throw new MissingHeaderError(hdr+" was not a signed header")}),options.algorithms&&-1===options.algorithms.indexOf(parsed.params.algorithm))throw new InvalidParamsError(parsed.params.algorithm+" is not a supported algorithm");return parsed.algorithm=parsed.params.algorithm.toUpperCase(),parsed.keyId=parsed.params.keyId,parsed}}},function(module,exports,__webpack_require__){var errors=__webpack_require__(441),types=__webpack_require__(442),Reader=__webpack_require__(964),Writer=__webpack_require__(965);for(var t in module.exports={Reader:Reader,Writer:Writer},types)types.hasOwnProperty(t)&&(module.exports[t]=types[t]);for(var e in errors)errors.hasOwnProperty(e)&&(module.exports[e]=errors[e])},function(module,exports,__webpack_require__){var assert=__webpack_require__(192),Buffer=__webpack_require__(13).Buffer,ASN1=__webpack_require__(442),newInvalidAsn1Error=__webpack_require__(441).newInvalidAsn1Error;function Reader(data){if(!data||!Buffer.isBuffer(data))throw new TypeError("data must be a node Buffer");this._buf=data,this._size=data.length,this._len=0,this._offset=0}Object.defineProperty(Reader.prototype,"length",{enumerable:!0,get:function(){return this._len}}),Object.defineProperty(Reader.prototype,"offset",{enumerable:!0,get:function(){return this._offset}}),Object.defineProperty(Reader.prototype,"remain",{get:function(){return this._size-this._offset}}),Object.defineProperty(Reader.prototype,"buffer",{get:function(){return this._buf.slice(this._offset)}}),Reader.prototype.readByte=function(peek){if(this._size-this._offset<1)return null;var b=255&this._buf[this._offset];return peek||(this._offset+=1),b},Reader.prototype.peek=function(){return this.readByte(!0)},Reader.prototype.readLength=function(offset){if(void 0===offset&&(offset=this._offset),offset>=this._size)return null;var lenB=255&this._buf[offset++];if(null===lenB)return null;if(128==(128&lenB)){if(0===(lenB&=127))throw newInvalidAsn1Error("Indefinite length not supported");if(lenB>4)throw newInvalidAsn1Error("encoding too long");if(this._size-offset<lenB)return null;this._len=0;for(var i=0;i<lenB;i++)this._len=(this._len<<8)+(255&this._buf[offset++])}else this._len=lenB;return offset},Reader.prototype.readSequence=function(tag){var seq=this.peek();if(null===seq)return null;if(void 0!==tag&&tag!==seq)throw newInvalidAsn1Error("Expected 0x"+tag.toString(16)+": got 0x"+seq.toString(16));var o=this.readLength(this._offset+1);return null===o?null:(this._offset=o,seq)},Reader.prototype.readInt=function(){return this._readTag(ASN1.Integer)},Reader.prototype.readBoolean=function(){return 0!==this._readTag(ASN1.Boolean)},Reader.prototype.readEnumeration=function(){return this._readTag(ASN1.Enumeration)},Reader.prototype.readString=function(tag,retbuf){tag||(tag=ASN1.OctetString);var b=this.peek();if(null===b)return null;if(b!==tag)throw newInvalidAsn1Error("Expected 0x"+tag.toString(16)+": got 0x"+b.toString(16));var o=this.readLength(this._offset+1);if(null===o)return null;if(this.length>this._size-o)return null;if(this._offset=o,0===this.length)return retbuf?Buffer.alloc(0):"";var str=this._buf.slice(this._offset,this._offset+this.length);return this._offset+=this.length,retbuf?str:str.toString("utf8")},Reader.prototype.readOID=function(tag){tag||(tag=ASN1.OID);var b=this.readString(tag,!0);if(null===b)return null;for(var values=[],value=0,i=0;i<b.length;i++){var byte=255&b[i];value<<=7,value+=127&byte,0==(128&byte)&&(values.push(value),value=0)}return value=values.shift(),values.unshift(value%40),values.unshift(value/40>>0),values.join(".")},Reader.prototype._readTag=function(tag){assert.ok(void 0!==tag);var b=this.peek();if(null===b)return null;if(b!==tag)throw newInvalidAsn1Error("Expected 0x"+tag.toString(16)+": got 0x"+b.toString(16));var o=this.readLength(this._offset+1);if(null===o)return null;if(this.length>4)throw newInvalidAsn1Error("Integer too long: "+this.length);if(this.length>this._size-o)return null;this._offset=o;for(var fb=this._buf[this._offset],value=0,i=0;i<this.length;i++)value<<=8,value|=255&this._buf[this._offset++];return 128==(128&fb)&&4!==i&&(value-=1<<8*i),value>>0},module.exports=Reader},function(module,exports,__webpack_require__){var assert=__webpack_require__(192),Buffer=__webpack_require__(13).Buffer,ASN1=__webpack_require__(442),newInvalidAsn1Error=__webpack_require__(441).newInvalidAsn1Error,DEFAULT_OPTS={size:1024,growthFactor:8};function Writer(options){var from,to;from=DEFAULT_OPTS,to=options||{},assert.ok(from),assert.equal(typeof from,"object"),assert.ok(to),assert.equal(typeof to,"object"),Object.getOwnPropertyNames(from).forEach(function(key){if(!to[key]){var value=Object.getOwnPropertyDescriptor(from,key);Object.defineProperty(to,key,value)}}),options=to,this._buf=Buffer.alloc(options.size||1024),this._size=this._buf.length,this._offset=0,this._options=options,this._seq=[]}Object.defineProperty(Writer.prototype,"buffer",{get:function(){if(this._seq.length)throw newInvalidAsn1Error(this._seq.length+" unended sequence(s)");return this._buf.slice(0,this._offset)}}),Writer.prototype.writeByte=function(b){if("number"!=typeof b)throw new TypeError("argument must be a Number");this._ensure(1),this._buf[this._offset++]=b},Writer.prototype.writeInt=function(i,tag){if("number"!=typeof i)throw new TypeError("argument must be a Number");"number"!=typeof tag&&(tag=ASN1.Integer);for(var sz=4;(0==(4286578688&i)||-8388608==(4286578688&i))&&sz>1;)sz--,i<<=8;if(sz>4)throw newInvalidAsn1Error("BER ints cannot be > 0xffffffff");for(this._ensure(2+sz),this._buf[this._offset++]=tag,this._buf[this._offset++]=sz;sz-- >0;)this._buf[this._offset++]=(4278190080&i)>>>24,i<<=8},Writer.prototype.writeNull=function(){this.writeByte(ASN1.Null),this.writeByte(0)},Writer.prototype.writeEnumeration=function(i,tag){if("number"!=typeof i)throw new TypeError("argument must be a Number");return"number"!=typeof tag&&(tag=ASN1.Enumeration),this.writeInt(i,tag)},Writer.prototype.writeBoolean=function(b,tag){if("boolean"!=typeof b)throw new TypeError("argument must be a Boolean");"number"!=typeof tag&&(tag=ASN1.Boolean),this._ensure(3),this._buf[this._offset++]=tag,this._buf[this._offset++]=1,this._buf[this._offset++]=b?255:0},Writer.prototype.writeString=function(s,tag){if("string"!=typeof s)throw new TypeError("argument must be a string (was: "+typeof s+")");"number"!=typeof tag&&(tag=ASN1.OctetString);var len=Buffer.byteLength(s);this.writeByte(tag),this.writeLength(len),len&&(this._ensure(len),this._buf.write(s,this._offset),this._offset+=len)},Writer.prototype.writeBuffer=function(buf,tag){if("number"!=typeof tag)throw new TypeError("tag must be a number");if(!Buffer.isBuffer(buf))throw new TypeError("argument must be a buffer");this.writeByte(tag),this.writeLength(buf.length),this._ensure(buf.length),buf.copy(this._buf,this._offset,0,buf.length),this._offset+=buf.length},Writer.prototype.writeStringArray=function(strings){if(!strings instanceof Array)throw new TypeError("argument must be an Array[String]");var self=this;strings.forEach(function(s){self.writeString(s)})},Writer.prototype.writeOID=function(s,tag){if("string"!=typeof s)throw new TypeError("argument must be a string");if("number"!=typeof tag&&(tag=ASN1.OID),!/^([0-9]+\.){3,}[0-9]+$/.test(s))throw new Error("argument is not a valid OID string");var tmp=s.split("."),bytes=[];bytes.push(40*parseInt(tmp[0],10)+parseInt(tmp[1],10)),tmp.slice(2).forEach(function(b){!function(bytes,octet){octet<128?bytes.push(octet):octet<16384?(bytes.push(octet>>>7|128),bytes.push(127&octet)):octet<2097152?(bytes.push(octet>>>14|128),bytes.push(255&(octet>>>7|128)),bytes.push(127&octet)):octet<268435456?(bytes.push(octet>>>21|128),bytes.push(255&(octet>>>14|128)),bytes.push(255&(octet>>>7|128)),bytes.push(127&octet)):(bytes.push(255&(octet>>>28|128)),bytes.push(255&(octet>>>21|128)),bytes.push(255&(octet>>>14|128)),bytes.push(255&(octet>>>7|128)),bytes.push(127&octet))}(bytes,parseInt(b,10))});var self=this;this._ensure(2+bytes.length),this.writeByte(tag),this.writeLength(bytes.length),bytes.forEach(function(b){self.writeByte(b)})},Writer.prototype.writeLength=function(len){if("number"!=typeof len)throw new TypeError("argument must be a Number");if(this._ensure(4),len<=127)this._buf[this._offset++]=len;else if(len<=255)this._buf[this._offset++]=129,this._buf[this._offset++]=len;else if(len<=65535)this._buf[this._offset++]=130,this._buf[this._offset++]=len>>8,this._buf[this._offset++]=len;else{if(!(len<=16777215))throw newInvalidAsn1Error("Length too long (> 4 bytes)");this._buf[this._offset++]=131,this._buf[this._offset++]=len>>16,this._buf[this._offset++]=len>>8,this._buf[this._offset++]=len}},Writer.prototype.startSequence=function(tag){"number"!=typeof tag&&(tag=ASN1.Sequence|ASN1.Constructor),this.writeByte(tag),this._seq.push(this._offset),this._ensure(3),this._offset+=3},Writer.prototype.endSequence=function(){var seq=this._seq.pop(),start=seq+3,len=this._offset-start;if(len<=127)this._shift(start,len,-2),this._buf[seq]=len;else if(len<=255)this._shift(start,len,-1),this._buf[seq]=129,this._buf[seq+1]=len;else if(len<=65535)this._buf[seq]=130,this._buf[seq+1]=len>>8,this._buf[seq+2]=len;else{if(!(len<=16777215))throw newInvalidAsn1Error("Sequence too long");this._shift(start,len,1),this._buf[seq]=131,this._buf[seq+1]=len>>16,this._buf[seq+2]=len>>8,this._buf[seq+3]=len}},Writer.prototype._shift=function(start,len,shift){assert.ok(void 0!==start),assert.ok(void 0!==len),assert.ok(shift),this._buf.copy(this._buf,start+shift,start,start+len),this._offset+=shift},Writer.prototype._ensure=function(len){if(assert.ok(len),this._size-this._offset<len){var sz=this._size*this._options.growthFactor;sz-this._offset<len&&(sz+=len);var buf=Buffer.alloc(sz);this._buf.copy(buf,0,0,this._offset),this._buf=buf,this._size=sz}},module.exports=Writer},function(module,exports,__webpack_require__){var crypto=__webpack_require__(23),BigInteger=__webpack_require__(261).BigInteger,Buffer=(__webpack_require__(304).ECPointFp,__webpack_require__(13).Buffer);function unstupid(hex,len){return hex.length>=len?hex:unstupid("0"+hex,len)}exports.ECCurves=__webpack_require__(967),exports.ECKey=function(curve,key,isPublic){var priv,c=curve(),n=c.getN(),bytes=Math.floor(n.bitLength()/8);if(key)if(isPublic){curve=c.getCurve();this.P=curve.decodePointHex(key.toString("hex"))}else{if(key.length!=bytes)return!1;priv=new BigInteger(key.toString("hex"),16)}else{var n1=n.subtract(BigInteger.ONE),r=new BigInteger(crypto.randomBytes(n.bitLength()));priv=r.mod(n1).add(BigInteger.ONE),this.P=c.getG().multiply(priv)}this.P&&(this.PublicKey=Buffer.from(c.getCurve().encodeCompressedPointHex(this.P),"hex")),priv&&(this.PrivateKey=Buffer.from(unstupid(priv.toString(16),2*bytes),"hex"),this.deriveSharedSecret=function(key){if(!key||!key.P)return!1;var S=key.P.multiply(priv);return Buffer.from(unstupid(S.getX().toBigInteger().toString(16),2*bytes),"hex")})}},function(module,exports,__webpack_require__){var BigInteger=__webpack_require__(261).BigInteger,ECCurveFp=__webpack_require__(304).ECCurveFp;function X9ECParameters(curve,g,n,h){this.curve=curve,this.g=g,this.n=n,this.h=h}function fromHex(s){return new BigInteger(s,16)}function secp128r1(){var p=fromHex("FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF"),a=fromHex("FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC"),b=fromHex("E87579C11079F43DD824993C2CEE5ED3"),n=fromHex("FFFFFFFE0000000075A30D1B9038A115"),h=BigInteger.ONE,curve=new ECCurveFp(p,a,b),G=curve.decodePointHex("04161FF7528B899B2D0C28607CA52C5B86CF5AC8395BAFEB13C02DA292DDED7A83");return new X9ECParameters(curve,G,n,h)}function secp160k1(){var p=fromHex("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73"),a=BigInteger.ZERO,b=fromHex("7"),n=fromHex("0100000000000000000001B8FA16DFAB9ACA16B6B3"),h=BigInteger.ONE,curve=new ECCurveFp(p,a,b),G=curve.decodePointHex("043B4C382CE37AA192A4019E763036F4F5DD4D7EBB938CF935318FDCED6BC28286531733C3F03C4FEE");return new X9ECParameters(curve,G,n,h)}function secp160r1(){var p=fromHex("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF"),a=fromHex("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC"),b=fromHex("1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45"),n=fromHex("0100000000000000000001F4C8F927AED3CA752257"),h=BigInteger.ONE,curve=new ECCurveFp(p,a,b),G=curve.decodePointHex("044A96B5688EF573284664698968C38BB913CBFC8223A628553168947D59DCC912042351377AC5FB32");return new X9ECParameters(curve,G,n,h)}function secp192k1(){var p=fromHex("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37"),a=BigInteger.ZERO,b=fromHex("3"),n=fromHex("FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D"),h=BigInteger.ONE,curve=new ECCurveFp(p,a,b),G=curve.decodePointHex("04DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D");return new X9ECParameters(curve,G,n,h)}function secp192r1(){var p=fromHex("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF"),a=fromHex("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC"),b=fromHex("64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1"),n=fromHex("FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831"),h=BigInteger.ONE,curve=new ECCurveFp(p,a,b),G=curve.decodePointHex("04188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF101207192B95FFC8DA78631011ED6B24CDD573F977A11E794811");return new X9ECParameters(curve,G,n,h)}function secp224r1(){var p=fromHex("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001"),a=fromHex("FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE"),b=fromHex("B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4"),n=fromHex("FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D"),h=BigInteger.ONE,curve=new ECCurveFp(p,a,b),G=curve.decodePointHex("04B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34");return new X9ECParameters(curve,G,n,h)}function secp256r1(){var p=fromHex("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF"),a=fromHex("FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC"),b=fromHex("5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B"),n=fromHex("FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551"),h=BigInteger.ONE,curve=new ECCurveFp(p,a,b),G=curve.decodePointHex("046B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C2964FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5");return new X9ECParameters(curve,G,n,h)}X9ECParameters.prototype.getCurve=function(){return this.curve},X9ECParameters.prototype.getG=function(){return this.g},X9ECParameters.prototype.getN=function(){return this.n},X9ECParameters.prototype.getH=function(){return this.h},module.exports={secp128r1:secp128r1,secp160k1:secp160k1,secp160r1:secp160r1,secp192k1:secp192k1,secp192r1:secp192r1,secp224r1:secp224r1,secp256r1:secp256r1}},function(module,exports,__webpack_require__){module.exports={read:function(buf,options){Buffer.isBuffer(buf)&&(buf=buf.toString("ascii"));var parts=buf.trim().split(/[ \t\n]+/g);if(parts.length<2||parts.length>3)throw new Error("Not a valid SSH certificate line");var algo=parts[0],data=parts[1];return fromBuffer(data=Buffer.from(data,"base64"),algo)},verify:function(cert,key){return!1},sign:function(cert,key){void 0===cert.signatures.openssh&&(cert.signatures.openssh={});try{var blob=toBuffer(cert,!0)}catch(e){return delete cert.signatures.openssh,!1}var sig=cert.signatures.openssh,hashAlgo=void 0;"rsa"!==key.type&&"dsa"!==key.type||(hashAlgo="sha1");var signer=key.createSign(hashAlgo);return signer.write(blob),sig.signature=signer.sign(),!0},signAsync:function(cert,signer,done){void 0===cert.signatures.openssh&&(cert.signatures.openssh={});try{var blob=toBuffer(cert,!0)}catch(e){return delete cert.signatures.openssh,void done(e)}var sig=cert.signatures.openssh;signer(blob,function(err,signature){if(err)done(err);else{try{signature.toBuffer("ssh")}catch(e){return void done(e)}sig.signature=signature,done()}})},write:function(cert,options){void 0===options&&(options={});var blob=toBuffer(cert),out=getCertType(cert.subjectKey)+" "+blob.toString("base64");options.comment&&(out=out+" "+options.comment);return out},fromBuffer:fromBuffer,toBuffer:toBuffer};var assert=__webpack_require__(18),SSHBuffer=__webpack_require__(263),crypto=__webpack_require__(23),Buffer=__webpack_require__(13).Buffer,algs=__webpack_require__(57),Key=__webpack_require__(45),Identity=(__webpack_require__(53),__webpack_require__(266)),rfc4253=__webpack_require__(143),Signature=__webpack_require__(121),utils=__webpack_require__(46),Certificate=__webpack_require__(265);var TYPES={user:1,host:2};Object.keys(TYPES).forEach(function(k){TYPES[TYPES[k]]=k});var ECDSA_ALGO=/^ecdsa-sha2-([^@-]+)-cert-v01@openssh.com$/;function fromBuffer(data,algo,partial){var sshbuf=new SSHBuffer({buffer:data}),innerAlgo=sshbuf.readString();if(void 0!==algo&&innerAlgo!==algo)throw new Error("SSH certificate algorithm mismatch");void 0===algo&&(algo=innerAlgo);var cert={signatures:{}};cert.signatures.openssh={},cert.signatures.openssh.nonce=sshbuf.readBuffer();var key={},parts=key.parts=[];key.type=function(certType){if("ssh-rsa-cert-v01@openssh.com"===certType)return"rsa";if("ssh-dss-cert-v01@openssh.com"===certType)return"dsa";if(certType.match(ECDSA_ALGO))return"ecdsa";if("ssh-ed25519-cert-v01@openssh.com"===certType)return"ed25519";throw new Error("Unsupported cert type "+certType)}(algo);for(var partCount=algs.info[key.type].parts.length;parts.length<partCount;)parts.push(sshbuf.readPart());assert.ok(parts.length>=1,"key must have at least one part");var algInfo=algs.info[key.type];if("ecdsa"===key.type){var res=ECDSA_ALGO.exec(algo);assert.ok(null!==res),assert.strictEqual(res[1],parts[0].data.toString())}for(var i=0;i<algInfo.parts.length;++i)if(parts[i].name=algInfo.parts[i],"curve"!==parts[i].name&&!1!==algInfo.normalize){var p=parts[i];p.data=utils.mpNormalize(p.data)}cert.subjectKey=new Key(key),cert.serial=sshbuf.readInt64();var type=TYPES[sshbuf.readInt()];assert.string(type,"valid cert type"),cert.signatures.openssh.keyId=sshbuf.readString();for(var principals=[],pbuf=sshbuf.readBuffer(),psshbuf=new SSHBuffer({buffer:pbuf});!psshbuf.atEnd();)principals.push(psshbuf.readString());0===principals.length&&(principals=["*"]),cert.subjects=principals.map(function(pr){if("user"===type)return Identity.forUser(pr);if("host"===type)return Identity.forHost(pr);throw new Error("Unknown identity type "+type)}),cert.validFrom=int64ToDate(sshbuf.readInt64()),cert.validUntil=int64ToDate(sshbuf.readInt64());for(var ext,exts=[],extbuf=new SSHBuffer({buffer:sshbuf.readBuffer()});!extbuf.atEnd();)(ext={critical:!0}).name=extbuf.readString(),ext.data=extbuf.readBuffer(),exts.push(ext);for(extbuf=new SSHBuffer({buffer:sshbuf.readBuffer()});!extbuf.atEnd();)(ext={critical:!1}).name=extbuf.readString(),ext.data=extbuf.readBuffer(),exts.push(ext);cert.signatures.openssh.exts=exts,sshbuf.readBuffer();var signingKeyBuf=sshbuf.readBuffer();cert.issuerKey=rfc4253.read(signingKeyBuf),cert.issuer=Identity.forHost("**");var sigBuf=sshbuf.readBuffer();return cert.signatures.openssh.signature=Signature.parse(sigBuf,cert.issuerKey.type,"ssh"),void 0!==partial&&(partial.remainder=sshbuf.remainder(),partial.consumed=sshbuf._offset),new Certificate(cert)}function int64ToDate(buf){var i=4294967296*buf.readUInt32BE(0);i+=buf.readUInt32BE(4);var d=new Date;return d.setTime(1e3*i),d.sourceInt64=buf,d}function dateToInt64(date){if(void 0!==date.sourceInt64)return date.sourceInt64;var i=Math.round(date.getTime()/1e3),upper=Math.floor(i/4294967296),lower=Math.floor(i%4294967296),buf=Buffer.alloc(8);return buf.writeUInt32BE(upper,0),buf.writeUInt32BE(lower,4),buf}function toBuffer(cert,noSig){assert.object(cert.signatures.openssh,"signature for openssh format");var sig=cert.signatures.openssh;void 0===sig.nonce&&(sig.nonce=crypto.randomBytes(16));var buf=new SSHBuffer({});buf.writeString(getCertType(cert.subjectKey)),buf.writeBuffer(sig.nonce);var key=cert.subjectKey;algs.info[key.type].parts.forEach(function(part){buf.writePart(key.part[part])}),buf.writeInt64(cert.serial);var type=cert.subjects[0].type;assert.notStrictEqual(type,"unknown"),cert.subjects.forEach(function(id){assert.strictEqual(id.type,type)}),type=TYPES[type],buf.writeInt(type),void 0===sig.keyId&&(sig.keyId=cert.subjects[0].type+"_"+(cert.subjects[0].uid||cert.subjects[0].hostname)),buf.writeString(sig.keyId);var sub=new SSHBuffer({});cert.subjects.forEach(function(id){type===TYPES.host?sub.writeString(id.hostname):type===TYPES.user&&sub.writeString(id.uid)}),buf.writeBuffer(sub.toBuffer()),buf.writeInt64(dateToInt64(cert.validFrom)),buf.writeInt64(dateToInt64(cert.validUntil));var exts=sig.exts;void 0===exts&&(exts=[]);var extbuf=new SSHBuffer({});return exts.forEach(function(ext){!0===ext.critical&&(extbuf.writeString(ext.name),extbuf.writeBuffer(ext.data))}),buf.writeBuffer(extbuf.toBuffer()),extbuf=new SSHBuffer({}),exts.forEach(function(ext){!0!==ext.critical&&(extbuf.writeString(ext.name),extbuf.writeBuffer(ext.data))}),buf.writeBuffer(extbuf.toBuffer()),buf.writeBuffer(Buffer.alloc(0)),sub=rfc4253.write(cert.issuerKey),buf.writeBuffer(sub),noSig||buf.writeBuffer(sig.signature.toBuffer("ssh")),buf.toBuffer()}function getCertType(key){if("rsa"===key.type)return"ssh-rsa-cert-v01@openssh.com";if("dsa"===key.type)return"ssh-dss-cert-v01@openssh.com";if("ecdsa"===key.type)return"ecdsa-sha2-"+key.curve+"-cert-v01@openssh.com";if("ed25519"===key.type)return"ssh-ed25519-cert-v01@openssh.com";throw new Error("Unsupported key type "+key.type)}},function(module,exports,__webpack_require__){var x509=__webpack_require__(804);module.exports={read:function(buf,options){"string"!=typeof buf&&(assert.buffer(buf,"buf"),buf=buf.toString("ascii"));var m,m2,lines=buf.trim().split(/[\r\n]+/g),si=-1;for(;!m&&si<lines.length;)m=lines[++si].match(/[-]+[ ]*BEGIN CERTIFICATE[ ]*[-]+/);assert.ok(m,"invalid PEM header");var ei=lines.length;for(;!m2&&ei>0;)m2=lines[--ei].match(/[-]+[ ]*END CERTIFICATE[ ]*[-]+/);assert.ok(m2,"invalid PEM footer"),lines=lines.slice(si,ei+1);var headers={};for(;lines=lines.slice(1),m=lines[0].match(/^([A-Za-z0-9-]+): (.+)$/);)headers[m[1].toLowerCase()]=m[2];return lines=lines.slice(0,-1).join(""),buf=Buffer.from(lines,"base64"),x509.read(buf,options)},verify:x509.verify,sign:x509.sign,write:function(cert,options){var dbuf=x509.write(cert,options),tmp=dbuf.toString("base64"),len=tmp.length+tmp.length/64+18+16+2*"CERTIFICATE".length+10,buf=Buffer.alloc(len),o=0;o+=buf.write("-----BEGIN CERTIFICATE-----\n",o);for(var i=0;i<tmp.length;){var limit=i+64;limit>tmp.length&&(limit=tmp.length),o+=buf.write(tmp.slice(i,limit),o),buf[o++]=10,i=limit}return o+=buf.write("-----END CERTIFICATE-----\n",o),buf.slice(0,o)}};var assert=__webpack_require__(18),Buffer=(__webpack_require__(122),__webpack_require__(13).Buffer);__webpack_require__(57),__webpack_require__(46),__webpack_require__(45),__webpack_require__(53),__webpack_require__(142),__webpack_require__(266),__webpack_require__(121),__webpack_require__(265)},function(module,exports,__webpack_require__){var assert=__webpack_require__(18),crypto=__webpack_require__(23),util=(__webpack_require__(65),__webpack_require__(8)),sshpk=__webpack_require__(440),jsprim=__webpack_require__(971),utils=__webpack_require__(303),sprintf=__webpack_require__(8).format,HASH_ALGOS=utils.HASH_ALGOS,PK_ALGOS=utils.PK_ALGOS,InvalidAlgorithmError=utils.InvalidAlgorithmError,HttpSignatureError=utils.HttpSignatureError,validateAlgorithm=utils.validateAlgorithm,AUTHZ_FMT='Signature keyId="%s",algorithm="%s",headers="%s",signature="%s"';function MissingHeaderError(message){HttpSignatureError.call(this,message,MissingHeaderError)}function StrictParsingError(message){HttpSignatureError.call(this,message,StrictParsingError)}function RequestSigner(options){assert.object(options,"options");var alg=[];if(void 0!==options.algorithm&&(assert.string(options.algorithm,"options.algorithm"),alg=validateAlgorithm(options.algorithm)),this.rs_alg=alg,void 0!==options.sign)assert.func(options.sign,"options.sign"),this.rs_signFunc=options.sign;else if("hmac"===alg[0]&&void 0!==options.key){if(assert.string(options.keyId,"options.keyId"),this.rs_keyId=options.keyId,"string"!=typeof options.key&&!Buffer.isBuffer(options.key))throw new TypeError("options.key for HMAC must be a string or Buffer");this.rs_signer=crypto.createHmac(alg[1].toUpperCase(),options.key),this.rs_signer.sign=function(){var digest=this.digest("base64");return{hashAlgorithm:alg[1],toString:function(){return digest}}}}else{if(void 0===options.key)throw new TypeError("options.sign (func) or options.key is required");var key=options.key;if(("string"==typeof key||Buffer.isBuffer(key))&&(key=sshpk.parsePrivateKey(key)),assert.ok(sshpk.PrivateKey.isPrivateKey(key,[1,2]),"options.key must be a sshpk.PrivateKey"),this.rs_key=key,assert.string(options.keyId,"options.keyId"),this.rs_keyId=options.keyId,!PK_ALGOS[key.type])throw new InvalidAlgorithmError(key.type.toUpperCase()+" type keys are not supported");if(void 0!==alg[0]&&key.type!==alg[0])throw new InvalidAlgorithmError("options.key must be a "+alg[0].toUpperCase()+" key, was given a "+key.type.toUpperCase()+" key instead");this.rs_signer=key.createSign(alg[1])}this.rs_headers=[],this.rs_lines=[]}util.inherits(MissingHeaderError,HttpSignatureError),util.inherits(StrictParsingError,HttpSignatureError),RequestSigner.prototype.writeHeader=function(header,value){if(assert.string(header,"header"),header=header.toLowerCase(),assert.string(value,"value"),this.rs_headers.push(header),this.rs_signFunc)this.rs_lines.push(header+": "+value);else{var line=header+": "+value;this.rs_headers.length>0&&(line="\n"+line),this.rs_signer.update(line)}return value},RequestSigner.prototype.writeDateHeader=function(){return this.writeHeader("date",jsprim.rfc1123(new Date))},RequestSigner.prototype.writeTarget=function(method,path){assert.string(method,"method"),assert.string(path,"path"),method=method.toLowerCase(),this.writeHeader("(request-target)",method+" "+path)},RequestSigner.prototype.sign=function(cb){if(assert.func(cb,"callback"),this.rs_headers.length<1)throw new Error("At least one header must be signed");var alg,authz;if(this.rs_signFunc){var data=this.rs_lines.join("\n"),self=this;this.rs_signFunc(data,function(err,sig){if(err)cb(err);else{try{assert.object(sig,"signature"),assert.string(sig.keyId,"signature.keyId"),assert.string(sig.algorithm,"signature.algorithm"),assert.string(sig.signature,"signature.signature"),alg=validateAlgorithm(sig.algorithm),authz=sprintf(AUTHZ_FMT,sig.keyId,sig.algorithm,self.rs_headers.join(" "),sig.signature)}catch(e){return void cb(e)}cb(null,authz)}})}else{try{var sigObj=this.rs_signer.sign()}catch(e){return void cb(e)}alg=(this.rs_alg[0]||this.rs_key.type)+"-"+sigObj.hashAlgorithm;var signature=sigObj.toString();authz=sprintf(AUTHZ_FMT,this.rs_keyId,alg,this.rs_headers.join(" "),signature),cb(null,authz)}},module.exports={isSigner:function(obj){return"object"==typeof obj&&obj instanceof RequestSigner},createSigner:function(options){return new RequestSigner(options)},signRequest:function(request,options){assert.object(request,"request"),assert.object(options,"options"),assert.optionalString(options.algorithm,"options.algorithm"),assert.string(options.keyId,"options.keyId"),assert.optionalArrayOfString(options.headers,"options.headers"),assert.optionalString(options.httpVersion,"options.httpVersion"),request.getHeader("Date")||request.setHeader("Date",jsprim.rfc1123(new Date)),options.headers||(options.headers=["date"]),options.httpVersion||(options.httpVersion="1.1");var i,alg=[];options.algorithm&&(options.algorithm=options.algorithm.toLowerCase(),alg=validateAlgorithm(options.algorithm));var signature,stringToSign="";for(i=0;i<options.headers.length;i++){if("string"!=typeof options.headers[i])throw new TypeError("options.headers must be an array of Strings");var h=options.headers[i].toLowerCase();if("request-line"===h){if(options.strict)throw new StrictParsingError("request-line is not a valid header with strict parsing enabled.");stringToSign+=request.method+" "+request.path+" HTTP/"+options.httpVersion}else if("(request-target)"===h)stringToSign+="(request-target): "+request.method.toLowerCase()+" "+request.path;else{var value=request.getHeader(h);if(void 0===value||""===value)throw new MissingHeaderError(h+" was not in the request");stringToSign+=h+": "+value}i+1<options.headers.length&&(stringToSign+="\n")}if(request.hasOwnProperty("_stringToSign")&&(request._stringToSign=stringToSign),"hmac"===alg[0]){if("string"!=typeof options.key&&!Buffer.isBuffer(options.key))throw new TypeError("options.key must be a string or Buffer");var hmac=crypto.createHmac(alg[1].toUpperCase(),options.key);hmac.update(stringToSign),signature=hmac.digest("base64")}else{var key=options.key;if(("string"==typeof key||Buffer.isBuffer(key))&&(key=sshpk.parsePrivateKey(options.key)),assert.ok(sshpk.PrivateKey.isPrivateKey(key,[1,2]),"options.key must be a sshpk.PrivateKey"),!PK_ALGOS[key.type])throw new InvalidAlgorithmError(key.type.toUpperCase()+" type keys are not supported");if(void 0!==alg[0]&&key.type!==alg[0])throw new InvalidAlgorithmError("options.key must be a "+alg[0].toUpperCase()+" key, was given a "+key.type.toUpperCase()+" key instead");var signer=key.createSign(alg[1]);signer.update(stringToSign);var sigObj=signer.sign();if(!HASH_ALGOS[sigObj.hashAlgorithm])throw new InvalidAlgorithmError(sigObj.hashAlgorithm.toUpperCase()+" is not a supported hash algorithm");options.algorithm=key.type+"-"+sigObj.hashAlgorithm,signature=sigObj.toString(),assert.notStrictEqual(signature,"","empty signature produced")}var authzHeaderName=options.authorizationHeaderName||"Authorization";return request.setHeader(authzHeaderName,sprintf(AUTHZ_FMT,options.keyId,options.algorithm,options.headers.join(" "),signature)),!0}}},function(module,exports,__webpack_require__){var mod_assert=__webpack_require__(18),mod_extsprintf=(__webpack_require__(8),__webpack_require__(805)),mod_verror=__webpack_require__(972),mod_jsonschema=__webpack_require__(973);function hasKey(obj,key){return mod_assert.equal(typeof key,"string"),Object.prototype.hasOwnProperty.call(obj,key)}exports.deepCopy=function deepCopy(obj){var ret,key;var marker="__deepCopy";if(obj&&obj[marker])throw new Error("attempted deep copy of cyclic object");if(obj&&obj.constructor==Object){for(key in ret={},obj[marker]=!0,obj)key!=marker&&(ret[key]=deepCopy(obj[key]));return delete obj[marker],ret}if(obj&&obj.constructor==Array){for(ret=[],obj[marker]=!0,key=0;key<obj.length;key++)ret.push(deepCopy(obj[key]));return delete obj[marker],ret}return obj},exports.deepEqual=function deepEqual(obj1,obj2){if(typeof obj1!=typeof obj2)return!1;if(null===obj1||null===obj2||"object"!=typeof obj1)return obj1===obj2;if(obj1.constructor!=obj2.constructor)return!1;var k;for(k in obj1){if(!obj2.hasOwnProperty(k))return!1;if(!deepEqual(obj1[k],obj2[k]))return!1}for(k in obj2)if(!obj1.hasOwnProperty(k))return!1;return!0},exports.isEmpty=function(obj){var key;for(key in obj)return!1;return!0},exports.hasKey=hasKey,exports.forEachKey=function(obj,callback){for(var key in obj)hasKey(obj,key)&&callback(key,obj[key])},exports.pluck=function(obj,key){return mod_assert.equal(typeof key,"string"),function pluckv(obj,key){if(null!==obj&&"object"==typeof obj){if(obj.hasOwnProperty(key))return obj[key];var i=key.indexOf(".");if(-1!=i){var key1=key.substr(0,i);if(obj.hasOwnProperty(key1))return pluckv(obj[key1],key.substr(i+1))}}}(obj,key)},exports.flattenObject=function flattenObject(data,depth){if(0===depth)return[data];mod_assert.ok(null!==data);mod_assert.equal(typeof data,"object");mod_assert.equal(typeof depth,"number");mod_assert.ok(depth>=0);var rv=[];var key;for(key in data)flattenObject(data[key],depth-1).forEach(function(p){rv.push([key].concat(p))});return rv},exports.flattenIter=function(data,depth,callback){!function doFlattenIter(data,depth,accum,callback){var each;var key;if(0===depth)return(each=accum.slice(0)).push(data),void callback(each);mod_assert.ok(null!==data);mod_assert.equal(typeof data,"object");mod_assert.equal(typeof depth,"number");mod_assert.ok(depth>=0);for(key in data)(each=accum.slice(0)).push(key),doFlattenIter(data[key],depth-1,each,callback)}(data,depth,[],callback)},exports.validateJsonObject=validateJsonObjectJS,exports.validateJsonObjectJS=validateJsonObjectJS,exports.randElt=function(arr){return mod_assert.ok(Array.isArray(arr)&&arr.length>0,"randElt argument must be a non-empty array"),arr[Math.floor(Math.random()*arr.length)]},exports.extraProperties=function(obj,allowed){mod_assert.ok("object"==typeof obj&&null!==obj,"obj argument must be a non-null object"),mod_assert.ok(Array.isArray(allowed),"allowed argument must be an array of strings");for(var i=0;i<allowed.length;i++)mod_assert.ok("string"==typeof allowed[i],"allowed argument must be an array of strings");return Object.keys(obj).filter(function(key){return-1===allowed.indexOf(key)})},exports.mergeObjects=mergeObjects,exports.startsWith=function(str,prefix){return str.substr(0,prefix.length)==prefix},exports.endsWith=function(str,suffix){return str.substr(str.length-suffix.length,suffix.length)==suffix},exports.parseInteger=function(str,uopts){mod_assert.string(str,"str"),mod_assert.optionalObject(uopts,"options");var c,baseOverride=!1,options=PI_DEFAULTS;uopts&&(baseOverride=hasKey(uopts,"base"),options=mergeObjects(options,uopts),mod_assert.number(options.base,"options.base"),mod_assert.ok(options.base>=2,"options.base >= 2"),mod_assert.ok(options.base<=36,"options.base <= 36"),mod_assert.bool(options.allowSign,"options.allowSign"),mod_assert.bool(options.allowPrefix,"options.allowPrefix"),mod_assert.bool(options.allowTrailing,"options.allowTrailing"),mod_assert.bool(options.allowImprecise,"options.allowImprecise"),mod_assert.bool(options.trimWhitespace,"options.trimWhitespace"),mod_assert.bool(options.leadingZeroIsOctal,"options.leadingZeroIsOctal"),options.leadingZeroIsOctal&&mod_assert.ok(!baseOverride,'"base" and "leadingZeroIsOctal" are mutually exclusive'));var start,pbase=-1,base=options.base,mult=1,value=0,idx=0,len=str.length;if(options.trimWhitespace)for(;idx<len&&isSpace(str.charCodeAt(idx));)++idx;options.allowSign&&("-"===str[idx]?(idx+=1,mult=-1):"+"===str[idx]&&(idx+=1));"0"===str[idx]&&(options.allowPrefix&&(-1===(pbase=function(c){return c===CP_b||c===CP_B?2:c===CP_o||c===CP_O?8:c===CP_t||c===CP_T?10:c===CP_x||c===CP_X?16:-1}(str.charCodeAt(idx+1)))||baseOverride&&pbase!==base||(base=pbase,idx+=2)),-1===pbase&&options.leadingZeroIsOctal&&(base=8));for(start=idx;idx<len&&(-1!==(c=translateDigit(str.charCodeAt(idx)))&&c<base);++idx)value*=base,value+=c;if(start===idx)return new Error("invalid number: "+JSON.stringify(str));if(options.trimWhitespace)for(;idx<len&&isSpace(str.charCodeAt(idx));)++idx;if(idx<len&&!options.allowTrailing)return new Error("trailing characters after number: "+JSON.stringify(str.slice(idx)));if(0===value)return 0;var result=value*mult;if(!options.allowImprecise&&(value>MAX_SAFE_INTEGER||result<MIN_SAFE_INTEGER))return new Error("number is outside of the supported range: "+JSON.stringify(str.slice(start,idx)));return result},exports.iso8601=function(d){"number"==typeof d&&(d=new Date(d));return mod_assert.ok(d.constructor===Date),mod_extsprintf.sprintf("%4d-%02d-%02dT%02d:%02d:%02d.%03dZ",d.getUTCFullYear(),d.getUTCMonth()+1,d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds())},exports.rfc1123=function(date){return mod_extsprintf.sprintf("%s, %02d %s %04d %02d:%02d:%02d GMT",RFC1123_DAYS[date.getUTCDay()],date.getUTCDate(),RFC1123_MONTHS[date.getUTCMonth()],date.getUTCFullYear(),date.getUTCHours(),date.getUTCMinutes(),date.getUTCSeconds())},exports.parseDateTime=function(str){var numeric=+str;return isNaN(numeric)?new Date(str):new Date(numeric)},exports.hrtimediff=hrtimeDiff,exports.hrtimeDiff=hrtimeDiff,exports.hrtimeAccum=hrtimeAccum,exports.hrtimeAdd=function(a,b){return assertHrtime(a),hrtimeAccum([a[0],a[1]],b)},exports.hrtimeNanosec=function(a){return assertHrtime(a),Math.floor(1e9*a[0]+a[1])},exports.hrtimeMicrosec=function(a){return assertHrtime(a),Math.floor(1e6*a[0]+a[1]/1e3)},exports.hrtimeMillisec=function(a){return assertHrtime(a),Math.floor(1e3*a[0]+a[1]/1e6)};var RFC1123_MONTHS=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],RFC1123_DAYS=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991,MIN_SAFE_INTEGER=Number.MIN_SAFE_INTEGER||-9007199254740991,PI_DEFAULTS={base:10,allowSign:!0,allowPrefix:!1,allowTrailing:!1,allowImprecise:!1,trimWhitespace:!1,leadingZeroIsOctal:!1},CP_0=48,CP_9=57,CP_A=65,CP_B=66,CP_O=79,CP_T=84,CP_X=88,CP_Z=90,CP_a=97,CP_b=98,CP_o=111,CP_t=116,CP_x=120,CP_z=122,PI_CONV_DEC=48,PI_CONV_UC=55,PI_CONV_LC=87;function translateDigit(d){return d>=CP_0&&d<=CP_9?d-PI_CONV_DEC:d>=CP_A&&d<=CP_Z?d-PI_CONV_UC:d>=CP_a&&d<=CP_z?d-PI_CONV_LC:-1}function isSpace(c){return 32===c||c>=9&&c<=13||160===c||5760===c||6158===c||c>=8192&&c<=8202||8232===c||8233===c||8239===c||8287===c||12288===c||65279===c}function validateJsonObjectJS(schema,input){var report=mod_jsonschema.validate(input,schema);if(0===report.errors.length)return null;var i,j,error=report.errors[0],propname=error.property,reason=error.message.toLowerCase();-1!=(i=reason.indexOf("the property "))&&-1!=(j=reason.indexOf(" is not defined in the schema and the schema does not allow additional properties"))&&(i+="the property ".length,propname=""===propname?reason.substr(i,j-i):propname+"."+reason.substr(i,j-i),reason="unsupported property");var rv=new mod_verror.VError('property "%s": %s',propname,reason);return rv.jsv_details=error,rv}function assertHrtime(a){mod_assert.ok(a[0]>=0&&a[1]>=0,"negative numbers not allowed in hrtimes"),mod_assert.ok(a[1]<1e9,"nanoseconds column overflow")}function hrtimeDiff(a,b){assertHrtime(a),assertHrtime(b),mod_assert.ok(a[0]>b[0]||a[0]==b[0]&&a[1]>=b[1],"negative differences not allowed");var rv=[a[0]-b[0],0];return a[1]>=b[1]?rv[1]=a[1]-b[1]:(rv[0]--,rv[1]=1e9-(b[1]-a[1])),rv}function hrtimeAccum(a,b){return assertHrtime(a),assertHrtime(b),a[1]+=b[1],a[1]>=1e9&&(a[0]++,a[1]-=1e9),a[0]+=b[0],a}function mergeObjects(provided,overrides,defaults){var rv,k;if(rv={},defaults)for(k in defaults)rv[k]=defaults[k];if(provided)for(k in provided)rv[k]=provided[k];if(overrides)for(k in overrides)rv[k]=overrides[k];return rv}},function(module,exports,__webpack_require__){var mod_assertplus=__webpack_require__(18),mod_util=__webpack_require__(8),mod_extsprintf=__webpack_require__(805),mod_isError=__webpack_require__(288).isError,sprintf=mod_extsprintf.sprintf;function parseConstructorArguments(args){var argv,options,sprintf_args,k;if(mod_assertplus.object(args,"args"),mod_assertplus.bool(args.strict,"args.strict"),mod_assertplus.array(args.argv,"args.argv"),0===(argv=args.argv).length)options={},sprintf_args=[];else if(mod_isError(argv[0]))options={cause:argv[0]},sprintf_args=argv.slice(1);else if("object"==typeof argv[0]){for(k in options={},argv[0])options[k]=argv[0][k];sprintf_args=argv.slice(1)}else mod_assertplus.string(argv[0],"first argument to VError, SError, or WError constructor must be a string, object, or Error"),options={},sprintf_args=argv;return mod_assertplus.object(options),options.strict||args.strict||(sprintf_args=sprintf_args.map(function(a){return null===a?"null":void 0===a?"undefined":a})),{options:options,shortmessage:0===sprintf_args.length?"":sprintf.apply(null,sprintf_args)}}function VError(){var args,obj,parsed,cause,ctor,message,k;if(args=Array.prototype.slice.call(arguments,0),!(this instanceof VError))return obj=Object.create(VError.prototype),VError.apply(obj,arguments),obj;if((parsed=parseConstructorArguments({argv:args,strict:!1})).options.name&&(mod_assertplus.string(parsed.options.name,'error\'s "name" must be a string'),this.name=parsed.options.name),this.jse_shortmsg=parsed.shortmessage,message=parsed.shortmessage,(cause=parsed.options.cause)&&(mod_assertplus.ok(mod_isError(cause),"cause is not an Error"),this.jse_cause=cause,parsed.options.skipCauseMessage||(message+=": "+cause.message)),this.jse_info={},parsed.options.info)for(k in parsed.options.info)this.jse_info[k]=parsed.options.info[k];return this.message=message,Error.call(this,message),Error.captureStackTrace&&(ctor=parsed.options.constructorOpt||this.constructor,Error.captureStackTrace(this,ctor)),this}function SError(){var args,obj,parsed,options;return args=Array.prototype.slice.call(arguments,0),this instanceof SError?(options=(parsed=parseConstructorArguments({argv:args,strict:!0})).options,VError.call(this,options,"%s",parsed.shortmessage),this):(obj=Object.create(SError.prototype),SError.apply(obj,arguments),obj)}function MultiError(errors){mod_assertplus.array(errors,"list of errors"),mod_assertplus.ok(errors.length>0,"must be at least one error"),this.ase_errors=errors,VError.call(this,{cause:errors[0]},"first of %d error%s",errors.length,1==errors.length?"":"s")}function WError(){var args,obj,parsed,options;return args=Array.prototype.slice.call(arguments,0),this instanceof WError?((options=(parsed=parseConstructorArguments({argv:args,strict:!1})).options).skipCauseMessage=!0,VError.call(this,options,"%s",parsed.shortmessage),this):(obj=Object.create(WError.prototype),WError.apply(obj,args),obj)}module.exports=VError,VError.VError=VError,VError.SError=SError,VError.WError=WError,VError.MultiError=MultiError,mod_util.inherits(VError,Error),VError.prototype.name="VError",VError.prototype.toString=function(){var str=this.hasOwnProperty("name")&&this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(str+=": "+this.message),str},VError.prototype.cause=function(){var cause=VError.cause(this);return null===cause?void 0:cause},VError.cause=function(err){return mod_assertplus.ok(mod_isError(err),"err must be an Error"),mod_isError(err.jse_cause)?err.jse_cause:null},VError.info=function(err){var rv,cause,k;if(mod_assertplus.ok(mod_isError(err),"err must be an Error"),rv=null!==(cause=VError.cause(err))?VError.info(cause):{},"object"==typeof err.jse_info&&null!==err.jse_info)for(k in err.jse_info)rv[k]=err.jse_info[k];return rv},VError.findCauseByName=function(err,name){var cause;for(mod_assertplus.ok(mod_isError(err),"err must be an Error"),mod_assertplus.string(name,"name"),mod_assertplus.ok(name.length>0,"name cannot be empty"),cause=err;null!==cause;cause=VError.cause(cause))if(mod_assertplus.ok(mod_isError(cause)),cause.name==name)return cause;return null},VError.hasCauseWithName=function(err,name){return null!==VError.findCauseByName(err,name)},VError.fullStack=function(err){mod_assertplus.ok(mod_isError(err),"err must be an Error");var cause=VError.cause(err);return cause?err.stack+"\ncaused by: "+VError.fullStack(cause):err.stack},VError.errorFromList=function(errors){return mod_assertplus.arrayOfObject(errors,"errors"),0===errors.length?null:(errors.forEach(function(e){mod_assertplus.ok(mod_isError(e))}),1==errors.length?errors[0]:new MultiError(errors))},VError.errorForEach=function(err,func){mod_assertplus.ok(mod_isError(err),"err must be an Error"),mod_assertplus.func(func,"func"),err instanceof MultiError?err.errors().forEach(function(e){func(e)}):func(err)},mod_util.inherits(SError,VError),mod_util.inherits(MultiError,VError),MultiError.prototype.name="MultiError",MultiError.prototype.errors=function(){return this.ase_errors.slice(0)},mod_util.inherits(WError,VError),WError.prototype.name="WError",WError.prototype.toString=function(){var str=this.hasOwnProperty("name")&&this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(str+=": "+this.message),this.jse_cause&&this.jse_cause.message&&(str+="; caused by "+this.jse_cause.toString()),str},WError.prototype.cause=function(c){return mod_isError(c)&&(this.jse_cause=c),this.jse_cause}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return function(){var exports=validate;exports.Integer={type:"integer"};var primitiveConstructors={String:String,Boolean:Boolean,Number:Number,Object:Object,Array:Array,Date:Date};function validate(instance,schema){return validate(instance,schema,{changing:!1})}exports.validate=validate,exports.checkPropertyChange=function(value,schema,property){return validate(value,schema,{changing:property||"property"})};var validate=exports._validate=function(instance,schema,options){options||(options={});var _changing=options.changing;function getType(schema){return schema.type||primitiveConstructors[schema.name]==schema&&schema.name.toLowerCase()}var errors=[];function checkProp(value,schema,path,i){var l;function addError(message){errors.push({property:path,message:message})}if(path+=path?"number"==typeof i?"["+i+"]":void 0===i?"":"."+i:i,("object"!=typeof schema||schema instanceof Array)&&(path||"function"!=typeof schema)&&(!schema||!getType(schema)))return"function"==typeof schema?value instanceof schema||addError("is not an instance of the class/constructor "+schema.name):schema&&addError("Invalid schema/property definition "+schema),null;function checkType(type,value){if(type){if(!("string"!=typeof type||"any"==type||("null"==type?null===value:typeof value==type)||value instanceof Array&&"array"==type||value instanceof Date&&"date"==type||"integer"==type&&value%1==0))return[{property:path,message:typeof value+" value found, but a "+type+" is required"}];if(type instanceof Array){for(var unionErrors=[],j=0;j<type.length&&(unionErrors=checkType(type[j],value)).length;j++);if(unionErrors.length)return unionErrors}else if("object"==typeof type){var priorErrors=errors;errors=[],checkProp(value,type,path);var theseErrors=errors;return errors=priorErrors,theseErrors}}return[]}if(_changing&&schema.readonly&&addError("is a readonly field, it can not be changed"),schema.extends&&checkProp(value,schema.extends,path,i),void 0===value)schema.required&&addError("is missing and it is required");else if(errors=errors.concat(checkType(getType(schema),value)),schema.disallow&&!checkType(schema.disallow,value).length&&addError(" disallowed value was matched"),null!==value){if(value instanceof Array){if(schema.items){var itemsIsArray=schema.items instanceof Array,propDef=schema.items;for(i=0,l=value.length;i<l;i+=1)itemsIsArray&&(propDef=schema.items[i]),options.coerce&&(value[i]=options.coerce(value[i],propDef)),errors.concat(checkProp(value[i],propDef,path,i))}schema.minItems&&value.length<schema.minItems&&addError("There must be a minimum of "+schema.minItems+" in the array"),schema.maxItems&&value.length>schema.maxItems&&addError("There must be a maximum of "+schema.maxItems+" in the array")}else(schema.properties||schema.additionalProperties)&&errors.concat(function(instance,objTypeDef,path,additionalProp){if("object"==typeof objTypeDef)for(var i in("object"!=typeof instance||instance instanceof Array)&&errors.push({property:path,message:"an object is required"}),objTypeDef)if(objTypeDef.hasOwnProperty(i)){var value=instance[i];if(void 0===value&&options.existingOnly)continue;var propDef=objTypeDef[i];void 0===value&&propDef.default&&(value=instance[i]=propDef.default),options.coerce&&i in instance&&(value=instance[i]=options.coerce(value,propDef)),checkProp(value,propDef,path,i)}for(i in instance){if(instance.hasOwnProperty(i)&&("_"!=i.charAt(0)||"_"!=i.charAt(1))&&objTypeDef&&!objTypeDef[i]&&!1===additionalProp){if(options.filter){delete instance[i];continue}errors.push({property:path,message:typeof value+"The property "+i+" is not defined in the schema and the schema does not allow additional properties"})}var requires=objTypeDef&&objTypeDef[i]&&objTypeDef[i].requires;!requires||requires in instance||errors.push({property:path,message:"the presence of the property "+i+" requires that "+requires+" also be present"}),value=instance[i],!additionalProp||objTypeDef&&"object"==typeof objTypeDef&&i in objTypeDef||(options.coerce&&(value=instance[i]=options.coerce(value,additionalProp)),checkProp(value,additionalProp,path,i)),!_changing&&value&&value.$schema&&(errors=errors.concat(checkProp(value,value.$schema,path,i)))}return errors}(value,schema.properties,path,schema.additionalProperties));if(schema.pattern&&"string"==typeof value&&!value.match(schema.pattern)&&addError("does not match the regex pattern "+schema.pattern),schema.maxLength&&"string"==typeof value&&value.length>schema.maxLength&&addError("may only be "+schema.maxLength+" characters long"),schema.minLength&&"string"==typeof value&&value.length<schema.minLength&&addError("must be at least "+schema.minLength+" characters long"),void 0!==typeof schema.minimum&&typeof value==typeof schema.minimum&&schema.minimum>value&&addError("must have a minimum value of "+schema.minimum),void 0!==typeof schema.maximum&&typeof value==typeof schema.maximum&&schema.maximum<value&&addError("must have a maximum value of "+schema.maximum),schema.enum){var found,enumer=schema.enum;l=enumer.length;for(var j=0;j<l;j++)if(enumer[j]===value){found=1;break}found||addError("does not have a value in the enumeration "+enumer.join(", "))}"number"==typeof schema.maxDecimal&&value.toString().match(new RegExp("\\.[0-9]{"+(schema.maxDecimal+1)+",}"))&&addError("may only have "+schema.maxDecimal+" digits of decimal places")}return null}return schema&&checkProp(instance,schema,"",_changing||""),!_changing&&instance&&instance.$schema&&checkProp(instance,instance.$schema,"",""),{valid:!errors.length,errors:errors}};return exports.mustBeValid=function(result){if(!result.valid)throw new TypeError(result.errors.map(function(error){return"for property "+error.property+": "+error.message}).join(", \n"))},exports}()}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var assert=__webpack_require__(18),crypto=__webpack_require__(23),sshpk=__webpack_require__(440),utils=__webpack_require__(303),validateAlgorithm=(utils.HASH_ALGOS,utils.PK_ALGOS,utils.InvalidAlgorithmError,utils.HttpSignatureError,utils.validateAlgorithm);module.exports={verifySignature:function(parsedSignature,pubkey){assert.object(parsedSignature,"parsedSignature"),("string"==typeof pubkey||Buffer.isBuffer(pubkey))&&(pubkey=sshpk.parseKey(pubkey)),assert.ok(sshpk.Key.isKey(pubkey,[1,1]),"pubkey must be a sshpk.Key");var alg=validateAlgorithm(parsedSignature.algorithm);if("hmac"===alg[0]||alg[0]!==pubkey.type)return!1;var v=pubkey.createVerify(alg[1]);return v.update(parsedSignature.signingString),v.verify(parsedSignature.params.signature,"base64")},verifyHMAC:function(parsedSignature,secret){assert.object(parsedSignature,"parsedHMAC"),assert.string(secret,"secret");var alg=validateAlgorithm(parsedSignature.algorithm);if("hmac"!==alg[0])return!1;var hashAlg=alg[1].toUpperCase(),hmac=crypto.createHmac(hashAlg,secret);hmac.update(parsedSignature.signingString);var h1=crypto.createHmac(hashAlg,secret);h1.update(hmac.digest()),h1=h1.digest();var h2=crypto.createHmac(hashAlg,secret);return h2.update(new Buffer(parsedSignature.params.signature,"base64")),h2=h2.digest(),"string"==typeof h1?h1===h2:Buffer.isBuffer(h1)&&!h1.equals?h1.toString("binary")===h2.toString("binary"):h1.equals(h2)}}},function(module,exports){module.exports={lookup:function(){console.warn("Mime-types is aliased in banks (for perf). Cannot guess file type.")}}},function(module,exports,__webpack_require__){module.exports=ForeverAgent,ForeverAgent.SSL=ForeverAgentSSL;var util=__webpack_require__(8),Agent=__webpack_require__(65).Agent,net=__webpack_require__(438),tls=__webpack_require__(806),AgentSSL=__webpack_require__(95).Agent;function getConnectionName(host,port){return"string"==typeof host?host+":"+port:host.host+":"+host.port+":"+(host.localAddress?host.localAddress+":":":")}function ForeverAgent(options){var self=this;self.options=options||{},self.requests={},self.sockets={},self.freeSockets={},self.maxSockets=self.options.maxSockets||Agent.defaultMaxSockets,self.minSockets=self.options.minSockets||ForeverAgent.defaultMinSockets,self.on("free",function(socket,host,port){var name=getConnectionName(host,port);if(self.requests[name]&&self.requests[name].length)self.requests[name].shift().onSocket(socket);else if(self.sockets[name].length<self.minSockets){self.freeSockets[name]||(self.freeSockets[name]=[]),self.freeSockets[name].push(socket);var onIdleError=function(){socket.destroy()};socket._onIdleError=onIdleError,socket.on("error",onIdleError)}else socket.destroy()})}function ForeverAgentSSL(options){ForeverAgent.call(this,options)}util.inherits(ForeverAgent,Agent),ForeverAgent.defaultMinSockets=5,ForeverAgent.prototype.createConnection=net.createConnection,ForeverAgent.prototype.addRequestNoreuse=Agent.prototype.addRequest,ForeverAgent.prototype.addRequest=function(req,host,port){var name=getConnectionName(host,port);if("string"!=typeof host){var options=host;port=options.port,host=options.host}if(this.freeSockets[name]&&this.freeSockets[name].length>0&&!req.useChunkedEncodingByDefault){var idleSocket=this.freeSockets[name].pop();idleSocket.removeListener("error",idleSocket._onIdleError),delete idleSocket._onIdleError,req._reusedSocket=!0,req.onSocket(idleSocket)}else this.addRequestNoreuse(req,host,port)},ForeverAgent.prototype.removeSocket=function(s,name,host,port){var index;this.sockets[name]?-1!==(index=this.sockets[name].indexOf(s))&&this.sockets[name].splice(index,1):this.sockets[name]&&0===this.sockets[name].length&&(delete this.sockets[name],delete this.requests[name]);this.freeSockets[name]&&(-1!==(index=this.freeSockets[name].indexOf(s))&&(this.freeSockets[name].splice(index,1),0===this.freeSockets[name].length&&delete this.freeSockets[name]));this.requests[name]&&this.requests[name].length&&this.createSocket(name,host,port).emit("free")},util.inherits(ForeverAgentSSL,ForeverAgent),ForeverAgentSSL.prototype.createConnection=function(port,host,options){options="object"==typeof port?port:"object"==typeof host?host:"object"==typeof options?options:{};"number"==typeof port&&(options.port=port);"string"==typeof host&&(options.host=host);return tls.connect(options)},ForeverAgentSSL.prototype.addRequestNoreuse=AgentSSL.prototype.addRequest},function(module,exports,__webpack_require__){var CombinedStream=__webpack_require__(807),util=__webpack_require__(8),path=__webpack_require__(47),http=__webpack_require__(65),https=__webpack_require__(95),parseUrl=__webpack_require__(20).parse,fs=__webpack_require__(67),mime=__webpack_require__(421),asynckit=__webpack_require__(979),populate=__webpack_require__(983);function FormData(options){if(!(this instanceof FormData))return new FormData;for(var option in this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],CombinedStream.call(this),options=options||{})this[option]=options[option]}module.exports=FormData,util.inherits(FormData,CombinedStream),FormData.LINE_BREAK="\r\n",FormData.DEFAULT_CONTENT_TYPE="application/octet-stream",FormData.prototype.append=function(field,value,options){"string"==typeof(options=options||{})&&(options={filename:options});var append=CombinedStream.prototype.append.bind(this);if("number"==typeof value&&(value=""+value),util.isArray(value))this._error(new Error("Arrays are not supported."));else{var header=this._multiPartHeader(field,value,options),footer=this._multiPartFooter();append(header),append(value),append(footer),this._trackLength(header,value,options)}},FormData.prototype._trackLength=function(header,value,options){var valueLength=0;null!=options.knownLength?valueLength+=+options.knownLength:Buffer.isBuffer(value)?valueLength=value.length:"string"==typeof value&&(valueLength=Buffer.byteLength(value)),this._valueLength+=valueLength,this._overheadLength+=Buffer.byteLength(header)+FormData.LINE_BREAK.length,value&&(value.path||value.readable&&value.hasOwnProperty("httpVersion"))&&(options.knownLength||this._valuesToMeasure.push(value))},FormData.prototype._lengthRetriever=function(value,callback){value.hasOwnProperty("fd")?null!=value.end&&value.end!=1/0&&null!=value.start?callback(null,value.end+1-(value.start?value.start:0)):fs.stat(value.path,function(err,stat){var fileSize;err?callback(err):(fileSize=stat.size-(value.start?value.start:0),callback(null,fileSize))}):value.hasOwnProperty("httpVersion")?callback(null,+value.headers["content-length"]):value.hasOwnProperty("httpModule")?(value.on("response",function(response){value.pause(),callback(null,+response.headers["content-length"])}),value.resume()):callback("Unknown stream")},FormData.prototype._multiPartHeader=function(field,value,options){if("string"==typeof options.header)return options.header;var header,contentDisposition=this._getContentDisposition(value,options),contentType=this._getContentType(value,options),contents="",headers={"Content-Disposition":["form-data",'name="'+field+'"'].concat(contentDisposition||[]),"Content-Type":[].concat(contentType||[])};for(var prop in"object"==typeof options.header&&populate(headers,options.header),headers)headers.hasOwnProperty(prop)&&null!=(header=headers[prop])&&(Array.isArray(header)||(header=[header]),header.length&&(contents+=prop+": "+header.join("; ")+FormData.LINE_BREAK));return"--"+this.getBoundary()+FormData.LINE_BREAK+contents+FormData.LINE_BREAK},FormData.prototype._getContentDisposition=function(value,options){var filename,contentDisposition;return"string"==typeof options.filepath?filename=path.normalize(options.filepath).replace(/\\/g,"/"):options.filename||value.name||value.path?filename=path.basename(options.filename||value.name||value.path):value.readable&&value.hasOwnProperty("httpVersion")&&(filename=path.basename(value.client._httpMessage.path)),filename&&(contentDisposition='filename="'+filename+'"'),contentDisposition},FormData.prototype._getContentType=function(value,options){var contentType=options.contentType;return!contentType&&value.name&&(contentType=mime.lookup(value.name)),!contentType&&value.path&&(contentType=mime.lookup(value.path)),!contentType&&value.readable&&value.hasOwnProperty("httpVersion")&&(contentType=value.headers["content-type"]),contentType||!options.filepath&&!options.filename||(contentType=mime.lookup(options.filepath||options.filename)),contentType||"object"!=typeof value||(contentType=FormData.DEFAULT_CONTENT_TYPE),contentType},FormData.prototype._multiPartFooter=function(){return function(next){var footer=FormData.LINE_BREAK;0===this._streams.length&&(footer+=this._lastBoundary()),next(footer)}.bind(this)},FormData.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+FormData.LINE_BREAK},FormData.prototype.getHeaders=function(userHeaders){var header,formHeaders={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(header in userHeaders)userHeaders.hasOwnProperty(header)&&(formHeaders[header.toLowerCase()]=userHeaders[header]);return formHeaders},FormData.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary},FormData.prototype._generateBoundary=function(){for(var boundary="--------------------------",i=0;i<24;i++)boundary+=Math.floor(10*Math.random()).toString(16);this._boundary=boundary},FormData.prototype.getLengthSync=function(){var knownLength=this._overheadLength+this._valueLength;return this._streams.length&&(knownLength+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),knownLength},FormData.prototype.hasKnownLength=function(){var hasKnownLength=!0;return this._valuesToMeasure.length&&(hasKnownLength=!1),hasKnownLength},FormData.prototype.getLength=function(cb){var knownLength=this._overheadLength+this._valueLength;this._streams.length&&(knownLength+=this._lastBoundary().length),this._valuesToMeasure.length?asynckit.parallel(this._valuesToMeasure,this._lengthRetriever,function(err,values){err?cb(err):(values.forEach(function(length){knownLength+=length}),cb(null,knownLength))}):process.nextTick(cb.bind(this,null,knownLength))},FormData.prototype.submit=function(params,cb){var request,options,defaults={method:"post"};return"string"==typeof params?(params=parseUrl(params),options=populate({port:params.port,path:params.pathname,host:params.hostname,protocol:params.protocol},defaults)):(options=populate(params,defaults)).port||(options.port="https:"==options.protocol?443:80),options.headers=this.getHeaders(params.headers),request="https:"==options.protocol?https.request(options):http.request(options),this.getLength(function(err,length){err?this._error(err):(request.setHeader("Content-Length",length),this.pipe(request),cb&&(request.on("error",cb),request.on("response",cb.bind(this,null))))}.bind(this)),request},FormData.prototype._error=function(err){this.error||(this.error=err,this.pause(),this.emit("error",err))},FormData.prototype.toString=function(){return"[object FormData]"}},function(module,exports,__webpack_require__){var Stream=__webpack_require__(10).Stream,util=__webpack_require__(8);function DelayedStream(){this.source=null,this.dataSize=0,this.maxDataSize=1048576,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}module.exports=DelayedStream,util.inherits(DelayedStream,Stream),DelayedStream.create=function(source,options){var delayedStream=new this;for(var option in options=options||{})delayedStream[option]=options[option];delayedStream.source=source;var realEmit=source.emit;return source.emit=function(){return delayedStream._handleEmit(arguments),realEmit.apply(source,arguments)},source.on("error",function(){}),delayedStream.pauseStream&&source.pause(),delayedStream},Object.defineProperty(DelayedStream.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}}),DelayedStream.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)},DelayedStream.prototype.resume=function(){this._released||this.release(),this.source.resume()},DelayedStream.prototype.pause=function(){this.source.pause()},DelayedStream.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(args){this.emit.apply(this,args)}.bind(this)),this._bufferedEvents=[]},DelayedStream.prototype.pipe=function(){var r=Stream.prototype.pipe.apply(this,arguments);return this.resume(),r},DelayedStream.prototype._handleEmit=function(args){this._released?this.emit.apply(this,args):("data"===args[0]&&(this.dataSize+=args[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(args))},DelayedStream.prototype._checkIfMaxDataSizeExceeded=function(){if(!(this._maxDataSizeExceeded||this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var message="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(message))}}},function(module,exports,__webpack_require__){module.exports={parallel:__webpack_require__(980),serial:__webpack_require__(982),serialOrdered:__webpack_require__(813)}},function(module,exports,__webpack_require__){var iterate=__webpack_require__(808),initState=__webpack_require__(811),terminator=__webpack_require__(812);module.exports=function(list,iterator,callback){var state=initState(list);for(;state.index<(state.keyedList||list).length;)iterate(list,iterator,state,function(error,result){error?callback(error,result):0!==Object.keys(state.jobs).length||callback(null,state.results)}),state.index++;return terminator.bind(state,callback)}},function(module,exports){module.exports=function(fn){var nextTick="function"==typeof setImmediate?setImmediate:"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick:null;nextTick?nextTick(fn):setTimeout(fn,0)}},function(module,exports,__webpack_require__){var serialOrdered=__webpack_require__(813);module.exports=function(list,iterator,callback){return serialOrdered(list,iterator,null,callback)}},function(module,exports){module.exports=function(dst,src){return Object.keys(src).forEach(function(prop){dst[prop]=dst[prop]||src[prop]}),dst}},function(module,exports){module.exports=isTypedArray,isTypedArray.strict=isStrictTypedArray,isTypedArray.loose=isLooseTypedArray;var toString=Object.prototype.toString,names={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function isTypedArray(arr){return isStrictTypedArray(arr)||isLooseTypedArray(arr)}function isStrictTypedArray(arr){return arr instanceof Int8Array||arr instanceof Int16Array||arr instanceof Int32Array||arr instanceof Uint8Array||arr instanceof Uint8ClampedArray||arr instanceof Uint16Array||arr instanceof Uint32Array||arr instanceof Float32Array||arr instanceof Float64Array}function isLooseTypedArray(arr){return names[toString.call(arr)]}},function(module,exports,__webpack_require__){"use strict";function formatHostname(hostname){return hostname.replace(/^\.*/,".").toLowerCase()}function parseNoProxyZone(zone){var zoneParts=(zone=zone.trim().toLowerCase()).split(":",2);return{hostname:formatHostname(zoneParts[0]),port:zoneParts[1],hasPort:zone.indexOf(":")>-1}}module.exports=function(uri){var noProxy=process.env.NO_PROXY||process.env.no_proxy||"";return"*"===noProxy?null:""!==noProxy&&function(uri,noProxy){var port=uri.port||("https:"===uri.protocol?"443":"80"),hostname=formatHostname(uri.hostname);return noProxy.split(",").map(parseNoProxyZone).some(function(noProxyZone){var isMatchedAt=hostname.indexOf(noProxyZone.hostname),hostnameMatched=isMatchedAt>-1&&isMatchedAt===hostname.length-noProxyZone.hostname.length;return noProxyZone.hasPort?port===noProxyZone.port&&hostnameMatched:hostnameMatched})}(uri,noProxy)?null:"http:"===uri.protocol?process.env.HTTP_PROXY||process.env.http_proxy||null:"https:"===uri.protocol&&(process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy)||null}},function(module,exports,__webpack_require__){"use strict";var qs=__webpack_require__(289),querystring=__webpack_require__(186);function Querystring(request){this.request=request,this.lib=null,this.useQuerystring=null,this.parseOptions=null,this.stringifyOptions=null}Querystring.prototype.init=function(options){this.lib||(this.useQuerystring=options.useQuerystring,this.lib=this.useQuerystring?querystring:qs,this.parseOptions=options.qsParseOptions||{},this.stringifyOptions=options.qsStringifyOptions||{})},Querystring.prototype.stringify=function(obj){return this.useQuerystring?this.rfc3986(this.lib.stringify(obj,this.stringifyOptions.sep||null,this.stringifyOptions.eq||null,this.stringifyOptions)):this.lib.stringify(obj,this.stringifyOptions)},Querystring.prototype.parse=function(str){return this.useQuerystring?this.lib.parse(str,this.parseOptions.sep||null,this.parseOptions.eq||null,this.parseOptions):this.lib.parse(str,this.parseOptions)},Querystring.prototype.rfc3986=function(str){return str.replace(/[!'()*]/g,function(c){return"%"+c.charCodeAt(0).toString(16).toUpperCase()})},Querystring.prototype.unescape=querystring.unescape,exports.Querystring=Querystring},function(module,exports,__webpack_require__){"use strict";var fs=__webpack_require__(67),qs=__webpack_require__(186),validate=__webpack_require__(988),extend=__webpack_require__(436);function Har(request){this.request=request}Har.prototype.reducer=function(obj,pair){if(void 0===obj[pair.name])return obj[pair.name]=pair.value,obj;var arr=[obj[pair.name],pair.value];return obj[pair.name]=arr,obj},Har.prototype.prep=function(data){if(data.queryObj={},data.headersObj={},data.postData.jsonObj=!1,data.postData.paramsObj=!1,data.queryString&&data.queryString.length&&(data.queryObj=data.queryString.reduce(this.reducer,{})),data.headers&&data.headers.length&&(data.headersObj=data.headers.reduceRight(function(headers,header){return headers[header.name]=header.value,headers},{})),data.cookies&&data.cookies.length){var cookies=data.cookies.map(function(cookie){return cookie.name+"="+cookie.value});cookies.length&&(data.headersObj.cookie=cookies.join("; "))}function some(arr){return arr.some(function(type){return 0===data.postData.mimeType.indexOf(type)})}if(some(["multipart/mixed","multipart/related","multipart/form-data","multipart/alternative"]))data.postData.mimeType="multipart/form-data";else if(some(["application/x-www-form-urlencoded"]))data.postData.params?(data.postData.paramsObj=data.postData.params.reduce(this.reducer,{}),data.postData.text=qs.stringify(data.postData.paramsObj)):data.postData.text="";else if(some(["text/json","text/x-json","application/json","application/x-json"])&&(data.postData.mimeType="application/json",data.postData.text))try{data.postData.jsonObj=JSON.parse(data.postData.text)}catch(e){this.request.debug(e),data.postData.mimeType="text/plain"}return data},Har.prototype.options=function(options){if(!options.har)return options;var har={};if(extend(har,options.har),har.log&&har.log.entries&&(har=har.log.entries[0]),har.url=har.url||options.url||options.uri||options.baseUrl||"/",har.httpVersion=har.httpVersion||"HTTP/1.1",har.queryString=har.queryString||[],har.headers=har.headers||[],har.cookies=har.cookies||[],har.postData=har.postData||{},har.postData.mimeType=har.postData.mimeType||"application/octet-stream",har.bodySize=0,har.headersSize=0,har.postData.size=0,!validate.request(har))return options;var req=this.prep(har);function test(type){return 0===req.postData.mimeType.indexOf(type)}return req.url&&(options.url=req.url),req.method&&(options.method=req.method),Object.keys(req.queryObj).length&&(options.qs=req.queryObj),Object.keys(req.headersObj).length&&(options.headers=req.headersObj),test("application/x-www-form-urlencoded")?options.form=req.postData.paramsObj:test("application/json")?req.postData.jsonObj&&(options.body=req.postData.jsonObj,options.json=!0):test("multipart/form-data")?(options.formData={},req.postData.params.forEach(function(param){var attachment={};param.fileName||param.fileName||param.contentType?(param.fileName&&!param.value?attachment.value=fs.createReadStream(param.fileName):param.value&&(attachment.value=param.value),param.fileName&&(attachment.options={filename:param.fileName,contentType:param.contentType?param.contentType:null}),options.formData[param.name]=attachment):options.formData[param.name]=param.value})):req.postData.text&&(options.body=req.postData.text),options},exports.Har=Har},function(module,exports,__webpack_require__){var ajv,Ajv=__webpack_require__(989),HARError=__webpack_require__(1023),schemas=__webpack_require__(1024);function validate(name,data){data=data||{};var validate=(ajv=ajv||function(){var ajv=new Ajv({allErrors:!0});return ajv.addMetaSchema(__webpack_require__(1043)),ajv.addSchema(schemas),ajv}()).getSchema(name+".json");return new Promise(function(resolve,reject){validate(data)?resolve(data):reject(new HARError(validate.errors))})}exports.afterRequest=function(data){return validate("afterRequest",data)},exports.beforeRequest=function(data){return validate("beforeRequest",data)},exports.browser=function(data){return validate("browser",data)},exports.cache=function(data){return validate("cache",data)},exports.content=function(data){return validate("content",data)},exports.cookie=function(data){return validate("cookie",data)},exports.creator=function(data){return validate("creator",data)},exports.entry=function(data){return validate("entry",data)},exports.har=function(data){return validate("har",data)},exports.header=function(data){return validate("header",data)},exports.log=function(data){return validate("log",data)},exports.page=function(data){return validate("page",data)},exports.pageTimings=function(data){return validate("pageTimings",data)},exports.postData=function(data){return validate("postData",data)},exports.query=function(data){return validate("query",data)},exports.request=function(data){return validate("request",data)},exports.response=function(data){return validate("response",data)},exports.timings=function(data){return validate("timings",data)}},function(module,exports,__webpack_require__){"use strict";var compileSchema=__webpack_require__(990),resolve=__webpack_require__(447),Cache=__webpack_require__(994),SchemaObject=__webpack_require__(815),stableStringify=__webpack_require__(816),formats=__webpack_require__(995),rules=__webpack_require__(996),$dataMetaSchema=__webpack_require__(1017),util=__webpack_require__(196);module.exports=Ajv,Ajv.prototype.validate=function(schemaKeyRef,data){var v;if("string"==typeof schemaKeyRef){if(!(v=this.getSchema(schemaKeyRef)))throw new Error('no schema with key or ref "'+schemaKeyRef+'"')}else{var schemaObj=this._addSchema(schemaKeyRef);v=schemaObj.validate||this._compile(schemaObj)}var valid=v(data);!0!==v.$async&&(this.errors=v.errors);return valid},Ajv.prototype.compile=function(schema,_meta){var schemaObj=this._addSchema(schema,void 0,_meta);return schemaObj.validate||this._compile(schemaObj)},Ajv.prototype.addSchema=function(schema,key,_skipValidation,_meta){if(Array.isArray(schema)){for(var i=0;i<schema.length;i++)this.addSchema(schema[i],void 0,_skipValidation,_meta);return this}var id=this._getId(schema);if(void 0!==id&&"string"!=typeof id)throw new Error("schema id must be string");return checkUnique(this,key=resolve.normalizeId(key||id)),this._schemas[key]=this._addSchema(schema,_skipValidation,_meta,!0),this},Ajv.prototype.addMetaSchema=function(schema,key,skipValidation){return this.addSchema(schema,key,skipValidation,!0),this},Ajv.prototype.validateSchema=function(schema,throwOrLogError){var $schema=schema.$schema;if(void 0!==$schema&&"string"!=typeof $schema)throw new Error("$schema must be a string");if(!($schema=$schema||this._opts.defaultMeta||function(self){var meta=self._opts.meta;return self._opts.defaultMeta="object"==typeof meta?self._getId(meta)||meta:self.getSchema(META_SCHEMA_ID)?META_SCHEMA_ID:void 0,self._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var valid=this.validate($schema,schema);if(!valid&&throwOrLogError){var message="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(message);this.logger.error(message)}return valid},Ajv.prototype.getSchema=function(keyRef){var schemaObj=_getSchemaObj(this,keyRef);switch(typeof schemaObj){case"object":return schemaObj.validate||this._compile(schemaObj);case"string":return this.getSchema(schemaObj);case"undefined":return function(self,ref){var res=resolve.schema.call(self,{schema:{}},ref);if(res){var schema=res.schema,root=res.root,baseId=res.baseId,v=compileSchema.call(self,schema,root,void 0,baseId);return self._fragments[ref]=new SchemaObject({ref:ref,fragment:!0,schema:schema,root:root,baseId:baseId,validate:v}),v}}(this,keyRef)}},Ajv.prototype.removeSchema=function(schemaKeyRef){if(schemaKeyRef instanceof RegExp)return _removeAllSchemas(this,this._schemas,schemaKeyRef),_removeAllSchemas(this,this._refs,schemaKeyRef),this;switch(typeof schemaKeyRef){case"undefined":return _removeAllSchemas(this,this._schemas),_removeAllSchemas(this,this._refs),this._cache.clear(),this;case"string":var schemaObj=_getSchemaObj(this,schemaKeyRef);return schemaObj&&this._cache.del(schemaObj.cacheKey),delete this._schemas[schemaKeyRef],delete this._refs[schemaKeyRef],this;case"object":var serialize=this._opts.serialize,cacheKey=serialize?serialize(schemaKeyRef):schemaKeyRef;this._cache.del(cacheKey);var id=this._getId(schemaKeyRef);id&&(id=resolve.normalizeId(id),delete this._schemas[id],delete this._refs[id])}return this},Ajv.prototype.addFormat=function(name,format){"string"==typeof format&&(format=new RegExp(format));return this._formats[name]=format,this},Ajv.prototype.errorsText=function(errors,options){if(!(errors=errors||this.errors))return"No errors";for(var separator=void 0===(options=options||{}).separator?", ":options.separator,dataVar=void 0===options.dataVar?"data":options.dataVar,text="",i=0;i<errors.length;i++){var e=errors[i];e&&(text+=dataVar+e.dataPath+" "+e.message+separator)}return text.slice(0,-separator.length)},Ajv.prototype._addSchema=function(schema,skipValidation,meta,shouldAddSchema){if("object"!=typeof schema&&"boolean"!=typeof schema)throw new Error("schema should be object or boolean");var serialize=this._opts.serialize,cacheKey=serialize?serialize(schema):schema,cached=this._cache.get(cacheKey);if(cached)return cached;shouldAddSchema=shouldAddSchema||!1!==this._opts.addUsedSchema;var id=resolve.normalizeId(this._getId(schema));id&&shouldAddSchema&&checkUnique(this,id);var recursiveMeta,willValidate=!1!==this._opts.validateSchema&&!skipValidation;willValidate&&!(recursiveMeta=id&&id==resolve.normalizeId(schema.$schema))&&this.validateSchema(schema,!0);var localRefs=resolve.ids.call(this,schema),schemaObj=new SchemaObject({id:id,schema:schema,localRefs:localRefs,cacheKey:cacheKey,meta:meta});"#"!=id[0]&&shouldAddSchema&&(this._refs[id]=schemaObj);this._cache.put(cacheKey,schemaObj),willValidate&&recursiveMeta&&this.validateSchema(schema,!0);return schemaObj},Ajv.prototype._compile=function(schemaObj,root){if(schemaObj.compiling)return schemaObj.validate=callValidate,callValidate.schema=schemaObj.schema,callValidate.errors=null,callValidate.root=root||callValidate,!0===schemaObj.schema.$async&&(callValidate.$async=!0),callValidate;var currentOpts,v;schemaObj.compiling=!0,schemaObj.meta&&(currentOpts=this._opts,this._opts=this._metaOpts);try{v=compileSchema.call(this,schemaObj.schema,root,schemaObj.localRefs)}catch(e){throw delete schemaObj.validate,e}finally{schemaObj.compiling=!1,schemaObj.meta&&(this._opts=currentOpts)}return schemaObj.validate=v,schemaObj.refs=v.refs,schemaObj.refVal=v.refVal,schemaObj.root=v.root,v;function callValidate(){var _validate=schemaObj.validate,result=_validate.apply(this,arguments);return callValidate.errors=_validate.errors,result}},Ajv.prototype.compileAsync=__webpack_require__(1018);var customKeyword=__webpack_require__(1019);Ajv.prototype.addKeyword=customKeyword.add,Ajv.prototype.getKeyword=customKeyword.get,Ajv.prototype.removeKeyword=customKeyword.remove,Ajv.prototype.validateKeyword=customKeyword.validate;var errorClasses=__webpack_require__(449);Ajv.ValidationError=errorClasses.Validation,Ajv.MissingRefError=errorClasses.MissingRef,Ajv.$dataMetaSchema=$dataMetaSchema;var META_SCHEMA_ID="http://json-schema.org/draft-07/schema",META_IGNORE_OPTIONS=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],META_SUPPORT_DATA=["/properties"];function Ajv(opts){if(!(this instanceof Ajv))return new Ajv(opts);opts=this._opts=util.copy(opts)||{},function(self){var logger=self._opts.logger;if(!1===logger)self.logger={log:noop,warn:noop,error:noop};else{if(void 0===logger&&(logger=console),!("object"==typeof logger&&logger.log&&logger.warn&&logger.error))throw new Error("logger must implement log, warn and error methods");self.logger=logger}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=formats(opts.format),this._cache=opts.cache||new Cache,this._loadingSchemas={},this._compilations=[],this.RULES=rules(),this._getId=function(opts){switch(opts.schemaId){case"auto":return _get$IdOrId;case"id":return _getId;default:return _get$Id}}(opts),opts.loopRequired=opts.loopRequired||1/0,"property"==opts.errorDataPath&&(opts._errorDataPathProperty=!0),void 0===opts.serialize&&(opts.serialize=stableStringify),this._metaOpts=function(self){for(var metaOpts=util.copy(self._opts),i=0;i<META_IGNORE_OPTIONS.length;i++)delete metaOpts[META_IGNORE_OPTIONS[i]];return metaOpts}(this),opts.formats&&function(self){for(var name in self._opts.formats){var format=self._opts.formats[name];self.addFormat(name,format)}}(this),function(self){var $dataSchema;self._opts.$data&&($dataSchema=__webpack_require__(1022),self.addMetaSchema($dataSchema,$dataSchema.$id,!0));if(!1===self._opts.meta)return;var metaSchema=__webpack_require__(822);self._opts.$data&&(metaSchema=$dataMetaSchema(metaSchema,META_SUPPORT_DATA));self.addMetaSchema(metaSchema,META_SCHEMA_ID,!0),self._refs["http://json-schema.org/schema"]=META_SCHEMA_ID}(this),"object"==typeof opts.meta&&this.addMetaSchema(opts.meta),opts.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(self){var optsSchemas=self._opts.schemas;if(!optsSchemas)return;if(Array.isArray(optsSchemas))self.addSchema(optsSchemas);else for(var key in optsSchemas)self.addSchema(optsSchemas[key],key)}(this)}function _getSchemaObj(self,keyRef){return keyRef=resolve.normalizeId(keyRef),self._schemas[keyRef]||self._refs[keyRef]||self._fragments[keyRef]}function _removeAllSchemas(self,schemas,regex){for(var keyRef in schemas){var schemaObj=schemas[keyRef];schemaObj.meta||regex&&!regex.test(keyRef)||(self._cache.del(schemaObj.cacheKey),delete schemas[keyRef])}}function _getId(schema){return schema.$id&&this.logger.warn("schema $id ignored",schema.$id),schema.id}function _get$Id(schema){return schema.id&&this.logger.warn("schema id ignored",schema.id),schema.$id}function _get$IdOrId(schema){if(schema.$id&&schema.id&&schema.$id!=schema.id)throw new Error("schema $id is different from id");return schema.$id||schema.id}function checkUnique(self,id){if(self._schemas[id]||self._refs[id])throw new Error('schema with key or id "'+id+'" already exists')}function noop(){}},function(module,exports,__webpack_require__){"use strict";var resolve=__webpack_require__(447),util=__webpack_require__(196),errorClasses=__webpack_require__(449),stableStringify=__webpack_require__(816),validateGenerator=__webpack_require__(817),ucs2length=util.ucs2length,equal=__webpack_require__(448),ValidationError=errorClasses.Validation;function compIndex(schema,root,baseId){for(var i=0;i<this._compilations.length;i++){var c=this._compilations[i];if(c.schema==schema&&c.root==root&&c.baseId==baseId)return i}return-1}function patternCode(i,patterns){return"var pattern"+i+" = new RegExp("+util.toQuotedString(patterns[i])+");"}function defaultCode(i){return"var default"+i+" = defaults["+i+"];"}function refValCode(i,refVal){return void 0===refVal[i]?"":"var refVal"+i+" = refVal["+i+"];"}function customRuleCode(i){return"var customRule"+i+" = customRules["+i+"];"}function vars(arr,statement){if(!arr.length)return"";for(var code="",i=0;i<arr.length;i++)code+=statement(i,arr);return code}module.exports=function compile(schema,root,localRefs,baseId){var self=this,opts=this._opts,refVal=[void 0],refs={},patterns=[],patternsHash={},defaults=[],defaultsHash={},customRules=[];root=root||{schema:schema,refVal:refVal,refs:refs};var c=function(schema,root,baseId){var index=compIndex.call(this,schema,root,baseId);return index>=0?{index:index,compiling:!0}:(index=this._compilations.length,this._compilations[index]={schema:schema,root:root,baseId:baseId},{index:index,compiling:!1})}.call(this,schema,root,baseId);var compilation=this._compilations[c.index];if(c.compiling)return compilation.callValidate=function callValidate(){var validate=compilation.validate;var result=validate.apply(this,arguments);callValidate.errors=validate.errors;return result};var formats=this._formats;var RULES=this.RULES;try{var v=localCompile(schema,root,localRefs,baseId);compilation.validate=v;var cv=compilation.callValidate;return cv&&(cv.schema=v.schema,cv.errors=null,cv.refs=v.refs,cv.refVal=v.refVal,cv.root=v.root,cv.$async=v.$async,opts.sourceCode&&(cv.source=v.source)),v}finally{(function(schema,root,baseId){var i=compIndex.call(this,schema,root,baseId);i>=0&&this._compilations.splice(i,1)}).call(this,schema,root,baseId)}function localCompile(_schema,_root,localRefs,baseId){var isRoot=!_root||_root&&_root.schema==_schema;if(_root.schema!=root.schema)return compile.call(self,_schema,_root,localRefs,baseId);var validate,$async=!0===_schema.$async,sourceCode=validateGenerator({isTop:!0,schema:_schema,isRoot:isRoot,baseId:baseId,root:_root,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:errorClasses.MissingRef,RULES:RULES,validate:validateGenerator,util:util,resolve:resolve,resolveRef:resolveRef,usePattern:usePattern,useDefault:useDefault,useCustomRule:useCustomRule,opts:opts,formats:formats,logger:self.logger,self:self});sourceCode=vars(refVal,refValCode)+vars(patterns,patternCode)+vars(defaults,defaultCode)+vars(customRules,customRuleCode)+sourceCode,opts.processCode&&(sourceCode=opts.processCode(sourceCode));try{var makeValidate=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",sourceCode);validate=makeValidate(self,RULES,formats,root,refVal,defaults,customRules,equal,ucs2length,ValidationError),refVal[0]=validate}catch(e){throw self.logger.error("Error compiling schema, function code:",sourceCode),e}return validate.schema=_schema,validate.errors=null,validate.refs=refs,validate.refVal=refVal,validate.root=isRoot?validate:_root,$async&&(validate.$async=!0),!0===opts.sourceCode&&(validate.source={code:sourceCode,patterns:patterns,defaults:defaults}),validate}function resolveRef(baseId,ref,isRoot){ref=resolve.url(baseId,ref);var _refVal,refCode,refIndex=refs[ref];if(void 0!==refIndex)return resolvedRef(_refVal=refVal[refIndex],refCode="refVal["+refIndex+"]");if(!isRoot&&root.refs){var rootRefId=root.refs[ref];if(void 0!==rootRefId)return _refVal=root.refVal[rootRefId],refCode=addLocalRef(ref,_refVal),resolvedRef(_refVal,refCode)}refCode=addLocalRef(ref);var v=resolve.call(self,localCompile,root,ref);if(void 0===v){var localSchema=localRefs&&localRefs[ref];localSchema&&(v=resolve.inlineRef(localSchema,opts.inlineRefs)?localSchema:compile.call(self,localSchema,root,localRefs,baseId))}if(void 0!==v)return function(ref,v){var refId=refs[ref];refVal[refId]=v}(ref,v),resolvedRef(v,refCode);!function(ref){delete refs[ref]}(ref)}function addLocalRef(ref,v){var refId=refVal.length;return refVal[refId]=v,refs[ref]=refId,"refVal"+refId}function resolvedRef(refVal,code){return"object"==typeof refVal||"boolean"==typeof refVal?{code:code,schema:refVal,inline:!0}:{code:code,$async:refVal&&!!refVal.$async}}function usePattern(regexStr){var index=patternsHash[regexStr];return void 0===index&&(index=patternsHash[regexStr]=patterns.length,patterns[index]=regexStr),"pattern"+index}function useDefault(value){switch(typeof value){case"boolean":case"number":return""+value;case"string":return util.toQuotedString(value);case"object":if(null===value)return"null";var valueStr=stableStringify(value),index=defaultsHash[valueStr];return void 0===index&&(index=defaultsHash[valueStr]=defaults.length,defaults[index]=value),"default"+index}}function useCustomRule(rule,schema,parentSchema,it){if(!1!==self._opts.validateSchema){var deps=rule.definition.dependencies;if(deps&&!deps.every(function(keyword){return Object.prototype.hasOwnProperty.call(parentSchema,keyword)}))throw new Error("parent schema must have all required keywords: "+deps.join(","));var validateSchema=rule.definition.validateSchema;if(validateSchema){var valid=validateSchema(schema);if(!valid){var message="keyword schema is invalid: "+self.errorsText(validateSchema.errors);if("log"!=self._opts.validateSchema)throw new Error(message);self.logger.error(message)}}}var validate,compile=rule.definition.compile,inline=rule.definition.inline,macro=rule.definition.macro;if(compile)validate=compile.call(self,schema,parentSchema,it);else if(macro)validate=macro.call(self,schema,parentSchema,it),!1!==opts.validateSchema&&self.validateSchema(validate,!0);else if(inline)validate=inline.call(self,it,rule.keyword,schema,parentSchema);else if(!(validate=rule.definition.validate))return;if(void 0===validate)throw new Error('custom keyword "'+rule.keyword+'"failed to compile');var index=customRules.length;return customRules[index]=validate,{code:"customRule"+index,validate:validate}}}},function(module,exports,__webpack_require__){
/** @license URI.js v4.2.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
!function(exports){"use strict";function merge(){for(var _len=arguments.length,sets=Array(_len),_key=0;_key<_len;_key++)sets[_key]=arguments[_key];if(sets.length>1){sets[0]=sets[0].slice(0,-1);for(var xl=sets.length-1,x=1;x<xl;++x)sets[x]=sets[x].slice(1,-1);return sets[xl]=sets[xl].slice(1),sets.join("")}return sets[0]}function subexp(str){return"(?:"+str+")"}function typeOf(o){return void 0===o?"undefined":null===o?"null":Object.prototype.toString.call(o).split(" ").pop().split("]").shift().toLowerCase()}function toUpperCase(str){return str.toUpperCase()}function buildExps(isIRI){var HEXDIG$$=merge("[0-9]","[A-Fa-f]"),PCT_ENCODED$=subexp(subexp("%[EFef]"+HEXDIG$$+"%"+HEXDIG$$+HEXDIG$$+"%"+HEXDIG$$+HEXDIG$$)+"|"+subexp("%[89A-Fa-f]"+HEXDIG$$+"%"+HEXDIG$$+HEXDIG$$)+"|"+subexp("%"+HEXDIG$$+HEXDIG$$)),SUB_DELIMS$$="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",RESERVED$$=merge("[\\:\\/\\?\\#\\[\\]\\@]",SUB_DELIMS$$),UCSCHAR$$=isIRI?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",IPRIVATE$$=isIRI?"[\\uE000-\\uF8FF]":"[]",UNRESERVED$$=merge("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",UCSCHAR$$),SCHEME$=subexp("[A-Za-z]"+merge("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),USERINFO$=subexp(subexp(PCT_ENCODED$+"|"+merge(UNRESERVED$$,SUB_DELIMS$$,"[\\:]"))+"*"),DEC_OCTET_RELAXED$=(subexp(subexp("25[0-5]")+"|"+subexp("2[0-4][0-9]")+"|"+subexp("1[0-9][0-9]")+"|"+subexp("[1-9][0-9]")+"|[0-9]"),subexp(subexp("25[0-5]")+"|"+subexp("2[0-4][0-9]")+"|"+subexp("1[0-9][0-9]")+"|"+subexp("0?[1-9][0-9]")+"|0?0?[0-9]")),IPV4ADDRESS$=subexp(DEC_OCTET_RELAXED$+"\\."+DEC_OCTET_RELAXED$+"\\."+DEC_OCTET_RELAXED$+"\\."+DEC_OCTET_RELAXED$),H16$=subexp(HEXDIG$$+"{1,4}"),LS32$=subexp(subexp(H16$+"\\:"+H16$)+"|"+IPV4ADDRESS$),IPV6ADDRESS1$=subexp(subexp(H16$+"\\:")+"{6}"+LS32$),IPV6ADDRESS2$=subexp("\\:\\:"+subexp(H16$+"\\:")+"{5}"+LS32$),IPV6ADDRESS3$=subexp(subexp(H16$)+"?\\:\\:"+subexp(H16$+"\\:")+"{4}"+LS32$),IPV6ADDRESS4$=subexp(subexp(subexp(H16$+"\\:")+"{0,1}"+H16$)+"?\\:\\:"+subexp(H16$+"\\:")+"{3}"+LS32$),IPV6ADDRESS5$=subexp(subexp(subexp(H16$+"\\:")+"{0,2}"+H16$)+"?\\:\\:"+subexp(H16$+"\\:")+"{2}"+LS32$),IPV6ADDRESS6$=subexp(subexp(subexp(H16$+"\\:")+"{0,3}"+H16$)+"?\\:\\:"+H16$+"\\:"+LS32$),IPV6ADDRESS7$=subexp(subexp(subexp(H16$+"\\:")+"{0,4}"+H16$)+"?\\:\\:"+LS32$),IPV6ADDRESS8$=subexp(subexp(subexp(H16$+"\\:")+"{0,5}"+H16$)+"?\\:\\:"+H16$),IPV6ADDRESS9$=subexp(subexp(subexp(H16$+"\\:")+"{0,6}"+H16$)+"?\\:\\:"),IPV6ADDRESS$=subexp([IPV6ADDRESS1$,IPV6ADDRESS2$,IPV6ADDRESS3$,IPV6ADDRESS4$,IPV6ADDRESS5$,IPV6ADDRESS6$,IPV6ADDRESS7$,IPV6ADDRESS8$,IPV6ADDRESS9$].join("|")),ZONEID$=subexp(subexp(UNRESERVED$$+"|"+PCT_ENCODED$)+"+"),IPV6ADDRZ_RELAXED$=(subexp(IPV6ADDRESS$+"\\%25"+ZONEID$),subexp(IPV6ADDRESS$+subexp("\\%25|\\%(?!"+HEXDIG$$+"{2})")+ZONEID$)),IPVFUTURE$=subexp("[vV]"+HEXDIG$$+"+\\."+merge(UNRESERVED$$,SUB_DELIMS$$,"[\\:]")+"+"),IP_LITERAL$=subexp("\\["+subexp(IPV6ADDRZ_RELAXED$+"|"+IPV6ADDRESS$+"|"+IPVFUTURE$)+"\\]"),REG_NAME$=subexp(subexp(PCT_ENCODED$+"|"+merge(UNRESERVED$$,SUB_DELIMS$$))+"*"),HOST$=subexp(IP_LITERAL$+"|"+IPV4ADDRESS$+"(?!"+REG_NAME$+")|"+REG_NAME$),PORT$=subexp("[0-9]*"),AUTHORITY$=subexp(subexp(USERINFO$+"@")+"?"+HOST$+subexp("\\:"+PORT$)+"?"),PCHAR$=subexp(PCT_ENCODED$+"|"+merge(UNRESERVED$$,SUB_DELIMS$$,"[\\:\\@]")),SEGMENT$=subexp(PCHAR$+"*"),SEGMENT_NZ$=subexp(PCHAR$+"+"),SEGMENT_NZ_NC$=subexp(subexp(PCT_ENCODED$+"|"+merge(UNRESERVED$$,SUB_DELIMS$$,"[\\@]"))+"+"),PATH_ABEMPTY$=subexp(subexp("\\/"+SEGMENT$)+"*"),PATH_ABSOLUTE$=subexp("\\/"+subexp(SEGMENT_NZ$+PATH_ABEMPTY$)+"?"),PATH_NOSCHEME$=subexp(SEGMENT_NZ_NC$+PATH_ABEMPTY$),PATH_ROOTLESS$=subexp(SEGMENT_NZ$+PATH_ABEMPTY$),PATH_EMPTY$="(?!"+PCHAR$+")",QUERY$=(subexp(PATH_ABEMPTY$+"|"+PATH_ABSOLUTE$+"|"+PATH_NOSCHEME$+"|"+PATH_ROOTLESS$+"|"+PATH_EMPTY$),subexp(subexp(PCHAR$+"|"+merge("[\\/\\?]",IPRIVATE$$))+"*")),FRAGMENT$=subexp(subexp(PCHAR$+"|[\\/\\?]")+"*"),HIER_PART$=subexp(subexp("\\/\\/"+AUTHORITY$+PATH_ABEMPTY$)+"|"+PATH_ABSOLUTE$+"|"+PATH_ROOTLESS$+"|"+PATH_EMPTY$),URI$=subexp(SCHEME$+"\\:"+HIER_PART$+subexp("\\?"+QUERY$)+"?"+subexp("\\#"+FRAGMENT$)+"?"),RELATIVE_PART$=subexp(subexp("\\/\\/"+AUTHORITY$+PATH_ABEMPTY$)+"|"+PATH_ABSOLUTE$+"|"+PATH_NOSCHEME$+"|"+PATH_EMPTY$),RELATIVE$=subexp(RELATIVE_PART$+subexp("\\?"+QUERY$)+"?"+subexp("\\#"+FRAGMENT$)+"?");return subexp(URI$+"|"+RELATIVE$),subexp(SCHEME$+"\\:"+HIER_PART$+subexp("\\?"+QUERY$)+"?"),subexp(subexp("\\/\\/("+subexp("("+USERINFO$+")@")+"?("+HOST$+")"+subexp("\\:("+PORT$+")")+"?)")+"?("+PATH_ABEMPTY$+"|"+PATH_ABSOLUTE$+"|"+PATH_ROOTLESS$+"|"+PATH_EMPTY$+")"),subexp("\\?("+QUERY$+")"),subexp("\\#("+FRAGMENT$+")"),subexp(subexp("\\/\\/("+subexp("("+USERINFO$+")@")+"?("+HOST$+")"+subexp("\\:("+PORT$+")")+"?)")+"?("+PATH_ABEMPTY$+"|"+PATH_ABSOLUTE$+"|"+PATH_NOSCHEME$+"|"+PATH_EMPTY$+")"),subexp("\\?("+QUERY$+")"),subexp("\\#("+FRAGMENT$+")"),subexp(subexp("\\/\\/("+subexp("("+USERINFO$+")@")+"?("+HOST$+")"+subexp("\\:("+PORT$+")")+"?)")+"?("+PATH_ABEMPTY$+"|"+PATH_ABSOLUTE$+"|"+PATH_ROOTLESS$+"|"+PATH_EMPTY$+")"),subexp("\\?("+QUERY$+")"),subexp("\\#("+FRAGMENT$+")"),subexp("("+USERINFO$+")@"),subexp("\\:("+PORT$+")"),{NOT_SCHEME:new RegExp(merge("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(merge("[^\\%\\:]",UNRESERVED$$,SUB_DELIMS$$),"g"),NOT_HOST:new RegExp(merge("[^\\%\\[\\]\\:]",UNRESERVED$$,SUB_DELIMS$$),"g"),NOT_PATH:new RegExp(merge("[^\\%\\/\\:\\@]",UNRESERVED$$,SUB_DELIMS$$),"g"),NOT_PATH_NOSCHEME:new RegExp(merge("[^\\%\\/\\@]",UNRESERVED$$,SUB_DELIMS$$),"g"),NOT_QUERY:new RegExp(merge("[^\\%]",UNRESERVED$$,SUB_DELIMS$$,"[\\:\\@\\/\\?]",IPRIVATE$$),"g"),NOT_FRAGMENT:new RegExp(merge("[^\\%]",UNRESERVED$$,SUB_DELIMS$$,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(merge("[^]",UNRESERVED$$,SUB_DELIMS$$),"g"),UNRESERVED:new RegExp(UNRESERVED$$,"g"),OTHER_CHARS:new RegExp(merge("[^\\%]",UNRESERVED$$,RESERVED$$),"g"),PCT_ENCODED:new RegExp(PCT_ENCODED$,"g"),IPV4ADDRESS:new RegExp("^("+IPV4ADDRESS$+")$"),IPV6ADDRESS:new RegExp("^\\[?("+IPV6ADDRESS$+")"+subexp(subexp("\\%25|\\%(?!"+HEXDIG$$+"{2})")+"("+ZONEID$+")")+"?\\]?$")}}var URI_PROTOCOL=buildExps(!1),IRI_PROTOCOL=buildExps(!0),slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")},maxInt=2147483647,regexPunycode=/^xn--/,regexNonASCII=/[^\0-\x7E]/,regexSeparators=/[\x2E\u3002\uFF0E\uFF61]/g,errors={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},floor=Math.floor,stringFromCharCode=String.fromCharCode;function error$1(type){throw new RangeError(errors[type])}function mapDomain(string,fn){var parts=string.split("@"),result="";parts.length>1&&(result=parts[0]+"@",string=parts[1]);var labels=(string=string.replace(regexSeparators,".")).split("."),encoded=function(array,fn){for(var result=[],length=array.length;length--;)result[length]=fn(array[length]);return result}(labels,fn).join(".");return result+encoded}function ucs2decode(string){for(var output=[],counter=0,length=string.length;counter<length;){var value=string.charCodeAt(counter++);if(value>=55296&&value<=56319&&counter<length){var extra=string.charCodeAt(counter++);56320==(64512&extra)?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--)}else output.push(value)}return output}var digitToBasic=function(digit,flag){return digit+22+75*(digit<26)-((0!=flag)<<5)},adapt=function(delta,numPoints,firstTime){var k=0;for(delta=firstTime?floor(delta/700):delta>>1,delta+=floor(delta/numPoints);delta>455;k+=36)delta=floor(delta/35);return floor(k+36*delta/(delta+38))},decode=function(input){var codePoint,output=[],inputLength=input.length,i=0,n=128,bias=72,basic=input.lastIndexOf("-");basic<0&&(basic=0);for(var j=0;j<basic;++j)input.charCodeAt(j)>=128&&error$1("not-basic"),output.push(input.charCodeAt(j));for(var index=basic>0?basic+1:0;index<inputLength;){for(var oldi=i,w=1,k=36;;k+=36){index>=inputLength&&error$1("invalid-input");var digit=(codePoint=input.charCodeAt(index++))-48<10?codePoint-22:codePoint-65<26?codePoint-65:codePoint-97<26?codePoint-97:36;(digit>=36||digit>floor((maxInt-i)/w))&&error$1("overflow"),i+=digit*w;var t=k<=bias?1:k>=bias+26?26:k-bias;if(digit<t)break;var baseMinusT=36-t;w>floor(maxInt/baseMinusT)&&error$1("overflow"),w*=baseMinusT}var out=output.length+1;bias=adapt(i-oldi,out,0==oldi),floor(i/out)>maxInt-n&&error$1("overflow"),n+=floor(i/out),i%=out,output.splice(i++,0,n)}return String.fromCodePoint.apply(String,output)},encode=function(input){var output=[],inputLength=(input=ucs2decode(input)).length,n=128,delta=0,bias=72,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=input[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var _currentValue2=_step.value;_currentValue2<128&&output.push(stringFromCharCode(_currentValue2))}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}var basicLength=output.length,handledCPCount=basicLength;for(basicLength&&output.push("-");handledCPCount<inputLength;){var m=maxInt,_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=input[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var currentValue=_step2.value;currentValue>=n&&currentValue<m&&(m=currentValue)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}var handledCPCountPlusOne=handledCPCount+1;m-n>floor((maxInt-delta)/handledCPCountPlusOne)&&error$1("overflow"),delta+=(m-n)*handledCPCountPlusOne,n=m;var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=input[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var _currentValue=_step3.value;if(_currentValue<n&&++delta>maxInt&&error$1("overflow"),_currentValue==n){for(var q=delta,k=36;;k+=36){var t=k<=bias?1:k>=bias+26?26:k-bias;if(q<t)break;var qMinusT=q-t,baseMinusT=36-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT,0))),q=floor(qMinusT/baseMinusT)}output.push(stringFromCharCode(digitToBasic(q,0))),bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength),delta=0,++handledCPCount}}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}++delta,++n}return output.join("")},punycode={version:"2.1.0",ucs2:{decode:ucs2decode,encode:function(array){return String.fromCodePoint.apply(String,function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}(array))}},decode:decode,encode:encode,toASCII:function(input){return mapDomain(input,function(string){return regexNonASCII.test(string)?"xn--"+encode(string):string})},toUnicode:function(input){return mapDomain(input,function(string){return regexPunycode.test(string)?decode(string.slice(4).toLowerCase()):string})}},SCHEMES={};function pctEncChar(chr){var c=chr.charCodeAt(0);return c<16?"%0"+c.toString(16).toUpperCase():c<128?"%"+c.toString(16).toUpperCase():c<2048?"%"+(c>>6|192).toString(16).toUpperCase()+"%"+(63&c|128).toString(16).toUpperCase():"%"+(c>>12|224).toString(16).toUpperCase()+"%"+(c>>6&63|128).toString(16).toUpperCase()+"%"+(63&c|128).toString(16).toUpperCase()}function pctDecChars(str){for(var newStr="",i=0,il=str.length;i<il;){var c=parseInt(str.substr(i+1,2),16);if(c<128)newStr+=String.fromCharCode(c),i+=3;else if(c>=194&&c<224){if(il-i>=6){var c2=parseInt(str.substr(i+4,2),16);newStr+=String.fromCharCode((31&c)<<6|63&c2)}else newStr+=str.substr(i,6);i+=6}else if(c>=224){if(il-i>=9){var _c=parseInt(str.substr(i+4,2),16),c3=parseInt(str.substr(i+7,2),16);newStr+=String.fromCharCode((15&c)<<12|(63&_c)<<6|63&c3)}else newStr+=str.substr(i,9);i+=9}else newStr+=str.substr(i,3),i+=3}return newStr}function _normalizeComponentEncoding(components,protocol){function decodeUnreserved(str){var decStr=pctDecChars(str);return decStr.match(protocol.UNRESERVED)?decStr:str}return components.scheme&&(components.scheme=String(components.scheme).replace(protocol.PCT_ENCODED,decodeUnreserved).toLowerCase().replace(protocol.NOT_SCHEME,"")),void 0!==components.userinfo&&(components.userinfo=String(components.userinfo).replace(protocol.PCT_ENCODED,decodeUnreserved).replace(protocol.NOT_USERINFO,pctEncChar).replace(protocol.PCT_ENCODED,toUpperCase)),void 0!==components.host&&(components.host=String(components.host).replace(protocol.PCT_ENCODED,decodeUnreserved).toLowerCase().replace(protocol.NOT_HOST,pctEncChar).replace(protocol.PCT_ENCODED,toUpperCase)),void 0!==components.path&&(components.path=String(components.path).replace(protocol.PCT_ENCODED,decodeUnreserved).replace(components.scheme?protocol.NOT_PATH:protocol.NOT_PATH_NOSCHEME,pctEncChar).replace(protocol.PCT_ENCODED,toUpperCase)),void 0!==components.query&&(components.query=String(components.query).replace(protocol.PCT_ENCODED,decodeUnreserved).replace(protocol.NOT_QUERY,pctEncChar).replace(protocol.PCT_ENCODED,toUpperCase)),void 0!==components.fragment&&(components.fragment=String(components.fragment).replace(protocol.PCT_ENCODED,decodeUnreserved).replace(protocol.NOT_FRAGMENT,pctEncChar).replace(protocol.PCT_ENCODED,toUpperCase)),components}function _stripLeadingZeros(str){return str.replace(/^0*(.*)/,"$1")||"0"}function _normalizeIPv4(host,protocol){var matches=host.match(protocol.IPV4ADDRESS)||[],_matches=slicedToArray(matches,2),address=_matches[1];return address?address.split(".").map(_stripLeadingZeros).join("."):host}function _normalizeIPv6(host,protocol){var matches=host.match(protocol.IPV6ADDRESS)||[],_matches2=slicedToArray(matches,3),address=_matches2[1],zone=_matches2[2];if(address){for(var _address$toLowerCase$=address.toLowerCase().split("::").reverse(),_address$toLowerCase$2=slicedToArray(_address$toLowerCase$,2),last=_address$toLowerCase$2[0],first=_address$toLowerCase$2[1],firstFields=first?first.split(":").map(_stripLeadingZeros):[],lastFields=last.split(":").map(_stripLeadingZeros),isLastFieldIPv4Address=protocol.IPV4ADDRESS.test(lastFields[lastFields.length-1]),fieldCount=isLastFieldIPv4Address?7:8,lastFieldsStart=lastFields.length-fieldCount,fields=Array(fieldCount),x=0;x<fieldCount;++x)fields[x]=firstFields[x]||lastFields[lastFieldsStart+x]||"";isLastFieldIPv4Address&&(fields[fieldCount-1]=_normalizeIPv4(fields[fieldCount-1],protocol));var allZeroFields=fields.reduce(function(acc,field,index){if(!field||"0"===field){var lastLongest=acc[acc.length-1];lastLongest&&lastLongest.index+lastLongest.length===index?lastLongest.length++:acc.push({index:index,length:1})}return acc},[]),longestZeroFields=allZeroFields.sort(function(a,b){return b.length-a.length})[0],newHost=void 0;if(longestZeroFields&&longestZeroFields.length>1){var newFirst=fields.slice(0,longestZeroFields.index),newLast=fields.slice(longestZeroFields.index+longestZeroFields.length);newHost=newFirst.join(":")+"::"+newLast.join(":")}else newHost=fields.join(":");return zone&&(newHost+="%"+zone),newHost}return host}var URI_PARSE=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,NO_MATCH_IS_UNDEFINED=void 0==="".match(/(){0}/)[1];function parse(uriString){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},components={},protocol=!1!==options.iri?IRI_PROTOCOL:URI_PROTOCOL;"suffix"===options.reference&&(uriString=(options.scheme?options.scheme+":":"")+"//"+uriString);var matches=uriString.match(URI_PARSE);if(matches){NO_MATCH_IS_UNDEFINED?(components.scheme=matches[1],components.userinfo=matches[3],components.host=matches[4],components.port=parseInt(matches[5],10),components.path=matches[6]||"",components.query=matches[7],components.fragment=matches[8],isNaN(components.port)&&(components.port=matches[5])):(components.scheme=matches[1]||void 0,components.userinfo=-1!==uriString.indexOf("@")?matches[3]:void 0,components.host=-1!==uriString.indexOf("//")?matches[4]:void 0,components.port=parseInt(matches[5],10),components.path=matches[6]||"",components.query=-1!==uriString.indexOf("?")?matches[7]:void 0,components.fragment=-1!==uriString.indexOf("#")?matches[8]:void 0,isNaN(components.port)&&(components.port=uriString.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?matches[4]:void 0)),components.host&&(components.host=_normalizeIPv6(_normalizeIPv4(components.host,protocol),protocol)),void 0!==components.scheme||void 0!==components.userinfo||void 0!==components.host||void 0!==components.port||components.path||void 0!==components.query?void 0===components.scheme?components.reference="relative":void 0===components.fragment?components.reference="absolute":components.reference="uri":components.reference="same-document",options.reference&&"suffix"!==options.reference&&options.reference!==components.reference&&(components.error=components.error||"URI is not a "+options.reference+" reference.");var schemeHandler=SCHEMES[(options.scheme||components.scheme||"").toLowerCase()];if(options.unicodeSupport||schemeHandler&&schemeHandler.unicodeSupport)_normalizeComponentEncoding(components,protocol);else{if(components.host&&(options.domainHost||schemeHandler&&schemeHandler.domainHost))try{components.host=punycode.toASCII(components.host.replace(protocol.PCT_ENCODED,pctDecChars).toLowerCase())}catch(e){components.error=components.error||"Host's domain name can not be converted to ASCII via punycode: "+e}_normalizeComponentEncoding(components,URI_PROTOCOL)}schemeHandler&&schemeHandler.parse&&schemeHandler.parse(components,options)}else components.error=components.error||"URI can not be parsed.";return components}var RDS1=/^\.\.?\//,RDS2=/^\/\.(\/|$)/,RDS3=/^\/\.\.(\/|$)/,RDS5=/^\/?(?:.|\n)*?(?=\/|$)/;function removeDotSegments(input){for(var output=[];input.length;)if(input.match(RDS1))input=input.replace(RDS1,"");else if(input.match(RDS2))input=input.replace(RDS2,"/");else if(input.match(RDS3))input=input.replace(RDS3,"/"),output.pop();else if("."===input||".."===input)input="";else{var im=input.match(RDS5);if(!im)throw new Error("Unexpected dot segment condition");var s=im[0];input=input.slice(s.length),output.push(s)}return output.join("")}function serialize(components){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},protocol=options.iri?IRI_PROTOCOL:URI_PROTOCOL,uriTokens=[],schemeHandler=SCHEMES[(options.scheme||components.scheme||"").toLowerCase()];if(schemeHandler&&schemeHandler.serialize&&schemeHandler.serialize(components,options),components.host)if(protocol.IPV6ADDRESS.test(components.host));else if(options.domainHost||schemeHandler&&schemeHandler.domainHost)try{components.host=options.iri?punycode.toUnicode(components.host):punycode.toASCII(components.host.replace(protocol.PCT_ENCODED,pctDecChars).toLowerCase())}catch(e){components.error=components.error||"Host's domain name can not be converted to "+(options.iri?"Unicode":"ASCII")+" via punycode: "+e}_normalizeComponentEncoding(components,protocol),"suffix"!==options.reference&&components.scheme&&(uriTokens.push(components.scheme),uriTokens.push(":"));var authority=function(components,options){var protocol=!1!==options.iri?IRI_PROTOCOL:URI_PROTOCOL,uriTokens=[];return void 0!==components.userinfo&&(uriTokens.push(components.userinfo),uriTokens.push("@")),void 0!==components.host&&uriTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host),protocol),protocol).replace(protocol.IPV6ADDRESS,function(_,$1,$2){return"["+$1+($2?"%25"+$2:"")+"]"})),"number"==typeof components.port&&(uriTokens.push(":"),uriTokens.push(components.port.toString(10))),uriTokens.length?uriTokens.join(""):void 0}(components,options);if(void 0!==authority&&("suffix"!==options.reference&&uriTokens.push("//"),uriTokens.push(authority),components.path&&"/"!==components.path.charAt(0)&&uriTokens.push("/")),void 0!==components.path){var s=components.path;options.absolutePath||schemeHandler&&schemeHandler.absolutePath||(s=removeDotSegments(s)),void 0===authority&&(s=s.replace(/^\/\//,"/%2F")),uriTokens.push(s)}return void 0!==components.query&&(uriTokens.push("?"),uriTokens.push(components.query)),void 0!==components.fragment&&(uriTokens.push("#"),uriTokens.push(components.fragment)),uriTokens.join("")}function resolveComponents(base,relative){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},skipNormalization=arguments[3],target={};return skipNormalization||(base=parse(serialize(base,options),options),relative=parse(serialize(relative,options),options)),!(options=options||{}).tolerant&&relative.scheme?(target.scheme=relative.scheme,target.userinfo=relative.userinfo,target.host=relative.host,target.port=relative.port,target.path=removeDotSegments(relative.path||""),target.query=relative.query):(void 0!==relative.userinfo||void 0!==relative.host||void 0!==relative.port?(target.userinfo=relative.userinfo,target.host=relative.host,target.port=relative.port,target.path=removeDotSegments(relative.path||""),target.query=relative.query):(relative.path?("/"===relative.path.charAt(0)?target.path=removeDotSegments(relative.path):(void 0===base.userinfo&&void 0===base.host&&void 0===base.port||base.path?base.path?target.path=base.path.slice(0,base.path.lastIndexOf("/")+1)+relative.path:target.path=relative.path:target.path="/"+relative.path,target.path=removeDotSegments(target.path)),target.query=relative.query):(target.path=base.path,void 0!==relative.query?target.query=relative.query:target.query=base.query),target.userinfo=base.userinfo,target.host=base.host,target.port=base.port),target.scheme=base.scheme),target.fragment=relative.fragment,target}function unescapeComponent(str,options){return str&&str.toString().replace(options&&options.iri?IRI_PROTOCOL.PCT_ENCODED:URI_PROTOCOL.PCT_ENCODED,pctDecChars)}var handler={scheme:"http",domainHost:!0,parse:function(components,options){return components.host||(components.error=components.error||"HTTP URIs must have a host."),components},serialize:function(components,options){return components.port!==("https"!==String(components.scheme).toLowerCase()?80:443)&&""!==components.port||(components.port=void 0),components.path||(components.path="/"),components}},handler$1={scheme:"https",domainHost:handler.domainHost,parse:handler.parse,serialize:handler.serialize},O={},UNRESERVED$$="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",HEXDIG$$="[0-9A-Fa-f]",PCT_ENCODED$=subexp(subexp("%[EFef][0-9A-Fa-f]%"+HEXDIG$$+HEXDIG$$+"%"+HEXDIG$$+HEXDIG$$)+"|"+subexp("%[89A-Fa-f][0-9A-Fa-f]%"+HEXDIG$$+HEXDIG$$)+"|"+subexp("%"+HEXDIG$$+HEXDIG$$)),VCHAR$$=merge("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),UNRESERVED=new RegExp(UNRESERVED$$,"g"),PCT_ENCODED=new RegExp(PCT_ENCODED$,"g"),NOT_LOCAL_PART=new RegExp(merge("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',VCHAR$$),"g"),NOT_HFNAME=new RegExp(merge("[^]",UNRESERVED$$,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),NOT_HFVALUE=NOT_HFNAME;function decodeUnreserved(str){var decStr=pctDecChars(str);return decStr.match(UNRESERVED)?decStr:str}var handler$2={scheme:"mailto",parse:function(components,options){var mailtoComponents=components,to=mailtoComponents.to=mailtoComponents.path?mailtoComponents.path.split(","):[];if(mailtoComponents.path=void 0,mailtoComponents.query){for(var unknownHeaders=!1,headers={},hfields=mailtoComponents.query.split("&"),x=0,xl=hfields.length;x<xl;++x){var hfield=hfields[x].split("=");switch(hfield[0]){case"to":for(var toAddrs=hfield[1].split(","),_x=0,_xl=toAddrs.length;_x<_xl;++_x)to.push(toAddrs[_x]);break;case"subject":mailtoComponents.subject=unescapeComponent(hfield[1],options);break;case"body":mailtoComponents.body=unescapeComponent(hfield[1],options);break;default:unknownHeaders=!0,headers[unescapeComponent(hfield[0],options)]=unescapeComponent(hfield[1],options)}}unknownHeaders&&(mailtoComponents.headers=headers)}mailtoComponents.query=void 0;for(var _x2=0,_xl2=to.length;_x2<_xl2;++_x2){var addr=to[_x2].split("@");if(addr[0]=unescapeComponent(addr[0]),options.unicodeSupport)addr[1]=unescapeComponent(addr[1],options).toLowerCase();else try{addr[1]=punycode.toASCII(unescapeComponent(addr[1],options).toLowerCase())}catch(e){mailtoComponents.error=mailtoComponents.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}to[_x2]=addr.join("@")}return mailtoComponents},serialize:function(mailtoComponents,options){var obj,components=mailtoComponents,to=null!=(obj=mailtoComponents.to)?obj instanceof Array?obj:"number"!=typeof obj.length||obj.split||obj.setInterval||obj.call?[obj]:Array.prototype.slice.call(obj):[];if(to){for(var x=0,xl=to.length;x<xl;++x){var toAddr=String(to[x]),atIdx=toAddr.lastIndexOf("@"),localPart=toAddr.slice(0,atIdx).replace(PCT_ENCODED,decodeUnreserved).replace(PCT_ENCODED,toUpperCase).replace(NOT_LOCAL_PART,pctEncChar),domain=toAddr.slice(atIdx+1);try{domain=options.iri?punycode.toUnicode(domain):punycode.toASCII(unescapeComponent(domain,options).toLowerCase())}catch(e){components.error=components.error||"Email address's domain name can not be converted to "+(options.iri?"Unicode":"ASCII")+" via punycode: "+e}to[x]=localPart+"@"+domain}components.path=to.join(",")}var headers=mailtoComponents.headers=mailtoComponents.headers||{};mailtoComponents.subject&&(headers.subject=mailtoComponents.subject),mailtoComponents.body&&(headers.body=mailtoComponents.body);var fields=[];for(var name in headers)headers[name]!==O[name]&&fields.push(name.replace(PCT_ENCODED,decodeUnreserved).replace(PCT_ENCODED,toUpperCase).replace(NOT_HFNAME,pctEncChar)+"="+headers[name].replace(PCT_ENCODED,decodeUnreserved).replace(PCT_ENCODED,toUpperCase).replace(NOT_HFVALUE,pctEncChar));return fields.length&&(components.query=fields.join("&")),components}},URN_PARSE=/^([^\:]+)\:(.*)/,handler$3={scheme:"urn",parse:function(components,options){var matches=components.path&&components.path.match(URN_PARSE),urnComponents=components;if(matches){var scheme=options.scheme||urnComponents.scheme||"urn",nid=matches[1].toLowerCase(),nss=matches[2],urnScheme=scheme+":"+(options.nid||nid),schemeHandler=SCHEMES[urnScheme];urnComponents.nid=nid,urnComponents.nss=nss,urnComponents.path=void 0,schemeHandler&&(urnComponents=schemeHandler.parse(urnComponents,options))}else urnComponents.error=urnComponents.error||"URN can not be parsed.";return urnComponents},serialize:function(urnComponents,options){var scheme=options.scheme||urnComponents.scheme||"urn",nid=urnComponents.nid,urnScheme=scheme+":"+(options.nid||nid),schemeHandler=SCHEMES[urnScheme];schemeHandler&&(urnComponents=schemeHandler.serialize(urnComponents,options));var uriComponents=urnComponents,nss=urnComponents.nss;return uriComponents.path=(nid||options.nid)+":"+nss,uriComponents}},UUID=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,handler$4={scheme:"urn:uuid",parse:function(urnComponents,options){var uuidComponents=urnComponents;return uuidComponents.uuid=uuidComponents.nss,uuidComponents.nss=void 0,options.tolerant||uuidComponents.uuid&&uuidComponents.uuid.match(UUID)||(uuidComponents.error=uuidComponents.error||"UUID is not valid."),uuidComponents},serialize:function(uuidComponents,options){var urnComponents=uuidComponents;return urnComponents.nss=(uuidComponents.uuid||"").toLowerCase(),urnComponents}};SCHEMES[handler.scheme]=handler,SCHEMES[handler$1.scheme]=handler$1,SCHEMES[handler$2.scheme]=handler$2,SCHEMES[handler$3.scheme]=handler$3,SCHEMES[handler$4.scheme]=handler$4,exports.SCHEMES=SCHEMES,exports.pctEncChar=pctEncChar,exports.pctDecChars=pctDecChars,exports.parse=parse,exports.removeDotSegments=removeDotSegments,exports.serialize=serialize,exports.resolveComponents=resolveComponents,exports.resolve=function(baseURI,relativeURI,options){var schemelessOptions=function(target,source){var obj=target;if(source)for(var key in source)obj[key]=source[key];return obj}({scheme:"null"},options);return serialize(resolveComponents(parse(baseURI,schemelessOptions),parse(relativeURI,schemelessOptions),schemelessOptions,!0),schemelessOptions)},exports.normalize=function(uri,options){return"string"==typeof uri?uri=serialize(parse(uri,options),options):"object"===typeOf(uri)&&(uri=parse(serialize(uri,options),options)),uri},exports.equal=function(uriA,uriB,options){return"string"==typeof uriA?uriA=serialize(parse(uriA,options),options):"object"===typeOf(uriA)&&(uriA=serialize(uriA,options)),"string"==typeof uriB?uriB=serialize(parse(uriB,options),options):"object"===typeOf(uriB)&&(uriB=serialize(uriB,options)),uriA===uriB},exports.escapeComponent=function(str,options){return str&&str.toString().replace(options&&options.iri?IRI_PROTOCOL.ESCAPE:URI_PROTOCOL.ESCAPE,pctEncChar)},exports.unescapeComponent=unescapeComponent,Object.defineProperty(exports,"__esModule",{value:!0})}(exports)},function(module,exports,__webpack_require__){"use strict";module.exports=function(str){for(var value,length=0,len=str.length,pos=0;pos<len;)length++,(value=str.charCodeAt(pos++))>=55296&&value<=56319&&pos<len&&56320==(64512&(value=str.charCodeAt(pos)))&&pos++;return length}},function(module,exports,__webpack_require__){"use strict";var traverse=module.exports=function(schema,opts,cb){"function"==typeof opts&&(cb=opts,opts={}),function _traverse(opts,pre,post,schema,jsonPtr,rootSchema,parentJsonPtr,parentKeyword,parentSchema,keyIndex){if(schema&&"object"==typeof schema&&!Array.isArray(schema)){for(var key in pre(schema,jsonPtr,rootSchema,parentJsonPtr,parentKeyword,parentSchema,keyIndex),schema){var sch=schema[key];if(Array.isArray(sch)){if(key in traverse.arrayKeywords)for(var i=0;i<sch.length;i++)_traverse(opts,pre,post,sch[i],jsonPtr+"/"+key+"/"+i,rootSchema,jsonPtr,key,schema,i)}else if(key in traverse.propsKeywords){if(sch&&"object"==typeof sch)for(var prop in sch)_traverse(opts,pre,post,sch[prop],jsonPtr+"/"+key+"/"+prop.replace(/~/g,"~0").replace(/\//g,"~1"),rootSchema,jsonPtr,key,schema,prop)}else(key in traverse.keywords||opts.allKeys&&!(key in traverse.skipKeywords))&&_traverse(opts,pre,post,sch,jsonPtr+"/"+key,rootSchema,jsonPtr,key,schema)}post(schema,jsonPtr,rootSchema,parentJsonPtr,parentKeyword,parentSchema,keyIndex)}}(opts,"function"==typeof(cb=opts.cb||cb)?cb:cb.pre||function(){},cb.post||function(){},schema,"",schema)};traverse.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},traverse.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},traverse.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},traverse.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},function(module,exports,__webpack_require__){"use strict";var Cache=module.exports=function(){this._cache={}};Cache.prototype.put=function(key,value){this._cache[key]=value},Cache.prototype.get=function(key){return this._cache[key]},Cache.prototype.del=function(key){delete this._cache[key]},Cache.prototype.clear=function(){this._cache={}}},function(module,exports,__webpack_require__){"use strict";var util=__webpack_require__(196),DATE=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,DAYS=[0,31,28,31,30,31,30,31,31,30,31,30,31],TIME=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,HOSTNAME=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,URI=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,URITEMPLATE=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#.\/;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,URL=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,UUID=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,JSON_POINTER=/^(?:\/(?:[^~\/]|~0|~1)*)*$/,JSON_POINTER_URI_FRAGMENT=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,RELATIVE_JSON_POINTER=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~\/]|~0|~1)*)*)$/;function formats(mode){return mode="full"==mode?"full":"fast",util.copy(formats[mode])}function date(str){var matches=str.match(DATE);if(!matches)return!1;var year=+matches[1],month=+matches[2],day=+matches[3];return month>=1&&month<=12&&day>=1&&day<=(2==month&&function(year){return year%4==0&&(year%100!=0||year%400==0)}(year)?29:DAYS[month])}function time(str,full){var matches=str.match(TIME);if(!matches)return!1;var hour=matches[1],minute=matches[2],second=matches[3],timeZone=matches[5];return(hour<=23&&minute<=59&&second<=59||23==hour&&59==minute&&60==second)&&(!full||timeZone)}module.exports=formats,formats.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":URITEMPLATE,url:URL,email:/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:HOSTNAME,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:regex,uuid:UUID,"json-pointer":JSON_POINTER,"json-pointer-uri-fragment":JSON_POINTER_URI_FRAGMENT,"relative-json-pointer":RELATIVE_JSON_POINTER},formats.full={date:date,time:time,"date-time":function(str){var dateTime=str.split(DATE_TIME_SEPARATOR);return 2==dateTime.length&&date(dateTime[0])&&time(dateTime[1],!0)},uri:function(str){return NOT_URI_FRAGMENT.test(str)&&URI.test(str)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,"uri-template":URITEMPLATE,url:URL,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:function(str){return str.length<=255&&HOSTNAME.test(str)},ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:regex,uuid:UUID,"json-pointer":JSON_POINTER,"json-pointer-uri-fragment":JSON_POINTER_URI_FRAGMENT,"relative-json-pointer":RELATIVE_JSON_POINTER};var DATE_TIME_SEPARATOR=/t|\s/i;var NOT_URI_FRAGMENT=/\/|:/;var Z_ANCHOR=/[^\\]\\Z/;function regex(str){if(Z_ANCHOR.test(str))return!1;try{return new RegExp(str),!0}catch(e){return!1}}},function(module,exports,__webpack_require__){"use strict";var ruleModules=__webpack_require__(997),toHash=__webpack_require__(196).toHash;module.exports=function(){var RULES=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],ALL=["type","$comment"];return RULES.all=toHash(ALL),RULES.types=toHash(["number","integer","string","array","object","boolean","null"]),RULES.forEach(function(group){group.rules=group.rules.map(function(keyword){var implKeywords;if("object"==typeof keyword){var key=Object.keys(keyword)[0];implKeywords=keyword[key],keyword=key,implKeywords.forEach(function(k){ALL.push(k),RULES.all[k]=!0})}return ALL.push(keyword),RULES.all[keyword]={keyword:keyword,code:ruleModules[keyword],implements:implKeywords}}),RULES.all.$comment={keyword:"$comment",code:ruleModules.$comment},group.type&&(RULES.types[group.type]=group)}),RULES.keywords=toHash(ALL.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),RULES.custom={},RULES}},function(module,exports,__webpack_require__){"use strict";module.exports={$ref:__webpack_require__(998),allOf:__webpack_require__(999),anyOf:__webpack_require__(1e3),$comment:__webpack_require__(1001),const:__webpack_require__(1002),contains:__webpack_require__(1003),dependencies:__webpack_require__(1004),enum:__webpack_require__(1005),format:__webpack_require__(1006),if:__webpack_require__(1007),items:__webpack_require__(1008),maximum:__webpack_require__(818),minimum:__webpack_require__(818),maxItems:__webpack_require__(819),minItems:__webpack_require__(819),maxLength:__webpack_require__(820),minLength:__webpack_require__(820),maxProperties:__webpack_require__(821),minProperties:__webpack_require__(821),multipleOf:__webpack_require__(1009),not:__webpack_require__(1010),oneOf:__webpack_require__(1011),pattern:__webpack_require__(1012),properties:__webpack_require__(1013),propertyNames:__webpack_require__(1014),required:__webpack_require__(1015),uniqueItems:__webpack_require__(1016),validate:__webpack_require__(817)}},function(module,exports,__webpack_require__){"use strict";module.exports=function(it,$keyword,$ruleType){var $async,$refCode,out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl;if("#"==$schema||"#/"==$schema)it.isRoot?($async=it.async,$refCode="validate"):($async=!0===it.root.schema.$async,$refCode="root.refVal[0]");else{var $refVal=it.resolveRef(it.baseId,$schema,it.isRoot);if(void 0===$refVal){var $message=it.MissingRefError.message(it.baseId,$schema);if("fail"==it.opts.missingRefs){it.logger.error($message),($$outStack=$$outStack||[]).push(out),out="",!1!==it.createErrors?(out+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { ref: '"+it.util.escapeQuotes($schema)+"' } ",!1!==it.opts.messages&&(out+=" , message: 'can\\'t resolve reference "+it.util.escapeQuotes($schema)+"' "),it.opts.verbose&&(out+=" , schema: "+it.util.toQuotedString($schema)+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",$breakOnError&&(out+=" if (false) { ")}else{if("ignore"!=it.opts.missingRefs)throw new it.MissingRefError(it.baseId,$schema,$message);it.logger.warn($message),$breakOnError&&(out+=" if (true) { ")}}else if($refVal.inline){var $it=it.util.copy(it);$it.level++;var $nextValid="valid"+$it.level;$it.schema=$refVal.schema,$it.schemaPath="",$it.errSchemaPath=$schema,out+=" "+it.validate($it).replace(/validate\.schema/g,$refVal.code)+" ",$breakOnError&&(out+=" if ("+$nextValid+") { ")}else $async=!0===$refVal.$async||it.async&&!1!==$refVal.$async,$refCode=$refVal.code}if($refCode){var $$outStack;($$outStack=$$outStack||[]).push(out),out="",it.opts.passContext?out+=" "+$refCode+".call(this, ":out+=" "+$refCode+"( ",out+=" "+$data+", (dataPath || '')",'""'!=it.errorPath&&(out+=" + "+it.errorPath);var __callValidate=out+=" , "+($dataLvl?"data"+($dataLvl-1||""):"parentData")+" , "+($dataLvl?it.dataPathArr[$dataLvl]:"parentDataProperty")+", rootData)  ";if(out=$$outStack.pop(),$async){if(!it.async)throw new Error("async schema referenced by sync schema");$breakOnError&&(out+=" var "+$valid+"; "),out+=" try { await "+__callValidate+"; ",$breakOnError&&(out+=" "+$valid+" = true; "),out+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",$breakOnError&&(out+=" "+$valid+" = false; "),out+=" } ",$breakOnError&&(out+=" if ("+$valid+") { ")}else out+=" if (!"+__callValidate+") { if (vErrors === null) vErrors = "+$refCode+".errors; else vErrors = vErrors.concat("+$refCode+".errors); errors = vErrors.length; } ",$breakOnError&&(out+=" else { ")}return out}},function(module,exports,__webpack_require__){"use strict";module.exports=function(it,$keyword,$ruleType){var out=" ",$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$it=it.util.copy(it),$closingBraces="";$it.level++;var $nextValid="valid"+$it.level,$currentBaseId=$it.baseId,$allSchemasEmpty=!0,arr1=$schema;if(arr1)for(var $sch,$i=-1,l1=arr1.length-1;$i<l1;)$sch=arr1[$i+=1],(it.opts.strictKeywords?"object"==typeof $sch&&Object.keys($sch).length>0:it.util.schemaHasRules($sch,it.RULES.all))&&($allSchemasEmpty=!1,$it.schema=$sch,$it.schemaPath=$schemaPath+"["+$i+"]",$it.errSchemaPath=$errSchemaPath+"/"+$i,out+="  "+it.validate($it)+" ",$it.baseId=$currentBaseId,$breakOnError&&(out+=" if ("+$nextValid+") { ",$closingBraces+="}"));return $breakOnError&&(out+=$allSchemasEmpty?" if (true) { ":" "+$closingBraces.slice(0,-1)+" "),out=it.util.cleanUpCode(out)}},function(module,exports,__webpack_require__){"use strict";module.exports=function(it,$keyword,$ruleType){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$errs="errs__"+$lvl,$it=it.util.copy(it),$closingBraces="";$it.level++;var $nextValid="valid"+$it.level;if($schema.every(function($sch){return it.opts.strictKeywords?"object"==typeof $sch&&Object.keys($sch).length>0:it.util.schemaHasRules($sch,it.RULES.all)})){var $currentBaseId=$it.baseId;out+=" var "+$errs+" = errors; var "+$valid+" = false;  ";var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=!0;var arr1=$schema;if(arr1)for(var $sch,$i=-1,l1=arr1.length-1;$i<l1;)$sch=arr1[$i+=1],$it.schema=$sch,$it.schemaPath=$schemaPath+"["+$i+"]",$it.errSchemaPath=$errSchemaPath+"/"+$i,out+="  "+it.validate($it)+" ",$it.baseId=$currentBaseId,out+=" "+$valid+" = "+$valid+" || "+$nextValid+"; if (!"+$valid+") { ",$closingBraces+="}";it.compositeRule=$it.compositeRule=$wasComposite,out+=" "+$closingBraces+" if (!"+$valid+") {   var err =   ",!1!==it.createErrors?(out+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ",!1!==it.opts.messages&&(out+=" , message: 'should match some schema in anyOf' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!it.compositeRule&&$breakOnError&&(it.async?out+=" throw new ValidationError(vErrors); ":out+=" validate.errors = vErrors; return false; "),out+=" } else {  errors = "+$errs+"; if (vErrors !== null) { if ("+$errs+") vErrors.length = "+$errs+"; else vErrors = null; } ",it.opts.allErrors&&(out+=" } "),out=it.util.cleanUpCode(out)}else $breakOnError&&(out+=" if (true) { ");return out}},function(module,exports,__webpack_require__){"use strict";module.exports=function(it,$keyword,$ruleType){var out=" ",$schema=it.schema[$keyword],$errSchemaPath=it.errSchemaPath+"/"+$keyword,$comment=(it.opts.allErrors,it.util.toQuotedString($schema));return!0===it.opts.$comment?out+=" console.log("+$comment+");":"function"==typeof it.opts.$comment&&(out+=" self._opts.$comment("+$comment+", "+it.util.toQuotedString($errSchemaPath)+", validate.root.schema);"),out}},function(module,exports,__webpack_require__){"use strict";module.exports=function(it,$keyword,$ruleType){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$isData=it.opts.$data&&$schema&&$schema.$data;$isData&&(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; "),$isData||(out+=" var schema"+$lvl+" = validate.schema"+$schemaPath+";"),out+="var "+$valid+" = equal("+$data+", schema"+$lvl+"); if (!"+$valid+") {   ";var $$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'const' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { allowedValue: schema"+$lvl+" } ",!1!==it.opts.messages&&(out+=" , message: 'should be equal to constant' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;return out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" }",$breakOnError&&(out+=" else { "),out}},function(module,exports,__webpack_require__){"use strict";module.exports=function(it,$keyword,$ruleType){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$errs="errs__"+$lvl,$it=it.util.copy(it);$it.level++;var $nextValid="valid"+$it.level,$idx="i"+$lvl,$dataNxt=$it.dataLevel=it.dataLevel+1,$nextData="data"+$dataNxt,$currentBaseId=it.baseId,$nonEmptySchema=it.opts.strictKeywords?"object"==typeof $schema&&Object.keys($schema).length>0:it.util.schemaHasRules($schema,it.RULES.all);if(out+="var "+$errs+" = errors;var "+$valid+";",$nonEmptySchema){var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=!0,$it.schema=$schema,$it.schemaPath=$schemaPath,$it.errSchemaPath=$errSchemaPath,out+=" var "+$nextValid+" = false; for (var "+$idx+" = 0; "+$idx+" < "+$data+".length; "+$idx+"++) { ",$it.errorPath=it.util.getPathExpr(it.errorPath,$idx,it.opts.jsonPointers,!0);var $passData=$data+"["+$idx+"]";$it.dataPathArr[$dataNxt]=$idx;var $code=it.validate($it);$it.baseId=$currentBaseId,it.util.varOccurences($code,$nextData)<2?out+=" "+it.util.varReplace($code,$nextData,$passData)+" ":out+=" var "+$nextData+" = "+$passData+"; "+$code+" ",out+=" if ("+$nextValid+") break; }  ",it.compositeRule=$it.compositeRule=$wasComposite,out+="  if (!"+$nextValid+") {"}else out+=" if ("+$data+".length == 0) {";var $$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ",!1!==it.opts.messages&&(out+=" , message: 'should contain a valid item' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;return out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } else { ",$nonEmptySchema&&(out+="  errors = "+$errs+"; if (vErrors !== null) { if ("+$errs+") vErrors.length = "+$errs+"; else vErrors = null; } "),it.opts.allErrors&&(out+=" } "),out=it.util.cleanUpCode(out)}},function(module,exports,__webpack_require__){"use strict";module.exports=function(it,$keyword,$ruleType){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$errs="errs__"+$lvl,$it=it.util.copy(it),$closingBraces="";$it.level++;var $nextValid="valid"+$it.level,$schemaDeps={},$propertyDeps={},$ownProperties=it.opts.ownProperties;for($property in $schema){var $sch=$schema[$property],$deps=Array.isArray($sch)?$propertyDeps:$schemaDeps;$deps[$property]=$sch}out+="var "+$errs+" = errors;";var $currentErrorPath=it.errorPath;for(var $property in out+="var missing"+$lvl+";",$propertyDeps)if(($deps=$propertyDeps[$property]).length){if(out+=" if ( "+$data+it.util.getProperty($property)+" !== undefined ",$ownProperties&&(out+=" && Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($property)+"') "),$breakOnError){out+=" && ( ";var arr1=$deps;if(arr1)for(var $i=-1,l1=arr1.length-1;$i<l1;){$propertyKey=arr1[$i+=1],$i&&(out+=" || "),out+=" ( ( "+($useData=$data+($prop=it.util.getProperty($propertyKey)))+" === undefined ",$ownProperties&&(out+=" || ! Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($propertyKey)+"') "),out+=") && (missing"+$lvl+" = "+it.util.toQuotedString(it.opts.jsonPointers?$propertyKey:$prop)+") ) "}out+=")) {  ";var $propertyPath="missing"+$lvl,$missingProperty="' + "+$propertyPath+" + '";it.opts._errorDataPathProperty&&(it.errorPath=it.opts.jsonPointers?it.util.getPathExpr($currentErrorPath,$propertyPath,!0):$currentErrorPath+" + "+$propertyPath);var $$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { property: '"+it.util.escapeQuotes($property)+"', missingProperty: '"+$missingProperty+"', depsCount: "+$deps.length+", deps: '"+it.util.escapeQuotes(1==$deps.length?$deps[0]:$deps.join(", "))+"' } ",!1!==it.opts.messages&&(out+=" , message: 'should have ",1==$deps.length?out+="property "+it.util.escapeQuotes($deps[0]):out+="properties "+it.util.escapeQuotes($deps.join(", ")),out+=" when property "+it.util.escapeQuotes($property)+" is present' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{out+=" ) { ";var arr2=$deps;if(arr2)for(var $propertyKey,i2=-1,l2=arr2.length-1;i2<l2;){$propertyKey=arr2[i2+=1];var $prop=it.util.getProperty($propertyKey),$useData=($missingProperty=it.util.escapeQuotes($propertyKey),$data+$prop);it.opts._errorDataPathProperty&&(it.errorPath=it.util.getPath($currentErrorPath,$propertyKey,it.opts.jsonPointers)),out+=" if ( "+$useData+" === undefined ",$ownProperties&&(out+=" || ! Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($propertyKey)+"') "),out+=") {  var err =   ",!1!==it.createErrors?(out+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { property: '"+it.util.escapeQuotes($property)+"', missingProperty: '"+$missingProperty+"', depsCount: "+$deps.length+", deps: '"+it.util.escapeQuotes(1==$deps.length?$deps[0]:$deps.join(", "))+"' } ",!1!==it.opts.messages&&(out+=" , message: 'should have ",1==$deps.length?out+="property "+it.util.escapeQuotes($deps[0]):out+="properties "+it.util.escapeQuotes($deps.join(", ")),out+=" when property "+it.util.escapeQuotes($property)+" is present' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}out+=" }   ",$breakOnError&&($closingBraces+="}",out+=" else { ")}it.errorPath=$currentErrorPath;var $currentBaseId=$it.baseId;for(var $property in $schemaDeps){$sch=$schemaDeps[$property];(it.opts.strictKeywords?"object"==typeof $sch&&Object.keys($sch).length>0:it.util.schemaHasRules($sch,it.RULES.all))&&(out+=" "+$nextValid+" = true; if ( "+$data+it.util.getProperty($property)+" !== undefined ",$ownProperties&&(out+=" && Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($property)+"') "),out+=") { ",$it.schema=$sch,$it.schemaPath=$schemaPath+it.util.getProperty($property),$it.errSchemaPath=$errSchemaPath+"/"+it.util.escapeFragment($property),out+="  "+it.validate($it)+" ",$it.baseId=$currentBaseId,out+=" }  ",$breakOnError&&(out+=" if ("+$nextValid+") { ",$closingBraces+="}"))}return $breakOnError&&(out+="   "+$closingBraces+" if ("+$errs+" == errors) {"),out=it.util.cleanUpCode(out)}},function(module,exports,__webpack_require__){"use strict";module.exports=function(it,$keyword,$ruleType){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$isData=it.opts.$data&&$schema&&$schema.$data;$isData&&(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ");var $i="i"+$lvl,$vSchema="schema"+$lvl;$isData||(out+=" var "+$vSchema+" = validate.schema"+$schemaPath+";"),out+="var "+$valid+";",$isData&&(out+=" if (schema"+$lvl+" === undefined) "+$valid+" = true; else if (!Array.isArray(schema"+$lvl+")) "+$valid+" = false; else {"),out+=$valid+" = false;for (var "+$i+"=0; "+$i+"<"+$vSchema+".length; "+$i+"++) if (equal("+$data+", "+$vSchema+"["+$i+"])) { "+$valid+" = true; break; }",$isData&&(out+="  }  "),out+=" if (!"+$valid+") {   ";var $$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { allowedValues: schema"+$lvl+" } ",!1!==it.opts.messages&&(out+=" , message: 'should be equal to one of the allowed values' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;return out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" }",$breakOnError&&(out+=" else { "),out}},function(module,exports,__webpack_require__){"use strict";module.exports=function(it,$keyword,$ruleType){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||"");if(!1===it.opts.format)return $breakOnError&&(out+=" if (true) { "),out;var $schemaValue,$isData=it.opts.$data&&$schema&&$schema.$data;$isData?(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ",$schemaValue="schema"+$lvl):$schemaValue=$schema;var $unknownFormats=it.opts.unknownFormats,$allowUnknown=Array.isArray($unknownFormats);if($isData){out+=" var "+($format="format"+$lvl)+" = formats["+$schemaValue+"]; var "+($isObject="isObject"+$lvl)+" = typeof "+$format+" == 'object' && !("+$format+" instanceof RegExp) && "+$format+".validate; var "+($formatType="formatType"+$lvl)+" = "+$isObject+" && "+$format+".type || 'string'; if ("+$isObject+") { ",it.async&&(out+=" var async"+$lvl+" = "+$format+".async; "),out+=" "+$format+" = "+$format+".validate; } if (  ",$isData&&(out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'string') || "),out+=" (","ignore"!=$unknownFormats&&(out+=" ("+$schemaValue+" && !"+$format+" ",$allowUnknown&&(out+=" && self._opts.unknownFormats.indexOf("+$schemaValue+") == -1 "),out+=") || "),out+=" ("+$format+" && "+$formatType+" == '"+$ruleType+"' && !(typeof "+$format+" == 'function' ? ",it.async?out+=" (async"+$lvl+" ? await "+$format+"("+$data+") : "+$format+"("+$data+")) ":out+=" "+$format+"("+$data+") ",out+=" : "+$format+".test("+$data+"))))) {"}else{var $format;if(!($format=it.formats[$schema])){if("ignore"==$unknownFormats)return it.logger.warn('unknown format "'+$schema+'" ignored in schema at path "'+it.errSchemaPath+'"'),$breakOnError&&(out+=" if (true) { "),out;if($allowUnknown&&$unknownFormats.indexOf($schema)>=0)return $breakOnError&&(out+=" if (true) { "),out;throw new Error('unknown format "'+$schema+'" is used in schema at path "'+it.errSchemaPath+'"')}var $isObject,$formatType=($isObject="object"==typeof $format&&!($format instanceof RegExp)&&$format.validate)&&$format.type||"string";if($isObject){var $async=!0===$format.async;$format=$format.validate}if($formatType!=$ruleType)return $breakOnError&&(out+=" if (true) { "),out;if($async){if(!it.async)throw new Error("async format in sync schema");out+=" if (!(await "+($formatRef="formats"+it.util.getProperty($schema)+".validate")+"("+$data+"))) { "}else{out+=" if (! ";var $formatRef="formats"+it.util.getProperty($schema);$isObject&&($formatRef+=".validate"),out+="function"==typeof $format?" "+$formatRef+"("+$data+") ":" "+$formatRef+".test("+$data+") ",out+=") { "}}var $$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'format' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { format:  ",out+=$isData?""+$schemaValue:""+it.util.toQuotedString($schema),out+="  } ",!1!==it.opts.messages&&(out+=" , message: 'should match format \"",out+=$isData?"' + "+$schemaValue+" + '":""+it.util.escapeQuotes($schema),out+="\"' "),it.opts.verbose&&(out+=" , schema:  ",out+=$isData?"validate.schema"+$schemaPath:""+it.util.toQuotedString($schema),out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;return out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } ",$breakOnError&&(out+=" else { "),out}},function(module,exports,__webpack_require__){"use strict";module.exports=function(it,$keyword,$ruleType){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$errs="errs__"+$lvl,$it=it.util.copy(it);$it.level++;var $nextValid="valid"+$it.level,$thenSch=it.schema.then,$elseSch=it.schema.else,$thenPresent=void 0!==$thenSch&&(it.opts.strictKeywords?"object"==typeof $thenSch&&Object.keys($thenSch).length>0:it.util.schemaHasRules($thenSch,it.RULES.all)),$elsePresent=void 0!==$elseSch&&(it.opts.strictKeywords?"object"==typeof $elseSch&&Object.keys($elseSch).length>0:it.util.schemaHasRules($elseSch,it.RULES.all)),$currentBaseId=$it.baseId;if($thenPresent||$elsePresent){var $ifClause;$it.createErrors=!1,$it.schema=$schema,$it.schemaPath=$schemaPath,$it.errSchemaPath=$errSchemaPath,out+=" var "+$errs+" = errors; var "+$valid+" = true;  ";var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=!0,out+="  "+it.validate($it)+" ",$it.baseId=$currentBaseId,$it.createErrors=!0,out+="  errors = "+$errs+"; if (vErrors !== null) { if ("+$errs+") vErrors.length = "+$errs+"; else vErrors = null; }  ",it.compositeRule=$it.compositeRule=$wasComposite,$thenPresent?(out+=" if ("+$nextValid+") {  ",$it.schema=it.schema.then,$it.schemaPath=it.schemaPath+".then",$it.errSchemaPath=it.errSchemaPath+"/then",out+="  "+it.validate($it)+" ",$it.baseId=$currentBaseId,out+=" "+$valid+" = "+$nextValid+"; ",$thenPresent&&$elsePresent?out+=" var "+($ifClause="ifClause"+$lvl)+" = 'then'; ":$ifClause="'then'",out+=" } ",$elsePresent&&(out+=" else { ")):out+=" if (!"+$nextValid+") { ",$elsePresent&&($it.schema=it.schema.else,$it.schemaPath=it.schemaPath+".else",$it.errSchemaPath=it.errSchemaPath+"/else",out+="  "+it.validate($it)+" ",$it.baseId=$currentBaseId,out+=" "+$valid+" = "+$nextValid+"; ",$thenPresent&&$elsePresent?out+=" var "+($ifClause="ifClause"+$lvl)+" = 'else'; ":$ifClause="'else'",out+=" } "),out+=" if (!"+$valid+") {   var err =   ",!1!==it.createErrors?(out+=" { keyword: 'if' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { failingKeyword: "+$ifClause+" } ",!1!==it.opts.messages&&(out+=" , message: 'should match \"' + "+$ifClause+" + '\" schema' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!it.compositeRule&&$breakOnError&&(it.async?out+=" throw new ValidationError(vErrors); ":out+=" validate.errors = vErrors; return false; "),out+=" }   ",$breakOnError&&(out+=" else { "),out=it.util.cleanUpCode(out)}else $breakOnError&&(out+=" if (true) { ");return out}},function(module,exports,__webpack_require__){"use strict";module.exports=function(it,$keyword,$ruleType){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$errs="errs__"+$lvl,$it=it.util.copy(it),$closingBraces="";$it.level++;var $nextValid="valid"+$it.level,$idx="i"+$lvl,$dataNxt=$it.dataLevel=it.dataLevel+1,$nextData="data"+$dataNxt,$currentBaseId=it.baseId;if(out+="var "+$errs+" = errors;var "+$valid+";",Array.isArray($schema)){var $additionalItems=it.schema.additionalItems;if(!1===$additionalItems){out+=" "+$valid+" = "+$data+".length <= "+$schema.length+"; ";var $currErrSchemaPath=$errSchemaPath;$errSchemaPath=it.errSchemaPath+"/additionalItems",out+="  if (!"+$valid+") {   ";var $$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { limit: "+$schema.length+" } ",!1!==it.opts.messages&&(out+=" , message: 'should NOT have more than "+$schema.length+" items' "),it.opts.verbose&&(out+=" , schema: false , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } ",$errSchemaPath=$currErrSchemaPath,$breakOnError&&($closingBraces+="}",out+=" else { ")}var arr1=$schema;if(arr1)for(var $sch,$i=-1,l1=arr1.length-1;$i<l1;)if($sch=arr1[$i+=1],it.opts.strictKeywords?"object"==typeof $sch&&Object.keys($sch).length>0:it.util.schemaHasRules($sch,it.RULES.all)){out+=" "+$nextValid+" = true; if ("+$data+".length > "+$i+") { ";var $passData=$data+"["+$i+"]";$it.schema=$sch,$it.schemaPath=$schemaPath+"["+$i+"]",$it.errSchemaPath=$errSchemaPath+"/"+$i,$it.errorPath=it.util.getPathExpr(it.errorPath,$i,it.opts.jsonPointers,!0),$it.dataPathArr[$dataNxt]=$i;var $code=it.validate($it);$it.baseId=$currentBaseId,it.util.varOccurences($code,$nextData)<2?out+=" "+it.util.varReplace($code,$nextData,$passData)+" ":out+=" var "+$nextData+" = "+$passData+"; "+$code+" ",out+=" }  ",$breakOnError&&(out+=" if ("+$nextValid+") { ",$closingBraces+="}")}if("object"==typeof $additionalItems&&(it.opts.strictKeywords?"object"==typeof $additionalItems&&Object.keys($additionalItems).length>0:it.util.schemaHasRules($additionalItems,it.RULES.all))){$it.schema=$additionalItems,$it.schemaPath=it.schemaPath+".additionalItems",$it.errSchemaPath=it.errSchemaPath+"/additionalItems",out+=" "+$nextValid+" = true; if ("+$data+".length > "+$schema.length+") {  for (var "+$idx+" = "+$schema.length+"; "+$idx+" < "+$data+".length; "+$idx+"++) { ",$it.errorPath=it.util.getPathExpr(it.errorPath,$idx,it.opts.jsonPointers,!0);$passData=$data+"["+$idx+"]";$it.dataPathArr[$dataNxt]=$idx;$code=it.validate($it);$it.baseId=$currentBaseId,it.util.varOccurences($code,$nextData)<2?out+=" "+it.util.varReplace($code,$nextData,$passData)+" ":out+=" var "+$nextData+" = "+$passData+"; "+$code+" ",$breakOnError&&(out+=" if (!"+$nextValid+") break; "),out+=" } }  ",$breakOnError&&(out+=" if ("+$nextValid+") { ",$closingBraces+="}")}}else if(it.opts.strictKeywords?"object"==typeof $schema&&Object.keys($schema).length>0:it.util.schemaHasRules($schema,it.RULES.all)){$it.schema=$schema,$it.schemaPath=$schemaPath,$it.errSchemaPath=$errSchemaPath,out+="  for (var "+$idx+" = 0; "+$idx+" < "+$data+".length; "+$idx+"++) { ",$it.errorPath=it.util.getPathExpr(it.errorPath,$idx,it.opts.jsonPointers,!0);$passData=$data+"["+$idx+"]";$it.dataPathArr[$dataNxt]=$idx;$code=it.validate($it);$it.baseId=$currentBaseId,it.util.varOccurences($code,$nextData)<2?out+=" "+it.util.varReplace($code,$nextData,$passData)+" ":out+=" var "+$nextData+" = "+$passData+"; "+$code+" ",$breakOnError&&(out+=" if (!"+$nextValid+") break; "),out+=" }"}return $breakOnError&&(out+=" "+$closingBraces+" if ("+$errs+" == errors) {"),out=it.util.cleanUpCode(out)}},function(module,exports,__webpack_require__){"use strict";module.exports=function(it,$keyword,$ruleType){var $schemaValue,out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$isData=it.opts.$data&&$schema&&$schema.$data;$isData?(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ",$schemaValue="schema"+$lvl):$schemaValue=$schema,out+="var division"+$lvl+";if (",$isData&&(out+=" "+$schemaValue+" !== undefined && ( typeof "+$schemaValue+" != 'number' || "),out+=" (division"+$lvl+" = "+$data+" / "+$schemaValue+", ",it.opts.multipleOfPrecision?out+=" Math.abs(Math.round(division"+$lvl+") - division"+$lvl+") > 1e-"+it.opts.multipleOfPrecision+" ":out+=" division"+$lvl+" !== parseInt(division"+$lvl+") ",out+=" ) ",$isData&&(out+="  )  "),out+=" ) {   ";var $$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { multipleOf: "+$schemaValue+" } ",!1!==it.opts.messages&&(out+=" , message: 'should be multiple of ",out+=$isData?"' + "+$schemaValue:$schemaValue+"'"),it.opts.verbose&&(out+=" , schema:  ",out+=$isData?"validate.schema"+$schemaPath:""+$schema,out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;return out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+="} ",$breakOnError&&(out+=" else { "),out}},function(module,exports,__webpack_require__){"use strict";module.exports=function(it,$keyword,$ruleType){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$errs="errs__"+$lvl,$it=it.util.copy(it);$it.level++;var $nextValid="valid"+$it.level;if(it.opts.strictKeywords?"object"==typeof $schema&&Object.keys($schema).length>0:it.util.schemaHasRules($schema,it.RULES.all)){$it.schema=$schema,$it.schemaPath=$schemaPath,$it.errSchemaPath=$errSchemaPath,out+=" var "+$errs+" = errors;  ";var $allErrorsOption,$wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=!0,$it.createErrors=!1,$it.opts.allErrors&&($allErrorsOption=$it.opts.allErrors,$it.opts.allErrors=!1),out+=" "+it.validate($it)+" ",$it.createErrors=!0,$allErrorsOption&&($it.opts.allErrors=$allErrorsOption),it.compositeRule=$it.compositeRule=$wasComposite,out+=" if ("+$nextValid+") {   ";var $$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'not' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ",!1!==it.opts.messages&&(out+=" , message: 'should NOT be valid' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } else {  errors = "+$errs+"; if (vErrors !== null) { if ("+$errs+") vErrors.length = "+$errs+"; else vErrors = null; } ",it.opts.allErrors&&(out+=" } ")}else out+="  var err =   ",!1!==it.createErrors?(out+=" { keyword: 'not' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: {} ",!1!==it.opts.messages&&(out+=" , message: 'should NOT be valid' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",$breakOnError&&(out+=" if (false) { ");return out}},function(module,exports,__webpack_require__){"use strict";module.exports=function(it,$keyword,$ruleType){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$errs="errs__"+$lvl,$it=it.util.copy(it),$closingBraces="";$it.level++;var $nextValid="valid"+$it.level,$currentBaseId=$it.baseId,$prevValid="prevValid"+$lvl,$passingSchemas="passingSchemas"+$lvl;out+="var "+$errs+" = errors , "+$prevValid+" = false , "+$valid+" = false , "+$passingSchemas+" = null; ";var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=!0;var arr1=$schema;if(arr1)for(var $sch,$i=-1,l1=arr1.length-1;$i<l1;)$sch=arr1[$i+=1],(it.opts.strictKeywords?"object"==typeof $sch&&Object.keys($sch).length>0:it.util.schemaHasRules($sch,it.RULES.all))?($it.schema=$sch,$it.schemaPath=$schemaPath+"["+$i+"]",$it.errSchemaPath=$errSchemaPath+"/"+$i,out+="  "+it.validate($it)+" ",$it.baseId=$currentBaseId):out+=" var "+$nextValid+" = true; ",$i&&(out+=" if ("+$nextValid+" && "+$prevValid+") { "+$valid+" = false; "+$passingSchemas+" = ["+$passingSchemas+", "+$i+"]; } else { ",$closingBraces+="}"),out+=" if ("+$nextValid+") { "+$valid+" = "+$prevValid+" = true; "+$passingSchemas+" = "+$i+"; }";return it.compositeRule=$it.compositeRule=$wasComposite,out+=$closingBraces+"if (!"+$valid+") {   var err =   ",!1!==it.createErrors?(out+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { passingSchemas: "+$passingSchemas+" } ",!1!==it.opts.messages&&(out+=" , message: 'should match exactly one schema in oneOf' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!it.compositeRule&&$breakOnError&&(it.async?out+=" throw new ValidationError(vErrors); ":out+=" validate.errors = vErrors; return false; "),out+="} else {  errors = "+$errs+"; if (vErrors !== null) { if ("+$errs+") vErrors.length = "+$errs+"; else vErrors = null; }",it.opts.allErrors&&(out+=" } "),out}},function(module,exports,__webpack_require__){"use strict";module.exports=function(it,$keyword,$ruleType){var $schemaValue,out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$isData=it.opts.$data&&$schema&&$schema.$data;$isData?(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ",$schemaValue="schema"+$lvl):$schemaValue=$schema,out+="if ( ",$isData&&(out+=" ("+$schemaValue+" !== undefined && typeof "+$schemaValue+" != 'string') || "),out+=" !"+($isData?"(new RegExp("+$schemaValue+"))":it.usePattern($schema))+".test("+$data+") ) {   ";var $$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { pattern:  ",out+=$isData?""+$schemaValue:""+it.util.toQuotedString($schema),out+="  } ",!1!==it.opts.messages&&(out+=" , message: 'should match pattern \"",out+=$isData?"' + "+$schemaValue+" + '":""+it.util.escapeQuotes($schema),out+="\"' "),it.opts.verbose&&(out+=" , schema:  ",out+=$isData?"validate.schema"+$schemaPath:""+it.util.toQuotedString($schema),out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;return out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+="} ",$breakOnError&&(out+=" else { "),out}},function(module,exports,__webpack_require__){"use strict";module.exports=function(it,$keyword,$ruleType){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$errs="errs__"+$lvl,$it=it.util.copy(it),$closingBraces="";$it.level++;var $nextValid="valid"+$it.level,$key="key"+$lvl,$idx="idx"+$lvl,$dataNxt=$it.dataLevel=it.dataLevel+1,$nextData="data"+$dataNxt,$dataProperties="dataProperties"+$lvl,$schemaKeys=Object.keys($schema||{}),$pProperties=it.schema.patternProperties||{},$pPropertyKeys=Object.keys($pProperties),$aProperties=it.schema.additionalProperties,$someProperties=$schemaKeys.length||$pPropertyKeys.length,$noAdditional=!1===$aProperties,$additionalIsSchema="object"==typeof $aProperties&&Object.keys($aProperties).length,$removeAdditional=it.opts.removeAdditional,$checkAdditional=$noAdditional||$additionalIsSchema||$removeAdditional,$ownProperties=it.opts.ownProperties,$currentBaseId=it.baseId,$required=it.schema.required;if($required&&(!it.opts.$data||!$required.$data)&&$required.length<it.opts.loopRequired)var $requiredHash=it.util.toHash($required);if(out+="var "+$errs+" = errors;var "+$nextValid+" = true;",$ownProperties&&(out+=" var "+$dataProperties+" = undefined;"),$checkAdditional){if(out+=$ownProperties?" "+$dataProperties+" = "+$dataProperties+" || Object.keys("+$data+"); for (var "+$idx+"=0; "+$idx+"<"+$dataProperties+".length; "+$idx+"++) { var "+$key+" = "+$dataProperties+"["+$idx+"]; ":" for (var "+$key+" in "+$data+") { ",$someProperties){if(out+=" var isAdditional"+$lvl+" = !(false ",$schemaKeys.length)if($schemaKeys.length>8)out+=" || validate.schema"+$schemaPath+".hasOwnProperty("+$key+") ";else{var arr1=$schemaKeys;if(arr1)for(var i1=-1,l1=arr1.length-1;i1<l1;)$propertyKey=arr1[i1+=1],out+=" || "+$key+" == "+it.util.toQuotedString($propertyKey)+" "}if($pPropertyKeys.length){var arr2=$pPropertyKeys;if(arr2)for(var $i=-1,l2=arr2.length-1;$i<l2;)$pProperty=arr2[$i+=1],out+=" || "+it.usePattern($pProperty)+".test("+$key+") "}out+=" ); if (isAdditional"+$lvl+") { "}if("all"==$removeAdditional)out+=" delete "+$data+"["+$key+"]; ";else{var $currentErrorPath=it.errorPath,$additionalProperty="' + "+$key+" + '";if(it.opts._errorDataPathProperty&&(it.errorPath=it.util.getPathExpr(it.errorPath,$key,it.opts.jsonPointers)),$noAdditional)if($removeAdditional)out+=" delete "+$data+"["+$key+"]; ";else{out+=" "+$nextValid+" = false; ";var $currErrSchemaPath=$errSchemaPath;$errSchemaPath=it.errSchemaPath+"/additionalProperties",($$outStack=$$outStack||[]).push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { additionalProperty: '"+$additionalProperty+"' } ",!1!==it.opts.messages&&(out+=" , message: '",it.opts._errorDataPathProperty?out+="is an invalid additional property":out+="should NOT have additional properties",out+="' "),it.opts.verbose&&(out+=" , schema: false , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",$errSchemaPath=$currErrSchemaPath,$breakOnError&&(out+=" break; ")}else if($additionalIsSchema)if("failing"==$removeAdditional){out+=" var "+$errs+" = errors;  ";var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=!0,$it.schema=$aProperties,$it.schemaPath=it.schemaPath+".additionalProperties",$it.errSchemaPath=it.errSchemaPath+"/additionalProperties",$it.errorPath=it.opts._errorDataPathProperty?it.errorPath:it.util.getPathExpr(it.errorPath,$key,it.opts.jsonPointers);var $passData=$data+"["+$key+"]";$it.dataPathArr[$dataNxt]=$key;var $code=it.validate($it);$it.baseId=$currentBaseId,it.util.varOccurences($code,$nextData)<2?out+=" "+it.util.varReplace($code,$nextData,$passData)+" ":out+=" var "+$nextData+" = "+$passData+"; "+$code+" ",out+=" if (!"+$nextValid+") { errors = "+$errs+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+$data+"["+$key+"]; }  ",it.compositeRule=$it.compositeRule=$wasComposite}else{$it.schema=$aProperties,$it.schemaPath=it.schemaPath+".additionalProperties",$it.errSchemaPath=it.errSchemaPath+"/additionalProperties",$it.errorPath=it.opts._errorDataPathProperty?it.errorPath:it.util.getPathExpr(it.errorPath,$key,it.opts.jsonPointers);$passData=$data+"["+$key+"]";$it.dataPathArr[$dataNxt]=$key;$code=it.validate($it);$it.baseId=$currentBaseId,it.util.varOccurences($code,$nextData)<2?out+=" "+it.util.varReplace($code,$nextData,$passData)+" ":out+=" var "+$nextData+" = "+$passData+"; "+$code+" ",$breakOnError&&(out+=" if (!"+$nextValid+") break; ")}it.errorPath=$currentErrorPath}$someProperties&&(out+=" } "),out+=" }  ",$breakOnError&&(out+=" if ("+$nextValid+") { ",$closingBraces+="}")}var $useDefaults=it.opts.useDefaults&&!it.compositeRule;if($schemaKeys.length){var arr3=$schemaKeys;if(arr3)for(var $propertyKey,i3=-1,l3=arr3.length-1;i3<l3;){var $sch=$schema[$propertyKey=arr3[i3+=1]];if(it.opts.strictKeywords?"object"==typeof $sch&&Object.keys($sch).length>0:it.util.schemaHasRules($sch,it.RULES.all)){var $prop=it.util.getProperty($propertyKey),$hasDefault=($passData=$data+$prop,$useDefaults&&void 0!==$sch.default);$it.schema=$sch,$it.schemaPath=$schemaPath+$prop,$it.errSchemaPath=$errSchemaPath+"/"+it.util.escapeFragment($propertyKey),$it.errorPath=it.util.getPath(it.errorPath,$propertyKey,it.opts.jsonPointers),$it.dataPathArr[$dataNxt]=it.util.toQuotedString($propertyKey);$code=it.validate($it);if($it.baseId=$currentBaseId,it.util.varOccurences($code,$nextData)<2){$code=it.util.varReplace($code,$nextData,$passData);var $useData=$passData}else{$useData=$nextData;out+=" var "+$nextData+" = "+$passData+"; "}if($hasDefault)out+=" "+$code+" ";else{if($requiredHash&&$requiredHash[$propertyKey]){out+=" if ( "+$useData+" === undefined ",$ownProperties&&(out+=" || ! Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($propertyKey)+"') "),out+=") { "+$nextValid+" = false; ";$currentErrorPath=it.errorPath,$currErrSchemaPath=$errSchemaPath;var $$outStack,$missingProperty=it.util.escapeQuotes($propertyKey);it.opts._errorDataPathProperty&&(it.errorPath=it.util.getPath($currentErrorPath,$propertyKey,it.opts.jsonPointers)),$errSchemaPath=it.errSchemaPath+"/required",($$outStack=$$outStack||[]).push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'required' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingProperty: '"+$missingProperty+"' } ",!1!==it.opts.messages&&(out+=" , message: '",it.opts._errorDataPathProperty?out+="is a required property":out+="should have required property \\'"+$missingProperty+"\\'",out+="' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";__err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",$errSchemaPath=$currErrSchemaPath,it.errorPath=$currentErrorPath,out+=" } else { "}else $breakOnError?(out+=" if ( "+$useData+" === undefined ",$ownProperties&&(out+=" || ! Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($propertyKey)+"') "),out+=") { "+$nextValid+" = true; } else { "):(out+=" if ("+$useData+" !== undefined ",$ownProperties&&(out+=" &&   Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($propertyKey)+"') "),out+=" ) { ");out+=" "+$code+" } "}}$breakOnError&&(out+=" if ("+$nextValid+") { ",$closingBraces+="}")}}if($pPropertyKeys.length){var arr4=$pPropertyKeys;if(arr4)for(var $pProperty,i4=-1,l4=arr4.length-1;i4<l4;){$sch=$pProperties[$pProperty=arr4[i4+=1]];if(it.opts.strictKeywords?"object"==typeof $sch&&Object.keys($sch).length>0:it.util.schemaHasRules($sch,it.RULES.all)){$it.schema=$sch,$it.schemaPath=it.schemaPath+".patternProperties"+it.util.getProperty($pProperty),$it.errSchemaPath=it.errSchemaPath+"/patternProperties/"+it.util.escapeFragment($pProperty),out+=$ownProperties?" "+$dataProperties+" = "+$dataProperties+" || Object.keys("+$data+"); for (var "+$idx+"=0; "+$idx+"<"+$dataProperties+".length; "+$idx+"++) { var "+$key+" = "+$dataProperties+"["+$idx+"]; ":" for (var "+$key+" in "+$data+") { ",out+=" if ("+it.usePattern($pProperty)+".test("+$key+")) { ",$it.errorPath=it.util.getPathExpr(it.errorPath,$key,it.opts.jsonPointers);$passData=$data+"["+$key+"]";$it.dataPathArr[$dataNxt]=$key;$code=it.validate($it);$it.baseId=$currentBaseId,it.util.varOccurences($code,$nextData)<2?out+=" "+it.util.varReplace($code,$nextData,$passData)+" ":out+=" var "+$nextData+" = "+$passData+"; "+$code+" ",$breakOnError&&(out+=" if (!"+$nextValid+") break; "),out+=" } ",$breakOnError&&(out+=" else "+$nextValid+" = true; "),out+=" }  ",$breakOnError&&(out+=" if ("+$nextValid+") { ",$closingBraces+="}")}}}return $breakOnError&&(out+=" "+$closingBraces+" if ("+$errs+" == errors) {"),out=it.util.cleanUpCode(out)}},function(module,exports,__webpack_require__){"use strict";module.exports=function(it,$keyword,$ruleType){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$errs="errs__"+$lvl,$it=it.util.copy(it);$it.level++;var $nextValid="valid"+$it.level;if(out+="var "+$errs+" = errors;",it.opts.strictKeywords?"object"==typeof $schema&&Object.keys($schema).length>0:it.util.schemaHasRules($schema,it.RULES.all)){$it.schema=$schema,$it.schemaPath=$schemaPath,$it.errSchemaPath=$errSchemaPath;var $key="key"+$lvl,$idx="idx"+$lvl,$i="i"+$lvl,$invalidName="' + "+$key+" + '",$nextData="data"+($it.dataLevel=it.dataLevel+1),$dataProperties="dataProperties"+$lvl,$ownProperties=it.opts.ownProperties,$currentBaseId=it.baseId;$ownProperties&&(out+=" var "+$dataProperties+" = undefined; "),out+=$ownProperties?" "+$dataProperties+" = "+$dataProperties+" || Object.keys("+$data+"); for (var "+$idx+"=0; "+$idx+"<"+$dataProperties+".length; "+$idx+"++) { var "+$key+" = "+$dataProperties+"["+$idx+"]; ":" for (var "+$key+" in "+$data+") { ",out+=" var startErrs"+$lvl+" = errors; ";var $passData=$key,$wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=!0;var $code=it.validate($it);$it.baseId=$currentBaseId,it.util.varOccurences($code,$nextData)<2?out+=" "+it.util.varReplace($code,$nextData,$passData)+" ":out+=" var "+$nextData+" = "+$passData+"; "+$code+" ",it.compositeRule=$it.compositeRule=$wasComposite,out+=" if (!"+$nextValid+") { for (var "+$i+"=startErrs"+$lvl+"; "+$i+"<errors; "+$i+"++) { vErrors["+$i+"].propertyName = "+$key+"; }   var err =   ",!1!==it.createErrors?(out+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { propertyName: '"+$invalidName+"' } ",!1!==it.opts.messages&&(out+=" , message: 'property name \\'"+$invalidName+"\\' is invalid' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!it.compositeRule&&$breakOnError&&(it.async?out+=" throw new ValidationError(vErrors); ":out+=" validate.errors = vErrors; return false; "),$breakOnError&&(out+=" break; "),out+=" } }"}return $breakOnError&&(out+="  if ("+$errs+" == errors) {"),out=it.util.cleanUpCode(out)}},function(module,exports,__webpack_require__){"use strict";module.exports=function(it,$keyword,$ruleType){var out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$isData=it.opts.$data&&$schema&&$schema.$data;$isData&&(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ");var $vSchema="schema"+$lvl;if(!$isData)if($schema.length<it.opts.loopRequired&&it.schema.properties&&Object.keys(it.schema.properties).length){var $required=[],arr1=$schema;if(arr1)for(var $property,i1=-1,l1=arr1.length-1;i1<l1;){$property=arr1[i1+=1];var $propertySch=it.schema.properties[$property];$propertySch&&(it.opts.strictKeywords?"object"==typeof $propertySch&&Object.keys($propertySch).length>0:it.util.schemaHasRules($propertySch,it.RULES.all))||($required[$required.length]=$property)}}else $required=$schema;if($isData||$required.length){var $currentErrorPath=it.errorPath,$loopRequired=$isData||$required.length>=it.opts.loopRequired,$ownProperties=it.opts.ownProperties;if($breakOnError)if(out+=" var missing"+$lvl+"; ",$loopRequired){$isData||(out+=" var "+$vSchema+" = validate.schema"+$schemaPath+"; ");var $missingProperty="' + "+($propertyPath="schema"+$lvl+"["+($i="i"+$lvl)+"]")+" + '";it.opts._errorDataPathProperty&&(it.errorPath=it.util.getPathExpr($currentErrorPath,$propertyPath,it.opts.jsonPointers)),out+=" var "+$valid+" = true; ",$isData&&(out+=" if (schema"+$lvl+" === undefined) "+$valid+" = true; else if (!Array.isArray(schema"+$lvl+")) "+$valid+" = false; else {"),out+=" for (var "+$i+" = 0; "+$i+" < "+$vSchema+".length; "+$i+"++) { "+$valid+" = "+$data+"["+$vSchema+"["+$i+"]] !== undefined ",$ownProperties&&(out+=" &&   Object.prototype.hasOwnProperty.call("+$data+", "+$vSchema+"["+$i+"]) "),out+="; if (!"+$valid+") break; } ",$isData&&(out+="  }  "),out+="  if (!"+$valid+") {   ",($$outStack=$$outStack||[]).push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'required' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingProperty: '"+$missingProperty+"' } ",!1!==it.opts.messages&&(out+=" , message: '",it.opts._errorDataPathProperty?out+="is a required property":out+="should have required property \\'"+$missingProperty+"\\'",out+="' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } else { "}else{out+=" if ( ";var arr2=$required;if(arr2)for(var $i=-1,l2=arr2.length-1;$i<l2;){$propertyKey=arr2[$i+=1],$i&&(out+=" || "),out+=" ( ( "+($useData=$data+($prop=it.util.getProperty($propertyKey)))+" === undefined ",$ownProperties&&(out+=" || ! Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($propertyKey)+"') "),out+=") && (missing"+$lvl+" = "+it.util.toQuotedString(it.opts.jsonPointers?$propertyKey:$prop)+") ) "}out+=") {  ";var $$outStack;$missingProperty="' + "+($propertyPath="missing"+$lvl)+" + '";it.opts._errorDataPathProperty&&(it.errorPath=it.opts.jsonPointers?it.util.getPathExpr($currentErrorPath,$propertyPath,!0):$currentErrorPath+" + "+$propertyPath),($$outStack=$$outStack||[]).push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'required' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingProperty: '"+$missingProperty+"' } ",!1!==it.opts.messages&&(out+=" , message: '",it.opts._errorDataPathProperty?out+="is a required property":out+="should have required property \\'"+$missingProperty+"\\'",out+="' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";__err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } else { "}else if($loopRequired){$isData||(out+=" var "+$vSchema+" = validate.schema"+$schemaPath+"; ");var $propertyPath;$missingProperty="' + "+($propertyPath="schema"+$lvl+"["+($i="i"+$lvl)+"]")+" + '";it.opts._errorDataPathProperty&&(it.errorPath=it.util.getPathExpr($currentErrorPath,$propertyPath,it.opts.jsonPointers)),$isData&&(out+=" if ("+$vSchema+" && !Array.isArray("+$vSchema+")) {  var err =   ",!1!==it.createErrors?(out+=" { keyword: 'required' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingProperty: '"+$missingProperty+"' } ",!1!==it.opts.messages&&(out+=" , message: '",it.opts._errorDataPathProperty?out+="is a required property":out+="should have required property \\'"+$missingProperty+"\\'",out+="' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+$vSchema+" !== undefined) { "),out+=" for (var "+$i+" = 0; "+$i+" < "+$vSchema+".length; "+$i+"++) { if ("+$data+"["+$vSchema+"["+$i+"]] === undefined ",$ownProperties&&(out+=" || ! Object.prototype.hasOwnProperty.call("+$data+", "+$vSchema+"["+$i+"]) "),out+=") {  var err =   ",!1!==it.createErrors?(out+=" { keyword: 'required' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingProperty: '"+$missingProperty+"' } ",!1!==it.opts.messages&&(out+=" , message: '",it.opts._errorDataPathProperty?out+="is a required property":out+="should have required property \\'"+$missingProperty+"\\'",out+="' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",$isData&&(out+="  }  ")}else{var arr3=$required;if(arr3)for(var $propertyKey,i3=-1,l3=arr3.length-1;i3<l3;){$propertyKey=arr3[i3+=1];var $prop=it.util.getProperty($propertyKey),$useData=($missingProperty=it.util.escapeQuotes($propertyKey),$data+$prop);it.opts._errorDataPathProperty&&(it.errorPath=it.util.getPath($currentErrorPath,$propertyKey,it.opts.jsonPointers)),out+=" if ( "+$useData+" === undefined ",$ownProperties&&(out+=" || ! Object.prototype.hasOwnProperty.call("+$data+", '"+it.util.escapeQuotes($propertyKey)+"') "),out+=") {  var err =   ",!1!==it.createErrors?(out+=" { keyword: 'required' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { missingProperty: '"+$missingProperty+"' } ",!1!==it.opts.messages&&(out+=" , message: '",it.opts._errorDataPathProperty?out+="is a required property":out+="should have required property \\'"+$missingProperty+"\\'",out+="' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}it.errorPath=$currentErrorPath}else $breakOnError&&(out+=" if (true) {");return out}},function(module,exports,__webpack_require__){"use strict";module.exports=function(it,$keyword,$ruleType){var $schemaValue,out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$isData=it.opts.$data&&$schema&&$schema.$data;if($isData?(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ",$schemaValue="schema"+$lvl):$schemaValue=$schema,($schema||$isData)&&!1!==it.opts.uniqueItems){$isData&&(out+=" var "+$valid+"; if ("+$schemaValue+" === false || "+$schemaValue+" === undefined) "+$valid+" = true; else if (typeof "+$schemaValue+" != 'boolean') "+$valid+" = false; else { "),out+=" var i = "+$data+".length , "+$valid+" = true , j; if (i > 1) { ";var $itemType=it.schema.items&&it.schema.items.type,$typeIsArray=Array.isArray($itemType);if(!$itemType||"object"==$itemType||"array"==$itemType||$typeIsArray&&($itemType.indexOf("object")>=0||$itemType.indexOf("array")>=0))out+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+$data+"[i], "+$data+"[j])) { "+$valid+" = false; break outer; } } } ";else{out+=" var itemIndices = {}, item; for (;i--;) { var item = "+$data+"[i]; ";var $method="checkDataType"+($typeIsArray?"s":"");out+=" if ("+it.util[$method]($itemType,"item",!0)+") continue; ",$typeIsArray&&(out+=" if (typeof item == 'string') item = '\"' + item; "),out+=" if (typeof itemIndices[item] == 'number') { "+$valid+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}out+=" } ",$isData&&(out+="  }  "),out+=" if (!"+$valid+") {   ";var $$outStack=$$outStack||[];$$outStack.push(out),out="",!1!==it.createErrors?(out+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { i: i, j: j } ",!1!==it.opts.messages&&(out+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),it.opts.verbose&&(out+=" , schema:  ",out+=$isData?"validate.schema"+$schemaPath:""+$schema,out+="         , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",out+=" } ",$breakOnError&&(out+=" else { ")}else $breakOnError&&(out+=" if (true) { ");return out}},function(module,exports,__webpack_require__){"use strict";var KEYWORDS=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];module.exports=function(metaSchema,keywordsJsonPointers){for(var i=0;i<keywordsJsonPointers.length;i++){metaSchema=JSON.parse(JSON.stringify(metaSchema));var j,segments=keywordsJsonPointers[i].split("/"),keywords=metaSchema;for(j=1;j<segments.length;j++)keywords=keywords[segments[j]];for(j=0;j<KEYWORDS.length;j++){var key=KEYWORDS[j],schema=keywords[key];schema&&(keywords[key]={anyOf:[schema,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]})}}return metaSchema}},function(module,exports,__webpack_require__){"use strict";var MissingRefError=__webpack_require__(449).MissingRef;module.exports=function compileAsync(schema,meta,callback){var self=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof meta&&(callback=meta,meta=void 0);var p=loadMetaSchemaOf(schema).then(function(){var schemaObj=self._addSchema(schema,void 0,meta);return schemaObj.validate||function _compileAsync(schemaObj){try{return self._compile(schemaObj)}catch(e){if(e instanceof MissingRefError)return function loadMissingSchema(e){var ref=e.missingSchema;if(added(ref))throw new Error("Schema "+ref+" is loaded but "+e.missingRef+" cannot be resolved");var schemaPromise=self._loadingSchemas[ref];schemaPromise||(schemaPromise=self._loadingSchemas[ref]=self._opts.loadSchema(ref)).then(removePromise,removePromise);return schemaPromise.then(function(sch){if(!added(ref))return loadMetaSchemaOf(sch).then(function(){added(ref)||self.addSchema(sch,ref,void 0,meta)})}).then(function(){return function _compileAsync(schemaObj){try{return self._compile(schemaObj)}catch(e){if(e instanceof MissingRefError)return loadMissingSchema(e);throw e}function loadMissingSchema(e){var ref=e.missingSchema;if(added(ref))throw new Error("Schema "+ref+" is loaded but "+e.missingRef+" cannot be resolved");var schemaPromise=self._loadingSchemas[ref];return schemaPromise||(schemaPromise=self._loadingSchemas[ref]=self._opts.loadSchema(ref)).then(removePromise,removePromise),schemaPromise.then(function(sch){if(!added(ref))return loadMetaSchemaOf(sch).then(function(){added(ref)||self.addSchema(sch,ref,void 0,meta)})}).then(function(){return _compileAsync(schemaObj)});function removePromise(){delete self._loadingSchemas[ref]}function added(ref){return self._refs[ref]||self._schemas[ref]}}}(schemaObj)});function removePromise(){delete self._loadingSchemas[ref]}function added(ref){return self._refs[ref]||self._schemas[ref]}}(e);throw e}function loadMissingSchema(e){var ref=e.missingSchema;if(added(ref))throw new Error("Schema "+ref+" is loaded but "+e.missingRef+" cannot be resolved");var schemaPromise=self._loadingSchemas[ref];return schemaPromise||(schemaPromise=self._loadingSchemas[ref]=self._opts.loadSchema(ref)).then(removePromise,removePromise),schemaPromise.then(function(sch){if(!added(ref))return loadMetaSchemaOf(sch).then(function(){added(ref)||self.addSchema(sch,ref,void 0,meta)})}).then(function(){return _compileAsync(schemaObj)});function removePromise(){delete self._loadingSchemas[ref]}function added(ref){return self._refs[ref]||self._schemas[ref]}}}(schemaObj)});callback&&p.then(function(v){callback(null,v)},callback);return p;function loadMetaSchemaOf(sch){var $schema=sch.$schema;return $schema&&!self.getSchema($schema)?compileAsync.call(self,{$ref:$schema},!0):Promise.resolve()}}},function(module,exports,__webpack_require__){"use strict";var IDENTIFIER=/^[a-z_$][a-z0-9_$-]*$/i,customRuleCode=__webpack_require__(1020),definitionSchema=__webpack_require__(1021);module.exports={add:function(keyword,definition){var RULES=this.RULES;if(RULES.keywords[keyword])throw new Error("Keyword "+keyword+" is already defined");if(!IDENTIFIER.test(keyword))throw new Error("Keyword "+keyword+" is not a valid identifier");if(definition){this.validateKeyword(definition,!0);var dataType=definition.type;if(Array.isArray(dataType))for(var i=0;i<dataType.length;i++)_addRule(keyword,dataType[i],definition);else _addRule(keyword,dataType,definition);var metaSchema=definition.metaSchema;metaSchema&&(definition.$data&&this._opts.$data&&(metaSchema={anyOf:[metaSchema,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]}),definition.validateSchema=this.compile(metaSchema,!0))}function _addRule(keyword,dataType,definition){for(var ruleGroup,i=0;i<RULES.length;i++){var rg=RULES[i];if(rg.type==dataType){ruleGroup=rg;break}}ruleGroup||(ruleGroup={type:dataType,rules:[]},RULES.push(ruleGroup));var rule={keyword:keyword,definition:definition,custom:!0,code:customRuleCode,implements:definition.implements};ruleGroup.rules.push(rule),RULES.custom[keyword]=rule}return RULES.keywords[keyword]=RULES.all[keyword]=!0,this},get:function(keyword){var rule=this.RULES.custom[keyword];return rule?rule.definition:this.RULES.keywords[keyword]||!1},remove:function(keyword){var RULES=this.RULES;delete RULES.keywords[keyword],delete RULES.all[keyword],delete RULES.custom[keyword];for(var i=0;i<RULES.length;i++)for(var rules=RULES[i].rules,j=0;j<rules.length;j++)if(rules[j].keyword==keyword){rules.splice(j,1);break}return this},validate:function validateKeyword(definition,throwError){validateKeyword.errors=null;var v=this._validateKeyword=this._validateKeyword||this.compile(definitionSchema,!0);if(v(definition))return!0;validateKeyword.errors=v.errors;if(throwError)throw new Error("custom keyword definition is invalid: "+this.errorsText(v.errors));return!1}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(it,$keyword,$ruleType){var $errorKeyword,$schemaValue,out=" ",$lvl=it.level,$dataLvl=it.dataLevel,$schema=it.schema[$keyword],$schemaPath=it.schemaPath+it.util.getProperty($keyword),$errSchemaPath=it.errSchemaPath+"/"+$keyword,$breakOnError=!it.opts.allErrors,$data="data"+($dataLvl||""),$valid="valid"+$lvl,$errs="errs__"+$lvl,$isData=it.opts.$data&&$schema&&$schema.$data;$isData?(out+=" var schema"+$lvl+" = "+it.util.getData($schema.$data,$dataLvl,it.dataPathArr)+"; ",$schemaValue="schema"+$lvl):$schemaValue=$schema;var $compile,$inline,$macro,$ruleValidate,$validateCode,$definition="definition"+$lvl,$rDef=this.definition,$closingBraces="";if($isData&&$rDef.$data){$validateCode="keywordValidate"+$lvl;var $validateSchema=$rDef.validateSchema;out+=" var "+$definition+" = RULES.custom['"+$keyword+"'].definition; var "+$validateCode+" = "+$definition+".validate;"}else{if(!($ruleValidate=it.useCustomRule(this,$schema,it.schema,it)))return;$schemaValue="validate.schema"+$schemaPath,$validateCode=$ruleValidate.code,$compile=$rDef.compile,$inline=$rDef.inline,$macro=$rDef.macro}var $ruleErrs=$validateCode+".errors",$i="i"+$lvl,$ruleErr="ruleErr"+$lvl,$asyncKeyword=$rDef.async;if($asyncKeyword&&!it.async)throw new Error("async keyword in sync schema");if($inline||$macro||(out+=$ruleErrs+" = null;"),out+="var "+$errs+" = errors;var "+$valid+";",$isData&&$rDef.$data&&($closingBraces+="}",out+=" if ("+$schemaValue+" === undefined) { "+$valid+" = true; } else { ",$validateSchema&&($closingBraces+="}",out+=" "+$valid+" = "+$definition+".validateSchema("+$schemaValue+"); if ("+$valid+") { ")),$inline)$rDef.statements?out+=" "+$ruleValidate.validate+" ":out+=" "+$valid+" = "+$ruleValidate.validate+"; ";else if($macro){var $it=it.util.copy(it);$closingBraces="";$it.level++;var $nextValid="valid"+$it.level;$it.schema=$ruleValidate.validate,$it.schemaPath="";var $wasComposite=it.compositeRule;it.compositeRule=$it.compositeRule=!0;var $code=it.validate($it).replace(/validate\.schema/g,$validateCode);it.compositeRule=$it.compositeRule=$wasComposite,out+=" "+$code}else{($$outStack=$$outStack||[]).push(out),out="",out+="  "+$validateCode+".call( ",it.opts.passContext?out+="this":out+="self",$compile||!1===$rDef.schema?out+=" , "+$data+" ":out+=" , "+$schemaValue+" , "+$data+" , validate.schema"+it.schemaPath+" ",out+=" , (dataPath || '')",'""'!=it.errorPath&&(out+=" + "+it.errorPath);var $parentData=$dataLvl?"data"+($dataLvl-1||""):"parentData",$parentDataProperty=$dataLvl?it.dataPathArr[$dataLvl]:"parentDataProperty",def_callRuleValidate=out+=" , "+$parentData+" , "+$parentDataProperty+" , rootData )  ";out=$$outStack.pop(),!1===$rDef.errors?(out+=" "+$valid+" = ",$asyncKeyword&&(out+="await "),out+=def_callRuleValidate+"; "):out+=$asyncKeyword?" var "+($ruleErrs="customErrors"+$lvl)+" = null; try { "+$valid+" = await "+def_callRuleValidate+"; } catch (e) { "+$valid+" = false; if (e instanceof ValidationError) "+$ruleErrs+" = e.errors; else throw e; } ":" "+$ruleErrs+" = null; "+$valid+" = "+def_callRuleValidate+"; "}if($rDef.modifying&&(out+=" if ("+$parentData+") "+$data+" = "+$parentData+"["+$parentDataProperty+"];"),out+=""+$closingBraces,$rDef.valid)$breakOnError&&(out+=" if (true) { ");else{var $$outStack;out+=" if ( ",void 0===$rDef.valid?(out+=" !",out+=$macro?""+$nextValid:""+$valid):out+=" "+!$rDef.valid+" ",out+=") { ",$errorKeyword=this.keyword,($$outStack=$$outStack||[]).push(out),out="",($$outStack=$$outStack||[]).push(out),out="",!1!==it.createErrors?(out+=" { keyword: '"+($errorKeyword||"custom")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { keyword: '"+this.keyword+"' } ",!1!==it.opts.messages&&(out+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ";var __err=out;out=$$outStack.pop(),!it.compositeRule&&$breakOnError?it.async?out+=" throw new ValidationError(["+__err+"]); ":out+=" validate.errors = ["+__err+"]; return false; ":out+=" var err = "+__err+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var def_customError=out;out=$$outStack.pop(),$inline?$rDef.errors?"full"!=$rDef.errors&&(out+="  for (var "+$i+"="+$errs+"; "+$i+"<errors; "+$i+"++) { var "+$ruleErr+" = vErrors["+$i+"]; if ("+$ruleErr+".dataPath === undefined) "+$ruleErr+".dataPath = (dataPath || '') + "+it.errorPath+"; if ("+$ruleErr+".schemaPath === undefined) { "+$ruleErr+'.schemaPath = "'+$errSchemaPath+'"; } ',it.opts.verbose&&(out+=" "+$ruleErr+".schema = "+$schemaValue+"; "+$ruleErr+".data = "+$data+"; "),out+=" } "):!1===$rDef.errors?out+=" "+def_customError+" ":(out+=" if ("+$errs+" == errors) { "+def_customError+" } else {  for (var "+$i+"="+$errs+"; "+$i+"<errors; "+$i+"++) { var "+$ruleErr+" = vErrors["+$i+"]; if ("+$ruleErr+".dataPath === undefined) "+$ruleErr+".dataPath = (dataPath || '') + "+it.errorPath+"; if ("+$ruleErr+".schemaPath === undefined) { "+$ruleErr+'.schemaPath = "'+$errSchemaPath+'"; } ',it.opts.verbose&&(out+=" "+$ruleErr+".schema = "+$schemaValue+"; "+$ruleErr+".data = "+$data+"; "),out+=" } } "):$macro?(out+="   var err =   ",!1!==it.createErrors?(out+=" { keyword: '"+($errorKeyword||"custom")+"' , dataPath: (dataPath || '') + "+it.errorPath+" , schemaPath: "+it.util.toQuotedString($errSchemaPath)+" , params: { keyword: '"+this.keyword+"' } ",!1!==it.opts.messages&&(out+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),it.opts.verbose&&(out+=" , schema: validate.schema"+$schemaPath+" , parentSchema: validate.schema"+it.schemaPath+" , data: "+$data+" "),out+=" } "):out+=" {} ",out+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!it.compositeRule&&$breakOnError&&(it.async?out+=" throw new ValidationError(vErrors); ":out+=" validate.errors = vErrors; return false; ")):!1===$rDef.errors?out+=" "+def_customError+" ":(out+=" if (Array.isArray("+$ruleErrs+")) { if (vErrors === null) vErrors = "+$ruleErrs+"; else vErrors = vErrors.concat("+$ruleErrs+"); errors = vErrors.length;  for (var "+$i+"="+$errs+"; "+$i+"<errors; "+$i+"++) { var "+$ruleErr+" = vErrors["+$i+"]; if ("+$ruleErr+".dataPath === undefined) "+$ruleErr+".dataPath = (dataPath || '') + "+it.errorPath+";  "+$ruleErr+'.schemaPath = "'+$errSchemaPath+'";  ',it.opts.verbose&&(out+=" "+$ruleErr+".schema = "+$schemaValue+"; "+$ruleErr+".data = "+$data+"; "),out+=" } } else { "+def_customError+" } "),out+=" } ",$breakOnError&&(out+=" else { ")}return out}},function(module,exports,__webpack_require__){"use strict";var metaSchema=__webpack_require__(822);module.exports={$id:"https://github.com/epoberezkin/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:metaSchema.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:metaSchema.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},function(module){module.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},function(module,exports){function HARError(errors){this.name="HARError",this.message="validation failed",this.errors=errors,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error("validation failed").stack}HARError.prototype=Error.prototype,module.exports=HARError},function(module,exports,__webpack_require__){"use strict";module.exports={afterRequest:__webpack_require__(1025),beforeRequest:__webpack_require__(1026),browser:__webpack_require__(1027),cache:__webpack_require__(1028),content:__webpack_require__(1029),cookie:__webpack_require__(1030),creator:__webpack_require__(1031),entry:__webpack_require__(1032),har:__webpack_require__(1033),header:__webpack_require__(1034),log:__webpack_require__(1035),page:__webpack_require__(1036),pageTimings:__webpack_require__(1037),postData:__webpack_require__(1038),query:__webpack_require__(1039),request:__webpack_require__(1040),response:__webpack_require__(1041),timings:__webpack_require__(1042)}},function(module){module.exports=JSON.parse('{"$id":"afterRequest.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","optional":true,"required":["lastAccess","eTag","hitCount"],"properties":{"expires":{"type":"string","pattern":"^(\\\\d{4})(-)?(\\\\d\\\\d)(-)?(\\\\d\\\\d)(T)?(\\\\d\\\\d)(:)?(\\\\d\\\\d)(:)?(\\\\d\\\\d)(\\\\.\\\\d+)?(Z|([+-])(\\\\d\\\\d)(:)?(\\\\d\\\\d))?"},"lastAccess":{"type":"string","pattern":"^(\\\\d{4})(-)?(\\\\d\\\\d)(-)?(\\\\d\\\\d)(T)?(\\\\d\\\\d)(:)?(\\\\d\\\\d)(:)?(\\\\d\\\\d)(\\\\.\\\\d+)?(Z|([+-])(\\\\d\\\\d)(:)?(\\\\d\\\\d))?"},"eTag":{"type":"string"},"hitCount":{"type":"integer"},"comment":{"type":"string"}}}')},function(module){module.exports=JSON.parse('{"$id":"beforeRequest.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","optional":true,"required":["lastAccess","eTag","hitCount"],"properties":{"expires":{"type":"string","pattern":"^(\\\\d{4})(-)?(\\\\d\\\\d)(-)?(\\\\d\\\\d)(T)?(\\\\d\\\\d)(:)?(\\\\d\\\\d)(:)?(\\\\d\\\\d)(\\\\.\\\\d+)?(Z|([+-])(\\\\d\\\\d)(:)?(\\\\d\\\\d))?"},"lastAccess":{"type":"string","pattern":"^(\\\\d{4})(-)?(\\\\d\\\\d)(-)?(\\\\d\\\\d)(T)?(\\\\d\\\\d)(:)?(\\\\d\\\\d)(:)?(\\\\d\\\\d)(\\\\.\\\\d+)?(Z|([+-])(\\\\d\\\\d)(:)?(\\\\d\\\\d))?"},"eTag":{"type":"string"},"hitCount":{"type":"integer"},"comment":{"type":"string"}}}')},function(module){module.exports=JSON.parse('{"$id":"browser.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["name","version"],"properties":{"name":{"type":"string"},"version":{"type":"string"},"comment":{"type":"string"}}}')},function(module){module.exports=JSON.parse('{"$id":"cache.json#","$schema":"http://json-schema.org/draft-06/schema#","properties":{"beforeRequest":{"oneOf":[{"type":"null"},{"$ref":"beforeRequest.json#"}]},"afterRequest":{"oneOf":[{"type":"null"},{"$ref":"afterRequest.json#"}]},"comment":{"type":"string"}}}')},function(module){module.exports=JSON.parse('{"$id":"content.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["size","mimeType"],"properties":{"size":{"type":"integer"},"compression":{"type":"integer"},"mimeType":{"type":"string"},"text":{"type":"string"},"encoding":{"type":"string"},"comment":{"type":"string"}}}')},function(module){module.exports=JSON.parse('{"$id":"cookie.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["name","value"],"properties":{"name":{"type":"string"},"value":{"type":"string"},"path":{"type":"string"},"domain":{"type":"string"},"expires":{"type":["string","null"],"format":"date-time"},"httpOnly":{"type":"boolean"},"secure":{"type":"boolean"},"comment":{"type":"string"}}}')},function(module){module.exports=JSON.parse('{"$id":"creator.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["name","version"],"properties":{"name":{"type":"string"},"version":{"type":"string"},"comment":{"type":"string"}}}')},function(module){module.exports=JSON.parse('{"$id":"entry.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","optional":true,"required":["startedDateTime","time","request","response","cache","timings"],"properties":{"pageref":{"type":"string"},"startedDateTime":{"type":"string","format":"date-time","pattern":"^(\\\\d{4})(-)?(\\\\d\\\\d)(-)?(\\\\d\\\\d)(T)?(\\\\d\\\\d)(:)?(\\\\d\\\\d)(:)?(\\\\d\\\\d)(\\\\.\\\\d+)?(Z|([+-])(\\\\d\\\\d)(:)?(\\\\d\\\\d))"},"time":{"type":"number","min":0},"request":{"$ref":"request.json#"},"response":{"$ref":"response.json#"},"cache":{"$ref":"cache.json#"},"timings":{"$ref":"timings.json#"},"serverIPAddress":{"type":"string","oneOf":[{"format":"ipv4"},{"format":"ipv6"}]},"connection":{"type":"string"},"comment":{"type":"string"}}}')},function(module){module.exports=JSON.parse('{"$id":"har.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["log"],"properties":{"log":{"$ref":"log.json#"}}}')},function(module){module.exports=JSON.parse('{"$id":"header.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["name","value"],"properties":{"name":{"type":"string"},"value":{"type":"string"},"comment":{"type":"string"}}}')},function(module){module.exports=JSON.parse('{"$id":"log.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["version","creator","entries"],"properties":{"version":{"type":"string"},"creator":{"$ref":"creator.json#"},"browser":{"$ref":"browser.json#"},"pages":{"type":"array","items":{"$ref":"page.json#"}},"entries":{"type":"array","items":{"$ref":"entry.json#"}},"comment":{"type":"string"}}}')},function(module){module.exports=JSON.parse('{"$id":"page.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","optional":true,"required":["startedDateTime","id","title","pageTimings"],"properties":{"startedDateTime":{"type":"string","format":"date-time","pattern":"^(\\\\d{4})(-)?(\\\\d\\\\d)(-)?(\\\\d\\\\d)(T)?(\\\\d\\\\d)(:)?(\\\\d\\\\d)(:)?(\\\\d\\\\d)(\\\\.\\\\d+)?(Z|([+-])(\\\\d\\\\d)(:)?(\\\\d\\\\d))"},"id":{"type":"string","unique":true},"title":{"type":"string"},"pageTimings":{"$ref":"pageTimings.json#"},"comment":{"type":"string"}}}')},function(module){module.exports=JSON.parse('{"$id":"pageTimings.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","properties":{"onContentLoad":{"type":"number","min":-1},"onLoad":{"type":"number","min":-1},"comment":{"type":"string"}}}')},function(module){module.exports=JSON.parse('{"$id":"postData.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","optional":true,"required":["mimeType"],"properties":{"mimeType":{"type":"string"},"text":{"type":"string"},"params":{"type":"array","required":["name"],"properties":{"name":{"type":"string"},"value":{"type":"string"},"fileName":{"type":"string"},"contentType":{"type":"string"},"comment":{"type":"string"}}},"comment":{"type":"string"}}}')},function(module){module.exports=JSON.parse('{"$id":"query.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["name","value"],"properties":{"name":{"type":"string"},"value":{"type":"string"},"comment":{"type":"string"}}}')},function(module){module.exports=JSON.parse('{"$id":"request.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["method","url","httpVersion","cookies","headers","queryString","headersSize","bodySize"],"properties":{"method":{"type":"string"},"url":{"type":"string","format":"uri"},"httpVersion":{"type":"string"},"cookies":{"type":"array","items":{"$ref":"cookie.json#"}},"headers":{"type":"array","items":{"$ref":"header.json#"}},"queryString":{"type":"array","items":{"$ref":"query.json#"}},"postData":{"$ref":"postData.json#"},"headersSize":{"type":"integer"},"bodySize":{"type":"integer"},"comment":{"type":"string"}}}')},function(module){module.exports=JSON.parse('{"$id":"response.json#","$schema":"http://json-schema.org/draft-06/schema#","type":"object","required":["status","statusText","httpVersion","cookies","headers","content","redirectURL","headersSize","bodySize"],"properties":{"status":{"type":"integer"},"statusText":{"type":"string"},"httpVersion":{"type":"string"},"cookies":{"type":"array","items":{"$ref":"cookie.json#"}},"headers":{"type":"array","items":{"$ref":"header.json#"}},"content":{"$ref":"content.json#"},"redirectURL":{"type":"string"},"headersSize":{"type":"integer"},"bodySize":{"type":"integer"},"comment":{"type":"string"}}}')},function(module){module.exports=JSON.parse('{"$id":"timings.json#","$schema":"http://json-schema.org/draft-06/schema#","required":["send","wait","receive"],"properties":{"dns":{"type":"number","min":-1},"connect":{"type":"number","min":-1},"blocked":{"type":"number","min":-1},"send":{"type":"number","min":-1},"wait":{"type":"number","min":-1},"receive":{"type":"number","min":-1},"ssl":{"type":"number","min":-1},"comment":{"type":"string"}}}')},function(module){module.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-06/schema#","$id":"http://json-schema.org/draft-06/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"examples":{"type":"array","items":{}},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":{},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":{}}')},function(module,exports,__webpack_require__){"use strict";var caseless=__webpack_require__(446),uuid=__webpack_require__(402),helpers=__webpack_require__(439),md5=helpers.md5,toBase64=helpers.toBase64;function Auth(request){this.request=request,this.hasAuth=!1,this.sentAuth=!1,this.bearerToken=null,this.user=null,this.pass=null}Auth.prototype.basic=function(user,pass,sendImmediately){if(("string"!=typeof user||void 0!==pass&&"string"!=typeof pass)&&this.request.emit("error",new Error("auth() received invalid user or password")),this.user=user,this.pass=pass,this.hasAuth=!0,sendImmediately||void 0===sendImmediately){var authHeader="Basic "+toBase64(user+":"+(pass||""));return this.sentAuth=!0,authHeader}},Auth.prototype.bearer=function(bearer,sendImmediately){if(this.bearerToken=bearer,this.hasAuth=!0,sendImmediately||void 0===sendImmediately){"function"==typeof bearer&&(bearer=bearer());var authHeader="Bearer "+(bearer||"");return this.sentAuth=!0,authHeader}},Auth.prototype.digest=function(method,path,authHeader){for(var challenge={},re=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;;){var match=re.exec(authHeader);if(!match)break;challenge[match[1]]=match[2]||match[3]}var qop=/(^|,)\s*auth\s*($|,)/.test(challenge.qop)&&"auth",nc=qop&&"00000001",cnonce=qop&&uuid().replace(/-/g,""),ha1=function(algorithm,user,realm,pass,nonce,cnonce){var ha1=md5(user+":"+realm+":"+pass);return algorithm&&"md5-sess"===algorithm.toLowerCase()?md5(ha1+":"+nonce+":"+cnonce):ha1}(challenge.algorithm,this.user,challenge.realm,this.pass,challenge.nonce,cnonce),ha2=md5(method+":"+path),digestResponse=md5(qop?ha1+":"+challenge.nonce+":"+nc+":"+cnonce+":"+qop+":"+ha2:ha1+":"+challenge.nonce+":"+ha2),authValues={username:this.user,realm:challenge.realm,nonce:challenge.nonce,uri:path,qop:qop,response:digestResponse,nc:nc,cnonce:cnonce,algorithm:challenge.algorithm,opaque:challenge.opaque};for(var k in authHeader=[],authValues)authValues[k]&&("qop"===k||"nc"===k||"algorithm"===k?authHeader.push(k+"="+authValues[k]):authHeader.push(k+'="'+authValues[k]+'"'));return authHeader="Digest "+authHeader.join(", "),this.sentAuth=!0,authHeader},Auth.prototype.onRequest=function(user,pass,sendImmediately,bearer){var authHeader,request=this.request;void 0===bearer&&void 0===user?this.request.emit("error",new Error("no auth mechanism defined")):authHeader=void 0!==bearer?this.bearer(bearer,sendImmediately):this.basic(user,pass,sendImmediately),authHeader&&request.setHeader("authorization",authHeader)},Auth.prototype.onResponse=function(response){var request=this.request;if(!this.hasAuth||this.sentAuth)return null;var authHeader=caseless(response.headers).get("www-authenticate"),authVerb=authHeader&&authHeader.split(" ")[0].toLowerCase();switch(request.debug("reauth",authVerb),authVerb){case"basic":return this.basic(this.user,this.pass,!0);case"bearer":return this.bearer(this.bearerToken,!0);case"digest":return this.digest(request.method,request.path,authHeader)}},exports.Auth=Auth},function(module,exports,__webpack_require__){"use strict";var url=__webpack_require__(20),qs=__webpack_require__(289),caseless=__webpack_require__(446),uuid=__webpack_require__(402),oauth=__webpack_require__(1046),crypto=__webpack_require__(23),Buffer=__webpack_require__(179).Buffer;function OAuth(request){this.request=request,this.params=null}OAuth.prototype.buildParams=function(_oauth,uri,method,query,form,qsLib){var oa={};for(var i in _oauth)oa["oauth_"+i]=_oauth[i];oa.oauth_version||(oa.oauth_version="1.0"),oa.oauth_timestamp||(oa.oauth_timestamp=Math.floor(Date.now()/1e3).toString()),oa.oauth_nonce||(oa.oauth_nonce=uuid().replace(/-/g,"")),oa.oauth_signature_method||(oa.oauth_signature_method="HMAC-SHA1");var consumer_secret_or_private_key=oa.oauth_consumer_secret||oa.oauth_private_key;delete oa.oauth_consumer_secret,delete oa.oauth_private_key;var token_secret=oa.oauth_token_secret;delete oa.oauth_token_secret;var realm=oa.oauth_realm;delete oa.oauth_realm,delete oa.oauth_transport_method;var baseurl=uri.protocol+"//"+uri.host+uri.pathname,params=qsLib.parse([].concat(query,form,qsLib.stringify(oa)).join("&"));return oa.oauth_signature=oauth.sign(oa.oauth_signature_method,method,baseurl,params,consumer_secret_or_private_key,token_secret),realm&&(oa.realm=realm),oa},OAuth.prototype.buildBodyHash=function(_oauth,body){["HMAC-SHA1","RSA-SHA1"].indexOf(_oauth.signature_method||"HMAC-SHA1")<0&&this.request.emit("error",new Error("oauth: "+_oauth.signature_method+" signature_method not supported with body_hash signing."));var shasum=crypto.createHash("sha1");shasum.update(body||"");var sha1=shasum.digest("hex");return Buffer.from(sha1,"hex").toString("base64")},OAuth.prototype.concatParams=function(oa,sep,wrap){wrap=wrap||"";var params=Object.keys(oa).filter(function(i){return"realm"!==i&&"oauth_signature"!==i}).sort();return oa.realm&&params.splice(0,0,"realm"),params.push("oauth_signature"),params.map(function(i){return i+"="+wrap+oauth.rfc3986(oa[i])+wrap}).join(sep)},OAuth.prototype.onRequest=function(_oauth){this.params=_oauth;var form,query,uri=this.request.uri||{},method=this.request.method||"",headers=caseless(this.request.headers),body=this.request.body||"",qsLib=this.request.qsLib||qs,contentType=headers.get("content-type")||"",formContentType="application/x-www-form-urlencoded",transport=_oauth.transport_method||"header";contentType.slice(0,formContentType.length)===formContentType&&(contentType=formContentType,form=body),uri.query&&(query=uri.query),"body"!==transport||"POST"===method&&contentType===formContentType||this.request.emit("error",new Error("oauth: transport_method of body requires POST and content-type "+formContentType)),form||"boolean"!=typeof _oauth.body_hash||(_oauth.body_hash=this.buildBodyHash(_oauth,this.request.body.toString()));var oa=this.buildParams(_oauth,uri,method,query,form,qsLib);switch(transport){case"header":this.request.setHeader("Authorization","OAuth "+this.concatParams(oa,",",'"'));break;case"query":var href=this.request.uri.href+=(query?"&":"?")+this.concatParams(oa,"&");this.request.uri=url.parse(href),this.request.path=this.request.uri.path;break;case"body":this.request.body=(form?form+"&":"")+this.concatParams(oa,"&");break;default:this.request.emit("error",new Error("oauth: transport_method invalid"))}},exports.OAuth=OAuth},function(module,exports,__webpack_require__){var crypto=__webpack_require__(23);function sha(key,body,algorithm){return crypto.createHmac(algorithm,key).update(body).digest("base64")}function rfc3986(str){return encodeURIComponent(str).replace(/!/g,"%21").replace(/\*/g,"%2A").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/'/g,"%27")}function compare(a,b){return a>b?1:a<b?-1:0}function generateBase(httpMethod,base_uri,params){var normalized=function(obj){var key,val,arr=[];for(key in obj)if(val=obj[key],Array.isArray(val))for(var i=0;i<val.length;i++)arr.push([key,val[i]]);else if("object"==typeof val)for(var prop in val)arr.push([key+"["+prop+"]",val[prop]]);else arr.push([key,val]);return arr}(params).map(function(p){return[rfc3986(p[0]),rfc3986(p[1]||"")]}).sort(function(a,b){return compare(a[0],b[0])||compare(a[1],b[1])}).map(function(p){return p.join("=")}).join("&");return[rfc3986(httpMethod?httpMethod.toUpperCase():"GET"),rfc3986(base_uri),rfc3986(normalized)].join("&")}function hmacsign(httpMethod,base_uri,params,consumer_secret,token_secret){var base=generateBase(httpMethod,base_uri,params);return sha([consumer_secret||"",token_secret||""].map(rfc3986).join("&"),base,"sha1")}function hmacsign256(httpMethod,base_uri,params,consumer_secret,token_secret){var base=generateBase(httpMethod,base_uri,params);return sha([consumer_secret||"",token_secret||""].map(rfc3986).join("&"),base,"sha256")}function rsasign(httpMethod,base_uri,params,private_key,token_secret){return function(key,body){return crypto.createSign("RSA-SHA1").update(body).sign(key,"base64")}(private_key||"",generateBase(httpMethod,base_uri,params))}function plaintext(consumer_secret,token_secret){return[consumer_secret||"",token_secret||""].map(rfc3986).join("&")}exports.hmacsign=hmacsign,exports.hmacsign256=hmacsign256,exports.rsasign=rsasign,exports.plaintext=plaintext,exports.sign=function(signMethod,httpMethod,base_uri,params,consumer_secret,token_secret){var method,skipArgs=1;switch(signMethod){case"RSA-SHA1":method=rsasign;break;case"HMAC-SHA1":method=hmacsign;break;case"HMAC-SHA256":method=hmacsign256;break;case"PLAINTEXT":method=plaintext,skipArgs=4;break;default:throw new Error("Signature method not supported: "+signMethod)}return method.apply(null,[].slice.call(arguments,skipArgs))},exports.rfc3986=rfc3986,exports.generateBase=generateBase},function(module,exports,__webpack_require__){"use strict";var crypto=__webpack_require__(23);exports.calculateMac=function(credentials,opts){var normalized="hawk.1.header\n"+opts.ts+"\n"+opts.nonce+"\n"+(opts.method||"").toUpperCase()+"\n"+opts.resource+"\n"+opts.host.toLowerCase()+"\n"+opts.port+"\n"+(opts.hash||"")+"\n";return opts.ext&&(normalized+=opts.ext.replace("\\","\\\\").replace("\n","\\n")),normalized+="\n",opts.app&&(normalized=normalized+opts.app+"\n"+(opts.dlg||"")+"\n"),crypto.createHmac(credentials.algorithm,credentials.key).update(normalized).digest("base64")},exports.header=function(uri,method,opts){var timestamp=opts.timestamp||Math.floor((Date.now()+(opts.localtimeOffsetMsec||0))/1e3),credentials=opts.credentials;if(!(credentials&&credentials.id&&credentials.key&&credentials.algorithm))return"";if(-1===["sha1","sha256"].indexOf(credentials.algorithm))return"";var size,bits,payload,algorithm,contentType,hash,artifacts={ts:timestamp,nonce:opts.nonce||(size=6,bits=6*(size+1),crypto.randomBytes(Math.ceil(bits/8)).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"").slice(0,size)),method:method,resource:uri.pathname+(uri.search||""),host:uri.hostname,port:uri.port||("http:"===uri.protocol?80:443),hash:opts.hash,ext:opts.ext,app:opts.app,dlg:opts.dlg};artifacts.hash||!opts.payload&&""!==opts.payload||(artifacts.hash=(payload=opts.payload,algorithm=credentials.algorithm,contentType=opts.contentType,(hash=crypto.createHash(algorithm)).update("hawk.1.payload\n"),hash.update((contentType?contentType.split(";")[0].trim().toLowerCase():"")+"\n"),hash.update(payload||""),hash.update("\n"),hash.digest("base64")));var mac=exports.calculateMac(credentials,artifacts),hasExt=null!==artifacts.ext&&void 0!==artifacts.ext&&""!==artifacts.ext,header='Hawk id="'+credentials.id+'", ts="'+artifacts.ts+'", nonce="'+artifacts.nonce+(artifacts.hash?'", hash="'+artifacts.hash:"")+(hasExt?'", ext="'+artifacts.ext.replace(/\\/g,"\\\\").replace(/"/g,'\\"'):"")+'", mac="'+mac+'"';return artifacts.app&&(header=header+', app="'+artifacts.app+(artifacts.dlg?'", dlg="'+artifacts.dlg:"")+'"'),header}},function(module,exports,__webpack_require__){"use strict";var uuid=__webpack_require__(402),CombinedStream=__webpack_require__(807),isstream=__webpack_require__(814),Buffer=__webpack_require__(179).Buffer;function Multipart(request){this.request=request,this.boundary=uuid(),this.chunked=!1,this.body=null}Multipart.prototype.isChunked=function(options){var self=this,chunked=!1,parts=options.data||options;return parts.forEach||self.request.emit("error",new Error("Argument error, options.multipart.")),void 0!==options.chunked&&(chunked=options.chunked),"chunked"===self.request.getHeader("transfer-encoding")&&(chunked=!0),chunked||parts.forEach(function(part){void 0===part.body&&self.request.emit("error",new Error("Body attribute missing in multipart.")),isstream(part.body)&&(chunked=!0)}),chunked},Multipart.prototype.setHeaders=function(chunked){chunked&&!this.request.hasHeader("transfer-encoding")&&this.request.setHeader("transfer-encoding","chunked");var header=this.request.getHeader("content-type");header&&-1!==header.indexOf("multipart")?-1!==header.indexOf("boundary")?this.boundary=header.replace(/.*boundary=([^\s;]+).*/,"$1"):this.request.setHeader("content-type",header+"; boundary="+this.boundary):this.request.setHeader("content-type","multipart/related; boundary="+this.boundary)},Multipart.prototype.build=function(parts,chunked){var self=this,body=chunked?new CombinedStream:[];function add(part){return"number"==typeof part&&(part=part.toString()),chunked?body.append(part):body.push(Buffer.from(part))}return self.request.preambleCRLF&&add("\r\n"),parts.forEach(function(part){var preamble="--"+self.boundary+"\r\n";Object.keys(part).forEach(function(key){"body"!==key&&(preamble+=key+": "+part[key]+"\r\n")}),add(preamble+="\r\n"),add(part.body),add("\r\n")}),add("--"+self.boundary+"--"),self.request.postambleCRLF&&add("\r\n"),body},Multipart.prototype.onRequest=function(options){var chunked=this.isChunked(options),parts=options.data||options;this.setHeaders(chunked),this.chunked=chunked,this.body=this.build(parts,chunked)},exports.Multipart=Multipart},function(module,exports,__webpack_require__){"use strict";var url=__webpack_require__(20),isUrl=/^https?:/;function Redirect(request){this.request=request,this.followRedirect=!0,this.followRedirects=!0,this.followAllRedirects=!1,this.followOriginalHttpMethod=!1,this.allowRedirect=function(){return!0},this.maxRedirects=10,this.redirects=[],this.redirectsFollowed=0,this.removeRefererHeader=!1}Redirect.prototype.onRequest=function(options){void 0!==options.maxRedirects&&(this.maxRedirects=options.maxRedirects),"function"==typeof options.followRedirect&&(this.allowRedirect=options.followRedirect),void 0!==options.followRedirect&&(this.followRedirects=!!options.followRedirect),void 0!==options.followAllRedirects&&(this.followAllRedirects=options.followAllRedirects),(this.followRedirects||this.followAllRedirects)&&(this.redirects=this.redirects||[]),void 0!==options.removeRefererHeader&&(this.removeRefererHeader=options.removeRefererHeader),void 0!==options.followOriginalHttpMethod&&(this.followOriginalHttpMethod=options.followOriginalHttpMethod)},Redirect.prototype.redirectTo=function(response){var request=this.request,redirectTo=null;if(response.statusCode>=300&&response.statusCode<400&&response.caseless.has("location")){var location=response.caseless.get("location");if(request.debug("redirect",location),this.followAllRedirects)redirectTo=location;else if(this.followRedirects)switch(request.method){case"PATCH":case"PUT":case"POST":case"DELETE":break;default:redirectTo=location}}else if(401===response.statusCode){var authHeader=request._auth.onResponse(response);authHeader&&(request.setHeader("authorization",authHeader),redirectTo=request.uri)}return redirectTo},Redirect.prototype.onResponse=function(response){var request=this.request,redirectTo=this.redirectTo(response);if(!redirectTo||!this.allowRedirect.call(request,response))return!1;if(request.debug("redirect to",redirectTo),response.resume&&response.resume(),this.redirectsFollowed>=this.maxRedirects)return request.emit("error",new Error("Exceeded maxRedirects. Probably stuck in a redirect loop "+request.uri.href)),!1;this.redirectsFollowed+=1,isUrl.test(redirectTo)||(redirectTo=url.resolve(request.uri.href,redirectTo));var uriPrev=request.uri;return request.uri=url.parse(redirectTo),request.uri.protocol!==uriPrev.protocol&&delete request.agent,this.redirects.push({statusCode:response.statusCode,redirectUri:redirectTo}),this.followAllRedirects&&"HEAD"!==request.method&&401!==response.statusCode&&307!==response.statusCode&&(request.method=this.followOriginalHttpMethod?request.method:"GET"),delete request.src,delete request.req,delete request._started,401!==response.statusCode&&307!==response.statusCode&&(delete request.body,delete request._form,request.headers&&(request.removeHeader("host"),request.removeHeader("content-type"),request.removeHeader("content-length"),request.uri.hostname!==request.originalHost.split(":")[0]&&request.removeHeader("authorization"))),this.removeRefererHeader||request.setHeader("referer",uriPrev.href),request.emit("redirect"),request.init(),!0},exports.Redirect=Redirect},function(module,exports,__webpack_require__){"use strict";var url=__webpack_require__(20),tunnel=__webpack_require__(1051),defaultProxyHeaderWhiteList=["accept","accept-charset","accept-encoding","accept-language","accept-ranges","cache-control","content-encoding","content-language","content-location","content-md5","content-range","content-type","connection","date","expect","max-forwards","pragma","referer","te","user-agent","via"],defaultProxyHeaderExclusiveList=["proxy-authorization"];function Tunnel(request){this.request=request,this.proxyHeaderWhiteList=defaultProxyHeaderWhiteList,this.proxyHeaderExclusiveList=[],void 0!==request.tunnel&&(this.tunnelOverride=request.tunnel)}Tunnel.prototype.isEnabled=function(){var request=this.request;return void 0!==this.tunnelOverride?this.tunnelOverride:"https:"===request.uri.protocol},Tunnel.prototype.setup=function(options){var request=this.request;if(options=options||{},"string"==typeof request.proxy&&(request.proxy=url.parse(request.proxy)),!request.proxy||!request.tunnel)return!1;options.proxyHeaderWhiteList&&(this.proxyHeaderWhiteList=options.proxyHeaderWhiteList),options.proxyHeaderExclusiveList&&(this.proxyHeaderExclusiveList=options.proxyHeaderExclusiveList);var uriObject,port,protocol,proxyHost,proxyHeaderExclusiveList=this.proxyHeaderExclusiveList.concat(defaultProxyHeaderExclusiveList),proxyHeaderWhiteList=this.proxyHeaderWhiteList.concat(proxyHeaderExclusiveList),proxyHeaders=function(headers,proxyHeaderWhiteList){var whiteList=proxyHeaderWhiteList.reduce(function(set,header){return set[header.toLowerCase()]=!0,set},{});return Object.keys(headers).filter(function(header){return whiteList[header.toLowerCase()]}).reduce(function(set,header){return set[header]=headers[header],set},{})}(request.headers,proxyHeaderWhiteList);proxyHeaders.host=(uriObject=request.uri,port=uriObject.port,protocol=uriObject.protocol,proxyHost=uriObject.hostname+":",proxyHost+=port||("https:"===protocol?"443":"80")),proxyHeaderExclusiveList.forEach(request.removeHeader,request);var tunnelFn=function(request){var tunnelFnName=function(uri,proxy){return["https:"===uri.protocol?"https":"http","https:"===proxy.protocol?"Https":"Http"].join("Over")}(request.uri,request.proxy);return tunnel[tunnelFnName]}(request),tunnelOptions=function(request,proxyHeaders){var proxy=request.proxy;return{proxy:{host:proxy.hostname,port:+proxy.port,proxyAuth:proxy.auth,headers:proxyHeaders},headers:request.headers,ca:request.ca,cert:request.cert,key:request.key,passphrase:request.passphrase,pfx:request.pfx,ciphers:request.ciphers,rejectUnauthorized:request.rejectUnauthorized,secureOptions:request.secureOptions,secureProtocol:request.secureProtocol}}(request,proxyHeaders);return request.agent=tunnelFn(tunnelOptions),!0},Tunnel.defaultProxyHeaderWhiteList=defaultProxyHeaderWhiteList,Tunnel.defaultProxyHeaderExclusiveList=defaultProxyHeaderExclusiveList,exports.Tunnel=Tunnel},function(module,exports,__webpack_require__){"use strict";__webpack_require__(438);var debug,tls=__webpack_require__(806),http=__webpack_require__(65),https=__webpack_require__(95),events=__webpack_require__(43),assert=__webpack_require__(192),util=__webpack_require__(8),Buffer=__webpack_require__(179).Buffer;function TunnelingAgent(options){var self=this;self.options=options||{},self.proxyOptions=self.options.proxy||{},self.maxSockets=self.options.maxSockets||http.Agent.defaultMaxSockets,self.requests=[],self.sockets=[],self.on("free",function(socket,host,port){for(var i=0,len=self.requests.length;i<len;++i){var pending=self.requests[i];if(pending.host===host&&pending.port===port)return self.requests.splice(i,1),void pending.request.onSocket(socket)}socket.destroy(),self.removeSocket(socket)})}function createSecureSocket(options,cb){var self=this;TunnelingAgent.prototype.createSocket.call(self,options,function(socket){var secureSocket=tls.connect(0,mergeOptions({},self.options,{servername:options.host,socket:socket}));self.sockets[self.sockets.indexOf(socket)]=secureSocket,cb(secureSocket)})}function mergeOptions(target){for(var i=1,len=arguments.length;i<len;++i){var overrides=arguments[i];if("object"==typeof overrides)for(var keys=Object.keys(overrides),j=0,keyLen=keys.length;j<keyLen;++j){var k=keys[j];void 0!==overrides[k]&&(target[k]=overrides[k])}}return target}exports.httpOverHttp=function(options){var agent=new TunnelingAgent(options);return agent.request=http.request,agent},exports.httpsOverHttp=function(options){var agent=new TunnelingAgent(options);return agent.request=http.request,agent.createSocket=createSecureSocket,agent.defaultPort=443,agent},exports.httpOverHttps=function(options){var agent=new TunnelingAgent(options);return agent.request=https.request,agent},exports.httpsOverHttps=function(options){var agent=new TunnelingAgent(options);return agent.request=https.request,agent.createSocket=createSecureSocket,agent.defaultPort=443,agent},util.inherits(TunnelingAgent,events.EventEmitter),TunnelingAgent.prototype.addRequest=function(req,options){var self=this;"string"==typeof options&&(options={host:options,port:arguments[2],path:arguments[3]}),self.sockets.length>=this.maxSockets?self.requests.push({host:options.host,port:options.port,request:req}):self.createConnection({host:options.host,port:options.port,request:req})},TunnelingAgent.prototype.createConnection=function(pending){var self=this;self.createSocket(pending,function(socket){function onFree(){self.emit("free",socket,pending.host,pending.port)}function onCloseOrRemove(err){self.removeSocket(socket),socket.removeListener("free",onFree),socket.removeListener("close",onCloseOrRemove),socket.removeListener("agentRemove",onCloseOrRemove)}socket.on("free",onFree),socket.on("close",onCloseOrRemove),socket.on("agentRemove",onCloseOrRemove),pending.request.onSocket(socket)})},TunnelingAgent.prototype.createSocket=function(options,cb){var self=this,placeholder={};self.sockets.push(placeholder);var connectOptions=mergeOptions({},self.proxyOptions,{method:"CONNECT",path:options.host+":"+options.port,agent:!1});connectOptions.proxyAuth&&(connectOptions.headers=connectOptions.headers||{},connectOptions.headers["Proxy-Authorization"]="Basic "+Buffer.from(connectOptions.proxyAuth).toString("base64")),debug("making CONNECT request");var connectReq=self.request(connectOptions);function onConnect(res,socket,head){if(connectReq.removeAllListeners(),socket.removeAllListeners(),200===res.statusCode)assert.equal(head.length,0),debug("tunneling connection has established"),self.sockets[self.sockets.indexOf(placeholder)]=socket,cb(socket);else{debug("tunneling socket could not be established, statusCode=%d",res.statusCode);var error=new Error("tunneling socket could not be established, statusCode="+res.statusCode);error.code="ECONNRESET",options.request.emit("error",error),self.removeSocket(placeholder)}}connectReq.useChunkedEncodingByDefault=!1,connectReq.once("response",function(res){res.upgrade=!0}),connectReq.once("upgrade",function(res,socket,head){process.nextTick(function(){onConnect(res,socket,head)})}),connectReq.once("connect",onConnect),connectReq.once("error",function(cause){connectReq.removeAllListeners(),debug("tunneling socket could not be established, cause=%s\n",cause.message,cause.stack);var error=new Error("tunneling socket could not be established, cause="+cause.message);error.code="ECONNRESET",options.request.emit("error",error),self.removeSocket(placeholder)}),connectReq.end()},TunnelingAgent.prototype.removeSocket=function(socket){var pos=this.sockets.indexOf(socket);if(-1!==pos){this.sockets.splice(pos,1);var pending=this.requests.shift();pending&&this.createConnection(pending)}},debug=process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?function(){var args=Array.prototype.slice.call(arguments);"string"==typeof args[0]?args[0]="TUNNEL: "+args[0]:args.unshift("TUNNEL:"),console.error.apply(console,args)}:function(){},exports.debug=debug},function(module,exports){(function(){var getNanoSeconds,hrtime,loadTime,moduleLoadTime,nodeLoadTime,upTime;"undefined"!=typeof performance&&null!==performance&&performance.now?module.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(module.exports=function(){return(getNanoSeconds()-nodeLoadTime)/1e6},hrtime=process.hrtime,moduleLoadTime=(getNanoSeconds=function(){var hr;return 1e9*(hr=hrtime())[0]+hr[1]})(),upTime=1e9*process.uptime(),nodeLoadTime=moduleLoadTime-upTime):Date.now?(module.exports=function(){return Date.now()-loadTime},loadTime=Date.now()):(module.exports=function(){return(new Date).getTime()-loadTime},loadTime=(new Date).getTime())}).call(this)},function(module){module.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},function(module,exports){"function"==typeof Object.create?module.exports=function(ctor,superCtor){superCtor&&(ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}}))}:module.exports=function(ctor,superCtor){if(superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}}},function(module,exports,__webpack_require__){var NodePrototype=__webpack_require__(830),ElementPrototype=module.exports=Object.create(NodePrototype),domLvl1={tagName:"name"};Object.keys(domLvl1).forEach(function(key){var shorthand=domLvl1[key];Object.defineProperty(ElementPrototype,key,{get:function(){return this[shorthand]||null},set:function(val){return this[shorthand]=val,val}})})},function(module,exports,__webpack_require__){var DomHandler=__webpack_require__(829),DomUtils=__webpack_require__(180);function FeedHandler(callback,options){this.init(callback,options)}function getElements(what,where){return DomUtils.getElementsByTagName(what,where,!0)}function getOneElement(what,where){return DomUtils.getElementsByTagName(what,where,!0,1)[0]}function fetch(what,where,recurse){return DomUtils.getText(DomUtils.getElementsByTagName(what,where,recurse,1)).trim()}function addConditionally(obj,prop,what,where,recurse){var tmp=fetch(what,where,recurse);tmp&&(obj[prop]=tmp)}__webpack_require__(22)(FeedHandler,DomHandler),FeedHandler.prototype.init=DomHandler;var isValidFeed=function(value){return"rss"===value||"feed"===value||"rdf:RDF"===value};FeedHandler.prototype.onend=function(){var tmp,childs,feed={},feedRoot=getOneElement(isValidFeed,this.dom);feedRoot&&("feed"===feedRoot.name?(childs=feedRoot.children,feed.type="atom",addConditionally(feed,"id","id",childs),addConditionally(feed,"title","title",childs),(tmp=getOneElement("link",childs))&&(tmp=tmp.attribs)&&(tmp=tmp.href)&&(feed.link=tmp),addConditionally(feed,"description","subtitle",childs),(tmp=fetch("updated",childs))&&(feed.updated=new Date(tmp)),addConditionally(feed,"author","email",childs,!0),feed.items=getElements("entry",childs).map(function(item){var tmp,entry={};return addConditionally(entry,"id","id",item=item.children),addConditionally(entry,"title","title",item),(tmp=getOneElement("link",item))&&(tmp=tmp.attribs)&&(tmp=tmp.href)&&(entry.link=tmp),(tmp=fetch("summary",item)||fetch("content",item))&&(entry.description=tmp),(tmp=fetch("updated",item))&&(entry.pubDate=new Date(tmp)),entry})):(childs=getOneElement("channel",feedRoot.children).children,feed.type=feedRoot.name.substr(0,3),feed.id="",addConditionally(feed,"title","title",childs),addConditionally(feed,"link","link",childs),addConditionally(feed,"description","description",childs),(tmp=fetch("lastBuildDate",childs))&&(feed.updated=new Date(tmp)),addConditionally(feed,"author","managingEditor",childs,!0),feed.items=getElements("item",feedRoot.children).map(function(item){var tmp,entry={};return addConditionally(entry,"id","guid",item=item.children),addConditionally(entry,"title","title",item),addConditionally(entry,"link","link",item),addConditionally(entry,"description","description",item),(tmp=fetch("pubDate",item))&&(entry.pubDate=new Date(tmp)),entry}))),this.dom=feed,DomHandler.prototype._handleCallback.call(this,feedRoot?null:Error("couldn't find root of feed"))},module.exports=FeedHandler},function(module,exports,__webpack_require__){var ElementType=__webpack_require__(197),getOuterHTML=__webpack_require__(290),isTag=ElementType.isTag;module.exports={getInnerHTML:function(elem,opts){return elem.children?elem.children.map(function(elem){return getOuterHTML(elem,opts)}).join(""):""},getOuterHTML:getOuterHTML,getText:function getText(elem){if(Array.isArray(elem))return elem.map(getText).join("");if(isTag(elem))return"br"===elem.name?"\n":getText(elem.children);if(elem.type===ElementType.CDATA)return getText(elem.children);if(elem.type===ElementType.Text)return elem.data;return""}}},function(module,exports,__webpack_require__){var encode=__webpack_require__(1059),decode=__webpack_require__(1060);exports.decode=function(data,level){return(!level||level<=0?decode.XML:decode.HTML)(data)},exports.decodeStrict=function(data,level){return(!level||level<=0?decode.XML:decode.HTMLStrict)(data)},exports.encode=function(data,level){return(!level||level<=0?encode.XML:encode.HTML)(data)},exports.encodeXML=encode.XML,exports.encodeHTML4=exports.encodeHTML5=exports.encodeHTML=encode.HTML,exports.decodeXML=exports.decodeXMLStrict=decode.XML,exports.decodeHTML4=exports.decodeHTML5=exports.decodeHTML=decode.HTML,exports.decodeHTML4Strict=exports.decodeHTML5Strict=exports.decodeHTMLStrict=decode.HTMLStrict,exports.escape=encode.escape},function(module,exports,__webpack_require__){var inverseXML=getInverseObj(__webpack_require__(451)),xmlReplacer=getInverseReplacer(inverseXML);exports.XML=getInverse(inverseXML,xmlReplacer);var inverseHTML=getInverseObj(__webpack_require__(450)),htmlReplacer=getInverseReplacer(inverseHTML);function getInverseObj(obj){return Object.keys(obj).sort().reduce(function(inverse,name){return inverse[obj[name]]="&"+name+";",inverse},{})}function getInverseReplacer(inverse){var single=[],multiple=[];return Object.keys(inverse).forEach(function(k){1===k.length?single.push("\\"+k):multiple.push(k)}),multiple.unshift("["+single.join("")+"]"),new RegExp(multiple.join("|"),"g")}exports.HTML=getInverse(inverseHTML,htmlReplacer);var re_nonASCII=/[^\0-\x7F]/g,re_astralSymbols=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function singleCharReplacer(c){return"&#x"+c.charCodeAt(0).toString(16).toUpperCase()+";"}function astralReplacer(c){return"&#x"+(1024*(c.charCodeAt(0)-55296)+c.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function getInverse(inverse,re){function func(name){return inverse[name]}return function(data){return data.replace(re,func).replace(re_astralSymbols,astralReplacer).replace(re_nonASCII,singleCharReplacer)}}var re_xmlChars=getInverseReplacer(inverseXML);exports.escape=function(data){return data.replace(re_xmlChars,singleCharReplacer).replace(re_astralSymbols,astralReplacer).replace(re_nonASCII,singleCharReplacer)}},function(module,exports,__webpack_require__){var entityMap=__webpack_require__(450),legacyMap=__webpack_require__(828),xmlMap=__webpack_require__(451),decodeCodePoint=__webpack_require__(827),decodeXMLStrict=getStrictDecoder(xmlMap),decodeHTMLStrict=getStrictDecoder(entityMap);function getStrictDecoder(map){var keys=Object.keys(map).join("|"),replace=getReplacer(map),re=new RegExp("&(?:"+(keys+="|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(str){return String(str).replace(re,replace)}}var decodeHTML=function(){for(var legacy=Object.keys(legacyMap).sort(sorter),keys=Object.keys(entityMap).sort(sorter),i=0,j=0;i<keys.length;i++)legacy[j]===keys[i]?(keys[i]+=";?",j++):keys[i]+=";";var re=new RegExp("&(?:"+keys.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),replace=getReplacer(entityMap);function replacer(str){return";"!==str.substr(-1)&&(str+=";"),replace(str)}return function(str){return String(str).replace(re,replacer)}}();function sorter(a,b){return a<b?1:-1}function getReplacer(map){return function(str){return"#"===str.charAt(1)?"X"===str.charAt(2)||"x"===str.charAt(2)?decodeCodePoint(parseInt(str.substr(3),16)):decodeCodePoint(parseInt(str.substr(2),10)):map[str.slice(1,-1)]}}module.exports={XML:decodeXMLStrict,HTML:decodeHTML,HTMLStrict:decodeHTMLStrict}},function(module,exports){var getChildren=exports.getChildren=function(elem){return elem.children},getParent=exports.getParent=function(elem){return elem.parent};exports.getSiblings=function(elem){var parent=getParent(elem);return parent?getChildren(parent):[elem]},exports.getAttributeValue=function(elem,name){return elem.attribs&&elem.attribs[name]},exports.hasAttrib=function(elem,name){return!!elem.attribs&&hasOwnProperty.call(elem.attribs,name)},exports.getName=function(elem){return elem.name}},function(module,exports){exports.removeElement=function(elem){if(elem.prev&&(elem.prev.next=elem.next),elem.next&&(elem.next.prev=elem.prev),elem.parent){var childs=elem.parent.children;childs.splice(childs.lastIndexOf(elem),1)}},exports.replaceElement=function(elem,replacement){var prev=replacement.prev=elem.prev;prev&&(prev.next=replacement);var next=replacement.next=elem.next;next&&(next.prev=replacement);var parent=replacement.parent=elem.parent;if(parent){var childs=parent.children;childs[childs.lastIndexOf(elem)]=replacement}},exports.appendChild=function(elem,child){if(child.parent=elem,1!==elem.children.push(child)){var sibling=elem.children[elem.children.length-2];sibling.next=child,child.prev=sibling,child.next=null}},exports.append=function(elem,next){var parent=elem.parent,currNext=elem.next;if(next.next=currNext,next.prev=elem,elem.next=next,next.parent=parent,currNext){if(currNext.prev=next,parent){var childs=parent.children;childs.splice(childs.lastIndexOf(currNext),0,next)}}else parent&&parent.children.push(next)},exports.prepend=function(elem,prev){var parent=elem.parent;if(parent){var childs=parent.children;childs.splice(childs.lastIndexOf(elem),0,prev)}elem.prev&&(elem.prev.next=prev),prev.parent=parent,prev.prev=elem.prev,prev.next=elem,elem.prev=prev}},function(module,exports,__webpack_require__){var isTag=__webpack_require__(197).isTag;function find(test,elems,recurse,limit){for(var childs,result=[],i=0,j=elems.length;i<j&&!(test(elems[i])&&(result.push(elems[i]),--limit<=0))&&(childs=elems[i].children,!(recurse&&childs&&childs.length>0&&(childs=find(test,childs,recurse,limit),result=result.concat(childs),(limit-=childs.length)<=0)));i++);return result}module.exports={filter:function(test,element,recurse,limit){Array.isArray(element)||(element=[element]);"number"==typeof limit&&isFinite(limit)||(limit=1/0);return find(test,element,!1!==recurse,limit)},find:find,findOneChild:function(test,elems){for(var i=0,l=elems.length;i<l;i++)if(test(elems[i]))return elems[i];return null},findOne:function findOne(test,elems){var elem=null;for(var i=0,l=elems.length;i<l&&!elem;i++)isTag(elems[i])&&(test(elems[i])?elem=elems[i]:elems[i].children.length>0&&(elem=findOne(test,elems[i].children)));return elem},existsOne:function existsOne(test,elems){for(var i=0,l=elems.length;i<l;i++)if(isTag(elems[i])&&(test(elems[i])||elems[i].children.length>0&&existsOne(test,elems[i].children)))return!0;return!1},findAll:function(test,rootElems){var result=[],stack=rootElems.slice();for(;stack.length;){var elem=stack.shift();isTag(elem)&&(elem.children&&elem.children.length>0&&stack.unshift.apply(stack,elem.children),test(elem)&&result.push(elem))}return result}}},function(module,exports,__webpack_require__){var ElementType=__webpack_require__(197),isTag=exports.isTag=ElementType.isTag;exports.testElement=function(options,element){for(var key in options)if(options.hasOwnProperty(key)){if("tag_name"===key){if(!isTag(element)||!options.tag_name(element.name))return!1}else if("tag_type"===key){if(!options.tag_type(element.type))return!1}else if("tag_contains"===key){if(isTag(element)||!options.tag_contains(element.data))return!1}else if(!element.attribs||!options[key](element.attribs[key]))return!1}else;return!0};var Checks={tag_name:function(name){return"function"==typeof name?function(elem){return isTag(elem)&&name(elem.name)}:"*"===name?isTag:function(elem){return isTag(elem)&&elem.name===name}},tag_type:function(type){return"function"==typeof type?function(elem){return type(elem.type)}:function(elem){return elem.type===type}},tag_contains:function(data){return"function"==typeof data?function(elem){return!isTag(elem)&&data(elem.data)}:function(elem){return!isTag(elem)&&elem.data===data}}};function getAttribCheck(attrib,value){return"function"==typeof value?function(elem){return elem.attribs&&value(elem.attribs[attrib])}:function(elem){return elem.attribs&&elem.attribs[attrib]===value}}function combineFuncs(a,b){return function(elem){return a(elem)||b(elem)}}exports.getElements=function(options,element,recurse,limit){var funcs=Object.keys(options).map(function(key){var value=options[key];return key in Checks?Checks[key](value):getAttribCheck(key,value)});return 0===funcs.length?[]:this.filter(funcs.reduce(combineFuncs),element,recurse,limit)},exports.getElementById=function(id,element,recurse){return Array.isArray(element)||(element=[element]),this.findOne(getAttribCheck("id",id),element,!1!==recurse)},exports.getElementsByTagName=function(name,element,recurse,limit){return this.filter(Checks.tag_name(name),element,recurse,limit)},exports.getElementsByTagType=function(type,element,recurse,limit){return this.filter(Checks.tag_type(type),element,recurse,limit)}},function(module,exports){exports.removeSubsets=function(nodes){for(var node,ancestor,replace,idx=nodes.length;--idx>-1;){for(node=ancestor=nodes[idx],nodes[idx]=null,replace=!0;ancestor;){if(nodes.indexOf(ancestor)>-1){replace=!1,nodes.splice(idx,1);break}ancestor=ancestor.parent}replace&&(nodes[idx]=node)}return nodes};var POSITION_DISCONNECTED=1,POSITION_PRECEDING=2,POSITION_FOLLOWING=4,POSITION_CONTAINS=8,POSITION_CONTAINED_BY=16,comparePos=exports.compareDocumentPosition=function(nodeA,nodeB){var current,sharedParent,siblings,aSibling,bSibling,idx,aParents=[],bParents=[];if(nodeA===nodeB)return 0;for(current=nodeA;current;)aParents.unshift(current),current=current.parent;for(current=nodeB;current;)bParents.unshift(current),current=current.parent;for(idx=0;aParents[idx]===bParents[idx];)idx++;return 0===idx?POSITION_DISCONNECTED:(siblings=(sharedParent=aParents[idx-1]).children,aSibling=aParents[idx],bSibling=bParents[idx],siblings.indexOf(aSibling)>siblings.indexOf(bSibling)?sharedParent===nodeB?POSITION_FOLLOWING|POSITION_CONTAINED_BY:POSITION_FOLLOWING:sharedParent===nodeA?POSITION_PRECEDING|POSITION_CONTAINS:POSITION_PRECEDING)};exports.uniqueSort=function(nodes){var node,position,idx=nodes.length;for(nodes=nodes.slice();--idx>-1;)node=nodes[idx],(position=nodes.indexOf(node))>-1&&position<idx&&nodes.splice(idx,1);return nodes.sort(function(a,b){var relative=comparePos(a,b);return relative&POSITION_PRECEDING?-1:relative&POSITION_FOLLOWING?1:0}),nodes}},function(module,exports,__webpack_require__){module.exports=Stream;var Parser=__webpack_require__(831);function Stream(options){Parser.call(this,new Cbs(this),options)}function Cbs(scope){this.scope=scope}__webpack_require__(22)(Stream,Parser),Stream.prototype.readable=!0;var EVENTS=__webpack_require__(148).EVENTS;Object.keys(EVENTS).forEach(function(name){if(0===EVENTS[name])Cbs.prototype["on"+name]=function(){this.scope.emit(name)};else if(1===EVENTS[name])Cbs.prototype["on"+name]=function(a){this.scope.emit(name,a)};else{if(2!==EVENTS[name])throw Error("wrong number of arguments!");Cbs.prototype["on"+name]=function(a,b){this.scope.emit(name,a,b)}}})},function(module,exports,__webpack_require__){var Stream=__webpack_require__(10);"disable"===process.env.READABLE_STREAM&&Stream?(module.exports=Stream.Readable,Object.assign(module.exports,Stream),module.exports.Stream=Stream):((exports=module.exports=__webpack_require__(832)).Stream=Stream||exports,exports.Readable=exports,exports.Writable=__webpack_require__(836),exports.Duplex=__webpack_require__(199),exports.Transform=__webpack_require__(837),exports.PassThrough=__webpack_require__(1071),exports.finished=__webpack_require__(452),exports.pipeline=__webpack_require__(1072))},function(module,exports,__webpack_require__){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var Buffer=__webpack_require__(59).Buffer,inspect=__webpack_require__(8).inspect,custom=inspect&&inspect.custom||"inspect";module.exports=function(){function BufferList(){this.head=null,this.tail=null,this.length=0}var _proto=BufferList.prototype;return _proto.push=function(v){var entry={data:v,next:null};this.length>0?this.tail.next=entry:this.head=entry,this.tail=entry,++this.length},_proto.unshift=function(v){var entry={data:v,next:this.head};0===this.length&&(this.tail=entry),this.head=entry,++this.length},_proto.shift=function(){if(0!==this.length){var ret=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,ret}},_proto.clear=function(){this.head=this.tail=null,this.length=0},_proto.join=function(s){if(0===this.length)return"";for(var p=this.head,ret=""+p.data;p=p.next;)ret+=s+p.data;return ret},_proto.concat=function(n){if(0===this.length)return Buffer.alloc(0);for(var src,target,offset,ret=Buffer.allocUnsafe(n>>>0),p=this.head,i=0;p;)src=p.data,target=ret,offset=i,Buffer.prototype.copy.call(src,target,offset),i+=p.data.length,p=p.next;return ret},_proto.consume=function(n,hasStrings){var ret;return n<this.head.data.length?(ret=this.head.data.slice(0,n),this.head.data=this.head.data.slice(n)):ret=n===this.head.data.length?this.shift():hasStrings?this._getString(n):this._getBuffer(n),ret},_proto.first=function(){return this.head.data},_proto._getString=function(n){var p=this.head,c=1,ret=p.data;for(n-=ret.length;p=p.next;){var str=p.data,nb=n>str.length?str.length:n;if(nb===str.length?ret+=str:ret+=str.slice(0,n),0===(n-=nb)){nb===str.length?(++c,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=str.slice(nb));break}++c}return this.length-=c,ret},_proto._getBuffer=function(n){var ret=Buffer.allocUnsafe(n),p=this.head,c=1;for(p.data.copy(ret),n-=p.data.length;p=p.next;){var buf=p.data,nb=n>buf.length?buf.length:n;if(buf.copy(ret,ret.length-n,0,nb),0===(n-=nb)){nb===buf.length?(++c,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=buf.slice(nb));break}++c}return this.length-=c,ret},_proto[custom]=function(_,options){return inspect(this,function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}({},options,{depth:0,customInspect:!1}))},BufferList}()},function(module,exports,__webpack_require__){"use strict";var experimentalWarnings=new Set;module.exports.emitExperimentalWarning=process.emitWarning?function(feature){if(!experimentalWarnings.has(feature)){var msg=feature+" is an experimental feature. This feature could change at any time";experimentalWarnings.add(feature),process.emitWarning(msg,"ExperimentalWarning")}}:function(){}},function(module,exports,__webpack_require__){"use strict";var _Object$setPrototypeO;function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var finished=__webpack_require__(452),kLastResolve=Symbol("lastResolve"),kLastReject=Symbol("lastReject"),kError=Symbol("error"),kEnded=Symbol("ended"),kLastPromise=Symbol("lastPromise"),kHandlePromise=Symbol("handlePromise"),kStream=Symbol("stream");function createIterResult(value,done){return{value:value,done:done}}function readAndResolve(iter){var resolve=iter[kLastResolve];if(null!==resolve){var data=iter[kStream].read();null!==data&&(iter[kLastPromise]=null,iter[kLastResolve]=null,iter[kLastReject]=null,resolve(createIterResult(data,!1)))}}var AsyncIteratorPrototype=Object.getPrototypeOf(function(){}),ReadableStreamAsyncIteratorPrototype=Object.setPrototypeOf((_defineProperty(_Object$setPrototypeO={get stream(){return this[kStream]},next:function(){var _this=this,error=this[kError];if(null!==error)return Promise.reject(error);if(this[kEnded])return Promise.resolve(createIterResult(void 0,!0));if(this[kStream].destroyed)return new Promise(function(resolve,reject){process.nextTick(function(){_this[kError]?reject(_this[kError]):resolve(createIterResult(void 0,!0))})});var promise,lastPromise=this[kLastPromise];if(lastPromise)promise=new Promise(function(lastPromise,iter){return function(resolve,reject){lastPromise.then(function(){iter[kEnded]?resolve(createIterResult(void 0,!0)):iter[kHandlePromise](resolve,reject)},reject)}}(lastPromise,this));else{var data=this[kStream].read();if(null!==data)return Promise.resolve(createIterResult(data,!1));promise=new Promise(this[kHandlePromise])}return this[kLastPromise]=promise,promise}},Symbol.asyncIterator,function(){return this}),_defineProperty(_Object$setPrototypeO,"return",function(){var _this2=this;return new Promise(function(resolve,reject){_this2[kStream].destroy(null,function(err){err?reject(err):resolve(createIterResult(void 0,!0))})})}),_Object$setPrototypeO),AsyncIteratorPrototype);module.exports=function(stream){var _Object$create,iterator=Object.create(ReadableStreamAsyncIteratorPrototype,(_defineProperty(_Object$create={},kStream,{value:stream,writable:!0}),_defineProperty(_Object$create,kLastResolve,{value:null,writable:!0}),_defineProperty(_Object$create,kLastReject,{value:null,writable:!0}),_defineProperty(_Object$create,kError,{value:null,writable:!0}),_defineProperty(_Object$create,kEnded,{value:stream._readableState.endEmitted,writable:!0}),_defineProperty(_Object$create,kHandlePromise,{value:function(resolve,reject){var data=iterator[kStream].read();data?(iterator[kLastPromise]=null,iterator[kLastResolve]=null,iterator[kLastReject]=null,resolve(createIterResult(data,!1))):(iterator[kLastResolve]=resolve,iterator[kLastReject]=reject)},writable:!0}),_Object$create));return iterator[kLastPromise]=null,finished(stream,function(err){if(err&&"ERR_STREAM_PREMATURE_CLOSE"!==err.code){var reject=iterator[kLastReject];return null!==reject&&(iterator[kLastPromise]=null,iterator[kLastResolve]=null,iterator[kLastReject]=null,reject(err)),void(iterator[kError]=err)}var resolve=iterator[kLastResolve];null!==resolve&&(iterator[kLastPromise]=null,iterator[kLastResolve]=null,iterator[kLastReject]=null,resolve(createIterResult(void 0,!0))),iterator[kEnded]=!0}),stream.on("readable",function(iter){process.nextTick(readAndResolve,iter)}.bind(null,iterator)),iterator}},function(module,exports,__webpack_require__){"use strict";module.exports=PassThrough;var Transform=__webpack_require__(837);function PassThrough(options){if(!(this instanceof PassThrough))return new PassThrough(options);Transform.call(this,options)}__webpack_require__(22)(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},function(module,exports,__webpack_require__){"use strict";var eos;var _require$codes=__webpack_require__(198).codes,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED;function noop(err){if(err)throw err}function call(fn){fn()}function pipe(from,to){return from.pipe(to)}module.exports=function(){for(var _len=arguments.length,streams=new Array(_len),_key=0;_key<_len;_key++)streams[_key]=arguments[_key];var error,callback=function(streams){return streams.length?"function"!=typeof streams[streams.length-1]?noop:streams.pop():noop}(streams);if(Array.isArray(streams[0])&&(streams=streams[0]),streams.length<2)throw new ERR_MISSING_ARGS("streams");var destroys=streams.map(function(stream,i){var reading=i<streams.length-1;return function(stream,reading,writing,callback){callback=function(callback){var called=!1;return function(){called||(called=!0,callback.apply(void 0,arguments))}}(callback);var closed=!1;stream.on("close",function(){closed=!0}),void 0===eos&&(eos=__webpack_require__(452)),eos(stream,{readable:reading,writable:writing},function(err){if(err)return callback(err);closed=!0,callback()});var destroyed=!1;return function(err){if(!closed&&!destroyed)return destroyed=!0,function(stream){return stream.setHeader&&"function"==typeof stream.abort}(stream)?stream.abort():"function"==typeof stream.destroy?stream.destroy():void callback(err||new ERR_STREAM_DESTROYED("pipe"))}}(stream,reading,i>0,function(err){error||(error=err),err&&destroys.forEach(call),reading||(destroys.forEach(call),callback(error))})});return streams.reduce(pipe)}},function(module,exports,__webpack_require__){function ProxyHandler(cbs){this._cbs=cbs||{}}module.exports=ProxyHandler;var EVENTS=__webpack_require__(148).EVENTS;Object.keys(EVENTS).forEach(function(name){if(0===EVENTS[name])name="on"+name,ProxyHandler.prototype[name]=function(){this._cbs[name]&&this._cbs[name]()};else if(1===EVENTS[name])name="on"+name,ProxyHandler.prototype[name]=function(a){this._cbs[name]&&this._cbs[name](a)};else{if(2!==EVENTS[name])throw Error("wrong number of arguments");name="on"+name,ProxyHandler.prototype[name]=function(a,b){this._cbs[name]&&this._cbs[name](a,b)}}})},function(module,exports,__webpack_require__){function CollectingHandler(cbs){this._cbs=cbs||{},this.events=[]}module.exports=CollectingHandler;var EVENTS=__webpack_require__(148).EVENTS;Object.keys(EVENTS).forEach(function(name){if(0===EVENTS[name])name="on"+name,CollectingHandler.prototype[name]=function(){this.events.push([name]),this._cbs[name]&&this._cbs[name]()};else if(1===EVENTS[name])name="on"+name,CollectingHandler.prototype[name]=function(a){this.events.push([name,a]),this._cbs[name]&&this._cbs[name](a)};else{if(2!==EVENTS[name])throw Error("wrong number of arguments");name="on"+name,CollectingHandler.prototype[name]=function(a,b){this.events.push([name,a,b]),this._cbs[name]&&this._cbs[name](a,b)}}}),CollectingHandler.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},CollectingHandler.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var i=0,len=this.events.length;i<len;i++)if(this._cbs[this.events[i][0]]){var num=this.events[i].length;1===num?this._cbs[this.events[i][0]]():2===num?this._cbs[this.events[i][0]](this.events[i][1]):this._cbs[this.events[i][0]](this.events[i][1],this.events[i][2])}}},function(module,exports,__webpack_require__){"use strict";var Parser=__webpack_require__(838),Serializer=__webpack_require__(842);exports.parse=function(html,options){return new Parser(options).parse(html)},exports.parseFragment=function(fragmentContext,html,options){return"string"==typeof fragmentContext&&(options=html,html=fragmentContext,fragmentContext=null),new Parser(options).parseFragment(html,fragmentContext)},exports.serialize=function(node,options){return new Serializer(node,options).serialize()},exports.treeAdapters={default:__webpack_require__(453),htmlparser2:__webpack_require__(1082)},exports.ParserStream=__webpack_require__(843),exports.PlainTextConversionStream=__webpack_require__(1083),exports.SerializerStream=__webpack_require__(1084),exports.SAXParser=__webpack_require__(1085)},function(module,exports,__webpack_require__){"use strict";var $=__webpack_require__(267).CODE_POINTS;var Preprocessor=module.exports=function(){this.html=null,this.pos=-1,this.lastGapPos=-1,this.lastCharPos=-1,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536};Preprocessor.prototype.dropParsedChunk=function(){this.pos>this.bufferWaterline&&(this.lastCharPos-=this.pos,this.html=this.html.substring(this.pos),this.pos=0,this.lastGapPos=-1,this.gapStack=[])},Preprocessor.prototype._addGap=function(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos},Preprocessor.prototype._processHighRangeCodePoint=function(cp){if(this.pos!==this.lastCharPos){var nextCp=this.html.charCodeAt(this.pos+1);cp2=nextCp,(cp1=cp)>=55296&&cp1<=56319&&cp2>=56320&&cp2<=57343&&(this.pos++,cp=function(cp1,cp2){return 1024*(cp1-55296)+9216+cp2}(cp,nextCp),this._addGap())}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,$.EOF;var cp1,cp2;return cp},Preprocessor.prototype.write=function(chunk,isLastChunk){this.html?this.html+=chunk:this.html=chunk,this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1,this.lastChunkWritten=isLastChunk},Preprocessor.prototype.insertHtmlAtCurrentPos=function(chunk){this.html=this.html.substring(0,this.pos+1)+chunk+this.html.substring(this.pos+1,this.html.length),this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1},Preprocessor.prototype.advance=function(){if(this.pos++,this.pos>this.lastCharPos)return this.lastChunkWritten||(this.endOfChunkHit=!0),$.EOF;var cp=this.html.charCodeAt(this.pos);return this.skipNextNewLine&&cp===$.LINE_FEED?(this.skipNextNewLine=!1,this._addGap(),this.advance()):cp===$.CARRIAGE_RETURN?(this.skipNextNewLine=!0,$.LINE_FEED):(this.skipNextNewLine=!1,cp>=55296?this._processHighRangeCodePoint(cp):cp)},Preprocessor.prototype.retreat=function(){this.pos===this.lastGapPos&&(this.lastGapPos=this.gapStack.pop(),this.pos--),this.pos--}},function(module,exports,__webpack_require__){"use strict";module.exports=new Uint16Array([4,52,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,106,303,412,810,1432,1701,1796,1987,2114,2360,2420,2484,3170,3251,4140,4393,4575,4610,5106,5512,5728,6117,6274,6315,6345,6427,6516,7002,7910,8733,9323,9870,10170,10631,10893,11318,11386,11467,12773,13092,14474,14922,15448,15542,16419,17666,18166,18611,19004,19095,19298,19397,4,16,69,77,97,98,99,102,103,108,109,110,111,112,114,115,116,117,140,150,158,169,176,194,199,210,216,222,226,242,256,266,283,294,108,105,103,5,198,1,59,148,1,198,80,5,38,1,59,156,1,38,99,117,116,101,5,193,1,59,167,1,193,114,101,118,101,59,1,258,4,2,105,121,182,191,114,99,5,194,1,59,189,1,194,59,1,1040,114,59,3,55349,56580,114,97,118,101,5,192,1,59,208,1,192,112,104,97,59,1,913,97,99,114,59,1,256,100,59,1,10835,4,2,103,112,232,237,111,110,59,1,260,102,59,3,55349,56632,112,108,121,70,117,110,99,116,105,111,110,59,1,8289,105,110,103,5,197,1,59,264,1,197,4,2,99,115,272,277,114,59,3,55349,56476,105,103,110,59,1,8788,105,108,100,101,5,195,1,59,292,1,195,109,108,5,196,1,59,301,1,196,4,8,97,99,101,102,111,114,115,117,321,350,354,383,388,394,400,405,4,2,99,114,327,336,107,115,108,97,115,104,59,1,8726,4,2,118,119,342,345,59,1,10983,101,100,59,1,8966,121,59,1,1041,4,3,99,114,116,362,369,379,97,117,115,101,59,1,8757,110,111,117,108,108,105,115,59,1,8492,97,59,1,914,114,59,3,55349,56581,112,102,59,3,55349,56633,101,118,101,59,1,728,99,114,59,1,8492,109,112,101,113,59,1,8782,4,14,72,79,97,99,100,101,102,104,105,108,111,114,115,117,442,447,456,504,542,547,569,573,577,616,678,784,790,796,99,121,59,1,1063,80,89,5,169,1,59,454,1,169,4,3,99,112,121,464,470,497,117,116,101,59,1,262,4,2,59,105,476,478,1,8914,116,97,108,68,105,102,102,101,114,101,110,116,105,97,108,68,59,1,8517,108,101,121,115,59,1,8493,4,4,97,101,105,111,514,520,530,535,114,111,110,59,1,268,100,105,108,5,199,1,59,528,1,199,114,99,59,1,264,110,105,110,116,59,1,8752,111,116,59,1,266,4,2,100,110,553,560,105,108,108,97,59,1,184,116,101,114,68,111,116,59,1,183,114,59,1,8493,105,59,1,935,114,99,108,101,4,4,68,77,80,84,591,596,603,609,111,116,59,1,8857,105,110,117,115,59,1,8854,108,117,115,59,1,8853,105,109,101,115,59,1,8855,111,4,2,99,115,623,646,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8754,101,67,117,114,108,121,4,2,68,81,658,671,111,117,98,108,101,81,117,111,116,101,59,1,8221,117,111,116,101,59,1,8217,4,4,108,110,112,117,688,701,736,753,111,110,4,2,59,101,696,698,1,8759,59,1,10868,4,3,103,105,116,709,717,722,114,117,101,110,116,59,1,8801,110,116,59,1,8751,111,117,114,73,110,116,101,103,114,97,108,59,1,8750,4,2,102,114,742,745,59,1,8450,111,100,117,99,116,59,1,8720,110,116,101,114,67,108,111,99,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8755,111,115,115,59,1,10799,99,114,59,3,55349,56478,112,4,2,59,67,803,805,1,8915,97,112,59,1,8781,4,11,68,74,83,90,97,99,101,102,105,111,115,834,850,855,860,865,888,903,916,921,1011,1415,4,2,59,111,840,842,1,8517,116,114,97,104,100,59,1,10513,99,121,59,1,1026,99,121,59,1,1029,99,121,59,1,1039,4,3,103,114,115,873,879,883,103,101,114,59,1,8225,114,59,1,8609,104,118,59,1,10980,4,2,97,121,894,900,114,111,110,59,1,270,59,1,1044,108,4,2,59,116,910,912,1,8711,97,59,1,916,114,59,3,55349,56583,4,2,97,102,927,998,4,2,99,109,933,992,114,105,116,105,99,97,108,4,4,65,68,71,84,950,957,978,985,99,117,116,101,59,1,180,111,4,2,116,117,964,967,59,1,729,98,108,101,65,99,117,116,101,59,1,733,114,97,118,101,59,1,96,105,108,100,101,59,1,732,111,110,100,59,1,8900,102,101,114,101,110,116,105,97,108,68,59,1,8518,4,4,112,116,117,119,1021,1026,1048,1249,102,59,3,55349,56635,4,3,59,68,69,1034,1036,1041,1,168,111,116,59,1,8412,113,117,97,108,59,1,8784,98,108,101,4,6,67,68,76,82,85,86,1065,1082,1101,1189,1211,1236,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8751,111,4,2,116,119,1089,1092,59,1,168,110,65,114,114,111,119,59,1,8659,4,2,101,111,1107,1141,102,116,4,3,65,82,84,1117,1124,1136,114,114,111,119,59,1,8656,105,103,104,116,65,114,114,111,119,59,1,8660,101,101,59,1,10980,110,103,4,2,76,82,1149,1177,101,102,116,4,2,65,82,1158,1165,114,114,111,119,59,1,10232,105,103,104,116,65,114,114,111,119,59,1,10234,105,103,104,116,65,114,114,111,119,59,1,10233,105,103,104,116,4,2,65,84,1199,1206,114,114,111,119,59,1,8658,101,101,59,1,8872,112,4,2,65,68,1218,1225,114,114,111,119,59,1,8657,111,119,110,65,114,114,111,119,59,1,8661,101,114,116,105,99,97,108,66,97,114,59,1,8741,110,4,6,65,66,76,82,84,97,1264,1292,1299,1352,1391,1408,114,114,111,119,4,3,59,66,85,1276,1278,1283,1,8595,97,114,59,1,10515,112,65,114,114,111,119,59,1,8693,114,101,118,101,59,1,785,101,102,116,4,3,82,84,86,1310,1323,1334,105,103,104,116,86,101,99,116,111,114,59,1,10576,101,101,86,101,99,116,111,114,59,1,10590,101,99,116,111,114,4,2,59,66,1345,1347,1,8637,97,114,59,1,10582,105,103,104,116,4,2,84,86,1362,1373,101,101,86,101,99,116,111,114,59,1,10591,101,99,116,111,114,4,2,59,66,1384,1386,1,8641,97,114,59,1,10583,101,101,4,2,59,65,1399,1401,1,8868,114,114,111,119,59,1,8615,114,114,111,119,59,1,8659,4,2,99,116,1421,1426,114,59,3,55349,56479,114,111,107,59,1,272,4,16,78,84,97,99,100,102,103,108,109,111,112,113,115,116,117,120,1466,1470,1478,1489,1515,1520,1525,1536,1544,1593,1609,1617,1650,1664,1668,1677,71,59,1,330,72,5,208,1,59,1476,1,208,99,117,116,101,5,201,1,59,1487,1,201,4,3,97,105,121,1497,1503,1512,114,111,110,59,1,282,114,99,5,202,1,59,1510,1,202,59,1,1069,111,116,59,1,278,114,59,3,55349,56584,114,97,118,101,5,200,1,59,1534,1,200,101,109,101,110,116,59,1,8712,4,2,97,112,1550,1555,99,114,59,1,274,116,121,4,2,83,86,1563,1576,109,97,108,108,83,113,117,97,114,101,59,1,9723,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9643,4,2,103,112,1599,1604,111,110,59,1,280,102,59,3,55349,56636,115,105,108,111,110,59,1,917,117,4,2,97,105,1624,1640,108,4,2,59,84,1631,1633,1,10869,105,108,100,101,59,1,8770,108,105,98,114,105,117,109,59,1,8652,4,2,99,105,1656,1660,114,59,1,8496,109,59,1,10867,97,59,1,919,109,108,5,203,1,59,1675,1,203,4,2,105,112,1683,1689,115,116,115,59,1,8707,111,110,101,110,116,105,97,108,69,59,1,8519,4,5,99,102,105,111,115,1713,1717,1722,1762,1791,121,59,1,1060,114,59,3,55349,56585,108,108,101,100,4,2,83,86,1732,1745,109,97,108,108,83,113,117,97,114,101,59,1,9724,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9642,4,3,112,114,117,1770,1775,1781,102,59,3,55349,56637,65,108,108,59,1,8704,114,105,101,114,116,114,102,59,1,8497,99,114,59,1,8497,4,12,74,84,97,98,99,100,102,103,111,114,115,116,1822,1827,1834,1848,1855,1877,1882,1887,1890,1896,1978,1984,99,121,59,1,1027,5,62,1,59,1832,1,62,109,109,97,4,2,59,100,1843,1845,1,915,59,1,988,114,101,118,101,59,1,286,4,3,101,105,121,1863,1869,1874,100,105,108,59,1,290,114,99,59,1,284,59,1,1043,111,116,59,1,288,114,59,3,55349,56586,59,1,8921,112,102,59,3,55349,56638,101,97,116,101,114,4,6,69,70,71,76,83,84,1915,1933,1944,1953,1959,1971,113,117,97,108,4,2,59,76,1925,1927,1,8805,101,115,115,59,1,8923,117,108,108,69,113,117,97,108,59,1,8807,114,101,97,116,101,114,59,1,10914,101,115,115,59,1,8823,108,97,110,116,69,113,117,97,108,59,1,10878,105,108,100,101,59,1,8819,99,114,59,3,55349,56482,59,1,8811,4,8,65,97,99,102,105,111,115,117,2005,2012,2026,2032,2036,2049,2073,2089,82,68,99,121,59,1,1066,4,2,99,116,2018,2023,101,107,59,1,711,59,1,94,105,114,99,59,1,292,114,59,1,8460,108,98,101,114,116,83,112,97,99,101,59,1,8459,4,2,112,114,2055,2059,102,59,1,8461,105,122,111,110,116,97,108,76,105,110,101,59,1,9472,4,2,99,116,2079,2083,114,59,1,8459,114,111,107,59,1,294,109,112,4,2,68,69,2097,2107,111,119,110,72,117,109,112,59,1,8782,113,117,97,108,59,1,8783,4,14,69,74,79,97,99,100,102,103,109,110,111,115,116,117,2144,2149,2155,2160,2171,2189,2194,2198,2209,2245,2307,2329,2334,2341,99,121,59,1,1045,108,105,103,59,1,306,99,121,59,1,1025,99,117,116,101,5,205,1,59,2169,1,205,4,2,105,121,2177,2186,114,99,5,206,1,59,2184,1,206,59,1,1048,111,116,59,1,304,114,59,1,8465,114,97,118,101,5,204,1,59,2207,1,204,4,3,59,97,112,2217,2219,2238,1,8465,4,2,99,103,2225,2229,114,59,1,298,105,110,97,114,121,73,59,1,8520,108,105,101,115,59,1,8658,4,2,116,118,2251,2281,4,2,59,101,2257,2259,1,8748,4,2,103,114,2265,2271,114,97,108,59,1,8747,115,101,99,116,105,111,110,59,1,8898,105,115,105,98,108,101,4,2,67,84,2293,2300,111,109,109,97,59,1,8291,105,109,101,115,59,1,8290,4,3,103,112,116,2315,2320,2325,111,110,59,1,302,102,59,3,55349,56640,97,59,1,921,99,114,59,1,8464,105,108,100,101,59,1,296,4,2,107,109,2347,2352,99,121,59,1,1030,108,5,207,1,59,2358,1,207,4,5,99,102,111,115,117,2372,2386,2391,2397,2414,4,2,105,121,2378,2383,114,99,59,1,308,59,1,1049,114,59,3,55349,56589,112,102,59,3,55349,56641,4,2,99,101,2403,2408,114,59,3,55349,56485,114,99,121,59,1,1032,107,99,121,59,1,1028,4,7,72,74,97,99,102,111,115,2436,2441,2446,2452,2467,2472,2478,99,121,59,1,1061,99,121,59,1,1036,112,112,97,59,1,922,4,2,101,121,2458,2464,100,105,108,59,1,310,59,1,1050,114,59,3,55349,56590,112,102,59,3,55349,56642,99,114,59,3,55349,56486,4,11,74,84,97,99,101,102,108,109,111,115,116,2508,2513,2520,2562,2585,2981,2986,3004,3011,3146,3167,99,121,59,1,1033,5,60,1,59,2518,1,60,4,5,99,109,110,112,114,2532,2538,2544,2548,2558,117,116,101,59,1,313,98,100,97,59,1,923,103,59,1,10218,108,97,99,101,116,114,102,59,1,8466,114,59,1,8606,4,3,97,101,121,2570,2576,2582,114,111,110,59,1,317,100,105,108,59,1,315,59,1,1051,4,2,102,115,2591,2907,116,4,10,65,67,68,70,82,84,85,86,97,114,2614,2663,2672,2728,2735,2760,2820,2870,2888,2895,4,2,110,114,2620,2633,103,108,101,66,114,97,99,107,101,116,59,1,10216,114,111,119,4,3,59,66,82,2644,2646,2651,1,8592,97,114,59,1,8676,105,103,104,116,65,114,114,111,119,59,1,8646,101,105,108,105,110,103,59,1,8968,111,4,2,117,119,2679,2692,98,108,101,66,114,97,99,107,101,116,59,1,10214,110,4,2,84,86,2699,2710,101,101,86,101,99,116,111,114,59,1,10593,101,99,116,111,114,4,2,59,66,2721,2723,1,8643,97,114,59,1,10585,108,111,111,114,59,1,8970,105,103,104,116,4,2,65,86,2745,2752,114,114,111,119,59,1,8596,101,99,116,111,114,59,1,10574,4,2,101,114,2766,2792,101,4,3,59,65,86,2775,2777,2784,1,8867,114,114,111,119,59,1,8612,101,99,116,111,114,59,1,10586,105,97,110,103,108,101,4,3,59,66,69,2806,2808,2813,1,8882,97,114,59,1,10703,113,117,97,108,59,1,8884,112,4,3,68,84,86,2829,2841,2852,111,119,110,86,101,99,116,111,114,59,1,10577,101,101,86,101,99,116,111,114,59,1,10592,101,99,116,111,114,4,2,59,66,2863,2865,1,8639,97,114,59,1,10584,101,99,116,111,114,4,2,59,66,2881,2883,1,8636,97,114,59,1,10578,114,114,111,119,59,1,8656,105,103,104,116,97,114,114,111,119,59,1,8660,115,4,6,69,70,71,76,83,84,2922,2936,2947,2956,2962,2974,113,117,97,108,71,114,101,97,116,101,114,59,1,8922,117,108,108,69,113,117,97,108,59,1,8806,114,101,97,116,101,114,59,1,8822,101,115,115,59,1,10913,108,97,110,116,69,113,117,97,108,59,1,10877,105,108,100,101,59,1,8818,114,59,3,55349,56591,4,2,59,101,2992,2994,1,8920,102,116,97,114,114,111,119,59,1,8666,105,100,111,116,59,1,319,4,3,110,112,119,3019,3110,3115,103,4,4,76,82,108,114,3030,3058,3070,3098,101,102,116,4,2,65,82,3039,3046,114,114,111,119,59,1,10229,105,103,104,116,65,114,114,111,119,59,1,10231,105,103,104,116,65,114,114,111,119,59,1,10230,101,102,116,4,2,97,114,3079,3086,114,114,111,119,59,1,10232,105,103,104,116,97,114,114,111,119,59,1,10234,105,103,104,116,97,114,114,111,119,59,1,10233,102,59,3,55349,56643,101,114,4,2,76,82,3123,3134,101,102,116,65,114,114,111,119,59,1,8601,105,103,104,116,65,114,114,111,119,59,1,8600,4,3,99,104,116,3154,3158,3161,114,59,1,8466,59,1,8624,114,111,107,59,1,321,59,1,8810,4,8,97,99,101,102,105,111,115,117,3188,3192,3196,3222,3227,3237,3243,3248,112,59,1,10501,121,59,1,1052,4,2,100,108,3202,3213,105,117,109,83,112,97,99,101,59,1,8287,108,105,110,116,114,102,59,1,8499,114,59,3,55349,56592,110,117,115,80,108,117,115,59,1,8723,112,102,59,3,55349,56644,99,114,59,1,8499,59,1,924,4,9,74,97,99,101,102,111,115,116,117,3271,3276,3283,3306,3422,3427,4120,4126,4137,99,121,59,1,1034,99,117,116,101,59,1,323,4,3,97,101,121,3291,3297,3303,114,111,110,59,1,327,100,105,108,59,1,325,59,1,1053,4,3,103,115,119,3314,3380,3415,97,116,105,118,101,4,3,77,84,86,3327,3340,3365,101,100,105,117,109,83,112,97,99,101,59,1,8203,104,105,4,2,99,110,3348,3357,107,83,112,97,99,101,59,1,8203,83,112,97,99,101,59,1,8203,101,114,121,84,104,105,110,83,112,97,99,101,59,1,8203,116,101,100,4,2,71,76,3389,3405,114,101,97,116,101,114,71,114,101,97,116,101,114,59,1,8811,101,115,115,76,101,115,115,59,1,8810,76,105,110,101,59,1,10,114,59,3,55349,56593,4,4,66,110,112,116,3437,3444,3460,3464,114,101,97,107,59,1,8288,66,114,101,97,107,105,110,103,83,112,97,99,101,59,1,160,102,59,1,8469,4,13,59,67,68,69,71,72,76,78,80,82,83,84,86,3492,3494,3517,3536,3578,3657,3685,3784,3823,3860,3915,4066,4107,1,10988,4,2,111,117,3500,3510,110,103,114,117,101,110,116,59,1,8802,112,67,97,112,59,1,8813,111,117,98,108,101,86,101,114,116,105,99,97,108,66,97,114,59,1,8742,4,3,108,113,120,3544,3552,3571,101,109,101,110,116,59,1,8713,117,97,108,4,2,59,84,3561,3563,1,8800,105,108,100,101,59,3,8770,824,105,115,116,115,59,1,8708,114,101,97,116,101,114,4,7,59,69,70,71,76,83,84,3600,3602,3609,3621,3631,3637,3650,1,8815,113,117,97,108,59,1,8817,117,108,108,69,113,117,97,108,59,3,8807,824,114,101,97,116,101,114,59,3,8811,824,101,115,115,59,1,8825,108,97,110,116,69,113,117,97,108,59,3,10878,824,105,108,100,101,59,1,8821,117,109,112,4,2,68,69,3666,3677,111,119,110,72,117,109,112,59,3,8782,824,113,117,97,108,59,3,8783,824,101,4,2,102,115,3692,3724,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3709,3711,3717,1,8938,97,114,59,3,10703,824,113,117,97,108,59,1,8940,115,4,6,59,69,71,76,83,84,3739,3741,3748,3757,3764,3777,1,8814,113,117,97,108,59,1,8816,114,101,97,116,101,114,59,1,8824,101,115,115,59,3,8810,824,108,97,110,116,69,113,117,97,108,59,3,10877,824,105,108,100,101,59,1,8820,101,115,116,101,100,4,2,71,76,3795,3812,114,101,97,116,101,114,71,114,101,97,116,101,114,59,3,10914,824,101,115,115,76,101,115,115,59,3,10913,824,114,101,99,101,100,101,115,4,3,59,69,83,3838,3840,3848,1,8832,113,117,97,108,59,3,10927,824,108,97,110,116,69,113,117,97,108,59,1,8928,4,2,101,105,3866,3881,118,101,114,115,101,69,108,101,109,101,110,116,59,1,8716,103,104,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3900,3902,3908,1,8939,97,114,59,3,10704,824,113,117,97,108,59,1,8941,4,2,113,117,3921,3973,117,97,114,101,83,117,4,2,98,112,3933,3952,115,101,116,4,2,59,69,3942,3945,3,8847,824,113,117,97,108,59,1,8930,101,114,115,101,116,4,2,59,69,3963,3966,3,8848,824,113,117,97,108,59,1,8931,4,3,98,99,112,3981,4e3,4045,115,101,116,4,2,59,69,3990,3993,3,8834,8402,113,117,97,108,59,1,8840,99,101,101,100,115,4,4,59,69,83,84,4015,4017,4025,4037,1,8833,113,117,97,108,59,3,10928,824,108,97,110,116,69,113,117,97,108,59,1,8929,105,108,100,101,59,3,8831,824,101,114,115,101,116,4,2,59,69,4056,4059,3,8835,8402,113,117,97,108,59,1,8841,105,108,100,101,4,4,59,69,70,84,4080,4082,4089,4100,1,8769,113,117,97,108,59,1,8772,117,108,108,69,113,117,97,108,59,1,8775,105,108,100,101,59,1,8777,101,114,116,105,99,97,108,66,97,114,59,1,8740,99,114,59,3,55349,56489,105,108,100,101,5,209,1,59,4135,1,209,59,1,925,4,14,69,97,99,100,102,103,109,111,112,114,115,116,117,118,4170,4176,4187,4205,4212,4217,4228,4253,4259,4292,4295,4316,4337,4346,108,105,103,59,1,338,99,117,116,101,5,211,1,59,4185,1,211,4,2,105,121,4193,4202,114,99,5,212,1,59,4200,1,212,59,1,1054,98,108,97,99,59,1,336,114,59,3,55349,56594,114,97,118,101,5,210,1,59,4226,1,210,4,3,97,101,105,4236,4241,4246,99,114,59,1,332,103,97,59,1,937,99,114,111,110,59,1,927,112,102,59,3,55349,56646,101,110,67,117,114,108,121,4,2,68,81,4272,4285,111,117,98,108,101,81,117,111,116,101,59,1,8220,117,111,116,101,59,1,8216,59,1,10836,4,2,99,108,4301,4306,114,59,3,55349,56490,97,115,104,5,216,1,59,4314,1,216,105,4,2,108,109,4323,4332,100,101,5,213,1,59,4330,1,213,101,115,59,1,10807,109,108,5,214,1,59,4344,1,214,101,114,4,2,66,80,4354,4380,4,2,97,114,4360,4364,114,59,1,8254,97,99,4,2,101,107,4372,4375,59,1,9182,101,116,59,1,9140,97,114,101,110,116,104,101,115,105,115,59,1,9180,4,9,97,99,102,104,105,108,111,114,115,4413,4422,4426,4431,4435,4438,4448,4471,4561,114,116,105,97,108,68,59,1,8706,121,59,1,1055,114,59,3,55349,56595,105,59,1,934,59,1,928,117,115,77,105,110,117,115,59,1,177,4,2,105,112,4454,4467,110,99,97,114,101,112,108,97,110,101,59,1,8460,102,59,1,8473,4,4,59,101,105,111,4481,4483,4526,4531,1,10939,99,101,100,101,115,4,4,59,69,83,84,4498,4500,4507,4519,1,8826,113,117,97,108,59,1,10927,108,97,110,116,69,113,117,97,108,59,1,8828,105,108,100,101,59,1,8830,109,101,59,1,8243,4,2,100,112,4537,4543,117,99,116,59,1,8719,111,114,116,105,111,110,4,2,59,97,4555,4557,1,8759,108,59,1,8733,4,2,99,105,4567,4572,114,59,3,55349,56491,59,1,936,4,4,85,102,111,115,4585,4594,4599,4604,79,84,5,34,1,59,4592,1,34,114,59,3,55349,56596,112,102,59,1,8474,99,114,59,3,55349,56492,4,12,66,69,97,99,101,102,104,105,111,114,115,117,4636,4642,4650,4681,4704,4763,4767,4771,5047,5069,5081,5094,97,114,114,59,1,10512,71,5,174,1,59,4648,1,174,4,3,99,110,114,4658,4664,4668,117,116,101,59,1,340,103,59,1,10219,114,4,2,59,116,4675,4677,1,8608,108,59,1,10518,4,3,97,101,121,4689,4695,4701,114,111,110,59,1,344,100,105,108,59,1,342,59,1,1056,4,2,59,118,4710,4712,1,8476,101,114,115,101,4,2,69,85,4722,4748,4,2,108,113,4728,4736,101,109,101,110,116,59,1,8715,117,105,108,105,98,114,105,117,109,59,1,8651,112,69,113,117,105,108,105,98,114,105,117,109,59,1,10607,114,59,1,8476,111,59,1,929,103,104,116,4,8,65,67,68,70,84,85,86,97,4792,4840,4849,4905,4912,4972,5022,5040,4,2,110,114,4798,4811,103,108,101,66,114,97,99,107,101,116,59,1,10217,114,111,119,4,3,59,66,76,4822,4824,4829,1,8594,97,114,59,1,8677,101,102,116,65,114,114,111,119,59,1,8644,101,105,108,105,110,103,59,1,8969,111,4,2,117,119,4856,4869,98,108,101,66,114,97,99,107,101,116,59,1,10215,110,4,2,84,86,4876,4887,101,101,86,101,99,116,111,114,59,1,10589,101,99,116,111,114,4,2,59,66,4898,4900,1,8642,97,114,59,1,10581,108,111,111,114,59,1,8971,4,2,101,114,4918,4944,101,4,3,59,65,86,4927,4929,4936,1,8866,114,114,111,119,59,1,8614,101,99,116,111,114,59,1,10587,105,97,110,103,108,101,4,3,59,66,69,4958,4960,4965,1,8883,97,114,59,1,10704,113,117,97,108,59,1,8885,112,4,3,68,84,86,4981,4993,5004,111,119,110,86,101,99,116,111,114,59,1,10575,101,101,86,101,99,116,111,114,59,1,10588,101,99,116,111,114,4,2,59,66,5015,5017,1,8638,97,114,59,1,10580,101,99,116,111,114,4,2,59,66,5033,5035,1,8640,97,114,59,1,10579,114,114,111,119,59,1,8658,4,2,112,117,5053,5057,102,59,1,8477,110,100,73,109,112,108,105,101,115,59,1,10608,105,103,104,116,97,114,114,111,119,59,1,8667,4,2,99,104,5087,5091,114,59,1,8475,59,1,8625,108,101,68,101,108,97,121,101,100,59,1,10740,4,13,72,79,97,99,102,104,105,109,111,113,115,116,117,5134,5150,5157,5164,5198,5203,5259,5265,5277,5283,5374,5380,5385,4,2,67,99,5140,5146,72,99,121,59,1,1065,121,59,1,1064,70,84,99,121,59,1,1068,99,117,116,101,59,1,346,4,5,59,97,101,105,121,5176,5178,5184,5190,5195,1,10940,114,111,110,59,1,352,100,105,108,59,1,350,114,99,59,1,348,59,1,1057,114,59,3,55349,56598,111,114,116,4,4,68,76,82,85,5216,5227,5238,5250,111,119,110,65,114,114,111,119,59,1,8595,101,102,116,65,114,114,111,119,59,1,8592,105,103,104,116,65,114,114,111,119,59,1,8594,112,65,114,114,111,119,59,1,8593,103,109,97,59,1,931,97,108,108,67,105,114,99,108,101,59,1,8728,112,102,59,3,55349,56650,4,2,114,117,5289,5293,116,59,1,8730,97,114,101,4,4,59,73,83,85,5306,5308,5322,5367,1,9633,110,116,101,114,115,101,99,116,105,111,110,59,1,8851,117,4,2,98,112,5329,5347,115,101,116,4,2,59,69,5338,5340,1,8847,113,117,97,108,59,1,8849,101,114,115,101,116,4,2,59,69,5358,5360,1,8848,113,117,97,108,59,1,8850,110,105,111,110,59,1,8852,99,114,59,3,55349,56494,97,114,59,1,8902,4,4,98,99,109,112,5395,5420,5475,5478,4,2,59,115,5401,5403,1,8912,101,116,4,2,59,69,5411,5413,1,8912,113,117,97,108,59,1,8838,4,2,99,104,5426,5468,101,101,100,115,4,4,59,69,83,84,5440,5442,5449,5461,1,8827,113,117,97,108,59,1,10928,108,97,110,116,69,113,117,97,108,59,1,8829,105,108,100,101,59,1,8831,84,104,97,116,59,1,8715,59,1,8721,4,3,59,101,115,5486,5488,5507,1,8913,114,115,101,116,4,2,59,69,5498,5500,1,8835,113,117,97,108,59,1,8839,101,116,59,1,8913,4,11,72,82,83,97,99,102,104,105,111,114,115,5536,5546,5552,5567,5579,5602,5607,5655,5695,5701,5711,79,82,78,5,222,1,59,5544,1,222,65,68,69,59,1,8482,4,2,72,99,5558,5563,99,121,59,1,1035,121,59,1,1062,4,2,98,117,5573,5576,59,1,9,59,1,932,4,3,97,101,121,5587,5593,5599,114,111,110,59,1,356,100,105,108,59,1,354,59,1,1058,114,59,3,55349,56599,4,2,101,105,5613,5631,4,2,114,116,5619,5627,101,102,111,114,101,59,1,8756,97,59,1,920,4,2,99,110,5637,5647,107,83,112,97,99,101,59,3,8287,8202,83,112,97,99,101,59,1,8201,108,100,101,4,4,59,69,70,84,5668,5670,5677,5688,1,8764,113,117,97,108,59,1,8771,117,108,108,69,113,117,97,108,59,1,8773,105,108,100,101,59,1,8776,112,102,59,3,55349,56651,105,112,108,101,68,111,116,59,1,8411,4,2,99,116,5717,5722,114,59,3,55349,56495,114,111,107,59,1,358,4,14,97,98,99,100,102,103,109,110,111,112,114,115,116,117,5758,5789,5805,5823,5830,5835,5846,5852,5921,5937,6089,6095,6101,6108,4,2,99,114,5764,5774,117,116,101,5,218,1,59,5772,1,218,114,4,2,59,111,5781,5783,1,8607,99,105,114,59,1,10569,114,4,2,99,101,5796,5800,121,59,1,1038,118,101,59,1,364,4,2,105,121,5811,5820,114,99,5,219,1,59,5818,1,219,59,1,1059,98,108,97,99,59,1,368,114,59,3,55349,56600,114,97,118,101,5,217,1,59,5844,1,217,97,99,114,59,1,362,4,2,100,105,5858,5905,101,114,4,2,66,80,5866,5892,4,2,97,114,5872,5876,114,59,1,95,97,99,4,2,101,107,5884,5887,59,1,9183,101,116,59,1,9141,97,114,101,110,116,104,101,115,105,115,59,1,9181,111,110,4,2,59,80,5913,5915,1,8899,108,117,115,59,1,8846,4,2,103,112,5927,5932,111,110,59,1,370,102,59,3,55349,56652,4,8,65,68,69,84,97,100,112,115,5955,5985,5996,6009,6026,6033,6044,6075,114,114,111,119,4,3,59,66,68,5967,5969,5974,1,8593,97,114,59,1,10514,111,119,110,65,114,114,111,119,59,1,8645,111,119,110,65,114,114,111,119,59,1,8597,113,117,105,108,105,98,114,105,117,109,59,1,10606,101,101,4,2,59,65,6017,6019,1,8869,114,114,111,119,59,1,8613,114,114,111,119,59,1,8657,111,119,110,97,114,114,111,119,59,1,8661,101,114,4,2,76,82,6052,6063,101,102,116,65,114,114,111,119,59,1,8598,105,103,104,116,65,114,114,111,119,59,1,8599,105,4,2,59,108,6082,6084,1,978,111,110,59,1,933,105,110,103,59,1,366,99,114,59,3,55349,56496,105,108,100,101,59,1,360,109,108,5,220,1,59,6115,1,220,4,9,68,98,99,100,101,102,111,115,118,6137,6143,6148,6152,6166,6250,6255,6261,6267,97,115,104,59,1,8875,97,114,59,1,10987,121,59,1,1042,97,115,104,4,2,59,108,6161,6163,1,8873,59,1,10982,4,2,101,114,6172,6175,59,1,8897,4,3,98,116,121,6183,6188,6238,97,114,59,1,8214,4,2,59,105,6194,6196,1,8214,99,97,108,4,4,66,76,83,84,6209,6214,6220,6231,97,114,59,1,8739,105,110,101,59,1,124,101,112,97,114,97,116,111,114,59,1,10072,105,108,100,101,59,1,8768,84,104,105,110,83,112,97,99,101,59,1,8202,114,59,3,55349,56601,112,102,59,3,55349,56653,99,114,59,3,55349,56497,100,97,115,104,59,1,8874,4,5,99,101,102,111,115,6286,6292,6298,6303,6309,105,114,99,59,1,372,100,103,101,59,1,8896,114,59,3,55349,56602,112,102,59,3,55349,56654,99,114,59,3,55349,56498,4,4,102,105,111,115,6325,6330,6333,6339,114,59,3,55349,56603,59,1,926,112,102,59,3,55349,56655,99,114,59,3,55349,56499,4,9,65,73,85,97,99,102,111,115,117,6365,6370,6375,6380,6391,6405,6410,6416,6422,99,121,59,1,1071,99,121,59,1,1031,99,121,59,1,1070,99,117,116,101,5,221,1,59,6389,1,221,4,2,105,121,6397,6402,114,99,59,1,374,59,1,1067,114,59,3,55349,56604,112,102,59,3,55349,56656,99,114,59,3,55349,56500,109,108,59,1,376,4,8,72,97,99,100,101,102,111,115,6445,6450,6457,6472,6477,6501,6505,6510,99,121,59,1,1046,99,117,116,101,59,1,377,4,2,97,121,6463,6469,114,111,110,59,1,381,59,1,1047,111,116,59,1,379,4,2,114,116,6483,6497,111,87,105,100,116,104,83,112,97,99,101,59,1,8203,97,59,1,918,114,59,1,8488,112,102,59,1,8484,99,114,59,3,55349,56501,4,16,97,98,99,101,102,103,108,109,110,111,112,114,115,116,117,119,6550,6561,6568,6612,6622,6634,6645,6672,6699,6854,6870,6923,6933,6963,6974,6983,99,117,116,101,5,225,1,59,6559,1,225,114,101,118,101,59,1,259,4,6,59,69,100,105,117,121,6582,6584,6588,6591,6600,6609,1,8766,59,3,8766,819,59,1,8767,114,99,5,226,1,59,6598,1,226,116,101,5,180,1,59,6607,1,180,59,1,1072,108,105,103,5,230,1,59,6620,1,230,4,2,59,114,6628,6630,1,8289,59,3,55349,56606,114,97,118,101,5,224,1,59,6643,1,224,4,2,101,112,6651,6667,4,2,102,112,6657,6663,115,121,109,59,1,8501,104,59,1,8501,104,97,59,1,945,4,2,97,112,6678,6692,4,2,99,108,6684,6688,114,59,1,257,103,59,1,10815,5,38,1,59,6697,1,38,4,2,100,103,6705,6737,4,5,59,97,100,115,118,6717,6719,6724,6727,6734,1,8743,110,100,59,1,10837,59,1,10844,108,111,112,101,59,1,10840,59,1,10842,4,7,59,101,108,109,114,115,122,6753,6755,6758,6762,6814,6835,6848,1,8736,59,1,10660,101,59,1,8736,115,100,4,2,59,97,6770,6772,1,8737,4,8,97,98,99,100,101,102,103,104,6790,6793,6796,6799,6802,6805,6808,6811,59,1,10664,59,1,10665,59,1,10666,59,1,10667,59,1,10668,59,1,10669,59,1,10670,59,1,10671,116,4,2,59,118,6821,6823,1,8735,98,4,2,59,100,6830,6832,1,8894,59,1,10653,4,2,112,116,6841,6845,104,59,1,8738,59,1,197,97,114,114,59,1,9084,4,2,103,112,6860,6865,111,110,59,1,261,102,59,3,55349,56658,4,7,59,69,97,101,105,111,112,6886,6888,6891,6897,6900,6904,6908,1,8776,59,1,10864,99,105,114,59,1,10863,59,1,8778,100,59,1,8779,115,59,1,39,114,111,120,4,2,59,101,6917,6919,1,8776,113,59,1,8778,105,110,103,5,229,1,59,6931,1,229,4,3,99,116,121,6941,6946,6949,114,59,3,55349,56502,59,1,42,109,112,4,2,59,101,6957,6959,1,8776,113,59,1,8781,105,108,100,101,5,227,1,59,6972,1,227,109,108,5,228,1,59,6981,1,228,4,2,99,105,6989,6997,111,110,105,110,116,59,1,8755,110,116,59,1,10769,4,16,78,97,98,99,100,101,102,105,107,108,110,111,112,114,115,117,7036,7041,7119,7135,7149,7155,7219,7224,7347,7354,7463,7489,7786,7793,7814,7866,111,116,59,1,10989,4,2,99,114,7047,7094,107,4,4,99,101,112,115,7058,7064,7073,7080,111,110,103,59,1,8780,112,115,105,108,111,110,59,1,1014,114,105,109,101,59,1,8245,105,109,4,2,59,101,7088,7090,1,8765,113,59,1,8909,4,2,118,119,7100,7105,101,101,59,1,8893,101,100,4,2,59,103,7113,7115,1,8965,101,59,1,8965,114,107,4,2,59,116,7127,7129,1,9141,98,114,107,59,1,9142,4,2,111,121,7141,7146,110,103,59,1,8780,59,1,1073,113,117,111,59,1,8222,4,5,99,109,112,114,116,7167,7181,7188,7193,7199,97,117,115,4,2,59,101,7176,7178,1,8757,59,1,8757,112,116,121,118,59,1,10672,115,105,59,1,1014,110,111,117,59,1,8492,4,3,97,104,119,7207,7210,7213,59,1,946,59,1,8502,101,101,110,59,1,8812,114,59,3,55349,56607,103,4,7,99,111,115,116,117,118,119,7241,7262,7288,7305,7328,7335,7340,4,3,97,105,117,7249,7253,7258,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,4,3,100,112,116,7270,7275,7281,111,116,59,1,10752,108,117,115,59,1,10753,105,109,101,115,59,1,10754,4,2,113,116,7294,7300,99,117,112,59,1,10758,97,114,59,1,9733,114,105,97,110,103,108,101,4,2,100,117,7318,7324,111,119,110,59,1,9661,112,59,1,9651,112,108,117,115,59,1,10756,101,101,59,1,8897,101,100,103,101,59,1,8896,97,114,111,119,59,1,10509,4,3,97,107,111,7362,7436,7458,4,2,99,110,7368,7432,107,4,3,108,115,116,7377,7386,7394,111,122,101,110,103,101,59,1,10731,113,117,97,114,101,59,1,9642,114,105,97,110,103,108,101,4,4,59,100,108,114,7411,7413,7419,7425,1,9652,111,119,110,59,1,9662,101,102,116,59,1,9666,105,103,104,116,59,1,9656,107,59,1,9251,4,2,49,51,7442,7454,4,2,50,52,7448,7451,59,1,9618,59,1,9617,52,59,1,9619,99,107,59,1,9608,4,2,101,111,7469,7485,4,2,59,113,7475,7478,3,61,8421,117,105,118,59,3,8801,8421,116,59,1,8976,4,4,112,116,119,120,7499,7504,7517,7523,102,59,3,55349,56659,4,2,59,116,7510,7512,1,8869,111,109,59,1,8869,116,105,101,59,1,8904,4,12,68,72,85,86,98,100,104,109,112,116,117,118,7549,7571,7597,7619,7655,7660,7682,7708,7715,7721,7728,7750,4,4,76,82,108,114,7559,7562,7565,7568,59,1,9559,59,1,9556,59,1,9558,59,1,9555,4,5,59,68,85,100,117,7583,7585,7588,7591,7594,1,9552,59,1,9574,59,1,9577,59,1,9572,59,1,9575,4,4,76,82,108,114,7607,7610,7613,7616,59,1,9565,59,1,9562,59,1,9564,59,1,9561,4,7,59,72,76,82,104,108,114,7635,7637,7640,7643,7646,7649,7652,1,9553,59,1,9580,59,1,9571,59,1,9568,59,1,9579,59,1,9570,59,1,9567,111,120,59,1,10697,4,4,76,82,108,114,7670,7673,7676,7679,59,1,9557,59,1,9554,59,1,9488,59,1,9484,4,5,59,68,85,100,117,7694,7696,7699,7702,7705,1,9472,59,1,9573,59,1,9576,59,1,9516,59,1,9524,105,110,117,115,59,1,8863,108,117,115,59,1,8862,105,109,101,115,59,1,8864,4,4,76,82,108,114,7738,7741,7744,7747,59,1,9563,59,1,9560,59,1,9496,59,1,9492,4,7,59,72,76,82,104,108,114,7766,7768,7771,7774,7777,7780,7783,1,9474,59,1,9578,59,1,9569,59,1,9566,59,1,9532,59,1,9508,59,1,9500,114,105,109,101,59,1,8245,4,2,101,118,7799,7804,118,101,59,1,728,98,97,114,5,166,1,59,7812,1,166,4,4,99,101,105,111,7824,7829,7834,7846,114,59,3,55349,56503,109,105,59,1,8271,109,4,2,59,101,7841,7843,1,8765,59,1,8909,108,4,3,59,98,104,7855,7857,7860,1,92,59,1,10693,115,117,98,59,1,10184,4,2,108,109,7872,7885,108,4,2,59,101,7879,7881,1,8226,116,59,1,8226,112,4,3,59,69,101,7894,7896,7899,1,8782,59,1,10926,4,2,59,113,7905,7907,1,8783,59,1,8783,4,15,97,99,100,101,102,104,105,108,111,114,115,116,117,119,121,7942,8021,8075,8080,8121,8126,8157,8279,8295,8430,8446,8485,8491,8707,8726,4,3,99,112,114,7950,7956,8007,117,116,101,59,1,263,4,6,59,97,98,99,100,115,7970,7972,7977,7984,7998,8003,1,8745,110,100,59,1,10820,114,99,117,112,59,1,10825,4,2,97,117,7990,7994,112,59,1,10827,112,59,1,10823,111,116,59,1,10816,59,3,8745,65024,4,2,101,111,8013,8017,116,59,1,8257,110,59,1,711,4,4,97,101,105,117,8031,8046,8056,8061,4,2,112,114,8037,8041,115,59,1,10829,111,110,59,1,269,100,105,108,5,231,1,59,8054,1,231,114,99,59,1,265,112,115,4,2,59,115,8069,8071,1,10828,109,59,1,10832,111,116,59,1,267,4,3,100,109,110,8088,8097,8104,105,108,5,184,1,59,8095,1,184,112,116,121,118,59,1,10674,116,5,162,2,59,101,8112,8114,1,162,114,100,111,116,59,1,183,114,59,3,55349,56608,4,3,99,101,105,8134,8138,8154,121,59,1,1095,99,107,4,2,59,109,8146,8148,1,10003,97,114,107,59,1,10003,59,1,967,114,4,7,59,69,99,101,102,109,115,8174,8176,8179,8258,8261,8268,8273,1,9675,59,1,10691,4,3,59,101,108,8187,8189,8193,1,710,113,59,1,8791,101,4,2,97,100,8200,8223,114,114,111,119,4,2,108,114,8210,8216,101,102,116,59,1,8634,105,103,104,116,59,1,8635,4,5,82,83,97,99,100,8235,8238,8241,8246,8252,59,1,174,59,1,9416,115,116,59,1,8859,105,114,99,59,1,8858,97,115,104,59,1,8861,59,1,8791,110,105,110,116,59,1,10768,105,100,59,1,10991,99,105,114,59,1,10690,117,98,115,4,2,59,117,8288,8290,1,9827,105,116,59,1,9827,4,4,108,109,110,112,8305,8326,8376,8400,111,110,4,2,59,101,8313,8315,1,58,4,2,59,113,8321,8323,1,8788,59,1,8788,4,2,109,112,8332,8344,97,4,2,59,116,8339,8341,1,44,59,1,64,4,3,59,102,108,8352,8354,8358,1,8705,110,59,1,8728,101,4,2,109,120,8365,8371,101,110,116,59,1,8705,101,115,59,1,8450,4,2,103,105,8382,8395,4,2,59,100,8388,8390,1,8773,111,116,59,1,10861,110,116,59,1,8750,4,3,102,114,121,8408,8412,8417,59,3,55349,56660,111,100,59,1,8720,5,169,2,59,115,8424,8426,1,169,114,59,1,8471,4,2,97,111,8436,8441,114,114,59,1,8629,115,115,59,1,10007,4,2,99,117,8452,8457,114,59,3,55349,56504,4,2,98,112,8463,8474,4,2,59,101,8469,8471,1,10959,59,1,10961,4,2,59,101,8480,8482,1,10960,59,1,10962,100,111,116,59,1,8943,4,7,100,101,108,112,114,118,119,8507,8522,8536,8550,8600,8697,8702,97,114,114,4,2,108,114,8516,8519,59,1,10552,59,1,10549,4,2,112,115,8528,8532,114,59,1,8926,99,59,1,8927,97,114,114,4,2,59,112,8545,8547,1,8630,59,1,10557,4,6,59,98,99,100,111,115,8564,8566,8573,8587,8592,8596,1,8746,114,99,97,112,59,1,10824,4,2,97,117,8579,8583,112,59,1,10822,112,59,1,10826,111,116,59,1,8845,114,59,1,10821,59,3,8746,65024,4,4,97,108,114,118,8610,8623,8663,8672,114,114,4,2,59,109,8618,8620,1,8631,59,1,10556,121,4,3,101,118,119,8632,8651,8656,113,4,2,112,115,8639,8645,114,101,99,59,1,8926,117,99,99,59,1,8927,101,101,59,1,8910,101,100,103,101,59,1,8911,101,110,5,164,1,59,8670,1,164,101,97,114,114,111,119,4,2,108,114,8684,8690,101,102,116,59,1,8630,105,103,104,116,59,1,8631,101,101,59,1,8910,101,100,59,1,8911,4,2,99,105,8713,8721,111,110,105,110,116,59,1,8754,110,116,59,1,8753,108,99,116,121,59,1,9005,4,19,65,72,97,98,99,100,101,102,104,105,106,108,111,114,115,116,117,119,122,8773,8778,8783,8821,8839,8854,8887,8914,8930,8944,9036,9041,9058,9197,9227,9258,9281,9297,9305,114,114,59,1,8659,97,114,59,1,10597,4,4,103,108,114,115,8793,8799,8805,8809,103,101,114,59,1,8224,101,116,104,59,1,8504,114,59,1,8595,104,4,2,59,118,8816,8818,1,8208,59,1,8867,4,2,107,108,8827,8834,97,114,111,119,59,1,10511,97,99,59,1,733,4,2,97,121,8845,8851,114,111,110,59,1,271,59,1,1076,4,3,59,97,111,8862,8864,8880,1,8518,4,2,103,114,8870,8876,103,101,114,59,1,8225,114,59,1,8650,116,115,101,113,59,1,10871,4,3,103,108,109,8895,8902,8907,5,176,1,59,8900,1,176,116,97,59,1,948,112,116,121,118,59,1,10673,4,2,105,114,8920,8926,115,104,116,59,1,10623,59,3,55349,56609,97,114,4,2,108,114,8938,8941,59,1,8643,59,1,8642,4,5,97,101,103,115,118,8956,8986,8989,8996,9001,109,4,3,59,111,115,8965,8967,8983,1,8900,110,100,4,2,59,115,8975,8977,1,8900,117,105,116,59,1,9830,59,1,9830,59,1,168,97,109,109,97,59,1,989,105,110,59,1,8946,4,3,59,105,111,9009,9011,9031,1,247,100,101,5,247,2,59,111,9020,9022,1,247,110,116,105,109,101,115,59,1,8903,110,120,59,1,8903,99,121,59,1,1106,99,4,2,111,114,9048,9053,114,110,59,1,8990,111,112,59,1,8973,4,5,108,112,116,117,119,9070,9076,9081,9130,9144,108,97,114,59,1,36,102,59,3,55349,56661,4,5,59,101,109,112,115,9093,9095,9109,9116,9122,1,729,113,4,2,59,100,9102,9104,1,8784,111,116,59,1,8785,105,110,117,115,59,1,8760,108,117,115,59,1,8724,113,117,97,114,101,59,1,8865,98,108,101,98,97,114,119,101,100,103,101,59,1,8966,110,4,3,97,100,104,9153,9160,9172,114,114,111,119,59,1,8595,111,119,110,97,114,114,111,119,115,59,1,8650,97,114,112,111,111,110,4,2,108,114,9184,9190,101,102,116,59,1,8643,105,103,104,116,59,1,8642,4,2,98,99,9203,9211,107,97,114,111,119,59,1,10512,4,2,111,114,9217,9222,114,110,59,1,8991,111,112,59,1,8972,4,3,99,111,116,9235,9248,9252,4,2,114,121,9241,9245,59,3,55349,56505,59,1,1109,108,59,1,10742,114,111,107,59,1,273,4,2,100,114,9264,9269,111,116,59,1,8945,105,4,2,59,102,9276,9278,1,9663,59,1,9662,4,2,97,104,9287,9292,114,114,59,1,8693,97,114,59,1,10607,97,110,103,108,101,59,1,10662,4,2,99,105,9311,9315,121,59,1,1119,103,114,97,114,114,59,1,10239,4,18,68,97,99,100,101,102,103,108,109,110,111,112,113,114,115,116,117,120,9361,9376,9398,9439,9444,9447,9462,9495,9531,9585,9598,9614,9659,9755,9771,9792,9808,9826,4,2,68,111,9367,9372,111,116,59,1,10871,116,59,1,8785,4,2,99,115,9382,9392,117,116,101,5,233,1,59,9390,1,233,116,101,114,59,1,10862,4,4,97,105,111,121,9408,9414,9430,9436,114,111,110,59,1,283,114,4,2,59,99,9421,9423,1,8790,5,234,1,59,9428,1,234,108,111,110,59,1,8789,59,1,1101,111,116,59,1,279,59,1,8519,4,2,68,114,9453,9458,111,116,59,1,8786,59,3,55349,56610,4,3,59,114,115,9470,9472,9482,1,10906,97,118,101,5,232,1,59,9480,1,232,4,2,59,100,9488,9490,1,10902,111,116,59,1,10904,4,4,59,105,108,115,9505,9507,9515,9518,1,10905,110,116,101,114,115,59,1,9191,59,1,8467,4,2,59,100,9524,9526,1,10901,111,116,59,1,10903,4,3,97,112,115,9539,9544,9564,99,114,59,1,275,116,121,4,3,59,115,118,9554,9556,9561,1,8709,101,116,59,1,8709,59,1,8709,112,4,2,49,59,9571,9583,4,2,51,52,9577,9580,59,1,8196,59,1,8197,1,8195,4,2,103,115,9591,9594,59,1,331,112,59,1,8194,4,2,103,112,9604,9609,111,110,59,1,281,102,59,3,55349,56662,4,3,97,108,115,9622,9635,9640,114,4,2,59,115,9629,9631,1,8917,108,59,1,10723,117,115,59,1,10865,105,4,3,59,108,118,9649,9651,9656,1,949,111,110,59,1,949,59,1,1013,4,4,99,115,117,118,9669,9686,9716,9747,4,2,105,111,9675,9680,114,99,59,1,8790,108,111,110,59,1,8789,4,2,105,108,9692,9696,109,59,1,8770,97,110,116,4,2,103,108,9705,9710,116,114,59,1,10902,101,115,115,59,1,10901,4,3,97,101,105,9724,9729,9734,108,115,59,1,61,115,116,59,1,8799,118,4,2,59,68,9741,9743,1,8801,68,59,1,10872,112,97,114,115,108,59,1,10725,4,2,68,97,9761,9766,111,116,59,1,8787,114,114,59,1,10609,4,3,99,100,105,9779,9783,9788,114,59,1,8495,111,116,59,1,8784,109,59,1,8770,4,2,97,104,9798,9801,59,1,951,5,240,1,59,9806,1,240,4,2,109,114,9814,9822,108,5,235,1,59,9820,1,235,111,59,1,8364,4,3,99,105,112,9834,9838,9843,108,59,1,33,115,116,59,1,8707,4,2,101,111,9849,9859,99,116,97,116,105,111,110,59,1,8496,110,101,110,116,105,97,108,101,59,1,8519,4,12,97,99,101,102,105,106,108,110,111,112,114,115,9896,9910,9914,9921,9954,9960,9967,9989,9994,10027,10036,10164,108,108,105,110,103,100,111,116,115,101,113,59,1,8786,121,59,1,1092,109,97,108,101,59,1,9792,4,3,105,108,114,9929,9935,9950,108,105,103,59,1,64259,4,2,105,108,9941,9945,103,59,1,64256,105,103,59,1,64260,59,3,55349,56611,108,105,103,59,1,64257,108,105,103,59,3,102,106,4,3,97,108,116,9975,9979,9984,116,59,1,9837,105,103,59,1,64258,110,115,59,1,9649,111,102,59,1,402,4,2,112,114,1e4,10005,102,59,3,55349,56663,4,2,97,107,10011,10016,108,108,59,1,8704,4,2,59,118,10022,10024,1,8916,59,1,10969,97,114,116,105,110,116,59,1,10765,4,2,97,111,10042,10159,4,2,99,115,10048,10155,4,6,49,50,51,52,53,55,10062,10102,10114,10135,10139,10151,4,6,50,51,52,53,54,56,10076,10083,10086,10093,10096,10099,5,189,1,59,10081,1,189,59,1,8531,5,188,1,59,10091,1,188,59,1,8533,59,1,8537,59,1,8539,4,2,51,53,10108,10111,59,1,8532,59,1,8534,4,3,52,53,56,10122,10129,10132,5,190,1,59,10127,1,190,59,1,8535,59,1,8540,53,59,1,8536,4,2,54,56,10145,10148,59,1,8538,59,1,8541,56,59,1,8542,108,59,1,8260,119,110,59,1,8994,99,114,59,3,55349,56507,4,17,69,97,98,99,100,101,102,103,105,106,108,110,111,114,115,116,118,10206,10217,10247,10254,10268,10273,10358,10363,10374,10380,10385,10406,10458,10464,10470,10497,10610,4,2,59,108,10212,10214,1,8807,59,1,10892,4,3,99,109,112,10225,10231,10244,117,116,101,59,1,501,109,97,4,2,59,100,10239,10241,1,947,59,1,989,59,1,10886,114,101,118,101,59,1,287,4,2,105,121,10260,10265,114,99,59,1,285,59,1,1075,111,116,59,1,289,4,4,59,108,113,115,10283,10285,10288,10308,1,8805,59,1,8923,4,3,59,113,115,10296,10298,10301,1,8805,59,1,8807,108,97,110,116,59,1,10878,4,4,59,99,100,108,10318,10320,10324,10345,1,10878,99,59,1,10921,111,116,4,2,59,111,10332,10334,1,10880,4,2,59,108,10340,10342,1,10882,59,1,10884,4,2,59,101,10351,10354,3,8923,65024,115,59,1,10900,114,59,3,55349,56612,4,2,59,103,10369,10371,1,8811,59,1,8921,109,101,108,59,1,8503,99,121,59,1,1107,4,4,59,69,97,106,10395,10397,10400,10403,1,8823,59,1,10898,59,1,10917,59,1,10916,4,4,69,97,101,115,10416,10419,10434,10453,59,1,8809,112,4,2,59,112,10426,10428,1,10890,114,111,120,59,1,10890,4,2,59,113,10440,10442,1,10888,4,2,59,113,10448,10450,1,10888,59,1,8809,105,109,59,1,8935,112,102,59,3,55349,56664,97,118,101,59,1,96,4,2,99,105,10476,10480,114,59,1,8458,109,4,3,59,101,108,10489,10491,10494,1,8819,59,1,10894,59,1,10896,5,62,6,59,99,100,108,113,114,10512,10514,10527,10532,10538,10545,1,62,4,2,99,105,10520,10523,59,1,10919,114,59,1,10874,111,116,59,1,8919,80,97,114,59,1,10645,117,101,115,116,59,1,10876,4,5,97,100,101,108,115,10557,10574,10579,10599,10605,4,2,112,114,10563,10570,112,114,111,120,59,1,10886,114,59,1,10616,111,116,59,1,8919,113,4,2,108,113,10586,10592,101,115,115,59,1,8923,108,101,115,115,59,1,10892,101,115,115,59,1,8823,105,109,59,1,8819,4,2,101,110,10616,10626,114,116,110,101,113,113,59,3,8809,65024,69,59,3,8809,65024,4,10,65,97,98,99,101,102,107,111,115,121,10653,10658,10713,10718,10724,10760,10765,10786,10850,10875,114,114,59,1,8660,4,4,105,108,109,114,10668,10674,10678,10684,114,115,112,59,1,8202,102,59,1,189,105,108,116,59,1,8459,4,2,100,114,10690,10695,99,121,59,1,1098,4,3,59,99,119,10703,10705,10710,1,8596,105,114,59,1,10568,59,1,8621,97,114,59,1,8463,105,114,99,59,1,293,4,3,97,108,114,10732,10748,10754,114,116,115,4,2,59,117,10741,10743,1,9829,105,116,59,1,9829,108,105,112,59,1,8230,99,111,110,59,1,8889,114,59,3,55349,56613,115,4,2,101,119,10772,10779,97,114,111,119,59,1,10533,97,114,111,119,59,1,10534,4,5,97,109,111,112,114,10798,10803,10809,10839,10844,114,114,59,1,8703,116,104,116,59,1,8763,107,4,2,108,114,10816,10827,101,102,116,97,114,114,111,119,59,1,8617,105,103,104,116,97,114,114,111,119,59,1,8618,102,59,3,55349,56665,98,97,114,59,1,8213,4,3,99,108,116,10858,10863,10869,114,59,3,55349,56509,97,115,104,59,1,8463,114,111,107,59,1,295,4,2,98,112,10881,10887,117,108,108,59,1,8259,104,101,110,59,1,8208,4,15,97,99,101,102,103,105,106,109,110,111,112,113,115,116,117,10925,10936,10958,10977,10990,11001,11039,11045,11101,11192,11220,11226,11237,11285,11299,99,117,116,101,5,237,1,59,10934,1,237,4,3,59,105,121,10944,10946,10955,1,8291,114,99,5,238,1,59,10953,1,238,59,1,1080,4,2,99,120,10964,10968,121,59,1,1077,99,108,5,161,1,59,10975,1,161,4,2,102,114,10983,10986,59,1,8660,59,3,55349,56614,114,97,118,101,5,236,1,59,10999,1,236,4,4,59,105,110,111,11011,11013,11028,11034,1,8520,4,2,105,110,11019,11024,110,116,59,1,10764,116,59,1,8749,102,105,110,59,1,10716,116,97,59,1,8489,108,105,103,59,1,307,4,3,97,111,112,11053,11092,11096,4,3,99,103,116,11061,11065,11088,114,59,1,299,4,3,101,108,112,11073,11076,11082,59,1,8465,105,110,101,59,1,8464,97,114,116,59,1,8465,104,59,1,305,102,59,1,8887,101,100,59,1,437,4,5,59,99,102,111,116,11113,11115,11121,11136,11142,1,8712,97,114,101,59,1,8453,105,110,4,2,59,116,11129,11131,1,8734,105,101,59,1,10717,100,111,116,59,1,305,4,5,59,99,101,108,112,11154,11156,11161,11179,11186,1,8747,97,108,59,1,8890,4,2,103,114,11167,11173,101,114,115,59,1,8484,99,97,108,59,1,8890,97,114,104,107,59,1,10775,114,111,100,59,1,10812,4,4,99,103,112,116,11202,11206,11211,11216,121,59,1,1105,111,110,59,1,303,102,59,3,55349,56666,97,59,1,953,114,111,100,59,1,10812,117,101,115,116,5,191,1,59,11235,1,191,4,2,99,105,11243,11248,114,59,3,55349,56510,110,4,5,59,69,100,115,118,11261,11263,11266,11271,11282,1,8712,59,1,8953,111,116,59,1,8949,4,2,59,118,11277,11279,1,8948,59,1,8947,59,1,8712,4,2,59,105,11291,11293,1,8290,108,100,101,59,1,297,4,2,107,109,11305,11310,99,121,59,1,1110,108,5,239,1,59,11316,1,239,4,6,99,102,109,111,115,117,11332,11346,11351,11357,11363,11380,4,2,105,121,11338,11343,114,99,59,1,309,59,1,1081,114,59,3,55349,56615,97,116,104,59,1,567,112,102,59,3,55349,56667,4,2,99,101,11369,11374,114,59,3,55349,56511,114,99,121,59,1,1112,107,99,121,59,1,1108,4,8,97,99,102,103,104,106,111,115,11404,11418,11433,11438,11445,11450,11455,11461,112,112,97,4,2,59,118,11413,11415,1,954,59,1,1008,4,2,101,121,11424,11430,100,105,108,59,1,311,59,1,1082,114,59,3,55349,56616,114,101,101,110,59,1,312,99,121,59,1,1093,99,121,59,1,1116,112,102,59,3,55349,56668,99,114,59,3,55349,56512,4,23,65,66,69,72,97,98,99,100,101,102,103,104,106,108,109,110,111,112,114,115,116,117,118,11515,11538,11544,11555,11560,11721,11780,11818,11868,12136,12160,12171,12203,12208,12246,12275,12327,12509,12523,12569,12641,12732,12752,4,3,97,114,116,11523,11528,11532,114,114,59,1,8666,114,59,1,8656,97,105,108,59,1,10523,97,114,114,59,1,10510,4,2,59,103,11550,11552,1,8806,59,1,10891,97,114,59,1,10594,4,9,99,101,103,109,110,112,113,114,116,11580,11586,11594,11600,11606,11624,11627,11636,11694,117,116,101,59,1,314,109,112,116,121,118,59,1,10676,114,97,110,59,1,8466,98,100,97,59,1,955,103,4,3,59,100,108,11615,11617,11620,1,10216,59,1,10641,101,59,1,10216,59,1,10885,117,111,5,171,1,59,11634,1,171,114,4,8,59,98,102,104,108,112,115,116,11655,11657,11669,11673,11677,11681,11685,11690,1,8592,4,2,59,102,11663,11665,1,8676,115,59,1,10527,115,59,1,10525,107,59,1,8617,112,59,1,8619,108,59,1,10553,105,109,59,1,10611,108,59,1,8610,4,3,59,97,101,11702,11704,11709,1,10923,105,108,59,1,10521,4,2,59,115,11715,11717,1,10925,59,3,10925,65024,4,3,97,98,114,11729,11734,11739,114,114,59,1,10508,114,107,59,1,10098,4,2,97,107,11745,11758,99,4,2,101,107,11752,11755,59,1,123,59,1,91,4,2,101,115,11764,11767,59,1,10635,108,4,2,100,117,11774,11777,59,1,10639,59,1,10637,4,4,97,101,117,121,11790,11796,11811,11815,114,111,110,59,1,318,4,2,100,105,11802,11807,105,108,59,1,316,108,59,1,8968,98,59,1,123,59,1,1083,4,4,99,113,114,115,11828,11832,11845,11864,97,59,1,10550,117,111,4,2,59,114,11840,11842,1,8220,59,1,8222,4,2,100,117,11851,11857,104,97,114,59,1,10599,115,104,97,114,59,1,10571,104,59,1,8626,4,5,59,102,103,113,115,11880,11882,12008,12011,12031,1,8804,116,4,5,97,104,108,114,116,11895,11913,11935,11947,11996,114,114,111,119,4,2,59,116,11905,11907,1,8592,97,105,108,59,1,8610,97,114,112,111,111,110,4,2,100,117,11925,11931,111,119,110,59,1,8637,112,59,1,8636,101,102,116,97,114,114,111,119,115,59,1,8647,105,103,104,116,4,3,97,104,115,11959,11974,11984,114,114,111,119,4,2,59,115,11969,11971,1,8596,59,1,8646,97,114,112,111,111,110,115,59,1,8651,113,117,105,103,97,114,114,111,119,59,1,8621,104,114,101,101,116,105,109,101,115,59,1,8907,59,1,8922,4,3,59,113,115,12019,12021,12024,1,8804,59,1,8806,108,97,110,116,59,1,10877,4,5,59,99,100,103,115,12043,12045,12049,12070,12083,1,10877,99,59,1,10920,111,116,4,2,59,111,12057,12059,1,10879,4,2,59,114,12065,12067,1,10881,59,1,10883,4,2,59,101,12076,12079,3,8922,65024,115,59,1,10899,4,5,97,100,101,103,115,12095,12103,12108,12126,12131,112,112,114,111,120,59,1,10885,111,116,59,1,8918,113,4,2,103,113,12115,12120,116,114,59,1,8922,103,116,114,59,1,10891,116,114,59,1,8822,105,109,59,1,8818,4,3,105,108,114,12144,12150,12156,115,104,116,59,1,10620,111,111,114,59,1,8970,59,3,55349,56617,4,2,59,69,12166,12168,1,8822,59,1,10897,4,2,97,98,12177,12198,114,4,2,100,117,12184,12187,59,1,8637,4,2,59,108,12193,12195,1,8636,59,1,10602,108,107,59,1,9604,99,121,59,1,1113,4,5,59,97,99,104,116,12220,12222,12227,12235,12241,1,8810,114,114,59,1,8647,111,114,110,101,114,59,1,8990,97,114,100,59,1,10603,114,105,59,1,9722,4,2,105,111,12252,12258,100,111,116,59,1,320,117,115,116,4,2,59,97,12267,12269,1,9136,99,104,101,59,1,9136,4,4,69,97,101,115,12285,12288,12303,12322,59,1,8808,112,4,2,59,112,12295,12297,1,10889,114,111,120,59,1,10889,4,2,59,113,12309,12311,1,10887,4,2,59,113,12317,12319,1,10887,59,1,8808,105,109,59,1,8934,4,8,97,98,110,111,112,116,119,122,12345,12359,12364,12421,12446,12467,12474,12490,4,2,110,114,12351,12355,103,59,1,10220,114,59,1,8701,114,107,59,1,10214,103,4,3,108,109,114,12373,12401,12409,101,102,116,4,2,97,114,12382,12389,114,114,111,119,59,1,10229,105,103,104,116,97,114,114,111,119,59,1,10231,97,112,115,116,111,59,1,10236,105,103,104,116,97,114,114,111,119,59,1,10230,112,97,114,114,111,119,4,2,108,114,12433,12439,101,102,116,59,1,8619,105,103,104,116,59,1,8620,4,3,97,102,108,12454,12458,12462,114,59,1,10629,59,3,55349,56669,117,115,59,1,10797,105,109,101,115,59,1,10804,4,2,97,98,12480,12485,115,116,59,1,8727,97,114,59,1,95,4,3,59,101,102,12498,12500,12506,1,9674,110,103,101,59,1,9674,59,1,10731,97,114,4,2,59,108,12517,12519,1,40,116,59,1,10643,4,5,97,99,104,109,116,12535,12540,12548,12561,12564,114,114,59,1,8646,111,114,110,101,114,59,1,8991,97,114,4,2,59,100,12556,12558,1,8651,59,1,10605,59,1,8206,114,105,59,1,8895,4,6,97,99,104,105,113,116,12583,12589,12594,12597,12614,12635,113,117,111,59,1,8249,114,59,3,55349,56513,59,1,8624,109,4,3,59,101,103,12606,12608,12611,1,8818,59,1,10893,59,1,10895,4,2,98,117,12620,12623,59,1,91,111,4,2,59,114,12630,12632,1,8216,59,1,8218,114,111,107,59,1,322,5,60,8,59,99,100,104,105,108,113,114,12660,12662,12675,12680,12686,12692,12698,12705,1,60,4,2,99,105,12668,12671,59,1,10918,114,59,1,10873,111,116,59,1,8918,114,101,101,59,1,8907,109,101,115,59,1,8905,97,114,114,59,1,10614,117,101,115,116,59,1,10875,4,2,80,105,12711,12716,97,114,59,1,10646,4,3,59,101,102,12724,12726,12729,1,9667,59,1,8884,59,1,9666,114,4,2,100,117,12739,12746,115,104,97,114,59,1,10570,104,97,114,59,1,10598,4,2,101,110,12758,12768,114,116,110,101,113,113,59,3,8808,65024,69,59,3,8808,65024,4,14,68,97,99,100,101,102,104,105,108,110,111,112,115,117,12803,12809,12893,12908,12914,12928,12933,12937,13011,13025,13032,13049,13052,13069,68,111,116,59,1,8762,4,4,99,108,112,114,12819,12827,12849,12887,114,5,175,1,59,12825,1,175,4,2,101,116,12833,12836,59,1,9794,4,2,59,101,12842,12844,1,10016,115,101,59,1,10016,4,2,59,115,12855,12857,1,8614,116,111,4,4,59,100,108,117,12869,12871,12877,12883,1,8614,111,119,110,59,1,8615,101,102,116,59,1,8612,112,59,1,8613,107,101,114,59,1,9646,4,2,111,121,12899,12905,109,109,97,59,1,10793,59,1,1084,97,115,104,59,1,8212,97,115,117,114,101,100,97,110,103,108,101,59,1,8737,114,59,3,55349,56618,111,59,1,8487,4,3,99,100,110,12945,12954,12985,114,111,5,181,1,59,12952,1,181,4,4,59,97,99,100,12964,12966,12971,12976,1,8739,115,116,59,1,42,105,114,59,1,10992,111,116,5,183,1,59,12983,1,183,117,115,4,3,59,98,100,12995,12997,13e3,1,8722,59,1,8863,4,2,59,117,13006,13008,1,8760,59,1,10794,4,2,99,100,13017,13021,112,59,1,10971,114,59,1,8230,112,108,117,115,59,1,8723,4,2,100,112,13038,13044,101,108,115,59,1,8871,102,59,3,55349,56670,59,1,8723,4,2,99,116,13058,13063,114,59,3,55349,56514,112,111,115,59,1,8766,4,3,59,108,109,13077,13079,13087,1,956,116,105,109,97,112,59,1,8888,97,112,59,1,8888,4,24,71,76,82,86,97,98,99,100,101,102,103,104,105,106,108,109,111,112,114,115,116,117,118,119,13142,13165,13217,13229,13247,13330,13359,13414,13420,13508,13513,13579,13602,13626,13631,13762,13767,13855,13936,13995,14214,14285,14312,14432,4,2,103,116,13148,13152,59,3,8921,824,4,2,59,118,13158,13161,3,8811,8402,59,3,8811,824,4,3,101,108,116,13173,13200,13204,102,116,4,2,97,114,13181,13188,114,114,111,119,59,1,8653,105,103,104,116,97,114,114,111,119,59,1,8654,59,3,8920,824,4,2,59,118,13210,13213,3,8810,8402,59,3,8810,824,105,103,104,116,97,114,114,111,119,59,1,8655,4,2,68,100,13235,13241,97,115,104,59,1,8879,97,115,104,59,1,8878,4,5,98,99,110,112,116,13259,13264,13270,13275,13308,108,97,59,1,8711,117,116,101,59,1,324,103,59,3,8736,8402,4,5,59,69,105,111,112,13287,13289,13293,13298,13302,1,8777,59,3,10864,824,100,59,3,8779,824,115,59,1,329,114,111,120,59,1,8777,117,114,4,2,59,97,13316,13318,1,9838,108,4,2,59,115,13325,13327,1,9838,59,1,8469,4,2,115,117,13336,13344,112,5,160,1,59,13342,1,160,109,112,4,2,59,101,13352,13355,3,8782,824,59,3,8783,824,4,5,97,101,111,117,121,13371,13385,13391,13407,13411,4,2,112,114,13377,13380,59,1,10819,111,110,59,1,328,100,105,108,59,1,326,110,103,4,2,59,100,13399,13401,1,8775,111,116,59,3,10861,824,112,59,1,10818,59,1,1085,97,115,104,59,1,8211,4,7,59,65,97,100,113,115,120,13436,13438,13443,13466,13472,13478,13494,1,8800,114,114,59,1,8663,114,4,2,104,114,13450,13454,107,59,1,10532,4,2,59,111,13460,13462,1,8599,119,59,1,8599,111,116,59,3,8784,824,117,105,118,59,1,8802,4,2,101,105,13484,13489,97,114,59,1,10536,109,59,3,8770,824,105,115,116,4,2,59,115,13503,13505,1,8708,59,1,8708,114,59,3,55349,56619,4,4,69,101,115,116,13523,13527,13563,13568,59,3,8807,824,4,3,59,113,115,13535,13537,13559,1,8817,4,3,59,113,115,13545,13547,13551,1,8817,59,3,8807,824,108,97,110,116,59,3,10878,824,59,3,10878,824,105,109,59,1,8821,4,2,59,114,13574,13576,1,8815,59,1,8815,4,3,65,97,112,13587,13592,13597,114,114,59,1,8654,114,114,59,1,8622,97,114,59,1,10994,4,3,59,115,118,13610,13612,13623,1,8715,4,2,59,100,13618,13620,1,8956,59,1,8954,59,1,8715,99,121,59,1,1114,4,7,65,69,97,100,101,115,116,13647,13652,13656,13661,13665,13737,13742,114,114,59,1,8653,59,3,8806,824,114,114,59,1,8602,114,59,1,8229,4,4,59,102,113,115,13675,13677,13703,13725,1,8816,116,4,2,97,114,13684,13691,114,114,111,119,59,1,8602,105,103,104,116,97,114,114,111,119,59,1,8622,4,3,59,113,115,13711,13713,13717,1,8816,59,3,8806,824,108,97,110,116,59,3,10877,824,4,2,59,115,13731,13734,3,10877,824,59,1,8814,105,109,59,1,8820,4,2,59,114,13748,13750,1,8814,105,4,2,59,101,13757,13759,1,8938,59,1,8940,105,100,59,1,8740,4,2,112,116,13773,13778,102,59,3,55349,56671,5,172,3,59,105,110,13787,13789,13829,1,172,110,4,4,59,69,100,118,13800,13802,13806,13812,1,8713,59,3,8953,824,111,116,59,3,8949,824,4,3,97,98,99,13820,13823,13826,59,1,8713,59,1,8951,59,1,8950,105,4,2,59,118,13836,13838,1,8716,4,3,97,98,99,13846,13849,13852,59,1,8716,59,1,8958,59,1,8957,4,3,97,111,114,13863,13892,13899,114,4,4,59,97,115,116,13874,13876,13883,13888,1,8742,108,108,101,108,59,1,8742,108,59,3,11005,8421,59,3,8706,824,108,105,110,116,59,1,10772,4,3,59,99,101,13907,13909,13914,1,8832,117,101,59,1,8928,4,2,59,99,13920,13923,3,10927,824,4,2,59,101,13929,13931,1,8832,113,59,3,10927,824,4,4,65,97,105,116,13946,13951,13971,13982,114,114,59,1,8655,114,114,4,3,59,99,119,13961,13963,13967,1,8603,59,3,10547,824,59,3,8605,824,103,104,116,97,114,114,111,119,59,1,8603,114,105,4,2,59,101,13990,13992,1,8939,59,1,8941,4,7,99,104,105,109,112,113,117,14011,14036,14060,14080,14085,14090,14106,4,4,59,99,101,114,14021,14023,14028,14032,1,8833,117,101,59,1,8929,59,3,10928,824,59,3,55349,56515,111,114,116,4,2,109,112,14045,14050,105,100,59,1,8740,97,114,97,108,108,101,108,59,1,8742,109,4,2,59,101,14067,14069,1,8769,4,2,59,113,14075,14077,1,8772,59,1,8772,105,100,59,1,8740,97,114,59,1,8742,115,117,4,2,98,112,14098,14102,101,59,1,8930,101,59,1,8931,4,3,98,99,112,14114,14157,14171,4,4,59,69,101,115,14124,14126,14130,14133,1,8836,59,3,10949,824,59,1,8840,101,116,4,2,59,101,14141,14144,3,8834,8402,113,4,2,59,113,14151,14153,1,8840,59,3,10949,824,99,4,2,59,101,14164,14166,1,8833,113,59,3,10928,824,4,4,59,69,101,115,14181,14183,14187,14190,1,8837,59,3,10950,824,59,1,8841,101,116,4,2,59,101,14198,14201,3,8835,8402,113,4,2,59,113,14208,14210,1,8841,59,3,10950,824,4,4,103,105,108,114,14224,14228,14238,14242,108,59,1,8825,108,100,101,5,241,1,59,14236,1,241,103,59,1,8824,105,97,110,103,108,101,4,2,108,114,14254,14269,101,102,116,4,2,59,101,14263,14265,1,8938,113,59,1,8940,105,103,104,116,4,2,59,101,14279,14281,1,8939,113,59,1,8941,4,2,59,109,14291,14293,1,957,4,3,59,101,115,14301,14303,14308,1,35,114,111,59,1,8470,112,59,1,8199,4,9,68,72,97,100,103,105,108,114,115,14332,14338,14344,14349,14355,14369,14376,14408,14426,97,115,104,59,1,8877,97,114,114,59,1,10500,112,59,3,8781,8402,97,115,104,59,1,8876,4,2,101,116,14361,14365,59,3,8805,8402,59,3,62,8402,110,102,105,110,59,1,10718,4,3,65,101,116,14384,14389,14393,114,114,59,1,10498,59,3,8804,8402,4,2,59,114,14399,14402,3,60,8402,105,101,59,3,8884,8402,4,2,65,116,14414,14419,114,114,59,1,10499,114,105,101,59,3,8885,8402,105,109,59,3,8764,8402,4,3,65,97,110,14440,14445,14468,114,114,59,1,8662,114,4,2,104,114,14452,14456,107,59,1,10531,4,2,59,111,14462,14464,1,8598,119,59,1,8598,101,97,114,59,1,10535,4,18,83,97,99,100,101,102,103,104,105,108,109,111,112,114,115,116,117,118,14512,14515,14535,14560,14597,14603,14618,14643,14657,14662,14701,14741,14747,14769,14851,14877,14907,14916,59,1,9416,4,2,99,115,14521,14531,117,116,101,5,243,1,59,14529,1,243,116,59,1,8859,4,2,105,121,14541,14557,114,4,2,59,99,14548,14550,1,8858,5,244,1,59,14555,1,244,59,1,1086,4,5,97,98,105,111,115,14572,14577,14583,14587,14591,115,104,59,1,8861,108,97,99,59,1,337,118,59,1,10808,116,59,1,8857,111,108,100,59,1,10684,108,105,103,59,1,339,4,2,99,114,14609,14614,105,114,59,1,10687,59,3,55349,56620,4,3,111,114,116,14626,14630,14640,110,59,1,731,97,118,101,5,242,1,59,14638,1,242,59,1,10689,4,2,98,109,14649,14654,97,114,59,1,10677,59,1,937,110,116,59,1,8750,4,4,97,99,105,116,14672,14677,14693,14698,114,114,59,1,8634,4,2,105,114,14683,14687,114,59,1,10686,111,115,115,59,1,10683,110,101,59,1,8254,59,1,10688,4,3,97,101,105,14709,14714,14719,99,114,59,1,333,103,97,59,1,969,4,3,99,100,110,14727,14733,14736,114,111,110,59,1,959,59,1,10678,117,115,59,1,8854,112,102,59,3,55349,56672,4,3,97,101,108,14755,14759,14764,114,59,1,10679,114,112,59,1,10681,117,115,59,1,8853,4,7,59,97,100,105,111,115,118,14785,14787,14792,14831,14837,14841,14848,1,8744,114,114,59,1,8635,4,4,59,101,102,109,14802,14804,14817,14824,1,10845,114,4,2,59,111,14811,14813,1,8500,102,59,1,8500,5,170,1,59,14822,1,170,5,186,1,59,14829,1,186,103,111,102,59,1,8886,114,59,1,10838,108,111,112,101,59,1,10839,59,1,10843,4,3,99,108,111,14859,14863,14873,114,59,1,8500,97,115,104,5,248,1,59,14871,1,248,108,59,1,8856,105,4,2,108,109,14884,14893,100,101,5,245,1,59,14891,1,245,101,115,4,2,59,97,14901,14903,1,8855,115,59,1,10806,109,108,5,246,1,59,14914,1,246,98,97,114,59,1,9021,4,12,97,99,101,102,104,105,108,109,111,114,115,117,14948,14992,14996,15033,15038,15068,15090,15189,15192,15222,15427,15441,114,4,4,59,97,115,116,14959,14961,14976,14989,1,8741,5,182,2,59,108,14968,14970,1,182,108,101,108,59,1,8741,4,2,105,108,14982,14986,109,59,1,10995,59,1,11005,59,1,8706,121,59,1,1087,114,4,5,99,105,109,112,116,15009,15014,15019,15024,15027,110,116,59,1,37,111,100,59,1,46,105,108,59,1,8240,59,1,8869,101,110,107,59,1,8241,114,59,3,55349,56621,4,3,105,109,111,15046,15057,15063,4,2,59,118,15052,15054,1,966,59,1,981,109,97,116,59,1,8499,110,101,59,1,9742,4,3,59,116,118,15076,15078,15087,1,960,99,104,102,111,114,107,59,1,8916,59,1,982,4,2,97,117,15096,15119,110,4,2,99,107,15103,15115,107,4,2,59,104,15110,15112,1,8463,59,1,8462,118,59,1,8463,115,4,9,59,97,98,99,100,101,109,115,116,15140,15142,15148,15151,15156,15168,15171,15179,15184,1,43,99,105,114,59,1,10787,59,1,8862,105,114,59,1,10786,4,2,111,117,15162,15165,59,1,8724,59,1,10789,59,1,10866,110,5,177,1,59,15177,1,177,105,109,59,1,10790,119,111,59,1,10791,59,1,177,4,3,105,112,117,15200,15208,15213,110,116,105,110,116,59,1,10773,102,59,3,55349,56673,110,100,5,163,1,59,15220,1,163,4,10,59,69,97,99,101,105,110,111,115,117,15244,15246,15249,15253,15258,15334,15347,15367,15416,15421,1,8826,59,1,10931,112,59,1,10935,117,101,59,1,8828,4,2,59,99,15264,15266,1,10927,4,6,59,97,99,101,110,115,15280,15282,15290,15299,15303,15329,1,8826,112,112,114,111,120,59,1,10935,117,114,108,121,101,113,59,1,8828,113,59,1,10927,4,3,97,101,115,15311,15319,15324,112,112,114,111,120,59,1,10937,113,113,59,1,10933,105,109,59,1,8936,105,109,59,1,8830,109,101,4,2,59,115,15342,15344,1,8242,59,1,8473,4,3,69,97,115,15355,15358,15362,59,1,10933,112,59,1,10937,105,109,59,1,8936,4,3,100,102,112,15375,15378,15404,59,1,8719,4,3,97,108,115,15386,15392,15398,108,97,114,59,1,9006,105,110,101,59,1,8978,117,114,102,59,1,8979,4,2,59,116,15410,15412,1,8733,111,59,1,8733,105,109,59,1,8830,114,101,108,59,1,8880,4,2,99,105,15433,15438,114,59,3,55349,56517,59,1,968,110,99,115,112,59,1,8200,4,6,102,105,111,112,115,117,15462,15467,15472,15478,15485,15491,114,59,3,55349,56622,110,116,59,1,10764,112,102,59,3,55349,56674,114,105,109,101,59,1,8279,99,114,59,3,55349,56518,4,3,97,101,111,15499,15520,15534,116,4,2,101,105,15506,15515,114,110,105,111,110,115,59,1,8461,110,116,59,1,10774,115,116,4,2,59,101,15528,15530,1,63,113,59,1,8799,116,5,34,1,59,15540,1,34,4,21,65,66,72,97,98,99,100,101,102,104,105,108,109,110,111,112,114,115,116,117,120,15586,15609,15615,15620,15796,15855,15893,15931,15977,16001,16039,16183,16204,16222,16228,16285,16312,16318,16363,16408,16416,4,3,97,114,116,15594,15599,15603,114,114,59,1,8667,114,59,1,8658,97,105,108,59,1,10524,97,114,114,59,1,10511,97,114,59,1,10596,4,7,99,100,101,110,113,114,116,15636,15651,15656,15664,15687,15696,15770,4,2,101,117,15642,15646,59,3,8765,817,116,101,59,1,341,105,99,59,1,8730,109,112,116,121,118,59,1,10675,103,4,4,59,100,101,108,15675,15677,15680,15683,1,10217,59,1,10642,59,1,10661,101,59,1,10217,117,111,5,187,1,59,15694,1,187,114,4,11,59,97,98,99,102,104,108,112,115,116,119,15721,15723,15727,15739,15742,15746,15750,15754,15758,15763,15767,1,8594,112,59,1,10613,4,2,59,102,15733,15735,1,8677,115,59,1,10528,59,1,10547,115,59,1,10526,107,59,1,8618,112,59,1,8620,108,59,1,10565,105,109,59,1,10612,108,59,1,8611,59,1,8605,4,2,97,105,15776,15781,105,108,59,1,10522,111,4,2,59,110,15788,15790,1,8758,97,108,115,59,1,8474,4,3,97,98,114,15804,15809,15814,114,114,59,1,10509,114,107,59,1,10099,4,2,97,107,15820,15833,99,4,2,101,107,15827,15830,59,1,125,59,1,93,4,2,101,115,15839,15842,59,1,10636,108,4,2,100,117,15849,15852,59,1,10638,59,1,10640,4,4,97,101,117,121,15865,15871,15886,15890,114,111,110,59,1,345,4,2,100,105,15877,15882,105,108,59,1,343,108,59,1,8969,98,59,1,125,59,1,1088,4,4,99,108,113,115,15903,15907,15914,15927,97,59,1,10551,100,104,97,114,59,1,10601,117,111,4,2,59,114,15922,15924,1,8221,59,1,8221,104,59,1,8627,4,3,97,99,103,15939,15966,15970,108,4,4,59,105,112,115,15950,15952,15957,15963,1,8476,110,101,59,1,8475,97,114,116,59,1,8476,59,1,8477,116,59,1,9645,5,174,1,59,15975,1,174,4,3,105,108,114,15985,15991,15997,115,104,116,59,1,10621,111,111,114,59,1,8971,59,3,55349,56623,4,2,97,111,16007,16028,114,4,2,100,117,16014,16017,59,1,8641,4,2,59,108,16023,16025,1,8640,59,1,10604,4,2,59,118,16034,16036,1,961,59,1,1009,4,3,103,110,115,16047,16167,16171,104,116,4,6,97,104,108,114,115,116,16063,16081,16103,16130,16143,16155,114,114,111,119,4,2,59,116,16073,16075,1,8594,97,105,108,59,1,8611,97,114,112,111,111,110,4,2,100,117,16093,16099,111,119,110,59,1,8641,112,59,1,8640,101,102,116,4,2,97,104,16112,16120,114,114,111,119,115,59,1,8644,97,114,112,111,111,110,115,59,1,8652,105,103,104,116,97,114,114,111,119,115,59,1,8649,113,117,105,103,97,114,114,111,119,59,1,8605,104,114,101,101,116,105,109,101,115,59,1,8908,103,59,1,730,105,110,103,100,111,116,115,101,113,59,1,8787,4,3,97,104,109,16191,16196,16201,114,114,59,1,8644,97,114,59,1,8652,59,1,8207,111,117,115,116,4,2,59,97,16214,16216,1,9137,99,104,101,59,1,9137,109,105,100,59,1,10990,4,4,97,98,112,116,16238,16252,16257,16278,4,2,110,114,16244,16248,103,59,1,10221,114,59,1,8702,114,107,59,1,10215,4,3,97,102,108,16265,16269,16273,114,59,1,10630,59,3,55349,56675,117,115,59,1,10798,105,109,101,115,59,1,10805,4,2,97,112,16291,16304,114,4,2,59,103,16298,16300,1,41,116,59,1,10644,111,108,105,110,116,59,1,10770,97,114,114,59,1,8649,4,4,97,99,104,113,16328,16334,16339,16342,113,117,111,59,1,8250,114,59,3,55349,56519,59,1,8625,4,2,98,117,16348,16351,59,1,93,111,4,2,59,114,16358,16360,1,8217,59,1,8217,4,3,104,105,114,16371,16377,16383,114,101,101,59,1,8908,109,101,115,59,1,8906,105,4,4,59,101,102,108,16394,16396,16399,16402,1,9657,59,1,8885,59,1,9656,116,114,105,59,1,10702,108,117,104,97,114,59,1,10600,59,1,8478,4,19,97,98,99,100,101,102,104,105,108,109,111,112,113,114,115,116,117,119,122,16459,16466,16472,16572,16590,16672,16687,16746,16844,16850,16924,16963,16988,17115,17121,17154,17206,17614,17656,99,117,116,101,59,1,347,113,117,111,59,1,8218,4,10,59,69,97,99,101,105,110,112,115,121,16494,16496,16499,16513,16518,16531,16536,16556,16564,16569,1,8827,59,1,10932,4,2,112,114,16505,16508,59,1,10936,111,110,59,1,353,117,101,59,1,8829,4,2,59,100,16524,16526,1,10928,105,108,59,1,351,114,99,59,1,349,4,3,69,97,115,16544,16547,16551,59,1,10934,112,59,1,10938,105,109,59,1,8937,111,108,105,110,116,59,1,10771,105,109,59,1,8831,59,1,1089,111,116,4,3,59,98,101,16582,16584,16587,1,8901,59,1,8865,59,1,10854,4,7,65,97,99,109,115,116,120,16606,16611,16634,16642,16646,16652,16668,114,114,59,1,8664,114,4,2,104,114,16618,16622,107,59,1,10533,4,2,59,111,16628,16630,1,8600,119,59,1,8600,116,5,167,1,59,16640,1,167,105,59,1,59,119,97,114,59,1,10537,109,4,2,105,110,16659,16665,110,117,115,59,1,8726,59,1,8726,116,59,1,10038,114,4,2,59,111,16679,16682,3,55349,56624,119,110,59,1,8994,4,4,97,99,111,121,16697,16702,16716,16739,114,112,59,1,9839,4,2,104,121,16708,16713,99,121,59,1,1097,59,1,1096,114,116,4,2,109,112,16724,16729,105,100,59,1,8739,97,114,97,108,108,101,108,59,1,8741,5,173,1,59,16744,1,173,4,2,103,109,16752,16770,109,97,4,3,59,102,118,16762,16764,16767,1,963,59,1,962,59,1,962,4,8,59,100,101,103,108,110,112,114,16788,16790,16795,16806,16817,16828,16832,16838,1,8764,111,116,59,1,10858,4,2,59,113,16801,16803,1,8771,59,1,8771,4,2,59,69,16812,16814,1,10910,59,1,10912,4,2,59,69,16823,16825,1,10909,59,1,10911,101,59,1,8774,108,117,115,59,1,10788,97,114,114,59,1,10610,97,114,114,59,1,8592,4,4,97,101,105,116,16860,16883,16891,16904,4,2,108,115,16866,16878,108,115,101,116,109,105,110,117,115,59,1,8726,104,112,59,1,10803,112,97,114,115,108,59,1,10724,4,2,100,108,16897,16900,59,1,8739,101,59,1,8995,4,2,59,101,16910,16912,1,10922,4,2,59,115,16918,16920,1,10924,59,3,10924,65024,4,3,102,108,112,16932,16938,16958,116,99,121,59,1,1100,4,2,59,98,16944,16946,1,47,4,2,59,97,16952,16954,1,10692,114,59,1,9023,102,59,3,55349,56676,97,4,2,100,114,16970,16985,101,115,4,2,59,117,16978,16980,1,9824,105,116,59,1,9824,59,1,8741,4,3,99,115,117,16996,17028,17089,4,2,97,117,17002,17015,112,4,2,59,115,17009,17011,1,8851,59,3,8851,65024,112,4,2,59,115,17022,17024,1,8852,59,3,8852,65024,117,4,2,98,112,17035,17062,4,3,59,101,115,17043,17045,17048,1,8847,59,1,8849,101,116,4,2,59,101,17056,17058,1,8847,113,59,1,8849,4,3,59,101,115,17070,17072,17075,1,8848,59,1,8850,101,116,4,2,59,101,17083,17085,1,8848,113,59,1,8850,4,3,59,97,102,17097,17099,17112,1,9633,114,4,2,101,102,17106,17109,59,1,9633,59,1,9642,59,1,9642,97,114,114,59,1,8594,4,4,99,101,109,116,17131,17136,17142,17148,114,59,3,55349,56520,116,109,110,59,1,8726,105,108,101,59,1,8995,97,114,102,59,1,8902,4,2,97,114,17160,17172,114,4,2,59,102,17167,17169,1,9734,59,1,9733,4,2,97,110,17178,17202,105,103,104,116,4,2,101,112,17188,17197,112,115,105,108,111,110,59,1,1013,104,105,59,1,981,115,59,1,175,4,5,98,99,109,110,112,17218,17351,17420,17423,17427,4,9,59,69,100,101,109,110,112,114,115,17238,17240,17243,17248,17261,17267,17279,17285,17291,1,8834,59,1,10949,111,116,59,1,10941,4,2,59,100,17254,17256,1,8838,111,116,59,1,10947,117,108,116,59,1,10945,4,2,69,101,17273,17276,59,1,10955,59,1,8842,108,117,115,59,1,10943,97,114,114,59,1,10617,4,3,101,105,117,17299,17335,17339,116,4,3,59,101,110,17308,17310,17322,1,8834,113,4,2,59,113,17317,17319,1,8838,59,1,10949,101,113,4,2,59,113,17330,17332,1,8842,59,1,10955,109,59,1,10951,4,2,98,112,17345,17348,59,1,10965,59,1,10963,99,4,6,59,97,99,101,110,115,17366,17368,17376,17385,17389,17415,1,8827,112,112,114,111,120,59,1,10936,117,114,108,121,101,113,59,1,8829,113,59,1,10928,4,3,97,101,115,17397,17405,17410,112,112,114,111,120,59,1,10938,113,113,59,1,10934,105,109,59,1,8937,105,109,59,1,8831,59,1,8721,103,59,1,9834,4,13,49,50,51,59,69,100,101,104,108,109,110,112,115,17455,17462,17469,17476,17478,17481,17496,17509,17524,17530,17536,17548,17554,5,185,1,59,17460,1,185,5,178,1,59,17467,1,178,5,179,1,59,17474,1,179,1,8835,59,1,10950,4,2,111,115,17487,17491,116,59,1,10942,117,98,59,1,10968,4,2,59,100,17502,17504,1,8839,111,116,59,1,10948,115,4,2,111,117,17516,17520,108,59,1,10185,98,59,1,10967,97,114,114,59,1,10619,117,108,116,59,1,10946,4,2,69,101,17542,17545,59,1,10956,59,1,8843,108,117,115,59,1,10944,4,3,101,105,117,17562,17598,17602,116,4,3,59,101,110,17571,17573,17585,1,8835,113,4,2,59,113,17580,17582,1,8839,59,1,10950,101,113,4,2,59,113,17593,17595,1,8843,59,1,10956,109,59,1,10952,4,2,98,112,17608,17611,59,1,10964,59,1,10966,4,3,65,97,110,17622,17627,17650,114,114,59,1,8665,114,4,2,104,114,17634,17638,107,59,1,10534,4,2,59,111,17644,17646,1,8601,119,59,1,8601,119,97,114,59,1,10538,108,105,103,5,223,1,59,17664,1,223,4,13,97,98,99,100,101,102,104,105,111,112,114,115,119,17694,17709,17714,17737,17742,17749,17754,17860,17905,17957,17964,18090,18122,4,2,114,117,17700,17706,103,101,116,59,1,8982,59,1,964,114,107,59,1,9140,4,3,97,101,121,17722,17728,17734,114,111,110,59,1,357,100,105,108,59,1,355,59,1,1090,111,116,59,1,8411,108,114,101,99,59,1,8981,114,59,3,55349,56625,4,4,101,105,107,111,17764,17805,17836,17851,4,2,114,116,17770,17786,101,4,2,52,102,17777,17780,59,1,8756,111,114,101,59,1,8756,97,4,3,59,115,118,17795,17797,17802,1,952,121,109,59,1,977,59,1,977,4,2,99,110,17811,17831,107,4,2,97,115,17818,17826,112,112,114,111,120,59,1,8776,105,109,59,1,8764,115,112,59,1,8201,4,2,97,115,17842,17846,112,59,1,8776,105,109,59,1,8764,114,110,5,254,1,59,17858,1,254,4,3,108,109,110,17868,17873,17901,100,101,59,1,732,101,115,5,215,3,59,98,100,17884,17886,17898,1,215,4,2,59,97,17892,17894,1,8864,114,59,1,10801,59,1,10800,116,59,1,8749,4,3,101,112,115,17913,17917,17953,97,59,1,10536,4,4,59,98,99,102,17927,17929,17934,17939,1,8868,111,116,59,1,9014,105,114,59,1,10993,4,2,59,111,17945,17948,3,55349,56677,114,107,59,1,10970,97,59,1,10537,114,105,109,101,59,1,8244,4,3,97,105,112,17972,17977,18082,100,101,59,1,8482,4,7,97,100,101,109,112,115,116,17993,18051,18056,18059,18066,18072,18076,110,103,108,101,4,5,59,100,108,113,114,18009,18011,18017,18032,18035,1,9653,111,119,110,59,1,9663,101,102,116,4,2,59,101,18026,18028,1,9667,113,59,1,8884,59,1,8796,105,103,104,116,4,2,59,101,18045,18047,1,9657,113,59,1,8885,111,116,59,1,9708,59,1,8796,105,110,117,115,59,1,10810,108,117,115,59,1,10809,98,59,1,10701,105,109,101,59,1,10811,101,122,105,117,109,59,1,9186,4,3,99,104,116,18098,18111,18116,4,2,114,121,18104,18108,59,3,55349,56521,59,1,1094,99,121,59,1,1115,114,111,107,59,1,359,4,2,105,111,18128,18133,120,116,59,1,8812,104,101,97,100,4,2,108,114,18143,18154,101,102,116,97,114,114,111,119,59,1,8606,105,103,104,116,97,114,114,111,119,59,1,8608,4,18,65,72,97,98,99,100,102,103,104,108,109,111,112,114,115,116,117,119,18204,18209,18214,18234,18250,18268,18292,18308,18319,18343,18379,18397,18413,18504,18547,18553,18584,18603,114,114,59,1,8657,97,114,59,1,10595,4,2,99,114,18220,18230,117,116,101,5,250,1,59,18228,1,250,114,59,1,8593,114,4,2,99,101,18241,18245,121,59,1,1118,118,101,59,1,365,4,2,105,121,18256,18265,114,99,5,251,1,59,18263,1,251,59,1,1091,4,3,97,98,104,18276,18281,18287,114,114,59,1,8645,108,97,99,59,1,369,97,114,59,1,10606,4,2,105,114,18298,18304,115,104,116,59,1,10622,59,3,55349,56626,114,97,118,101,5,249,1,59,18317,1,249,4,2,97,98,18325,18338,114,4,2,108,114,18332,18335,59,1,8639,59,1,8638,108,107,59,1,9600,4,2,99,116,18349,18374,4,2,111,114,18355,18369,114,110,4,2,59,101,18363,18365,1,8988,114,59,1,8988,111,112,59,1,8975,114,105,59,1,9720,4,2,97,108,18385,18390,99,114,59,1,363,5,168,1,59,18395,1,168,4,2,103,112,18403,18408,111,110,59,1,371,102,59,3,55349,56678,4,6,97,100,104,108,115,117,18427,18434,18445,18470,18475,18494,114,114,111,119,59,1,8593,111,119,110,97,114,114,111,119,59,1,8597,97,114,112,111,111,110,4,2,108,114,18457,18463,101,102,116,59,1,8639,105,103,104,116,59,1,8638,117,115,59,1,8846,105,4,3,59,104,108,18484,18486,18489,1,965,59,1,978,111,110,59,1,965,112,97,114,114,111,119,115,59,1,8648,4,3,99,105,116,18512,18537,18542,4,2,111,114,18518,18532,114,110,4,2,59,101,18526,18528,1,8989,114,59,1,8989,111,112,59,1,8974,110,103,59,1,367,114,105,59,1,9721,99,114,59,3,55349,56522,4,3,100,105,114,18561,18566,18572,111,116,59,1,8944,108,100,101,59,1,361,105,4,2,59,102,18579,18581,1,9653,59,1,9652,4,2,97,109,18590,18595,114,114,59,1,8648,108,5,252,1,59,18601,1,252,97,110,103,108,101,59,1,10663,4,15,65,66,68,97,99,100,101,102,108,110,111,112,114,115,122,18643,18648,18661,18667,18847,18851,18857,18904,18909,18915,18931,18937,18943,18949,18996,114,114,59,1,8661,97,114,4,2,59,118,18656,18658,1,10984,59,1,10985,97,115,104,59,1,8872,4,2,110,114,18673,18679,103,114,116,59,1,10652,4,7,101,107,110,112,114,115,116,18695,18704,18711,18720,18742,18754,18810,112,115,105,108,111,110,59,1,1013,97,112,112,97,59,1,1008,111,116,104,105,110,103,59,1,8709,4,3,104,105,114,18728,18732,18735,105,59,1,981,59,1,982,111,112,116,111,59,1,8733,4,2,59,104,18748,18750,1,8597,111,59,1,1009,4,2,105,117,18760,18766,103,109,97,59,1,962,4,2,98,112,18772,18791,115,101,116,110,101,113,4,2,59,113,18784,18787,3,8842,65024,59,3,10955,65024,115,101,116,110,101,113,4,2,59,113,18803,18806,3,8843,65024,59,3,10956,65024,4,2,104,114,18816,18822,101,116,97,59,1,977,105,97,110,103,108,101,4,2,108,114,18834,18840,101,102,116,59,1,8882,105,103,104,116,59,1,8883,121,59,1,1074,97,115,104,59,1,8866,4,3,101,108,114,18865,18884,18890,4,3,59,98,101,18873,18875,18880,1,8744,97,114,59,1,8891,113,59,1,8794,108,105,112,59,1,8942,4,2,98,116,18896,18901,97,114,59,1,124,59,1,124,114,59,3,55349,56627,116,114,105,59,1,8882,115,117,4,2,98,112,18923,18927,59,3,8834,8402,59,3,8835,8402,112,102,59,3,55349,56679,114,111,112,59,1,8733,116,114,105,59,1,8883,4,2,99,117,18955,18960,114,59,3,55349,56523,4,2,98,112,18966,18981,110,4,2,69,101,18973,18977,59,3,10955,65024,59,3,8842,65024,110,4,2,69,101,18988,18992,59,3,10956,65024,59,3,8843,65024,105,103,122,97,103,59,1,10650,4,7,99,101,102,111,112,114,115,19020,19026,19061,19066,19072,19075,19089,105,114,99,59,1,373,4,2,100,105,19032,19055,4,2,98,103,19038,19043,97,114,59,1,10847,101,4,2,59,113,19050,19052,1,8743,59,1,8793,101,114,112,59,1,8472,114,59,3,55349,56628,112,102,59,3,55349,56680,59,1,8472,4,2,59,101,19081,19083,1,8768,97,116,104,59,1,8768,99,114,59,3,55349,56524,4,14,99,100,102,104,105,108,109,110,111,114,115,117,118,119,19125,19146,19152,19157,19173,19176,19192,19197,19202,19236,19252,19269,19286,19291,4,3,97,105,117,19133,19137,19142,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,116,114,105,59,1,9661,114,59,3,55349,56629,4,2,65,97,19163,19168,114,114,59,1,10234,114,114,59,1,10231,59,1,958,4,2,65,97,19182,19187,114,114,59,1,10232,114,114,59,1,10229,97,112,59,1,10236,105,115,59,1,8955,4,3,100,112,116,19210,19215,19230,111,116,59,1,10752,4,2,102,108,19221,19225,59,3,55349,56681,117,115,59,1,10753,105,109,101,59,1,10754,4,2,65,97,19242,19247,114,114,59,1,10233,114,114,59,1,10230,4,2,99,113,19258,19263,114,59,3,55349,56525,99,117,112,59,1,10758,4,2,112,116,19275,19281,108,117,115,59,1,10756,114,105,59,1,9651,101,101,59,1,8897,101,100,103,101,59,1,8896,4,8,97,99,101,102,105,111,115,117,19316,19335,19349,19357,19362,19367,19373,19379,99,4,2,117,121,19323,19332,116,101,5,253,1,59,19330,1,253,59,1,1103,4,2,105,121,19341,19346,114,99,59,1,375,59,1,1099,110,5,165,1,59,19355,1,165,114,59,3,55349,56630,99,121,59,1,1111,112,102,59,3,55349,56682,99,114,59,3,55349,56526,4,2,99,109,19385,19389,121,59,1,1102,108,5,255,1,59,19395,1,255,4,10,97,99,100,101,102,104,105,111,115,119,19419,19426,19441,19446,19462,19467,19472,19480,19486,19492,99,117,116,101,59,1,378,4,2,97,121,19432,19438,114,111,110,59,1,382,59,1,1079,111,116,59,1,380,4,2,101,116,19452,19458,116,114,102,59,1,8488,97,59,1,950,114,59,3,55349,56631,99,121,59,1,1078,103,114,97,114,114,59,1,8669,112,102,59,3,55349,56683,99,114,59,3,55349,56527,4,2,106,110,19498,19501,59,1,8205,106,59,1,8204])},function(module,exports,__webpack_require__){"use strict";var HTML=__webpack_require__(113),$=HTML.TAG_NAMES,NS=HTML.NAMESPACES;function isImpliedEndTagRequired(tn){switch(tn.length){case 1:return tn===$.P;case 2:return tn===$.RB||tn===$.RP||tn===$.RT||tn===$.DD||tn===$.DT||tn===$.LI;case 3:return tn===$.RTC;case 6:return tn===$.OPTION;case 8:return tn===$.OPTGROUP||tn===$.MENUITEM}return!1}function isScopingElement(tn,ns){switch(tn.length){case 2:if(tn===$.TD||tn===$.TH)return ns===NS.HTML;if(tn===$.MI||tn===$.MO||tn===$.MN||tn===$.MS)return ns===NS.MATHML;break;case 4:if(tn===$.HTML)return ns===NS.HTML;if(tn===$.DESC)return ns===NS.SVG;break;case 5:if(tn===$.TABLE)return ns===NS.HTML;if(tn===$.MTEXT)return ns===NS.MATHML;if(tn===$.TITLE)return ns===NS.SVG;break;case 6:return(tn===$.APPLET||tn===$.OBJECT)&&ns===NS.HTML;case 7:return(tn===$.CAPTION||tn===$.MARQUEE)&&ns===NS.HTML;case 8:return tn===$.TEMPLATE&&ns===NS.HTML;case 13:return tn===$.FOREIGN_OBJECT&&ns===NS.SVG;case 14:return tn===$.ANNOTATION_XML&&ns===NS.MATHML}return!1}var OpenElementStack=module.exports=function(document,treeAdapter){this.stackTop=-1,this.items=[],this.current=document,this.currentTagName=null,this.currentTmplContent=null,this.tmplCount=0,this.treeAdapter=treeAdapter};OpenElementStack.prototype._indexOf=function(element){for(var idx=-1,i=this.stackTop;i>=0;i--)if(this.items[i]===element){idx=i;break}return idx},OpenElementStack.prototype._isInTemplate=function(){return this.currentTagName===$.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===NS.HTML},OpenElementStack.prototype._updateCurrentElement=function(){this.current=this.items[this.stackTop],this.currentTagName=this.current&&this.treeAdapter.getTagName(this.current),this.currentTmplContent=this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):null},OpenElementStack.prototype.push=function(element){this.items[++this.stackTop]=element,this._updateCurrentElement(),this._isInTemplate()&&this.tmplCount++},OpenElementStack.prototype.pop=function(){this.stackTop--,this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this._updateCurrentElement()},OpenElementStack.prototype.replace=function(oldElement,newElement){var idx=this._indexOf(oldElement);this.items[idx]=newElement,idx===this.stackTop&&this._updateCurrentElement()},OpenElementStack.prototype.insertAfter=function(referenceElement,newElement){var insertionIdx=this._indexOf(referenceElement)+1;this.items.splice(insertionIdx,0,newElement),insertionIdx===++this.stackTop&&this._updateCurrentElement()},OpenElementStack.prototype.popUntilTagNamePopped=function(tagName){for(;this.stackTop>-1;){var tn=this.currentTagName,ns=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),tn===tagName&&ns===NS.HTML)break}},OpenElementStack.prototype.popUntilElementPopped=function(element){for(;this.stackTop>-1;){var poppedElement=this.current;if(this.pop(),poppedElement===element)break}},OpenElementStack.prototype.popUntilNumberedHeaderPopped=function(){for(;this.stackTop>-1;){var tn=this.currentTagName,ns=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),tn===$.H1||tn===$.H2||tn===$.H3||tn===$.H4||tn===$.H5||tn===$.H6&&ns===NS.HTML)break}},OpenElementStack.prototype.popUntilTableCellPopped=function(){for(;this.stackTop>-1;){var tn=this.currentTagName,ns=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),tn===$.TD||tn===$.TH&&ns===NS.HTML)break}},OpenElementStack.prototype.popAllUpToHtmlElement=function(){this.stackTop=0,this._updateCurrentElement()},OpenElementStack.prototype.clearBackToTableContext=function(){for(;this.currentTagName!==$.TABLE&&this.currentTagName!==$.TEMPLATE&&this.currentTagName!==$.HTML||this.treeAdapter.getNamespaceURI(this.current)!==NS.HTML;)this.pop()},OpenElementStack.prototype.clearBackToTableBodyContext=function(){for(;this.currentTagName!==$.TBODY&&this.currentTagName!==$.TFOOT&&this.currentTagName!==$.THEAD&&this.currentTagName!==$.TEMPLATE&&this.currentTagName!==$.HTML||this.treeAdapter.getNamespaceURI(this.current)!==NS.HTML;)this.pop()},OpenElementStack.prototype.clearBackToTableRowContext=function(){for(;this.currentTagName!==$.TR&&this.currentTagName!==$.TEMPLATE&&this.currentTagName!==$.HTML||this.treeAdapter.getNamespaceURI(this.current)!==NS.HTML;)this.pop()},OpenElementStack.prototype.remove=function(element){for(var i=this.stackTop;i>=0;i--)if(this.items[i]===element){this.items.splice(i,1),this.stackTop--,this._updateCurrentElement();break}},OpenElementStack.prototype.tryPeekProperlyNestedBodyElement=function(){var element=this.items[1];return element&&this.treeAdapter.getTagName(element)===$.BODY?element:null},OpenElementStack.prototype.contains=function(element){return this._indexOf(element)>-1},OpenElementStack.prototype.getCommonAncestor=function(element){var elementIdx=this._indexOf(element);return--elementIdx>=0?this.items[elementIdx]:null},OpenElementStack.prototype.isRootHtmlElementCurrent=function(){return 0===this.stackTop&&this.currentTagName===$.HTML},OpenElementStack.prototype.hasInScope=function(tagName){for(var i=this.stackTop;i>=0;i--){var tn=this.treeAdapter.getTagName(this.items[i]),ns=this.treeAdapter.getNamespaceURI(this.items[i]);if(tn===tagName&&ns===NS.HTML)return!0;if(isScopingElement(tn,ns))return!1}return!0},OpenElementStack.prototype.hasNumberedHeaderInScope=function(){for(var i=this.stackTop;i>=0;i--){var tn=this.treeAdapter.getTagName(this.items[i]),ns=this.treeAdapter.getNamespaceURI(this.items[i]);if((tn===$.H1||tn===$.H2||tn===$.H3||tn===$.H4||tn===$.H5||tn===$.H6)&&ns===NS.HTML)return!0;if(isScopingElement(tn,ns))return!1}return!0},OpenElementStack.prototype.hasInListItemScope=function(tagName){for(var i=this.stackTop;i>=0;i--){var tn=this.treeAdapter.getTagName(this.items[i]),ns=this.treeAdapter.getNamespaceURI(this.items[i]);if(tn===tagName&&ns===NS.HTML)return!0;if((tn===$.UL||tn===$.OL)&&ns===NS.HTML||isScopingElement(tn,ns))return!1}return!0},OpenElementStack.prototype.hasInButtonScope=function(tagName){for(var i=this.stackTop;i>=0;i--){var tn=this.treeAdapter.getTagName(this.items[i]),ns=this.treeAdapter.getNamespaceURI(this.items[i]);if(tn===tagName&&ns===NS.HTML)return!0;if(tn===$.BUTTON&&ns===NS.HTML||isScopingElement(tn,ns))return!1}return!0},OpenElementStack.prototype.hasInTableScope=function(tagName){for(var i=this.stackTop;i>=0;i--){var tn=this.treeAdapter.getTagName(this.items[i]);if(this.treeAdapter.getNamespaceURI(this.items[i])===NS.HTML){if(tn===tagName)return!0;if(tn===$.TABLE||tn===$.TEMPLATE||tn===$.HTML)return!1}}return!0},OpenElementStack.prototype.hasTableBodyContextInTableScope=function(){for(var i=this.stackTop;i>=0;i--){var tn=this.treeAdapter.getTagName(this.items[i]);if(this.treeAdapter.getNamespaceURI(this.items[i])===NS.HTML){if(tn===$.TBODY||tn===$.THEAD||tn===$.TFOOT)return!0;if(tn===$.TABLE||tn===$.HTML)return!1}}return!0},OpenElementStack.prototype.hasInSelectScope=function(tagName){for(var i=this.stackTop;i>=0;i--){var tn=this.treeAdapter.getTagName(this.items[i]);if(this.treeAdapter.getNamespaceURI(this.items[i])===NS.HTML){if(tn===tagName)return!0;if(tn!==$.OPTION&&tn!==$.OPTGROUP)return!1}}return!0},OpenElementStack.prototype.generateImpliedEndTags=function(){for(;isImpliedEndTagRequired(this.currentTagName);)this.pop()},OpenElementStack.prototype.generateImpliedEndTagsWithExclusion=function(exclusionTagName){for(;isImpliedEndTagRequired(this.currentTagName)&&this.currentTagName!==exclusionTagName;)this.pop()}},function(module,exports,__webpack_require__){"use strict";var FormattingElementList=module.exports=function(treeAdapter){this.length=0,this.entries=[],this.treeAdapter=treeAdapter,this.bookmark=null};FormattingElementList.MARKER_ENTRY="MARKER_ENTRY",FormattingElementList.ELEMENT_ENTRY="ELEMENT_ENTRY",FormattingElementList.prototype._getNoahArkConditionCandidates=function(newElement){var candidates=[];if(this.length>=3)for(var neAttrsLength=this.treeAdapter.getAttrList(newElement).length,neTagName=this.treeAdapter.getTagName(newElement),neNamespaceURI=this.treeAdapter.getNamespaceURI(newElement),i=this.length-1;i>=0;i--){var entry=this.entries[i];if(entry.type===FormattingElementList.MARKER_ENTRY)break;var element=entry.element,elementAttrs=this.treeAdapter.getAttrList(element);this.treeAdapter.getTagName(element)===neTagName&&this.treeAdapter.getNamespaceURI(element)===neNamespaceURI&&elementAttrs.length===neAttrsLength&&candidates.push({idx:i,attrs:elementAttrs})}return candidates.length<3?[]:candidates},FormattingElementList.prototype._ensureNoahArkCondition=function(newElement){var candidates=this._getNoahArkConditionCandidates(newElement),cLength=candidates.length;if(cLength){for(var neAttrs=this.treeAdapter.getAttrList(newElement),neAttrsLength=neAttrs.length,neAttrsMap=Object.create(null),i=0;i<neAttrsLength;i++){var neAttr=neAttrs[i];neAttrsMap[neAttr.name]=neAttr.value}for(i=0;i<neAttrsLength;i++)for(var j=0;j<cLength;j++){var cAttr=candidates[j].attrs[i];if(neAttrsMap[cAttr.name]!==cAttr.value&&(candidates.splice(j,1),cLength--),candidates.length<3)return}for(i=cLength-1;i>=2;i--)this.entries.splice(candidates[i].idx,1),this.length--}},FormattingElementList.prototype.insertMarker=function(){this.entries.push({type:FormattingElementList.MARKER_ENTRY}),this.length++},FormattingElementList.prototype.pushElement=function(element,token){this._ensureNoahArkCondition(element),this.entries.push({type:FormattingElementList.ELEMENT_ENTRY,element:element,token:token}),this.length++},FormattingElementList.prototype.insertElementAfterBookmark=function(element,token){for(var bookmarkIdx=this.length-1;bookmarkIdx>=0&&this.entries[bookmarkIdx]!==this.bookmark;bookmarkIdx--);this.entries.splice(bookmarkIdx+1,0,{type:FormattingElementList.ELEMENT_ENTRY,element:element,token:token}),this.length++},FormattingElementList.prototype.removeEntry=function(entry){for(var i=this.length-1;i>=0;i--)if(this.entries[i]===entry){this.entries.splice(i,1),this.length--;break}},FormattingElementList.prototype.clearToLastMarker=function(){for(;this.length;){var entry=this.entries.pop();if(this.length--,entry.type===FormattingElementList.MARKER_ENTRY)break}},FormattingElementList.prototype.getElementEntryInScopeWithTagName=function(tagName){for(var i=this.length-1;i>=0;i--){var entry=this.entries[i];if(entry.type===FormattingElementList.MARKER_ENTRY)return null;if(this.treeAdapter.getTagName(entry.element)===tagName)return entry}return null},FormattingElementList.prototype.getElementEntry=function(element){for(var i=this.length-1;i>=0;i--){var entry=this.entries[i];if(entry.type===FormattingElementList.ELEMENT_ENTRY&&entry.element===element)return entry}return null}},function(module,exports,__webpack_require__){"use strict";var Mixin=__webpack_require__(309),Tokenizer=__webpack_require__(200),LocationInfoTokenizerMixin=__webpack_require__(839),PositionTrackingPreprocessorMixin=__webpack_require__(840),LocationInfoOpenElementStackMixin=__webpack_require__(1081),HTML=__webpack_require__(113),inherits=__webpack_require__(8).inherits,$=HTML.TAG_NAMES,LocationInfoParserMixin=module.exports=function(parser){Mixin.call(this,parser),this.parser=parser,this.posTracker=null,this.lastStartTagToken=null,this.lastFosterParentingLocation=null,this.currentToken=null};inherits(LocationInfoParserMixin,Mixin),LocationInfoParserMixin.prototype._setStartLocation=function(element){this.lastStartTagToken?(element.__location=Object.create(this.lastStartTagToken.location),element.__location.startTag=this.lastStartTagToken.location):element.__location=null},LocationInfoParserMixin.prototype._setEndLocation=function(element,closingToken){var loc=element.__location;if(loc)if(closingToken.location){var ctLoc=closingToken.location,tn=this.parser.treeAdapter.getTagName(element);closingToken.type===Tokenizer.END_TAG_TOKEN&&tn===closingToken.tagName?(loc.endTag=Object.create(ctLoc),loc.endOffset=ctLoc.endOffset):loc.endOffset=ctLoc.startOffset}else closingToken.type===Tokenizer.EOF_TOKEN&&(loc.endOffset=this.posTracker.offset)},LocationInfoParserMixin.prototype._getOverriddenMethods=function(mxn,orig){return{_bootstrap:function(document,fragmentContext){orig._bootstrap.call(this,document,fragmentContext),mxn.lastStartTagToken=null,mxn.lastFosterParentingLocation=null,mxn.currentToken=null,mxn.posTracker=new PositionTrackingPreprocessorMixin(this.tokenizer.preprocessor),new LocationInfoTokenizerMixin(this.tokenizer),new LocationInfoOpenElementStackMixin(this.openElements,{onItemPop:function(element){mxn._setEndLocation(element,mxn.currentToken)}})},_runParsingLoop:function(scriptHandler){orig._runParsingLoop.call(this,scriptHandler);for(var i=this.openElements.stackTop;i>=0;i--)mxn._setEndLocation(this.openElements.items[i],mxn.currentToken)},_processTokenInForeignContent:function(token){mxn.currentToken=token,orig._processTokenInForeignContent.call(this,token)},_processToken:function(token){if(mxn.currentToken=token,orig._processToken.call(this,token),token.type===Tokenizer.END_TAG_TOKEN&&(token.tagName===$.HTML||token.tagName===$.BODY&&this.openElements.hasInScope($.BODY)))for(var i=this.openElements.stackTop;i>=0;i--){var element=this.openElements.items[i];if(this.treeAdapter.getTagName(element)===token.tagName){mxn._setEndLocation(element,token);break}}},_setDocumentType:function(token){orig._setDocumentType.call(this,token);for(var documentChildren=this.treeAdapter.getChildNodes(this.document),cnLength=documentChildren.length,i=0;i<cnLength;i++){var node=documentChildren[i];if(this.treeAdapter.isDocumentTypeNode(node)){node.__location=token.location;break}}},_attachElementToTree:function(element){mxn._setStartLocation(element),mxn.lastStartTagToken=null,orig._attachElementToTree.call(this,element)},_appendElement:function(token,namespaceURI){mxn.lastStartTagToken=token,orig._appendElement.call(this,token,namespaceURI)},_insertElement:function(token,namespaceURI){mxn.lastStartTagToken=token,orig._insertElement.call(this,token,namespaceURI)},_insertTemplate:function(token){mxn.lastStartTagToken=token,orig._insertTemplate.call(this,token),this.treeAdapter.getTemplateContent(this.openElements.current).__location=null},_insertFakeRootElement:function(){orig._insertFakeRootElement.call(this),this.openElements.current.__location=null},_appendCommentNode:function(token,parent){orig._appendCommentNode.call(this,token,parent);var children=this.treeAdapter.getChildNodes(parent);children[children.length-1].__location=token.location},_findFosterParentingLocation:function(){return mxn.lastFosterParentingLocation=orig._findFosterParentingLocation.call(this),mxn.lastFosterParentingLocation},_insertCharacters:function(token){orig._insertCharacters.call(this,token);var hasFosterParent=this._shouldFosterParentOnInsertion(),parent=hasFosterParent&&mxn.lastFosterParentingLocation.parent||this.openElements.currentTmplContent||this.openElements.current,siblings=this.treeAdapter.getChildNodes(parent),textNodeIdx=hasFosterParent&&mxn.lastFosterParentingLocation.beforeElement?siblings.indexOf(mxn.lastFosterParentingLocation.beforeElement)-1:siblings.length-1,textNode=siblings[textNodeIdx];textNode.__location?textNode.__location.endOffset=token.location.endOffset:textNode.__location=token.location}}}},function(module,exports,__webpack_require__){"use strict";var Mixin=__webpack_require__(309),inherits=__webpack_require__(8).inherits,LocationInfoOpenElementStackMixin=module.exports=function(stack,options){Mixin.call(this,stack),this.onItemPop=options.onItemPop};inherits(LocationInfoOpenElementStackMixin,Mixin),LocationInfoOpenElementStackMixin.prototype._getOverriddenMethods=function(mxn,orig){return{pop:function(){mxn.onItemPop(this.current),orig.pop.call(this)},popAllUpToHtmlElement:function(){for(var i=this.stackTop;i>0;i--)mxn.onItemPop(this.items[i]);orig.popAllUpToHtmlElement.call(this)},remove:function(element){mxn.onItemPop(this.current),orig.remove.call(this,element)}}}},function(module,exports,__webpack_require__){"use strict";var doctype=__webpack_require__(455),DOCUMENT_MODE=__webpack_require__(113).DOCUMENT_MODE,nodeTypes={element:1,text:3,cdata:4,comment:8},nodePropertyShorthands={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},Node=function(props){for(var key in props)props.hasOwnProperty(key)&&(this[key]=props[key])};Node.prototype={get firstChild(){var children=this.children;return children&&children[0]||null},get lastChild(){var children=this.children;return children&&children[children.length-1]||null},get nodeType(){return nodeTypes[this.type]||nodeTypes.element}},Object.keys(nodePropertyShorthands).forEach(function(key){var shorthand=nodePropertyShorthands[key];Object.defineProperty(Node.prototype,key,{get:function(){return this[shorthand]||null},set:function(val){return this[shorthand]=val,val}})}),exports.createDocument=function(){return new Node({type:"root",name:"root",parent:null,prev:null,next:null,children:[],"x-mode":DOCUMENT_MODE.NO_QUIRKS})},exports.createDocumentFragment=function(){return new Node({type:"root",name:"root",parent:null,prev:null,next:null,children:[]})},exports.createElement=function(tagName,namespaceURI,attrs){for(var attribs=Object.create(null),attribsNamespace=Object.create(null),attribsPrefix=Object.create(null),i=0;i<attrs.length;i++){var attrName=attrs[i].name;attribs[attrName]=attrs[i].value,attribsNamespace[attrName]=attrs[i].namespace,attribsPrefix[attrName]=attrs[i].prefix}return new Node({type:"script"===tagName||"style"===tagName?tagName:"tag",name:tagName,namespace:namespaceURI,attribs:attribs,"x-attribsNamespace":attribsNamespace,"x-attribsPrefix":attribsPrefix,children:[],parent:null,prev:null,next:null})},exports.createCommentNode=function(data){return new Node({type:"comment",data:data,parent:null,prev:null,next:null})};var createTextNode=function(value){return new Node({type:"text",data:value,parent:null,prev:null,next:null})},appendChild=exports.appendChild=function(parentNode,newNode){var prev=parentNode.children[parentNode.children.length-1];prev&&(prev.next=newNode,newNode.prev=prev),parentNode.children.push(newNode),newNode.parent=parentNode},insertBefore=exports.insertBefore=function(parentNode,newNode,referenceNode){var insertionIdx=parentNode.children.indexOf(referenceNode),prev=referenceNode.prev;prev&&(prev.next=newNode,newNode.prev=prev),referenceNode.prev=newNode,newNode.next=referenceNode,parentNode.children.splice(insertionIdx,0,newNode),newNode.parent=parentNode};exports.setTemplateContent=function(templateElement,contentElement){appendChild(templateElement,contentElement)},exports.getTemplateContent=function(templateElement){return templateElement.children[0]},exports.setDocumentType=function(document,name,publicId,systemId){for(var data=doctype.serializeContent(name,publicId,systemId),doctypeNode=null,i=0;i<document.children.length;i++)if("directive"===document.children[i].type&&"!doctype"===document.children[i].name){doctypeNode=document.children[i];break}doctypeNode?(doctypeNode.data=data,doctypeNode["x-name"]=name,doctypeNode["x-publicId"]=publicId,doctypeNode["x-systemId"]=systemId):appendChild(document,new Node({type:"directive",name:"!doctype",data:data,"x-name":name,"x-publicId":publicId,"x-systemId":systemId}))},exports.setDocumentMode=function(document,mode){document["x-mode"]=mode},exports.getDocumentMode=function(document){return document["x-mode"]},exports.detachNode=function(node){if(node.parent){var idx=node.parent.children.indexOf(node),prev=node.prev,next=node.next;node.prev=null,node.next=null,prev&&(prev.next=next),next&&(next.prev=prev),node.parent.children.splice(idx,1),node.parent=null}},exports.insertText=function(parentNode,text){var lastChild=parentNode.children[parentNode.children.length-1];lastChild&&"text"===lastChild.type?lastChild.data+=text:appendChild(parentNode,createTextNode(text))},exports.insertTextBefore=function(parentNode,text,referenceNode){var prevNode=parentNode.children[parentNode.children.indexOf(referenceNode)-1];prevNode&&"text"===prevNode.type?prevNode.data+=text:insertBefore(parentNode,createTextNode(text),referenceNode)},exports.adoptAttributes=function(recipient,attrs){for(var i=0;i<attrs.length;i++){var attrName=attrs[i].name;void 0===recipient.attribs[attrName]&&(recipient.attribs[attrName]=attrs[i].value,recipient["x-attribsNamespace"][attrName]=attrs[i].namespace,recipient["x-attribsPrefix"][attrName]=attrs[i].prefix)}},exports.getFirstChild=function(node){return node.children[0]},exports.getChildNodes=function(node){return node.children},exports.getParentNode=function(node){return node.parent},exports.getAttrList=function(element){var attrList=[];for(var name in element.attribs)attrList.push({name:name,value:element.attribs[name],namespace:element["x-attribsNamespace"][name],prefix:element["x-attribsPrefix"][name]});return attrList},exports.getTagName=function(element){return element.name},exports.getNamespaceURI=function(element){return element.namespace},exports.getTextNodeContent=function(textNode){return textNode.data},exports.getCommentNodeContent=function(commentNode){return commentNode.data},exports.getDocumentTypeNodeName=function(doctypeNode){return doctypeNode["x-name"]},exports.getDocumentTypeNodePublicId=function(doctypeNode){return doctypeNode["x-publicId"]},exports.getDocumentTypeNodeSystemId=function(doctypeNode){return doctypeNode["x-systemId"]},exports.isTextNode=function(node){return"text"===node.type},exports.isCommentNode=function(node){return"comment"===node.type},exports.isDocumentTypeNode=function(node){return"directive"===node.type&&"!doctype"===node.name},exports.isElementNode=function(node){return!!node.attribs}},function(module,exports,__webpack_require__){"use strict";var ParserStream=__webpack_require__(843),inherits=__webpack_require__(8).inherits,$=__webpack_require__(113).TAG_NAMES;inherits(module.exports=function(options){ParserStream.call(this,options),this.parser._insertFakeElement($.HTML),this.parser._insertFakeElement($.HEAD),this.parser.openElements.pop(),this.parser._insertFakeElement($.BODY),this.parser._insertFakeElement($.PRE),this.parser.treeAdapter.insertText(this.parser.openElements.current,"\n"),this.parser.switchToPlaintextParsing()},ParserStream)},function(module,exports,__webpack_require__){"use strict";var ReadableStream=__webpack_require__(10).Readable,inherits=__webpack_require__(8).inherits,Serializer=__webpack_require__(842),SerializerStream=module.exports=function(node,options){ReadableStream.call(this),this.serializer=new Serializer(node,options),Object.defineProperty(this.serializer,"html",{get:function(){return""},set:this.push.bind(this)})};inherits(SerializerStream,ReadableStream),SerializerStream.prototype._read=function(){this.serializer.serialize(),this.push(null)}},function(module,exports,__webpack_require__){"use strict";var TransformStream=__webpack_require__(10).Transform,DevNullStream=__webpack_require__(1086),inherits=__webpack_require__(8).inherits,Tokenizer=__webpack_require__(200),LocationInfoTokenizerMixin=__webpack_require__(839),ParserFeedbackSimulator=__webpack_require__(1087),mergeOptions=__webpack_require__(454),DEFAULT_OPTIONS={locationInfo:!1},SAXParser=module.exports=function(options){TransformStream.call(this),this.options=mergeOptions(DEFAULT_OPTIONS,options),this.tokenizer=new Tokenizer(options),this.options.locationInfo&&new LocationInfoTokenizerMixin(this.tokenizer),this.parserFeedbackSimulator=new ParserFeedbackSimulator(this.tokenizer),this.pendingText=null,this.currentTokenLocation=void 0,this.lastChunkWritten=!1,this.stopped=!1,this.pipe(new DevNullStream)};inherits(SAXParser,TransformStream),SAXParser.prototype._transform=function(chunk,encoding,callback){this.stopped||(this.tokenizer.write(chunk.toString("utf8"),this.lastChunkWritten),this._runParsingLoop()),this.push(chunk),callback()},SAXParser.prototype._flush=function(callback){callback()},SAXParser.prototype.end=function(chunk,encoding,callback){this.lastChunkWritten=!0,TransformStream.prototype.end.call(this,chunk,encoding,callback)},SAXParser.prototype.stop=function(){this.stopped=!0},SAXParser.prototype._runParsingLoop=function(){do{var token=this.parserFeedbackSimulator.getNextToken();if(token.type===Tokenizer.HIBERNATION_TOKEN)break;token.type===Tokenizer.CHARACTER_TOKEN||token.type===Tokenizer.WHITESPACE_CHARACTER_TOKEN||token.type===Tokenizer.NULL_CHARACTER_TOKEN?(this.options.locationInfo&&(null===this.pendingText?this.currentTokenLocation=token.location:this.currentTokenLocation.endOffset=token.location.endOffset),this.pendingText=(this.pendingText||"")+token.chars):(this._emitPendingText(),this._handleToken(token))}while(!this.stopped&&token.type!==Tokenizer.EOF_TOKEN)},SAXParser.prototype._handleToken=function(token){this.options.locationInfo&&(this.currentTokenLocation=token.location),token.type===Tokenizer.START_TAG_TOKEN?this.emit("startTag",token.tagName,token.attrs,token.selfClosing,this.currentTokenLocation):token.type===Tokenizer.END_TAG_TOKEN?this.emit("endTag",token.tagName,this.currentTokenLocation):token.type===Tokenizer.COMMENT_TOKEN?this.emit("comment",token.data,this.currentTokenLocation):token.type===Tokenizer.DOCTYPE_TOKEN&&this.emit("doctype",token.name,token.publicId,token.systemId,this.currentTokenLocation)},SAXParser.prototype._emitPendingText=function(){null!==this.pendingText&&(this.emit("text",this.pendingText,this.currentTokenLocation),this.pendingText=null)}},function(module,exports,__webpack_require__){"use strict";var WritableStream=__webpack_require__(10).Writable,util=__webpack_require__(8),DevNullStream=module.exports=function(){WritableStream.call(this)};util.inherits(DevNullStream,WritableStream),DevNullStream.prototype._write=function(chunk,encoding,cb){cb()}},function(module,exports,__webpack_require__){"use strict";var Tokenizer=__webpack_require__(200),foreignContent=__webpack_require__(841),UNICODE=__webpack_require__(267),HTML=__webpack_require__(113),$=HTML.TAG_NAMES,NS=HTML.NAMESPACES,ParserFeedbackSimulator=module.exports=function(tokenizer){this.tokenizer=tokenizer,this.namespaceStack=[],this.namespaceStackTop=-1,this._enterNamespace(NS.HTML)};ParserFeedbackSimulator.prototype.getNextToken=function(){var token=this.tokenizer.getNextToken();if(token.type===Tokenizer.START_TAG_TOKEN)this._handleStartTagToken(token);else if(token.type===Tokenizer.END_TAG_TOKEN)this._handleEndTagToken(token);else if(token.type===Tokenizer.NULL_CHARACTER_TOKEN&&this.inForeignContent)token.type=Tokenizer.CHARACTER_TOKEN,token.chars=UNICODE.REPLACEMENT_CHARACTER;else if(this.skipNextNewLine&&(token.type!==Tokenizer.HIBERNATION_TOKEN&&(this.skipNextNewLine=!1),token.type===Tokenizer.WHITESPACE_CHARACTER_TOKEN&&"\n"===token.chars[0])){if(1===token.chars.length)return this.getNextToken();token.chars=token.chars.substr(1)}return token},ParserFeedbackSimulator.prototype._enterNamespace=function(namespace){this.namespaceStackTop++,this.namespaceStack.push(namespace),this.inForeignContent=namespace!==NS.HTML,this.currentNamespace=namespace,this.tokenizer.allowCDATA=this.inForeignContent},ParserFeedbackSimulator.prototype._leaveCurrentNamespace=function(){this.namespaceStackTop--,this.namespaceStack.pop(),this.currentNamespace=this.namespaceStack[this.namespaceStackTop],this.inForeignContent=this.currentNamespace!==NS.HTML,this.tokenizer.allowCDATA=this.inForeignContent},ParserFeedbackSimulator.prototype._ensureTokenizerMode=function(tn){tn===$.TEXTAREA||tn===$.TITLE?this.tokenizer.state=Tokenizer.MODE.RCDATA:tn===$.PLAINTEXT?this.tokenizer.state=Tokenizer.MODE.PLAINTEXT:tn===$.SCRIPT?this.tokenizer.state=Tokenizer.MODE.SCRIPT_DATA:tn!==$.STYLE&&tn!==$.IFRAME&&tn!==$.XMP&&tn!==$.NOEMBED&&tn!==$.NOFRAMES&&tn!==$.NOSCRIPT||(this.tokenizer.state=Tokenizer.MODE.RAWTEXT)},ParserFeedbackSimulator.prototype._handleStartTagToken=function(token){var tn=token.tagName;if(tn===$.SVG?this._enterNamespace(NS.SVG):tn===$.MATH&&this._enterNamespace(NS.MATHML),this.inForeignContent){if(foreignContent.causesExit(token))return void this._leaveCurrentNamespace();var currentNs=this.currentNamespace;currentNs===NS.MATHML?foreignContent.adjustTokenMathMLAttrs(token):currentNs===NS.SVG&&(foreignContent.adjustTokenSVGTagName(token),foreignContent.adjustTokenSVGAttrs(token)),foreignContent.adjustTokenXMLAttrs(token),tn=token.tagName,!token.selfClosing&&foreignContent.isIntegrationPoint(tn,currentNs,token.attrs)&&this._enterNamespace(NS.HTML)}else tn===$.PRE||tn===$.TEXTAREA||tn===$.LISTING?this.skipNextNewLine=!0:tn===$.IMAGE&&(token.tagName=$.IMG),this._ensureTokenizerMode(tn)},ParserFeedbackSimulator.prototype._handleEndTagToken=function(token){var tn=token.tagName;if(this.inForeignContent)(tn===$.SVG&&this.currentNamespace===NS.SVG||tn===$.MATH&&this.currentNamespace===NS.MATHML)&&this._leaveCurrentNamespace();else{var previousNs=this.namespaceStack[this.namespaceStackTop-1];previousNs===NS.SVG&&foreignContent.SVG_TAG_NAMES_ADJUSTMENT_MAP[tn]&&(tn=foreignContent.SVG_TAG_NAMES_ADJUSTMENT_MAP[tn]),foreignContent.isIntegrationPoint(tn,previousNs,token.attrs)&&this._leaveCurrentNamespace()}this.currentNamespace===NS.SVG&&foreignContent.adjustTokenSVGTagName(token)}},function(module,exports,__webpack_require__){var createCtor=__webpack_require__(318),root=__webpack_require__(33),WRAP_BIND_FLAG=1;module.exports=function(func,bitmask,thisArg){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);return function wrapper(){return(this&&this!==root&&this instanceof wrapper?Ctor:func).apply(isBind?thisArg:this,arguments)}}},function(module,exports,__webpack_require__){var apply=__webpack_require__(254),createCtor=__webpack_require__(318),createHybrid=__webpack_require__(847),createRecurry=__webpack_require__(850),getHolder=__webpack_require__(459),replaceHolders=__webpack_require__(320),root=__webpack_require__(33);module.exports=function(func,bitmask,arity){var Ctor=createCtor(func);return function wrapper(){for(var length=arguments.length,args=Array(length),index=length,placeholder=getHolder(wrapper);index--;)args[index]=arguments[index];var holders=length<3&&args[0]!==placeholder&&args[length-1]!==placeholder?[]:replaceHolders(args,placeholder);return(length-=holders.length)<arity?createRecurry(func,bitmask,createHybrid,wrapper.placeholder,void 0,args,holders,void 0,void 0,arity-length):apply(this&&this!==root&&this instanceof wrapper?Ctor:func,this,args)}}},function(module,exports){module.exports=function(array,placeholder){for(var length=array.length,result=0;length--;)array[length]===placeholder&&++result;return result}},function(module,exports){var reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /;module.exports=function(source){var match=source.match(reWrapDetails);return match?match[1].split(reSplitDetails):[]}},function(module,exports){var reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;module.exports=function(source,details){var length=details.length;if(!length)return source;var lastIndex=length-1;return details[lastIndex]=(length>1?"& ":"")+details[lastIndex],details=details.join(length>2?", ":" "),source.replace(reWrapComment,"{\n/* [wrapped with "+details+"] */\n")}},function(module,exports,__webpack_require__){var arrayEach=__webpack_require__(154),arrayIncludes=__webpack_require__(189),wrapFlags=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];module.exports=function(details,bitmask){return arrayEach(wrapFlags,function(pair){var value="_."+pair[0];bitmask&pair[1]&&!arrayIncludes(details,value)&&details.push(value)}),details.sort()}},function(module,exports,__webpack_require__){var copyArray=__webpack_require__(145),isIndex=__webpack_require__(136),nativeMin=Math.min;module.exports=function(array,indexes){for(var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=copyArray(array);length--;){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:void 0}return array}},function(module,exports,__webpack_require__){var apply=__webpack_require__(254),createCtor=__webpack_require__(318),root=__webpack_require__(33),WRAP_BIND_FLAG=1;module.exports=function(func,bitmask,thisArg,partials){var isBind=bitmask&WRAP_BIND_FLAG,Ctor=createCtor(func);return function wrapper(){for(var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength),fn=this&&this!==root&&this instanceof wrapper?Ctor:func;++leftIndex<leftLength;)args[leftIndex]=partials[leftIndex];for(;argsLength--;)args[leftIndex++]=arguments[++argsIndex];return apply(fn,isBind?thisArg:this,args)}}},function(module,exports,__webpack_require__){var composeArgs=__webpack_require__(848),composeArgsRight=__webpack_require__(849),replaceHolders=__webpack_require__(320),PLACEHOLDER="__lodash_placeholder__",WRAP_BIND_FLAG=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_BOUND_FLAG=4,WRAP_CURRY_FLAG=8,WRAP_ARY_FLAG=128,WRAP_REARG_FLAG=256,nativeMin=Math.min;module.exports=function(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<(WRAP_BIND_FLAG|WRAP_BIND_KEY_FLAG|WRAP_ARY_FLAG),isCombo=srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_CURRY_FLAG||srcBitmask==WRAP_ARY_FLAG&&bitmask==WRAP_REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(WRAP_ARY_FLAG|WRAP_REARG_FLAG)&&source[7].length<=source[8]&&bitmask==WRAP_CURRY_FLAG;if(!isCommon&&!isCombo)return data;srcBitmask&WRAP_BIND_FLAG&&(data[2]=source[2],newBitmask|=bitmask&WRAP_BIND_FLAG?0:WRAP_CURRY_BOUND_FLAG);var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):value,data[4]=partials?replaceHolders(data[3],PLACEHOLDER):source[4]}return(value=source[5])&&(partials=data[5],data[5]=partials?composeArgsRight(partials,value,source[6]):value,data[6]=partials?replaceHolders(data[5],PLACEHOLDER):source[6]),(value=source[7])&&(data[7]=value),srcBitmask&WRAP_ARY_FLAG&&(data[8]=null==data[8]?source[8]:nativeMin(data[8],source[8])),null==data[9]&&(data[9]=source[9]),data[0]=source[0],data[1]=newBitmask,data}},function(module,exports,__webpack_require__){var $=__webpack_require__(461),utils=__webpack_require__(269),isTag=utils.isTag,domEach=utils.domEach,hasOwn=Object.prototype.hasOwnProperty,camelCase=utils.camelCase,cssCase=utils.cssCase,rspace=/\s+/,_={forEach:__webpack_require__(138),extend:__webpack_require__(845),some:__webpack_require__(483)},primitives={null:null,true:!0,false:!1},rboolean=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,getAttr=function(elem,name){if(elem&&isTag(elem))return elem.attribs||(elem.attribs={}),name?hasOwn.call(elem.attribs,name)?rboolean.test(name)?name:elem.attribs[name]:"option"===elem.name&&"value"===name?$.text(elem.children):"input"!==elem.name||"radio"!==elem.attribs.type&&"checkbox"!==elem.attribs.type||"value"!==name?void 0:"on":elem.attribs},setAttr=function(el,name,value){null===value?removeAttribute(el,name):el.attribs[name]=value+""};exports.attr=function(name,value){return"object"==typeof name||void 0!==value?domEach(this,"function"==typeof value?function(i,el){setAttr(el,name,value.call(el,i,el.attribs[name]))}:function(i,el){isTag(el)&&("object"==typeof name?_.forEach(name,function(objValue,objName){setAttr(el,objName,objValue)}):setAttr(el,name,value))}):getAttr(this[0],name)};var getProp=function(el,name){if(el&&isTag(el))return hasOwn.call(el,name)?el[name]:rboolean.test(name)?void 0!==getAttr(el,name):getAttr(el,name)},setProp=function(el,name,value){el[name]=rboolean.test(name)?!!value:value};exports.prop=function(name,value){var property,i=0;if("string"==typeof name&&void 0===value){switch(name){case"style":property=this.css(),_.forEach(property,function(v,p){property[i++]=p}),property.length=i;break;case"tagName":case"nodeName":property=this[0].name.toUpperCase();break;default:property=getProp(this[0],name)}return property}if("object"==typeof name||void 0!==value)return domEach(this,"function"==typeof value?function(j,el){setProp(el,name,value.call(el,j,getProp(el,name)))}:function(__,el){isTag(el)&&("object"==typeof name?_.forEach(name,function(val,key){setProp(el,key,val)}):setProp(el,name,value))})};var readData=function(el,name){var domNames,domName,jsNames,jsName,value,idx,length,readAll=1===arguments.length;for(readAll?jsNames=(domNames=Object.keys(el.attribs).filter(function(attrName){return"data-"===attrName.slice(0,"data-".length)})).map(function(_domName){return camelCase(_domName.slice("data-".length))}):(domNames=["data-"+cssCase(name)],jsNames=[name]),idx=0,length=domNames.length;idx<length;++idx)if(domName=domNames[idx],jsName=jsNames[idx],hasOwn.call(el.attribs,domName)){if(value=el.attribs[domName],hasOwn.call(primitives,value))value=primitives[value];else if(value===String(Number(value)))value=Number(value);else if(rbrace.test(value))try{value=JSON.parse(value)}catch(e){}el.data[jsName]=value}return readAll?el.data:value};exports.data=function(name,value){var elem=this[0];if(elem&&isTag(elem))return elem.data||(elem.data={}),name?"object"==typeof name||void 0!==value?(domEach(this,function(i,el){!function(el,name,value){if(el.data||(el.data={}),"object"==typeof name)return _.extend(el.data,name);"string"==typeof name&&void 0!==value&&(el.data[name]=value)}(el,name,value)}),this):hasOwn.call(elem.data,name)?elem.data[name]:readData(elem,name):readData(elem)},exports.val=function(value){var querying=0===arguments.length,element=this[0];if(element)switch(element.name){case"textarea":return this.text(value);case"input":switch(this.attr("type")){case"radio":return querying?this.attr("value"):(this.attr("value",value),this);default:return this.attr("value",value)}return;case"select":var returnValue,option=this.find("option:selected");if(void 0===option)return;if(!querying){if(!hasOwn.call(this.attr(),"multiple")&&"object"==typeof value)return this;"object"!=typeof value&&(value=[value]),this.find("option").removeAttr("selected");for(var i=0;i<value.length;i++)this.find('option[value="'+value[i]+'"]').attr("selected","");return this}return returnValue=option.attr("value"),hasOwn.call(this.attr(),"multiple")&&(returnValue=[],domEach(option,function(__,el){returnValue.push(getAttr(el,"value"))})),returnValue;case"option":return querying?this.attr("value"):(this.attr("value",value),this)}};var removeAttribute=function(elem,name){elem.attribs&&hasOwn.call(elem.attribs,name)&&delete elem.attribs[name]};exports.removeAttr=function(name){return domEach(this,function(i,elem){removeAttribute(elem,name)}),this},exports.hasClass=function(className){return _.some(this,function(elem){var end,attrs=elem.attribs,clazz=attrs&&attrs.class,idx=-1;if(clazz&&className.length)for(;(idx=clazz.indexOf(className,idx+1))>-1;)if(end=idx+className.length,(0===idx||rspace.test(clazz[idx-1]))&&(end===clazz.length||rspace.test(clazz[end])))return!0})},exports.addClass=function(value){if("function"==typeof value)return domEach(this,function(i,el){var className=el.attribs.class||"";exports.addClass.call([el],value.call(el,i,className))});if(!value||"string"!=typeof value)return this;for(var classNames=value.split(rspace),numElements=this.length,i=0;i<numElements;i++)if(isTag(this[i])){var numClasses,setClass,className=getAttr(this[i],"class");if(className){setClass=" "+className+" ",numClasses=classNames.length;for(var j=0;j<numClasses;j++){var appendClass=classNames[j]+" ";setClass.indexOf(" "+appendClass)<0&&(setClass+=appendClass)}setAttr(this[i],"class",setClass.trim())}else setAttr(this[i],"class",classNames.join(" ").trim())}return this};var splitClass=function(className){return className?className.trim().split(rspace):[]};exports.removeClass=function(value){var classes,numClasses,removeAll;return"function"==typeof value?domEach(this,function(i,el){exports.removeClass.call([el],value.call(el,i,el.attribs.class||""))}):(classes=splitClass(value),numClasses=classes.length,removeAll=0===arguments.length,domEach(this,function(i,el){if(isTag(el))if(removeAll)el.attribs.class="";else{for(var index,changed,elClasses=splitClass(el.attribs.class),j=0;j<numClasses;j++)(index=elClasses.indexOf(classes[j]))>=0&&(elClasses.splice(index,1),changed=!0,j--);changed&&(el.attribs.class=elClasses.join(" "))}}))},exports.toggleClass=function(value,stateVal){if("function"==typeof value)return domEach(this,function(i,el){exports.toggleClass.call([el],value.call(el,i,el.attribs.class||"",stateVal),stateVal)});if(!value||"string"!=typeof value)return this;for(var elementClasses,index,classNames=value.split(rspace),numClasses=classNames.length,state="boolean"==typeof stateVal?stateVal?1:-1:0,numElements=this.length,i=0;i<numElements;i++)if(isTag(this[i])){elementClasses=splitClass(this[i].attribs.class);for(var j=0;j<numClasses;j++)index=elementClasses.indexOf(classNames[j]),state>=0&&index<0?elementClasses.push(classNames[j]):state<=0&&index>=0&&elementClasses.splice(index,1);this[i].attribs.class=elementClasses.join(" ")}return this},exports.is=function(selector){return!!selector&&this.filter(selector).length>0}},function(module,exports,__webpack_require__){var parse=__webpack_require__(1099),compile=__webpack_require__(1100);module.exports=function(formula){return compile(parse(formula))},module.exports.parse=parse,module.exports.compile=compile},function(module,exports){module.exports=function(formula){if("even"===(formula=formula.trim().toLowerCase()))return[2,0];if("odd"===formula)return[2,1];var a,parsed=formula.match(re_nthElement);if(!parsed)throw new SyntaxError("n-th rule couldn't be parsed ('"+formula+"')");return parsed[1]?(a=parseInt(parsed[1],10),isNaN(a)&&(a="-"===parsed[1].charAt(0)?-1:1)):a=0,[a,parsed[3]?parseInt((parsed[2]||"")+parsed[3],10):0]};var re_nthElement=/^([+\-]?\d*n)?\s*(?:([+\-]?)\s*(\d+))?$/},function(module,exports,__webpack_require__){module.exports=function(parsed){var a=parsed[0],b=parsed[1]-1;if(b<0&&a<=0)return falseFunc;if(-1===a)return function(pos){return pos<=b};if(0===a)return function(pos){return pos===b};if(1===a)return b<0?trueFunc:function(pos){return pos>=b};var bMod=b%a;bMod<0&&(bMod+=a);if(a>1)return function(pos){return pos>=b&&pos%a===bMod};return a*=-1,function(pos){return pos<=b&&pos%a===bMod}};var BaseFuncs=__webpack_require__(271),trueFunc=BaseFuncs.trueFunc,falseFunc=BaseFuncs.falseFunc},function(module,exports,__webpack_require__){module.exports=function(selector,options,context){return wrap(compileUnsafe(selector,options,context))},module.exports.compileUnsafe=compileUnsafe,module.exports.compileToken=compileToken;var parse=__webpack_require__(1102),DomUtils=__webpack_require__(180),isTag=DomUtils.isTag,Rules=__webpack_require__(1103),sortRules=__webpack_require__(1104),BaseFuncs=__webpack_require__(271),trueFunc=BaseFuncs.trueFunc,falseFunc=BaseFuncs.falseFunc,procedure=__webpack_require__(854);function wrap(next){return function(elem){return isTag(elem)&&next(elem)}}function compileUnsafe(selector,options,context){return compileToken(parse(selector,options),options,context)}function includesScopePseudo(t){return"pseudo"===t.type&&("scope"===t.name||Array.isArray(t.data)&&t.data.some(function(data){return data.some(includesScopePseudo)}))}var DESCENDANT_TOKEN={type:"descendant"},SCOPE_TOKEN={type:"pseudo",name:"scope"},PLACEHOLDER_ELEMENT={},getParent=DomUtils.getParent;function compileToken(token,options,context){(token=token.filter(function(t){return t.length>0})).forEach(sortRules);var isArrayContext=Array.isArray(context);return(context=options&&options.context||context)&&!isArrayContext&&(context=[context]),function(token,context){var hasContext=!!context&&!!context.length&&context.every(function(e){return e===PLACEHOLDER_ELEMENT||!!getParent(e)});token.forEach(function(t){if(t.length>0&&isTraversal(t[0])&&"descendant"!==t[0].type);else{if(!hasContext||includesScopePseudo(t))return;t.unshift(DESCENDANT_TOKEN)}t.unshift(SCOPE_TOKEN)})}(token,context),token.map(function(rules){return function(rules,options,context,isArrayContext){var acceptSelf=isArrayContext&&"scope"===rules[0].name&&"descendant"===rules[1].type;return rules.reduce(function(func,rule,index){return func===falseFunc?func:Rules[rule.type](func,rule,options,context,acceptSelf&&1===index)},options&&options.rootFunc||trueFunc)}(rules,options,context,isArrayContext)}).reduce(reduceRules,falseFunc)}function isTraversal(t){return procedure[t.type]<0}function reduceRules(a,b){return b===falseFunc||a===trueFunc?a:a===falseFunc||b===trueFunc?b:function(elem){return a(elem)||b(elem)}}var filters=__webpack_require__(462).filters,existsOne=DomUtils.existsOne,getChildren=(isTag=DomUtils.isTag,DomUtils.getChildren);function containsTraversal(t){return t.some(isTraversal)}filters.not=function(next,token,options,context){var opts={xmlMode:!(!options||!options.xmlMode),strict:!(!options||!options.strict)};if(opts.strict&&(token.length>1||token.some(containsTraversal)))throw new SyntaxError("complex selectors in :not aren't allowed in strict mode");var func=compileToken(token,opts,context);return func===falseFunc?next:func===trueFunc?falseFunc:function(elem){return!func(elem)&&next(elem)}},filters.has=function(next,token,options){var opts={xmlMode:!(!options||!options.xmlMode),strict:!(!options||!options.strict)},context=token.some(containsTraversal)?[PLACEHOLDER_ELEMENT]:null,func=compileToken(token,opts,context);return func===falseFunc?falseFunc:func===trueFunc?function(elem){return getChildren(elem).some(isTag)&&next(elem)}:(func=wrap(func),context?function(elem){return next(elem)&&(context[0]=elem,existsOne(func,getChildren(elem)))}:function(elem){return next(elem)&&existsOne(func,getChildren(elem))})},filters.matches=function(next,token,options,context){return compileToken(token,{xmlMode:!(!options||!options.xmlMode),strict:!(!options||!options.strict),rootFunc:next},context)}},function(module,exports,__webpack_require__){"use strict";module.exports=function(selector,options){var subselects=[];if(""!==(selector=function parseSelector(subselects,selector,options){var data,firstChar,name,quot,tokens=[],sawWS=!1;function getName(){var sub=selector.match(re_name)[0];return selector=selector.substr(sub.length),unescapeCSS(sub)}function stripWhitespace(start){for(;isWhitespace(selector.charAt(start));)start++;selector=selector.substr(start)}function isEscaped(pos){for(var slashCount=0;"\\"===selector.charAt(--pos);)slashCount++;return 1==(1&slashCount)}for(stripWhitespace(0);""!==selector;)if(isWhitespace(firstChar=selector.charAt(0)))sawWS=!0,stripWhitespace(1);else if(firstChar in simpleSelectors)tokens.push({type:simpleSelectors[firstChar]}),sawWS=!1,stripWhitespace(1);else if(","===firstChar){if(0===tokens.length)throw new SyntaxError("empty sub-selector");subselects.push(tokens),tokens=[],sawWS=!1,stripWhitespace(1)}else if(sawWS&&(tokens.length>0&&tokens.push({type:"descendant"}),sawWS=!1),"*"===firstChar)selector=selector.substr(1),tokens.push({type:"universal"});else if(firstChar in attribSelectors)selector=selector.substr(1),tokens.push({type:"attribute",name:attribSelectors[firstChar][0],action:attribSelectors[firstChar][1],value:getName(),ignoreCase:!1});else if("["===firstChar){if(selector=selector.substr(1),!(data=selector.match(re_attr)))throw new SyntaxError("Malformed attribute selector: "+selector);selector=selector.substr(data[0].length),name=unescapeCSS(data[1]),options&&("lowerCaseAttributeNames"in options?!options.lowerCaseAttributeNames:options.xmlMode)||(name=name.toLowerCase()),tokens.push({type:"attribute",name:name,action:actionTypes[data[2]],value:unescapeCSS(data[4]||data[5]||""),ignoreCase:!!data[6]})}else if(":"===firstChar){if(":"===selector.charAt(1)){selector=selector.substr(2),tokens.push({type:"pseudo-element",name:getName().toLowerCase()});continue}if(selector=selector.substr(1),name=getName().toLowerCase(),data=null,"("===selector.charAt(0))if(name in unpackPseudos){var quoted=(quot=selector.charAt(1))in quotes;if(selector=selector.substr(quoted+1),selector=parseSelector(data=[],selector,options),quoted){if(selector.charAt(0)!==quot)throw new SyntaxError("unmatched quotes in :"+name);selector=selector.substr(1)}if(")"!==selector.charAt(0))throw new SyntaxError("missing closing parenthesis in :"+name+" "+selector);selector=selector.substr(1)}else{for(var pos=1,counter=1;counter>0&&pos<selector.length;pos++)"("!==selector.charAt(pos)||isEscaped(pos)?")"!==selector.charAt(pos)||isEscaped(pos)||counter--:counter++;if(counter)throw new SyntaxError("parenthesis not matched");data=selector.substr(1,pos-2),selector=selector.substr(pos),name in stripQuotesFromPseudos&&((quot=data.charAt(0))===data.slice(-1)&&quot in quotes&&(data=data.slice(1,-1)),data=unescapeCSS(data))}tokens.push({type:"pseudo",name:name,data:data})}else{if(!re_name.test(selector))return tokens.length&&"descendant"===tokens[tokens.length-1].type&&tokens.pop(),addToken(subselects,tokens),selector;name=getName(),options&&("lowerCaseTags"in options?!options.lowerCaseTags:options.xmlMode)||(name=name.toLowerCase()),tokens.push({type:"tag",name:name})}return addToken(subselects,tokens),selector}(subselects,selector+"",options)))throw new SyntaxError("Unmatched selector: "+selector);return subselects};var re_name=/^(?:\\.|[\w\-\u00b0-\uFFFF])+/,re_escape=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,re_attr=/^\s*((?:\\.|[\w\u00b0-\uFFFF\-])+)\s*(?:(\S?)=\s*(?:(['"])([^]*?)\3|(#?(?:\\.|[\w\u00b0-\uFFFF\-])*)|)|)\s*(i)?\]/,actionTypes={__proto__:null,undefined:"exists","":"equals","~":"element","^":"start",$:"end","*":"any","!":"not","|":"hyphen"},simpleSelectors={__proto__:null,">":"child","<":"parent","~":"sibling","+":"adjacent"},attribSelectors={__proto__:null,"#":["id","equals"],".":["class","element"]},unpackPseudos={__proto__:null,has:!0,not:!0,matches:!0},stripQuotesFromPseudos={__proto__:null,contains:!0,icontains:!0},quotes={__proto__:null,'"':!0,"'":!0};function funescape(_,escaped,escapedWhitespace){var high="0x"+escaped-65536;return high!=high||escapedWhitespace?escaped:high<0?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,1023&high|56320)}function unescapeCSS(str){return str.replace(re_escape,funescape)}function isWhitespace(c){return" "===c||"\n"===c||"\t"===c||"\f"===c||"\r"===c}function addToken(subselects,tokens){if(subselects.length>0&&0===tokens.length)throw new SyntaxError("empty sub-selector");subselects.push(tokens)}},function(module,exports,__webpack_require__){var DomUtils=__webpack_require__(180),isTag=DomUtils.isTag,getParent=DomUtils.getParent,getChildren=DomUtils.getChildren,getSiblings=DomUtils.getSiblings,getName=DomUtils.getName;module.exports={__proto__:null,attribute:__webpack_require__(853).compile,pseudo:__webpack_require__(462).compile,tag:function(next,data){var name=data.name;return function(elem){return getName(elem)===name&&next(elem)}},descendant:function(next,rule,options,context,acceptSelf){return function(elem){if(acceptSelf&&next(elem))return!0;for(var found=!1;!found&&(elem=getParent(elem));)found=next(elem);return found}},parent:function(next,data,options){if(options&&options.strict)throw SyntaxError("Parent selector isn't part of CSS3");return function(elem){return getChildren(elem).some(test)};function test(elem){return isTag(elem)&&next(elem)}},child:function(next){return function(elem){var parent=getParent(elem);return!!parent&&next(parent)}},sibling:function(next){return function(elem){for(var siblings=getSiblings(elem),i=0;i<siblings.length;i++)if(isTag(siblings[i])){if(siblings[i]===elem)break;if(next(siblings[i]))return!0}return!1}},adjacent:function(next){return function(elem){for(var lastElement,siblings=getSiblings(elem),i=0;i<siblings.length;i++)if(isTag(siblings[i])){if(siblings[i]===elem)break;lastElement=siblings[i]}return!!lastElement&&next(lastElement)}},universal:function(next){return next}}},function(module,exports,__webpack_require__){module.exports=function(arr){for(var procs=arr.map(getProcedure),i=1;i<arr.length;i++){var procNew=procs[i];if(!(procNew<0))for(var j=i-1;j>=0&&procNew<procs[j];j--){var token=arr[j+1];arr[j+1]=arr[j],arr[j]=token,procs[j+1]=procs[j],procs[j]=procNew}}};var procedure=__webpack_require__(854),attributes={__proto__:null,exists:10,equals:8,not:7,start:6,end:6,any:5,hyphen:4,element:4};function getProcedure(token){var proc=procedure[token.type];if(proc===procedure.attribute)(proc=attributes[token.action])===attributes.equals&&"id"===token.name&&(proc=9),token.ignoreCase&&(proc>>=1);else if(proc===procedure.pseudo)if(token.data)if("has"===token.name||"contains"===token.name)proc=0;else if("matches"===token.name||"not"===token.name){proc=0;for(var i=0;i<token.data.length;i++)if(1===token.data[i].length){var cur=getProcedure(token.data[i][0]);if(0===cur){proc=0;break}cur>proc&&(proc=cur)}token.data.length>1&&proc>0&&(proc-=1)}else proc=1;else proc=3;return proc}},function(module,exports,__webpack_require__){var baseEach=__webpack_require__(133);module.exports=function(collection,predicate){var result;return baseEach(collection,function(value,index,collection){return!(result=predicate(value,index,collection))}),!!result}},function(module,exports,__webpack_require__){var select=__webpack_require__(427),utils=__webpack_require__(269),domEach=utils.domEach,uniqueSort=__webpack_require__(148).DomUtils.uniqueSort,isTag=utils.isTag,_={bind:__webpack_require__(456),forEach:__webpack_require__(138),reject:__webpack_require__(1107),filter:__webpack_require__(465),reduce:__webpack_require__(865)};exports.find=function(selectorOrHaystack){var haystack,elems=_.reduce(this,function(memo,elem){return memo.concat(_.filter(elem.children,isTag))},[]),contains=this.constructor.contains;if(selectorOrHaystack&&"string"!=typeof selectorOrHaystack)return haystack=selectorOrHaystack.cheerio?selectorOrHaystack.get():[selectorOrHaystack],this._make(haystack.filter(function(elem){var idx,len;for(idx=0,len=this.length;idx<len;++idx)if(contains(this[idx],elem))return!0},this));var options={__proto__:this.options,context:this.toArray()};return this._make(select(selectorOrHaystack,elems,options))},exports.parent=function(selector){var set=[];return domEach(this,function(idx,elem){var parentElem=elem.parent;parentElem&&set.indexOf(parentElem)<0&&set.push(parentElem)}),arguments.length&&(set=exports.filter.call(set,selector,this)),this._make(set)},exports.parents=function(selector){var parentNodes=[];return this.get().reverse().forEach(function(elem){traverseParents(this,elem.parent,selector,1/0).forEach(function(node){-1===parentNodes.indexOf(node)&&parentNodes.push(node)})},this),this._make(parentNodes)},exports.parentsUntil=function(selector,filter){var untilNode,untilNodes,parentNodes=[];return"string"==typeof selector?untilNode=select(selector,this.parents().toArray(),this.options)[0]:selector&&selector.cheerio?untilNodes=selector.toArray():selector&&(untilNode=selector),this.toArray().reverse().forEach(function(elem){for(;(elem=elem.parent)&&(untilNode&&elem!==untilNode||untilNodes&&-1===untilNodes.indexOf(elem)||!untilNode&&!untilNodes);)isTag(elem)&&-1===parentNodes.indexOf(elem)&&parentNodes.push(elem)},this),this._make(filter?select(filter,parentNodes,this.options):parentNodes)},exports.closest=function(selector){var set=[];return selector?(domEach(this,function(idx,elem){var closestElem=traverseParents(this,elem,selector,1)[0];closestElem&&set.indexOf(closestElem)<0&&set.push(closestElem)}.bind(this)),this._make(set)):this._make(set)},exports.next=function(selector){if(!this[0])return this;var elems=[];return _.forEach(this,function(elem){for(;elem=elem.next;)if(isTag(elem))return void elems.push(elem)}),selector?exports.filter.call(elems,selector,this):this._make(elems)},exports.nextAll=function(selector){if(!this[0])return this;var elems=[];return _.forEach(this,function(elem){for(;elem=elem.next;)isTag(elem)&&-1===elems.indexOf(elem)&&elems.push(elem)}),selector?exports.filter.call(elems,selector,this):this._make(elems)},exports.nextUntil=function(selector,filterSelector){if(!this[0])return this;var untilNode,untilNodes,elems=[];return"string"==typeof selector?untilNode=select(selector,this.nextAll().get(),this.options)[0]:selector&&selector.cheerio?untilNodes=selector.get():selector&&(untilNode=selector),_.forEach(this,function(elem){for(;(elem=elem.next)&&(untilNode&&elem!==untilNode||untilNodes&&-1===untilNodes.indexOf(elem)||!untilNode&&!untilNodes);)isTag(elem)&&-1===elems.indexOf(elem)&&elems.push(elem)}),filterSelector?exports.filter.call(elems,filterSelector,this):this._make(elems)},exports.prev=function(selector){if(!this[0])return this;var elems=[];return _.forEach(this,function(elem){for(;elem=elem.prev;)if(isTag(elem))return void elems.push(elem)}),selector?exports.filter.call(elems,selector,this):this._make(elems)},exports.prevAll=function(selector){if(!this[0])return this;var elems=[];return _.forEach(this,function(elem){for(;elem=elem.prev;)isTag(elem)&&-1===elems.indexOf(elem)&&elems.push(elem)}),selector?exports.filter.call(elems,selector,this):this._make(elems)},exports.prevUntil=function(selector,filterSelector){if(!this[0])return this;var untilNode,untilNodes,elems=[];return"string"==typeof selector?untilNode=select(selector,this.prevAll().get(),this.options)[0]:selector&&selector.cheerio?untilNodes=selector.get():selector&&(untilNode=selector),_.forEach(this,function(elem){for(;(elem=elem.prev)&&(untilNode&&elem!==untilNode||untilNodes&&-1===untilNodes.indexOf(elem)||!untilNode&&!untilNodes);)isTag(elem)&&-1===elems.indexOf(elem)&&elems.push(elem)}),filterSelector?exports.filter.call(elems,filterSelector,this):this._make(elems)},exports.siblings=function(selector){var parent=this.parent(),elems=_.filter(parent?parent.children():this.siblingsAndMe(),_.bind(function(elem){return isTag(elem)&&!this.is(elem)},this));return void 0!==selector?exports.filter.call(elems,selector,this):this._make(elems)},exports.children=function(selector){var elems=_.reduce(this,function(memo,elem){return memo.concat(_.filter(elem.children,isTag))},[]);return void 0===selector?this._make(elems):exports.filter.call(elems,selector,this)},exports.contents=function(){return this._make(_.reduce(this,function(all,elem){return all.push.apply(all,elem.children),all},[]))},exports.each=function(fn){for(var i=0,len=this.length;i<len&&!1!==fn.call(this[i],i,this[i]);)++i;return this},exports.map=function(fn){return this._make(_.reduce(this,function(memo,el,i){var val=fn.call(el,i,el);return null==val?memo:memo.concat(val)},[]))};var makeFilterMethod=function(filterFn){return function(match,container){var testFn;return container=container||this,testFn="string"==typeof match?select.compile(match,container.options):"function"==typeof match?function(el,i){return match.call(el,i,el)}:match.cheerio?match.is.bind(match):function(el){return match===el},container._make(filterFn(this,testFn))}};function traverseParents(self,elem,selector,limit){for(var elems=[];elem&&elems.length<limit;)selector&&!exports.filter.call([elem],selector,self).length||elems.push(elem),elem=elem.parent;return elems}exports.filter=makeFilterMethod(_.filter),exports.not=makeFilterMethod(_.reject),exports.has=function(selectorOrHaystack){var that=this;return exports.filter.call(this,function(){return that._make(this).find(selectorOrHaystack).length>0})},exports.first=function(){return this.length>1?this._make(this[0]):this},exports.last=function(){return this.length>1?this._make(this[this.length-1]):this},exports.eq=function(i){return 0===(i=+i)&&this.length<=1?this:(i<0&&(i=this.length+i),this[i]?this._make(this[i]):this._make([]))},exports.get=function(i){return null==i?Array.prototype.slice.call(this):this[i<0?this.length+i:i]},exports.index=function(selectorOrNeedle){var $haystack,needle;return 0===arguments.length?($haystack=this.parent().children(),needle=this[0]):"string"==typeof selectorOrNeedle?($haystack=this._make(selectorOrNeedle),needle=this[0]):($haystack=this,needle=selectorOrNeedle.cheerio?selectorOrNeedle[0]:selectorOrNeedle),$haystack.get().indexOf(needle)},exports.slice=function(){return this._make([].slice.apply(this,arguments))},exports.end=function(){return this.prevObject||this._make([])},exports.add=function(other,context){for(var selection=this._make(other,context),contents=uniqueSort(selection.get().concat(this.get())),i=0;i<contents.length;++i)selection[i]=contents[i];return selection.length=contents.length,selection},exports.addBack=function(selector){return this.add(arguments.length?this.prevObject.filter(selector):this.prevObject)}},function(module,exports,__webpack_require__){var arrayFilter=__webpack_require__(201),baseFilter=__webpack_require__(855),baseIteratee=__webpack_require__(19),isArray=__webpack_require__(12),negate=__webpack_require__(429);module.exports=function(collection,predicate){return(isArray(collection)?arrayFilter:baseFilter)(collection,negate(baseIteratee(predicate,3)))}},function(module,exports){module.exports=function(collection,iteratee,accumulator,initAccum,eachFunc){return eachFunc(collection,function(value,index,collection){accumulator=initAccum?(initAccum=!1,value):iteratee(accumulator,value,index,collection)}),accumulator}},function(module,exports,__webpack_require__){var parse=__webpack_require__(308),$=__webpack_require__(461),updateDOM=parse.update,evaluate=parse.evaluate,utils=__webpack_require__(269),domEach=utils.domEach,cloneDom=utils.cloneDom,isHtml=utils.isHtml,slice=Array.prototype.slice,_={flatten:__webpack_require__(115),bind:__webpack_require__(456),forEach:__webpack_require__(138)};exports._makeDomArray=function(elem,clone){return null==elem?[]:elem.cheerio?clone?cloneDom(elem.get(),elem.options):elem.get():Array.isArray(elem)?_.flatten(elem.map(function(el){return this._makeDomArray(el,clone)},this)):"string"==typeof elem?evaluate(elem,this.options,!1):clone?cloneDom([elem]):[elem]};var _insert=function(concatenator){return function(){var elems=slice.call(arguments),lastIdx=this.length-1;return domEach(this,function(i,el){var dom,domSrc;domSrc="function"==typeof elems[0]?elems[0].call(el,i,$.html(el.children)):elems,dom=this._makeDomArray(domSrc,i<lastIdx),concatenator(dom,el.children,el)})}},uniqueSplice=function(array,spliceIdx,spliceCount,newElems,parent){var idx,len,prevIdx,node,oldParent,spliceArgs=[spliceIdx,spliceCount].concat(newElems),prev=array[spliceIdx-1]||null,next=array[spliceIdx]||null;for(idx=0,len=newElems.length;idx<len;++idx)prevIdx=(oldParent=(node=newElems[idx]).parent||node.root)&&oldParent.children.indexOf(newElems[idx]),oldParent&&prevIdx>-1&&(oldParent.children.splice(prevIdx,1),parent===oldParent&&spliceIdx>prevIdx&&spliceArgs[0]--),node.root=null,node.parent=parent,node.prev&&(node.prev.next=node.next||null),node.next&&(node.next.prev=node.prev||null),node.prev=newElems[idx-1]||prev,node.next=newElems[idx+1]||next;return prev&&(prev.next=newElems[0]),next&&(next.prev=newElems[newElems.length-1]),array.splice.apply(array,spliceArgs)};exports.appendTo=function(target){return target.cheerio||(target=this.constructor.call(this.constructor,target,null,this._originalRoot)),target.append(this),this},exports.prependTo=function(target){return target.cheerio||(target=this.constructor.call(this.constructor,target,null,this._originalRoot)),target.prepend(this),this},exports.append=_insert(function(dom,children,parent){uniqueSplice(children,children.length,0,dom,parent)}),exports.prepend=_insert(function(dom,children,parent){uniqueSplice(children,0,0,dom,parent)}),exports.wrap=function(wrapper){var wrapperFn="function"==typeof wrapper&&wrapper,lastIdx=this.length-1;return _.forEach(this,_.bind(function(el,i){var wrapperDom,elInsertLocation,j,index,parent=el.parent||el.root,siblings=parent.children;if(parent){for(wrapperFn&&(wrapper=wrapperFn.call(el,i)),"string"!=typeof wrapper||isHtml(wrapper)||(wrapper=this.parents().last().find(wrapper).clone()),elInsertLocation=(wrapperDom=this._makeDomArray(wrapper,i<lastIdx).slice(0,1))[0],j=0;elInsertLocation&&elInsertLocation.children&&!(j>=elInsertLocation.children.length);)"tag"===elInsertLocation.children[j].type?(elInsertLocation=elInsertLocation.children[j],j=0):j++;index=siblings.indexOf(el),updateDOM([el],elInsertLocation),uniqueSplice(siblings,index,0,wrapperDom,parent)}},this)),this},exports.after=function(){var elems=slice.call(arguments),lastIdx=this.length-1;return domEach(this,function(i,el){var parent=el.parent||el.root;if(parent){var domSrc,dom,siblings=parent.children,index=siblings.indexOf(el);index<0||(domSrc="function"==typeof elems[0]?elems[0].call(el,i,$.html(el.children)):elems,dom=this._makeDomArray(domSrc,i<lastIdx),uniqueSplice(siblings,index+1,0,dom,parent))}}),this},exports.insertAfter=function(target){var clones=[],self=this;return"string"==typeof target&&(target=this.constructor.call(this.constructor,target,null,this._originalRoot)),target=this._makeDomArray(target),self.remove(),domEach(target,function(i,el){var clonedSelf=self._makeDomArray(self.clone()),parent=el.parent||el.root;if(parent){var siblings=parent.children,index=siblings.indexOf(el);index<0||(uniqueSplice(siblings,index+1,0,clonedSelf,parent),clones.push(clonedSelf))}}),this.constructor.call(this.constructor,this._makeDomArray(clones))},exports.before=function(){var elems=slice.call(arguments),lastIdx=this.length-1;return domEach(this,function(i,el){var parent=el.parent||el.root;if(parent){var domSrc,dom,siblings=parent.children,index=siblings.indexOf(el);index<0||(domSrc="function"==typeof elems[0]?elems[0].call(el,i,$.html(el.children)):elems,dom=this._makeDomArray(domSrc,i<lastIdx),uniqueSplice(siblings,index,0,dom,parent))}}),this},exports.insertBefore=function(target){var clones=[],self=this;return"string"==typeof target&&(target=this.constructor.call(this.constructor,target,null,this._originalRoot)),target=this._makeDomArray(target),self.remove(),domEach(target,function(i,el){var clonedSelf=self._makeDomArray(self.clone()),parent=el.parent||el.root;if(parent){var siblings=parent.children,index=siblings.indexOf(el);index<0||(uniqueSplice(siblings,index,0,clonedSelf,parent),clones.push(clonedSelf))}}),this.constructor.call(this.constructor,this._makeDomArray(clones))},exports.remove=function(selector){var elems=this;return selector&&(elems=elems.filter(selector)),domEach(elems,function(i,el){var parent=el.parent||el.root;if(parent){var siblings=parent.children,index=siblings.indexOf(el);index<0||(siblings.splice(index,1),el.prev&&(el.prev.next=el.next),el.next&&(el.next.prev=el.prev),el.prev=el.next=el.parent=el.root=null)}}),this},exports.replaceWith=function(content){var self=this;return domEach(this,function(i,el){var parent=el.parent||el.root;if(parent){var index,siblings=parent.children,dom=self._makeDomArray("function"==typeof content?content.call(el,i,el):content);updateDOM(dom,null),index=siblings.indexOf(el),uniqueSplice(siblings,index,1,dom,parent),el.parent=el.prev=el.next=el.root=null}}),this},exports.empty=function(){return domEach(this,function(i,el){_.forEach(el.children,function(child){child.next=child.prev=child.parent=null}),el.children.length=0}),this},exports.html=function(str){if(void 0===str)return this[0]&&this[0].children?$.html(this[0].children,this.options):null;var opts=this.options;return domEach(this,function(i,el){_.forEach(el.children,function(child){child.next=child.prev=child.parent=null});var content=str.cheerio?str.clone().get():evaluate(""+str,opts,!1);updateDOM(content,el)}),this},exports.toString=function(){return $.html(this,this.options)},exports.text=function(str){return void 0===str?$.text(this):"function"==typeof str?domEach(this,function(i,el){var $el=[el];return exports.text.call($el,str.call(el,i,$.text($el)))}):(domEach(this,function(i,el){_.forEach(el.children,function(child){child.next=child.prev=child.parent=null}),updateDOM({data:""+str,type:"text",parent:el,prev:null,next:null,children:[]},el)}),this)},exports.clone=function(){return this._make(cloneDom(this.get(),this.options))}},function(module,exports,__webpack_require__){var domEach=__webpack_require__(269).domEach,_={pick:__webpack_require__(164)},toString=Object.prototype.toString;function setCss(el,prop,val,idx){if("string"==typeof prop){var styles=getCss(el);"function"==typeof val&&(val=val.call(el,idx,styles[prop])),""===val?delete styles[prop]:null!=val&&(styles[prop]=val),el.attribs.style=(obj=styles,Object.keys(obj||{}).reduce(function(str,prop){return str+=(str?" ":"")+prop+": "+obj[prop]+";"},""))}else"object"==typeof prop&&Object.keys(prop).forEach(function(k){setCss(el,k,prop[k])});var obj}function getCss(el,prop){var styles=function(styles){return(styles=(styles||"").trim())?styles.split(";").reduce(function(obj,str){var n=str.indexOf(":");return n<1||n===str.length-1?obj:(obj[str.slice(0,n).trim()]=str.slice(n+1).trim(),obj)},{}):{}}(el.attribs.style);return"string"==typeof prop?styles[prop]:Array.isArray(prop)?_.pick(styles,prop):styles}exports.css=function(prop,val){return 2===arguments.length||"[object Object]"===toString.call(prop)?domEach(this,function(idx,el){setCss(el,prop,val,idx)}):getCss(this[0],prop)}},function(module,exports,__webpack_require__){var r20=/%20/g,rCRLF=/\r?\n/g,_={map:__webpack_require__(190)};exports.serialize=function(){var arr=this.serializeArray();return _.map(arr,function(data){return encodeURIComponent(data.name)+"="+encodeURIComponent(data.value)}).join("&").replace(r20,"+")},exports.serializeArray=function(){var Cheerio=this.constructor;return this.map(function(){var $elem=Cheerio(this);return"form"===this.name?$elem.find("input,select,textarea,keygen").toArray():$elem.filter("input,select,textarea,keygen").toArray()}).filter('[name!=""]:not(:disabled):not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map(function(i,elem){var $elem=Cheerio(elem),name=$elem.attr("name"),value=$elem.val();return null==value&&(value=""),Array.isArray(value)?_.map(value,function(val){return{name:name,value:val.replace(rCRLF,"\r\n")}}):{name:name,value:value.replace(rCRLF,"\r\n")}}).get()}},function(module){module.exports=JSON.parse('{"name":"cheerio","version":"1.0.0-rc.3","description":"Tiny, fast, and elegant implementation of core jQuery designed specifically for the server","author":"Matt Mueller <mattmuelle@gmail.com> (mat.io)","license":"MIT","keywords":["htmlparser","jquery","selector","scraper","parser","html"],"repository":{"type":"git","url":"git://github.com/cheeriojs/cheerio.git"},"main":"./index.js","files":["index.js","lib"],"engines":{"node":">= 0.6"},"dependencies":{"css-select":"~1.2.0","dom-serializer":"~0.1.1","entities":"~1.1.1","htmlparser2":"^3.9.1","lodash":"^4.15.0","parse5":"^3.0.1"},"devDependencies":{"benchmark":"^2.1.0","coveralls":"^2.11.9","expect.js":"~0.3.1","istanbul":"^0.4.3","jquery":"^3.0.0","jsdom":"^9.2.1","jshint":"^2.9.2","mocha":"^3.1.2","xyz":"~1.1.0"},"scripts":{"test":"make test"}}')},function(module,exports,__webpack_require__){"use strict";var _regeneratorRuntime=__webpack_require__(0),_asyncToGenerator=__webpack_require__(3),bluebird=__webpack_require__(277),log=__webpack_require__(58).namespace("hydrateAndFilter"),get=__webpack_require__(11),uniqBy=__webpack_require__(466),queryAll=__webpack_require__(569).queryAll,suitableCall=function(funcOrMethod){for(var arity=funcOrMethod.length,_len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return arity<args.length?funcOrMethod.apply(args[0],args.slice(1)):funcOrMethod.apply(null,args)};module.exports=function(){var documents=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],doctype=arguments.length>1?arguments[1]:void 0,options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},cozy=__webpack_require__(149);if(log("info",String(documents.length),"Number of items before hydrateAndFilter"),!doctype)return Promise.reject(new Error("Doctype is mandatory to filter the connector data."));var keys=options.keys?options.keys:["_id"],store={};log("debug",keys,"keys");var createHash=function(item){return keys.map(function(key){var result=get(item,key);return"date"===key&&(result=new Date(result)),result}).join("####")},getIndex=function(){return options.index?Promise.resolve(options.index):cozy.data.defineIndex(doctype,keys)},getItems=(_ref=_asyncToGenerator(_regeneratorRuntime.mark(function _callee(index){var selector;return _regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return log("debug",index,"index"),selector=options.selector?options.selector:null,log("debug",selector,"selector"),_context.next=5,queryAll(doctype,selector,index);case 5:return _context.abrupt("return",_context.sent);case 6:case"end":return _context.stop()}},_callee)})),function(_x){return _ref.apply(this,arguments)}),populateStore=function(store){return function(dbitems){dbitems.forEach(function(dbitem){store[createHash(dbitem)]=dbitem})}},hydrateExistingEntries=function(store){return function(){return documents.forEach(function(document){var key=createHash(document);store[key]&&(document._id=store[key]._id,document._rev=store[key]._rev,!document.cozyMetadata&&store[key].cozyMetadata&&(document.cozyMetadata=store[key].cozyMetadata))}),documents}},defaultShouldSave=function(){return!0},defaultShouldUpdate=function(existing){return!1},filterEntries=function(store){return _asyncToGenerator(_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.t0=uniqBy,_context2.next=3,bluebird.filter(documents,function(entry){var shouldSave=entry.shouldSave||options.shouldSave||defaultShouldSave,shouldUpdate=entry.shouldUpdate||options.shouldUpdate||defaultShouldUpdate,existing=store[createHash(entry)];return existing?suitableCall(shouldUpdate,entry,existing):suitableCall(shouldSave,entry)});case 3:return _context2.t1=_context2.sent,_context2.t2=function(entry){return entry&&entry._id||entry},_context2.abrupt("return",(0,_context2.t0)(_context2.t1,_context2.t2));case 6:case"end":return _context2.stop()}},_callee2)}))},formatOutput=function(entries){return log("info",String(entries.length),"Number of items after hydrateAndFilter"),entries};var _ref;return getIndex().then(getItems).then(populateStore(store)).then(hydrateExistingEntries(store)).then(filterEntries(store)).then(function(entries){return entries.filter(Boolean)}).then(formatOutput)}},function(module,exports,__webpack_require__){function FetchError(message,type,systemError){this.name=this.constructor.name,this.message=message,this.type=type,systemError&&(this.code=this.errno=systemError.code),Error.captureStackTrace(this,this.constructor)}module.exports=FetchError,__webpack_require__(8).inherits(FetchError,Error)},function(module,exports,__webpack_require__){var dP=__webpack_require__(1289),createDesc=__webpack_require__(1294);module.exports=__webpack_require__(590)?function(object,key,value){return dP.f(object,key,createDesc(1,value))}:function(object,key,value){return object[key]=value,object}},function(module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},function(module,exports){var id=0,px=Math.random();module.exports=function(key){return"Symbol(".concat(void 0===key?"":key,")_",(++id+px).toString(36))}},function(module,exports,__webpack_require__){var core=__webpack_require__(872),global=__webpack_require__(589),store=global["__core-js_shared__"]||(global["__core-js_shared__"]={});(module.exports=function(key,value){return store[key]||(store[key]=void 0!==value?value:{})})("versions",[]).push({version:core.version,mode:__webpack_require__(1297)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(module,exports,__webpack_require__){var IObject=__webpack_require__(1120),defined=__webpack_require__(1121);module.exports=function(it){return IObject(defined(it))}},function(module,exports,__webpack_require__){var cof=__webpack_require__(1303);module.exports=Object("z").propertyIsEnumerable(0)?Object:function(it){return"String"==cof(it)?it.split(""):Object(it)}},function(module,exports){module.exports=function(it){if(null==it)throw TypeError("Can't call method on  "+it);return it}},function(module,exports){var ceil=Math.ceil,floor=Math.floor;module.exports=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}},function(module,exports,__webpack_require__){"use strict";
/**
 * @file Determine whether a given value is a function object.
 * @version 3.3.0
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module is-function-x
 */var attempt=__webpack_require__(875),fToString=Function.prototype.toString,toBoolean=__webpack_require__(1124),isFalsey=__webpack_require__(1125),toStringTag=__webpack_require__(1126),hasToStringTag=__webpack_require__(1128),isPrimitive=__webpack_require__(877),normalise=__webpack_require__(1317).normalizeSpace,deComment=__webpack_require__(1321),genTag="[object GeneratorFunction]",ctrRx=/^class /,test=ctrRx.test,hasNativeClass=!1===attempt(function(){return Function('"use strict"; return class My {};')()}).threw,testClassstring=function(value){return test.call(ctrRx,normalise(deComment(fToString.call(value)," ")))},isES6ClassFn=function(value){var result=attempt(testClassstring,value);return!1===result.threw&&result.value},tryFuncToString=function(value,allowClass){return(!hasNativeClass||!1!==allowClass||!isES6ClassFn(value))&&!1===attempt.call(value,fToString).threw};module.exports=function(value){if(isPrimitive(value))return!1;if(hasToStringTag)return tryFuncToString(value,toBoolean(arguments[1]));if(hasNativeClass&&isFalsey(arguments[1])&&isES6ClassFn(value))return!1;var strTag=toStringTag(value);return"[object Function]"===strTag||strTag===genTag||"[object AsyncFunction]"===strTag}},function(module,exports,__webpack_require__){"use strict";
/**
 * @file Converts argument to a value of type Boolean.
 * @version 1.0.3
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module to-boolean-x
 */module.exports=function(value){return!!value}},function(module,exports,__webpack_require__){"use strict";
/**
 * @file Test if a given value is falsey.
 * @version 1.0.3
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module is-falsey-x
 */var toBoolean=__webpack_require__(1124);module.exports=function(value){return!1===toBoolean(value)}},function(module,exports,__webpack_require__){"use strict";
/**
 * @file Get an object's ES6 @@toStringTag.
 * @see {@link http://www.ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring|19.1.3.6 Object.prototype.toString ( )}
 * @version 1.4.3
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module to-string-tag-x
 */var isNull=__webpack_require__(1127),isUndefined=__webpack_require__(876),toStr={}.toString;module.exports=function(value){return isNull(value)?"[object Null]":isUndefined(value)?"[object Undefined]":toStr.call(value)}},function(module,exports){module.exports=function(value){return null===value}},function(module,exports,__webpack_require__){"use strict";
/**
 * @file Tests if ES6 @@toStringTag is supported.
 * @see {@link http://www.ecma-international.org/ecma-262/6.0/#sec-@@tostringtag|26.3.1 @@toStringTag}
 * @version 1.4.1
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module has-to-string-tag-x
 */module.exports=__webpack_require__(469)&&"symbol"==typeof Symbol.toStringTag},function(module,exports,__webpack_require__){"use strict";
/**
 * @file This method removes whitespace from the left and right end of a string.
 * @version 3.0.0
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module trim-x
 */var libTrimLeft=__webpack_require__(878),trimLeft2016=libTrimLeft.trimLeft2016,trimLeft2018=libTrimLeft.trimLeft2018,libTrimRight=__webpack_require__(1320),trimRight2016=libTrimRight.trimRight2016,trimRight2018=libTrimRight.trimRight2016,$trim2018=function(string){return trimLeft2018(trimRight2018(string))};module.exports={trim:$trim2018,trim2016:function(string){return trimLeft2016(trimRight2016(string))},trim2018:$trim2018}},function(module,exports,__webpack_require__){"use strict";
/**
 * @file Checks if `value` is `null` or `undefined`.
 * @version 1.4.2
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module is-nil-x
 */var isUndefined=__webpack_require__(876),isNull=__webpack_require__(1127);module.exports=function(value){return isNull(value)||isUndefined(value)}},function(module,exports,__webpack_require__){"use strict";
/**
 * @file Converts a JavaScript object to a primitive value.
 * @version 1.1.0
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module to-primitive-x
 */var hasSymbols=__webpack_require__(469),isPrimitive=__webpack_require__(877),isDate=__webpack_require__(1324),isSymbol=__webpack_require__(881),isFunction=__webpack_require__(1123),requireObjectCoercible=__webpack_require__(880),isNil=__webpack_require__(1130),isUndefined=__webpack_require__(876),symToPrimitive=hasSymbols&&Symbol.toPrimitive,symValueOf=hasSymbols&&Symbol.prototype.valueOf,toStringOrder=["toString","valueOf"],toNumberOrder=["valueOf","toString"],ordinaryToPrimitive=function(O,hint){if(requireObjectCoercible(O),"string"!=typeof hint||"number"!==hint&&"string"!==hint)throw new TypeError('hint must be "string" or "number"');for(var method,result,methodNames="string"===hint?toStringOrder:toNumberOrder,i=0;i<2;i+=1)if(method=O[methodNames[i]],isFunction(method)&&(result=method.call(O),isPrimitive(result)))return result;throw new TypeError("No default value")},getMethod=function(O,P){var func=O[P];if(!1===isNil(func)){if(!1===isFunction(func))throw new TypeError(func+" returned for property "+P+" of object "+O+" is not a function");return func}};module.exports=function(input,preferredType){if(isPrimitive(input))return input;var exoticToPrim,hint="default";if(arguments.length>1&&(preferredType===String?hint="string":preferredType===Number&&(hint="number")),hasSymbols&&(symToPrimitive?exoticToPrim=getMethod(input,symToPrimitive):isSymbol(input)&&(exoticToPrim=symValueOf)),!1===isUndefined(exoticToPrim)){var result=exoticToPrim.call(input,hint);if(isPrimitive(result))return result;throw new TypeError("unable to convert exotic object to primitive")}return"default"===hint&&(isDate(input)||isSymbol(input))&&(hint="string"),ordinaryToPrimitive(input,"default"===hint?"number":hint)}},function(module,exports,__webpack_require__){"use strict";
/**
 * @file The constant NaN derived mathematically by 0 / 0.
 * @version 1.0.2
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module nan-x
 */module.exports=NaN},function(module,exports,__webpack_require__){"use strict";
/*!
 * depd
 * Copyright(c) 2014-2015 Douglas Christopher Wilson
 * MIT Licensed
 */var EventEmitter=__webpack_require__(43).EventEmitter;function lazyProperty(obj,prop,getter){Object.defineProperty(obj,prop,{configurable:!0,enumerable:!0,get:function(){var val=getter();return Object.defineProperty(obj,prop,{configurable:!0,enumerable:!0,value:val}),val}})}function toString(obj){return obj.toString()}lazyProperty(module.exports,"callSiteToString",function(){var limit=Error.stackTraceLimit,obj={},prep=Error.prepareStackTrace;Error.prepareStackTrace=function(obj,stack){return stack},Error.stackTraceLimit=2,Error.captureStackTrace(obj);var stack=obj.stack.slice();return Error.prepareStackTrace=prep,Error.stackTraceLimit=limit,stack[0].toString?toString:__webpack_require__(1353)}),lazyProperty(module.exports,"eventListenerCount",function(){return EventEmitter.listenerCount||__webpack_require__(1354)})},function(module,exports,__webpack_require__){var baseRange=__webpack_require__(1135),isIterateeCall=__webpack_require__(144),toFinite=__webpack_require__(426);module.exports=function(fromRight){return function(start,end,step){return step&&"number"!=typeof step&&isIterateeCall(start,end,step)&&(end=step=void 0),start=toFinite(start),void 0===end?(end=start,start=0):end=toFinite(end),step=void 0===step?start<end?1:-1:toFinite(step),baseRange(start,end,step,fromRight)}}},function(module,exports){var nativeCeil=Math.ceil,nativeMax=Math.max;module.exports=function(start,end,step,fromRight){for(var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);length--;)result[fromRight?length:++index]=start,start+=step;return result}},function(module,exports,__webpack_require__){var parse=__webpack_require__(35),startOfYear=__webpack_require__(1137),differenceInCalendarDays=__webpack_require__(284);module.exports=function(dirtyDate){var date=parse(dirtyDate);return differenceInCalendarDays(date,startOfYear(date))+1}},function(module,exports,__webpack_require__){var parse=__webpack_require__(35);module.exports=function(dirtyDate){var cleanDate=parse(dirtyDate),date=new Date(0);return date.setFullYear(cleanDate.getFullYear(),0,1),date.setHours(0,0,0,0),date}},function(module,exports,__webpack_require__){var parse=__webpack_require__(35),startOfISOWeek=__webpack_require__(471),startOfISOYear=__webpack_require__(1140),MILLISECONDS_IN_WEEK=6048e5;module.exports=function(dirtyDate){var date=parse(dirtyDate),diff=startOfISOWeek(date).getTime()-startOfISOYear(date).getTime();return Math.round(diff/MILLISECONDS_IN_WEEK)+1}},function(module,exports,__webpack_require__){var parse=__webpack_require__(35);module.exports=function(dirtyDate,dirtyOptions){var weekStartsOn=dirtyOptions&&Number(dirtyOptions.weekStartsOn)||0,date=parse(dirtyDate),day=date.getDay(),diff=(day<weekStartsOn?7:0)+day-weekStartsOn;return date.setDate(date.getDate()-diff),date.setHours(0,0,0,0),date}},function(module,exports,__webpack_require__){var getISOYear=__webpack_require__(856),startOfISOWeek=__webpack_require__(471);module.exports=function(dirtyDate){var year=getISOYear(dirtyDate),fourthOfJanuary=new Date(0);return fourthOfJanuary.setFullYear(year,0,4),fourthOfJanuary.setHours(0,0,0,0),startOfISOWeek(fourthOfJanuary)}},function(module,exports,__webpack_require__){var isDate=__webpack_require__(430);module.exports=function(dirtyDate){if(isDate(dirtyDate))return!isNaN(dirtyDate);throw new TypeError(toString.call(dirtyDate)+" is not an instance of Date")}},function(module,exports){module.exports=function(){var distanceInWordsLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(token,count,options){var result;return options=options||{},result="string"==typeof distanceInWordsLocale[token]?distanceInWordsLocale[token]:1===count?distanceInWordsLocale[token].one:distanceInWordsLocale[token].other.replace("{{count}}",count),options.addSuffix?options.comparison>0?"in "+result:result+" ago":result}}}},function(module,exports,__webpack_require__){var buildFormattingTokensRegExp=__webpack_require__(944);module.exports=function(){var months3char=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthsFull=["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays2char=["Su","Mo","Tu","We","Th","Fr","Sa"],weekdays3char=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysFull=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],meridiemUppercase=["AM","PM"],meridiemLowercase=["am","pm"],meridiemFull=["a.m.","p.m."],formatters={MMM:function(date){return months3char[date.getMonth()]},MMMM:function(date){return monthsFull[date.getMonth()]},dd:function(date){return weekdays2char[date.getDay()]},ddd:function(date){return weekdays3char[date.getDay()]},dddd:function(date){return weekdaysFull[date.getDay()]},A:function(date){return date.getHours()/12>=1?meridiemUppercase[1]:meridiemUppercase[0]},a:function(date){return date.getHours()/12>=1?meridiemLowercase[1]:meridiemLowercase[0]},aa:function(date){return date.getHours()/12>=1?meridiemFull[1]:meridiemFull[0]}};return["M","D","DDD","d","Q","W"].forEach(function(formatterToken){formatters[formatterToken+"o"]=function(date,formatters){return function(number){var rem100=number%100;if(rem100>20||rem100<10)switch(rem100%10){case 1:return number+"st";case 2:return number+"nd";case 3:return number+"rd"}return number+"th"}(formatters[formatterToken](date))}}),{formatters:formatters,formattingTokensRegExp:buildFormattingTokensRegExp(formatters)}}},function(module,exports,__webpack_require__){const Decimal=__webpack_require__(1367).default;module.exports=function(options){return new Naivebayes(options)};const STATE_KEYS=module.exports.STATE_KEYS=["categories","docCount","totalDocuments","vocabulary","vocabularySize","wordCount","wordFrequencyCount","options"],DEFAULT_ALPHA=1,DEFAULT_FIT_PRIOR=!0;module.exports.fromJson=jsonStrOrObject=>{let parameters;try{switch(typeof jsonStrOrObject){case"string":parameters=JSON.parse(jsonStrOrObject);break;case"object":parameters=jsonStrOrObject;break;default:throw new Error("")}}catch(e){throw console.error(e),new Error("Naivebays.fromJson expects a valid JSON string or an object.")}const classifier=new Naivebayes(parameters.options);return STATE_KEYS.forEach(k=>{if(!parameters[k])throw new Error(`Naivebayes.fromJson: JSON string is missing an expected property: [${k}].`);classifier[k]=parameters[k]}),classifier};const defaultTokenizer=text=>{return text.replace(/[^(a-zA-ZA-a-0-9_)+\s]/g," ").split(/\s+/)};function Naivebayes(options){if(this.options={},void 0!==options){if(!options||"object"!=typeof options||Array.isArray(options))throw TypeError(`NaiveBayes got invalid 'options': ${options}'. Pass in an object.`);this.options=options}this.tokenizer=this.options.tokenizer||defaultTokenizer,this.alpha=this.options.alpha||DEFAULT_ALPHA,this.fitPrior=void 0===this.options.fitPrior?DEFAULT_FIT_PRIOR:this.options.fitPrior,this.vocabulary={},this.vocabularySize=0,this.totalDocuments=0,this.docCount={},this.wordCount={},this.wordFrequencyCount={},this.categories={}}Naivebayes.prototype.initializeCategory=function(categoryName){return this.categories[categoryName]||(this.docCount[categoryName]=0,this.wordCount[categoryName]=0,this.wordFrequencyCount[categoryName]={},this.categories[categoryName]=!0),this},Naivebayes.prototype.removeCategory=function(categoryName){return this.categories[categoryName]?(this.totalDocuments-=this.docCount[categoryName],Object.keys(this.wordFrequencyCount[categoryName]).forEach(token=>{this.vocabulary[token]--,0===this.vocabulary[token]&&this.vocabularySize--}),delete this.docCount[categoryName],delete this.wordCount[categoryName],delete this.wordFrequencyCount[categoryName],delete this.categories[categoryName],this):this},Naivebayes.prototype.learn=function(text,category){this.initializeCategory(category),this.docCount[category]++,this.totalDocuments++;const tokens=this.tokenizer(text),frequencyTable=this.frequencyTable(tokens);return Object.keys(frequencyTable).forEach(token=>{const frequencyInText=frequencyTable[token];this.vocabulary[token]&&0!==this.vocabulary[token]?this.vocabulary[token]>0&&this.vocabulary[token]++:(this.vocabularySize++,this.vocabulary[token]=1),this.wordFrequencyCount[category][token]?this.wordFrequencyCount[category][token]+=frequencyInText:this.wordFrequencyCount[category][token]=frequencyInText,this.wordCount[category]+=frequencyInText}),this},Naivebayes.prototype.unlearn=function(text,category){this.docCount[category]--,0===this.docCount[category]&&delete this.docCount[category],this.totalDocuments--;const tokens=this.tokenizer(text),frequencyTable=this.frequencyTable(tokens);return Object.keys(frequencyTable).forEach(token=>{const frequencyInText=frequencyTable[token];this.vocabulary[token]&&this.vocabulary[token]>0&&(this.vocabulary[token]-=frequencyInText,0===this.vocabulary[token]&&this.vocabularySize--),this.wordFrequencyCount[category][token]-=frequencyInText,0===this.wordFrequencyCount[category][token]&&delete this.wordFrequencyCount[category][token],this.wordCount[category]-=frequencyInText,0===this.wordCount[category]&&(delete this.wordCount[category],delete this.wordFrequencyCount[category])}),this},Naivebayes.prototype.categorize=function(text){const tokens=this.tokenizer(text),frequencyTable=this.frequencyTable(tokens),categories=Object.keys(this.categories),likelihoods=[];categories.forEach(category=>{let categoryLikelihood;categoryLikelihood=this.fitPrior?this.docCount[category]/this.totalDocuments:1;let logLikelihood=Decimal(categoryLikelihood);logLikelihood=logLikelihood.naturalLogarithm(),Object.keys(frequencyTable).forEach(token=>{if(this.vocabulary[token]&&this.vocabulary[token]>0){const termFrequencyInText=frequencyTable[token],tokenProbability=this.tokenProbability(token,category);let logTokenProbability=Decimal(tokenProbability);logTokenProbability=logTokenProbability.naturalLogarithm(),logLikelihood=logLikelihood.plus(termFrequencyInText*logTokenProbability)}}),logLikelihood==Number.NEGATIVE_INFINITY&&console.warn(`[Classificator] category ${category} had -Infinity odds`),likelihoods.push({category:category,logLikelihood:logLikelihood})});const logProbX=(likelihoods=>{let sum=new Decimal(0);return likelihoods.forEach(likelihood=>{const x=Decimal(likelihood.logLikelihood),a=Decimal.exp(x);sum=sum.plus(a)}),sum.naturalLogarithm()})(likelihoods);return likelihoods.forEach(likelihood=>{likelihood.logProba=Decimal(likelihood.logLikelihood).minus(logProbX),likelihood.proba=likelihood.logProba.naturalExponential(),likelihood.logProba=likelihood.logProba.toNumber(),likelihood.proba=likelihood.proba.toNumber(),likelihood.logLikelihood=likelihood.logLikelihood.toNumber()}),likelihoods.sort((a,b)=>b.proba-a.proba),{likelihoods:likelihoods,predictedCategory:likelihoods[0].category}},Naivebayes.prototype.tokenProbability=function(token,category){const wordFrequencyCount=this.wordFrequencyCount[category][token]||0,wordCount=this.wordCount[category];return(wordFrequencyCount+this.alpha)/(wordCount+this.alpha*this.vocabularySize)},Naivebayes.prototype.frequencyTable=function(tokens){const frequencyTable=Object.create(null);return tokens.forEach(token=>{frequencyTable[token]?frequencyTable[token]++:frequencyTable[token]=1}),frequencyTable},Naivebayes.prototype.toJson=function(){const state={};return STATE_KEYS.forEach(k=>state[k]=this[k]),JSON.stringify(state)}},function(module,exports){module.exports={eitherIncludes:(str1,str2)=>Boolean(str1&&str2&&(str1.includes(str2)||str2.includes(str1)))}},function(module,exports,__webpack_require__){const labelSlugs=__webpack_require__(1378),institutionLabelsCompiled=Object.entries(labelSlugs).map(([ilabelRx,slug])=>"/"===ilabelRx[0]&&"/"===ilabelRx[ilabelRx.length-1]?[new RegExp(ilabelRx.substr(1,ilabelRx.length-2),"i"),slug]:[ilabelRx,slug]);module.exports={getSlugFromInstitutionLabel:institutionLabel=>{if(institutionLabel)for(const[rx,slug]of institutionLabelsCompiled)if(rx instanceof RegExp){if(institutionLabel.match(rx))return slug}else if(rx.toLowerCase()===institutionLabel.toLowerCase())return slug}}},function(module,exports,__webpack_require__){"use strict";var uniq=__webpack_require__(178);module.exports={getUniqueCategories:function(transactions){return uniq(transactions.map(function(t){return t.manualCategoryId}))},pctOfTokensInVoc:function(tokens,vocabularyArray){var n_tokens=tokens.length;return tokens.filter(function(t){return-1!==vocabularyArray.indexOf(t)}).length/n_tokens},getAlphaParameter:function(nbUniqueCategories,min,max,maxSmoothing){if(1===nbUniqueCategories)return 1;var alpha=maxSmoothing/(nbUniqueCategories+1);return Math.max(min,Math.min(max,alpha))}}},function(module,exports,__webpack_require__){"use strict";var _regeneratorRuntime=__webpack_require__(0),_asyncToGenerator=__webpack_require__(3),_classCallCheck=__webpack_require__(21),_createClass=__webpack_require__(26),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},cozy=__webpack_require__(149),log=__webpack_require__(58).namespace("BaseKonnector"),Secret=__webpack_require__(58).Secret,manifest=__webpack_require__(619),errors=__webpack_require__(476),_saveBills=__webpack_require__(1149),_saveFiles=__webpack_require__(887),get=__webpack_require__(11),_updateOrCreate=__webpack_require__(890),_saveIdentity=__webpack_require__(1155),_require2=__webpack_require__(1156),wrapIfSentrySetUp=_require2.wrapIfSentrySetUp,captureExceptionAndDie=_require2.captureExceptionAndDie,sleep=__webpack_require__(8).promisify(global.setTimeout),BaseKonnector=function(){function BaseKonnector(fetch){if(_classCallCheck(this,BaseKonnector),"function"==typeof fetch)return this.fetch=fetch.bind(this),this.run()}var _waitForTwoFaCode;return _createClass(BaseKonnector,[{key:"run",value:function(){var _this=this;return this.init().then(function(requiredFields){var cozyParameters=JSON.parse(process.env.COZY_PARAMETERS||"{}"),prom=_this.fetch(requiredFields,cozyParameters);if(!prom||!prom.then)throw log("warn","A promise should be returned from the `fetch` function. Here ".concat(prom," was returned")),new Error("`fetch` should return a Promise");return prom}).then(this.end.bind(this)).catch(this.fail.bind(this))}},{key:"end",value:function(){log("info","The connector has been run")}},{key:"fail",value:function(err){log("info","Error caught by BaseKonnector");var error=err.message||err;errors[error]||log("warn",JSON.stringify(err.stack)),this.terminate(error)}},{key:"init",value:function(){var _this2=this,cozyFields=JSON.parse(process.env.COZY_FIELDS||"{}");return cozy.data.find("io.cozy.accounts",cozyFields.account).catch(function(err){throw _this2.checkTOS(err),log("error","Account ".concat(cozyFields.account," does not exist")),new Error("CANNOT_FIND_ACCOUNT")}).then(function(account){_this2.accountId=cozyFields.account,_this2._account=account,cozyFields.folder_to_save||log("warn","No folder_to_save available in the trigger");var folderId=cozyFields.folder_to_save||account.folderId;return folderId?cozy.files.statById(folderId,!1).then(function(folder){return cozyFields.folder_to_save=folder.attributes.path,log("debug",folder,"folder details"),account}).catch(function(err){throw log("error",err.message),log("error",JSON.stringify(err.stack)),log("error","error while getting the folder path of ".concat(folderId)),new Error("NOT_EXISTING_DIRECTORY")}):(log("debug","No folder needed"),Promise.resolve(account))}).then(function(account){return _this2.fields=Object.assign({},account.auth,account.oauth,cozyFields.folder_to_save?{folderPath:cozyFields.folder_to_save}:{}),_this2.fields})}},{key:"saveAccountData",value:function(data,options){(options=options||{}).merge=void 0===options.merge||options.merge;var start=options.merge?Object.assign({},this.getAccountData()):{},newData=Object.assign({},start,data);return this.updateAccountAttributes({data:newData}).then(function(account){return account.data})}},{key:"getAccountData",value:function(){return new Secret(this._account.data||{})}},{key:"updateAccountAttributes",value:function(attributes){var _this3=this;return cozy.data.updateAttributes("io.cozy.accounts",this.accountId,attributes).then(function(account){return _this3._account=account,account})}},{key:"waitForTwoFaCode",value:(_waitForTwoFaCode=_asyncToGenerator(_regeneratorRuntime.mark(function _callee(){var params,startTime,account,state,_args=arguments;return _regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(params=_args.length>0&&void 0!==_args[0]?_args[0]:{},"true"===process.env.COZY_JOB_MANUAL_EXECUTION){_context.next=4;break}throw log("warn","waitForTwoFaCode: this in not a manual execution. It is not possible to handle 2FA here."),new Error("USER_ACTION_NEEDED.TWOFA_EXPIRED");case 4:return startTime=Date.now(),params=_extends({},{type:"email",timeout:startTime+18e4,heartBeat:5e3,retry:!1},params),account={},state=params.retry?"TWOFA_NEEDED_RETRY":"TWOFA_NEEDED","email"===params.type&&(state+=".EMAIL"),"sms"===params.type&&(state+=".SMS"),log("info","Setting ".concat(state," state into the current account")),_context.next=14,this.updateAccountAttributes({state:state,twoFACode:null});case 14:if(!(Date.now()<params.timeout)||account.twoFACode){_context.next=24;break}return _context.next=17,sleep(params.heartBeat);case 17:return _context.next=19,cozy.data.find("io.cozy.accounts",this.accountId);case 19:account=_context.sent,log("info","current accountState : ".concat(account.state)),log("info","current twoFACode : ".concat(account.twoFACode)),_context.next=14;break;case 24:if(!account.twoFACode){_context.next=28;break}return _context.next=27,this.updateAccountAttributes({state:null,twoFACode:null});case 27:return _context.abrupt("return",account.twoFACode);case 28:throw new Error("USER_ACTION_NEEDED.TWOFA_EXPIRED");case 29:case"end":return _context.stop()}},_callee,this)})),function(){return _waitForTwoFaCode.apply(this,arguments)})},{key:"saveBills",value:function(entries,fields,options){return _saveBills(entries,fields,_extends({sourceAccount:this.accountId,sourceAccountIdentifier:fields.login},options))}},{key:"saveFiles",value:function(entries,fields,options){return _saveFiles(entries,fields,_extends({sourceAccount:this.accountId,sourceAccountIdentifier:fields.login},options))}},{key:"updateOrCreate",value:function(entries,doctype,matchingAttributes,options){return _updateOrCreate(entries,doctype,matchingAttributes,_extends({sourceAccount:this.accountId,sourceAccountIdentifier:get(options,"fields.login")},options))}},{key:"saveIdentity",value:function(contact,accountIdentifier){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return _saveIdentity(contact,accountIdentifier,_extends({sourceAccount:this.accountId,sourceAccountIdentifier:accountIdentifier},options))}},{key:"terminate",value:function(err){log("critical",err),captureExceptionAndDie(err)}},{key:"checkTOS",value:function(err){if(err&&err.reason&&err.reason.length&&err.reason[0]&&"TOS Updated"===err.reason[0].title)throw new Error("TOS_NOT_ACCEPTED")}},{key:"getCozyMetadata",value:function(data){return Object.assign(data,{sourceAccount:this.accountId}),manifest.getCozyMetadata(data)}}]),BaseKonnector}();wrapIfSentrySetUp(BaseKonnector.prototype,"run"),module.exports=BaseKonnector},function(module,exports,__webpack_require__){"use strict";var _regeneratorRuntime=__webpack_require__(0),_asyncToGenerator=__webpack_require__(3),utils=__webpack_require__(569),saveFiles=__webpack_require__(887),hydrateAndFilter=__webpack_require__(1113),addData=__webpack_require__(1151),log=__webpack_require__(58).namespace("saveBills"),linkBankOperations=__webpack_require__(1152),DOCTYPE="io.cozy.bills",_=__webpack_require__(88),requiredAttributes={date:"isDate",amount:"isNumber",vendor:"isString"};function convertCurrency(currency){return currency?currency.includes("")?"EUR":currency.includes("$")?"USD":currency.includes("")?"GBP":currency:"EUR"}function checkRequiredAttributes(entries){var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=entries[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var entry=_step2.value;for(var attr in requiredAttributes){if(null==entry[attr])throw new Error("saveBills: an entry is missing the required ".concat(attr," attribute"));var checkFunction=requiredAttributes[attr];if(!1===_(entry[attr])[checkFunction]())throw new Error("saveBills: an entry has a ".concat(attr," which does not respect ").concat(checkFunction))}}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}module.exports=function(){var _ref=_asyncToGenerator(_regeneratorRuntime.mark(function _callee(entries,fields){var options,originalEntries,defaultShouldUpdate,fn,tempEntries,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,entry,pdfContent,_args=arguments;return _regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(options=_args.length>2&&void 0!==_args[2]?_args[2]:{},_.isArray(entries)&&0!==entries.length){_context.next=4;break}return log("warn","saveBills: no bills to save"),_context.abrupt("return",Promise.resolve());case 4:return options.sourceAccount||log("warn","There is no sourceAccount given to saveBills"),options.sourceAccountIdentifier||log("warn","There is no sourceAccountIdentifier given to saveBills"),"string"==typeof fields&&(fields={folderPath:fields}),options.keys=options.keys||Object.keys(requiredAttributes),originalEntries=entries,defaultShouldUpdate=function(entry,dbEntry){return entry.invoice!==dbEntry.invoice||!dbEntry.cozyMetadata},options.shouldUpdate?(fn=options.shouldUpdate,options.shouldUpdate=function(entry,dbEntry){return defaultShouldUpdate(entry,dbEntry)||fn(entry,dbEntry)}):options.shouldUpdate=defaultShouldUpdate,tempEntries=entries,_context.next=14,saveFiles(tempEntries,fields,options);case 14:if(tempEntries=_context.sent,!options.processPdf){_context.next=54;break}_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0,_context.prev=19,_iterator=tempEntries[Symbol.iterator]();case 21:if(_iteratorNormalCompletion=(_step=_iterator.next()).done){_context.next=40;break}if(!(entry=_step.value).fileDocument){_context.next=37;break}return pdfContent=void 0,_context.prev=25,_context.next=28,utils.getPdfText(entry.fileDocument._id);case 28:return pdfContent=_context.sent,_context.next=31,options.processPdf(entry,pdfContent.text,pdfContent);case 31:_context.next=37;break;case 33:_context.prev=33,_context.t0=_context.catch(25),log("warn","processPdf: Failed to read pdf content in ".concat(JSON.stringify(entry.fileDocument))),log("warn",_context.t0.message);case 37:_iteratorNormalCompletion=!0,_context.next=21;break;case 40:_context.next=46;break;case 42:_context.prev=42,_context.t1=_context.catch(19),_didIteratorError=!0,_iteratorError=_context.t1;case 46:_context.prev=46,_context.prev=47,_iteratorNormalCompletion||null==_iterator.return||_iterator.return();case 49:if(_context.prev=49,!_didIteratorError){_context.next=52;break}throw _iteratorError;case 52:return _context.finish(49);case 53:return _context.finish(46);case 54:return tempEntries=tempEntries.filter(function(entry){return entry.fileDocument}).map(function(entry){return entry.currency=convertCurrency(entry.currency),entry.invoice="io.cozy.files:".concat(entry.fileDocument._id),delete entry.fileDocument,entry}),checkRequiredAttributes(entries),_context.next=58,hydrateAndFilter(tempEntries,DOCTYPE,options);case 58:return tempEntries=_context.sent,_context.next=61,addData(tempEntries,DOCTYPE,options);case 61:if(tempEntries=_context.sent,!1===options.linkBankOperations){_context.next=66;break}return _context.next=65,linkBankOperations(originalEntries,DOCTYPE,fields,options);case 65:tempEntries=_context.sent;case 66:return log("info","after linkbankoperation"),_context.abrupt("return",tempEntries);case 68:case"end":return _context.stop()}},_callee,null,[[19,42,46,54],[25,33],[47,,49,53]])}));return function(_x,_x2){return _ref.apply(this,arguments)}}()},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1386)},function(module,exports,__webpack_require__){"use strict";var _regeneratorRuntime=__webpack_require__(0),_asyncToGenerator=__webpack_require__(3),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},bluebird=__webpack_require__(277),omit=__webpack_require__(98),log=__webpack_require__(58).namespace("addData"),getCozyMetadata=__webpack_require__(619).getCozyMetadata;module.exports=function(entries,doctype){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},cozy=__webpack_require__(149);return bluebird.mapSeries(entries,function(){var _ref=_asyncToGenerator(_regeneratorRuntime.mark(function _callee(entry){var metaEntry,dbEntry;return _regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return log("debug",entry,"Adding this entry"),metaEntry=_extends({cozyMetadata:getCozyMetadata(_extends({},entry.cozyMetadata,{sourceAccount:options.sourceAccount,sourceAccountIdentifier:options.sourceAccountIdentifier}))},entry),_context.next=4,metaEntry._id?cozy.data.update(doctype,metaEntry,omit(metaEntry,"_rev")):cozy.data.create(doctype,metaEntry);case 4:return dbEntry=_context.sent,metaEntry._id=dbEntry._id,_context.abrupt("return",dbEntry);case 7:case"end":return _context.stop()}},_callee)}));return function(_x){return _ref.apply(this,arguments)}}())}},function(module,exports,__webpack_require__){"use strict";var _toConsumableArray=__webpack_require__(100),_regeneratorRuntime=__webpack_require__(0),_asyncToGenerator=__webpack_require__(3),_classCallCheck=__webpack_require__(21),_createClass=__webpack_require__(26),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},bluebird=__webpack_require__(277),log=__webpack_require__(58).namespace("linkBankOperations"),_require=__webpack_require__(1389),findDebitOperation=_require.findDebitOperation,findCreditOperation=_require.findCreditOperation,fs=__webpack_require__(67),defaults=__webpack_require__(460),groupBy=__webpack_require__(41),flatten=__webpack_require__(115),sumBy=__webpack_require__(111),geco=__webpack_require__(1239),format=__webpack_require__(139),cozyClient=__webpack_require__(149),fmtDate=function(x){return new Date(x).toISOString().substr(0,10)},getBillDate=function(bill){return bill.originalDate||bill.date},Linker=function(){function Linker(cozyClient){_classCallCheck(this,Linker),this.cozyClient=cozyClient,this.toUpdate=[],this.groupVendors=["Numricable","Ameli","MGEN","Humanis"]}var _findCombinations,_linkBillsToOperations,_linkBillToDebitOperation,_linkBillToCreditOperation,_removeBillsFromOperations;return _createClass(Linker,[{key:"removeBillsFromOperations",value:(_removeBillsFromOperations=_asyncToGenerator(_regeneratorRuntime.mark(function _callee(bills,operations){var _iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,op,needUpdate,billsAttribute,_iteratorNormalCompletion2,_didIteratorError2,_iteratorError2,_loop,_iterator2,_step2;return _regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:log("info","Removing ".concat(bills.length," bills from bank operations")),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0,_context.prev=4,_iterator=operations[Symbol.iterator]();case 6:if(_iteratorNormalCompletion=(_step=_iterator.next()).done){_context.next=37;break}for(op=_step.value,needUpdate=!1,billsAttribute=op.bills||[],_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0,_context.prev=13,_loop=function(){var bill=_step2.value,billLongId="io.cozy.bills:".concat(bill._id);billsAttribute.indexOf(billLongId)>=0&&(needUpdate=!0,billsAttribute=billsAttribute.filter(function(billId){return billId!==billLongId&&billId!=="io.cozy.bills:".concat(bill.original)}),bill.original&&billsAttribute.push("io.cozy.bills:".concat(bill.original)))},_iterator2=bills[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0)_loop();_context.next=22;break;case 18:_context.prev=18,_context.t0=_context.catch(13),_didIteratorError2=!0,_iteratorError2=_context.t0;case 22:_context.prev=22,_context.prev=23,_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return();case 25:if(_context.prev=25,!_didIteratorError2){_context.next=28;break}throw _iteratorError2;case 28:return _context.finish(25);case 29:return _context.finish(22);case 30:if(!needUpdate){_context.next=34;break}return log("info","Bank operation ".concat(op._id,":  Replacing ").concat(JSON.stringify(op.bills)," by ").concat(JSON.stringify(billsAttribute))),_context.next=34,this.updateAttributes("io.cozy.bank.operations",op,{bills:billsAttribute});case 34:_iteratorNormalCompletion=!0,_context.next=6;break;case 37:_context.next=43;break;case 39:_context.prev=39,_context.t1=_context.catch(4),_didIteratorError=!0,_iteratorError=_context.t1;case 43:_context.prev=43,_context.prev=44,_iteratorNormalCompletion||null==_iterator.return||_iterator.return();case 46:if(_context.prev=46,!_didIteratorError){_context.next=49;break}throw _iteratorError;case 49:return _context.finish(46);case 50:return _context.finish(43);case 51:case"end":return _context.stop()}},_callee,this,[[4,39,43,51],[13,18,22,30],[23,,25,29],[44,,46,50]])})),function(_x,_x2){return _removeBillsFromOperations.apply(this,arguments)})},{key:"addBillToOperation",value:function(bill,operation){if(!bill._id)return log("warn","bill has no id, impossible to add it to an operation"),Promise.resolve();var billId="io.cozy.bills:".concat(bill._id);if(operation.bills&&operation.bills.indexOf(billId)>-1)return Promise.resolve();var billIds=operation.bills||[];billIds.push(billId);var attributes={bills:billIds};return this.updateAttributes("io.cozy.bank.operations",operation,attributes)}},{key:"addReimbursementToOperation",value:function(bill,debitOperation,matchingOperation){if(!bill._id)return log("warn","bill has no id, impossible to add it as a reimbursement"),Promise.resolve();var billId="io.cozy.bills:".concat(bill._id);if(debitOperation.reimbursements&&debitOperation.reimbursements.map(function(b){return b.billId}).indexOf(billId)>-1)return Promise.resolve();var reimbursements=debitOperation.reimbursements||[];return reimbursements.push({billId:billId,amount:bill.amount,operationId:matchingOperation&&matchingOperation._id}),this.updateAttributes("io.cozy.bank.operations",debitOperation,{reimbursements:reimbursements})}},{key:"updateAttributes",value:function(doctype,doc,attrs){return Object.assign(doc,attrs),this.toUpdate.push(doc),Promise.resolve()}},{key:"commitChanges",value:function(){return log("debug","linkBankOperations: commiting ".concat(this.toUpdate.length," changes")),cozyClient.fetchJSON("POST","/data/".concat("io.cozy.bank.operations","/_bulk_docs"),{docs:this.toUpdate})}},{key:"getOptions",value:function(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},options=_extends({},opts);if("string"==typeof options.identifiers)options.identifiers=[options.identifiers.toLowerCase()];else{if(!Array.isArray(options.identifiers))throw new Error('linkBankOperations cannot be called without "identifiers" option');options.identifiers=options.identifiers.map(function(id){return id.toLowerCase()})}return defaults(options,{amountDelta:.001}),defaults(options,{minAmountDelta:options.amountDelta,maxAmountDelta:options.amountDelta,pastWindow:15,futureWindow:29}),options}},{key:"linkBillToCreditOperation",value:(_linkBillToCreditOperation=_asyncToGenerator(_regeneratorRuntime.mark(function _callee2(bill,debitOperation,allOperations,options){var creditOperation,promises;return _regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,findCreditOperation(this.cozyClient,bill,options,allOperations);case 2:return creditOperation=_context2.sent,promises=[],creditOperation&&promises.push(this.addBillToOperation(bill,creditOperation)),creditOperation&&debitOperation&&(log("debug","reimbursement: Matching bill ".concat(bill.subtype||bill.filename," (").concat(fmtDate(bill.date),") with credit operation ").concat(creditOperation.label," (").concat(fmtDate(creditOperation.date),")")),promises.push(this.addReimbursementToOperation(bill,debitOperation,creditOperation))),_context2.next=8,Promise.all(promises);case 8:return _context2.abrupt("return",creditOperation);case 9:case"end":return _context2.stop()}},_callee2,this)})),function(_x3,_x4,_x5,_x6){return _linkBillToCreditOperation.apply(this,arguments)})},{key:"linkBillToDebitOperation",value:(_linkBillToDebitOperation=_asyncToGenerator(_regeneratorRuntime.mark(function _callee3(bill,allOperations,options){var _this=this;return _regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.abrupt("return",findDebitOperation(this.cozyClient,bill,options,allOperations).then(function(operation){if(operation)return log("debug","bills: Matching bill ".concat(bill.subtype||bill.filename," (").concat(fmtDate(bill.date),") with debit operation ").concat(operation.label," (").concat(fmtDate(operation.date),")")),_this.addBillToOperation(bill,operation).then(function(){return operation})}));case 1:case"end":return _context3.stop()}},_callee3,this)})),function(_x7,_x8,_x9){return _linkBillToDebitOperation.apply(this,arguments)})},{key:"linkBillsToOperations",value:(_linkBillsToOperations=_asyncToGenerator(_regeneratorRuntime.mark(function _callee5(bills,options){var result,allOperations,_this2=this;return _regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return options=this.getOptions(options),result={},_context5.next=4,this.cozyClient.data.findAll("io.cozy.bank.operations");case 4:return allOperations=_context5.sent,options.billsToRemove&&options.billsToRemove.length&&this.removeBillsFromOperations(options.billsToRemove,allOperations),bills=bills.filter(function(bill){return!0==!bill.isThirdPartyPayer}),_context5.next=9,bluebird.each(bills,function(){var _ref=_asyncToGenerator(_regeneratorRuntime.mark(function _callee4(bill){var res,debitOperation,creditOperation;return _regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(res=result[bill._id]={bill:bill},0!==allOperations.length){_context4.next=3;break}return _context4.abrupt("return",result);case 3:return _context4.next=5,_this2.linkBillToDebitOperation(bill,allOperations,options);case 5:if((debitOperation=_context4.sent)&&(res.debitOperation=debitOperation),!bill.isRefund){_context4.next=12;break}return _context4.next=10,_this2.linkBillToCreditOperation(bill,debitOperation,allOperations,options);case 10:(creditOperation=_context4.sent)&&(res.creditOperation=creditOperation);case 12:case"end":return _context4.stop()}},_callee4)}));return function(_x12){return _ref.apply(this,arguments)}}());case 9:return _context5.next=11,this.findCombinations(result,options,allOperations);case 11:return _context5.next=13,this.commitChanges();case 13:return _context5.abrupt("return",result);case 14:case"end":return _context5.stop()}},_callee5,this)})),function(_x10,_x11){return _linkBillsToOperations.apply(this,arguments)})},{key:"findCombinations",value:(_findCombinations=_asyncToGenerator(_regeneratorRuntime.mark(function _callee7(result,options,allOperations){var found,unlinkedBills,billsGroups,combinations,combinedBills,_iteratorNormalCompletion3,_didIteratorError3,_iteratorError3,_loop2,_iterator3,_step3,_this3=this;return _regeneratorRuntime.wrap(function(_context8){for(;;)switch(_context8.prev=_context8.next){case 0:log("debug","finding combinations");case 1:found=!1,unlinkedBills=this.getUnlinkedBills(result),log("debug","findCombinations: There are ".concat(unlinkedBills.length," unlinked bills")),billsGroups=this.groupBills(unlinkedBills),log("debug","findCombinations: Groups: ".concat(billsGroups.length)),combinations=flatten(billsGroups.map(function(billsGroup){return _this3.generateBillsCombinations(billsGroup)})),log("debug","Generated ".concat(combinations.length," bills combinations")),combinedBills=combinations.map(function(combination){return _this3.combineBills.apply(_this3,_toConsumableArray(combination))}),_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0,_context8.prev=12,_loop2=_regeneratorRuntime.mark(function _loop2(){var combinedBill,debitOperation;return _regeneratorRuntime.wrap(function(_context7){for(;;)switch(_context7.prev=_context7.next){case 0:return combinedBill=_step3.value,_context7.next=3,findDebitOperation(_this3.cozyClient,combinedBill,options,allOperations);case 3:if(!(debitOperation=_context7.sent)){_context7.next=10;break}return found=!0,log("debug",combinedBill,"Matching bills combination"),log("debug",debitOperation,"Matching debit debitOperation"),combinedBill.originalBills.forEach(function(){var _ref2=_asyncToGenerator(_regeneratorRuntime.mark(function _callee6(originalBill){var res;return _regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:if((res=result[originalBill._id]).debitOperation=debitOperation,!res.creditOperation||!res.debitOperation){_context6.next=5;break}return _context6.next=5,_this3.addReimbursementToOperation(originalBill,debitOperation,res.creditOperation);case 5:case"end":return _context6.stop()}},_callee6)}));return function(_x16){return _ref2.apply(this,arguments)}}()),_context7.abrupt("return","break");case 10:case"end":return _context7.stop()}},_loop2)}),_iterator3=combinedBills[Symbol.iterator]();case 15:if(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done){_context8.next=23;break}return _context8.delegateYield(_loop2(),"t0",17);case 17:if("break"!==_context8.t0){_context8.next=20;break}return _context8.abrupt("break",23);case 20:_iteratorNormalCompletion3=!0,_context8.next=15;break;case 23:_context8.next=29;break;case 25:_context8.prev=25,_context8.t1=_context8.catch(12),_didIteratorError3=!0,_iteratorError3=_context8.t1;case 29:_context8.prev=29,_context8.prev=30,_iteratorNormalCompletion3||null==_iterator3.return||_iterator3.return();case 32:if(_context8.prev=32,!_didIteratorError3){_context8.next=35;break}throw _iteratorError3;case 35:return _context8.finish(32);case 36:return _context8.finish(29);case 37:if(found){_context8.next=1;break}case 38:return _context8.abrupt("return",result);case 39:case"end":return _context8.stop()}},_callee7,this,[[12,25,29,37],[30,,32,36]])})),function(_x13,_x14,_x15){return _findCombinations.apply(this,arguments)})},{key:"getUnlinkedBills",value:function(bills){return Object.values(bills).filter(function(bill){return!bill.debitOperation}).map(function(bill){return bill.bill})}},{key:"billCanBeGrouped",value:function(bill){return getBillDate(bill)&&("health_costs"===bill.type||this.groupVendors.includes(bill.vendor))}},{key:"groupBills",value:function(bills){var _this4=this,billsToGroup=bills.filter(function(bill){return _this4.billCanBeGrouped(bill)}),groups=groupBy(billsToGroup,function(bill){return[format(getBillDate(bill),"YYYY-MM-DD"),bill.vendor]});return Object.values(groups)}},{key:"generateBillsCombinations",value:function(bills){for(var combinations=[],n=2;n<=bills.length;++n){var combinationsN=geco.gen(bills.length,n,bills);combinations.push.apply(combinations,_toConsumableArray(combinationsN))}return combinations}},{key:"combineBills",value:function(){for(var _len=arguments.length,bills=new Array(_len),_key=0;_key<_len;_key++)bills[_key]=arguments[_key];return _extends({},bills[0],{_id:["combined"].concat(_toConsumableArray(bills.map(function(bill){return bill._id}))).join(":"),amount:sumBy(bills,function(bill){return bill.amount}),originalAmount:sumBy(bills,function(bill){return bill.originalAmount}),originalBills:bills})}}]),Linker}(),jsonTee=function(filename){return function(res){return fs.writeFileSync(filename,JSON.stringify(res,null,2)),res}};module.exports=function(bills,doctype,fields){var options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};fields.bank_identifier&&fields.bank_identifier.length&&(options.identifiers=[fields.bank_identifier]);var cozyClient=__webpack_require__(149),linker=new Linker(cozyClient),prom=linker.linkBillsToOperations(bills,options).catch(function(err){log("warn",err,"Problem when linking operations")});return process.env.LINK_RESULTS_FILENAME&&prom.then(jsonTee(process.env.LINK_RESULTS_FILENAME)),prom},Object.assign(module.exports,{Linker:Linker})},function(module,exports,__webpack_require__){var baseValues=__webpack_require__(1154),keys=__webpack_require__(68);module.exports=function(object){return null==object?[]:baseValues(object,keys(object))}},function(module,exports,__webpack_require__){var arrayMap=__webpack_require__(36);module.exports=function(object,props){return arrayMap(props,function(key){return object[key]})}},function(module,exports,__webpack_require__){"use strict";var _regeneratorRuntime=__webpack_require__(0),_asyncToGenerator=__webpack_require__(3),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},log=__webpack_require__(58).namespace("saveIdentity"),updateOrCreate=__webpack_require__(890);function formatAddress(address){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=address[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var element=_step.value;element.formattedAddress&&(element.formattedAddress=element.formattedAddress.replace(/<[^>]*>/g,"").replace(/\r\n|[\n\r]/g," "),address[address.indexOf(element)]=element)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return address}function formatPhone(phone){var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=phone[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var element=_step2.value;element.number&&(element.number=element.number.replace(/[^\d.+]/g,""),phone[phone.indexOf(element)]=element)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{_iteratorNormalCompletion2||null==_iterator2.return||_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}return phone}module.exports=function(){var _ref=_asyncToGenerator(_regeneratorRuntime.mark(function _callee(contact,accountIdentifier){var options,identity,_args=arguments;return _regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(options=_args.length>2&&void 0!==_args[2]?_args[2]:{},log("info","saving user identity"),null!=accountIdentifier){_context.next=5;break}return log("warn","Can't set identity as no accountIdentifier was provided"),_context.abrupt("return");case 5:if(null!=contact){_context.next=8;break}return log("warn","Can't set identity as no contact was provided"),_context.abrupt("return");case 8:return contact.phone&&(contact.phone=formatPhone(contact.phone)),contact.address&&(contact.address=formatAddress(contact.address)),identity={identifier:accountIdentifier,contact:contact},_context.next=13,updateOrCreate([identity],"io.cozy.identities",["identifier","cozyMetadata.createdByApp"],_extends({},options,{sourceAccountIdentifier:accountIdentifier}));case 13:return _context.abrupt("return");case 14:case"end":return _context.stop()}},_callee)}));return function(_x,_x2){return _ref.apply(this,arguments)}}()},function(module,exports,__webpack_require__){"use strict";var log=__webpack_require__(58),Raven=__webpack_require__(1397),_require=__webpack_require__(1410),getDomain=_require.getDomain,getInstance=_require.getInstance,isRavenConfigured=!1,domainToEnv={"cozy.tools":"development","cozy.works":"development","cozy.rocks":"production","mycozy.cloud":"production"},SENTRY_DSN=process.env.SENTRY_DSN,afterFatalError=function(_err,sendErr,eventId){sendErr||log("info","Successfully sent fatal error with eventId "+eventId+" to Sentry"),process.exit(1)},afterCaptureException=function(sendErr,eventId){sendErr||log("info","Successfully sent exception with eventId "+eventId+" to Sentry"),process.exit(1)};module.exports.captureExceptionAndDie=function(err){if(log("info","Capture exception and die"),isRavenConfigured)try{log("info","Sending exception to Sentry"),Raven.captureException(err,{fingerprint:[err.message||err]},afterCaptureException)}catch(e){log("warn","Could not send error to Sentry, exiting..."),log("warn",e),log("warn",err),process.exit(1)}else process.exit(1)},module.exports.wrapIfSentrySetUp=function(obj,method){SENTRY_DSN&&"false"!==SENTRY_DSN&&(obj[method]=Raven.wrap(obj[method]))},SENTRY_DSN&&"false"!==SENTRY_DSN&&function(){try{log("info","process.env.SENTRY_DSN found, setting up Raven");var domain=getDomain(),environment=function(domain){return domainToEnv[domain]||"selfhost"}(domain),instance=getInstance();Raven.config(SENTRY_DSN,{release:"1.6.3",environment:environment,autoBreadcrumbs:{console:!0}}).install(afterFatalError),Raven.mergeContext({tags:{domain:domain,instance:instance}}),isRavenConfigured=!0,log("info","Raven configured !")}catch(e){log("warn","Could not load Raven, errors will not be sent to Sentry"),log("warn",e)}}()},function(module,exports,__webpack_require__){"use strict";var cookie=__webpack_require__(1399),urlParser=__webpack_require__(20),stringify=__webpack_require__(891),utils=__webpack_require__(405);module.exports.parseText=function(message,kwargs){return(kwargs=kwargs||{}).message=message,kwargs},module.exports.parseError=function(err,kwargs,cb){utils.parseStack(err,function(frames){var extraErrorProps,name=({}.hasOwnProperty.call(err,"name")?err.name:err.constructor.name)+"";for(var key in void 0===kwargs.message&&(kwargs.message=name+": "+(err.message||"<no message>")),kwargs.exception=[{type:name,value:err.message,stacktrace:{frames:frames}}],err)err.hasOwnProperty(key)&&"name"!==key&&"message"!==key&&"stack"!==key&&"domain"!==key&&((extraErrorProps=extraErrorProps||{})[key]=err[key]);if(extraErrorProps&&(kwargs.extra=kwargs.extra||{},kwargs.extra[name]=extraErrorProps),!kwargs.transaction&&!kwargs.culprit)for(var n=frames.length-1;n>=0;n--)if(frames[n].in_app){kwargs.transaction=utils.getTransaction(frames[n]);break}cb(kwargs)})},module.exports.parseRequest=function(req,parseUser){var kwargs={},headers=req.headers||req.header||{},method=req.method,host=req.hostname||req.host||headers.host||"<no host>",protocol="https"===req.protocol||req.secure||(req.socket||{}).encrypted?"https":"http",originalUrl=req.originalUrl||req.url,absoluteUrl=protocol+"://"+host+originalUrl,query=req.query||urlParser.parse(originalUrl||"",!0).query,cookies=cookie.parse(headers.cookie||""),data=req.body;-1===["GET","HEAD"].indexOf(method)&&void 0===data&&(data="<unavailable>"),data&&"string"!=typeof data&&"[object String]"!=={}.toString.call(data)&&(data=stringify(data));var http={method:method,query_string:query,headers:headers,cookies:cookies,data:data,url:absoluteUrl};if(kwargs.request=http,null==parseUser&&(parseUser=["id","username","email"]),parseUser){var user={};if("function"==typeof parseUser)user=parseUser(req);else if(req.user)if(!0===parseUser)for(var key in req.user)({}).hasOwnProperty.call(req.user,key)&&(user[key]=req.user[key]);else parseUser.forEach(function(fieldName){({}).hasOwnProperty.call(req.user,fieldName)&&(user[fieldName]=req.user[fieldName])});var ip=req.ip||req.connection&&req.connection.remoteAddress;ip&&(user.ip_address=ip),kwargs.user=user}return kwargs}},function(module){module.exports=JSON.parse('{"name":"raven","description":"A standalone (Node.js) client for Sentry","keywords":["debugging","errors","exceptions","logging","raven","sentry"],"version":"2.6.4","repository":"git://github.com/getsentry/raven-js.git","license":"BSD-2-Clause","homepage":"https://github.com/getsentry/raven-js","author":"Matt Robenolt <matt@ydekproductions.com>","main":"index.js","bin":{"raven":"./bin/raven"},"scripts":{"lint":"eslint .","test":"NODE_ENV=test istanbul cover _mocha  -- --reporter dot && NODE_ENV=test coffee ./test/run.coffee","test-mocha":"NODE_ENV=test mocha","test-full":"npm run test && cd test/instrumentation && ./run.sh"},"engines":{"node":">= 4.0.0"},"dependencies":{"cookie":"0.3.1","md5":"^2.2.1","stack-trace":"0.0.10","timed-out":"4.0.1","uuid":"3.3.2"},"devDependencies":{"coffee-script":"~1.10.0","connect":"*","eslint":"^4.5.0","eslint-config-prettier":"^2.3.0","express":"*","glob":"~3.1.13","istanbul":"^0.4.3","mocha":"~3.1.2","nock":"~9.0.0","prettier":"^1.6.1","should":"11.2.0","sinon":"^3.3.0"},"prettier":{"singleQuote":true,"bracketSpacing":false,"printWidth":90}}')},function(module,exports){var charenc={utf8:{stringToBytes:function(str){return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)))},bytesToString:function(bytes){return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)))}},bin:{stringToBytes:function(str){for(var bytes=[],i=0;i<str.length;i++)bytes.push(255&str.charCodeAt(i));return bytes},bytesToString:function(bytes){for(var str=[],i=0;i<bytes.length;i++)str.push(String.fromCharCode(bytes[i]));return str.join("")}}};module.exports=charenc},function(module,exports,__webpack_require__){"use strict";var util=__webpack_require__(8),utils=__webpack_require__(405);module.exports=function(Raven,console,originals){return["debug","info","warn","error","log"].forEach(function(level){level in console&&utils.fill(console,level,function(originalConsoleLevel){var sentryLevel="warn"===level?"warning":level;return function(){var args=[].slice.call(arguments);Raven.captureBreadcrumb({message:util.format.apply(null,args),level:sentryLevel,category:"console"}),originalConsoleLevel.apply(console,args)}},originals)}),console}},function(module,exports,__webpack_require__){"use strict";var util=__webpack_require__(8),utils=__webpack_require__(405);module.exports=function(Raven,http,originals){var OrigClientRequest=http.ClientRequest,ClientRequest=function(options,cb){if(OrigClientRequest.call(this,options,cb),"string"==typeof options)this.__ravenBreadcrumbUrl=options;else{var protocol=options.protocol||"",hostname=options.hostname||options.host||"",port=options.port&&80!==options.port&&443!==options.port?":"+options.port:"",path=options.path||"/";this.__ravenBreadcrumbUrl=protocol+"//"+hostname+port+path}};return util.inherits(ClientRequest,OrigClientRequest),utils.fill(ClientRequest.prototype,"emit",function(origEmit){return function(evt,maybeResp){return"response"===evt&&this.__ravenBreadcrumbUrl&&(Raven.dsn&&-1!==this.__ravenBreadcrumbUrl.indexOf(Raven.dsn.host)||Raven.captureBreadcrumb({type:"http",category:"http",data:{method:this.method,url:this.__ravenBreadcrumbUrl,status_code:maybeResp.statusCode}})),origEmit.apply(this,arguments)}}),utils.fill(http,"ClientRequest",function(){return ClientRequest},originals),utils.fill(http,"request",function(){return function(options,cb){return new http.ClientRequest(options,cb)}},originals),utils.fill(http,"get",function(){return function(options,cb){var req=http.request(options,cb);return req.end(),req}},originals),http}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Raven,pg,originals){var origQuery=pg.Connection.prototype.query;pg.Connection.prototype.query=function(text){Raven.captureBreadcrumb({category:"postgres",message:text}),origQuery.call(this,text)}}},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},URL=__webpack_require__(20).URL,pdf=__webpack_require__(1415),helveticaBold=__webpack_require__(1177),helveticaEm=__webpack_require__(1456),computeWidth=function($table){for(var out=0,tds=$table.find("tr").first().find("td,th"),i=0;i<tds.length;i++)out+=parseInt(tds.eq(i).attr("colspan"))||1;return out},makeLinkOpts=function($el,opts){if(void 0!==$el.attr("href")&&0!==$el.attr("href").indexOf("javascript:")&&0!==$el.attr("href").indexOf("#"))return{link:new URL($el.attr("href"),opts.baseURL).toString(),color:"0x0000FF"}};module.exports={htmlToPDF:function htmlToPDF($,frag,$parent,opts){opts=Object.assign({baseURL:"",filter:function(){return!0},txtOpts:{}},opts);var children=$parent.contents(),text=opts.text,parentDL=null,getText=function(){return text||(text=frag.text("",opts.txtOpts)),text};children.each(function(i,el){if(3===el.nodeType&&""!==el.data.trim())getText().add(el.data);else if(1===el.nodeType){var $el=$(el);if(!opts.filter($el))return;switch(el.tagName){case"a":getText().add($el.text(),makeLinkOpts($el,opts));break;case"strong":case"b":getText().add($el.text(),{font:helveticaBold});break;case"em":getText().add($el.text(),{font:helveticaEm});break;case"span":htmlToPDF($,frag,$el,Object.assign({},opts,{text:text}));break;case"br":getText().br();break;case"i":case"select":case"input":case"label":case"form":case"fieldset":case"textarea":case"button":case"img":case"script":case"caption":break;case"table":text=null;var width=computeWidth($el),tableState={tableWidth:width};htmlToPDF($,frag.table({widths:Array.from(Array(width),function(){return"*"}),borderWidth:1}),$el,Object.assign({},opts,{tableState:tableState}));break;case"tr":text=null,opts.tableState.colRemaining=opts.tableState.tableWidth;var row=frag.row();htmlToPDF($,row,$el,opts),opts.tableState.colRemaining>0&&row.cell({colspan:opts.tableState.colRemaining});break;case"dl":text=null,htmlToPDF($,frag.table({widths:[5*pdf.cm,null],borderWidth:1}),$el,_extends({},opts,{tableState:{tableWidth:2,colRemaining:2}})),parentDL=null;break;case"dt":parentDL?frag=parentDL:parentDL=frag,frag=frag.row();case"dd":case"th":case"td":text=null;var colspan=Math.min(opts.tableState.tableWidth,parseInt($el.attr("colspan"))||1);opts.tableState.colRemaining-=colspan,htmlToPDF($,frag.cell({padding:5,colspan:colspan}),$el,opts);break;case"h1":case"h2":case"h3":case"h4":case"h5":text=null,htmlToPDF($,frag,$el,Object.assign({},opts,{txtOpts:{fontSize:30-2*parseInt(el.tagName.replace("h",""))}}));break;case"div":case"p":case"ul":text=null,htmlToPDF($,frag.cell(),$el,opts);break;case"thead":case"tfoot":case"tbody":case"small":case"li":text=null,htmlToPDF($,frag,$el,opts);break;default:text=null,htmlToPDF($,frag,$el,opts)}}})},createCozyPDFDocument:function(headline,url){var doc=new pdf.Document,cell=doc.cell({paddingBottom:.5*pdf.cm}).text();return cell.add(headline,{font:__webpack_require__(1177),fontSize:14}),cell.add(url,{link:url,color:"0x0000FF"}),doc}}},function(module,exports,__webpack_require__){"use strict";class Cursor{constructor(width,height,x,y){this.width=width,this.height=height,void 0!==x&&(this.startX=this.x=x),void 0!==y&&(this.startY=this.y=y,this._bottom=this.y-this.height),this.bottomOffset=0}get bottom(){return this._bottom+this.bottomOffset}reset(){this.x=this.startX,this.y=this.startY}doesFit(height){return this.y-height>=this.bottom}clone(){return new ClonedCursor(this)}}class ClonedCursor extends Cursor{constructor(cursor){super(cursor.width,cursor.height),this.startX=cursor.startX,this.startY=cursor.startY,this.bottomOffset=0,this._root=cursor._root||cursor}get bottom(){return this._root.bottom+this.bottomOffset}get x(){return this._root.x}set x(val){val<0&&console.warn("set cursor.x to negative value"),this._root.x=val}get y(){return this._root.y}set y(val){val<0&&console.warn("set cursor.y to negative value"),this._root.y=val}}module.exports=Cursor},function(module,exports,__webpack_require__){"use strict";const PDF=__webpack_require__(151),Parser=__webpack_require__(1167);module.exports=class{constructor(src){const parser=new Parser(src);parser.parse();const pages=parser.trailer.get("Root").object.properties.get("Pages").object.properties,first=pages.get("Kids")[0].object.properties,mediaBox=first.get("MediaBox")||pages.get("MediaBox");this.page=first,this.width=mediaBox[2],this.height=mediaBox[3];const contents=this.page.get("Contents");this.xobjCount=Array.isArray(contents)?contents.length:1}async write(doc,xobjs){const resources=this.page.get("Resources"),bbox=new PDF.Array([0,0,this.width,this.height]);for(let i=0;i<this.xobjCount;++i){const xobj=xobjs[i];xobj.prop("Subtype","Form"),xobj.prop("FormType",1),xobj.prop("BBox",bbox),xobj.prop("Resources",resources instanceof PDF.Object?resources.toReference():resources);let contents=this.page.get("Contents");contents=Array.isArray(contents)?contents[i].object:contents.object,new PDF.Stream(xobj).content=contents.content.content,contents.properties.has("Filter")&&xobj.prop("Filter",contents.properties.get("Filter")),xobj.prop("Length",contents.properties.get("Length")),contents.properties.has("Length1")&&xobj.prop("Length1",contents.properties.get("Length1"));const objects=[];Parser.addObjectsRecursive(objects,xobj);for(const obj of objects)doc._registerObject(obj,!0);for(const obj of objects)await doc._writeObject(obj);await doc._writeObject(xobj)}}}},function(module,exports,__webpack_require__){"use strict";class Lexer{constructor(buf,outer){this.buf=buf,this.pos=0,this.objects=Object.create(null),this._outer=outer,this.state=outer?outer.state:{}}get outer(){return this._outer||this}read(len){const buf=this.buf.subarray(this.pos,this.pos+len);return this.pos+=len,buf}getString(len){return String.fromCharCode.apply(null,this.buf.subarray(this.pos,this.pos+len))}readString(len){const str=this.getString(len);return this.pos+=len,str}skipEOL(len,trial){const before=this.pos;let done=!1,count=0;for(;!done&&(!len||count<len);)switch(this.buf[this.pos]){case 13:10===this.buf[this.pos+1]&&this.pos++;case 10:this.pos++,count++;break;default:done=!0}return!(!count||len&&count<len)||(trial||this._error("EOL expected but not found"),this.pos=before,!1)}skipWhitespace(len,trial){const before=this.pos;let done=!1,count=0;for(;!done&&(!len||count<len);)Lexer.isWhiteSpace(this.buf[this.pos])?(this.pos++,count++):done=!0;return!(!count||len&&count<len)||(trial||this._error("Whitespace expected but not found"),this.pos=before,!1)}skipSpace(len,trial){const before=this.pos;let done=!1,count=0;for(;!done&&(!len||count<len);)32===this.buf[this.pos]?(this.pos++,count++):done=!0;return!(!count||len&&count<len)||(trial||this._error("Space expected but not found"),this.pos=before,!1)}shift(offset){this.pos+=offset}_nextCharCode(){return this.buf[this.pos++]}_nextChar(){return String.fromCharCode(this.buf[this.pos++])}_error(err){throw new Error(err)}_warning(warning){console.warn(warning)}readNumber(trial){const before=this.pos;let c=this._nextCharCode(),sign=1,isFloat=!1,str="";switch(!0){case 43===c:break;case 45===c:sign=-1;break;case 46===c:isFloat=!0,str="0.";break;case c<48||c>57:return trial||this._error("Invalid number: "+String.fromCharCode(c)),void(this.pos=before);default:str+=String.fromCharCode(c)}let done=!1;for(;!done&&(c=this._nextCharCode())>=0;)switch(!0){case 46===c:isFloat?done=!0:(isFloat=!0,str+=".");break;case c>=48&&c<=57:str+=String.fromCharCode(c);break;default:done=!0}return this.pos--,(isFloat?parseFloat(str,10):parseInt(str,10))*sign}static isWhiteSpace(c){return 0===c||9===c||10===c||12===c||13===c||32===c}}module.exports=Lexer},function(module,exports,__webpack_require__){"use strict";const Lexer=__webpack_require__(1166),PDF=__webpack_require__(151),util=__webpack_require__(150);class Parser{constructor(ab){this.src=new Uint8Array(util.toArrayBuffer(ab))}parse(){let index=function(src,key,step){step||(step=1024);let pos=src.length,index=-1;for(;-1===index&&pos>0;)pos-=step-key.length,index=find(src,key,Math.max(pos,0),step,!0);return index}(this.src,"startxref",128);if(-1===index)throw new Error("Invalid PDF: startxref not found");for(index+="startxref".length;Lexer.isWhiteSpace(this.src[++index]););let str="";for(;this.src[index]>=48&&this.src[index]<=57;)str+=String.fromCharCode(this.src[index++]);const startXRef=parseInt(str,10);if(isNaN(startXRef))throw new Error("Invalid PDF: startxref is not a number");const lexer=new Lexer(this.src);lexer.shift(startXRef),this.xref=PDF.Xref.parse(null,lexer),this.trailer=this.xref.trailer||PDF.Trailer.parse(this.xref,lexer);let trailer=this.trailer;for(;trailer.has("Prev");){lexer.pos=trailer.get("Prev");const xref=PDF.Xref.parse(null,lexer);for(let i=0;i<xref.objects.length;++i){const obj=xref.objects[i];obj&&!this.xref.objects[i]&&(this.xref.objects[i]=obj)}trailer=xref.trailer||PDF.Trailer.parse(xref,lexer)}}static addObjectsRecursive(objects,value){switch(!0){case value instanceof PDF.Reference:if(objects.indexOf(value.object)>-1)break;objects.push(value.object),Parser.addObjectsRecursive(objects,value.object);break;case value instanceof PDF.Object:Parser.addObjectsRecursive(objects,value.properties),Parser.addObjectsRecursive(objects,value.content);break;case value instanceof PDF.Dictionary:for(const key in value.dictionary)"/Parent"!==key&&Parser.addObjectsRecursive(objects,value.dictionary[key]);break;case Array.isArray(value):value.forEach(function(item){Parser.addObjectsRecursive(objects,item)})}}}function find(src,key,pos,limit,backwards){pos+limit>src.length&&(limit=src.length-pos);const str=String.fromCharCode.apply(null,src.subarray(pos,pos+limit));let index=backwards?str.lastIndexOf(key):str.indexOf(key);return index>-1&&(index+=pos),index}module.exports=Parser},function(module,exports){exports.OP=0,exports.CL=1,exports.CP=2,exports.QU=3,exports.GL=4,exports.NS=5,exports.EX=6,exports.SY=7,exports.IS=8,exports.PR=9,exports.PO=10,exports.NU=11,exports.AL=12,exports.HL=13,exports.ID=14,exports.IN=15,exports.HY=16,exports.BA=17,exports.BB=18,exports.B2=19,exports.ZW=20,exports.CM=21,exports.WJ=22,exports.H2=23,exports.H3=24,exports.JL=25,exports.JV=26,exports.JT=27,exports.RI=28,exports.AI=29,exports.BK=30,exports.CB=31,exports.CJ=32,exports.CR=33,exports.LF=34,exports.NL=35,exports.SA=36,exports.SG=37,exports.SP=38,exports.XX=39},function(module,exports,__webpack_require__){"use strict";const Fragment=__webpack_require__(406),util=__webpack_require__(150),ops=__webpack_require__(272);module.exports=class extends Fragment{constructor(doc,parent,opts){super(doc,parent),this._pending=[],this._firstPage=!0,this._firstRendered=!1,this._drawBorders=!0,this._cursor=this._cursor.clone(),function(opts){this.opts=opts,"width"in opts&&(this._cursor.width=opts.width);"x"in opts&&(this.x=opts.x);"y"in opts&&(this.y=opts.y);this.paddingTop=opts.paddingTop||opts.padding||0,this.paddingRight=opts.paddingRight||opts.padding||0,this.paddingBottom=opts.paddingBottom||opts.padding||0,this.paddingLeft=opts.paddingLeft||opts.padding||0,this.backgroundColor=util.colorToRgb(opts.backgroundColor),this.borderTopWidth=opts.borderTopWidth||opts.borderWidth||0,this.borderTopColor=util.colorToRgb(opts.borderTopColor||opts.borderColor||0),this.borderRightWidth=opts.borderRightWidth||opts.borderWidth||0,this.borderRightColor=util.colorToRgb(opts.borderRightColor||opts.borderColor||0),this.borderBottomWidth=opts.borderBottomWidth||opts.borderWidth||0,this.borderBottomColor=util.colorToRgb(opts.borderBottomColor||opts.borderColor||0),this.borderLeftWidth=opts.borderLeftWidth||opts.borderWidth||0,this.borderLeftColor=util.colorToRgb(opts.borderLeftColor||opts.borderColor||0),this.paddingTop+=this.borderTopWidth,this.paddingRight+=this.borderRightWidth,this.paddingBottom+=this.borderBottomWidth,this.paddingLeft+=this.borderLeftWidth,this.minHeight=opts.minHeight||0}.call(this,opts),this._previousStartX=this._cursor.startX,this.x&&(this._cursor.startX=this.x),this._cursor.startX+=this.paddingLeft,this._cursor.width-=this.paddingLeft+this.paddingRight,this._cursor.bottomOffset=this.paddingBottom-this.borderBottomWidth,this._startRendering=null}async _pageBreak(level){const renderHeight=this._startY-this._cursor.bottom,actualHeight=this._startY-this._cursor.y;let contents,offset;if(this._firstPage&&renderHeight/this._doc.height<=.15){const idx=this._doc._contents.indexOf(this._bgLayerRef),take=this._endLayerRef?this._doc._contents.indexOf(this._endLayerRef)-idx+1:this._doc._contents.length-idx;contents=this._doc._contents.splice(idx,take),offset=actualHeight-this.paddingTop+this.borderTopWidth}else this._cursor.y=this._cursor.bottom-this.paddingBottom,await this._createBackground(!this._firstRendered,!1),this._firstRendered=!0;this._firstPage=!1,this._parent&&await this._parent._pageBreak(level+1,void 0===contents),this._pending.unshift(async()=>{this._cursor.x=this._cursor.startX,this._cursor.cursorOffset=0,contents&&(await this._doc._startContentObject(),await this._doc._write(ops.q()+ops.cm(1,0,0,1,0,this._cursor.y-this._startY)),this._doc._contents.push.apply(this._doc._contents,contents),await this._doc._startContentObject(),await this._doc._write(ops.Q()),this._bgLayerRef=null),this._startY=this._cursor.y,offset>0&&(this._cursor.y-=offset),1===level&&(this._cursor.y-=this.paddingTop-this.borderTopWidth,this._cursor.bottomOffset=this.paddingBottom-this.borderBottomWidth),0===this._pending.length&&(this._cursor.y=this._startY)})}async _createBackground(hasTopBorder,hasBottomBorder){const hasBorder=this._drawBorders&&(this.borderTopWidth>0||this.borderRightWidth>0||this.borderBottomWidth>0||this.borderLeftWidth>0);if(!this.backgroundColor&&!hasBorder)return;await this._doc._startContentObject(null,!0);const layer=this._doc._contents.pop(),bgLayerIndex=this._bgLayerRef?this._doc._contents.indexOf(this._bgLayerRef):0;this._doc._contents.splice(bgLayerIndex,0,layer);let height=this._startY-this._cursor.y;const bottom=this._cursor.bottom-this.paddingBottom+this.borderBottomWidth;this._startY-height<bottom&&(height=this._startY-bottom);let chunk=ops.q();if(this.backgroundColor&&(chunk+=ops.sc(this.backgroundColor[0],this.backgroundColor[1],this.backgroundColor[2])+ops.re(this._cursor.startX-this.paddingLeft,this._startY-height,this.outerWidth,height)+ops.f()),this._drawBorders){let borderColor=null,borderWidth=null;if(this.borderLeftWidth>0){borderColor&&util.rgbEqual(borderColor,this.borderLeftColor)||(chunk+=ops.SC(this.borderLeftColor[0],this.borderLeftColor[1],this.borderLeftColor[2]),borderColor=this.borderLeftColor),borderWidth!==this.borderLeftWidth&&(chunk+=ops.w(this.borderLeftWidth),borderWidth=this.borderLeftWidth);const x=this._cursor.startX-this.paddingLeft+this.borderLeftWidth/2,y1=this._startY,y2=this._startY-height;chunk+=ops.S(x,y1,"m",x,y2,"l")}if(this.borderRightWidth>0){borderColor&&util.rgbEqual(borderColor,this.borderRightColor)||(chunk+=ops.SC(this.borderRightColor[0],this.borderRightColor[1],this.borderRightColor[2]),borderColor=this.borderRightColor),borderWidth!==this.borderRightWidth&&(chunk+=ops.w(this.borderRightWidth),borderWidth=this.borderRightWidth);const x=this._cursor.startX-this.paddingLeft+this.outerWidth-this.borderRightWidth/2,y1=this._startY,y2=this._startY-height;chunk+=ops.S(x,y1,"m",x,y2,"l")}if(hasTopBorder&&this.borderTopWidth>0){borderColor&&util.rgbEqual(borderColor,this.borderTopColor)||(chunk+=ops.SC(this.borderTopColor[0],this.borderTopColor[1],this.borderTopColor[2]),borderColor=this.borderTopColor),borderWidth!==this.borderTopWidth&&(chunk+=ops.w(this.borderTopWidth),borderWidth=this.borderTopWidth);const x1=this._cursor.startX-this.paddingLeft,x2=x1+this.outerWidth,y=this._startY-this.borderTopWidth/2;chunk+=ops.S(x1,y,"m",x2,y,"l")}if(hasBottomBorder&&this.borderBottomWidth>0){borderColor&&util.rgbEqual(borderColor,this.borderBottomColor)||(chunk+=ops.SC(this.borderBottomColor[0],this.borderBottomColor[1],this.borderBottomColor[2]),borderColor=this.borderBottomColor),borderWidth!==this.borderBottomWidth&&(chunk+=ops.w(this.borderBottomWidth),borderWidth=this.borderBottomWidth);const x1=this._cursor.startX-this.paddingLeft,x2=x1+this.outerWidth,y=this._startY-height+this.borderBottomWidth/2;chunk+=ops.S(x1,y,"m",x2,y,"l")}}chunk.length>0&&(chunk+=ops.Q(),await this._doc._write(chunk)),this._bgLayerRef=null,this._startY=this._cursor.startY}async _start(){this._doc._currentContent||await this._doc._startPage(),this.minHeight>0&&!this._parent._cursor.doesFit(this.minHeight)&&await this._parent._pageBreak(1),void 0!==this.y&&(this._cursor.y=this.y),this._startY=this._cursor.y,this._cursor.x=this._cursor.startX,this._cursor.y-=this.paddingTop,this.outerWidth=this._cursor.width+this.paddingLeft+this.paddingRight,this._bgLayerRef=await this._doc._startContentObject(null,!0),this._ended||await new Promise(resolve=>{this._startRendering=resolve})}async _end(){this._cursor.y-=this.paddingBottom;const height=this._startY-this._cursor.y;height<this.opts.minHeight&&(this._cursor.y-=this.opts.minHeight-height),await this._createBackground(!this._firstRendered,!0),this._cursor.x=this._previousStartX}end(){return this._startRendering&&this._startRendering(),Fragment.prototype.end.call(this)}}},function(module,exports,__webpack_require__){"use strict";const Fragment=__webpack_require__(406),util=__webpack_require__(150),ops=__webpack_require__(272),Cell=__webpack_require__(1169);module.exports=class{constructor(doc,parent,opts){Fragment.prototype._init.call(this,doc,parent),this.opts=opts,this._pending=[],this._endedCells=[],this._columns=0,this._rotated=0,this._y=0,this._endY=null,this._widths=[],this._topBorderWidth=0,this._topBorderColor=0,this._bottomBorderWidth=0,this._bottomBorderColor=0,this._borderVerticalWidths=[],this._borderVerticalColors=[],this._minHeight=opts.minHeight||0,this._hasTopBorder=!1,this._insideBreak=!1,this._startRendering=null}async _pageBreak(level,insideBreak){if(this._insideBreak=insideBreak,this._pending.splice(this._pending.length-2,0,this._pending.shift()),this._rotated<this._columns-1)this._rotated++,this._nextColumn();else{for(const cell of this._endedCells)for(this._cursor.y=cell._cursor.bottom,await cell._pageBreak(level-1);cell._pending.length;)this._pending.unshift(cell._pending.shift());await this._drawBorders(!0,insideBreak),this._rotated=0,await this._parent._pageBreak(level+1,insideBreak),this._y=this._cursor.y,this._endY=null}}_nextColumn(){this._cursor.y=this._y}async _start(){this._minHeight>0&&!this._parent._cursor.doesFit(this._minHeight)&&await this._parent._pageBreak(1),this._y=this._cursor.y,this._ended||await new Promise(resolve=>{this._startRendering=resolve})}async _end(){for(const cell of this._endedCells)this._cursor.y=this._endY+cell.paddingBottom,await Cell.prototype._end.call(cell);await this._drawBorders(!1),this._cursor.x=this._cursor.startX,this._cursor.y=this._endY}_begin(ctx){Fragment.prototype._begin.call(this,ctx)}async _drawBorders(isPageBreak,isInsideBreak){if(isPageBreak&&!isInsideBreak)return void(this._hasTopBorder=!0);let hasBorder=!1,chunk=ops.q();const y1=this._y,y2=isPageBreak?this._cursor.bottom:this._endY;let left=this._cursor.startX,borderWidth=0,borderColor=null;if(this._borderVerticalWidths){for(let i=0,len=this._borderVerticalWidths.length;i<len;++i){const bw=this._borderVerticalWidths[i];if(bw>0){borderWidth!==bw&&(chunk+=ops.w(bw),borderWidth=bw);const bc=this._borderVerticalColors[i];borderColor&&util.rgbEqual(borderColor,bc)||(chunk+=ops.SC(bc[0],bc[1],bc[2]),borderColor=bc);let x=left;0===i?x+=bw/2:i===len-1&&(x-=bw/2),chunk+=ops.S(x,y1,"m",x,y2,"l")}left+=this._widths[i]}hasBorder=!0}const totalWidth=this._widths.reduce((lhs,rhs)=>lhs+rhs,0),x1=this._cursor.startX,x2=x1+totalWidth;if(this._hasTopBorder&&this._topBorderWidth>0){this._hasTopBorder=!1,borderWidth!==this._topBorderWidth&&(chunk+=ops.w(this._topBorderWidth),borderWidth=this._topBorderWidth),borderColor&&util.rgbEqual(borderColor,this._topBorderColor)||(chunk+=ops.SC(this._topBorderColor[0],this._topBorderColor[1],this._topBorderColor[2]),borderColor=this._topBorderColor);const y=y1-this._topBorderWidth/2;chunk+=ops.S(x1,y,"m",x2,y,"l"),hasBorder=!0}if(!isPageBreak&&this._bottomBorderWidth>0){borderWidth!==this._bottomBorderWidth&&(chunk+=ops.w(this._bottomBorderWidth),borderWidth=this._bottomBorderWidth),borderColor&&util.rgbEqual(borderColor,this._bottomBorderColor)||(chunk+=ops.SC(this._bottomBorderColor[0],this._bottomBorderColor[1],this._bottomBorderColor[2]),borderColor=this._bottomBorderColor);const y=y2+this._bottomBorderWidth/2;chunk+=ops.S(x1,y,"m",x2,y,"l"),hasBorder=!0}hasBorder&&(chunk+=ops.Q(),await this._doc._startContentObject(null,!0),await this._doc._write(chunk))}end(){if(this._columns!==this._widths.length){if(this._columns>this._widths.length)throw new Error(`Row has ${this.columns} cells but only ${this._widths.length} columns`);for(let i=this.columns;i<this._widths.length;++i)this.cell()}return this._startRendering&&this._startRendering(),Fragment.prototype.end.call(this)}cell(text,opts){null!==text&&"object"==typeof text&&(opts=text,text=void 0),opts&&"object"==typeof opts||(opts={}),opts=Object.assign({},this.opts,opts);const column=this._columns++;if(!(column in this._widths))throw new Error("row columns already exceeded, cannot create another cell");if(opts.colspan>1){for(let i=column+1,len=column+opts.colspan;i<len;++i){if(!(i in this._widths))throw new Error("row columns already exceeded, colspan to big");this._widths[column]+=this._widths[i]}this._widths.splice(column+1,opts.colspan-1),this._borderVerticalWidths&&this._borderVerticalWidths.splice(column+1,opts.colspan-1)}if(opts.minHeight>this._minHeight&&(this._minHeight=opts.minHeight),this._borderVerticalWidths){const borderWidthLeft=this._borderVerticalWidths[column],borderWidthRight=this._borderVerticalWidths[column+1];borderWidthLeft>0&&(opts.borderLeftWidth=0===column?borderWidthLeft:borderWidthLeft/2),borderWidthRight>0&&(column===this._widths.length-1?opts.borderRightWidth=borderWidthRight:opts.borderRightWidth=borderWidthRight/2)}this._hasTopBorder&&this._topBorderWidth>0&&(opts.borderTopWidth=this._topBorderWidth),this._bottomBorderWidth>0&&(opts.borderBottomWidth=this._bottomBorderWidth);const ctx=new Cell(this._doc,this,Object.assign({},opts,{width:this._widths[column]}));ctx._drawBorders=!1,this._begin(ctx);for(let i=0;i<column;++i)ctx._cursor.startX+=this._widths[i]||0;return ctx._pending.push(()=>ctx._start()),ctx._end=async function(row){this._cursor.y-=this.paddingBottom;const height=this._startY-this._cursor.y;height<this.opts.minHeight&&(this._cursor.y-=this.opts.minHeight-height);row._columns--,this._parent=null,row._endedCells.push(this),row._columns>0&&row._rotated===row._columns&&await row._pageBreak(2,row._insideBreak);(null===row._endY||this._cursor.y<row._endY)&&(row._endY=this._cursor.y);this._endLayerRef=this._doc._currentContent,row._nextColumn()}.bind(ctx,this),this._pending.push(ctx._pending),"string"==typeof text&&text.length>0&&ctx.text(text,opts),ctx}}},function(module,exports,__webpack_require__){"use strict";var pna=__webpack_require__(628);module.exports=Readable;var Duplex,isArray=__webpack_require__(1444);Readable.ReadableState=ReadableState;__webpack_require__(43).EventEmitter;var EElistenerCount=function(emitter,type){return emitter.listeners(type).length},Stream=__webpack_require__(1172),Buffer=__webpack_require__(179).Buffer,OurUint8Array=global.Uint8Array||function(){};var util=__webpack_require__(288);util.inherits=__webpack_require__(22);var debugUtil=__webpack_require__(8),debug=void 0;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog("stream"):function(){};var StringDecoder,BufferList=__webpack_require__(1445),destroyImpl=__webpack_require__(1173);util.inherits(Readable,Stream);var kProxyEvents=["error","close","destroy","pause","resume"];function ReadableState(options,stream){options=options||{};var isDuplex=stream instanceof(Duplex=Duplex||__webpack_require__(410));this.objectMode=!!options.objectMode,isDuplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode);var hwm=options.highWaterMark,readableHwm=options.readableHighWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:isDuplex&&(readableHwm||0===readableHwm)?readableHwm:defaultHwm,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=options.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder||(StringDecoder=__webpack_require__(422).StringDecoder),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){if(Duplex=Duplex||__webpack_require__(410),!(this instanceof Readable))return new Readable(options);this._readableState=new ReadableState(options,this),this.readable=!0,options&&("function"==typeof options.read&&(this._read=options.read),"function"==typeof options.destroy&&(this._destroy=options.destroy)),Stream.call(this)}function readableAddChunk(stream,chunk,encoding,addToFront,skipChunkCheck){var er,state=stream._readableState;null===chunk?(state.reading=!1,function(stream,state){if(state.ended)return;if(state.decoder){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,emitReadable(stream)}(stream,state)):(skipChunkCheck||(er=function(state,chunk){var er;obj=chunk,Buffer.isBuffer(obj)||obj instanceof OurUint8Array||"string"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk"));var obj;return er}(state,chunk)),er?stream.emit("error",er):state.objectMode||chunk&&chunk.length>0?("string"==typeof chunk||state.objectMode||Object.getPrototypeOf(chunk)===Buffer.prototype||(chunk=function(chunk){return Buffer.from(chunk)}(chunk)),addToFront?state.endEmitted?stream.emit("error",new Error("stream.unshift() after end event")):addChunk(stream,state,chunk,!0):state.ended?stream.emit("error",new Error("stream.push() after EOF")):(state.reading=!1,state.decoder&&!encoding?(chunk=state.decoder.write(chunk),state.objectMode||0!==chunk.length?addChunk(stream,state,chunk,!1):maybeReadMore(stream,state)):addChunk(stream,state,chunk,!1))):addToFront||(state.reading=!1));return function(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||0===state.length)}(state)}function addChunk(stream,state,chunk,addToFront){state.flowing&&0===state.length&&!state.sync?(stream.emit("data",chunk),stream.read(0)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream)),maybeReadMore(stream,state)}Object.defineProperty(Readable.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(value){this._readableState&&(this._readableState.destroyed=value)}}),Readable.prototype.destroy=destroyImpl.destroy,Readable.prototype._undestroy=destroyImpl.undestroy,Readable.prototype._destroy=function(err,cb){this.push(null),cb(err)},Readable.prototype.push=function(chunk,encoding){var skipChunkCheck,state=this._readableState;return state.objectMode?skipChunkCheck=!0:"string"==typeof chunk&&((encoding=encoding||state.defaultEncoding)!==state.encoding&&(chunk=Buffer.from(chunk,encoding),encoding=""),skipChunkCheck=!0),readableAddChunk(this,chunk,encoding,!1,skipChunkCheck)},Readable.prototype.unshift=function(chunk){return readableAddChunk(this,chunk,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(enc){return StringDecoder||(StringDecoder=__webpack_require__(422).StringDecoder),this._readableState.decoder=new StringDecoder(enc),this._readableState.encoding=enc,this};var MAX_HWM=8388608;function howMuchToRead(n,state){return n<=0||0===state.length&&state.ended?0:state.objectMode?1:n!=n?state.flowing&&state.length?state.buffer.head.data.length:state.length:(n>state.highWaterMark&&(state.highWaterMark=function(n){return n>=MAX_HWM?n=MAX_HWM:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}(n)),n<=state.length?n:state.ended?state.length:(state.needReadable=!0,0))}function emitReadable(stream){var state=stream._readableState;state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,state.sync?pna.nextTick(emitReadable_,stream):emitReadable_(stream))}function emitReadable_(stream){debug("emit readable"),stream.emit("readable"),flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,pna.nextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(var len=state.length;!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark&&(debug("maybeReadMore read 0"),stream.read(0),len!==state.length);)len=state.length;state.readingMore=!1}function nReadingNextTick(self){debug("readable nexttick read 0"),self.read(0)}function resume_(stream,state){state.reading||(debug("resume read 0"),stream.read(0)),state.resumeScheduled=!1,state.awaitDrain=0,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;for(debug("flow",state.flowing);state.flowing&&null!==stream.read(););}function fromList(n,state){return 0===state.length?null:(state.objectMode?ret=state.buffer.shift():!n||n>=state.length?(ret=state.decoder?state.buffer.join(""):1===state.buffer.length?state.buffer.head.data:state.buffer.concat(state.length),state.buffer.clear()):ret=function(n,list,hasStrings){var ret;n<list.head.data.length?(ret=list.head.data.slice(0,n),list.head.data=list.head.data.slice(n)):ret=n===list.head.data.length?list.shift():hasStrings?function(n,list){var p=list.head,c=1,ret=p.data;n-=ret.length;for(;p=p.next;){var str=p.data,nb=n>str.length?str.length:n;if(nb===str.length?ret+=str:ret+=str.slice(0,n),0===(n-=nb)){nb===str.length?(++c,p.next?list.head=p.next:list.head=list.tail=null):(list.head=p,p.data=str.slice(nb));break}++c}return list.length-=c,ret}(n,list):function(n,list){var ret=Buffer.allocUnsafe(n),p=list.head,c=1;p.data.copy(ret),n-=p.data.length;for(;p=p.next;){var buf=p.data,nb=n>buf.length?buf.length:n;if(buf.copy(ret,ret.length-n,0,nb),0===(n-=nb)){nb===buf.length?(++c,p.next?list.head=p.next:list.head=list.tail=null):(list.head=p,p.data=buf.slice(nb));break}++c}return list.length-=c,ret}(n,list);return ret}(n,state.buffer,state.decoder),ret);var ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error('"endReadable()" called on non-empty stream');state.endEmitted||(state.ended=!0,pna.nextTick(endReadableNT,state,stream))}function endReadableNT(state,stream){state.endEmitted||0!==state.length||(state.endEmitted=!0,stream.readable=!1,stream.emit("end"))}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}Readable.prototype.read=function(n){debug("read",n),n=parseInt(n,10);var state=this._readableState,nOrig=n;if(0!==n&&(state.emittedReadable=!1),0===n&&state.needReadable&&(state.length>=state.highWaterMark||state.ended))return debug("read: emitReadable",state.length,state.ended),0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(0===(n=howMuchToRead(n,state))&&state.ended)return 0===state.length&&endReadable(this),null;var ret,doRead=state.needReadable;return debug("need readable",doRead),(0===state.length||state.length-n<state.highWaterMark)&&debug("length less than watermark",doRead=!0),state.ended||state.reading?debug("reading or ended",doRead=!1):doRead&&(debug("do read"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1,state.reading||(n=howMuchToRead(nOrig,state))),null===(ret=n>0?fromList(n,state):null)?(state.needReadable=!0,n=0):state.length-=n,0===state.length&&(state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&endReadable(this)),null!==ret&&this.emit("data",ret),ret},Readable.prototype._read=function(n){this.emit("error",new Error("_read() is not implemented"))},Readable.prototype.pipe=function(dest,pipeOpts){var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug("pipe count=%d opts=%j",state.pipesCount,pipeOpts);var endFn=(!pipeOpts||!1!==pipeOpts.end)&&dest!==process.stdout&&dest!==process.stderr?onend:unpipe;function onunpipe(readable,unpipeInfo){debug("onunpipe"),readable===src&&unpipeInfo&&!1===unpipeInfo.hasUnpiped&&(unpipeInfo.hasUnpiped=!0,debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),dest.removeListener("drain",ondrain),dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",unpipe),src.removeListener("data",ondata),cleanedUp=!0,!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain())}function onend(){debug("onend"),dest.end()}state.endEmitted?pna.nextTick(endFn):src.once("end",endFn),dest.on("unpipe",onunpipe);var ondrain=function(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,"data")&&(state.flowing=!0,flow(src))}}(src);dest.on("drain",ondrain);var cleanedUp=!1;var increasedAwaitDrain=!1;function ondata(chunk){debug("ondata"),increasedAwaitDrain=!1,!1!==dest.write(chunk)||increasedAwaitDrain||((1===state.pipesCount&&state.pipes===dest||state.pipesCount>1&&-1!==indexOf(state.pipes,dest))&&!cleanedUp&&(debug("false write response, pause",src._readableState.awaitDrain),src._readableState.awaitDrain++,increasedAwaitDrain=!0),src.pause())}function onerror(er){debug("onerror",er),unpipe(),dest.removeListener("error",onerror),0===EElistenerCount(dest,"error")&&dest.emit("error",er)}function onclose(){dest.removeListener("finish",onfinish),unpipe()}function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}function unpipe(){debug("unpipe"),src.unpipe(dest)}return src.on("data",ondata),function(emitter,event,fn){if("function"==typeof emitter.prependListener)return emitter.prependListener(event,fn);emitter._events&&emitter._events[event]?isArray(emitter._events[event])?emitter._events[event].unshift(fn):emitter._events[event]=[fn,emitter._events[event]]:emitter.on(event,fn)}(dest,"error",onerror),dest.once("close",onclose),dest.once("finish",onfinish),dest.emit("pipe",src),state.flowing||(debug("pipe resume"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState,unpipeInfo={hasUnpiped:!1};if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes?this:(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit("unpipe",this,unpipeInfo),this);if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var i=0;i<len;i++)dests[i].emit("unpipe",this,unpipeInfo);return this}var index=indexOf(state.pipes,dest);return-1===index?this:(state.pipes.splice(index,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit("unpipe",this,unpipeInfo),this)},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if("data"===ev)!1!==this._readableState.flowing&&this.resume();else if("readable"===ev){var state=this._readableState;state.endEmitted||state.readableListening||(state.readableListening=state.needReadable=!0,state.emittedReadable=!1,state.reading?state.length&&emitReadable(this):pna.nextTick(nReadingNextTick,this))}return res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!0,function(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,pna.nextTick(resume_,stream,state))}(this,state)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(stream){var _this=this,state=this._readableState,paused=!1;for(var i in stream.on("end",function(){if(debug("wrapped end"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&_this.push(chunk)}_this.push(null)}),stream.on("data",function(chunk){(debug("wrapped data"),state.decoder&&(chunk=state.decoder.write(chunk)),state.objectMode&&null==chunk)||(state.objectMode||chunk&&chunk.length)&&(_this.push(chunk)||(paused=!0,stream.pause()))}),stream)void 0===this[i]&&"function"==typeof stream[i]&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));for(var n=0;n<kProxyEvents.length;n++)stream.on(kProxyEvents[n],this.emit.bind(this,kProxyEvents[n]));return this._read=function(n){debug("wrapped _read",n),paused&&(paused=!1,stream.resume())},this},Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Readable._fromList=fromList},function(module,exports,__webpack_require__){module.exports=__webpack_require__(10)},function(module,exports,__webpack_require__){"use strict";var pna=__webpack_require__(628);function emitErrorNT(self,err){self.emit("error",err)}module.exports={destroy:function(err,cb){var _this=this,readableDestroyed=this._readableState&&this._readableState.destroyed,writableDestroyed=this._writableState&&this._writableState.destroyed;return readableDestroyed||writableDestroyed?(cb?cb(err):!err||this._writableState&&this._writableState.errorEmitted||pna.nextTick(emitErrorNT,this,err),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(err||null,function(err){!cb&&err?(pna.nextTick(emitErrorNT,_this,err),_this._writableState&&(_this._writableState.errorEmitted=!0)):cb&&cb(err)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(module,exports,__webpack_require__){"use strict";var pna=__webpack_require__(628);function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(){!function(corkReq,state,err){var entry=corkReq.entry;corkReq.entry=null;for(;entry;){var cb=entry.callback;state.pendingcb--,cb(err),entry=entry.next}state.corkedRequestsFree?state.corkedRequestsFree.next=corkReq:state.corkedRequestsFree=corkReq}(_this,state)}}module.exports=Writable;var Duplex,asyncWrite=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:pna.nextTick;Writable.WritableState=WritableState;var util=__webpack_require__(288);util.inherits=__webpack_require__(22);var internalUtil={deprecate:__webpack_require__(864)},Stream=__webpack_require__(1172),Buffer=__webpack_require__(179).Buffer,OurUint8Array=global.Uint8Array||function(){};var realHasInstance,destroyImpl=__webpack_require__(1173);function nop(){}function WritableState(options,stream){Duplex=Duplex||__webpack_require__(410),options=options||{};var isDuplex=stream instanceof Duplex;this.objectMode=!!options.objectMode,isDuplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode);var hwm=options.highWaterMark,writableHwm=options.writableHighWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:isDuplex&&(writableHwm||0===writableHwm)?writableHwm:defaultHwm,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var noDecode=!1===options.decodeStrings;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){!function(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if(function(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}(state),er)!function(stream,state,sync,er,cb){--state.pendingcb,sync?(pna.nextTick(cb,er),pna.nextTick(finishMaybe,stream,state),stream._writableState.errorEmitted=!0,stream.emit("error",er)):(cb(er),stream._writableState.errorEmitted=!0,stream.emit("error",er),finishMaybe(stream,state))}(stream,state,sync,er,cb);else{var finished=needFinish(state);finished||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?asyncWrite(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb)}}(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(options){if(Duplex=Duplex||__webpack_require__(410),!(realHasInstance.call(Writable,this)||this instanceof Duplex))return new Writable(options);this._writableState=new WritableState(options,this),this.writable=!0,options&&("function"==typeof options.write&&(this._write=options.write),"function"==typeof options.writev&&(this._writev=options.writev),"function"==typeof options.destroy&&(this._destroy=options.destroy),"function"==typeof options.final&&(this._final=options.final)),Stream.call(this)}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function afterWrite(stream,state,finished,cb){finished||function(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"))}(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount,buffer=new Array(l),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0,allBuffers=!0;entry;)buffer[count]=entry,entry.isBuf||(allBuffers=!1),entry=entry.next,count+=1;buffer.allBuffers=allBuffers,doWrite(stream,state,!0,state.length,buffer,"",holder.finish),state.pendingcb++,state.lastBufferedRequest=null,holder.next?(state.corkedRequestsFree=holder.next,holder.next=null):state.corkedRequestsFree=new CorkedRequest(state),state.bufferedRequestCount=0}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback;if(doWrite(stream,state,!1,state.objectMode?1:chunk.length,chunk,encoding,cb),entry=entry.next,state.bufferedRequestCount--,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function callFinal(stream,state){stream._final(function(err){state.pendingcb--,err&&stream.emit("error",err),state.prefinished=!0,stream.emit("prefinish"),finishMaybe(stream,state)})}function finishMaybe(stream,state){var need=needFinish(state);return need&&(!function(stream,state){state.prefinished||state.finalCalled||("function"==typeof stream._final?(state.pendingcb++,state.finalCalled=!0,pna.nextTick(callFinal,stream,state)):(state.prefinished=!0,stream.emit("prefinish")))}(stream,state),0===state.pendingcb&&(state.finished=!0,stream.emit("finish"))),need}util.inherits(Writable,Stream),WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(_){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(realHasInstance=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(object){return!!realHasInstance.call(this,object)||this===Writable&&(object&&object._writableState instanceof WritableState)}})):realHasInstance=function(object){return object instanceof this},Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(chunk,encoding,cb){var obj,state=this._writableState,ret=!1,isBuf=!state.objectMode&&(obj=chunk,Buffer.isBuffer(obj)||obj instanceof OurUint8Array);return isBuf&&!Buffer.isBuffer(chunk)&&(chunk=function(chunk){return Buffer.from(chunk)}(chunk)),"function"==typeof encoding&&(cb=encoding,encoding=null),isBuf?encoding="buffer":encoding||(encoding=state.defaultEncoding),"function"!=typeof cb&&(cb=nop),state.ended?function(stream,cb){var er=new Error("write after end");stream.emit("error",er),pna.nextTick(cb,er)}(this,cb):(isBuf||function(stream,state,chunk,cb){var valid=!0,er=!1;return null===chunk?er=new TypeError("May not write null values to stream"):"string"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er&&(stream.emit("error",er),pna.nextTick(cb,er),valid=!1),valid}(this,state,chunk,cb))&&(state.pendingcb++,ret=function(stream,state,isBuf,chunk,encoding,cb){if(!isBuf){var newChunk=function(state,chunk,encoding){state.objectMode||!1===state.decodeStrings||"string"!=typeof chunk||(chunk=Buffer.from(chunk,encoding));return chunk}(state,chunk,encoding);chunk!==newChunk&&(isBuf=!0,encoding="buffer",chunk=newChunk)}var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;ret||(state.needDrain=!0);if(state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest={chunk:chunk,encoding:encoding,isBuf:isBuf,callback:cb,next:null},last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1}else doWrite(stream,state,!1,len,chunk,encoding,cb);return ret}(this,state,isBuf,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.finished||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function(encoding){if("string"==typeof encoding&&(encoding=encoding.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+encoding);return this._writableState.defaultEncoding=encoding,this},Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("_write() is not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;"function"==typeof chunk?(cb=chunk,chunk=null,encoding=null):"function"==typeof encoding&&(cb=encoding,encoding=null),null!=chunk&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||state.finished||function(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?pna.nextTick(cb):stream.once("finish",cb));state.ended=!0,stream.writable=!1}(this,state,cb)},Object.defineProperty(Writable.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(value){this._writableState&&(this._writableState.destroyed=value)}}),Writable.prototype.destroy=destroyImpl.destroy,Writable.prototype._undestroy=destroyImpl.undestroy,Writable.prototype._destroy=function(err,cb){this.end(),cb(err)}},function(module,exports,__webpack_require__){"use strict";module.exports=Transform;var Duplex=__webpack_require__(410),util=__webpack_require__(288);function afterTransform(er,data){var ts=this._transformState;ts.transforming=!1;var cb=ts.writecb;if(!cb)return this.emit("error",new Error("write callback called multiple times"));ts.writechunk=null,ts.writecb=null,null!=data&&this.push(data),cb(er);var rs=this._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,options&&("function"==typeof options.transform&&(this._transform=options.transform),"function"==typeof options.flush&&(this._flush=options.flush)),this.on("prefinish",prefinish)}function prefinish(){var _this=this;"function"==typeof this._flush?this._flush(function(er,data){done(_this,er,data)}):done(this,null,null)}function done(stream,er,data){if(er)return stream.emit("error",er);if(null!=data&&stream.push(data),stream._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(stream._transformState.transforming)throw new Error("Calling transform done when still transforming");return stream.push(null)}util.inherits=__webpack_require__(22),util.inherits(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("_transform() is not implemented")},Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;if(ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=encoding,!ts.transforming){var rs=this._readableState;(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}},Transform.prototype._read=function(n){var ts=this._transformState;null!==ts.writechunk&&ts.writecb&&!ts.transforming?(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)):ts.needTransform=!0},Transform.prototype._destroy=function(err,cb){var _this2=this;Duplex.prototype._destroy.call(this,err,function(err2){cb(err2),_this2.emit("close")})}},function(module,exports,__webpack_require__){"use strict";const PDF=__webpack_require__(151),Parser=__webpack_require__(1167);module.exports=class{constructor(src){const parser=new Parser(src);parser.parse();const pages=parser.trailer.get("Root").object.properties.get("Pages").object.properties;this.pages=pages;const kids=pages.get("Kids");this.pageCount=kids.length,this.objects=[];for(const kid of kids){const page=kid.object,objects=[];Parser.addObjectsRecursive(objects,page),this.objects.push(objects)}}async write(doc,page){await doc._endPage();const kids=this.pages.get("Kids");page&&kids[page-1];for(let i=page?page-1:0,len=page||kids.length;i<len;++i){const page=kids[i].object,objects=this.objects[i];doc._registerObject(page,!0);for(const obj of objects)doc._registerObject(obj,!0);for(const obj of objects)await doc._writeObject(obj);page.prop("Parent",doc._pagesObj.toReference()),await doc._writeObject(page),doc._pages.push(page.toReference())}}async setAsTemplate(doc){await doc._endPage();const kids=this.pages.get("Kids");if(!kids[0])throw new TypeError("External document is invalid");const first=kids[0].object.properties,objects=this.objects[0];for(const obj of objects)doc._registerObject(obj,!0);for(const obj of objects)await doc._writeObject(obj);let contents=first.get("Contents");Array.isArray(contents)||(contents=[contents]);let resources=first.get("Resources");resources instanceof PDF.Reference&&(resources=resources.object.properties),doc._template={contents:contents.map(c=>c.toString()),colorSpaces:{},fonts:{},xobjects:{}};const colorSpaces=resources.get("ColorSpace");if(colorSpaces)for(const alias in colorSpaces.dictionary)doc._template.colorSpaces[alias]=colorSpaces.dictionary[alias].toString(),doc._aliases.block(alias);const fonts=resources.get("Font");if(fonts)for(const alias in fonts.dictionary)doc._template.fonts[alias]=fonts.dictionary[alias].toString(),doc._aliases.block(alias);const xobjects=resources.get("XObject");if(xobjects)for(const alias in xobjects.dictionary)doc._template.xobjects[alias]=xobjects.dictionary[alias].toString(),doc._aliases.block(alias)}}},function(module,exports,__webpack_require__){const AFMFont=__webpack_require__(900);module.exports=new AFMFont(__webpack_require__(1455))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var tiny_inflate=__webpack_require__(937),tiny_inflate_default=__webpack_require__.n(tiny_inflate);function derive(v0,v1,v2,v3,t){return Math.pow(1-t,3)*v0+3*Math.pow(1-t,2)*t*v1+3*(1-t)*Math.pow(t,2)*v2+Math.pow(t,3)*v3}function BoundingBox(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}BoundingBox.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},BoundingBox.prototype.addPoint=function(x,y){"number"==typeof x&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=x,this.x2=x),x<this.x1&&(this.x1=x),x>this.x2&&(this.x2=x)),"number"==typeof y&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=y,this.y2=y),y<this.y1&&(this.y1=y),y>this.y2&&(this.y2=y))},BoundingBox.prototype.addX=function(x){this.addPoint(x,null)},BoundingBox.prototype.addY=function(y){this.addPoint(null,y)},BoundingBox.prototype.addBezier=function(x0,y0,x1,y1,x2,y2,x,y){const p0=[x0,y0],p1=[x1,y1],p2=[x2,y2],p3=[x,y];this.addPoint(x0,y0),this.addPoint(x,y);for(let i=0;i<=1;i++){const b=6*p0[i]-12*p1[i]+6*p2[i],a=-3*p0[i]+9*p1[i]-9*p2[i]+3*p3[i],c=3*p1[i]-3*p0[i];if(0===a){if(0===b)continue;const t=-c/b;0<t&&t<1&&(0===i&&this.addX(derive(p0[i],p1[i],p2[i],p3[i],t)),1===i&&this.addY(derive(p0[i],p1[i],p2[i],p3[i],t)));continue}const b2ac=Math.pow(b,2)-4*c*a;if(b2ac<0)continue;const t1=(-b+Math.sqrt(b2ac))/(2*a);0<t1&&t1<1&&(0===i&&this.addX(derive(p0[i],p1[i],p2[i],p3[i],t1)),1===i&&this.addY(derive(p0[i],p1[i],p2[i],p3[i],t1)));const t2=(-b-Math.sqrt(b2ac))/(2*a);0<t2&&t2<1&&(0===i&&this.addX(derive(p0[i],p1[i],p2[i],p3[i],t2)),1===i&&this.addY(derive(p0[i],p1[i],p2[i],p3[i],t2)))}},BoundingBox.prototype.addQuad=function(x0,y0,x1,y1,x,y){const cp1x=x0+2/3*(x1-x0),cp1y=y0+2/3*(y1-y0),cp2x=cp1x+1/3*(x-x0),cp2y=cp1y+1/3*(y-y0);this.addBezier(x0,y0,cp1x,cp1y,cp2x,cp2y,x,y)};var bbox=BoundingBox;function Path(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}Path.prototype.moveTo=function(x,y){this.commands.push({type:"M",x:x,y:y})},Path.prototype.lineTo=function(x,y){this.commands.push({type:"L",x:x,y:y})},Path.prototype.curveTo=Path.prototype.bezierCurveTo=function(x1,y1,x2,y2,x,y){this.commands.push({type:"C",x1:x1,y1:y1,x2:x2,y2:y2,x:x,y:y})},Path.prototype.quadTo=Path.prototype.quadraticCurveTo=function(x1,y1,x,y){this.commands.push({type:"Q",x1:x1,y1:y1,x:x,y:y})},Path.prototype.close=Path.prototype.closePath=function(){this.commands.push({type:"Z"})},Path.prototype.extend=function(pathOrCommands){if(pathOrCommands.commands)pathOrCommands=pathOrCommands.commands;else if(pathOrCommands instanceof bbox){const box=pathOrCommands;return this.moveTo(box.x1,box.y1),this.lineTo(box.x2,box.y1),this.lineTo(box.x2,box.y2),this.lineTo(box.x1,box.y2),void this.close()}Array.prototype.push.apply(this.commands,pathOrCommands)},Path.prototype.getBoundingBox=function(){const box=new bbox;let startX=0,startY=0,prevX=0,prevY=0;for(let i=0;i<this.commands.length;i++){const cmd=this.commands[i];switch(cmd.type){case"M":box.addPoint(cmd.x,cmd.y),startX=prevX=cmd.x,startY=prevY=cmd.y;break;case"L":box.addPoint(cmd.x,cmd.y),prevX=cmd.x,prevY=cmd.y;break;case"Q":box.addQuad(prevX,prevY,cmd.x1,cmd.y1,cmd.x,cmd.y),prevX=cmd.x,prevY=cmd.y;break;case"C":box.addBezier(prevX,prevY,cmd.x1,cmd.y1,cmd.x2,cmd.y2,cmd.x,cmd.y),prevX=cmd.x,prevY=cmd.y;break;case"Z":prevX=startX,prevY=startY;break;default:throw new Error("Unexpected path command "+cmd.type)}}return box.isEmpty()&&box.addPoint(0,0),box},Path.prototype.draw=function(ctx){ctx.beginPath();for(let i=0;i<this.commands.length;i+=1){const cmd=this.commands[i];"M"===cmd.type?ctx.moveTo(cmd.x,cmd.y):"L"===cmd.type?ctx.lineTo(cmd.x,cmd.y):"C"===cmd.type?ctx.bezierCurveTo(cmd.x1,cmd.y1,cmd.x2,cmd.y2,cmd.x,cmd.y):"Q"===cmd.type?ctx.quadraticCurveTo(cmd.x1,cmd.y1,cmd.x,cmd.y):"Z"===cmd.type&&ctx.closePath()}this.fill&&(ctx.fillStyle=this.fill,ctx.fill()),this.stroke&&(ctx.strokeStyle=this.stroke,ctx.lineWidth=this.strokeWidth,ctx.stroke())},Path.prototype.toPathData=function(decimalPlaces){function floatToString(v){return Math.round(v)===v?""+Math.round(v):v.toFixed(decimalPlaces)}function packValues(){let s="";for(let i=0;i<arguments.length;i+=1){const v=arguments[i];v>=0&&i>0&&(s+=" "),s+=floatToString(v)}return s}decimalPlaces=void 0!==decimalPlaces?decimalPlaces:2;let d="";for(let i=0;i<this.commands.length;i+=1){const cmd=this.commands[i];"M"===cmd.type?d+="M"+packValues(cmd.x,cmd.y):"L"===cmd.type?d+="L"+packValues(cmd.x,cmd.y):"C"===cmd.type?d+="C"+packValues(cmd.x1,cmd.y1,cmd.x2,cmd.y2,cmd.x,cmd.y):"Q"===cmd.type?d+="Q"+packValues(cmd.x1,cmd.y1,cmd.x,cmd.y):"Z"===cmd.type&&(d+="Z")}return d},Path.prototype.toSVG=function(decimalPlaces){let svg='<path d="';return svg+=this.toPathData(decimalPlaces),svg+='"',this.fill&&"black"!==this.fill&&(null===this.fill?svg+=' fill="none"':svg+=' fill="'+this.fill+'"'),this.stroke&&(svg+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),svg+="/>"},Path.prototype.toDOMElement=function(decimalPlaces){const temporaryPath=this.toPathData(decimalPlaces),newPath=document.createElementNS("http://www.w3.org/2000/svg","path");return newPath.setAttribute("d",temporaryPath),newPath};var src_path=Path;function fail(message){throw new Error(message)}function argument(predicate,message){predicate||fail(message)}var check={fail:fail,argument:argument,assert:argument};const decode={},encode={},sizeOf={};function constant(v){return function(){return v}}encode.BYTE=function(v){return check.argument(v>=0&&v<=255,"Byte value should be between 0 and 255."),[v]},sizeOf.BYTE=constant(1),encode.CHAR=function(v){return[v.charCodeAt(0)]},sizeOf.CHAR=constant(1),encode.CHARARRAY=function(v){const b=[];for(let i=0;i<v.length;i+=1)b[i]=v.charCodeAt(i);return b},sizeOf.CHARARRAY=function(v){return v.length},encode.USHORT=function(v){return[v>>8&255,255&v]},sizeOf.USHORT=constant(2),encode.SHORT=function(v){return v>=32768&&(v=-(65536-v)),[v>>8&255,255&v]},sizeOf.SHORT=constant(2),encode.UINT24=function(v){return[v>>16&255,v>>8&255,255&v]},sizeOf.UINT24=constant(3),encode.ULONG=function(v){return[v>>24&255,v>>16&255,v>>8&255,255&v]},sizeOf.ULONG=constant(4),encode.LONG=function(v){return v>=2147483648&&(v=-(4294967296-v)),[v>>24&255,v>>16&255,v>>8&255,255&v]},sizeOf.LONG=constant(4),encode.FIXED=encode.ULONG,sizeOf.FIXED=sizeOf.ULONG,encode.FWORD=encode.SHORT,sizeOf.FWORD=sizeOf.SHORT,encode.UFWORD=encode.USHORT,sizeOf.UFWORD=sizeOf.USHORT,encode.LONGDATETIME=function(v){return[0,0,0,0,v>>24&255,v>>16&255,v>>8&255,255&v]},sizeOf.LONGDATETIME=constant(8),encode.TAG=function(v){return check.argument(4===v.length,"Tag should be exactly 4 ASCII characters."),[v.charCodeAt(0),v.charCodeAt(1),v.charCodeAt(2),v.charCodeAt(3)]},sizeOf.TAG=constant(4),encode.Card8=encode.BYTE,sizeOf.Card8=sizeOf.BYTE,encode.Card16=encode.USHORT,sizeOf.Card16=sizeOf.USHORT,encode.OffSize=encode.BYTE,sizeOf.OffSize=sizeOf.BYTE,encode.SID=encode.USHORT,sizeOf.SID=sizeOf.USHORT,encode.NUMBER=function(v){return v>=-107&&v<=107?[v+139]:v>=108&&v<=1131?[247+((v-=108)>>8),255&v]:v>=-1131&&v<=-108?[251+((v=-v-108)>>8),255&v]:v>=-32768&&v<=32767?encode.NUMBER16(v):encode.NUMBER32(v)},sizeOf.NUMBER=function(v){return encode.NUMBER(v).length},encode.NUMBER16=function(v){return[28,v>>8&255,255&v]},sizeOf.NUMBER16=constant(3),encode.NUMBER32=function(v){return[29,v>>24&255,v>>16&255,v>>8&255,255&v]},sizeOf.NUMBER32=constant(5),encode.REAL=function(v){let value=v.toString();const m=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(value);if(m){const epsilon=parseFloat("1e"+((m[2]?+m[2]:0)+m[1].length));value=(Math.round(v*epsilon)/epsilon).toString()}let nibbles="";for(let i=0,ii=value.length;i<ii;i+=1){const c=value[i];nibbles+="e"===c?"-"===value[++i]?"c":"b":"."===c?"a":"-"===c?"e":c}const out=[30];for(let i=0,ii=(nibbles+=1&nibbles.length?"f":"ff").length;i<ii;i+=2)out.push(parseInt(nibbles.substr(i,2),16));return out},sizeOf.REAL=function(v){return encode.REAL(v).length},encode.NAME=encode.CHARARRAY,sizeOf.NAME=sizeOf.CHARARRAY,encode.STRING=encode.CHARARRAY,sizeOf.STRING=sizeOf.CHARARRAY,decode.UTF8=function(data,offset,numBytes){const codePoints=[],numChars=numBytes;for(let j=0;j<numChars;j++,offset+=1)codePoints[j]=data.getUint8(offset);return String.fromCharCode.apply(null,codePoints)},decode.UTF16=function(data,offset,numBytes){const codePoints=[],numChars=numBytes/2;for(let j=0;j<numChars;j++,offset+=2)codePoints[j]=data.getUint16(offset);return String.fromCharCode.apply(null,codePoints)},encode.UTF16=function(v){const b=[];for(let i=0;i<v.length;i+=1){const codepoint=v.charCodeAt(i);b[b.length]=codepoint>>8&255,b[b.length]=255&codepoint}return b},sizeOf.UTF16=function(v){return 2*v.length};const eightBitMacEncodings={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""};decode.MACSTRING=function(dataView,offset,dataLength,encoding){const table=eightBitMacEncodings[encoding];if(void 0===table)return;let result="";for(let i=0;i<dataLength;i++){const c=dataView.getUint8(offset+i);result+=c<=127?String.fromCharCode(c):table[127&c]}return result};const macEncodingTableCache="function"==typeof WeakMap&&new WeakMap;let macEncodingCacheKeys;function isByteEncodable(value){return value>=-128&&value<=127}function encodeVarDeltaRunAsZeroes(deltas,pos,result){let runLength=0;const numDeltas=deltas.length;for(;pos<numDeltas&&runLength<64&&0===deltas[pos];)++pos,++runLength;return result.push(128|runLength-1),pos}function encodeVarDeltaRunAsBytes(deltas,offset,result){let runLength=0;const numDeltas=deltas.length;let pos=offset;for(;pos<numDeltas&&runLength<64;){const value=deltas[pos];if(!isByteEncodable(value))break;if(0===value&&pos+1<numDeltas&&0===deltas[pos+1])break;++pos,++runLength}result.push(runLength-1);for(let i=offset;i<pos;++i)result.push(deltas[i]+256&255);return pos}function encodeVarDeltaRunAsWords(deltas,offset,result){let runLength=0;const numDeltas=deltas.length;let pos=offset;for(;pos<numDeltas&&runLength<64;){const value=deltas[pos];if(0===value)break;if(isByteEncodable(value)&&pos+1<numDeltas&&isByteEncodable(deltas[pos+1]))break;++pos,++runLength}result.push(64|runLength-1);for(let i=offset;i<pos;++i){const val=deltas[i];result.push(val+65536>>8&255,val+256&255)}return pos}encode.MACSTRING=function(str,encoding){const table=function(encoding){if(!macEncodingCacheKeys){macEncodingCacheKeys={};for(let e in eightBitMacEncodings)macEncodingCacheKeys[e]=new String(e)}const cacheKey=macEncodingCacheKeys[encoding];if(void 0===cacheKey)return;if(macEncodingTableCache){const cachedTable=macEncodingTableCache.get(cacheKey);if(void 0!==cachedTable)return cachedTable}const decodingTable=eightBitMacEncodings[encoding];if(void 0===decodingTable)return;const encodingTable={};for(let i=0;i<decodingTable.length;i++)encodingTable[decodingTable.charCodeAt(i)]=i+128;return macEncodingTableCache&&macEncodingTableCache.set(cacheKey,encodingTable),encodingTable}(encoding);if(void 0===table)return;const result=[];for(let i=0;i<str.length;i++){let c=str.charCodeAt(i);if(c>=128&&void 0===(c=table[c]))return;result[i]=c}return result},sizeOf.MACSTRING=function(str,encoding){const b=encode.MACSTRING(str,encoding);return void 0!==b?b.length:0},encode.VARDELTAS=function(deltas){let pos=0;const result=[];for(;pos<deltas.length;){const value=deltas[pos];pos=0===value?encodeVarDeltaRunAsZeroes(deltas,pos,result):value>=-128&&value<=127?encodeVarDeltaRunAsBytes(deltas,pos,result):encodeVarDeltaRunAsWords(deltas,pos,result)}return result},encode.INDEX=function(l){let offset=1;const offsets=[offset],data=[];for(let i=0;i<l.length;i+=1){const v=encode.OBJECT(l[i]);Array.prototype.push.apply(data,v),offset+=v.length,offsets.push(offset)}if(0===data.length)return[0,0];const encodedOffsets=[],offSize=1+Math.floor(Math.log(offset)/Math.log(2))/8|0,offsetEncoder=[void 0,encode.BYTE,encode.USHORT,encode.UINT24,encode.ULONG][offSize];for(let i=0;i<offsets.length;i+=1){const encodedOffset=offsetEncoder(offsets[i]);Array.prototype.push.apply(encodedOffsets,encodedOffset)}return Array.prototype.concat(encode.Card16(l.length),encode.OffSize(offSize),encodedOffsets,data)},sizeOf.INDEX=function(v){return encode.INDEX(v).length},encode.DICT=function(m){let d=[];const keys=Object.keys(m),length=keys.length;for(let i=0;i<length;i+=1){const k=parseInt(keys[i],0),v=m[k];d=(d=d.concat(encode.OPERAND(v.value,v.type))).concat(encode.OPERATOR(k))}return d},sizeOf.DICT=function(m){return encode.DICT(m).length},encode.OPERATOR=function(v){return v<1200?[v]:[12,v-1200]},encode.OPERAND=function(v,type){let d=[];if(Array.isArray(type))for(let i=0;i<type.length;i+=1)check.argument(v.length===type.length,"Not enough arguments given for type"+type),d=d.concat(encode.OPERAND(v[i],type[i]));else if("SID"===type)d=d.concat(encode.NUMBER(v));else if("offset"===type)d=d.concat(encode.NUMBER32(v));else if("number"===type)d=d.concat(encode.NUMBER(v));else{if("real"!==type)throw new Error("Unknown operand type "+type);d=d.concat(encode.REAL(v))}return d},encode.OP=encode.BYTE,sizeOf.OP=sizeOf.BYTE;const wmm="function"==typeof WeakMap&&new WeakMap;function Table(tableName,fields,options){for(let i=0;i<fields.length;i+=1){const field=fields[i];this[field.name]=field.value}if(this.tableName=tableName,this.fields=fields,options){const optionKeys=Object.keys(options);for(let i=0;i<optionKeys.length;i+=1){const k=optionKeys[i],v=options[k];void 0!==this[k]&&(this[k]=v)}}}function ushortList(itemName,list,count){void 0===count&&(count=list.length);const fields=new Array(list.length+1);fields[0]={name:itemName+"Count",type:"USHORT",value:count};for(let i=0;i<list.length;i++)fields[i+1]={name:itemName+i,type:"USHORT",value:list[i]};return fields}function tableList(itemName,records,itemCallback){const count=records.length,fields=new Array(count+1);fields[0]={name:itemName+"Count",type:"USHORT",value:count};for(let i=0;i<count;i++)fields[i+1]={name:itemName+i,type:"TABLE",value:itemCallback(records[i],i)};return fields}function recordList(itemName,records,itemCallback){const count=records.length;let fields=[];fields[0]={name:itemName+"Count",type:"USHORT",value:count};for(let i=0;i<count;i++)fields=fields.concat(itemCallback(records[i],i));return fields}function Coverage(coverageTable){1===coverageTable.format?Table.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(ushortList("glyph",coverageTable.glyphs))):check.assert(!1,"Can't create coverage table format 2 yet.")}function ScriptList(scriptListTable){Table.call(this,"scriptListTable",recordList("scriptRecord",scriptListTable,function(scriptRecord,i){const script=scriptRecord.script;let defaultLangSys=script.defaultLangSys;return check.assert(!!defaultLangSys,"Unable to write GSUB: script "+scriptRecord.tag+" has no default language system."),[{name:"scriptTag"+i,type:"TAG",value:scriptRecord.tag},{name:"script"+i,type:"TABLE",value:new Table("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Table("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:defaultLangSys.reqFeatureIndex}].concat(ushortList("featureIndex",defaultLangSys.featureIndexes)))}].concat(recordList("langSys",script.langSysRecords,function(langSysRecord,i){const langSys=langSysRecord.langSys;return[{name:"langSysTag"+i,type:"TAG",value:langSysRecord.tag},{name:"langSys"+i,type:"TABLE",value:new Table("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:langSys.reqFeatureIndex}].concat(ushortList("featureIndex",langSys.featureIndexes)))}]})))}]}))}function FeatureList(featureListTable){Table.call(this,"featureListTable",recordList("featureRecord",featureListTable,function(featureRecord,i){const feature=featureRecord.feature;return[{name:"featureTag"+i,type:"TAG",value:featureRecord.tag},{name:"feature"+i,type:"TABLE",value:new Table("featureTable",[{name:"featureParams",type:"USHORT",value:feature.featureParams}].concat(ushortList("lookupListIndex",feature.lookupListIndexes)))}]}))}function LookupList(lookupListTable,subtableMakers){Table.call(this,"lookupListTable",tableList("lookup",lookupListTable,function(lookupTable){let subtableCallback=subtableMakers[lookupTable.lookupType];return check.assert(!!subtableCallback,"Unable to write GSUB lookup type "+lookupTable.lookupType+" tables."),new Table("lookupTable",[{name:"lookupType",type:"USHORT",value:lookupTable.lookupType},{name:"lookupFlag",type:"USHORT",value:lookupTable.lookupFlag}].concat(tableList("subtable",lookupTable.subtables,subtableCallback)))}))}encode.CHARSTRING=function(ops){if(wmm){const cachedValue=wmm.get(ops);if(void 0!==cachedValue)return cachedValue}let d=[];const length=ops.length;for(let i=0;i<length;i+=1){const op=ops[i];d=d.concat(encode[op.type](op.value))}return wmm&&wmm.set(ops,d),d},sizeOf.CHARSTRING=function(ops){return encode.CHARSTRING(ops).length},encode.OBJECT=function(v){const encodingFunction=encode[v.type];return check.argument(void 0!==encodingFunction,"No encoding function for type "+v.type),encodingFunction(v.value)},sizeOf.OBJECT=function(v){const sizeOfFunction=sizeOf[v.type];return check.argument(void 0!==sizeOfFunction,"No sizeOf function for type "+v.type),sizeOfFunction(v.value)},encode.TABLE=function(table){let d=[];const length=table.fields.length,subtables=[],subtableOffsets=[];for(let i=0;i<length;i+=1){const field=table.fields[i],encodingFunction=encode[field.type];check.argument(void 0!==encodingFunction,"No encoding function for field type "+field.type+" ("+field.name+")");let value=table[field.name];void 0===value&&(value=field.value);const bytes=encodingFunction(value);"TABLE"===field.type?(subtableOffsets.push(d.length),d=d.concat([0,0]),subtables.push(bytes)):d=d.concat(bytes)}for(let i=0;i<subtables.length;i+=1){const o=subtableOffsets[i],offset=d.length;check.argument(offset<65536,"Table "+table.tableName+" too big."),d[o]=offset>>8,d[o+1]=255&offset,d=d.concat(subtables[i])}return d},sizeOf.TABLE=function(table){let numBytes=0;const length=table.fields.length;for(let i=0;i<length;i+=1){const field=table.fields[i],sizeOfFunction=sizeOf[field.type];check.argument(void 0!==sizeOfFunction,"No sizeOf function for field type "+field.type+" ("+field.name+")");let value=table[field.name];void 0===value&&(value=field.value),numBytes+=sizeOfFunction(value),"TABLE"===field.type&&(numBytes+=2)}return numBytes},encode.RECORD=encode.TABLE,sizeOf.RECORD=sizeOf.TABLE,encode.LITERAL=function(v){return v},sizeOf.LITERAL=function(v){return v.length},Table.prototype.encode=function(){return encode.TABLE(this)},Table.prototype.sizeOf=function(){return sizeOf.TABLE(this)},Coverage.prototype=Object.create(Table.prototype),Coverage.prototype.constructor=Coverage,ScriptList.prototype=Object.create(Table.prototype),ScriptList.prototype.constructor=ScriptList,FeatureList.prototype=Object.create(Table.prototype),FeatureList.prototype.constructor=FeatureList,LookupList.prototype=Object.create(Table.prototype),LookupList.prototype.constructor=LookupList;var src_table={Table:Table,Record:Table,Coverage:Coverage,ScriptList:ScriptList,FeatureList:FeatureList,LookupList:LookupList,ushortList:ushortList,tableList:tableList,recordList:recordList};function getByte(dataView,offset){return dataView.getUint8(offset)}function getUShort(dataView,offset){return dataView.getUint16(offset,!1)}function getULong(dataView,offset){return dataView.getUint32(offset,!1)}function getFixed(dataView,offset){return dataView.getInt16(offset,!1)+dataView.getUint16(offset+2,!1)/65535}const typeOffsets={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Parser(data,offset){this.data=data,this.offset=offset,this.relativeOffset=0}Parser.prototype.parseByte=function(){const v=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,v},Parser.prototype.parseChar=function(){const v=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,v},Parser.prototype.parseCard8=Parser.prototype.parseByte,Parser.prototype.parseUShort=function(){const v=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,v},Parser.prototype.parseCard16=Parser.prototype.parseUShort,Parser.prototype.parseSID=Parser.prototype.parseUShort,Parser.prototype.parseOffset16=Parser.prototype.parseUShort,Parser.prototype.parseShort=function(){const v=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,v},Parser.prototype.parseF2Dot14=function(){const v=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,v},Parser.prototype.parseULong=function(){const v=getULong(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,v},Parser.prototype.parseOffset32=Parser.prototype.parseULong,Parser.prototype.parseFixed=function(){const v=getFixed(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,v},Parser.prototype.parseString=function(length){const dataView=this.data,offset=this.offset+this.relativeOffset;let string="";this.relativeOffset+=length;for(let i=0;i<length;i++)string+=String.fromCharCode(dataView.getUint8(offset+i));return string},Parser.prototype.parseTag=function(){return this.parseString(4)},Parser.prototype.parseLongDateTime=function(){let v=getULong(this.data,this.offset+this.relativeOffset+4);return v-=2082844800,this.relativeOffset+=8,v},Parser.prototype.parseVersion=function(minorBase){const major=getUShort(this.data,this.offset+this.relativeOffset),minor=getUShort(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,void 0===minorBase&&(minorBase=4096),major+minor/minorBase/10},Parser.prototype.skip=function(type,amount){void 0===amount&&(amount=1),this.relativeOffset+=typeOffsets[type]*amount},Parser.prototype.parseULongList=function(count){void 0===count&&(count=this.parseULong());const offsets=new Array(count),dataView=this.data;let offset=this.offset+this.relativeOffset;for(let i=0;i<count;i++)offsets[i]=dataView.getUint32(offset),offset+=4;return this.relativeOffset+=4*count,offsets},Parser.prototype.parseOffset16List=Parser.prototype.parseUShortList=function(count){void 0===count&&(count=this.parseUShort());const offsets=new Array(count),dataView=this.data;let offset=this.offset+this.relativeOffset;for(let i=0;i<count;i++)offsets[i]=dataView.getUint16(offset),offset+=2;return this.relativeOffset+=2*count,offsets},Parser.prototype.parseShortList=function(count){const list=new Array(count),dataView=this.data;let offset=this.offset+this.relativeOffset;for(let i=0;i<count;i++)list[i]=dataView.getInt16(offset),offset+=2;return this.relativeOffset+=2*count,list},Parser.prototype.parseByteList=function(count){const list=new Array(count),dataView=this.data;let offset=this.offset+this.relativeOffset;for(let i=0;i<count;i++)list[i]=dataView.getUint8(offset++);return this.relativeOffset+=count,list},Parser.prototype.parseList=function(count,itemCallback){itemCallback||(itemCallback=count,count=this.parseUShort());const list=new Array(count);for(let i=0;i<count;i++)list[i]=itemCallback.call(this);return list},Parser.prototype.parseList32=function(count,itemCallback){itemCallback||(itemCallback=count,count=this.parseULong());const list=new Array(count);for(let i=0;i<count;i++)list[i]=itemCallback.call(this);return list},Parser.prototype.parseRecordList=function(count,recordDescription){recordDescription||(recordDescription=count,count=this.parseUShort());const records=new Array(count),fields=Object.keys(recordDescription);for(let i=0;i<count;i++){const rec={};for(let j=0;j<fields.length;j++){const fieldName=fields[j],fieldType=recordDescription[fieldName];rec[fieldName]=fieldType.call(this)}records[i]=rec}return records},Parser.prototype.parseRecordList32=function(count,recordDescription){recordDescription||(recordDescription=count,count=this.parseULong());const records=new Array(count),fields=Object.keys(recordDescription);for(let i=0;i<count;i++){const rec={};for(let j=0;j<fields.length;j++){const fieldName=fields[j],fieldType=recordDescription[fieldName];rec[fieldName]=fieldType.call(this)}records[i]=rec}return records},Parser.prototype.parseStruct=function(description){if("function"==typeof description)return description.call(this);{const fields=Object.keys(description),struct={};for(let j=0;j<fields.length;j++){const fieldName=fields[j],fieldType=description[fieldName];struct[fieldName]=fieldType.call(this)}return struct}},Parser.prototype.parseValueRecord=function(valueFormat){if(void 0===valueFormat&&(valueFormat=this.parseUShort()),0===valueFormat)return;const valueRecord={};return 1&valueFormat&&(valueRecord.xPlacement=this.parseShort()),2&valueFormat&&(valueRecord.yPlacement=this.parseShort()),4&valueFormat&&(valueRecord.xAdvance=this.parseShort()),8&valueFormat&&(valueRecord.yAdvance=this.parseShort()),16&valueFormat&&(valueRecord.xPlaDevice=void 0,this.parseShort()),32&valueFormat&&(valueRecord.yPlaDevice=void 0,this.parseShort()),64&valueFormat&&(valueRecord.xAdvDevice=void 0,this.parseShort()),128&valueFormat&&(valueRecord.yAdvDevice=void 0,this.parseShort()),valueRecord},Parser.prototype.parseValueRecordList=function(){const valueFormat=this.parseUShort(),valueCount=this.parseUShort(),values=new Array(valueCount);for(let i=0;i<valueCount;i++)values[i]=this.parseValueRecord(valueFormat);return values},Parser.prototype.parsePointer=function(description){const structOffset=this.parseOffset16();if(structOffset>0)return new Parser(this.data,this.offset+structOffset).parseStruct(description)},Parser.prototype.parsePointer32=function(description){const structOffset=this.parseOffset32();if(structOffset>0)return new Parser(this.data,this.offset+structOffset).parseStruct(description)},Parser.prototype.parseListOfLists=function(itemCallback){const offsets=this.parseOffset16List(),count=offsets.length,relativeOffset=this.relativeOffset,list=new Array(count);for(let i=0;i<count;i++){const start=offsets[i];if(0!==start)if(this.relativeOffset=start,itemCallback){const subOffsets=this.parseOffset16List(),subList=new Array(subOffsets.length);for(let j=0;j<subOffsets.length;j++)this.relativeOffset=start+subOffsets[j],subList[j]=itemCallback.call(this);list[i]=subList}else list[i]=this.parseUShortList();else list[i]=void 0}return this.relativeOffset=relativeOffset,list},Parser.prototype.parseCoverage=function(){const startOffset=this.offset+this.relativeOffset,format=this.parseUShort(),count=this.parseUShort();if(1===format)return{format:1,glyphs:this.parseUShortList(count)};if(2===format){const ranges=new Array(count);for(let i=0;i<count;i++)ranges[i]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:ranges}}throw new Error("0x"+startOffset.toString(16)+": Coverage format must be 1 or 2.")},Parser.prototype.parseClassDef=function(){const startOffset=this.offset+this.relativeOffset,format=this.parseUShort();if(1===format)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===format)return{format:2,ranges:this.parseRecordList({start:Parser.uShort,end:Parser.uShort,classId:Parser.uShort})};throw new Error("0x"+startOffset.toString(16)+": ClassDef format must be 1 or 2.")},Parser.list=function(count,itemCallback){return function(){return this.parseList(count,itemCallback)}},Parser.list32=function(count,itemCallback){return function(){return this.parseList32(count,itemCallback)}},Parser.recordList=function(count,recordDescription){return function(){return this.parseRecordList(count,recordDescription)}},Parser.recordList32=function(count,recordDescription){return function(){return this.parseRecordList32(count,recordDescription)}},Parser.pointer=function(description){return function(){return this.parsePointer(description)}},Parser.pointer32=function(description){return function(){return this.parsePointer32(description)}},Parser.tag=Parser.prototype.parseTag,Parser.byte=Parser.prototype.parseByte,Parser.uShort=Parser.offset16=Parser.prototype.parseUShort,Parser.uShortList=Parser.prototype.parseUShortList,Parser.uLong=Parser.offset32=Parser.prototype.parseULong,Parser.uLongList=Parser.prototype.parseULongList,Parser.struct=Parser.prototype.parseStruct,Parser.coverage=Parser.prototype.parseCoverage,Parser.classDef=Parser.prototype.parseClassDef;const parse_langSysTable={reserved:Parser.uShort,reqFeatureIndex:Parser.uShort,featureIndexes:Parser.uShortList};Parser.prototype.parseScriptList=function(){return this.parsePointer(Parser.recordList({tag:Parser.tag,script:Parser.pointer({defaultLangSys:Parser.pointer(parse_langSysTable),langSysRecords:Parser.recordList({tag:Parser.tag,langSys:Parser.pointer(parse_langSysTable)})})}))||[]},Parser.prototype.parseFeatureList=function(){return this.parsePointer(Parser.recordList({tag:Parser.tag,feature:Parser.pointer({featureParams:Parser.offset16,lookupListIndexes:Parser.uShortList})}))||[]},Parser.prototype.parseLookupList=function(lookupTableParsers){return this.parsePointer(Parser.list(Parser.pointer(function(){const lookupType=this.parseUShort();check.argument(1<=lookupType&&lookupType<=9,"GPOS/GSUB lookup type "+lookupType+" unknown.");const lookupFlag=this.parseUShort(),useMarkFilteringSet=16&lookupFlag;return{lookupType:lookupType,lookupFlag:lookupFlag,subtables:this.parseList(Parser.pointer(lookupTableParsers[lookupType])),markFilteringSet:useMarkFilteringSet?this.parseUShort():void 0}})))||[]},Parser.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){const majorVersion=this.parseUShort(),minorVersion=this.parseUShort();return check.argument(1===majorVersion&&minorVersion<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Parser.offset32,featureTableSubstitutionOffset:Parser.offset32})})||[]};var src_parse={getByte:getByte,getCard8:getByte,getUShort:getUShort,getCard16:getUShort,getShort:function(dataView,offset){return dataView.getInt16(offset,!1)},getULong:getULong,getFixed:getFixed,getTag:function(dataView,offset){let tag="";for(let i=offset;i<offset+4;i+=1)tag+=String.fromCharCode(dataView.getInt8(i));return tag},getOffset:function(dataView,offset,offSize){let v=0;for(let i=0;i<offSize;i+=1)v<<=8,v+=dataView.getUint8(offset+i);return v},getBytes:function(dataView,startOffset,endOffset){const bytes=[];for(let i=startOffset;i<endOffset;i+=1)bytes.push(dataView.getUint8(i));return bytes},bytesToString:function(bytes){let s="";for(let i=0;i<bytes.length;i+=1)s+=String.fromCharCode(bytes[i]);return s},Parser:Parser};function addSegment(t,code,glyphIndex){t.segments.push({end:code,start:code,delta:-(code-glyphIndex),offset:0,glyphIndex:glyphIndex})}var tables_cmap={parse:function(data,start){const cmap={};cmap.version=src_parse.getUShort(data,start),check.argument(0===cmap.version,"cmap table version should be 0."),cmap.numTables=src_parse.getUShort(data,start+2);let offset=-1;for(let i=cmap.numTables-1;i>=0;i-=1){const platformId=src_parse.getUShort(data,start+4+8*i),encodingId=src_parse.getUShort(data,start+4+8*i+2);if(3===platformId&&(0===encodingId||1===encodingId||10===encodingId)){offset=src_parse.getULong(data,start+4+8*i+4);break}}if(-1===offset)throw new Error("No valid cmap sub-tables found.");const p=new src_parse.Parser(data,start+offset);if(cmap.format=p.parseUShort(),12===cmap.format)!function(cmap,p){let groupCount;p.parseUShort(),cmap.length=p.parseULong(),cmap.language=p.parseULong(),cmap.groupCount=groupCount=p.parseULong(),cmap.glyphIndexMap={};for(let i=0;i<groupCount;i+=1){const startCharCode=p.parseULong(),endCharCode=p.parseULong();let startGlyphId=p.parseULong();for(let c=startCharCode;c<=endCharCode;c+=1)cmap.glyphIndexMap[c]=startGlyphId,startGlyphId++}}(cmap,p);else{if(4!==cmap.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+cmap.format+").");!function(cmap,p,data,start,offset){let segCount;cmap.length=p.parseUShort(),cmap.language=p.parseUShort(),cmap.segCount=segCount=p.parseUShort()>>1,p.skip("uShort",3),cmap.glyphIndexMap={};const endCountParser=new src_parse.Parser(data,start+offset+14),startCountParser=new src_parse.Parser(data,start+offset+16+2*segCount),idDeltaParser=new src_parse.Parser(data,start+offset+16+4*segCount),idRangeOffsetParser=new src_parse.Parser(data,start+offset+16+6*segCount);let glyphIndexOffset=start+offset+16+8*segCount;for(let i=0;i<segCount-1;i+=1){let glyphIndex;const endCount=endCountParser.parseUShort(),startCount=startCountParser.parseUShort(),idDelta=idDeltaParser.parseShort(),idRangeOffset=idRangeOffsetParser.parseUShort();for(let c=startCount;c<=endCount;c+=1)0!==idRangeOffset?(glyphIndexOffset=idRangeOffsetParser.offset+idRangeOffsetParser.relativeOffset-2,glyphIndexOffset+=idRangeOffset,glyphIndexOffset+=2*(c-startCount),0!==(glyphIndex=src_parse.getUShort(data,glyphIndexOffset))&&(glyphIndex=glyphIndex+idDelta&65535)):glyphIndex=c+idDelta&65535,cmap.glyphIndexMap[c]=glyphIndex}}(cmap,p,data,start,offset)}return cmap},make:function(glyphs){let i,isPlan0Only=!0;for(i=glyphs.length-1;i>0;i-=1)if(glyphs.get(i).unicode>65535){console.log("Adding CMAP format 12 (needed!)"),isPlan0Only=!1;break}let cmapTable=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:isPlan0Only?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:isPlan0Only?12:20}];isPlan0Only||(cmapTable=cmapTable.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),cmapTable=cmapTable.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);const t=new src_table.Table("cmap",cmapTable);for(t.segments=[],i=0;i<glyphs.length;i+=1){const glyph=glyphs.get(i);for(let j=0;j<glyph.unicodes.length;j+=1)addSegment(t,glyph.unicodes[j],i);t.segments=t.segments.sort(function(a,b){return a.start-b.start})}!function(t){t.segments.push({end:65535,start:65535,delta:1,offset:0})}(t);const segCount=t.segments.length;let segCountToRemove=0,endCounts=[],startCounts=[],idDeltas=[],idRangeOffsets=[],glyphIds=[],cmap12Groups=[];for(i=0;i<segCount;i+=1){const segment=t.segments[i];segment.end<=65535&&segment.start<=65535?(endCounts=endCounts.concat({name:"end_"+i,type:"USHORT",value:segment.end}),startCounts=startCounts.concat({name:"start_"+i,type:"USHORT",value:segment.start}),idDeltas=idDeltas.concat({name:"idDelta_"+i,type:"SHORT",value:segment.delta}),idRangeOffsets=idRangeOffsets.concat({name:"idRangeOffset_"+i,type:"USHORT",value:segment.offset}),void 0!==segment.glyphId&&(glyphIds=glyphIds.concat({name:"glyph_"+i,type:"USHORT",value:segment.glyphId}))):segCountToRemove+=1,isPlan0Only||void 0===segment.glyphIndex||(cmap12Groups=(cmap12Groups=(cmap12Groups=cmap12Groups.concat({name:"cmap12Start_"+i,type:"ULONG",value:segment.start})).concat({name:"cmap12End_"+i,type:"ULONG",value:segment.end})).concat({name:"cmap12Glyph_"+i,type:"ULONG",value:segment.glyphIndex}))}if(t.segCountX2=2*(segCount-segCountToRemove),t.searchRange=2*Math.pow(2,Math.floor(Math.log(segCount-segCountToRemove)/Math.log(2))),t.entrySelector=Math.log(t.searchRange/2)/Math.log(2),t.rangeShift=t.segCountX2-t.searchRange,t.fields=t.fields.concat(endCounts),t.fields.push({name:"reservedPad",type:"USHORT",value:0}),t.fields=t.fields.concat(startCounts),t.fields=t.fields.concat(idDeltas),t.fields=t.fields.concat(idRangeOffsets),t.fields=t.fields.concat(glyphIds),t.cmap4Length=14+2*endCounts.length+2+2*startCounts.length+2*idDeltas.length+2*idRangeOffsets.length+2*glyphIds.length,!isPlan0Only){const cmap12Length=16+4*cmap12Groups.length;t.cmap12Offset=20+t.cmap4Length,t.fields=t.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:cmap12Length},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:cmap12Groups.length/3}]),t.fields=t.fields.concat(cmap12Groups)}return t}};const cffStandardStrings=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],cffStandardEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],cffExpertEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],standardNames=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function DefaultEncoding(font){this.font=font}function CmapEncoding(cmap){this.cmap=cmap}function CffEncoding(encoding,charset){this.encoding=encoding,this.charset=charset}function GlyphNames(post){switch(post.version){case 1:this.names=standardNames.slice();break;case 2:this.names=new Array(post.numberOfGlyphs);for(let i=0;i<post.numberOfGlyphs;i++)post.glyphNameIndex[i]<standardNames.length?this.names[i]=standardNames[post.glyphNameIndex[i]]:this.names[i]=post.names[post.glyphNameIndex[i]-standardNames.length];break;case 2.5:this.names=new Array(post.numberOfGlyphs);for(let i=0;i<post.numberOfGlyphs;i++)this.names[i]=standardNames[i+post.glyphNameIndex[i]];break;case 3:default:this.names=[]}}DefaultEncoding.prototype.charToGlyphIndex=function(c){const code=c.charCodeAt(0),glyphs=this.font.glyphs;if(glyphs)for(let i=0;i<glyphs.length;i+=1){const glyph=glyphs.get(i);for(let j=0;j<glyph.unicodes.length;j+=1)if(glyph.unicodes[j]===code)return i}return null},CmapEncoding.prototype.charToGlyphIndex=function(c){return this.cmap.glyphIndexMap[c.charCodeAt(0)]||0},CffEncoding.prototype.charToGlyphIndex=function(s){const code=s.charCodeAt(0),charName=this.encoding[code];return this.charset.indexOf(charName)},GlyphNames.prototype.nameToGlyphIndex=function(name){return this.names.indexOf(name)},GlyphNames.prototype.glyphIndexToName=function(gid){return this.names[gid]};var draw={line:function(ctx,x1,y1,x2,y2){ctx.beginPath(),ctx.moveTo(x1,y1),ctx.lineTo(x2,y2),ctx.stroke()}};function parseGlyphCoordinate(p,flag,previousValue,shortVectorBitMask,sameBitMask){let v;return(flag&shortVectorBitMask)>0?(v=p.parseByte(),0==(flag&sameBitMask)&&(v=-v),v=previousValue+v):v=(flag&sameBitMask)>0?previousValue:previousValue+p.parseShort(),v}function glyf_parseGlyph(glyph,data,start){const p=new src_parse.Parser(data,start);let flags,flag;if(glyph.numberOfContours=p.parseShort(),glyph._xMin=p.parseShort(),glyph._yMin=p.parseShort(),glyph._xMax=p.parseShort(),glyph._yMax=p.parseShort(),glyph.numberOfContours>0){const endPointIndices=glyph.endPointIndices=[];for(let i=0;i<glyph.numberOfContours;i+=1)endPointIndices.push(p.parseUShort());glyph.instructionLength=p.parseUShort(),glyph.instructions=[];for(let i=0;i<glyph.instructionLength;i+=1)glyph.instructions.push(p.parseByte());const numberOfCoordinates=endPointIndices[endPointIndices.length-1]+1;flags=[];for(let i=0;i<numberOfCoordinates;i+=1)if(flag=p.parseByte(),flags.push(flag),(8&flag)>0){const repeatCount=p.parseByte();for(let j=0;j<repeatCount;j+=1)flags.push(flag),i+=1}if(check.argument(flags.length===numberOfCoordinates,"Bad flags."),endPointIndices.length>0){const points=[];let point;if(numberOfCoordinates>0){for(let i=0;i<numberOfCoordinates;i+=1)flag=flags[i],(point={}).onCurve=!!(1&flag),point.lastPointOfContour=endPointIndices.indexOf(i)>=0,points.push(point);let px=0;for(let i=0;i<numberOfCoordinates;i+=1)flag=flags[i],(point=points[i]).x=parseGlyphCoordinate(p,flag,px,2,16),px=point.x;let py=0;for(let i=0;i<numberOfCoordinates;i+=1)flag=flags[i],(point=points[i]).y=parseGlyphCoordinate(p,flag,py,4,32),py=point.y}glyph.points=points}else glyph.points=[]}else if(0===glyph.numberOfContours)glyph.points=[];else{glyph.isComposite=!0,glyph.points=[],glyph.components=[];let moreComponents=!0;for(;moreComponents;){flags=p.parseUShort();const component={glyphIndex:p.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&flags)>0?(2&flags)>0?(component.dx=p.parseShort(),component.dy=p.parseShort()):component.matchedPoints=[p.parseUShort(),p.parseUShort()]:(2&flags)>0?(component.dx=p.parseChar(),component.dy=p.parseChar()):component.matchedPoints=[p.parseByte(),p.parseByte()],(8&flags)>0?component.xScale=component.yScale=p.parseF2Dot14():(64&flags)>0?(component.xScale=p.parseF2Dot14(),component.yScale=p.parseF2Dot14()):(128&flags)>0&&(component.xScale=p.parseF2Dot14(),component.scale01=p.parseF2Dot14(),component.scale10=p.parseF2Dot14(),component.yScale=p.parseF2Dot14()),glyph.components.push(component),moreComponents=!!(32&flags)}if(256&flags){glyph.instructionLength=p.parseUShort(),glyph.instructions=[];for(let i=0;i<glyph.instructionLength;i+=1)glyph.instructions.push(p.parseByte())}}}function transformPoints(points,transform){const newPoints=[];for(let i=0;i<points.length;i+=1){const pt=points[i],newPt={x:transform.xScale*pt.x+transform.scale01*pt.y+transform.dx,y:transform.scale10*pt.x+transform.yScale*pt.y+transform.dy,onCurve:pt.onCurve,lastPointOfContour:pt.lastPointOfContour};newPoints.push(newPt)}return newPoints}function getPath(points){const p=new src_path;if(!points)return p;const contours=function(points){const contours=[];let currentContour=[];for(let i=0;i<points.length;i+=1){const pt=points[i];currentContour.push(pt),pt.lastPointOfContour&&(contours.push(currentContour),currentContour=[])}return check.argument(0===currentContour.length,"There are still points left in the current contour."),contours}(points);for(let contourIndex=0;contourIndex<contours.length;++contourIndex){const contour=contours[contourIndex];let prev=null,curr=contour[contour.length-1],next=contour[0];if(curr.onCurve)p.moveTo(curr.x,curr.y);else if(next.onCurve)p.moveTo(next.x,next.y);else{const start={x:.5*(curr.x+next.x),y:.5*(curr.y+next.y)};p.moveTo(start.x,start.y)}for(let i=0;i<contour.length;++i)if(prev=curr,curr=next,next=contour[(i+1)%contour.length],curr.onCurve)p.lineTo(curr.x,curr.y);else{let prev2=prev,next2=next;prev.onCurve||(prev2={x:.5*(curr.x+prev.x),y:.5*(curr.y+prev.y)},p.lineTo(prev2.x,prev2.y)),next.onCurve||(next2={x:.5*(curr.x+next.x),y:.5*(curr.y+next.y)}),p.lineTo(prev2.x,prev2.y),p.quadraticCurveTo(curr.x,curr.y,next2.x,next2.y)}p.closePath()}return p}function glyf_buildPath(glyphs,glyph){if(glyph.isComposite)for(let j=0;j<glyph.components.length;j+=1){const component=glyph.components[j],componentGlyph=glyphs.get(component.glyphIndex);if(componentGlyph.getPath(),componentGlyph.points){let transformedPoints;if(void 0===component.matchedPoints)transformedPoints=transformPoints(componentGlyph.points,component);else{if(component.matchedPoints[0]>glyph.points.length-1||component.matchedPoints[1]>componentGlyph.points.length-1)throw Error("Matched points out of range in "+glyph.name);const firstPt=glyph.points[component.matchedPoints[0]];let secondPt=componentGlyph.points[component.matchedPoints[1]];const transform={xScale:component.xScale,scale01:component.scale01,scale10:component.scale10,yScale:component.yScale,dx:0,dy:0};secondPt=transformPoints([secondPt],transform)[0],transform.dx=firstPt.x-secondPt.x,transform.dy=firstPt.y-secondPt.y,transformedPoints=transformPoints(componentGlyph.points,transform)}glyph.points=glyph.points.concat(transformedPoints)}}return getPath(glyph.points)}var glyf={getPath:getPath,parse:function(data,start,loca,font){const glyphs=new glyphset.GlyphSet(font);for(let i=0;i<loca.length-1;i+=1){const offset=loca[i];offset!==loca[i+1]?glyphs.push(i,glyphset.ttfGlyphLoader(font,i,glyf_parseGlyph,data,start+offset,glyf_buildPath)):glyphs.push(i,glyphset.glyphLoader(font,i))}return glyphs}};function Glyph(options){this.bindConstructorValues(options)}Glyph.prototype.bindConstructorValues=function(options){this.index=options.index||0,this.name=options.name||null,this.unicode=options.unicode||void 0,this.unicodes=options.unicodes||void 0!==options.unicode?[options.unicode]:[],options.xMin&&(this.xMin=options.xMin),options.yMin&&(this.yMin=options.yMin),options.xMax&&(this.xMax=options.xMax),options.yMax&&(this.yMax=options.yMax),options.advanceWidth&&(this.advanceWidth=options.advanceWidth),Object.defineProperty(this,"path",function(glyph,path){let _path=path||new src_path;return{configurable:!0,get:function(){return"function"==typeof _path&&(_path=_path()),_path},set:function(p){_path=p}}}(0,options.path))},Glyph.prototype.addUnicode=function(unicode){0===this.unicodes.length&&(this.unicode=unicode),this.unicodes.push(unicode)},Glyph.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},Glyph.prototype.getPath=function(x,y,fontSize,options,font){let commands,hPoints;x=void 0!==x?x:0,y=void 0!==y?y:0,fontSize=void 0!==fontSize?fontSize:72,options||(options={});let xScale=options.xScale,yScale=options.yScale;if(options.hinting&&font&&font.hinting&&(hPoints=this.path&&font.hinting.exec(this,fontSize)),hPoints)commands=glyf.getPath(hPoints).commands,x=Math.round(x),y=Math.round(y),xScale=yScale=1;else{commands=this.path.commands;const scale=1/this.path.unitsPerEm*fontSize;void 0===xScale&&(xScale=scale),void 0===yScale&&(yScale=scale)}const p=new src_path;for(let i=0;i<commands.length;i+=1){const cmd=commands[i];"M"===cmd.type?p.moveTo(x+cmd.x*xScale,y+-cmd.y*yScale):"L"===cmd.type?p.lineTo(x+cmd.x*xScale,y+-cmd.y*yScale):"Q"===cmd.type?p.quadraticCurveTo(x+cmd.x1*xScale,y+-cmd.y1*yScale,x+cmd.x*xScale,y+-cmd.y*yScale):"C"===cmd.type?p.curveTo(x+cmd.x1*xScale,y+-cmd.y1*yScale,x+cmd.x2*xScale,y+-cmd.y2*yScale,x+cmd.x*xScale,y+-cmd.y*yScale):"Z"===cmd.type&&p.closePath()}return p},Glyph.prototype.getContours=function(){if(void 0===this.points)return[];const contours=[];let currentContour=[];for(let i=0;i<this.points.length;i+=1){const pt=this.points[i];currentContour.push(pt),pt.lastPointOfContour&&(contours.push(currentContour),currentContour=[])}return check.argument(0===currentContour.length,"There are still points left in the current contour."),contours},Glyph.prototype.getMetrics=function(){const commands=this.path.commands,xCoords=[],yCoords=[];for(let i=0;i<commands.length;i+=1){const cmd=commands[i];"Z"!==cmd.type&&(xCoords.push(cmd.x),yCoords.push(cmd.y)),"Q"!==cmd.type&&"C"!==cmd.type||(xCoords.push(cmd.x1),yCoords.push(cmd.y1)),"C"===cmd.type&&(xCoords.push(cmd.x2),yCoords.push(cmd.y2))}const metrics={xMin:Math.min.apply(null,xCoords),yMin:Math.min.apply(null,yCoords),xMax:Math.max.apply(null,xCoords),yMax:Math.max.apply(null,yCoords),leftSideBearing:this.leftSideBearing};return isFinite(metrics.xMin)||(metrics.xMin=0),isFinite(metrics.xMax)||(metrics.xMax=this.advanceWidth),isFinite(metrics.yMin)||(metrics.yMin=0),isFinite(metrics.yMax)||(metrics.yMax=0),metrics.rightSideBearing=this.advanceWidth-metrics.leftSideBearing-(metrics.xMax-metrics.xMin),metrics},Glyph.prototype.draw=function(ctx,x,y,fontSize,options){this.getPath(x,y,fontSize,options).draw(ctx)},Glyph.prototype.drawPoints=function(ctx,x,y,fontSize){function drawCircles(l,x,y,scale){const PI_SQ=2*Math.PI;ctx.beginPath();for(let j=0;j<l.length;j+=1)ctx.moveTo(x+l[j].x*scale,y+l[j].y*scale),ctx.arc(x+l[j].x*scale,y+l[j].y*scale,2,0,PI_SQ,!1);ctx.closePath(),ctx.fill()}x=void 0!==x?x:0,y=void 0!==y?y:0,fontSize=void 0!==fontSize?fontSize:24;const scale=1/this.path.unitsPerEm*fontSize,blueCircles=[],redCircles=[],path=this.path;for(let i=0;i<path.commands.length;i+=1){const cmd=path.commands[i];void 0!==cmd.x&&blueCircles.push({x:cmd.x,y:-cmd.y}),void 0!==cmd.x1&&redCircles.push({x:cmd.x1,y:-cmd.y1}),void 0!==cmd.x2&&redCircles.push({x:cmd.x2,y:-cmd.y2})}ctx.fillStyle="blue",drawCircles(blueCircles,x,y,scale),ctx.fillStyle="red",drawCircles(redCircles,x,y,scale)},Glyph.prototype.drawMetrics=function(ctx,x,y,fontSize){let scale;x=void 0!==x?x:0,y=void 0!==y?y:0,fontSize=void 0!==fontSize?fontSize:24,scale=1/this.path.unitsPerEm*fontSize,ctx.lineWidth=1,ctx.strokeStyle="black",draw.line(ctx,x,-1e4,x,1e4),draw.line(ctx,-1e4,y,1e4,y);const xMin=this.xMin||0;let yMin=this.yMin||0;const xMax=this.xMax||0;let yMax=this.yMax||0;const advanceWidth=this.advanceWidth||0;ctx.strokeStyle="blue",draw.line(ctx,x+xMin*scale,-1e4,x+xMin*scale,1e4),draw.line(ctx,x+xMax*scale,-1e4,x+xMax*scale,1e4),draw.line(ctx,-1e4,y+-yMin*scale,1e4,y+-yMin*scale),draw.line(ctx,-1e4,y+-yMax*scale,1e4,y+-yMax*scale),ctx.strokeStyle="green",draw.line(ctx,x+advanceWidth*scale,-1e4,x+advanceWidth*scale,1e4)};var src_glyph=Glyph;function defineDependentProperty(glyph,externalName,internalName){Object.defineProperty(glyph,externalName,{get:function(){return glyph.path,glyph[internalName]},set:function(newValue){glyph[internalName]=newValue},enumerable:!0,configurable:!0})}function GlyphSet(font,glyphs){if(this.font=font,this.glyphs={},Array.isArray(glyphs))for(let i=0;i<glyphs.length;i++)this.glyphs[i]=glyphs[i];this.length=glyphs&&glyphs.length||0}GlyphSet.prototype.get=function(index){return"function"==typeof this.glyphs[index]&&(this.glyphs[index]=this.glyphs[index]()),this.glyphs[index]},GlyphSet.prototype.push=function(index,loader){this.glyphs[index]=loader,this.length++};var glyphset={GlyphSet:GlyphSet,glyphLoader:function(font,index){return new src_glyph({index:index,font:font})},ttfGlyphLoader:function(font,index,parseGlyph,data,position,buildPath){return function(){const glyph=new src_glyph({index:index,font:font});return glyph.path=function(){parseGlyph(glyph,data,position);const path=buildPath(font.glyphs,glyph);return path.unitsPerEm=font.unitsPerEm,path},defineDependentProperty(glyph,"xMin","_xMin"),defineDependentProperty(glyph,"xMax","_xMax"),defineDependentProperty(glyph,"yMin","_yMin"),defineDependentProperty(glyph,"yMax","_yMax"),glyph}},cffGlyphLoader:function(font,index,parseCFFCharstring,charstring){return function(){const glyph=new src_glyph({index:index,font:font});return glyph.path=function(){const path=parseCFFCharstring(font,glyph,charstring);return path.unitsPerEm=font.unitsPerEm,path},glyph}}};function equals(a,b){if(a===b)return!0;if(Array.isArray(a)&&Array.isArray(b)){if(a.length!==b.length)return!1;for(let i=0;i<a.length;i+=1)if(!equals(a[i],b[i]))return!1;return!0}return!1}function calcCFFSubroutineBias(subrs){let bias;return bias=subrs.length<1240?107:subrs.length<33900?1131:32768}function parseCFFIndex(data,start,conversionFn){const offsets=[],objects=[],count=src_parse.getCard16(data,start);let objectOffset,endOffset;if(0!==count){const offsetSize=src_parse.getByte(data,start+2);objectOffset=start+(count+1)*offsetSize+2;let pos=start+3;for(let i=0;i<count+1;i+=1)offsets.push(src_parse.getOffset(data,pos,offsetSize)),pos+=offsetSize;endOffset=objectOffset+offsets[count]}else endOffset=start+2;for(let i=0;i<offsets.length-1;i+=1){let value=src_parse.getBytes(data,objectOffset+offsets[i],objectOffset+offsets[i+1]);conversionFn&&(value=conversionFn(value)),objects.push(value)}return{objects:objects,startOffset:start,endOffset:endOffset}}function parseOperand(parser,b0){let b1,b2,b3,b4;if(28===b0)return(b1=parser.parseByte())<<8|(b2=parser.parseByte());if(29===b0)return(b1=parser.parseByte())<<24|(b2=parser.parseByte())<<16|(b3=parser.parseByte())<<8|(b4=parser.parseByte());if(30===b0)return function(parser){let s="";const lookup=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];for(;;){const b=parser.parseByte(),n1=b>>4,n2=15&b;if(15===n1)break;if(s+=lookup[n1],15===n2)break;s+=lookup[n2]}return parseFloat(s)}(parser);if(b0>=32&&b0<=246)return b0-139;if(b0>=247&&b0<=250)return 256*(b0-247)+(b1=parser.parseByte())+108;if(b0>=251&&b0<=254)return 256*-(b0-251)-(b1=parser.parseByte())-108;throw new Error("Invalid b0 "+b0)}function parseCFFDict(data,start,size){start=void 0!==start?start:0;const parser=new src_parse.Parser(data,start),entries=[];let operands=[];for(size=void 0!==size?size:data.length;parser.relativeOffset<size;){let op=parser.parseByte();op<=21?(12===op&&(op=1200+parser.parseByte()),entries.push([op,operands]),operands=[]):operands.push(parseOperand(parser,op))}return function(entries){const o={};for(let i=0;i<entries.length;i+=1){const key=entries[i][0],values=entries[i][1];let value;if(value=1===values.length?values[0]:values,o.hasOwnProperty(key)&&!isNaN(o[key]))throw new Error("Object "+o+" already has key "+key);o[key]=value}return o}(entries)}function getCFFString(strings,index){return index=index<=390?cffStandardStrings[index]:strings[index-391]}function interpretDict(dict,meta,strings){const newDict={};let value;for(let i=0;i<meta.length;i+=1){const m=meta[i];if(Array.isArray(m.type)){const values=[];values.length=m.type.length;for(let j=0;j<m.type.length;j++)void 0===(value=void 0!==dict[m.op]?dict[m.op][j]:void 0)&&(value=void 0!==m.value&&void 0!==m.value[j]?m.value[j]:null),"SID"===m.type[j]&&(value=getCFFString(strings,value)),values[j]=value;newDict[m.name]=values}else void 0===(value=dict[m.op])&&(value=void 0!==m.value?m.value:null),"SID"===m.type&&(value=getCFFString(strings,value)),newDict[m.name]=value}return newDict}const TOP_DICT_META=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],PRIVATE_DICT_META=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function parseCFFTopDict(data,strings){return interpretDict(parseCFFDict(data,0,data.byteLength),TOP_DICT_META,strings)}function parseCFFPrivateDict(data,start,size,strings){return interpretDict(parseCFFDict(data,start,size),PRIVATE_DICT_META,strings)}function gatherCFFTopDicts(data,start,cffIndex,strings){const topDictArray=[];for(let iTopDict=0;iTopDict<cffIndex.length;iTopDict+=1){const topDict=parseCFFTopDict(new DataView(new Uint8Array(cffIndex[iTopDict]).buffer),strings);topDict._subrs=[],topDict._subrsBias=0;const privateSize=topDict.private[0],privateOffset=topDict.private[1];if(0!==privateSize&&0!==privateOffset){const privateDict=parseCFFPrivateDict(data,privateOffset+start,privateSize,strings);if(topDict._defaultWidthX=privateDict.defaultWidthX,topDict._nominalWidthX=privateDict.nominalWidthX,0!==privateDict.subrs){const subrIndex=parseCFFIndex(data,privateOffset+privateDict.subrs+start);topDict._subrs=subrIndex.objects,topDict._subrsBias=calcCFFSubroutineBias(topDict._subrs)}topDict._privateDict=privateDict}topDictArray.push(topDict)}return topDictArray}function cff_parseCFFCharstring(font,glyph,code){let c1x,c1y,c2x,c2y;const p=new src_path,stack=[];let subrs,subrsBias,defaultWidthX,nominalWidthX,nStems=0,haveWidth=!1,open=!1,x=0,y=0;if(font.isCIDFont){const fdIndex=font.tables.cff.topDict._fdSelect[glyph.index],fdDict=font.tables.cff.topDict._fdArray[fdIndex];subrs=fdDict._subrs,subrsBias=fdDict._subrsBias,defaultWidthX=fdDict._defaultWidthX,nominalWidthX=fdDict._nominalWidthX}else subrs=font.tables.cff.topDict._subrs,subrsBias=font.tables.cff.topDict._subrsBias,defaultWidthX=font.tables.cff.topDict._defaultWidthX,nominalWidthX=font.tables.cff.topDict._nominalWidthX;let width=defaultWidthX;function newContour(x,y){open&&p.closePath(),p.moveTo(x,y),open=!0}function parseStems(){let hasWidthArg;(hasWidthArg=stack.length%2!=0)&&!haveWidth&&(width=stack.shift()+nominalWidthX),nStems+=stack.length>>1,stack.length=0,haveWidth=!0}return function parse(code){let b1,b2,b3,b4,codeIndex,subrCode,jpx,jpy,c3x,c3y,c4x,c4y,i=0;for(;i<code.length;){let v=code[i];switch(i+=1,v){case 1:case 3:parseStems();break;case 4:stack.length>1&&!haveWidth&&(width=stack.shift()+nominalWidthX,haveWidth=!0),y+=stack.pop(),newContour(x,y);break;case 5:for(;stack.length>0;)x+=stack.shift(),y+=stack.shift(),p.lineTo(x,y);break;case 6:for(;stack.length>0&&(x+=stack.shift(),p.lineTo(x,y),0!==stack.length);)y+=stack.shift(),p.lineTo(x,y);break;case 7:for(;stack.length>0&&(y+=stack.shift(),p.lineTo(x,y),0!==stack.length);)x+=stack.shift(),p.lineTo(x,y);break;case 8:for(;stack.length>0;)c1x=x+stack.shift(),c1y=y+stack.shift(),c2x=c1x+stack.shift(),c2y=c1y+stack.shift(),x=c2x+stack.shift(),y=c2y+stack.shift(),p.curveTo(c1x,c1y,c2x,c2y,x,y);break;case 10:codeIndex=stack.pop()+subrsBias,(subrCode=subrs[codeIndex])&&parse(subrCode);break;case 11:return;case 12:switch(v=code[i],i+=1,v){case 35:c1x=x+stack.shift(),c1y=y+stack.shift(),c2x=c1x+stack.shift(),c2y=c1y+stack.shift(),jpx=c2x+stack.shift(),jpy=c2y+stack.shift(),c3x=jpx+stack.shift(),c3y=jpy+stack.shift(),c4x=c3x+stack.shift(),c4y=c3y+stack.shift(),x=c4x+stack.shift(),y=c4y+stack.shift(),stack.shift(),p.curveTo(c1x,c1y,c2x,c2y,jpx,jpy),p.curveTo(c3x,c3y,c4x,c4y,x,y);break;case 34:c1x=x+stack.shift(),c1y=y,c2x=c1x+stack.shift(),c2y=c1y+stack.shift(),jpx=c2x+stack.shift(),jpy=c2y,c3x=jpx+stack.shift(),c3y=c2y,c4x=c3x+stack.shift(),c4y=y,x=c4x+stack.shift(),p.curveTo(c1x,c1y,c2x,c2y,jpx,jpy),p.curveTo(c3x,c3y,c4x,c4y,x,y);break;case 36:c1x=x+stack.shift(),c1y=y+stack.shift(),c2x=c1x+stack.shift(),c2y=c1y+stack.shift(),jpx=c2x+stack.shift(),jpy=c2y,c3x=jpx+stack.shift(),c3y=c2y,c4x=c3x+stack.shift(),c4y=c3y+stack.shift(),x=c4x+stack.shift(),p.curveTo(c1x,c1y,c2x,c2y,jpx,jpy),p.curveTo(c3x,c3y,c4x,c4y,x,y);break;case 37:c1x=x+stack.shift(),c1y=y+stack.shift(),c2x=c1x+stack.shift(),c2y=c1y+stack.shift(),jpx=c2x+stack.shift(),jpy=c2y+stack.shift(),c3x=jpx+stack.shift(),c3y=jpy+stack.shift(),c4x=c3x+stack.shift(),c4y=c3y+stack.shift(),Math.abs(c4x-x)>Math.abs(c4y-y)?x=c4x+stack.shift():y=c4y+stack.shift(),p.curveTo(c1x,c1y,c2x,c2y,jpx,jpy),p.curveTo(c3x,c3y,c4x,c4y,x,y);break;default:console.log("Glyph "+glyph.index+": unknown operator 1200"+v),stack.length=0}break;case 14:stack.length>0&&!haveWidth&&(width=stack.shift()+nominalWidthX,haveWidth=!0),open&&(p.closePath(),open=!1);break;case 18:parseStems();break;case 19:case 20:parseStems(),i+=nStems+7>>3;break;case 21:stack.length>2&&!haveWidth&&(width=stack.shift()+nominalWidthX,haveWidth=!0),y+=stack.pop(),newContour(x+=stack.pop(),y);break;case 22:stack.length>1&&!haveWidth&&(width=stack.shift()+nominalWidthX,haveWidth=!0),newContour(x+=stack.pop(),y);break;case 23:parseStems();break;case 24:for(;stack.length>2;)c1x=x+stack.shift(),c1y=y+stack.shift(),c2x=c1x+stack.shift(),c2y=c1y+stack.shift(),x=c2x+stack.shift(),y=c2y+stack.shift(),p.curveTo(c1x,c1y,c2x,c2y,x,y);x+=stack.shift(),y+=stack.shift(),p.lineTo(x,y);break;case 25:for(;stack.length>6;)x+=stack.shift(),y+=stack.shift(),p.lineTo(x,y);c1x=x+stack.shift(),c1y=y+stack.shift(),c2x=c1x+stack.shift(),c2y=c1y+stack.shift(),x=c2x+stack.shift(),y=c2y+stack.shift(),p.curveTo(c1x,c1y,c2x,c2y,x,y);break;case 26:for(stack.length%2&&(x+=stack.shift());stack.length>0;)c1x=x,c1y=y+stack.shift(),c2x=c1x+stack.shift(),c2y=c1y+stack.shift(),x=c2x,y=c2y+stack.shift(),p.curveTo(c1x,c1y,c2x,c2y,x,y);break;case 27:for(stack.length%2&&(y+=stack.shift());stack.length>0;)c1x=x+stack.shift(),c1y=y,c2x=c1x+stack.shift(),c2y=c1y+stack.shift(),x=c2x+stack.shift(),y=c2y,p.curveTo(c1x,c1y,c2x,c2y,x,y);break;case 28:b1=code[i],b2=code[i+1],stack.push((b1<<24|b2<<16)>>16),i+=2;break;case 29:codeIndex=stack.pop()+font.gsubrsBias,(subrCode=font.gsubrs[codeIndex])&&parse(subrCode);break;case 30:for(;stack.length>0&&(c1x=x,c1y=y+stack.shift(),c2x=c1x+stack.shift(),c2y=c1y+stack.shift(),x=c2x+stack.shift(),y=c2y+(1===stack.length?stack.shift():0),p.curveTo(c1x,c1y,c2x,c2y,x,y),0!==stack.length);)c1x=x+stack.shift(),c1y=y,c2x=c1x+stack.shift(),c2y=c1y+stack.shift(),y=c2y+stack.shift(),x=c2x+(1===stack.length?stack.shift():0),p.curveTo(c1x,c1y,c2x,c2y,x,y);break;case 31:for(;stack.length>0&&(c1x=x+stack.shift(),c1y=y,c2x=c1x+stack.shift(),c2y=c1y+stack.shift(),y=c2y+stack.shift(),x=c2x+(1===stack.length?stack.shift():0),p.curveTo(c1x,c1y,c2x,c2y,x,y),0!==stack.length);)c1x=x,c1y=y+stack.shift(),c2x=c1x+stack.shift(),c2y=c1y+stack.shift(),x=c2x+stack.shift(),y=c2y+(1===stack.length?stack.shift():0),p.curveTo(c1x,c1y,c2x,c2y,x,y);break;default:v<32?console.log("Glyph "+glyph.index+": unknown operator "+v):v<247?stack.push(v-139):v<251?(b1=code[i],i+=1,stack.push(256*(v-247)+b1+108)):v<255?(b1=code[i],i+=1,stack.push(256*-(v-251)-b1-108)):(b1=code[i],b2=code[i+1],b3=code[i+2],b4=code[i+3],i+=4,stack.push((b1<<24|b2<<16|b3<<8|b4)/65536))}}}(code),glyph.advanceWidth=width,p}function encodeString(s,strings){let sid,i=cffStandardStrings.indexOf(s);return i>=0&&(sid=i),(i=strings.indexOf(s))>=0?sid=i+cffStandardStrings.length:(sid=cffStandardStrings.length+strings.length,strings.push(s)),sid}function makeDict(meta,attrs,strings){const m={};for(let i=0;i<meta.length;i+=1){const entry=meta[i];let value=attrs[entry.name];void 0===value||equals(value,entry.value)||("SID"===entry.type&&(value=encodeString(value,strings)),m[entry.op]={name:entry.name,type:entry.type,value:value})}return m}function makeTopDict(attrs,strings){const t=new src_table.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return t.dict=makeDict(TOP_DICT_META,attrs,strings),t}function makeTopDictIndex(topDict){const t=new src_table.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:topDict}],t}function glyphToOps(glyph){const ops=[],path=glyph.path;ops.push({name:"width",type:"NUMBER",value:glyph.advanceWidth});let x=0,y=0;for(let i=0;i<path.commands.length;i+=1){let dx,dy,cmd=path.commands[i];if("Q"===cmd.type){const _13=1/3,_23=2/3;cmd={type:"C",x:cmd.x,y:cmd.y,x1:_13*x+_23*cmd.x1,y1:_13*y+_23*cmd.y1,x2:_13*cmd.x+_23*cmd.x1,y2:_13*cmd.y+_23*cmd.y1}}if("M"===cmd.type)dx=Math.round(cmd.x-x),dy=Math.round(cmd.y-y),ops.push({name:"dx",type:"NUMBER",value:dx}),ops.push({name:"dy",type:"NUMBER",value:dy}),ops.push({name:"rmoveto",type:"OP",value:21}),x=Math.round(cmd.x),y=Math.round(cmd.y);else if("L"===cmd.type)dx=Math.round(cmd.x-x),dy=Math.round(cmd.y-y),ops.push({name:"dx",type:"NUMBER",value:dx}),ops.push({name:"dy",type:"NUMBER",value:dy}),ops.push({name:"rlineto",type:"OP",value:5}),x=Math.round(cmd.x),y=Math.round(cmd.y);else if("C"===cmd.type){const dx1=Math.round(cmd.x1-x),dy1=Math.round(cmd.y1-y),dx2=Math.round(cmd.x2-cmd.x1),dy2=Math.round(cmd.y2-cmd.y1);dx=Math.round(cmd.x-cmd.x2),dy=Math.round(cmd.y-cmd.y2),ops.push({name:"dx1",type:"NUMBER",value:dx1}),ops.push({name:"dy1",type:"NUMBER",value:dy1}),ops.push({name:"dx2",type:"NUMBER",value:dx2}),ops.push({name:"dy2",type:"NUMBER",value:dy2}),ops.push({name:"dx",type:"NUMBER",value:dx}),ops.push({name:"dy",type:"NUMBER",value:dy}),ops.push({name:"rrcurveto",type:"OP",value:8}),x=Math.round(cmd.x),y=Math.round(cmd.y)}}return ops.push({name:"endchar",type:"OP",value:14}),ops}var cff={parse:function(data,start,font){font.tables.cff={};const nameIndex=parseCFFIndex(data,function(data,start){const header={};return header.formatMajor=src_parse.getCard8(data,start),header.formatMinor=src_parse.getCard8(data,start+1),header.size=src_parse.getCard8(data,start+2),header.offsetSize=src_parse.getCard8(data,start+3),header.startOffset=start,header.endOffset=start+4,header}(data,start).endOffset,src_parse.bytesToString),topDictIndex=parseCFFIndex(data,nameIndex.endOffset),stringIndex=parseCFFIndex(data,topDictIndex.endOffset,src_parse.bytesToString),globalSubrIndex=parseCFFIndex(data,stringIndex.endOffset);font.gsubrs=globalSubrIndex.objects,font.gsubrsBias=calcCFFSubroutineBias(font.gsubrs);const topDictArray=gatherCFFTopDicts(data,start,topDictIndex.objects,stringIndex.objects);if(1!==topDictArray.length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+topDictArray.length);const topDict=topDictArray[0];if(font.tables.cff.topDict=topDict,topDict._privateDict&&(font.defaultWidthX=topDict._privateDict.defaultWidthX,font.nominalWidthX=topDict._privateDict.nominalWidthX),void 0!==topDict.ros[0]&&void 0!==topDict.ros[1]&&(font.isCIDFont=!0),font.isCIDFont){let fdArrayOffset=topDict.fdArray,fdSelectOffset=topDict.fdSelect;if(0===fdArrayOffset||0===fdSelectOffset)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");const fdArray=gatherCFFTopDicts(data,start,parseCFFIndex(data,fdArrayOffset+=start).objects,stringIndex.objects);topDict._fdArray=fdArray,fdSelectOffset+=start,topDict._fdSelect=function(data,start,nGlyphs,fdArrayCount){const fdSelect=[];let fdIndex;const parser=new src_parse.Parser(data,start),format=parser.parseCard8();if(0===format)for(let iGid=0;iGid<nGlyphs;iGid++){if((fdIndex=parser.parseCard8())>=fdArrayCount)throw new Error("CFF table CID Font FDSelect has bad FD index value "+fdIndex+" (FD count "+fdArrayCount+")");fdSelect.push(fdIndex)}else{if(3!==format)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+format);{const nRanges=parser.parseCard16();let next,first=parser.parseCard16();if(0!==first)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+first);for(let iRange=0;iRange<nRanges;iRange++){if(fdIndex=parser.parseCard8(),next=parser.parseCard16(),fdIndex>=fdArrayCount)throw new Error("CFF table CID Font FDSelect has bad FD index value "+fdIndex+" (FD count "+fdArrayCount+")");if(next>nGlyphs)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+next);for(;first<next;first++)fdSelect.push(fdIndex);first=next}if(next!==nGlyphs)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+next)}}return fdSelect}(data,fdSelectOffset,font.numGlyphs,fdArray.length)}const privateDictOffset=start+topDict.private[1],privateDict=parseCFFPrivateDict(data,privateDictOffset,topDict.private[0],stringIndex.objects);if(font.defaultWidthX=privateDict.defaultWidthX,font.nominalWidthX=privateDict.nominalWidthX,0!==privateDict.subrs){const subrIndex=parseCFFIndex(data,privateDictOffset+privateDict.subrs);font.subrs=subrIndex.objects,font.subrsBias=calcCFFSubroutineBias(font.subrs)}else font.subrs=[],font.subrsBias=0;const charStringsIndex=parseCFFIndex(data,start+topDict.charStrings);font.nGlyphs=charStringsIndex.objects.length;const charset=function(data,start,nGlyphs,strings){let sid,count;const parser=new src_parse.Parser(data,start);nGlyphs-=1;const charset=[".notdef"],format=parser.parseCard8();if(0===format)for(let i=0;i<nGlyphs;i+=1)sid=parser.parseSID(),charset.push(getCFFString(strings,sid));else if(1===format)for(;charset.length<=nGlyphs;){sid=parser.parseSID(),count=parser.parseCard8();for(let i=0;i<=count;i+=1)charset.push(getCFFString(strings,sid)),sid+=1}else{if(2!==format)throw new Error("Unknown charset format "+format);for(;charset.length<=nGlyphs;){sid=parser.parseSID(),count=parser.parseCard16();for(let i=0;i<=count;i+=1)charset.push(getCFFString(strings,sid)),sid+=1}}return charset}(data,start+topDict.charset,font.nGlyphs,stringIndex.objects);0===topDict.encoding?font.cffEncoding=new CffEncoding(cffStandardEncoding,charset):1===topDict.encoding?font.cffEncoding=new CffEncoding(cffExpertEncoding,charset):font.cffEncoding=function(data,start,charset){let code;const enc={},parser=new src_parse.Parser(data,start),format=parser.parseCard8();if(0===format){const nCodes=parser.parseCard8();for(let i=0;i<nCodes;i+=1)enc[code=parser.parseCard8()]=i}else{if(1!==format)throw new Error("Unknown encoding format "+format);{const nRanges=parser.parseCard8();code=1;for(let i=0;i<nRanges;i+=1){const first=parser.parseCard8(),nLeft=parser.parseCard8();for(let j=first;j<=first+nLeft;j+=1)enc[j]=code,code+=1}}}return new CffEncoding(enc,charset)}(data,start+topDict.encoding,charset),font.encoding=font.encoding||font.cffEncoding,font.glyphs=new glyphset.GlyphSet(font);for(let i=0;i<font.nGlyphs;i+=1){const charString=charStringsIndex.objects[i];font.glyphs.push(i,glyphset.cffGlyphLoader(font,i,cff_parseCFFCharstring,charString))}},make:function(glyphs,options){const t=new src_table.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),fontScale=1/options.unitsPerEm,attrs={version:options.version,fullName:options.fullName,familyName:options.familyName,weight:options.weightName,fontBBox:options.fontBBox||[0,0,0,0],fontMatrix:[fontScale,0,0,fontScale,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},glyphNames=[];let glyph;for(let i=1;i<glyphs.length;i+=1)glyph=glyphs.get(i),glyphNames.push(glyph.name);const strings=[];t.header=new src_table.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),t.nameIndex=function(fontNames){const t=new src_table.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(let i=0;i<fontNames.length;i+=1)t.names.push({name:"name_"+i,type:"NAME",value:fontNames[i]});return t}([options.postScriptName]);let topDict=makeTopDict(attrs,strings);t.topDictIndex=makeTopDictIndex(topDict),t.globalSubrIndex=new src_table.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),t.charsets=function(glyphNames,strings){const t=new src_table.Record("Charsets",[{name:"format",type:"Card8",value:0}]);for(let i=0;i<glyphNames.length;i+=1){const glyphSID=encodeString(glyphNames[i],strings);t.fields.push({name:"glyph_"+i,type:"SID",value:glyphSID})}return t}(glyphNames,strings),t.charStringsIndex=function(glyphs){const t=new src_table.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]);for(let i=0;i<glyphs.length;i+=1){const glyph=glyphs.get(i),ops=glyphToOps(glyph);t.charStrings.push({name:glyph.name,type:"CHARSTRING",value:ops})}return t}(glyphs),t.privateDict=function(attrs,strings){const t=new src_table.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return t.dict=makeDict(PRIVATE_DICT_META,attrs,strings),t}({},strings),t.stringIndex=function(strings){const t=new src_table.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(let i=0;i<strings.length;i+=1)t.strings.push({name:"string_"+i,type:"STRING",value:strings[i]});return t}(strings);const startOffset=t.header.sizeOf()+t.nameIndex.sizeOf()+t.topDictIndex.sizeOf()+t.stringIndex.sizeOf()+t.globalSubrIndex.sizeOf();return attrs.charset=startOffset,attrs.encoding=0,attrs.charStrings=attrs.charset+t.charsets.sizeOf(),attrs.private[1]=attrs.charStrings+t.charStringsIndex.sizeOf(),topDict=makeTopDict(attrs,strings),t.topDictIndex=makeTopDictIndex(topDict),t}};var tables_head={parse:function(data,start){const head={},p=new src_parse.Parser(data,start);return head.version=p.parseVersion(),head.fontRevision=Math.round(1e3*p.parseFixed())/1e3,head.checkSumAdjustment=p.parseULong(),head.magicNumber=p.parseULong(),check.argument(1594834165===head.magicNumber,"Font header has wrong magic number."),head.flags=p.parseUShort(),head.unitsPerEm=p.parseUShort(),head.created=p.parseLongDateTime(),head.modified=p.parseLongDateTime(),head.xMin=p.parseShort(),head.yMin=p.parseShort(),head.xMax=p.parseShort(),head.yMax=p.parseShort(),head.macStyle=p.parseUShort(),head.lowestRecPPEM=p.parseUShort(),head.fontDirectionHint=p.parseShort(),head.indexToLocFormat=p.parseShort(),head.glyphDataFormat=p.parseShort(),head},make:function(options){const timestamp=Math.round((new Date).getTime()/1e3)+2082844800;let createdTimestamp=timestamp;return options.createdTimestamp&&(createdTimestamp=options.createdTimestamp+2082844800),new src_table.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:createdTimestamp},{name:"modified",type:"LONGDATETIME",value:timestamp},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],options)}};var tables_hhea={parse:function(data,start){const hhea={},p=new src_parse.Parser(data,start);return hhea.version=p.parseVersion(),hhea.ascender=p.parseShort(),hhea.descender=p.parseShort(),hhea.lineGap=p.parseShort(),hhea.advanceWidthMax=p.parseUShort(),hhea.minLeftSideBearing=p.parseShort(),hhea.minRightSideBearing=p.parseShort(),hhea.xMaxExtent=p.parseShort(),hhea.caretSlopeRise=p.parseShort(),hhea.caretSlopeRun=p.parseShort(),hhea.caretOffset=p.parseShort(),p.relativeOffset+=8,hhea.metricDataFormat=p.parseShort(),hhea.numberOfHMetrics=p.parseUShort(),hhea},make:function(options){return new src_table.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],options)}};var hmtx={parse:function(data,start,numMetrics,numGlyphs,glyphs){let advanceWidth,leftSideBearing;const p=new src_parse.Parser(data,start);for(let i=0;i<numGlyphs;i+=1){i<numMetrics&&(advanceWidth=p.parseUShort(),leftSideBearing=p.parseShort());const glyph=glyphs.get(i);glyph.advanceWidth=advanceWidth,glyph.leftSideBearing=leftSideBearing}},make:function(glyphs){const t=new src_table.Table("hmtx",[]);for(let i=0;i<glyphs.length;i+=1){const glyph=glyphs.get(i),advanceWidth=glyph.advanceWidth||0,leftSideBearing=glyph.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+i,type:"USHORT",value:advanceWidth}),t.fields.push({name:"leftSideBearing_"+i,type:"SHORT",value:leftSideBearing})}return t}};var tables_ltag={make:function(tags){const result=new src_table.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:tags.length}]);let stringPool="";const stringPoolOffset=12+4*tags.length;for(let i=0;i<tags.length;++i){let pos=stringPool.indexOf(tags[i]);pos<0&&(pos=stringPool.length,stringPool+=tags[i]),result.fields.push({name:"offset "+i,type:"USHORT",value:stringPoolOffset+pos}),result.fields.push({name:"length "+i,type:"USHORT",value:tags[i].length})}return result.fields.push({name:"stringPool",type:"CHARARRAY",value:stringPool}),result},parse:function(data,start){const p=new src_parse.Parser(data,start),tableVersion=p.parseULong();check.argument(1===tableVersion,"Unsupported ltag table version."),p.skip("uLong",1);const numTags=p.parseULong(),tags=[];for(let i=0;i<numTags;i++){let tag="";const offset=start+p.parseUShort(),length=p.parseUShort();for(let j=offset;j<offset+length;++j)tag+=String.fromCharCode(data.getInt8(j));tags.push(tag)}return tags}};var tables_maxp={parse:function(data,start){const maxp={},p=new src_parse.Parser(data,start);return maxp.version=p.parseVersion(),maxp.numGlyphs=p.parseUShort(),1===maxp.version&&(maxp.maxPoints=p.parseUShort(),maxp.maxContours=p.parseUShort(),maxp.maxCompositePoints=p.parseUShort(),maxp.maxCompositeContours=p.parseUShort(),maxp.maxZones=p.parseUShort(),maxp.maxTwilightPoints=p.parseUShort(),maxp.maxStorage=p.parseUShort(),maxp.maxFunctionDefs=p.parseUShort(),maxp.maxInstructionDefs=p.parseUShort(),maxp.maxStackElements=p.parseUShort(),maxp.maxSizeOfInstructions=p.parseUShort(),maxp.maxComponentElements=p.parseUShort(),maxp.maxComponentDepth=p.parseUShort()),maxp},make:function(numGlyphs){return new src_table.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:numGlyphs}])}};const nameTableNames=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],macLanguages={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},macLanguageToScript={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},windowsLanguages={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function getLanguageCode(platformID,languageID,ltag){switch(platformID){case 0:if(65535===languageID)return"und";if(ltag)return ltag[languageID];break;case 1:return macLanguages[languageID];case 3:return windowsLanguages[languageID]}}const utf16="utf-16",macScriptEncodings={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},macLanguageEncodings={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function getEncoding(platformID,encodingID,languageID){switch(platformID){case 0:return utf16;case 1:return macLanguageEncodings[languageID]||macScriptEncodings[encodingID];case 3:if(1===encodingID||10===encodingID)return utf16}}function reverseDict(dict){const result={};for(let key in dict)result[dict[key]]=parseInt(key);return result}function makeNameRecord(platformID,encodingID,languageID,nameID,length,offset){return new src_table.Record("NameRecord",[{name:"platformID",type:"USHORT",value:platformID},{name:"encodingID",type:"USHORT",value:encodingID},{name:"languageID",type:"USHORT",value:languageID},{name:"nameID",type:"USHORT",value:nameID},{name:"length",type:"USHORT",value:length},{name:"offset",type:"USHORT",value:offset}])}function addStringToPool(s,pool){let offset=function(needle,haystack){const needleLength=needle.length,limit=haystack.length-needleLength+1;loop:for(let pos=0;pos<limit;pos++)for(;pos<limit;pos++){for(let k=0;k<needleLength;k++)if(haystack[pos+k]!==needle[k])continue loop;return pos}return-1}(s,pool);if(offset<0){offset=pool.length;let i=0;const len=s.length;for(;i<len;++i)pool.push(s[i])}return offset}var tables_name={parse:function(data,start,ltag){const name={},p=new src_parse.Parser(data,start),format=p.parseUShort(),count=p.parseUShort(),stringOffset=p.offset+p.parseUShort();for(let i=0;i<count;i++){const platformID=p.parseUShort(),encodingID=p.parseUShort(),languageID=p.parseUShort(),nameID=p.parseUShort(),property=nameTableNames[nameID]||nameID,byteLength=p.parseUShort(),offset=p.parseUShort(),language=getLanguageCode(platformID,languageID,ltag),encoding=getEncoding(platformID,encodingID,languageID);if(void 0!==encoding&&void 0!==language){let text;if(text=encoding===utf16?decode.UTF16(data,stringOffset+offset,byteLength):decode.MACSTRING(data,stringOffset+offset,byteLength,encoding)){let translations=name[property];void 0===translations&&(translations=name[property]={}),translations[language]=text}}}let langTagCount=0;return 1===format&&(langTagCount=p.parseUShort()),name},make:function(names,ltag){let nameID;const nameIDs=[],namesWithNumericKeys={},nameTableIds=reverseDict(nameTableNames);for(let key in names){let id=nameTableIds[key];if(void 0===id&&(id=key),nameID=parseInt(id),isNaN(nameID))throw new Error('Name table entry "'+key+'" does not exist, see nameTableNames for complete list.');namesWithNumericKeys[nameID]=names[key],nameIDs.push(nameID)}const macLanguageIds=reverseDict(macLanguages),windowsLanguageIds=reverseDict(windowsLanguages),nameRecords=[],stringPool=[];for(let i=0;i<nameIDs.length;i++){const translations=namesWithNumericKeys[nameID=nameIDs[i]];for(let lang in translations){const text=translations[lang];let macPlatform=1,macLanguage=macLanguageIds[lang],macScript=macLanguageToScript[macLanguage];const macEncoding=getEncoding(macPlatform,macScript,macLanguage);let macName=encode.MACSTRING(text,macEncoding);void 0===macName&&(macPlatform=0,(macLanguage=ltag.indexOf(lang))<0&&(macLanguage=ltag.length,ltag.push(lang)),macScript=4,macName=encode.UTF16(text));const macNameOffset=addStringToPool(macName,stringPool);nameRecords.push(makeNameRecord(macPlatform,macScript,macLanguage,nameID,macName.length,macNameOffset));const winLanguage=windowsLanguageIds[lang];if(void 0!==winLanguage){const winName=encode.UTF16(text),winNameOffset=addStringToPool(winName,stringPool);nameRecords.push(makeNameRecord(3,1,winLanguage,nameID,winName.length,winNameOffset))}}}nameRecords.sort(function(a,b){return a.platformID-b.platformID||a.encodingID-b.encodingID||a.languageID-b.languageID||a.nameID-b.nameID});const t=new src_table.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:nameRecords.length},{name:"stringOffset",type:"USHORT",value:6+12*nameRecords.length}]);for(let r=0;r<nameRecords.length;r++)t.fields.push({name:"record_"+r,type:"RECORD",value:nameRecords[r]});return t.fields.push({name:"strings",type:"LITERAL",value:stringPool}),t}};const unicodeRanges=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];var tables_os2={parse:function(data,start){const os2={},p=new src_parse.Parser(data,start);os2.version=p.parseUShort(),os2.xAvgCharWidth=p.parseShort(),os2.usWeightClass=p.parseUShort(),os2.usWidthClass=p.parseUShort(),os2.fsType=p.parseUShort(),os2.ySubscriptXSize=p.parseShort(),os2.ySubscriptYSize=p.parseShort(),os2.ySubscriptXOffset=p.parseShort(),os2.ySubscriptYOffset=p.parseShort(),os2.ySuperscriptXSize=p.parseShort(),os2.ySuperscriptYSize=p.parseShort(),os2.ySuperscriptXOffset=p.parseShort(),os2.ySuperscriptYOffset=p.parseShort(),os2.yStrikeoutSize=p.parseShort(),os2.yStrikeoutPosition=p.parseShort(),os2.sFamilyClass=p.parseShort(),os2.panose=[];for(let i=0;i<10;i++)os2.panose[i]=p.parseByte();return os2.ulUnicodeRange1=p.parseULong(),os2.ulUnicodeRange2=p.parseULong(),os2.ulUnicodeRange3=p.parseULong(),os2.ulUnicodeRange4=p.parseULong(),os2.achVendID=String.fromCharCode(p.parseByte(),p.parseByte(),p.parseByte(),p.parseByte()),os2.fsSelection=p.parseUShort(),os2.usFirstCharIndex=p.parseUShort(),os2.usLastCharIndex=p.parseUShort(),os2.sTypoAscender=p.parseShort(),os2.sTypoDescender=p.parseShort(),os2.sTypoLineGap=p.parseShort(),os2.usWinAscent=p.parseUShort(),os2.usWinDescent=p.parseUShort(),os2.version>=1&&(os2.ulCodePageRange1=p.parseULong(),os2.ulCodePageRange2=p.parseULong()),os2.version>=2&&(os2.sxHeight=p.parseShort(),os2.sCapHeight=p.parseShort(),os2.usDefaultChar=p.parseUShort(),os2.usBreakChar=p.parseUShort(),os2.usMaxContent=p.parseUShort()),os2},make:function(options){return new src_table.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],options)},unicodeRanges:unicodeRanges,getUnicodeRange:function(unicode){for(let i=0;i<unicodeRanges.length;i+=1){const range=unicodeRanges[i];if(unicode>=range.begin&&unicode<range.end)return i}return-1}};var tables_post={parse:function(data,start){const post={},p=new src_parse.Parser(data,start);switch(post.version=p.parseVersion(),post.italicAngle=p.parseFixed(),post.underlinePosition=p.parseShort(),post.underlineThickness=p.parseShort(),post.isFixedPitch=p.parseULong(),post.minMemType42=p.parseULong(),post.maxMemType42=p.parseULong(),post.minMemType1=p.parseULong(),post.maxMemType1=p.parseULong(),post.version){case 1:post.names=standardNames.slice();break;case 2:post.numberOfGlyphs=p.parseUShort(),post.glyphNameIndex=new Array(post.numberOfGlyphs);for(let i=0;i<post.numberOfGlyphs;i++)post.glyphNameIndex[i]=p.parseUShort();post.names=[];for(let i=0;i<post.numberOfGlyphs;i++)if(post.glyphNameIndex[i]>=standardNames.length){const nameLength=p.parseChar();post.names.push(p.parseString(nameLength))}break;case 2.5:post.numberOfGlyphs=p.parseUShort(),post.offset=new Array(post.numberOfGlyphs);for(let i=0;i<post.numberOfGlyphs;i++)post.offset[i]=p.parseChar()}return post},make:function(){return new src_table.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}};const subtableParsers=new Array(9);subtableParsers[1]=function(){const start=this.offset+this.relativeOffset,substFormat=this.parseUShort();return 1===substFormat?{substFormat:1,coverage:this.parsePointer(Parser.coverage),deltaGlyphId:this.parseUShort()}:2===substFormat?{substFormat:2,coverage:this.parsePointer(Parser.coverage),substitute:this.parseOffset16List()}:void check.assert(!1,"0x"+start.toString(16)+": lookup type 1 format must be 1 or 2.")},subtableParsers[2]=function(){const substFormat=this.parseUShort();return check.argument(1===substFormat,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:substFormat,coverage:this.parsePointer(Parser.coverage),sequences:this.parseListOfLists()}},subtableParsers[3]=function(){const substFormat=this.parseUShort();return check.argument(1===substFormat,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:substFormat,coverage:this.parsePointer(Parser.coverage),alternateSets:this.parseListOfLists()}},subtableParsers[4]=function(){const substFormat=this.parseUShort();return check.argument(1===substFormat,"GSUB ligature table identifier-format must be 1"),{substFormat:substFormat,coverage:this.parsePointer(Parser.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};const lookupRecordDesc={sequenceIndex:Parser.uShort,lookupListIndex:Parser.uShort};subtableParsers[5]=function(){const start=this.offset+this.relativeOffset,substFormat=this.parseUShort();if(1===substFormat)return{substFormat:substFormat,coverage:this.parsePointer(Parser.coverage),ruleSets:this.parseListOfLists(function(){const glyphCount=this.parseUShort(),substCount=this.parseUShort();return{input:this.parseUShortList(glyphCount-1),lookupRecords:this.parseRecordList(substCount,lookupRecordDesc)}})};if(2===substFormat)return{substFormat:substFormat,coverage:this.parsePointer(Parser.coverage),classDef:this.parsePointer(Parser.classDef),classSets:this.parseListOfLists(function(){const glyphCount=this.parseUShort(),substCount=this.parseUShort();return{classes:this.parseUShortList(glyphCount-1),lookupRecords:this.parseRecordList(substCount,lookupRecordDesc)}})};if(3===substFormat){const glyphCount=this.parseUShort(),substCount=this.parseUShort();return{substFormat:substFormat,coverages:this.parseList(glyphCount,Parser.pointer(Parser.coverage)),lookupRecords:this.parseRecordList(substCount,lookupRecordDesc)}}check.assert(!1,"0x"+start.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},subtableParsers[6]=function(){const start=this.offset+this.relativeOffset,substFormat=this.parseUShort();return 1===substFormat?{substFormat:1,coverage:this.parsePointer(Parser.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(lookupRecordDesc)}})}:2===substFormat?{substFormat:2,coverage:this.parsePointer(Parser.coverage),backtrackClassDef:this.parsePointer(Parser.classDef),inputClassDef:this.parsePointer(Parser.classDef),lookaheadClassDef:this.parsePointer(Parser.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(lookupRecordDesc)}})}:3===substFormat?{substFormat:3,backtrackCoverage:this.parseList(Parser.pointer(Parser.coverage)),inputCoverage:this.parseList(Parser.pointer(Parser.coverage)),lookaheadCoverage:this.parseList(Parser.pointer(Parser.coverage)),lookupRecords:this.parseRecordList(lookupRecordDesc)}:void check.assert(!1,"0x"+start.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},subtableParsers[7]=function(){const substFormat=this.parseUShort();check.argument(1===substFormat,"GSUB Extension Substitution subtable identifier-format must be 1");const extensionLookupType=this.parseUShort(),extensionParser=new Parser(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:extensionLookupType,extension:subtableParsers[extensionLookupType].call(extensionParser)}},subtableParsers[8]=function(){const substFormat=this.parseUShort();return check.argument(1===substFormat,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:substFormat,coverage:this.parsePointer(Parser.coverage),backtrackCoverage:this.parseList(Parser.pointer(Parser.coverage)),lookaheadCoverage:this.parseList(Parser.pointer(Parser.coverage)),substitutes:this.parseUShortList()}};const gsub_subtableMakers=new Array(9);gsub_subtableMakers[1]=function(subtable){return 1===subtable.substFormat?new src_table.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new src_table.Coverage(subtable.coverage)},{name:"deltaGlyphID",type:"USHORT",value:subtable.deltaGlyphId}]):new src_table.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new src_table.Coverage(subtable.coverage)}].concat(src_table.ushortList("substitute",subtable.substitute)))},gsub_subtableMakers[3]=function(subtable){return check.assert(1===subtable.substFormat,"Lookup type 3 substFormat must be 1."),new src_table.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new src_table.Coverage(subtable.coverage)}].concat(src_table.tableList("altSet",subtable.alternateSets,function(alternateSet){return new src_table.Table("alternateSetTable",src_table.ushortList("alternate",alternateSet))})))},gsub_subtableMakers[4]=function(subtable){return check.assert(1===subtable.substFormat,"Lookup type 4 substFormat must be 1."),new src_table.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new src_table.Coverage(subtable.coverage)}].concat(src_table.tableList("ligSet",subtable.ligatureSets,function(ligatureSet){return new src_table.Table("ligatureSetTable",src_table.tableList("ligature",ligatureSet,function(ligature){return new src_table.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:ligature.ligGlyph}].concat(src_table.ushortList("component",ligature.components,ligature.components.length+1)))}))})))};var tables_gsub={parse:function(data,start){const p=new Parser(data,start=start||0),tableVersion=p.parseVersion(1);return check.argument(1===tableVersion||1.1===tableVersion,"Unsupported GSUB table version."),1===tableVersion?{version:tableVersion,scripts:p.parseScriptList(),features:p.parseFeatureList(),lookups:p.parseLookupList(subtableParsers)}:{version:tableVersion,scripts:p.parseScriptList(),features:p.parseFeatureList(),lookups:p.parseLookupList(subtableParsers),variations:p.parseFeatureVariationsList()}},make:function(gsub){return new src_table.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new src_table.ScriptList(gsub.scripts)},{name:"features",type:"TABLE",value:new src_table.FeatureList(gsub.features)},{name:"lookups",type:"TABLE",value:new src_table.LookupList(gsub.lookups,gsub_subtableMakers)}])}};var meta={parse:function(data,start){const p=new src_parse.Parser(data,start),tableVersion=p.parseULong();check.argument(1===tableVersion,"Unsupported META table version."),p.parseULong(),p.parseULong();const numDataMaps=p.parseULong(),tags={};for(let i=0;i<numDataMaps;i++){const tag=p.parseTag(),dataOffset=p.parseULong(),dataLength=p.parseULong(),text=decode.UTF8(data,start+dataOffset,dataLength);tags[tag]=text}return tags},make:function(tags){const numTags=Object.keys(tags).length;let stringPool="";const stringPoolOffset=16+12*numTags,result=new src_table.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:stringPoolOffset},{name:"numTags",type:"ULONG",value:numTags}]);for(let tag in tags){const pos=stringPool.length;stringPool+=tags[tag],result.fields.push({name:"tag "+tag,type:"TAG",value:tag}),result.fields.push({name:"offset "+tag,type:"ULONG",value:stringPoolOffset+pos}),result.fields.push({name:"length "+tag,type:"ULONG",value:tags[tag].length})}return result.fields.push({name:"stringPool",type:"CHARARRAY",value:stringPool}),result}};function log2(v){return Math.log(v)/Math.log(2)|0}function computeCheckSum(bytes){for(;bytes.length%4!=0;)bytes.push(0);let sum=0;for(let i=0;i<bytes.length;i+=4)sum+=(bytes[i]<<24)+(bytes[i+1]<<16)+(bytes[i+2]<<8)+bytes[i+3];return sum%=Math.pow(2,32)}function makeTableRecord(tag,checkSum,offset,length){return new src_table.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==tag?tag:""},{name:"checkSum",type:"ULONG",value:void 0!==checkSum?checkSum:0},{name:"offset",type:"ULONG",value:void 0!==offset?offset:0},{name:"length",type:"ULONG",value:void 0!==length?length:0}])}function makeSfntTable(tables){const sfnt=new src_table.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);sfnt.tables=tables,sfnt.numTables=tables.length;const highestPowerOf2=Math.pow(2,log2(sfnt.numTables));sfnt.searchRange=16*highestPowerOf2,sfnt.entrySelector=log2(highestPowerOf2),sfnt.rangeShift=16*sfnt.numTables-sfnt.searchRange;const recordFields=[],tableFields=[];let offset=sfnt.sizeOf()+makeTableRecord().sizeOf()*sfnt.numTables;for(;offset%4!=0;)offset+=1,tableFields.push({name:"padding",type:"BYTE",value:0});for(let i=0;i<tables.length;i+=1){const t=tables[i];check.argument(4===t.tableName.length,"Table name"+t.tableName+" is invalid.");const tableLength=t.sizeOf(),tableRecord=makeTableRecord(t.tableName,computeCheckSum(t.encode()),offset,tableLength);for(recordFields.push({name:tableRecord.tag+" Table Record",type:"RECORD",value:tableRecord}),tableFields.push({name:t.tableName+" table",type:"RECORD",value:t}),offset+=tableLength,check.argument(!isNaN(offset),"Something went wrong calculating the offset.");offset%4!=0;)offset+=1,tableFields.push({name:"padding",type:"BYTE",value:0})}return recordFields.sort(function(r1,r2){return r1.value.tag>r2.value.tag?1:-1}),sfnt.fields=sfnt.fields.concat(recordFields),sfnt.fields=sfnt.fields.concat(tableFields),sfnt}function metricsForChar(font,chars,notFoundMetrics){for(let i=0;i<chars.length;i+=1){const glyphIndex=font.charToGlyphIndex(chars[i]);if(glyphIndex>0){return font.glyphs.get(glyphIndex).getMetrics()}}return notFoundMetrics}function average(vs){let sum=0;for(let i=0;i<vs.length;i+=1)sum+=vs[i];return sum/vs.length}var tables_sfnt={make:makeSfntTable,fontToTable:function(font){const xMins=[],yMins=[],xMaxs=[],yMaxs=[],advanceWidths=[],leftSideBearings=[],rightSideBearings=[];let firstCharIndex,lastCharIndex=0,ulUnicodeRange1=0,ulUnicodeRange2=0,ulUnicodeRange3=0,ulUnicodeRange4=0;for(let i=0;i<font.glyphs.length;i+=1){const glyph=font.glyphs.get(i),unicode=0|glyph.unicode;if(isNaN(glyph.advanceWidth))throw new Error("Glyph "+glyph.name+" ("+i+"): advanceWidth is not a number.");(firstCharIndex>unicode||void 0===firstCharIndex)&&unicode>0&&(firstCharIndex=unicode),lastCharIndex<unicode&&(lastCharIndex=unicode);const position=tables_os2.getUnicodeRange(unicode);if(position<32)ulUnicodeRange1|=1<<position;else if(position<64)ulUnicodeRange2|=1<<position-32;else if(position<96)ulUnicodeRange3|=1<<position-64;else{if(!(position<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");ulUnicodeRange4|=1<<position-96}if(".notdef"===glyph.name)continue;const metrics=glyph.getMetrics();xMins.push(metrics.xMin),yMins.push(metrics.yMin),xMaxs.push(metrics.xMax),yMaxs.push(metrics.yMax),leftSideBearings.push(metrics.leftSideBearing),rightSideBearings.push(metrics.rightSideBearing),advanceWidths.push(glyph.advanceWidth)}const globals={xMin:Math.min.apply(null,xMins),yMin:Math.min.apply(null,yMins),xMax:Math.max.apply(null,xMaxs),yMax:Math.max.apply(null,yMaxs),advanceWidthMax:Math.max.apply(null,advanceWidths),advanceWidthAvg:average(advanceWidths),minLeftSideBearing:Math.min.apply(null,leftSideBearings),maxLeftSideBearing:Math.max.apply(null,leftSideBearings),minRightSideBearing:Math.min.apply(null,rightSideBearings)};globals.ascender=font.ascender,globals.descender=font.descender;const headTable=tables_head.make({flags:3,unitsPerEm:font.unitsPerEm,xMin:globals.xMin,yMin:globals.yMin,xMax:globals.xMax,yMax:globals.yMax,lowestRecPPEM:3,createdTimestamp:font.createdTimestamp}),hheaTable=tables_hhea.make({ascender:globals.ascender,descender:globals.descender,advanceWidthMax:globals.advanceWidthMax,minLeftSideBearing:globals.minLeftSideBearing,minRightSideBearing:globals.minRightSideBearing,xMaxExtent:globals.maxLeftSideBearing+(globals.xMax-globals.xMin),numberOfHMetrics:font.glyphs.length}),maxpTable=tables_maxp.make(font.glyphs.length),os2Table=tables_os2.make({xAvgCharWidth:Math.round(globals.advanceWidthAvg),usWeightClass:font.tables.os2.usWeightClass,usWidthClass:font.tables.os2.usWidthClass,usFirstCharIndex:firstCharIndex,usLastCharIndex:lastCharIndex,ulUnicodeRange1:ulUnicodeRange1,ulUnicodeRange2:ulUnicodeRange2,ulUnicodeRange3:ulUnicodeRange3,ulUnicodeRange4:ulUnicodeRange4,fsSelection:font.tables.os2.fsSelection,sTypoAscender:globals.ascender,sTypoDescender:globals.descender,sTypoLineGap:0,usWinAscent:globals.yMax,usWinDescent:Math.abs(globals.yMin),ulCodePageRange1:1,sxHeight:metricsForChar(font,"xyvw",{yMax:Math.round(globals.ascender/2)}).yMax,sCapHeight:metricsForChar(font,"HIKLEFJMNTZBDPRAGOQSUVWXY",globals).yMax,usDefaultChar:font.hasChar(" ")?32:0,usBreakChar:font.hasChar(" ")?32:0}),hmtxTable=hmtx.make(font.glyphs),cmapTable=tables_cmap.make(font.glyphs),englishFamilyName=font.getEnglishName("fontFamily"),englishStyleName=font.getEnglishName("fontSubfamily"),englishFullName=englishFamilyName+" "+englishStyleName;let postScriptName=font.getEnglishName("postScriptName");postScriptName||(postScriptName=englishFamilyName.replace(/\s/g,"")+"-"+englishStyleName);const names={};for(let n in font.names)names[n]=font.names[n];names.uniqueID||(names.uniqueID={en:font.getEnglishName("manufacturer")+":"+englishFullName}),names.postScriptName||(names.postScriptName={en:postScriptName}),names.preferredFamily||(names.preferredFamily=font.names.fontFamily),names.preferredSubfamily||(names.preferredSubfamily=font.names.fontSubfamily);const languageTags=[],nameTable=tables_name.make(names,languageTags),ltagTable=languageTags.length>0?tables_ltag.make(languageTags):void 0,postTable=tables_post.make(),cffTable=cff.make(font.glyphs,{version:font.getEnglishName("version"),fullName:englishFullName,familyName:englishFamilyName,weightName:englishStyleName,postScriptName:postScriptName,unitsPerEm:font.unitsPerEm,fontBBox:[0,globals.yMin,globals.ascender,globals.advanceWidthMax]}),metaTable=font.metas&&Object.keys(font.metas).length>0?meta.make(font.metas):void 0,tables=[headTable,hheaTable,maxpTable,os2Table,nameTable,cmapTable,postTable,cffTable,hmtxTable];ltagTable&&tables.push(ltagTable),font.tables.gsub&&tables.push(tables_gsub.make(font.tables.gsub)),metaTable&&tables.push(metaTable);const sfntTable=makeSfntTable(tables),checkSum=computeCheckSum(sfntTable.encode()),tableFields=sfntTable.fields;let checkSumAdjusted=!1;for(let i=0;i<tableFields.length;i+=1)if("head table"===tableFields[i].name){tableFields[i].value.checkSumAdjustment=2981146554-checkSum,checkSumAdjusted=!0;break}if(!checkSumAdjusted)throw new Error("Could not find head table with checkSum to adjust.");return sfntTable},computeCheckSum:computeCheckSum};function searchTag(arr,tag){let imin=0,imax=arr.length-1;for(;imin<=imax;){const imid=imin+imax>>>1,val=arr[imid].tag;if(val===tag)return imid;val<tag?imin=imid+1:imax=imid-1}return-imin-1}function binSearch(arr,value){let imin=0,imax=arr.length-1;for(;imin<=imax;){const imid=imin+imax>>>1,val=arr[imid];if(val===value)return imid;val<value?imin=imid+1:imax=imid-1}return-imin-1}function searchRange(ranges,value){let range,imin=0,imax=ranges.length-1;for(;imin<=imax;){const imid=imin+imax>>>1,start=(range=ranges[imid]).start;if(start===value)return range;start<value?imin=imid+1:imax=imid-1}if(imin>0)return value>(range=ranges[imin-1]).end?0:range}function Layout(font,tableName){this.font=font,this.tableName=tableName}Layout.prototype={searchTag:searchTag,binSearch:binSearch,getTable:function(create){let layout=this.font.tables[this.tableName];return!layout&&create&&(layout=this.font.tables[this.tableName]=this.createDefaultTable()),layout},getScriptNames:function(){let layout=this.getTable();return layout?layout.scripts.map(function(script){return script.tag}):[]},getDefaultScriptName:function(){let layout=this.getTable();if(!layout)return;let hasLatn=!1;for(let i=0;i<layout.scripts.length;i++){const name=layout.scripts[i].tag;if("DFLT"===name)return name;"latn"===name&&(hasLatn=!0)}return hasLatn?"latn":void 0},getScriptTable:function(script,create){const layout=this.getTable(create);if(layout){script=script||"DFLT";const scripts=layout.scripts,pos=searchTag(layout.scripts,script);if(pos>=0)return scripts[pos].script;if(create){const scr={tag:script,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return scripts.splice(-1-pos,0,scr),scr.script}}},getLangSysTable:function(script,language,create){const scriptTable=this.getScriptTable(script,create);if(scriptTable){if(!language||"dflt"===language||"DFLT"===language)return scriptTable.defaultLangSys;const pos=searchTag(scriptTable.langSysRecords,language);if(pos>=0)return scriptTable.langSysRecords[pos].langSys;if(create){const langSysRecord={tag:language,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return scriptTable.langSysRecords.splice(-1-pos,0,langSysRecord),langSysRecord.langSys}}},getFeatureTable:function(script,language,feature,create){const langSysTable=this.getLangSysTable(script,language,create);if(langSysTable){let featureRecord;const featIndexes=langSysTable.featureIndexes,allFeatures=this.font.tables[this.tableName].features;for(let i=0;i<featIndexes.length;i++)if((featureRecord=allFeatures[featIndexes[i]]).tag===feature)return featureRecord.feature;if(create){const index=allFeatures.length;return check.assert(0===index||feature>=allFeatures[index-1].tag,"Features must be added in alphabetical order."),featureRecord={tag:feature,feature:{params:0,lookupListIndexes:[]}},allFeatures.push(featureRecord),featIndexes.push(index),featureRecord.feature}}},getLookupTables:function(script,language,feature,lookupType,create){const featureTable=this.getFeatureTable(script,language,feature,create),tables=[];if(featureTable){let lookupTable;const lookupListIndexes=featureTable.lookupListIndexes,allLookups=this.font.tables[this.tableName].lookups;for(let i=0;i<lookupListIndexes.length;i++)(lookupTable=allLookups[lookupListIndexes[i]]).lookupType===lookupType&&tables.push(lookupTable);if(0===tables.length&&create){lookupTable={lookupType:lookupType,lookupFlag:0,subtables:[],markFilteringSet:void 0};const index=allLookups.length;return allLookups.push(lookupTable),lookupListIndexes.push(index),[lookupTable]}}return tables},getGlyphClass:function(classDefTable,glyphIndex){switch(classDefTable.format){case 1:return classDefTable.startGlyph<=glyphIndex&&glyphIndex<classDefTable.startGlyph+classDefTable.classes.length?classDefTable.classes[glyphIndex-classDefTable.startGlyph]:0;case 2:const range=searchRange(classDefTable.ranges,glyphIndex);return range?range.classId:0}},getCoverageIndex:function(coverageTable,glyphIndex){switch(coverageTable.format){case 1:const index=binSearch(coverageTable.glyphs,glyphIndex);return index>=0?index:-1;case 2:const range=searchRange(coverageTable.ranges,glyphIndex);return range?range.index+glyphIndex-range.start:-1}},expandCoverage:function(coverageTable){if(1===coverageTable.format)return coverageTable.glyphs;{const glyphs=[],ranges=coverageTable.ranges;for(let i=0;i<ranges.length;i++){const range=ranges[i],start=range.start,end=range.end;for(let j=start;j<=end;j++)glyphs.push(j)}return glyphs}}};var layout=Layout;function Position(font){layout.call(this,font,"gpos")}Position.prototype=layout.prototype,Position.prototype.getKerningValue=function(kerningLookups,leftIndex,rightIndex){for(let i=0;i<kerningLookups.length;i++){const subtables=kerningLookups[i].subtables;for(let j=0;j<subtables.length;j++){const subtable=subtables[j],covIndex=this.getCoverageIndex(subtable.coverage,leftIndex);if(!(covIndex<0))switch(subtable.posFormat){case 1:let pairSet=subtable.pairSets[covIndex];for(let k=0;k<pairSet.length;k++){let pair=pairSet[k];if(pair.secondGlyph===rightIndex)return pair.value1&&pair.value1.xAdvance||0}break;case 2:const class1=this.getGlyphClass(subtable.classDef1,leftIndex),class2=this.getGlyphClass(subtable.classDef2,rightIndex),pair=subtable.classRecords[class1][class2];return pair.value1&&pair.value1.xAdvance||0}}}return 0},Position.prototype.getKerningTables=function(script,language){if(this.font.tables.gpos)return this.getLookupTables(script,language,"kern",2)};var src_position=Position;function Substitution(font){layout.call(this,font,"gsub")}function arraysEqual(ar1,ar2){const n=ar1.length;if(n!==ar2.length)return!1;for(let i=0;i<n;i++)if(ar1[i]!==ar2[i])return!1;return!0}function getSubstFormat(lookupTable,format,defaultSubtable){const subtables=lookupTable.subtables;for(let i=0;i<subtables.length;i++){const subtable=subtables[i];if(subtable.substFormat===format)return subtable}if(defaultSubtable)return subtables.push(defaultSubtable),defaultSubtable}Substitution.prototype=layout.prototype,Substitution.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Substitution.prototype.getSingle=function(feature,script,language){const substitutions=[],lookupTables=this.getLookupTables(script,language,feature,1);for(let idx=0;idx<lookupTables.length;idx++){const subtables=lookupTables[idx].subtables;for(let i=0;i<subtables.length;i++){const subtable=subtables[i],glyphs=this.expandCoverage(subtable.coverage);let j;if(1===subtable.substFormat){const delta=subtable.deltaGlyphId;for(j=0;j<glyphs.length;j++){const glyph=glyphs[j];substitutions.push({sub:glyph,by:glyph+delta})}}else{const substitute=subtable.substitute;for(j=0;j<glyphs.length;j++)substitutions.push({sub:glyphs[j],by:substitute[j]})}}}return substitutions},Substitution.prototype.getAlternates=function(feature,script,language){const alternates=[],lookupTables=this.getLookupTables(script,language,feature,3);for(let idx=0;idx<lookupTables.length;idx++){const subtables=lookupTables[idx].subtables;for(let i=0;i<subtables.length;i++){const subtable=subtables[i],glyphs=this.expandCoverage(subtable.coverage),alternateSets=subtable.alternateSets;for(let j=0;j<glyphs.length;j++)alternates.push({sub:glyphs[j],by:alternateSets[j]})}}return alternates},Substitution.prototype.getLigatures=function(feature,script,language){const ligatures=[],lookupTables=this.getLookupTables(script,language,feature,4);for(let idx=0;idx<lookupTables.length;idx++){const subtables=lookupTables[idx].subtables;for(let i=0;i<subtables.length;i++){const subtable=subtables[i],glyphs=this.expandCoverage(subtable.coverage),ligatureSets=subtable.ligatureSets;for(let j=0;j<glyphs.length;j++){const startGlyph=glyphs[j],ligSet=ligatureSets[j];for(let k=0;k<ligSet.length;k++){const lig=ligSet[k];ligatures.push({sub:[startGlyph].concat(lig.components),by:lig.ligGlyph})}}}}return ligatures},Substitution.prototype.addSingle=function(feature,substitution,script,language){const subtable=getSubstFormat(this.getLookupTables(script,language,feature,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});check.assert(1===subtable.coverage.format,"Ligature: unable to modify coverage table format "+subtable.coverage.format);const coverageGlyph=substitution.sub;let pos=this.binSearch(subtable.coverage.glyphs,coverageGlyph);pos<0&&(pos=-1-pos,subtable.coverage.glyphs.splice(pos,0,coverageGlyph),subtable.substitute.splice(pos,0,0)),subtable.substitute[pos]=substitution.by},Substitution.prototype.addAlternate=function(feature,substitution,script,language){const subtable=getSubstFormat(this.getLookupTables(script,language,feature,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});check.assert(1===subtable.coverage.format,"Ligature: unable to modify coverage table format "+subtable.coverage.format);const coverageGlyph=substitution.sub;let pos=this.binSearch(subtable.coverage.glyphs,coverageGlyph);pos<0&&(pos=-1-pos,subtable.coverage.glyphs.splice(pos,0,coverageGlyph),subtable.alternateSets.splice(pos,0,0)),subtable.alternateSets[pos]=substitution.by},Substitution.prototype.addLigature=function(feature,ligature,script,language){const lookupTable=this.getLookupTables(script,language,feature,4,!0)[0];let subtable=lookupTable.subtables[0];subtable||(subtable={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},lookupTable.subtables[0]=subtable),check.assert(1===subtable.coverage.format,"Ligature: unable to modify coverage table format "+subtable.coverage.format);const coverageGlyph=ligature.sub[0],ligComponents=ligature.sub.slice(1),ligatureTable={ligGlyph:ligature.by,components:ligComponents};let pos=this.binSearch(subtable.coverage.glyphs,coverageGlyph);if(pos>=0){const ligatureSet=subtable.ligatureSets[pos];for(let i=0;i<ligatureSet.length;i++)if(arraysEqual(ligatureSet[i].components,ligComponents))return;ligatureSet.push(ligatureTable)}else pos=-1-pos,subtable.coverage.glyphs.splice(pos,0,coverageGlyph),subtable.ligatureSets.splice(pos,0,[ligatureTable])},Substitution.prototype.getFeature=function(feature,script,language){if(/ss\d\d/.test(feature))return this.getSingle(feature,script,language);switch(feature){case"aalt":case"salt":return this.getSingle(feature,script,language).concat(this.getAlternates(feature,script,language));case"dlig":case"liga":case"rlig":return this.getLigatures(feature,script,language)}},Substitution.prototype.add=function(feature,sub,script,language){if(/ss\d\d/.test(feature))return this.addSingle(feature,sub,script,language);switch(feature){case"aalt":case"salt":return"number"==typeof sub.by?this.addSingle(feature,sub,script,language):this.addAlternate(feature,sub,script,language);case"dlig":case"liga":case"rlig":return this.addLigature(feature,sub,script,language)}};var src_substitution=Substitution;function nodeBufferToArrayBuffer(buffer){const ab=new ArrayBuffer(buffer.length),view=new Uint8Array(ab);for(let i=0;i<buffer.length;++i)view[i]=buffer[i];return ab}function checkArgument(expression,message){if(!expression)throw message}let instructionTable,exec,execGlyph,execComponent;function Hinting(font){this.font=font,this._fpgmState=this._prepState=void 0,this._errorState=0}function roundOff(v){return v}function roundToGrid(v){return Math.sign(v)*Math.round(Math.abs(v))}function roundToDoubleGrid(v){return Math.sign(v)*Math.round(Math.abs(2*v))/2}function roundToHalfGrid(v){return Math.sign(v)*(Math.round(Math.abs(v)+.5)-.5)}function roundUpToGrid(v){return Math.sign(v)*Math.ceil(Math.abs(v))}function roundDownToGrid(v){return Math.sign(v)*Math.floor(Math.abs(v))}const roundSuper=function(v){const period=this.srPeriod;let phase=this.srPhase;let sign=1;return v<0&&(v=-v,sign=-1),v+=this.srThreshold-phase,v=Math.trunc(v/period)*period,(v+=phase)<0?phase*sign:v*sign},xUnitVector={x:1,y:0,axis:"x",distance:function(p1,p2,o1,o2){return(o1?p1.xo:p1.x)-(o2?p2.xo:p2.x)},interpolate:function(p,rp1,rp2,pv){let do1,do2,doa1,doa2,dm1,dm2,dt;if(!pv||pv===this)return do1=p.xo-rp1.xo,do2=p.xo-rp2.xo,dm1=rp1.x-rp1.xo,dm2=rp2.x-rp2.xo,0===(dt=(doa1=Math.abs(do1))+(doa2=Math.abs(do2)))?void(p.x=p.xo+(dm1+dm2)/2):void(p.x=p.xo+(dm1*doa2+dm2*doa1)/dt);do1=pv.distance(p,rp1,!0,!0),do2=pv.distance(p,rp2,!0,!0),dm1=pv.distance(rp1,rp1,!1,!0),dm2=pv.distance(rp2,rp2,!1,!0),0!==(dt=(doa1=Math.abs(do1))+(doa2=Math.abs(do2)))?xUnitVector.setRelative(p,p,(dm1*doa2+dm2*doa1)/dt,pv,!0):xUnitVector.setRelative(p,p,(dm1+dm2)/2,pv,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(p,rp,d,pv,org){if(!pv||pv===this)return void(p.x=(org?rp.xo:rp.x)+d);const rpx=org?rp.xo:rp.x,rpy=org?rp.yo:rp.y,rpdx=rpx+d*pv.x,rpdy=rpy+d*pv.y;p.x=rpdx+(p.y-rpdy)/pv.normalSlope},slope:0,touch:function(p){p.xTouched=!0},touched:function(p){return p.xTouched},untouch:function(p){p.xTouched=!1}},yUnitVector={x:0,y:1,axis:"y",distance:function(p1,p2,o1,o2){return(o1?p1.yo:p1.y)-(o2?p2.yo:p2.y)},interpolate:function(p,rp1,rp2,pv){let do1,do2,doa1,doa2,dm1,dm2,dt;if(!pv||pv===this)return do1=p.yo-rp1.yo,do2=p.yo-rp2.yo,dm1=rp1.y-rp1.yo,dm2=rp2.y-rp2.yo,0===(dt=(doa1=Math.abs(do1))+(doa2=Math.abs(do2)))?void(p.y=p.yo+(dm1+dm2)/2):void(p.y=p.yo+(dm1*doa2+dm2*doa1)/dt);do1=pv.distance(p,rp1,!0,!0),do2=pv.distance(p,rp2,!0,!0),dm1=pv.distance(rp1,rp1,!1,!0),dm2=pv.distance(rp2,rp2,!1,!0),0!==(dt=(doa1=Math.abs(do1))+(doa2=Math.abs(do2)))?yUnitVector.setRelative(p,p,(dm1*doa2+dm2*doa1)/dt,pv,!0):yUnitVector.setRelative(p,p,(dm1+dm2)/2,pv,!0)},normalSlope:0,setRelative:function(p,rp,d,pv,org){if(!pv||pv===this)return void(p.y=(org?rp.yo:rp.y)+d);const rpx=org?rp.xo:rp.x,rpy=org?rp.yo:rp.y,rpdx=rpx+d*pv.x,rpdy=rpy+d*pv.y;p.y=rpdy+pv.normalSlope*(p.x-rpdx)},slope:Number.POSITIVE_INFINITY,touch:function(p){p.yTouched=!0},touched:function(p){return p.yTouched},untouch:function(p){p.yTouched=!1}};function UnitVector(x,y){this.x=x,this.y=y,this.axis=void 0,this.slope=y/x,this.normalSlope=-x/y,Object.freeze(this)}function getUnitVector(x,y){const d=Math.sqrt(x*x+y*y);return y/=d,1===(x/=d)&&0===y?xUnitVector:0===x&&1===y?yUnitVector:new UnitVector(x,y)}function HPoint(x,y,lastPointOfContour,onCurve){this.x=this.xo=Math.round(64*x)/64,this.y=this.yo=Math.round(64*y)/64,this.lastPointOfContour=lastPointOfContour,this.onCurve=onCurve,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(xUnitVector),Object.freeze(yUnitVector),UnitVector.prototype.distance=function(p1,p2,o1,o2){return this.x*xUnitVector.distance(p1,p2,o1,o2)+this.y*yUnitVector.distance(p1,p2,o1,o2)},UnitVector.prototype.interpolate=function(p,rp1,rp2,pv){let dm1,dm2,do1,do2,doa1,doa2,dt;do1=pv.distance(p,rp1,!0,!0),do2=pv.distance(p,rp2,!0,!0),dm1=pv.distance(rp1,rp1,!1,!0),dm2=pv.distance(rp2,rp2,!1,!0),0!==(dt=(doa1=Math.abs(do1))+(doa2=Math.abs(do2)))?this.setRelative(p,p,(dm1*doa2+dm2*doa1)/dt,pv,!0):this.setRelative(p,p,(dm1+dm2)/2,pv,!0)},UnitVector.prototype.setRelative=function(p,rp,d,pv,org){pv=pv||this;const rpx=org?rp.xo:rp.x,rpy=org?rp.yo:rp.y,rpdx=rpx+d*pv.x,rpdy=rpy+d*pv.y,pvns=pv.normalSlope,fvs=this.slope,px=p.x,py=p.y;p.x=(fvs*px-pvns*rpdx+rpdy-py)/(fvs-pvns),p.y=fvs*(p.x-px)+py},UnitVector.prototype.touch=function(p){p.xTouched=!0,p.yTouched=!0},HPoint.prototype.nextTouched=function(v){let p=this.nextPointOnContour;for(;!v.touched(p)&&p!==this;)p=p.nextPointOnContour;return p},HPoint.prototype.prevTouched=function(v){let p=this.prevPointOnContour;for(;!v.touched(p)&&p!==this;)p=p.prevPointOnContour;return p};const HPZero=Object.freeze(new HPoint(0,0)),defaultState={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function State(env,prog){switch(this.env=env,this.stack=[],this.prog=prog,env){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=xUnitVector,this.round=roundToGrid}}function initTZone(state){const tZone=state.tZone=new Array(state.gZone.length);for(let i=0;i<tZone.length;i++)tZone[i]=new HPoint(0,0)}function skip(state,handleElse){const prog=state.prog;let ins,ip=state.ip,nesting=1;do{if(88===(ins=prog[++ip]))nesting++;else if(89===ins)nesting--;else if(64===ins)ip+=prog[ip+1]+1;else if(65===ins)ip+=2*prog[ip+1]+1;else if(ins>=176&&ins<=183)ip+=ins-176+1;else if(ins>=184&&ins<=191)ip+=2*(ins-184+1);else if(handleElse&&1===nesting&&27===ins)break}while(nesting>0);state.ip=ip}function SVTCA(v,state){exports.DEBUG&&console.log(state.step,"SVTCA["+v.axis+"]"),state.fv=state.pv=state.dpv=v}function SPVTCA(v,state){exports.DEBUG&&console.log(state.step,"SPVTCA["+v.axis+"]"),state.pv=state.dpv=v}function SFVTCA(v,state){exports.DEBUG&&console.log(state.step,"SFVTCA["+v.axis+"]"),state.fv=v}function SPVTL(a,state){const stack=state.stack,p2i=stack.pop(),p1i=stack.pop(),p2=state.z2[p2i],p1=state.z1[p1i];let dx,dy;exports.DEBUG&&console.log("SPVTL["+a+"]",p2i,p1i),a?(dx=p2.y-p1.y,dy=p1.x-p2.x):(dx=p1.x-p2.x,dy=p1.y-p2.y),state.pv=state.dpv=getUnitVector(dx,dy)}function SFVTL(a,state){const stack=state.stack,p2i=stack.pop(),p1i=stack.pop(),p2=state.z2[p2i],p1=state.z1[p1i];let dx,dy;exports.DEBUG&&console.log("SFVTL["+a+"]",p2i,p1i),a?(dx=p2.y-p1.y,dy=p1.x-p2.x):(dx=p1.x-p2.x,dy=p1.y-p2.y),state.fv=getUnitVector(dx,dy)}function POP(state){exports.DEBUG&&console.log(state.step,"POP[]"),state.stack.pop()}function MDAP(round,state){const pi=state.stack.pop(),p=state.z0[pi],fv=state.fv,pv=state.pv;exports.DEBUG&&console.log(state.step,"MDAP["+round+"]",pi);let d=pv.distance(p,HPZero);round&&(d=state.round(d)),fv.setRelative(p,HPZero,d,pv),fv.touch(p),state.rp0=state.rp1=pi}function IUP(v,state){const z2=state.z2,pLen=z2.length-2;let cp,pp,np;exports.DEBUG&&console.log(state.step,"IUP["+v.axis+"]");for(let i=0;i<pLen;i++)cp=z2[i],v.touched(cp)||(pp=cp.prevTouched(v))!==cp&&(pp===(np=cp.nextTouched(v))&&v.setRelative(cp,cp,v.distance(pp,pp,!1,!0),v,!0),v.interpolate(cp,pp,np,v))}function SHP(a,state){const stack=state.stack,rpi=a?state.rp1:state.rp2,rp=(a?state.z0:state.z1)[rpi],fv=state.fv,pv=state.pv;let loop=state.loop;const z2=state.z2;for(;loop--;){const pi=stack.pop(),p=z2[pi],d=pv.distance(rp,rp,!1,!0);fv.setRelative(p,p,d,pv),fv.touch(p),exports.DEBUG&&console.log(state.step,(state.loop>1?"loop "+(state.loop-loop)+": ":"")+"SHP["+(a?"rp1":"rp2")+"]",pi)}state.loop=1}function SHC(a,state){const stack=state.stack,rpi=a?state.rp1:state.rp2,rp=(a?state.z0:state.z1)[rpi],fv=state.fv,pv=state.pv,ci=stack.pop(),sp=state.z2[state.contours[ci]];let p=sp;exports.DEBUG&&console.log(state.step,"SHC["+a+"]",ci);const d=pv.distance(rp,rp,!1,!0);do{p!==rp&&fv.setRelative(p,p,d,pv),p=p.nextPointOnContour}while(p!==sp)}function SHZ(a,state){const stack=state.stack,rpi=a?state.rp1:state.rp2,rp=(a?state.z0:state.z1)[rpi],fv=state.fv,pv=state.pv,e=stack.pop();let z,p;switch(exports.DEBUG&&console.log(state.step,"SHZ["+a+"]",e),e){case 0:z=state.tZone;break;case 1:z=state.gZone;break;default:throw new Error("Invalid zone")}const d=pv.distance(rp,rp,!1,!0),pLen=z.length-2;for(let i=0;i<pLen;i++)p=z[i],fv.setRelative(p,p,d,pv)}function MSIRP(a,state){const stack=state.stack,d=stack.pop()/64,pi=stack.pop(),p=state.z1[pi],rp0=state.z0[state.rp0],fv=state.fv,pv=state.pv;fv.setRelative(p,rp0,d,pv),fv.touch(p),exports.DEBUG&&console.log(state.step,"MSIRP["+a+"]",d,pi),state.rp1=state.rp0,state.rp2=pi,a&&(state.rp0=pi)}function MIAP(round,state){const stack=state.stack,n=stack.pop(),pi=stack.pop(),p=state.z0[pi],fv=state.fv,pv=state.pv;let cv=state.cvt[n];exports.DEBUG&&console.log(state.step,"MIAP["+round+"]",n,"(",cv,")",pi);let d=pv.distance(p,HPZero);round&&(Math.abs(d-cv)<state.cvCutIn&&(d=cv),d=state.round(d)),fv.setRelative(p,HPZero,d,pv),0===state.zp0&&(p.xo=p.x,p.yo=p.y),fv.touch(p),state.rp0=state.rp1=pi}function GC(a,state){const stack=state.stack,pi=stack.pop(),p=state.z2[pi];exports.DEBUG&&console.log(state.step,"GC["+a+"]",pi),stack.push(64*state.dpv.distance(p,HPZero,a,!1))}function MD(a,state){const stack=state.stack,pi2=stack.pop(),pi1=stack.pop(),p2=state.z1[pi2],p1=state.z0[pi1],d=state.dpv.distance(p1,p2,a,a);exports.DEBUG&&console.log(state.step,"MD["+a+"]",pi2,pi1,"->",d),state.stack.push(Math.round(64*d))}function DELTAP123(b,state){const stack=state.stack,n=stack.pop(),fv=state.fv,pv=state.pv,ppem=state.ppem,base=state.deltaBase+16*(b-1),ds=state.deltaShift,z0=state.z0;exports.DEBUG&&console.log(state.step,"DELTAP["+b+"]",n,stack);for(let i=0;i<n;i++){const pi=stack.pop(),arg=stack.pop();if(base+((240&arg)>>4)!==ppem)continue;let mag=(15&arg)-8;mag>=0&&mag++,exports.DEBUG&&console.log(state.step,"DELTAPFIX",pi,"by",mag*ds);const p=z0[pi];fv.setRelative(p,p,mag*ds,pv)}}function ROUND(dt,state){const stack=state.stack,n=stack.pop();exports.DEBUG&&console.log(state.step,"ROUND[]"),stack.push(64*state.round(n/64))}function DELTAC123(b,state){const stack=state.stack,n=stack.pop(),ppem=state.ppem,base=state.deltaBase+16*(b-1),ds=state.deltaShift;exports.DEBUG&&console.log(state.step,"DELTAC["+b+"]",n,stack);for(let i=0;i<n;i++){const c=stack.pop(),arg=stack.pop();if(base+((240&arg)>>4)!==ppem)continue;let mag=(15&arg)-8;mag>=0&&mag++;const delta=mag*ds;exports.DEBUG&&console.log(state.step,"DELTACFIX",c,"by",delta),state.cvt[c]+=delta}}function SDPVTL(a,state){const stack=state.stack,p2i=stack.pop(),p1i=stack.pop(),p2=state.z2[p2i],p1=state.z1[p1i];let dx,dy;exports.DEBUG&&console.log(state.step,"SDPVTL["+a+"]",p2i,p1i),a?(dx=p2.y-p1.y,dy=p1.x-p2.x):(dx=p1.x-p2.x,dy=p1.y-p2.y),state.dpv=getUnitVector(dx,dy)}function PUSHB(n,state){const stack=state.stack,prog=state.prog;let ip=state.ip;exports.DEBUG&&console.log(state.step,"PUSHB["+n+"]");for(let i=0;i<n;i++)stack.push(prog[++ip]);state.ip=ip}function PUSHW(n,state){let ip=state.ip;const prog=state.prog,stack=state.stack;exports.DEBUG&&console.log(state.ip,"PUSHW["+n+"]");for(let i=0;i<n;i++){let w=prog[++ip]<<8|prog[++ip];32768&w&&(w=-(1+(65535^w))),stack.push(w)}state.ip=ip}function MDRP_MIRP(indirect,setRp0,keepD,ro,dt,state){const stack=state.stack,cvte=indirect&&stack.pop(),pi=stack.pop(),rp0i=state.rp0,rp=state.z0[rp0i],p=state.z1[pi],md=state.minDis,fv=state.fv,pv=state.dpv;let od,d,sign,cv;sign=(d=od=pv.distance(p,rp,!0,!0))>=0?1:-1,d=Math.abs(d),indirect&&(cv=state.cvt[cvte],ro&&Math.abs(d-cv)<state.cvCutIn&&(d=cv)),keepD&&d<md&&(d=md),ro&&(d=state.round(d)),fv.setRelative(p,rp,sign*d,pv),fv.touch(p),exports.DEBUG&&console.log(state.step,(indirect?"MIRP[":"MDRP[")+(setRp0?"M":"m")+(keepD?">":"_")+(ro?"R":"_")+(0===dt?"Gr":1===dt?"Bl":2===dt?"Wh":"")+"]",indirect?cvte+"("+state.cvt[cvte]+","+cv+")":"",pi,"(d =",od,"->",sign*d,")"),state.rp1=state.rp0,state.rp2=pi,setRp0&&(state.rp0=pi)}Hinting.prototype.exec=function(glyph,ppem){if("number"!=typeof ppem)throw new Error("Point size is not a number!");if(this._errorState>2)return;const font=this.font;let prepState=this._prepState;if(!prepState||prepState.ppem!==ppem){let fpgmState=this._fpgmState;if(!fpgmState){State.prototype=defaultState,(fpgmState=this._fpgmState=new State("fpgm",font.tables.fpgm)).funcs=[],fpgmState.font=font,exports.DEBUG&&(console.log("---EXEC FPGM---"),fpgmState.step=-1);try{exec(fpgmState)}catch(e){return console.log("Hinting error in FPGM:"+e),void(this._errorState=3)}}State.prototype=fpgmState,(prepState=this._prepState=new State("prep",font.tables.prep)).ppem=ppem;const oCvt=font.tables.cvt;if(oCvt){const cvt=prepState.cvt=new Array(oCvt.length),scale=ppem/font.unitsPerEm;for(let c=0;c<oCvt.length;c++)cvt[c]=oCvt[c]*scale}else prepState.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),prepState.step=-1);try{exec(prepState)}catch(e){this._errorState<2&&console.log("Hinting error in PREP:"+e),this._errorState=2}}if(!(this._errorState>1))try{return execGlyph(glyph,prepState)}catch(e){return this._errorState<1&&(console.log("Hinting error:"+e),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}},execGlyph=function(glyph,prepState){const xScale=prepState.ppem/prepState.font.unitsPerEm,yScale=xScale;let contours,gZone,state,components=glyph.components;if(State.prototype=prepState,components){const font=prepState.font;gZone=[],contours=[];for(let i=0;i<components.length;i++){const c=components[i],cg=font.glyphs.get(c.glyphIndex);state=new State("glyf",cg.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+i+"---"),state.step=-1),execComponent(cg,state,xScale,yScale);const dx=Math.round(c.dx*xScale),dy=Math.round(c.dy*yScale),gz=state.gZone,cc=state.contours;for(let pi=0;pi<gz.length;pi++){const p=gz[pi];p.xTouched=p.yTouched=!1,p.xo=p.x=p.x+dx,p.yo=p.y=p.y+dy}const gLen=gZone.length;gZone.push.apply(gZone,gz);for(let j=0;j<cc.length;j++)contours.push(cc[j]+gLen)}glyph.instructions&&!state.inhibitGridFit&&((state=new State("glyf",glyph.instructions)).gZone=state.z0=state.z1=state.z2=gZone,state.contours=contours,gZone.push(new HPoint(0,0),new HPoint(Math.round(glyph.advanceWidth*xScale),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),state.step=-1),exec(state),gZone.length-=2)}else state=new State("glyf",glyph.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),state.step=-1),execComponent(glyph,state,xScale,yScale),gZone=state.gZone;return gZone},execComponent=function(glyph,state,xScale,yScale){const points=glyph.points||[],pLen=points.length,gZone=state.gZone=state.z0=state.z1=state.z2=[],contours=state.contours=[];let cp,sp,np;for(let i=0;i<pLen;i++)cp=points[i],gZone[i]=new HPoint(cp.x*xScale,cp.y*yScale,cp.lastPointOfContour,cp.onCurve);for(let i=0;i<pLen;i++)cp=gZone[i],sp||(sp=cp,contours.push(i)),cp.lastPointOfContour?(cp.nextPointOnContour=sp,sp.prevPointOnContour=cp,sp=void 0):(np=gZone[i+1],cp.nextPointOnContour=np,np.prevPointOnContour=cp);if(!state.inhibitGridFit){if(exports.DEBUG){console.log("PROCESSING GLYPH",state.stack);for(let i=0;i<pLen;i++)console.log(i,gZone[i].x,gZone[i].y)}if(gZone.push(new HPoint(0,0),new HPoint(Math.round(glyph.advanceWidth*xScale),0)),exec(state),gZone.length-=2,exports.DEBUG){console.log("FINISHED GLYPH",state.stack);for(let i=0;i<pLen;i++)console.log(i,gZone[i].x,gZone[i].y)}}},exec=function(state){let prog=state.prog;if(!prog)return;const pLen=prog.length;let ins;for(state.ip=0;state.ip<pLen;state.ip++){if(exports.DEBUG&&state.step++,!(ins=instructionTable[prog[state.ip]]))throw new Error("unknown instruction: 0x"+Number(prog[state.ip]).toString(16));ins(state)}},instructionTable=[SVTCA.bind(void 0,yUnitVector),SVTCA.bind(void 0,xUnitVector),SPVTCA.bind(void 0,yUnitVector),SPVTCA.bind(void 0,xUnitVector),SFVTCA.bind(void 0,yUnitVector),SFVTCA.bind(void 0,xUnitVector),SPVTL.bind(void 0,0),SPVTL.bind(void 0,1),SFVTL.bind(void 0,0),SFVTL.bind(void 0,1),function(state){const stack=state.stack,y=stack.pop(),x=stack.pop();exports.DEBUG&&console.log(state.step,"SPVFS[]",y,x),state.pv=state.dpv=getUnitVector(x,y)},function(state){const stack=state.stack,y=stack.pop(),x=stack.pop();exports.DEBUG&&console.log(state.step,"SPVFS[]",y,x),state.fv=getUnitVector(x,y)},function(state){const stack=state.stack,pv=state.pv;exports.DEBUG&&console.log(state.step,"GPV[]"),stack.push(16384*pv.x),stack.push(16384*pv.y)},function(state){const stack=state.stack,fv=state.fv;exports.DEBUG&&console.log(state.step,"GFV[]"),stack.push(16384*fv.x),stack.push(16384*fv.y)},function(state){state.fv=state.pv,exports.DEBUG&&console.log(state.step,"SFVTPV[]")},function(state){const stack=state.stack,pa0i=stack.pop(),pa1i=stack.pop(),pb0i=stack.pop(),pb1i=stack.pop(),pi=stack.pop(),z0=state.z0,z1=state.z1,pa0=z0[pa0i],pa1=z0[pa1i],pb0=z1[pb0i],pb1=z1[pb1i],p=state.z2[pi];exports.DEBUG&&console.log("ISECT[], ",pa0i,pa1i,pb0i,pb1i,pi);const x1=pa0.x,y1=pa0.y,x2=pa1.x,y2=pa1.y,x3=pb0.x,y3=pb0.y,x4=pb1.x,y4=pb1.y,div=(x1-x2)*(y3-y4)-(y1-y2)*(x3-x4),f1=x1*y2-y1*x2,f2=x3*y4-y3*x4;p.x=(f1*(x3-x4)-f2*(x1-x2))/div,p.y=(f1*(y3-y4)-f2*(y1-y2))/div},function(state){state.rp0=state.stack.pop(),exports.DEBUG&&console.log(state.step,"SRP0[]",state.rp0)},function(state){state.rp1=state.stack.pop(),exports.DEBUG&&console.log(state.step,"SRP1[]",state.rp1)},function(state){state.rp2=state.stack.pop(),exports.DEBUG&&console.log(state.step,"SRP2[]",state.rp2)},function(state){const n=state.stack.pop();switch(exports.DEBUG&&console.log(state.step,"SZP0[]",n),state.zp0=n,n){case 0:state.tZone||initTZone(state),state.z0=state.tZone;break;case 1:state.z0=state.gZone;break;default:throw new Error("Invalid zone pointer")}},function(state){const n=state.stack.pop();switch(exports.DEBUG&&console.log(state.step,"SZP1[]",n),state.zp1=n,n){case 0:state.tZone||initTZone(state),state.z1=state.tZone;break;case 1:state.z1=state.gZone;break;default:throw new Error("Invalid zone pointer")}},function(state){const n=state.stack.pop();switch(exports.DEBUG&&console.log(state.step,"SZP2[]",n),state.zp2=n,n){case 0:state.tZone||initTZone(state),state.z2=state.tZone;break;case 1:state.z2=state.gZone;break;default:throw new Error("Invalid zone pointer")}},function(state){const n=state.stack.pop();switch(exports.DEBUG&&console.log(state.step,"SZPS[]",n),state.zp0=state.zp1=state.zp2=n,n){case 0:state.tZone||initTZone(state),state.z0=state.z1=state.z2=state.tZone;break;case 1:state.z0=state.z1=state.z2=state.gZone;break;default:throw new Error("Invalid zone pointer")}},function(state){state.loop=state.stack.pop(),exports.DEBUG&&console.log(state.step,"SLOOP[]",state.loop)},function(state){exports.DEBUG&&console.log(state.step,"RTG[]"),state.round=roundToGrid},function(state){exports.DEBUG&&console.log(state.step,"RTHG[]"),state.round=roundToHalfGrid},function(state){const d=state.stack.pop();exports.DEBUG&&console.log(state.step,"SMD[]",d),state.minDis=d/64},function(state){exports.DEBUG&&console.log(state.step,"ELSE[]"),skip(state,!1)},function(state){const o=state.stack.pop();exports.DEBUG&&console.log(state.step,"JMPR[]",o),state.ip+=o-1},function(state){const n=state.stack.pop();exports.DEBUG&&console.log(state.step,"SCVTCI[]",n),state.cvCutIn=n/64},void 0,void 0,function(state){const stack=state.stack;exports.DEBUG&&console.log(state.step,"DUP[]"),stack.push(stack[stack.length-1])},POP,function(state){exports.DEBUG&&console.log(state.step,"CLEAR[]"),state.stack.length=0},function(state){const stack=state.stack,a=stack.pop(),b=stack.pop();exports.DEBUG&&console.log(state.step,"SWAP[]"),stack.push(a),stack.push(b)},function(state){const stack=state.stack;exports.DEBUG&&console.log(state.step,"DEPTH[]"),stack.push(stack.length)},function(state){const stack=state.stack,k=stack.pop();exports.DEBUG&&console.log(state.step,"CINDEX[]",k),stack.push(stack[stack.length-k])},function(state){const stack=state.stack,k=stack.pop();exports.DEBUG&&console.log(state.step,"MINDEX[]",k),stack.push(stack.splice(stack.length-k,1)[0])},void 0,void 0,void 0,function(state){const stack=state.stack,fn=stack.pop(),c=stack.pop();exports.DEBUG&&console.log(state.step,"LOOPCALL[]",fn,c);const cip=state.ip,cprog=state.prog;state.prog=state.funcs[fn];for(let i=0;i<c;i++)exec(state),exports.DEBUG&&console.log(++state.step,i+1<c?"next loopcall":"done loopcall",i);state.ip=cip,state.prog=cprog},function(state){const fn=state.stack.pop();exports.DEBUG&&console.log(state.step,"CALL[]",fn);const cip=state.ip,cprog=state.prog;state.prog=state.funcs[fn],exec(state),state.ip=cip,state.prog=cprog,exports.DEBUG&&console.log(++state.step,"returning from",fn)},function(state){if("fpgm"!==state.env)throw new Error("FDEF not allowed here");const stack=state.stack,prog=state.prog;let ip=state.ip;const fn=stack.pop(),ipBegin=ip;for(exports.DEBUG&&console.log(state.step,"FDEF[]",fn);45!==prog[++ip];);state.ip=ip,state.funcs[fn]=prog.slice(ipBegin+1,ip)},void 0,MDAP.bind(void 0,0),MDAP.bind(void 0,1),IUP.bind(void 0,yUnitVector),IUP.bind(void 0,xUnitVector),SHP.bind(void 0,0),SHP.bind(void 0,1),SHC.bind(void 0,0),SHC.bind(void 0,1),SHZ.bind(void 0,0),SHZ.bind(void 0,1),function(state){const stack=state.stack;let loop=state.loop;const fv=state.fv,d=stack.pop()/64,z2=state.z2;for(;loop--;){const pi=stack.pop(),p=z2[pi];exports.DEBUG&&console.log(state.step,(state.loop>1?"loop "+(state.loop-loop)+": ":"")+"SHPIX[]",pi,d),fv.setRelative(p,p,d),fv.touch(p)}state.loop=1},function(state){const stack=state.stack,rp1i=state.rp1,rp2i=state.rp2;let loop=state.loop;const rp1=state.z0[rp1i],rp2=state.z1[rp2i],fv=state.fv,pv=state.dpv,z2=state.z2;for(;loop--;){const pi=stack.pop(),p=z2[pi];exports.DEBUG&&console.log(state.step,(state.loop>1?"loop "+(state.loop-loop)+": ":"")+"IP[]",pi,rp1i,"<->",rp2i),fv.interpolate(p,rp1,rp2,pv),fv.touch(p)}state.loop=1},MSIRP.bind(void 0,0),MSIRP.bind(void 0,1),function(state){const stack=state.stack,rp0i=state.rp0,rp0=state.z0[rp0i];let loop=state.loop;const fv=state.fv,pv=state.pv,z1=state.z1;for(;loop--;){const pi=stack.pop(),p=z1[pi];exports.DEBUG&&console.log(state.step,(state.loop>1?"loop "+(state.loop-loop)+": ":"")+"ALIGNRP[]",pi),fv.setRelative(p,rp0,0,pv),fv.touch(p)}state.loop=1},function(state){exports.DEBUG&&console.log(state.step,"RTDG[]"),state.round=roundToDoubleGrid},MIAP.bind(void 0,0),MIAP.bind(void 0,1),function(state){const prog=state.prog;let ip=state.ip;const stack=state.stack,n=prog[++ip];exports.DEBUG&&console.log(state.step,"NPUSHB[]",n);for(let i=0;i<n;i++)stack.push(prog[++ip]);state.ip=ip},function(state){let ip=state.ip;const prog=state.prog,stack=state.stack,n=prog[++ip];exports.DEBUG&&console.log(state.step,"NPUSHW[]",n);for(let i=0;i<n;i++){let w=prog[++ip]<<8|prog[++ip];32768&w&&(w=-(1+(65535^w))),stack.push(w)}state.ip=ip},function(state){const stack=state.stack;let store=state.store;store||(store=state.store=[]);const v=stack.pop(),l=stack.pop();exports.DEBUG&&console.log(state.step,"WS",v,l),store[l]=v},function(state){const stack=state.stack,store=state.store,l=stack.pop();exports.DEBUG&&console.log(state.step,"RS",l);const v=store&&store[l]||0;stack.push(v)},function(state){const stack=state.stack,v=stack.pop(),l=stack.pop();exports.DEBUG&&console.log(state.step,"WCVTP",v,l),state.cvt[l]=v/64},function(state){const stack=state.stack,cvte=stack.pop();exports.DEBUG&&console.log(state.step,"RCVT",cvte),stack.push(64*state.cvt[cvte])},GC.bind(void 0,0),GC.bind(void 0,1),void 0,MD.bind(void 0,0),MD.bind(void 0,1),function(state){exports.DEBUG&&console.log(state.step,"MPPEM[]"),state.stack.push(state.ppem)},void 0,function(state){exports.DEBUG&&console.log(state.step,"FLIPON[]"),state.autoFlip=!0},void 0,void 0,function(state){const stack=state.stack,e2=stack.pop(),e1=stack.pop();exports.DEBUG&&console.log(state.step,"LT[]",e2,e1),stack.push(e1<e2?1:0)},function(state){const stack=state.stack,e2=stack.pop(),e1=stack.pop();exports.DEBUG&&console.log(state.step,"LTEQ[]",e2,e1),stack.push(e1<=e2?1:0)},function(state){const stack=state.stack,e2=stack.pop(),e1=stack.pop();exports.DEBUG&&console.log(state.step,"GT[]",e2,e1),stack.push(e1>e2?1:0)},function(state){const stack=state.stack,e2=stack.pop(),e1=stack.pop();exports.DEBUG&&console.log(state.step,"GTEQ[]",e2,e1),stack.push(e1>=e2?1:0)},function(state){const stack=state.stack,e2=stack.pop(),e1=stack.pop();exports.DEBUG&&console.log(state.step,"EQ[]",e2,e1),stack.push(e2===e1?1:0)},function(state){const stack=state.stack,e2=stack.pop(),e1=stack.pop();exports.DEBUG&&console.log(state.step,"NEQ[]",e2,e1),stack.push(e2!==e1?1:0)},function(state){const stack=state.stack,n=stack.pop();exports.DEBUG&&console.log(state.step,"ODD[]",n),stack.push(Math.trunc(n)%2?1:0)},function(state){const stack=state.stack,n=stack.pop();exports.DEBUG&&console.log(state.step,"EVEN[]",n),stack.push(Math.trunc(n)%2?0:1)},function(state){let test=state.stack.pop();exports.DEBUG&&console.log(state.step,"IF[]",test),test||(skip(state,!0),exports.DEBUG&&console.log(state.step,"EIF[]"))},function(state){exports.DEBUG&&console.log(state.step,"EIF[]")},function(state){const stack=state.stack,e2=stack.pop(),e1=stack.pop();exports.DEBUG&&console.log(state.step,"AND[]",e2,e1),stack.push(e2&&e1?1:0)},function(state){const stack=state.stack,e2=stack.pop(),e1=stack.pop();exports.DEBUG&&console.log(state.step,"OR[]",e2,e1),stack.push(e2||e1?1:0)},function(state){const stack=state.stack,e=stack.pop();exports.DEBUG&&console.log(state.step,"NOT[]",e),stack.push(e?0:1)},DELTAP123.bind(void 0,1),function(state){const n=state.stack.pop();exports.DEBUG&&console.log(state.step,"SDB[]",n),state.deltaBase=n},function(state){const n=state.stack.pop();exports.DEBUG&&console.log(state.step,"SDS[]",n),state.deltaShift=Math.pow(.5,n)},function(state){const stack=state.stack,n2=stack.pop(),n1=stack.pop();exports.DEBUG&&console.log(state.step,"ADD[]",n2,n1),stack.push(n1+n2)},function(state){const stack=state.stack,n2=stack.pop(),n1=stack.pop();exports.DEBUG&&console.log(state.step,"SUB[]",n2,n1),stack.push(n1-n2)},function(state){const stack=state.stack,n2=stack.pop(),n1=stack.pop();exports.DEBUG&&console.log(state.step,"DIV[]",n2,n1),stack.push(64*n1/n2)},function(state){const stack=state.stack,n2=stack.pop(),n1=stack.pop();exports.DEBUG&&console.log(state.step,"MUL[]",n2,n1),stack.push(n1*n2/64)},function(state){const stack=state.stack,n=stack.pop();exports.DEBUG&&console.log(state.step,"ABS[]",n),stack.push(Math.abs(n))},function(state){const stack=state.stack;let n=stack.pop();exports.DEBUG&&console.log(state.step,"NEG[]",n),stack.push(-n)},function(state){const stack=state.stack,n=stack.pop();exports.DEBUG&&console.log(state.step,"FLOOR[]",n),stack.push(64*Math.floor(n/64))},function(state){const stack=state.stack,n=stack.pop();exports.DEBUG&&console.log(state.step,"CEILING[]",n),stack.push(64*Math.ceil(n/64))},ROUND.bind(void 0,0),ROUND.bind(void 0,1),ROUND.bind(void 0,2),ROUND.bind(void 0,3),void 0,void 0,void 0,void 0,function(state){const stack=state.stack,v=stack.pop(),l=stack.pop();exports.DEBUG&&console.log(state.step,"WCVTF[]",v,l),state.cvt[l]=v*state.ppem/state.font.unitsPerEm},DELTAP123.bind(void 0,2),DELTAP123.bind(void 0,3),DELTAC123.bind(void 0,1),DELTAC123.bind(void 0,2),DELTAC123.bind(void 0,3),function(state){let period,n=state.stack.pop();switch(exports.DEBUG&&console.log(state.step,"SROUND[]",n),state.round=roundSuper,192&n){case 0:period=.5;break;case 64:period=1;break;case 128:period=2;break;default:throw new Error("invalid SROUND value")}switch(state.srPeriod=period,48&n){case 0:state.srPhase=0;break;case 16:state.srPhase=.25*period;break;case 32:state.srPhase=.5*period;break;case 48:state.srPhase=.75*period;break;default:throw new Error("invalid SROUND value")}n&=15,state.srThreshold=0===n?0:(n/8-.5)*period},function(state){let period,n=state.stack.pop();switch(exports.DEBUG&&console.log(state.step,"S45ROUND[]",n),state.round=roundSuper,192&n){case 0:period=Math.sqrt(2)/2;break;case 64:period=Math.sqrt(2);break;case 128:period=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(state.srPeriod=period,48&n){case 0:state.srPhase=0;break;case 16:state.srPhase=.25*period;break;case 32:state.srPhase=.5*period;break;case 48:state.srPhase=.75*period;break;default:throw new Error("invalid S45ROUND value")}n&=15,state.srThreshold=0===n?0:(n/8-.5)*period},void 0,void 0,function(state){exports.DEBUG&&console.log(state.step,"ROFF[]"),state.round=roundOff},void 0,function(state){exports.DEBUG&&console.log(state.step,"RUTG[]"),state.round=roundUpToGrid},function(state){exports.DEBUG&&console.log(state.step,"RDTG[]"),state.round=roundDownToGrid},POP,POP,void 0,void 0,void 0,void 0,void 0,function(state){const n=state.stack.pop();exports.DEBUG&&console.log(state.step,"SCANCTRL[]",n)},SDPVTL.bind(void 0,0),SDPVTL.bind(void 0,1),function(state){const stack=state.stack,sel=stack.pop();let r=0;exports.DEBUG&&console.log(state.step,"GETINFO[]",sel),1&sel&&(r=35),32&sel&&(r|=4096),stack.push(r)},void 0,function(state){const stack=state.stack,a=stack.pop(),b=stack.pop(),c=stack.pop();exports.DEBUG&&console.log(state.step,"ROLL[]"),stack.push(b),stack.push(a),stack.push(c)},function(state){const stack=state.stack,e2=stack.pop(),e1=stack.pop();exports.DEBUG&&console.log(state.step,"MAX[]",e2,e1),stack.push(Math.max(e1,e2))},function(state){const stack=state.stack,e2=stack.pop(),e1=stack.pop();exports.DEBUG&&console.log(state.step,"MIN[]",e2,e1),stack.push(Math.min(e1,e2))},function(state){const n=state.stack.pop();exports.DEBUG&&console.log(state.step,"SCANTYPE[]",n)},function(state){const s=state.stack.pop();let v=state.stack.pop();switch(exports.DEBUG&&console.log(state.step,"INSTCTRL[]",s,v),s){case 1:return void(state.inhibitGridFit=!!v);case 2:return void(state.ignoreCvt=!!v);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,PUSHB.bind(void 0,1),PUSHB.bind(void 0,2),PUSHB.bind(void 0,3),PUSHB.bind(void 0,4),PUSHB.bind(void 0,5),PUSHB.bind(void 0,6),PUSHB.bind(void 0,7),PUSHB.bind(void 0,8),PUSHW.bind(void 0,1),PUSHW.bind(void 0,2),PUSHW.bind(void 0,3),PUSHW.bind(void 0,4),PUSHW.bind(void 0,5),PUSHW.bind(void 0,6),PUSHW.bind(void 0,7),PUSHW.bind(void 0,8),MDRP_MIRP.bind(void 0,0,0,0,0,0),MDRP_MIRP.bind(void 0,0,0,0,0,1),MDRP_MIRP.bind(void 0,0,0,0,0,2),MDRP_MIRP.bind(void 0,0,0,0,0,3),MDRP_MIRP.bind(void 0,0,0,0,1,0),MDRP_MIRP.bind(void 0,0,0,0,1,1),MDRP_MIRP.bind(void 0,0,0,0,1,2),MDRP_MIRP.bind(void 0,0,0,0,1,3),MDRP_MIRP.bind(void 0,0,0,1,0,0),MDRP_MIRP.bind(void 0,0,0,1,0,1),MDRP_MIRP.bind(void 0,0,0,1,0,2),MDRP_MIRP.bind(void 0,0,0,1,0,3),MDRP_MIRP.bind(void 0,0,0,1,1,0),MDRP_MIRP.bind(void 0,0,0,1,1,1),MDRP_MIRP.bind(void 0,0,0,1,1,2),MDRP_MIRP.bind(void 0,0,0,1,1,3),MDRP_MIRP.bind(void 0,0,1,0,0,0),MDRP_MIRP.bind(void 0,0,1,0,0,1),MDRP_MIRP.bind(void 0,0,1,0,0,2),MDRP_MIRP.bind(void 0,0,1,0,0,3),MDRP_MIRP.bind(void 0,0,1,0,1,0),MDRP_MIRP.bind(void 0,0,1,0,1,1),MDRP_MIRP.bind(void 0,0,1,0,1,2),MDRP_MIRP.bind(void 0,0,1,0,1,3),MDRP_MIRP.bind(void 0,0,1,1,0,0),MDRP_MIRP.bind(void 0,0,1,1,0,1),MDRP_MIRP.bind(void 0,0,1,1,0,2),MDRP_MIRP.bind(void 0,0,1,1,0,3),MDRP_MIRP.bind(void 0,0,1,1,1,0),MDRP_MIRP.bind(void 0,0,1,1,1,1),MDRP_MIRP.bind(void 0,0,1,1,1,2),MDRP_MIRP.bind(void 0,0,1,1,1,3),MDRP_MIRP.bind(void 0,1,0,0,0,0),MDRP_MIRP.bind(void 0,1,0,0,0,1),MDRP_MIRP.bind(void 0,1,0,0,0,2),MDRP_MIRP.bind(void 0,1,0,0,0,3),MDRP_MIRP.bind(void 0,1,0,0,1,0),MDRP_MIRP.bind(void 0,1,0,0,1,1),MDRP_MIRP.bind(void 0,1,0,0,1,2),MDRP_MIRP.bind(void 0,1,0,0,1,3),MDRP_MIRP.bind(void 0,1,0,1,0,0),MDRP_MIRP.bind(void 0,1,0,1,0,1),MDRP_MIRP.bind(void 0,1,0,1,0,2),MDRP_MIRP.bind(void 0,1,0,1,0,3),MDRP_MIRP.bind(void 0,1,0,1,1,0),MDRP_MIRP.bind(void 0,1,0,1,1,1),MDRP_MIRP.bind(void 0,1,0,1,1,2),MDRP_MIRP.bind(void 0,1,0,1,1,3),MDRP_MIRP.bind(void 0,1,1,0,0,0),MDRP_MIRP.bind(void 0,1,1,0,0,1),MDRP_MIRP.bind(void 0,1,1,0,0,2),MDRP_MIRP.bind(void 0,1,1,0,0,3),MDRP_MIRP.bind(void 0,1,1,0,1,0),MDRP_MIRP.bind(void 0,1,1,0,1,1),MDRP_MIRP.bind(void 0,1,1,0,1,2),MDRP_MIRP.bind(void 0,1,1,0,1,3),MDRP_MIRP.bind(void 0,1,1,1,0,0),MDRP_MIRP.bind(void 0,1,1,1,0,1),MDRP_MIRP.bind(void 0,1,1,1,0,2),MDRP_MIRP.bind(void 0,1,1,1,0,3),MDRP_MIRP.bind(void 0,1,1,1,1,0),MDRP_MIRP.bind(void 0,1,1,1,1,1),MDRP_MIRP.bind(void 0,1,1,1,1,2),MDRP_MIRP.bind(void 0,1,1,1,1,3)];var hintingtt=Hinting;function Font(options){(options=options||{}).empty||(checkArgument(options.familyName,"When creating a new Font object, familyName is required."),checkArgument(options.styleName,"When creating a new Font object, styleName is required."),checkArgument(options.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),checkArgument(options.ascender,"When creating a new Font object, ascender is required."),checkArgument(options.descender,"When creating a new Font object, descender is required."),checkArgument(options.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:options.familyName||" "},fontSubfamily:{en:options.styleName||" "},fullName:{en:options.fullName||options.familyName+" "+options.styleName},postScriptName:{en:options.postScriptName||options.familyName+options.styleName},designer:{en:options.designer||" "},designerURL:{en:options.designerURL||" "},manufacturer:{en:options.manufacturer||" "},manufacturerURL:{en:options.manufacturerURL||" "},license:{en:options.license||" "},licenseURL:{en:options.licenseURL||" "},version:{en:options.version||"Version 0.1"},description:{en:options.description||" "},copyright:{en:options.copyright||" "},trademark:{en:options.trademark||" "}},this.unitsPerEm=options.unitsPerEm||1e3,this.ascender=options.ascender,this.descender=options.descender,this.createdTimestamp=options.createdTimestamp,this.tables={os2:{usWeightClass:options.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:options.widthClass||this.usWidthClasses.MEDIUM,fsSelection:options.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new glyphset.GlyphSet(this,options.glyphs||[]),this.encoding=new DefaultEncoding(this),this.position=new src_position(this),this.substitution=new src_substitution(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:"truetype"===this.outlinesFormat?this._hinting=new hintingtt(this):void 0}})}Font.prototype.hasChar=function(c){return null!==this.encoding.charToGlyphIndex(c)},Font.prototype.charToGlyphIndex=function(s){return this.encoding.charToGlyphIndex(s)},Font.prototype.charToGlyph=function(c){const glyphIndex=this.charToGlyphIndex(c);let glyph=this.glyphs.get(glyphIndex);return glyph||(glyph=this.glyphs.get(0)),glyph},Font.prototype.stringToGlyphs=function(s,options){options=options||this.defaultRenderOptions;const indexes=[];for(let i=0;i<s.length;i+=1){const c=s[i];indexes.push(this.charToGlyphIndex(c))}let length=indexes.length;if(options.features){const script=options.script||this.substitution.getDefaultScriptName();let manyToOne=[];options.features.liga&&(manyToOne=manyToOne.concat(this.substitution.getFeature("liga",script,options.language))),options.features.rlig&&(manyToOne=manyToOne.concat(this.substitution.getFeature("rlig",script,options.language)));for(let i=0;i<length;i+=1)for(let j=0;j<manyToOne.length;j++){const ligature=manyToOne[j],components=ligature.sub,compCount=components.length;let k=0;for(;k<compCount&&components[k]===indexes[i+k];)k++;k===compCount&&(indexes.splice(i,compCount,ligature.by),length=length-compCount+1)}}const glyphs=new Array(length),notdef=this.glyphs.get(0);for(let i=0;i<length;i+=1)glyphs[i]=this.glyphs.get(indexes[i])||notdef;return glyphs},Font.prototype.nameToGlyphIndex=function(name){return this.glyphNames.nameToGlyphIndex(name)},Font.prototype.nameToGlyph=function(name){const glyphIndex=this.nameToGlyphIndex(name);let glyph=this.glyphs.get(glyphIndex);return glyph||(glyph=this.glyphs.get(0)),glyph},Font.prototype.glyphIndexToName=function(gid){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(gid):""},Font.prototype.getKerningValue=function(leftGlyph,rightGlyph){return leftGlyph=leftGlyph.index||leftGlyph,rightGlyph=rightGlyph.index||rightGlyph,this.kerningPairs[leftGlyph+","+rightGlyph]||0},Font.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Font.prototype.forEachGlyph=function(text,x,y,fontSize,options,callback){x=void 0!==x?x:0,y=void 0!==y?y:0,fontSize=void 0!==fontSize?fontSize:72,options=options||this.defaultRenderOptions;const fontScale=1/this.unitsPerEm*fontSize,glyphs=this.stringToGlyphs(text,options);let kerningLookups;if(options.kerning){const script=options.script||this.position.getDefaultScriptName();kerningLookups=this.position.getKerningTables(script,options.language)}for(let i=0;i<glyphs.length;i+=1){const glyph=glyphs[i];if(callback.call(this,glyph,x,y,fontSize,options),glyph.advanceWidth&&(x+=glyph.advanceWidth*fontScale),options.kerning&&i<glyphs.length-1){x+=(kerningLookups?this.position.getKerningValue(kerningLookups,glyph.index,glyphs[i+1].index):this.getKerningValue(glyph,glyphs[i+1]))*fontScale}options.letterSpacing?x+=options.letterSpacing*fontSize:options.tracking&&(x+=options.tracking/1e3*fontSize)}return x},Font.prototype.getPath=function(text,x,y,fontSize,options){const fullPath=new src_path;return this.forEachGlyph(text,x,y,fontSize,options,function(glyph,gX,gY,gFontSize){const glyphPath=glyph.getPath(gX,gY,gFontSize,options,this);fullPath.extend(glyphPath)}),fullPath},Font.prototype.getPaths=function(text,x,y,fontSize,options){const glyphPaths=[];return this.forEachGlyph(text,x,y,fontSize,options,function(glyph,gX,gY,gFontSize){const glyphPath=glyph.getPath(gX,gY,gFontSize,options,this);glyphPaths.push(glyphPath)}),glyphPaths},Font.prototype.getAdvanceWidth=function(text,fontSize,options){return this.forEachGlyph(text,0,0,fontSize,options,function(){})},Font.prototype.draw=function(ctx,text,x,y,fontSize,options){this.getPath(text,x,y,fontSize,options).draw(ctx)},Font.prototype.drawPoints=function(ctx,text,x,y,fontSize,options){this.forEachGlyph(text,x,y,fontSize,options,function(glyph,gX,gY,gFontSize){glyph.drawPoints(ctx,gX,gY,gFontSize)})},Font.prototype.drawMetrics=function(ctx,text,x,y,fontSize,options){this.forEachGlyph(text,x,y,fontSize,options,function(glyph,gX,gY,gFontSize){glyph.drawMetrics(ctx,gX,gY,gFontSize)})},Font.prototype.getEnglishName=function(name){const translations=this.names[name];if(translations)return translations.en},Font.prototype.validate=function(){const warnings=[],_this=this;function assert(predicate,message){predicate||warnings.push(message)}function assertNamePresent(name){const englishName=_this.getEnglishName(name);assert(englishName&&englishName.trim().length>0,"No English "+name+" specified.")}assertNamePresent("fontFamily"),assertNamePresent("weightName"),assertNamePresent("manufacturer"),assertNamePresent("copyright"),assertNamePresent("version"),assert(this.unitsPerEm>0,"No unitsPerEm specified.")},Font.prototype.toTables=function(){return tables_sfnt.fontToTable(this)},Font.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Font.prototype.toArrayBuffer=function(){const bytes=this.toTables().encode(),buffer=new ArrayBuffer(bytes.length),intArray=new Uint8Array(buffer);for(let i=0;i<bytes.length;i++)intArray[i]=bytes[i];return buffer},Font.prototype.download=function(fileName){const familyName=this.getEnglishName("fontFamily"),styleName=this.getEnglishName("fontSubfamily");fileName=fileName||familyName.replace(/\s/g,"")+"-"+styleName+".otf";const arrayBuffer=this.toArrayBuffer();if("undefined"!=typeof window)window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,arrayBuffer.byteLength,function(fs){fs.root.getFile(fileName,{create:!0},function(fileEntry){fileEntry.createWriter(function(writer){const dataView=new DataView(arrayBuffer),blob=new Blob([dataView],{type:"font/opentype"});writer.write(blob),writer.addEventListener("writeend",function(){location.href=fileEntry.toURL()},!1)})})},function(err){throw new Error(err.name+": "+err.message)});else{const fs=__webpack_require__(67),buffer=function(ab){const buffer=new Buffer(ab.byteLength),view=new Uint8Array(ab);for(let i=0;i<buffer.length;++i)buffer[i]=view[i];return buffer}(arrayBuffer);fs.writeFileSync(fileName,buffer)}},Font.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Font.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Font.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var src_font=Font;function addName(name,names){const nameString=JSON.stringify(name);let nameID=256;for(let nameKey in names){let n=parseInt(nameKey);if(n&&!(n<256)){if(JSON.stringify(names[nameKey])===nameString)return n;nameID<=n&&(nameID=n+1)}}return names[nameID]=name,nameID}function makeFvarAxis(n,axis,names){const nameID=addName(axis.name,names);return[{name:"tag_"+n,type:"TAG",value:axis.tag},{name:"minValue_"+n,type:"FIXED",value:axis.minValue<<16},{name:"defaultValue_"+n,type:"FIXED",value:axis.defaultValue<<16},{name:"maxValue_"+n,type:"FIXED",value:axis.maxValue<<16},{name:"flags_"+n,type:"USHORT",value:0},{name:"nameID_"+n,type:"USHORT",value:nameID}]}function parseFvarAxis(data,start,names){const axis={},p=new src_parse.Parser(data,start);return axis.tag=p.parseTag(),axis.minValue=p.parseFixed(),axis.defaultValue=p.parseFixed(),axis.maxValue=p.parseFixed(),p.skip("uShort",1),axis.name=names[p.parseUShort()]||{},axis}function makeFvarInstance(n,inst,axes,names){const fields=[{name:"nameID_"+n,type:"USHORT",value:addName(inst.name,names)},{name:"flags_"+n,type:"USHORT",value:0}];for(let i=0;i<axes.length;++i){const axisTag=axes[i].tag;fields.push({name:"axis_"+n+" "+axisTag,type:"FIXED",value:inst.coordinates[axisTag]<<16})}return fields}function parseFvarInstance(data,start,axes,names){const inst={},p=new src_parse.Parser(data,start);inst.name=names[p.parseUShort()]||{},p.skip("uShort",1),inst.coordinates={};for(let i=0;i<axes.length;++i)inst.coordinates[axes[i].tag]=p.parseFixed();return inst}var tables_fvar={make:function(fvar,names){const result=new src_table.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:fvar.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:fvar.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*fvar.axes.length}]);result.offsetToData=result.sizeOf();for(let i=0;i<fvar.axes.length;i++)result.fields=result.fields.concat(makeFvarAxis(i,fvar.axes[i],names));for(let j=0;j<fvar.instances.length;j++)result.fields=result.fields.concat(makeFvarInstance(j,fvar.instances[j],fvar.axes,names));return result},parse:function(data,start,names){const p=new src_parse.Parser(data,start),tableVersion=p.parseULong();check.argument(65536===tableVersion,"Unsupported fvar table version.");const offsetToData=p.parseOffset16();p.skip("uShort",1);const axisCount=p.parseUShort(),axisSize=p.parseUShort(),instanceCount=p.parseUShort(),instanceSize=p.parseUShort(),axes=[];for(let i=0;i<axisCount;i++)axes.push(parseFvarAxis(data,start+offsetToData+i*axisSize,names));const instances=[],instanceStart=start+offsetToData+axisCount*axisSize;for(let j=0;j<instanceCount;j++)instances.push(parseFvarInstance(data,instanceStart+j*instanceSize,axes,names));return{axes:axes,instances:instances}}};const gpos_subtableParsers=new Array(10);gpos_subtableParsers[1]=function(){const start=this.offset+this.relativeOffset,posformat=this.parseUShort();return 1===posformat?{posFormat:1,coverage:this.parsePointer(Parser.coverage),value:this.parseValueRecord()}:2===posformat?{posFormat:2,coverage:this.parsePointer(Parser.coverage),values:this.parseValueRecordList()}:void check.assert(!1,"0x"+start.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},gpos_subtableParsers[2]=function(){const start=this.offset+this.relativeOffset,posFormat=this.parseUShort(),coverage=this.parsePointer(Parser.coverage),valueFormat1=this.parseUShort(),valueFormat2=this.parseUShort();if(1===posFormat)return{posFormat:posFormat,coverage:coverage,valueFormat1:valueFormat1,valueFormat2:valueFormat2,pairSets:this.parseList(Parser.pointer(Parser.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(valueFormat1),value2:this.parseValueRecord(valueFormat2)}})))};if(2===posFormat){const classDef1=this.parsePointer(Parser.classDef),classDef2=this.parsePointer(Parser.classDef),class1Count=this.parseUShort(),class2Count=this.parseUShort();return{posFormat:posFormat,coverage:coverage,valueFormat1:valueFormat1,valueFormat2:valueFormat2,classDef1:classDef1,classDef2:classDef2,class1Count:class1Count,class2Count:class2Count,classRecords:this.parseList(class1Count,Parser.list(class2Count,function(){return{value1:this.parseValueRecord(valueFormat1),value2:this.parseValueRecord(valueFormat2)}}))}}check.assert(!1,"0x"+start.toString(16)+": GPOS lookup type 2 format must be 1 or 2.")},gpos_subtableParsers[3]=function(){return{error:"GPOS Lookup 3 not supported"}},gpos_subtableParsers[4]=function(){return{error:"GPOS Lookup 4 not supported"}},gpos_subtableParsers[5]=function(){return{error:"GPOS Lookup 5 not supported"}},gpos_subtableParsers[6]=function(){return{error:"GPOS Lookup 6 not supported"}},gpos_subtableParsers[7]=function(){return{error:"GPOS Lookup 7 not supported"}},gpos_subtableParsers[8]=function(){return{error:"GPOS Lookup 8 not supported"}},gpos_subtableParsers[9]=function(){return{error:"GPOS Lookup 9 not supported"}};const gpos_subtableMakers=new Array(10);var tables_gpos={parse:function(data,start){const p=new Parser(data,start=start||0),tableVersion=p.parseVersion(1);return check.argument(1===tableVersion||1.1===tableVersion,"Unsupported GPOS table version "+tableVersion),1===tableVersion?{version:tableVersion,scripts:p.parseScriptList(),features:p.parseFeatureList(),lookups:p.parseLookupList(gpos_subtableParsers)}:{version:tableVersion,scripts:p.parseScriptList(),features:p.parseFeatureList(),lookups:p.parseLookupList(gpos_subtableParsers),variations:p.parseFeatureVariationsList()}},make:function(gpos){return new src_table.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new src_table.ScriptList(gpos.scripts)},{name:"features",type:"TABLE",value:new src_table.FeatureList(gpos.features)},{name:"lookups",type:"TABLE",value:new src_table.LookupList(gpos.lookups,gpos_subtableMakers)}])}};var kern={parse:function(data,start){const p=new src_parse.Parser(data,start),tableVersion=p.parseUShort();if(0===tableVersion)return function(p){const pairs={};p.skip("uShort");const subtableVersion=p.parseUShort();check.argument(0===subtableVersion,"Unsupported kern sub-table version."),p.skip("uShort",2);const nPairs=p.parseUShort();p.skip("uShort",3);for(let i=0;i<nPairs;i+=1){const leftIndex=p.parseUShort(),rightIndex=p.parseUShort(),value=p.parseShort();pairs[leftIndex+","+rightIndex]=value}return pairs}(p);if(1===tableVersion)return function(p){const pairs={};p.skip("uShort"),p.parseULong()>1&&console.warn("Only the first kern subtable is supported."),p.skip("uLong");const subtableVersion=255&p.parseUShort();if(p.skip("uShort"),0===subtableVersion){const nPairs=p.parseUShort();p.skip("uShort",3);for(let i=0;i<nPairs;i+=1){const leftIndex=p.parseUShort(),rightIndex=p.parseUShort(),value=p.parseShort();pairs[leftIndex+","+rightIndex]=value}}return pairs}(p);throw new Error("Unsupported kern table version ("+tableVersion+").")}};var tables_loca={parse:function(data,start,numGlyphs,shortVersion){const p=new src_parse.Parser(data,start),parseFn=shortVersion?p.parseUShort:p.parseULong,glyphOffsets=[];for(let i=0;i<numGlyphs+1;i+=1){let glyphOffset=parseFn.call(p);shortVersion&&(glyphOffset*=2),glyphOffsets.push(glyphOffset)}return glyphOffsets}};function loadFromFile(path,callback){__webpack_require__(67).readFile(path,function(err,buffer){if(err)return callback(err.message);callback(null,nodeBufferToArrayBuffer(buffer))})}function loadFromUrl(url,callback){const request=new XMLHttpRequest;request.open("get",url,!0),request.responseType="arraybuffer",request.onload=function(){return request.response?callback(null,request.response):callback("Font could not be loaded: "+request.statusText)},request.onerror=function(){callback("Font could not be loaded")},request.send()}function parseOpenTypeTableEntries(data,numTables){const tableEntries=[];let p=12;for(let i=0;i<numTables;i+=1){const tag=src_parse.getTag(data,p),checksum=src_parse.getULong(data,p+4),offset=src_parse.getULong(data,p+8),length=src_parse.getULong(data,p+12);tableEntries.push({tag:tag,checksum:checksum,offset:offset,length:length,compression:!1}),p+=16}return tableEntries}function uncompressTable(data,tableEntry){if("WOFF"===tableEntry.compression){const inBuffer=new Uint8Array(data.buffer,tableEntry.offset+2,tableEntry.compressedLength-2),outBuffer=new Uint8Array(tableEntry.length);if(tiny_inflate_default()(inBuffer,outBuffer),outBuffer.byteLength!==tableEntry.length)throw new Error("Decompression error: "+tableEntry.tag+" decompressed length doesn't match recorded length");return{data:new DataView(outBuffer.buffer,0),offset:0}}return{data:data,offset:tableEntry.offset}}function parseBuffer(buffer){let indexToLocFormat,ltagTable;const font=new src_font({empty:!0}),data=new DataView(buffer,0);let numTables,tableEntries=[];const signature=src_parse.getTag(data,0);if(signature===String.fromCharCode(0,1,0,0)||"true"===signature||"typ1"===signature)font.outlinesFormat="truetype",tableEntries=parseOpenTypeTableEntries(data,numTables=src_parse.getUShort(data,4));else if("OTTO"===signature)font.outlinesFormat="cff",tableEntries=parseOpenTypeTableEntries(data,numTables=src_parse.getUShort(data,4));else{if("wOFF"!==signature)throw new Error("Unsupported OpenType signature "+signature);{const flavor=src_parse.getTag(data,4);if(flavor===String.fromCharCode(0,1,0,0))font.outlinesFormat="truetype";else{if("OTTO"!==flavor)throw new Error("Unsupported OpenType flavor "+signature);font.outlinesFormat="cff"}tableEntries=function(data,numTables){const tableEntries=[];let p=44;for(let i=0;i<numTables;i+=1){const tag=src_parse.getTag(data,p),offset=src_parse.getULong(data,p+4),compLength=src_parse.getULong(data,p+8),origLength=src_parse.getULong(data,p+12);let compression;compression=compLength<origLength&&"WOFF",tableEntries.push({tag:tag,offset:offset,compression:compression,compressedLength:compLength,length:origLength}),p+=20}return tableEntries}(data,numTables=src_parse.getUShort(data,12))}}let cffTableEntry,fvarTableEntry,glyfTableEntry,gposTableEntry,gsubTableEntry,hmtxTableEntry,kernTableEntry,locaTableEntry,nameTableEntry,metaTableEntry,p;for(let i=0;i<numTables;i+=1){const tableEntry=tableEntries[i];let table;switch(tableEntry.tag){case"cmap":table=uncompressTable(data,tableEntry),font.tables.cmap=tables_cmap.parse(table.data,table.offset),font.encoding=new CmapEncoding(font.tables.cmap);break;case"cvt ":table=uncompressTable(data,tableEntry),p=new src_parse.Parser(table.data,table.offset),font.tables.cvt=p.parseShortList(tableEntry.length/2);break;case"fvar":fvarTableEntry=tableEntry;break;case"fpgm":table=uncompressTable(data,tableEntry),p=new src_parse.Parser(table.data,table.offset),font.tables.fpgm=p.parseByteList(tableEntry.length);break;case"head":table=uncompressTable(data,tableEntry),font.tables.head=tables_head.parse(table.data,table.offset),font.unitsPerEm=font.tables.head.unitsPerEm,indexToLocFormat=font.tables.head.indexToLocFormat;break;case"hhea":table=uncompressTable(data,tableEntry),font.tables.hhea=tables_hhea.parse(table.data,table.offset),font.ascender=font.tables.hhea.ascender,font.descender=font.tables.hhea.descender,font.numberOfHMetrics=font.tables.hhea.numberOfHMetrics;break;case"hmtx":hmtxTableEntry=tableEntry;break;case"ltag":table=uncompressTable(data,tableEntry),ltagTable=tables_ltag.parse(table.data,table.offset);break;case"maxp":table=uncompressTable(data,tableEntry),font.tables.maxp=tables_maxp.parse(table.data,table.offset),font.numGlyphs=font.tables.maxp.numGlyphs;break;case"name":nameTableEntry=tableEntry;break;case"OS/2":table=uncompressTable(data,tableEntry),font.tables.os2=tables_os2.parse(table.data,table.offset);break;case"post":table=uncompressTable(data,tableEntry),font.tables.post=tables_post.parse(table.data,table.offset),font.glyphNames=new GlyphNames(font.tables.post);break;case"prep":table=uncompressTable(data,tableEntry),p=new src_parse.Parser(table.data,table.offset),font.tables.prep=p.parseByteList(tableEntry.length);break;case"glyf":glyfTableEntry=tableEntry;break;case"loca":locaTableEntry=tableEntry;break;case"CFF ":cffTableEntry=tableEntry;break;case"kern":kernTableEntry=tableEntry;break;case"GPOS":gposTableEntry=tableEntry;break;case"GSUB":gsubTableEntry=tableEntry;break;case"meta":metaTableEntry=tableEntry}}const nameTable=uncompressTable(data,nameTableEntry);if(font.tables.name=tables_name.parse(nameTable.data,nameTable.offset,ltagTable),font.names=font.tables.name,glyfTableEntry&&locaTableEntry){const shortVersion=0===indexToLocFormat,locaTable=uncompressTable(data,locaTableEntry),locaOffsets=tables_loca.parse(locaTable.data,locaTable.offset,font.numGlyphs,shortVersion),glyfTable=uncompressTable(data,glyfTableEntry);font.glyphs=glyf.parse(glyfTable.data,glyfTable.offset,locaOffsets,font)}else{if(!cffTableEntry)throw new Error("Font doesn't contain TrueType or CFF outlines.");{const cffTable=uncompressTable(data,cffTableEntry);cff.parse(cffTable.data,cffTable.offset,font)}}const hmtxTable=uncompressTable(data,hmtxTableEntry);if(hmtx.parse(hmtxTable.data,hmtxTable.offset,font.numberOfHMetrics,font.numGlyphs,font.glyphs),function(font){let glyph;const glyphIndexMap=font.tables.cmap.glyphIndexMap,charCodes=Object.keys(glyphIndexMap);for(let i=0;i<charCodes.length;i+=1){const c=charCodes[i],glyphIndex=glyphIndexMap[c];(glyph=font.glyphs.get(glyphIndex)).addUnicode(parseInt(c))}for(let i=0;i<font.glyphs.length;i+=1)glyph=font.glyphs.get(i),font.cffEncoding?font.isCIDFont?glyph.name="gid"+i:glyph.name=font.cffEncoding.charset[i]:font.glyphNames.names&&(glyph.name=font.glyphNames.glyphIndexToName(i))}(font),kernTableEntry){const kernTable=uncompressTable(data,kernTableEntry);font.kerningPairs=kern.parse(kernTable.data,kernTable.offset)}else font.kerningPairs={};if(gposTableEntry){const gposTable=uncompressTable(data,gposTableEntry);font.tables.gpos=tables_gpos.parse(gposTable.data,gposTable.offset)}if(gsubTableEntry){const gsubTable=uncompressTable(data,gsubTableEntry);font.tables.gsub=tables_gsub.parse(gsubTable.data,gsubTable.offset)}if(fvarTableEntry){const fvarTable=uncompressTable(data,fvarTableEntry);font.tables.fvar=tables_fvar.parse(fvarTable.data,fvarTable.offset,font.names)}if(metaTableEntry){const metaTable=uncompressTable(data,metaTableEntry);font.tables.meta=meta.parse(metaTable.data,metaTable.offset),font.metas=font.tables.meta}return font}function load(url,callback){("undefined"==typeof window?loadFromFile:loadFromUrl)(url,function(err,arrayBuffer){if(err)return callback(err);let font;try{font=parseBuffer(arrayBuffer)}catch(e){return callback(e,null)}return callback(null,font)})}function loadSync(url){return parseBuffer(nodeBufferToArrayBuffer(__webpack_require__(67).readFileSync(url)))}__webpack_require__.d(__webpack_exports__,"parse",function(){return parseBuffer}),__webpack_require__.d(__webpack_exports__,"load",function(){return load}),__webpack_require__.d(__webpack_exports__,"loadSync",function(){return loadSync}),__webpack_require__.d(__webpack_exports__,"Font",function(){return src_font}),__webpack_require__.d(__webpack_exports__,"Glyph",function(){return src_glyph}),__webpack_require__.d(__webpack_exports__,"Path",function(){return src_path}),__webpack_require__.d(__webpack_exports__,"BoundingBox",function(){return bbox}),__webpack_require__.d(__webpack_exports__,"_parse",function(){return src_parse})},,function(module,exports,__webpack_require__){"use strict";var Buffer=__webpack_require__(59).Buffer;function hasFrom(){return Buffer.hasOwnProperty("from")&&"function"==typeof Buffer.from}function cloneBuffer(buf){if(!Buffer.isBuffer(buf))throw new Error("Can only clone Buffer.");if(hasFrom())return Buffer.from(buf);var copy=new Buffer(buf.length);return buf.copy(copy),copy}cloneBuffer.hasFrom=hasFrom,module.exports=cloneBuffer},function(module,exports,__webpack_require__){var denodeify=__webpack_require__(1314)(Promise),tough=__webpack_require__(437);module.exports=function(fetch,jar){fetch=fetch||window.fetch,jar=jar||new tough.CookieJar;var getCookieString=denodeify(jar.getCookieString.bind(jar)),setCookie=denodeify(jar.setCookie.bind(jar));return function(url,opts){return opts=opts||{},getCookieString(url).then(function(cookie){return fetch(url,Object.assign(opts,{headers:Object.assign(opts.headers||{},cookie?{cookie:cookie}:{})}))}).then(function(res){var cookies;if(res.headers.getAll)cookies=res.headers.getAll("set-cookie");else{var cookie=res.headers.get("set-cookie");cookies=cookie&&cookie.split(",")||[]}return cookies.length?Promise.all(cookies.map(function(cookie){return setCookie(cookie,res.url)})).then(function(){return res}):res})}}},,,function(module,exports,__webpack_require__){"use strict";
/**
 * A Node.js wrapper for the Matomo (http://matomo.org) tracking HTTP API
 * https://github.com/matomo-org/matomo-nodejs-tracker
 *
 * @author  Frederic Hemberger, Matomo Team
 * @license MIT
 */const assert=__webpack_require__(192),events=__webpack_require__(43),util=__webpack_require__(8),qs=__webpack_require__(186),url=__webpack_require__(20);function MatomoTracker(siteId,trackerUrl,noURLValidation){if(!(this instanceof MatomoTracker))return new MatomoTracker(siteId,trackerUrl,noURLValidation);events.EventEmitter.call(this),assert.ok(siteId&&("number"==typeof siteId||"string"==typeof siteId),"Matomo siteId required."),assert.ok(trackerUrl&&"string"==typeof trackerUrl,"Matomo tracker URL required, e.g. http://example.com/matomo.php"),noURLValidation||assert.ok(trackerUrl.endsWith("matomo.php")||trackerUrl.endsWith("piwik.php"),'A tracker URL must end with "matomo.php" or "piwik.php"'),this.siteId=siteId,this.trackerUrl=trackerUrl,this.agent=__webpack_require__(trackerUrl.startsWith("https")?95:65)}util.inherits(MatomoTracker,events.EventEmitter),MatomoTracker.prototype.track=function(options){var hasErrorListeners=this.listeners("error").length;"string"==typeof options&&(options={url:options}),(options=options||{}).idsite=this.siteId,options.rec=1,assert.ok(options.url,"URL to be tracked must be specified.");var requestUrl=this.trackerUrl+"?"+qs.stringify(options),self=this,req=this.agent.get(requestUrl,function(res){/^(200|30[12478])$/.test(res.statusCode)||hasErrorListeners&&self.emit("error",res.statusCode)});req.on("error",function(err){hasErrorListeners&&self.emit("error",err.message)}),req.end()},MatomoTracker.prototype.trackBulk=function(events,callback){var hasErrorListeners=this.listeners("error").length;assert.ok(events&&events.length>0,"Events require at least one."),assert.ok(void 0!==this.siteId&&null!==this.siteId,"siteId must be specified.");var body=JSON.stringify({requests:events.map(query=>(query.idsite=this.siteId,query.rec=1,"?"+qs.stringify(query)))}),uri=url.parse(this.trackerUrl);const requestOptions={protocol:uri.protocol,hostname:uri.hostname,port:uri.port,path:uri.path,method:"POST",headers:{"Content-Type":"application/json","Content-Length":Buffer.byteLength(body)}},req=this.agent.request(requestOptions,res=>{/^(20[04]|30[12478])$/.test(res.statusCode)||hasErrorListeners&&this.emit("error",res.statusCode);let data=[];res.on("data",chunk=>{data.push(chunk)}),res.on("end",()=>{data=Buffer.concat(data).toString(),"function"==typeof callback&&callback(data)})});req.on("error",err=>{hasErrorListeners&&this.emit("error",err.message)}),req.write(body),req.end()},module.exports=MatomoTracker},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1392).Geco},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"getTracker",function(){return getTracker});var _babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(14),_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0__),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(21),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(26),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__),matomo_tracker__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1237),matomo_tracker__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(matomo_tracker__WEBPACK_IMPORTED_MODULE_3__),cozy_logger__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(29),log=__webpack_require__.n(cozy_logger__WEBPACK_IMPORTED_MODULE_4__).a.namespace("matomo-node-tracker"),NodeTracker=function(){function NodeTracker(defaultOpts){_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this,NodeTracker),this.tracker=new matomo_tracker__WEBPACK_IMPORTED_MODULE_3___default.a(8,"https://matomo.cozycloud.cc/piwik.php"),this.tracker.on("error",function(err){log("error",err)}),this.opts=Object.assign({url:process.env.COZY_URL,e_c:"Banks"},defaultOpts)}return _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(NodeTracker,[{key:"trackEvent",value:function(eventOpts){var event=_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_0___default()({},this.opts,eventOpts),stringifiedEvent=JSON.stringify(event);log("info","Send event to Piwik ".concat(stringifiedEvent)),this.tracker.track(event)}}]),NodeTracker}();function getTracker(target){var opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new NodeTracker(opts)}},,function(module,exports,__webpack_require__){const chalk=__webpack_require__(434),util=__webpack_require__(8),stringify=__webpack_require__(301);util&&util.inspect&&util.inspect.defaultOptions&&(util.inspect.defaultOptions.maxArrayLength=null,util.inspect.defaultOptions.depth=2,util.inspect.defaultOptions.colors=!0);const LOG_LENGTH_LIMIT=65535,type2color={debug:"cyan",warn:"yellow",info:"blue",error:"red",ok:"green",secret:"red",critical:"red"};function prodFormat(type,message,label,namespace){const log={time:new Date,type:type,label:label,namespace:namespace};"object"==typeof message?(message&&message.no_retry&&(log.no_retry=message.no_retry),message&&message.message&&(log.message=message.message)):log.message=message,log.message&&log.message.stack&&(log.message=log.message.stack);let result=log;try{result=stringify(log).substr(0,LOG_LENGTH_LIMIT)}catch(err){console.log(err.message,"cozy-logger: Failed to convert message to JSON")}return result}function devFormat(type,message,label,namespace){let formatmessage=message;"string"!=typeof formatmessage&&(formatmessage=util.inspect(formatmessage));let formatlabel=label?` : "${label}" `:"",formatnamespace=namespace?chalk.magenta(`${namespace}: `):"",color=type2color[type];return`${formatnamespace}${color?chalk[color](type):type}${formatlabel} : ${formatmessage}`}const env2formats={production:prodFormat,development:devFormat,standalone:devFormat,test:devFormat};module.exports={prodFormat:prodFormat,devFormat:devFormat,env2formats:env2formats}},function(module,exports,__webpack_require__){const levels={secret:0,debug:10,info:20,warn:30,error:40,ok:50,critical:50},Secret=__webpack_require__(948);module.exports={filterSecrets:function(level,type,message){if("secret"!==type&&message instanceof Secret)throw new Error("You should log a secret with log.secret")},filterLevel:function(level,type){return levels[type]>=levels[level]}}},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}var request=__webpack_require__(949),requestdebug=__webpack_require__(1278);function requestToStrings(type,data){var result={};return result.oneline="request"===type?"".concat(data.method," -> ").concat(data.uri," ").concat(data.headers["content-length"]?"Content-Length: "+data.headers["content-length"]:""):"response"===type?"<- ".concat(data.statusCode,"  ").concat(data.headers["content-length"]?"Content-Length: "+data.headers["content-length"]:""):"<- ".concat(data.statusCode," ").concat(data.uri),result.headers=Object.keys(data.headers).map(function(key){return"".concat(key,": ").concat(data.headers[key])}).join("\n"),result.body=data.body,result}function mergeDefaultOptions(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!0===options.cheerio&&(options.json=!1),_extends({},{debug:!1,json:!0,cheerio:!1,headers:{},followAllRedirects:!0},options)}function transformWithCheerio(body,response,resolveWithFullResponse){var result=__webpack_require__(823).load(body);return resolveWithFullResponse?_extends({},response,{body:result}):result}function getRequestOptions(_ref2){var cheerio=_ref2.cheerio,userAgent=_ref2.userAgent,options=_objectWithoutProperties(_ref2,["cheerio","userAgent"]);return _extends({},options,cheerio?{transform:transformWithCheerio,headers:_extends({},options.headers,{"User-Agent":void 0===userAgent||userAgent?DEFAULT_USER_AGENT:options.headers["User-Agent"]})}:{headers:_extends({},options.headers,{"User-Agent":userAgent?DEFAULT_USER_AGENT:options.headers["User-Agent"]})})}module.exports={default:function(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{debug:!1},debug=_ref.debug,options=_objectWithoutProperties(_ref,["debug"]),logFn=function(debug){if("simple"===debug)return function(type,data){return console.error(requestToStrings(type,data).oneline)};if("json"===debug)return function(type,data){return console.error(JSON.stringify({type:type,data:data}))};if("full"===debug)return function(type,data){var _requestToStrings=requestToStrings(type,data),oneline=_requestToStrings.oneline,headers=_requestToStrings.headers,body=_requestToStrings.body;console.error("".concat(oneline,"\n\nBEGIN HEADERS\n").concat(headers,"\nEND HEADERS\n\n")+(body?"BEGIN BODY\n".concat(body,"\nEND BODY\n\n"):""))};if("function"==typeof debug)return function(type,data,resp){return debug({strings:requestToStrings(type,data),type:type,data:data,resp:resp})}}(debug);return debug&&requestdebug(request,logFn),request.defaults(getRequestOptions(mergeDefaultOptions(options)))},mergeDefaultOptions:mergeDefaultOptions,transformWithCheerio:transformWithCheerio,getRequestOptions:getRequestOptions};var DEFAULT_USER_AGENT="Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:62.0) Gecko/20100101 Firefox/62.0"},function(module,exports,__webpack_require__){"use strict";module.exports=function(){var makeSelfResolutionError=function(){return new TypeError("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},reflectHandler=function(){return new Promise.PromiseInspection(this._target())},apiRejection=function(msg){return Promise.reject(new TypeError(msg))};function Proxyable(){}var getDomain,UNDEFINED_BINDING={},util=__webpack_require__(52);getDomain=util.isNode?function(){var ret=process.domain;return void 0===ret&&(ret=null),ret}:function(){return null},util.notEnumerableProp(Promise,"_getDomain",getDomain);var es5=__webpack_require__(287),Async=__webpack_require__(1246),async=new Async;es5.defineProperty(Promise,"_async",{value:async});var errors=__webpack_require__(259),TypeError=Promise.TypeError=errors.TypeError;Promise.RangeError=errors.RangeError;var CancellationError=Promise.CancellationError=errors.CancellationError;Promise.TimeoutError=errors.TimeoutError,Promise.OperationalError=errors.OperationalError,Promise.RejectionError=errors.OperationalError,Promise.AggregateError=errors.AggregateError;var INTERNAL=function(){},APPLY={},NEXT_FILTER={},tryConvertToPromise=__webpack_require__(1249)(Promise,INTERNAL),PromiseArray=__webpack_require__(1250)(Promise,INTERNAL,tryConvertToPromise,apiRejection,Proxyable),Context=__webpack_require__(1251)(Promise),createContext=Context.create,debug=__webpack_require__(1252)(Promise,Context),PassThroughHandlerContext=(debug.CapturedTrace,__webpack_require__(1253)(Promise,tryConvertToPromise,NEXT_FILTER)),catchFilter=__webpack_require__(950)(NEXT_FILTER),nodebackForPromise=__webpack_require__(951),errorObj=util.errorObj,tryCatch=util.tryCatch;function Promise(executor){executor!==INTERNAL&&function(self,executor){if(null==self||self.constructor!==Promise)throw new TypeError("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof executor)throw new TypeError("expecting a function but got "+util.classString(executor))}(this,executor),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(executor),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function deferResolve(v){this.promise._resolveCallback(v)}function deferReject(v){this.promise._rejectCallback(v,!1)}function fillTypes(value){var p=new Promise(INTERNAL);p._fulfillmentHandler0=value,p._rejectionHandler0=value,p._promise0=value,p._receiver0=value}return Promise.prototype.toString=function(){return"[object Promise]"},Promise.prototype.caught=Promise.prototype.catch=function(fn){var len=arguments.length;if(len>1){var i,catchInstances=new Array(len-1),j=0;for(i=0;i<len-1;++i){var item=arguments[i];if(!util.isObject(item))return apiRejection("Catch statement predicate: expecting an object but got "+util.classString(item));catchInstances[j++]=item}if(catchInstances.length=j,"function"!=typeof(fn=arguments[i]))throw new TypeError("The last argument to .catch() must be a function, got "+util.toString(fn));return this.then(void 0,catchFilter(catchInstances,fn,this))}return this.then(void 0,fn)},Promise.prototype.reflect=function(){return this._then(reflectHandler,reflectHandler,void 0,this,void 0)},Promise.prototype.then=function(didFulfill,didReject){if(debug.warnings()&&arguments.length>0&&"function"!=typeof didFulfill&&"function"!=typeof didReject){var msg=".then() only accepts functions but was passed: "+util.classString(didFulfill);arguments.length>1&&(msg+=", "+util.classString(didReject)),this._warn(msg)}return this._then(didFulfill,didReject,void 0,void 0,void 0)},Promise.prototype.done=function(didFulfill,didReject){this._then(didFulfill,didReject,void 0,void 0,void 0)._setIsFinal()},Promise.prototype.spread=function(fn){return"function"!=typeof fn?apiRejection("expecting a function but got "+util.classString(fn)):this.all()._then(fn,void 0,void 0,APPLY,void 0)},Promise.prototype.toJSON=function(){var ret={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(ret.fulfillmentValue=this.value(),ret.isFulfilled=!0):this.isRejected()&&(ret.rejectionReason=this.reason(),ret.isRejected=!0),ret},Promise.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new PromiseArray(this).promise()},Promise.prototype.error=function(fn){return this.caught(util.originatesFromRejection,fn)},Promise.getNewLibraryCopy=module.exports,Promise.is=function(val){return val instanceof Promise},Promise.fromNode=Promise.fromCallback=function(fn){var ret=new Promise(INTERNAL);ret._captureStackTrace();var multiArgs=arguments.length>1&&!!Object(arguments[1]).multiArgs,result=tryCatch(fn)(nodebackForPromise(ret,multiArgs));return result===errorObj&&ret._rejectCallback(result.e,!0),ret._isFateSealed()||ret._setAsyncGuaranteed(),ret},Promise.all=function(promises){return new PromiseArray(promises).promise()},Promise.cast=function(obj){var ret=tryConvertToPromise(obj);return ret instanceof Promise||((ret=new Promise(INTERNAL))._captureStackTrace(),ret._setFulfilled(),ret._rejectionHandler0=obj),ret},Promise.resolve=Promise.fulfilled=Promise.cast,Promise.reject=Promise.rejected=function(reason){var ret=new Promise(INTERNAL);return ret._captureStackTrace(),ret._rejectCallback(reason,!0),ret},Promise.setScheduler=function(fn){if("function"!=typeof fn)throw new TypeError("expecting a function but got "+util.classString(fn));return async.setScheduler(fn)},Promise.prototype._then=function(didFulfill,didReject,_,receiver,internalData){var haveInternalData=void 0!==internalData,promise=haveInternalData?internalData:new Promise(INTERNAL),target=this._target(),bitField=target._bitField;haveInternalData||(promise._propagateFrom(this,3),promise._captureStackTrace(),void 0===receiver&&0!=(2097152&this._bitField)&&(receiver=0!=(50397184&bitField)?this._boundValue():target===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,promise));var domain=getDomain();if(0!=(50397184&bitField)){var handler,value,settler=target._settlePromiseCtx;0!=(33554432&bitField)?(value=target._rejectionHandler0,handler=didFulfill):0!=(16777216&bitField)?(value=target._fulfillmentHandler0,handler=didReject,target._unsetRejectionIsUnhandled()):(settler=target._settlePromiseLateCancellationObserver,value=new CancellationError("late cancellation observer"),target._attachExtraTrace(value),handler=didReject),async.invoke(settler,target,{handler:null===domain?handler:"function"==typeof handler&&util.domainBind(domain,handler),promise:promise,receiver:receiver,value:value})}else target._addCallbacks(didFulfill,didReject,promise,receiver,domain);return promise},Promise.prototype._length=function(){return 65535&this._bitField},Promise.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},Promise.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},Promise.prototype._setLength=function(len){this._bitField=-65536&this._bitField|65535&len},Promise.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},Promise.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},Promise.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},Promise.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},Promise.prototype._isFinal=function(){return(4194304&this._bitField)>0},Promise.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},Promise.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},Promise.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},Promise.prototype._setAsyncGuaranteed=function(){async.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},Promise.prototype._receiverAt=function(index){var ret=0===index?this._receiver0:this[4*index-4+3];if(ret!==UNDEFINED_BINDING)return void 0===ret&&this._isBound()?this._boundValue():ret},Promise.prototype._promiseAt=function(index){return this[4*index-4+2]},Promise.prototype._fulfillmentHandlerAt=function(index){return this[4*index-4+0]},Promise.prototype._rejectionHandlerAt=function(index){return this[4*index-4+1]},Promise.prototype._boundValue=function(){},Promise.prototype._migrateCallback0=function(follower){follower._bitField;var fulfill=follower._fulfillmentHandler0,reject=follower._rejectionHandler0,promise=follower._promise0,receiver=follower._receiverAt(0);void 0===receiver&&(receiver=UNDEFINED_BINDING),this._addCallbacks(fulfill,reject,promise,receiver,null)},Promise.prototype._migrateCallbackAt=function(follower,index){var fulfill=follower._fulfillmentHandlerAt(index),reject=follower._rejectionHandlerAt(index),promise=follower._promiseAt(index),receiver=follower._receiverAt(index);void 0===receiver&&(receiver=UNDEFINED_BINDING),this._addCallbacks(fulfill,reject,promise,receiver,null)},Promise.prototype._addCallbacks=function(fulfill,reject,promise,receiver,domain){var index=this._length();if(index>=65531&&(index=0,this._setLength(0)),0===index)this._promise0=promise,this._receiver0=receiver,"function"==typeof fulfill&&(this._fulfillmentHandler0=null===domain?fulfill:util.domainBind(domain,fulfill)),"function"==typeof reject&&(this._rejectionHandler0=null===domain?reject:util.domainBind(domain,reject));else{var base=4*index-4;this[base+2]=promise,this[base+3]=receiver,"function"==typeof fulfill&&(this[base+0]=null===domain?fulfill:util.domainBind(domain,fulfill)),"function"==typeof reject&&(this[base+1]=null===domain?reject:util.domainBind(domain,reject))}return this._setLength(index+1),index},Promise.prototype._proxy=function(proxyable,arg){this._addCallbacks(void 0,void 0,arg,proxyable,null)},Promise.prototype._resolveCallback=function(value,shouldBind){if(0==(117506048&this._bitField)){if(value===this)return this._rejectCallback(makeSelfResolutionError(),!1);var maybePromise=tryConvertToPromise(value,this);if(!(maybePromise instanceof Promise))return this._fulfill(value);shouldBind&&this._propagateFrom(maybePromise,2);var promise=maybePromise._target();if(promise!==this){var bitField=promise._bitField;if(0==(50397184&bitField)){var len=this._length();len>0&&promise._migrateCallback0(this);for(var i=1;i<len;++i)promise._migrateCallbackAt(this,i);this._setFollowing(),this._setLength(0),this._setFollowee(promise)}else if(0!=(33554432&bitField))this._fulfill(promise._value());else if(0!=(16777216&bitField))this._reject(promise._reason());else{var reason=new CancellationError("late cancellation observer");promise._attachExtraTrace(reason),this._reject(reason)}}else this._reject(makeSelfResolutionError())}},Promise.prototype._rejectCallback=function(reason,synchronous,ignoreNonErrorWarnings){var trace=util.ensureErrorObject(reason),hasStack=trace===reason;if(!hasStack&&!ignoreNonErrorWarnings&&debug.warnings()){var message="a promise was rejected with a non-error: "+util.classString(reason);this._warn(message,!0)}this._attachExtraTrace(trace,!!synchronous&&hasStack),this._reject(reason)},Promise.prototype._resolveFromExecutor=function(executor){if(executor!==INTERNAL){var promise=this;this._captureStackTrace(),this._pushContext();var synchronous=!0,r=this._execute(executor,function(value){promise._resolveCallback(value)},function(reason){promise._rejectCallback(reason,synchronous)});synchronous=!1,this._popContext(),void 0!==r&&promise._rejectCallback(r,!0)}},Promise.prototype._settlePromiseFromHandler=function(handler,receiver,value,promise){var bitField=promise._bitField;if(0==(65536&bitField)){var x;promise._pushContext(),receiver===APPLY?value&&"number"==typeof value.length?x=tryCatch(handler).apply(this._boundValue(),value):(x=errorObj).e=new TypeError("cannot .spread() a non-array: "+util.classString(value)):x=tryCatch(handler).call(receiver,value);var promiseCreated=promise._popContext();0==(65536&(bitField=promise._bitField))&&(x===NEXT_FILTER?promise._reject(value):x===errorObj?promise._rejectCallback(x.e,!1):(debug.checkForgottenReturns(x,promiseCreated,"",promise,this),promise._resolveCallback(x)))}},Promise.prototype._target=function(){for(var ret=this;ret._isFollowing();)ret=ret._followee();return ret},Promise.prototype._followee=function(){return this._rejectionHandler0},Promise.prototype._setFollowee=function(promise){this._rejectionHandler0=promise},Promise.prototype._settlePromise=function(promise,handler,receiver,value){var isPromise=promise instanceof Promise,bitField=this._bitField,asyncGuaranteed=0!=(134217728&bitField);0!=(65536&bitField)?(isPromise&&promise._invokeInternalOnCancel(),receiver instanceof PassThroughHandlerContext&&receiver.isFinallyHandler()?(receiver.cancelPromise=promise,tryCatch(handler).call(receiver,value)===errorObj&&promise._reject(errorObj.e)):handler===reflectHandler?promise._fulfill(reflectHandler.call(receiver)):receiver instanceof Proxyable?receiver._promiseCancelled(promise):isPromise||promise instanceof PromiseArray?promise._cancel():receiver.cancel()):"function"==typeof handler?isPromise?(asyncGuaranteed&&promise._setAsyncGuaranteed(),this._settlePromiseFromHandler(handler,receiver,value,promise)):handler.call(receiver,value,promise):receiver instanceof Proxyable?receiver._isResolved()||(0!=(33554432&bitField)?receiver._promiseFulfilled(value,promise):receiver._promiseRejected(value,promise)):isPromise&&(asyncGuaranteed&&promise._setAsyncGuaranteed(),0!=(33554432&bitField)?promise._fulfill(value):promise._reject(value))},Promise.prototype._settlePromiseLateCancellationObserver=function(ctx){var handler=ctx.handler,promise=ctx.promise,receiver=ctx.receiver,value=ctx.value;"function"==typeof handler?promise instanceof Promise?this._settlePromiseFromHandler(handler,receiver,value,promise):handler.call(receiver,value,promise):promise instanceof Promise&&promise._reject(value)},Promise.prototype._settlePromiseCtx=function(ctx){this._settlePromise(ctx.promise,ctx.handler,ctx.receiver,ctx.value)},Promise.prototype._settlePromise0=function(handler,value,bitField){var promise=this._promise0,receiver=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(promise,handler,receiver,value)},Promise.prototype._clearCallbackDataAtIndex=function(index){var base=4*index-4;this[base+2]=this[base+3]=this[base+0]=this[base+1]=void 0},Promise.prototype._fulfill=function(value){var bitField=this._bitField;if(!((117506048&bitField)>>>16)){if(value===this){var err=makeSelfResolutionError();return this._attachExtraTrace(err),this._reject(err)}this._setFulfilled(),this._rejectionHandler0=value,(65535&bitField)>0&&(0!=(134217728&bitField)?this._settlePromises():async.settlePromises(this),this._dereferenceTrace())}},Promise.prototype._reject=function(reason){var bitField=this._bitField;if(!((117506048&bitField)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=reason,this._isFinal())return async.fatalError(reason,util.isNode);(65535&bitField)>0?async.settlePromises(this):this._ensurePossibleRejectionHandled()}},Promise.prototype._fulfillPromises=function(len,value){for(var i=1;i<len;i++){var handler=this._fulfillmentHandlerAt(i),promise=this._promiseAt(i),receiver=this._receiverAt(i);this._clearCallbackDataAtIndex(i),this._settlePromise(promise,handler,receiver,value)}},Promise.prototype._rejectPromises=function(len,reason){for(var i=1;i<len;i++){var handler=this._rejectionHandlerAt(i),promise=this._promiseAt(i),receiver=this._receiverAt(i);this._clearCallbackDataAtIndex(i),this._settlePromise(promise,handler,receiver,reason)}},Promise.prototype._settlePromises=function(){var bitField=this._bitField,len=65535&bitField;if(len>0){if(0!=(16842752&bitField)){var reason=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,reason,bitField),this._rejectPromises(len,reason)}else{var value=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,value,bitField),this._fulfillPromises(len,value)}this._setLength(0)}this._clearCancellationData()},Promise.prototype._settledValue=function(){var bitField=this._bitField;return 0!=(33554432&bitField)?this._rejectionHandler0:0!=(16777216&bitField)?this._fulfillmentHandler0:void 0},"undefined"!=typeof Symbol&&Symbol.toStringTag&&es5.defineProperty(Promise.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),Promise.defer=Promise.pending=function(){return debug.deprecated("Promise.defer","new Promise"),{promise:new Promise(INTERNAL),resolve:deferResolve,reject:deferReject}},util.notEnumerableProp(Promise,"_makeSelfResolutionError",makeSelfResolutionError),__webpack_require__(1254)(Promise,INTERNAL,tryConvertToPromise,apiRejection,debug),__webpack_require__(1255)(Promise,INTERNAL,tryConvertToPromise,debug),__webpack_require__(1256)(Promise,PromiseArray,apiRejection,debug),__webpack_require__(1257)(Promise),__webpack_require__(1258)(Promise),__webpack_require__(1259)(Promise,PromiseArray,tryConvertToPromise,INTERNAL,async,getDomain),Promise.Promise=Promise,Promise.version="3.5.5",__webpack_require__(1260)(Promise),__webpack_require__(1261)(Promise,apiRejection,INTERNAL,tryConvertToPromise,Proxyable,debug),__webpack_require__(1262)(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL,debug),__webpack_require__(1263)(Promise),__webpack_require__(1264)(Promise,INTERNAL),__webpack_require__(1265)(Promise,PromiseArray,tryConvertToPromise,apiRejection),__webpack_require__(1266)(Promise,INTERNAL,tryConvertToPromise,apiRejection),__webpack_require__(1267)(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL,debug),__webpack_require__(1268)(Promise,PromiseArray,debug),__webpack_require__(1269)(Promise,PromiseArray,apiRejection),__webpack_require__(1270)(Promise,INTERNAL,debug),__webpack_require__(1271)(Promise,apiRejection,tryConvertToPromise,createContext,INTERNAL,debug),__webpack_require__(1272)(Promise),__webpack_require__(1273)(Promise,INTERNAL),__webpack_require__(1274)(Promise,INTERNAL),util.toFastProperties(Promise),util.toFastProperties(Promise.prototype),fillTypes({a:1}),fillTypes({b:2}),fillTypes({c:3}),fillTypes(1),fillTypes(function(){}),fillTypes(void 0),fillTypes(!1),fillTypes(new Promise(INTERNAL)),debug.setBounds(Async.firstLineError,util.lastLineError),Promise}},function(module,exports,__webpack_require__){"use strict";var firstLineError;try{throw new Error}catch(e){firstLineError=e}var schedule=__webpack_require__(1247),Queue=__webpack_require__(1248),util=__webpack_require__(52);function Async(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new Queue(16),this._normalQueue=new Queue(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var self=this;this.drainQueues=function(){self._drainQueues()},this._schedule=schedule}function AsyncInvokeLater(fn,receiver,arg){this._lateQueue.push(fn,receiver,arg),this._queueTick()}function AsyncInvoke(fn,receiver,arg){this._normalQueue.push(fn,receiver,arg),this._queueTick()}function AsyncSettlePromises(promise){this._normalQueue._pushOne(promise),this._queueTick()}function _drainQueue(queue){for(;queue.length()>0;)_drainQueueStep(queue)}function _drainQueueStep(queue){var fn=queue.shift();if("function"!=typeof fn)fn._settlePromises();else{var receiver=queue.shift(),arg=queue.shift();fn.call(receiver,arg)}}Async.prototype.setScheduler=function(fn){var prev=this._schedule;return this._schedule=fn,this._customScheduler=!0,prev},Async.prototype.hasCustomScheduler=function(){return this._customScheduler},Async.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},Async.prototype.disableTrampolineIfNecessary=function(){util.hasDevTools&&(this._trampolineEnabled=!1)},Async.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},Async.prototype.fatalError=function(e,isNode){isNode?(process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),process.exit(2)):this.throwLater(e)},Async.prototype.throwLater=function(fn,arg){if(1===arguments.length&&(arg=fn,fn=function(){throw arg}),"undefined"!=typeof setTimeout)setTimeout(function(){fn(arg)},0);else try{this._schedule(function(){fn(arg)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},util.hasDevTools?(Async.prototype.invokeLater=function(fn,receiver,arg){this._trampolineEnabled?AsyncInvokeLater.call(this,fn,receiver,arg):this._schedule(function(){setTimeout(function(){fn.call(receiver,arg)},100)})},Async.prototype.invoke=function(fn,receiver,arg){this._trampolineEnabled?AsyncInvoke.call(this,fn,receiver,arg):this._schedule(function(){fn.call(receiver,arg)})},Async.prototype.settlePromises=function(promise){this._trampolineEnabled?AsyncSettlePromises.call(this,promise):this._schedule(function(){promise._settlePromises()})}):(Async.prototype.invokeLater=AsyncInvokeLater,Async.prototype.invoke=AsyncInvoke,Async.prototype.settlePromises=AsyncSettlePromises),Async.prototype._drainQueues=function(){_drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,_drainQueue(this._lateQueue)},Async.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},Async.prototype._reset=function(){this._isTickUsed=!1},module.exports=Async,module.exports.firstLineError=firstLineError},function(module,exports,__webpack_require__){"use strict";var schedule,util=__webpack_require__(52),NativePromise=util.getNativePromise();if(util.isNode&&"undefined"==typeof MutationObserver){var GlobalSetImmediate=global.setImmediate,ProcessNextTick=process.nextTick;schedule=util.isRecentNode?function(fn){GlobalSetImmediate.call(global,fn)}:function(fn){ProcessNextTick.call(process,fn)}}else if("function"==typeof NativePromise&&"function"==typeof NativePromise.resolve){var nativePromise=NativePromise.resolve();schedule=function(fn){nativePromise.then(fn)}}else schedule="undefined"!=typeof MutationObserver&&("undefined"==typeof window||!window.navigator||!window.navigator.standalone&&!window.cordova)&&"classList"in document.documentElement?function(){var div=document.createElement("div"),opts={attributes:!0},toggleScheduled=!1,div2=document.createElement("div");new MutationObserver(function(){div.classList.toggle("foo"),toggleScheduled=!1}).observe(div2,opts);return function(fn){var o=new MutationObserver(function(){o.disconnect(),fn()});o.observe(div,opts),toggleScheduled||(toggleScheduled=!0,div2.classList.toggle("foo"))}}():"undefined"!=typeof setImmediate?function(fn){setImmediate(fn)}:"undefined"!=typeof setTimeout?function(fn){setTimeout(fn,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};module.exports=schedule},function(module,exports,__webpack_require__){"use strict";function Queue(capacity){this._capacity=capacity,this._length=0,this._front=0}Queue.prototype._willBeOverCapacity=function(size){return this._capacity<size},Queue.prototype._pushOne=function(arg){var length=this.length();this._checkCapacity(length+1),this[this._front+length&this._capacity-1]=arg,this._length=length+1},Queue.prototype.push=function(fn,receiver,arg){var length=this.length()+3;if(this._willBeOverCapacity(length))return this._pushOne(fn),this._pushOne(receiver),void this._pushOne(arg);var j=this._front+length-3;this._checkCapacity(length);var wrapMask=this._capacity-1;this[j+0&wrapMask]=fn,this[j+1&wrapMask]=receiver,this[j+2&wrapMask]=arg,this._length=length},Queue.prototype.shift=function(){var front=this._front,ret=this[front];return this[front]=void 0,this._front=front+1&this._capacity-1,this._length--,ret},Queue.prototype.length=function(){return this._length},Queue.prototype._checkCapacity=function(size){this._capacity<size&&this._resizeTo(this._capacity<<1)},Queue.prototype._resizeTo=function(capacity){var oldCapacity=this._capacity;this._capacity=capacity,function(src,srcIndex,dst,dstIndex,len){for(var j=0;j<len;++j)dst[j+dstIndex]=src[j+srcIndex],src[j+srcIndex]=void 0}(this,0,this,oldCapacity,this._front+this._length&oldCapacity-1)},module.exports=Queue},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,INTERNAL){var util=__webpack_require__(52),errorObj=util.errorObj,isObject=util.isObject;var hasProp={}.hasOwnProperty;return function(obj,context){if(isObject(obj)){if(obj instanceof Promise)return obj;var then=function(obj){try{return function(obj){return obj.then}(obj)}catch(e){return errorObj.e=e,errorObj}}(obj);if(then===errorObj){context&&context._pushContext();var ret=Promise.reject(then.e);return context&&context._popContext(),ret}if("function"==typeof then)return function(obj){try{return hasProp.call(obj,"_promise0")}catch(e){return!1}}(obj)?(ret=new Promise(INTERNAL),obj._then(ret._fulfill,ret._reject,void 0,ret,null),ret):function(x,then,context){var promise=new Promise(INTERNAL),ret=promise;context&&context._pushContext(),promise._captureStackTrace(),context&&context._popContext();var synchronous=!0,result=util.tryCatch(then).call(x,function(value){promise&&(promise._resolveCallback(value),promise=null)},function(reason){promise&&(promise._rejectCallback(reason,synchronous,!0),promise=null)});return synchronous=!1,promise&&result===errorObj&&(promise._rejectCallback(result.e,!0,!0),promise=null),ret}(obj,then,context)}return obj}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection,Proxyable){var util=__webpack_require__(52);util.isArray;function PromiseArray(values){var promise=this._promise=new Promise(INTERNAL);values instanceof Promise&&promise._propagateFrom(values,3),promise._setOnCancel(this),this._values=values,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return util.inherits(PromiseArray,Proxyable),PromiseArray.prototype.length=function(){return this._length},PromiseArray.prototype.promise=function(){return this._promise},PromiseArray.prototype._init=function init(_,resolveValueIfEmpty){var values=tryConvertToPromise(this._values,this._promise);if(values instanceof Promise){var bitField=(values=values._target())._bitField;if(this._values=values,0==(50397184&bitField))return this._promise._setAsyncGuaranteed(),values._then(init,this._reject,void 0,this,resolveValueIfEmpty);if(0==(33554432&bitField))return 0!=(16777216&bitField)?this._reject(values._reason()):this._cancel();values=values._value()}if(null!==(values=util.asArray(values)))0!==values.length?this._iterate(values):-5===resolveValueIfEmpty?this._resolveEmptyArray():this._resolve(function(val){switch(val){case-2:return[];case-3:return{};case-6:return new Map}}(resolveValueIfEmpty));else{var err=apiRejection("expecting an array or an iterable object but got "+util.classString(values)).reason();this._promise._rejectCallback(err,!1)}},PromiseArray.prototype._iterate=function(values){var len=this.getActualLength(values.length);this._length=len,this._values=this.shouldCopyValues()?new Array(len):this._values;for(var result=this._promise,isResolved=!1,bitField=null,i=0;i<len;++i){var maybePromise=tryConvertToPromise(values[i],result);bitField=maybePromise instanceof Promise?(maybePromise=maybePromise._target())._bitField:null,isResolved?null!==bitField&&maybePromise.suppressUnhandledRejections():null!==bitField?0==(50397184&bitField)?(maybePromise._proxy(this,i),this._values[i]=maybePromise):isResolved=0!=(33554432&bitField)?this._promiseFulfilled(maybePromise._value(),i):0!=(16777216&bitField)?this._promiseRejected(maybePromise._reason(),i):this._promiseCancelled(i):isResolved=this._promiseFulfilled(maybePromise,i)}isResolved||result._setAsyncGuaranteed()},PromiseArray.prototype._isResolved=function(){return null===this._values},PromiseArray.prototype._resolve=function(value){this._values=null,this._promise._fulfill(value)},PromiseArray.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},PromiseArray.prototype._reject=function(reason){this._values=null,this._promise._rejectCallback(reason,!1)},PromiseArray.prototype._promiseFulfilled=function(value,index){return this._values[index]=value,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},PromiseArray.prototype._promiseCancelled=function(){return this._cancel(),!0},PromiseArray.prototype._promiseRejected=function(reason){return this._totalResolved++,this._reject(reason),!0},PromiseArray.prototype._resultCancelled=function(){if(!this._isResolved()){var values=this._values;if(this._cancel(),values instanceof Promise)values.cancel();else for(var i=0;i<values.length;++i)values[i]instanceof Promise&&values[i].cancel()}},PromiseArray.prototype.shouldCopyValues=function(){return!0},PromiseArray.prototype.getActualLength=function(len){return len},PromiseArray}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise){var longStackTraces=!1,contextStack=[];function Context(){this._trace=new Context.CapturedTrace(peekContext())}function peekContext(){var lastIndex=contextStack.length-1;if(lastIndex>=0)return contextStack[lastIndex]}return Promise.prototype._promiseCreated=function(){},Promise.prototype._pushContext=function(){},Promise.prototype._popContext=function(){return null},Promise._peekContext=Promise.prototype._peekContext=function(){},Context.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,contextStack.push(this._trace))},Context.prototype._popContext=function(){if(void 0!==this._trace){var trace=contextStack.pop(),ret=trace._promiseCreated;return trace._promiseCreated=null,ret}return null},Context.CapturedTrace=null,Context.create=function(){if(longStackTraces)return new Context},Context.deactivateLongStackTraces=function(){},Context.activateLongStackTraces=function(){var Promise_pushContext=Promise.prototype._pushContext,Promise_popContext=Promise.prototype._popContext,Promise_PeekContext=Promise._peekContext,Promise_peekContext=Promise.prototype._peekContext,Promise_promiseCreated=Promise.prototype._promiseCreated;Context.deactivateLongStackTraces=function(){Promise.prototype._pushContext=Promise_pushContext,Promise.prototype._popContext=Promise_popContext,Promise._peekContext=Promise_PeekContext,Promise.prototype._peekContext=Promise_peekContext,Promise.prototype._promiseCreated=Promise_promiseCreated,longStackTraces=!1},longStackTraces=!0,Promise.prototype._pushContext=Context.prototype._pushContext,Promise.prototype._popContext=Context.prototype._popContext,Promise._peekContext=Promise.prototype._peekContext=peekContext,Promise.prototype._promiseCreated=function(){var ctx=this._peekContext();ctx&&null==ctx._promiseCreated&&(ctx._promiseCreated=this)}},Context}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,Context){var unhandledRejectionHandled,possiblyUnhandledRejection,printWarning,getDomain=Promise._getDomain,async=Promise._async,Warning=__webpack_require__(259).Warning,util=__webpack_require__(52),es5=__webpack_require__(287),canAttachTrace=util.canAttachTrace,bluebirdFramePattern=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,nodeFramePattern=/\((?:timers\.js):\d+:\d+\)/,parseLinePattern=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,stackFramePattern=null,formatStack=null,indentStackFrames=!1,debugging=!(0==util.env("BLUEBIRD_DEBUG")||!util.env("BLUEBIRD_DEBUG")&&"development"!==util.env("NODE_ENV")),warnings=!(0==util.env("BLUEBIRD_WARNINGS")||!debugging&&!util.env("BLUEBIRD_WARNINGS")),longStackTraces=!(0==util.env("BLUEBIRD_LONG_STACK_TRACES")||!debugging&&!util.env("BLUEBIRD_LONG_STACK_TRACES")),wForgottenReturn=0!=util.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(warnings||!!util.env("BLUEBIRD_W_FORGOTTEN_RETURN"));Promise.prototype.suppressUnhandledRejections=function(){var target=this._target();target._bitField=-1048577&target._bitField|524288},Promise.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var self=this;setTimeout(function(){self._notifyUnhandledRejection()},1)}},Promise.prototype._notifyUnhandledRejectionIsHandled=function(){fireRejectionEvent("rejectionHandled",unhandledRejectionHandled,void 0,this)},Promise.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},Promise.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},Promise.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var reason=this._settledValue();this._setUnhandledRejectionIsNotified(),fireRejectionEvent("unhandledRejection",possiblyUnhandledRejection,reason,this)}},Promise.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},Promise.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},Promise.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},Promise.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},Promise.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},Promise.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},Promise.prototype._warn=function(message,shouldUseOwnTrace,promise){return warn(message,shouldUseOwnTrace,promise||this)},Promise.onPossiblyUnhandledRejection=function(fn){var domain=getDomain();possiblyUnhandledRejection="function"==typeof fn?null===domain?fn:util.domainBind(domain,fn):void 0},Promise.onUnhandledRejectionHandled=function(fn){var domain=getDomain();unhandledRejectionHandled="function"==typeof fn?null===domain?fn:util.domainBind(domain,fn):void 0};var disableLongStackTraces=function(){};Promise.longStackTraces=function(){if(async.haveItemsQueued()&&!config.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!config.longStackTraces&&longStackTracesIsSupported()){var Promise_captureStackTrace=Promise.prototype._captureStackTrace,Promise_attachExtraTrace=Promise.prototype._attachExtraTrace,Promise_dereferenceTrace=Promise.prototype._dereferenceTrace;config.longStackTraces=!0,disableLongStackTraces=function(){if(async.haveItemsQueued()&&!config.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");Promise.prototype._captureStackTrace=Promise_captureStackTrace,Promise.prototype._attachExtraTrace=Promise_attachExtraTrace,Promise.prototype._dereferenceTrace=Promise_dereferenceTrace,Context.deactivateLongStackTraces(),async.enableTrampoline(),config.longStackTraces=!1},Promise.prototype._captureStackTrace=longStackTracesCaptureStackTrace,Promise.prototype._attachExtraTrace=longStackTracesAttachExtraTrace,Promise.prototype._dereferenceTrace=longStackTracesDereferenceTrace,Context.activateLongStackTraces(),async.disableTrampolineIfNecessary()}},Promise.hasLongStackTraces=function(){return config.longStackTraces&&longStackTracesIsSupported()};var fireDomEvent=function(){try{if("function"==typeof CustomEvent){var event=new CustomEvent("CustomEvent");return util.global.dispatchEvent(event),function(name,event){var eventData={detail:event,cancelable:!0};es5.defineProperty(eventData,"promise",{value:event.promise}),es5.defineProperty(eventData,"reason",{value:event.reason});var domEvent=new CustomEvent(name.toLowerCase(),eventData);return!util.global.dispatchEvent(domEvent)}}if("function"==typeof Event){event=new Event("CustomEvent");return util.global.dispatchEvent(event),function(name,event){var domEvent=new Event(name.toLowerCase(),{cancelable:!0});return domEvent.detail=event,es5.defineProperty(domEvent,"promise",{value:event.promise}),es5.defineProperty(domEvent,"reason",{value:event.reason}),!util.global.dispatchEvent(domEvent)}}return(event=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),util.global.dispatchEvent(event),function(name,event){var domEvent=document.createEvent("CustomEvent");return domEvent.initCustomEvent(name.toLowerCase(),!1,!0,event),!util.global.dispatchEvent(domEvent)}}catch(e){}return function(){return!1}}(),fireGlobalEvent=util.isNode?function(){return process.emit.apply(process,arguments)}:util.global?function(name){var methodName="on"+name.toLowerCase(),method=util.global[methodName];return!!method&&(method.apply(util.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function generatePromiseLifecycleEventObject(name,promise){return{promise:promise}}var eventToObjectGenerator={promiseCreated:generatePromiseLifecycleEventObject,promiseFulfilled:generatePromiseLifecycleEventObject,promiseRejected:generatePromiseLifecycleEventObject,promiseResolved:generatePromiseLifecycleEventObject,promiseCancelled:generatePromiseLifecycleEventObject,promiseChained:function(name,promise,child){return{promise:promise,child:child}},warning:function(name,warning){return{warning:warning}},unhandledRejection:function(name,reason,promise){return{reason:reason,promise:promise}},rejectionHandled:generatePromiseLifecycleEventObject},activeFireEvent=function(name){var globalEventFired=!1;try{globalEventFired=fireGlobalEvent.apply(null,arguments)}catch(e){async.throwLater(e),globalEventFired=!0}var domEventFired=!1;try{domEventFired=fireDomEvent(name,eventToObjectGenerator[name].apply(null,arguments))}catch(e){async.throwLater(e),domEventFired=!0}return domEventFired||globalEventFired};function defaultFireEvent(){return!1}function cancellationExecute(executor,resolve,reject){var promise=this;try{executor(resolve,reject,function(onCancel){if("function"!=typeof onCancel)throw new TypeError("onCancel must be a function, got: "+util.toString(onCancel));promise._attachCancellationCallback(onCancel)})}catch(e){return e}}function cancellationAttachCancellationCallback(onCancel){if(!this._isCancellable())return this;var previousOnCancel=this._onCancel();void 0!==previousOnCancel?util.isArray(previousOnCancel)?previousOnCancel.push(onCancel):this._setOnCancel([previousOnCancel,onCancel]):this._setOnCancel(onCancel)}function cancellationOnCancel(){return this._onCancelField}function cancellationSetOnCancel(onCancel){this._onCancelField=onCancel}function cancellationClearCancellationData(){this._cancellationParent=void 0,this._onCancelField=void 0}function cancellationPropagateFrom(parent,flags){if(0!=(1&flags)){this._cancellationParent=parent;var branchesRemainingToCancel=parent._branchesRemainingToCancel;void 0===branchesRemainingToCancel&&(branchesRemainingToCancel=0),parent._branchesRemainingToCancel=branchesRemainingToCancel+1}0!=(2&flags)&&parent._isBound()&&this._setBoundTo(parent._boundTo)}Promise.config=function(opts){if("longStackTraces"in(opts=Object(opts))&&(opts.longStackTraces?Promise.longStackTraces():!opts.longStackTraces&&Promise.hasLongStackTraces()&&disableLongStackTraces()),"warnings"in opts){var warningsOption=opts.warnings;config.warnings=!!warningsOption,wForgottenReturn=config.warnings,util.isObject(warningsOption)&&"wForgottenReturn"in warningsOption&&(wForgottenReturn=!!warningsOption.wForgottenReturn)}if("cancellation"in opts&&opts.cancellation&&!config.cancellation){if(async.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");Promise.prototype._clearCancellationData=cancellationClearCancellationData,Promise.prototype._propagateFrom=cancellationPropagateFrom,Promise.prototype._onCancel=cancellationOnCancel,Promise.prototype._setOnCancel=cancellationSetOnCancel,Promise.prototype._attachCancellationCallback=cancellationAttachCancellationCallback,Promise.prototype._execute=cancellationExecute,propagateFromFunction=cancellationPropagateFrom,config.cancellation=!0}return"monitoring"in opts&&(opts.monitoring&&!config.monitoring?(config.monitoring=!0,Promise.prototype._fireEvent=activeFireEvent):!opts.monitoring&&config.monitoring&&(config.monitoring=!1,Promise.prototype._fireEvent=defaultFireEvent)),Promise},Promise.prototype._fireEvent=defaultFireEvent,Promise.prototype._execute=function(executor,resolve,reject){try{executor(resolve,reject)}catch(e){return e}},Promise.prototype._onCancel=function(){},Promise.prototype._setOnCancel=function(handler){},Promise.prototype._attachCancellationCallback=function(onCancel){},Promise.prototype._captureStackTrace=function(){},Promise.prototype._attachExtraTrace=function(){},Promise.prototype._dereferenceTrace=function(){},Promise.prototype._clearCancellationData=function(){},Promise.prototype._propagateFrom=function(parent,flags){};var propagateFromFunction=function(parent,flags){0!=(2&flags)&&parent._isBound()&&this._setBoundTo(parent._boundTo)};function boundValueFunction(){var ret=this._boundTo;return void 0!==ret&&ret instanceof Promise?ret.isFulfilled()?ret.value():void 0:ret}function longStackTracesCaptureStackTrace(){this._trace=new CapturedTrace(this._peekContext())}function longStackTracesAttachExtraTrace(error,ignoreSelf){if(canAttachTrace(error)){var trace=this._trace;if(void 0!==trace&&ignoreSelf&&(trace=trace._parent),void 0!==trace)trace.attachExtraTrace(error);else if(!error.__stackCleaned__){var parsed=parseStackAndMessage(error);util.notEnumerableProp(error,"stack",parsed.message+"\n"+parsed.stack.join("\n")),util.notEnumerableProp(error,"__stackCleaned__",!0)}}}function longStackTracesDereferenceTrace(){this._trace=void 0}function warn(message,shouldUseOwnTrace,promise){if(config.warnings){var ctx,warning=new Warning(message);if(shouldUseOwnTrace)promise._attachExtraTrace(warning);else if(config.longStackTraces&&(ctx=Promise._peekContext()))ctx.attachExtraTrace(warning);else{var parsed=parseStackAndMessage(warning);warning.stack=parsed.message+"\n"+parsed.stack.join("\n")}activeFireEvent("warning",warning)||formatAndLogError(warning,"",!0)}}function cleanStack(stack){for(var ret=[],i=0;i<stack.length;++i){var line=stack[i],isTraceLine="    (No stack trace)"===line||stackFramePattern.test(line),isInternalFrame=isTraceLine&&shouldIgnore(line);isTraceLine&&!isInternalFrame&&(indentStackFrames&&" "!==line.charAt(0)&&(line="    "+line),ret.push(line))}return ret}function parseStackAndMessage(error){var stack=error.stack,message=error.toString();return stack="string"==typeof stack&&stack.length>0?function(error){for(var stack=error.stack.replace(/\s+$/g,"").split("\n"),i=0;i<stack.length;++i){var line=stack[i];if("    (No stack trace)"===line||stackFramePattern.test(line))break}return i>0&&"SyntaxError"!=error.name&&(stack=stack.slice(i)),stack}(error):["    (No stack trace)"],{message:message,stack:"SyntaxError"==error.name?stack:cleanStack(stack)}}function formatAndLogError(error,title,isSoft){if("undefined"!=typeof console){var message;if(util.isObject(error)){var stack=error.stack;message=title+formatStack(stack,error)}else message=title+String(error);"function"==typeof printWarning?printWarning(message,isSoft):"function"!=typeof console.log&&"object"!=typeof console.log||console.log(message)}}function fireRejectionEvent(name,localHandler,reason,promise){var localEventFired=!1;try{"function"==typeof localHandler&&(localEventFired=!0,"rejectionHandled"===name?localHandler(promise):localHandler(reason,promise))}catch(e){async.throwLater(e)}"unhandledRejection"===name?activeFireEvent(name,reason,promise)||localEventFired||formatAndLogError(reason,"Unhandled rejection "):activeFireEvent(name,promise)}function formatNonError(obj){var str;if("function"==typeof obj)str="[function "+(obj.name||"anonymous")+"]";else{str=obj&&"function"==typeof obj.toString?obj.toString():util.toString(obj);if(/\[object [a-zA-Z0-9$_]+\]/.test(str))try{str=JSON.stringify(obj)}catch(e){}0===str.length&&(str="(empty array)")}return"(<"+function(str){if(str.length<41)return str;return str.substr(0,38)+"..."}(str)+">, no stack trace)"}function longStackTracesIsSupported(){return"function"==typeof captureStackTrace}var shouldIgnore=function(){return!1},parseLineInfoRegex=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function parseLineInfo(line){var matches=line.match(parseLineInfoRegex);if(matches)return{fileName:matches[1],line:parseInt(matches[2],10)}}function CapturedTrace(parent){this._parent=parent,this._promisesCreated=0;var length=this._length=1+(void 0===parent?0:parent._length);captureStackTrace(this,CapturedTrace),length>32&&this.uncycle()}util.inherits(CapturedTrace,Error),Context.CapturedTrace=CapturedTrace,CapturedTrace.prototype.uncycle=function(){var length=this._length;if(!(length<2)){for(var nodes=[],stackToIndex={},i=0,node=this;void 0!==node;++i)nodes.push(node),node=node._parent;for(i=(length=this._length=i)-1;i>=0;--i){var stack=nodes[i].stack;void 0===stackToIndex[stack]&&(stackToIndex[stack]=i)}for(i=0;i<length;++i){var index=stackToIndex[nodes[i].stack];if(void 0!==index&&index!==i){index>0&&(nodes[index-1]._parent=void 0,nodes[index-1]._length=1),nodes[i]._parent=void 0,nodes[i]._length=1;var cycleEdgeNode=i>0?nodes[i-1]:this;index<length-1?(cycleEdgeNode._parent=nodes[index+1],cycleEdgeNode._parent.uncycle(),cycleEdgeNode._length=cycleEdgeNode._parent._length+1):(cycleEdgeNode._parent=void 0,cycleEdgeNode._length=1);for(var currentChildLength=cycleEdgeNode._length+1,j=i-2;j>=0;--j)nodes[j]._length=currentChildLength,currentChildLength++;return}}}},CapturedTrace.prototype.attachExtraTrace=function(error){if(!error.__stackCleaned__){this.uncycle();for(var parsed=parseStackAndMessage(error),message=parsed.message,stacks=[parsed.stack],trace=this;void 0!==trace;)stacks.push(cleanStack(trace.stack.split("\n"))),trace=trace._parent;!function(stacks){for(var current=stacks[0],i=1;i<stacks.length;++i){for(var prev=stacks[i],currentLastIndex=current.length-1,currentLastLine=current[currentLastIndex],commonRootMeetPoint=-1,j=prev.length-1;j>=0;--j)if(prev[j]===currentLastLine){commonRootMeetPoint=j;break}for(j=commonRootMeetPoint;j>=0;--j){var line=prev[j];if(current[currentLastIndex]!==line)break;current.pop(),currentLastIndex--}current=prev}}(stacks),function(stacks){for(var i=0;i<stacks.length;++i)(0===stacks[i].length||i+1<stacks.length&&stacks[i][0]===stacks[i+1][0])&&(stacks.splice(i,1),i--)}(stacks),util.notEnumerableProp(error,"stack",function(message,stacks){for(var i=0;i<stacks.length-1;++i)stacks[i].push("From previous event:"),stacks[i]=stacks[i].join("\n");return i<stacks.length&&(stacks[i]=stacks[i].join("\n")),message+"\n"+stacks.join("\n")}(message,stacks)),util.notEnumerableProp(error,"__stackCleaned__",!0)}};var captureStackTrace=function(){var v8stackFramePattern=/^\s*at\s*/,v8stackFormatter=function(stack,error){return"string"==typeof stack?stack:void 0!==error.name&&void 0!==error.message?error.toString():formatNonError(error)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,stackFramePattern=v8stackFramePattern,formatStack=v8stackFormatter;var captureStackTrace=Error.captureStackTrace;return shouldIgnore=function(line){return bluebirdFramePattern.test(line)},function(receiver,ignoreUntil){Error.stackTraceLimit+=6,captureStackTrace(receiver,ignoreUntil),Error.stackTraceLimit-=6}}var hasStackAfterThrow,err=new Error;if("string"==typeof err.stack&&err.stack.split("\n")[0].indexOf("stackDetection@")>=0)return stackFramePattern=/@/,formatStack=v8stackFormatter,indentStackFrames=!0,function(o){o.stack=(new Error).stack};try{throw new Error}catch(e){hasStackAfterThrow="stack"in e}return"stack"in err||!hasStackAfterThrow||"number"!=typeof Error.stackTraceLimit?(formatStack=function(stack,error){return"string"==typeof stack?stack:"object"!=typeof error&&"function"!=typeof error||void 0===error.name||void 0===error.message?formatNonError(error):error.toString()},null):(stackFramePattern=v8stackFramePattern,formatStack=v8stackFormatter,function(o){Error.stackTraceLimit+=6;try{throw new Error}catch(e){o.stack=e.stack}Error.stackTraceLimit-=6})}();"undefined"!=typeof console&&void 0!==console.warn&&(printWarning=function(message){console.warn(message)},util.isNode&&process.stderr.isTTY?printWarning=function(message,isSoft){var color=isSoft?"[33m":"[31m";console.warn(color+message+"[0m\n")}:util.isNode||"string"!=typeof(new Error).stack||(printWarning=function(message,isSoft){console.warn("%c"+message,isSoft?"color: darkorange":"color: red")}));var config={warnings:warnings,longStackTraces:!1,cancellation:!1,monitoring:!1};return longStackTraces&&Promise.longStackTraces(),{longStackTraces:function(){return config.longStackTraces},warnings:function(){return config.warnings},cancellation:function(){return config.cancellation},monitoring:function(){return config.monitoring},propagateFromFunction:function(){return propagateFromFunction},boundValueFunction:function(){return boundValueFunction},checkForgottenReturns:function(returnValue,promiseCreated,name,promise,parent){if(void 0===returnValue&&null!==promiseCreated&&wForgottenReturn){if(void 0!==parent&&parent._returnedNonUndefined())return;if(0==(65535&promise._bitField))return;name&&(name+=" ");var handlerLine="",creatorLine="";if(promiseCreated._trace){for(var traceLines=promiseCreated._trace.stack.split("\n"),stack=cleanStack(traceLines),i=stack.length-1;i>=0;--i){var line=stack[i];if(!nodeFramePattern.test(line)){var lineMatches=line.match(parseLinePattern);lineMatches&&(handlerLine="at "+lineMatches[1]+":"+lineMatches[2]+":"+lineMatches[3]+" ");break}}if(stack.length>0){var firstUserLine=stack[0];for(i=0;i<traceLines.length;++i)if(traceLines[i]===firstUserLine){i>0&&(creatorLine="\n"+traceLines[i-1]);break}}}var msg="a promise was created in a "+name+"handler "+handlerLine+"but was not returned from it, see http://goo.gl/rRqMUw"+creatorLine;promise._warn(msg,!0,promiseCreated)}},setBounds:function(firstLineError,lastLineError){if(longStackTracesIsSupported()){for(var firstFileName,lastFileName,firstStackLines=(firstLineError.stack||"").split("\n"),lastStackLines=(lastLineError.stack||"").split("\n"),firstIndex=-1,lastIndex=-1,i=0;i<firstStackLines.length;++i)if(result=parseLineInfo(firstStackLines[i])){firstFileName=result.fileName,firstIndex=result.line;break}for(i=0;i<lastStackLines.length;++i){var result;if(result=parseLineInfo(lastStackLines[i])){lastFileName=result.fileName,lastIndex=result.line;break}}firstIndex<0||lastIndex<0||!firstFileName||!lastFileName||firstFileName!==lastFileName||firstIndex>=lastIndex||(shouldIgnore=function(line){if(bluebirdFramePattern.test(line))return!0;var info=parseLineInfo(line);return!!(info&&info.fileName===firstFileName&&firstIndex<=info.line&&info.line<=lastIndex)})}},warn:warn,deprecated:function(name,replacement){var message=name+" is deprecated and will be removed in a future version.";return replacement&&(message+=" Use "+replacement+" instead."),warn(message)},CapturedTrace:CapturedTrace,fireDomEvent:fireDomEvent,fireGlobalEvent:fireGlobalEvent}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,tryConvertToPromise,NEXT_FILTER){var util=__webpack_require__(52),CancellationError=Promise.CancellationError,errorObj=util.errorObj,catchFilter=__webpack_require__(950)(NEXT_FILTER);function PassThroughHandlerContext(promise,type,handler){this.promise=promise,this.type=type,this.handler=handler,this.called=!1,this.cancelPromise=null}function FinallyHandlerCancelReaction(finallyHandler){this.finallyHandler=finallyHandler}function checkCancel(ctx,reason){return null!=ctx.cancelPromise&&(arguments.length>1?ctx.cancelPromise._reject(reason):ctx.cancelPromise._cancel(),ctx.cancelPromise=null,!0)}function succeed(){return finallyHandler.call(this,this.promise._target()._settledValue())}function fail(reason){if(!checkCancel(this,reason))return errorObj.e=reason,errorObj}function finallyHandler(reasonOrValue){var promise=this.promise,handler=this.handler;if(!this.called){this.called=!0;var ret=this.isFinallyHandler()?handler.call(promise._boundValue()):handler.call(promise._boundValue(),reasonOrValue);if(ret===NEXT_FILTER)return ret;if(void 0!==ret){promise._setReturnedNonUndefined();var maybePromise=tryConvertToPromise(ret,promise);if(maybePromise instanceof Promise){if(null!=this.cancelPromise){if(maybePromise._isCancelled()){var reason=new CancellationError("late cancellation observer");return promise._attachExtraTrace(reason),errorObj.e=reason,errorObj}maybePromise.isPending()&&maybePromise._attachCancellationCallback(new FinallyHandlerCancelReaction(this))}return maybePromise._then(succeed,fail,void 0,this,void 0)}}}return promise.isRejected()?(checkCancel(this),errorObj.e=reasonOrValue,errorObj):(checkCancel(this),reasonOrValue)}return PassThroughHandlerContext.prototype.isFinallyHandler=function(){return 0===this.type},FinallyHandlerCancelReaction.prototype._resultCancelled=function(){checkCancel(this.finallyHandler)},Promise.prototype._passThrough=function(handler,type,success,fail){return"function"!=typeof handler?this.then():this._then(success,fail,void 0,new PassThroughHandlerContext(this,type,handler),void 0)},Promise.prototype.lastly=Promise.prototype.finally=function(handler){return this._passThrough(handler,0,finallyHandler,finallyHandler)},Promise.prototype.tap=function(handler){return this._passThrough(handler,1,finallyHandler)},Promise.prototype.tapCatch=function(handlerOrPredicate){var len=arguments.length;if(1===len)return this._passThrough(handlerOrPredicate,1,void 0,finallyHandler);var i,catchInstances=new Array(len-1),j=0;for(i=0;i<len-1;++i){var item=arguments[i];if(!util.isObject(item))return Promise.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+util.classString(item)));catchInstances[j++]=item}catchInstances.length=j;var handler=arguments[i];return this._passThrough(catchFilter(catchInstances,handler,this),1,void 0,finallyHandler)},PassThroughHandlerContext}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection,debug){var util=__webpack_require__(52),tryCatch=util.tryCatch;Promise.method=function(fn){if("function"!=typeof fn)throw new Promise.TypeError("expecting a function but got "+util.classString(fn));return function(){var ret=new Promise(INTERNAL);ret._captureStackTrace(),ret._pushContext();var value=tryCatch(fn).apply(this,arguments),promiseCreated=ret._popContext();return debug.checkForgottenReturns(value,promiseCreated,"Promise.method",ret),ret._resolveFromSyncValue(value),ret}},Promise.attempt=Promise.try=function(fn){if("function"!=typeof fn)return apiRejection("expecting a function but got "+util.classString(fn));var value,ret=new Promise(INTERNAL);if(ret._captureStackTrace(),ret._pushContext(),arguments.length>1){debug.deprecated("calling Promise.try with more than 1 argument");var arg=arguments[1],ctx=arguments[2];value=util.isArray(arg)?tryCatch(fn).apply(ctx,arg):tryCatch(fn).call(ctx,arg)}else value=tryCatch(fn)();var promiseCreated=ret._popContext();return debug.checkForgottenReturns(value,promiseCreated,"Promise.try",ret),ret._resolveFromSyncValue(value),ret},Promise.prototype._resolveFromSyncValue=function(value){value===util.errorObj?this._rejectCallback(value.e,!1):this._resolveCallback(value,!0)}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,debug){var calledBind=!1,rejectThis=function(_,e){this._reject(e)},targetRejected=function(e,context){context.promiseRejectionQueued=!0,context.bindingPromise._then(rejectThis,rejectThis,null,this,e)},bindingResolved=function(thisArg,context){0==(50397184&this._bitField)&&this._resolveCallback(context.target)},bindingRejected=function(e,context){context.promiseRejectionQueued||this._reject(e)};Promise.prototype.bind=function(thisArg){calledBind||(calledBind=!0,Promise.prototype._propagateFrom=debug.propagateFromFunction(),Promise.prototype._boundValue=debug.boundValueFunction());var maybePromise=tryConvertToPromise(thisArg),ret=new Promise(INTERNAL);ret._propagateFrom(this,1);var target=this._target();if(ret._setBoundTo(maybePromise),maybePromise instanceof Promise){var context={promiseRejectionQueued:!1,promise:ret,target:target,bindingPromise:maybePromise};target._then(INTERNAL,targetRejected,void 0,ret,context),maybePromise._then(bindingResolved,bindingRejected,void 0,ret,context),ret._setOnCancel(maybePromise)}else ret._resolveCallback(target);return ret},Promise.prototype._setBoundTo=function(obj){void 0!==obj?(this._bitField=2097152|this._bitField,this._boundTo=obj):this._bitField=-2097153&this._bitField},Promise.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},Promise.bind=function(thisArg,value){return Promise.resolve(value).bind(thisArg)}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,debug){var util=__webpack_require__(52),tryCatch=util.tryCatch,errorObj=util.errorObj,async=Promise._async;Promise.prototype.break=Promise.prototype.cancel=function(){if(!debug.cancellation())return this._warn("cancellation is disabled");for(var promise=this,child=promise;promise._isCancellable();){if(!promise._cancelBy(child)){child._isFollowing()?child._followee().cancel():child._cancelBranched();break}var parent=promise._cancellationParent;if(null==parent||!parent._isCancellable()){promise._isFollowing()?promise._followee().cancel():promise._cancelBranched();break}promise._isFollowing()&&promise._followee().cancel(),promise._setWillBeCancelled(),child=promise,promise=parent}},Promise.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},Promise.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},Promise.prototype._cancelBy=function(canceller){return canceller===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},Promise.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},Promise.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),async.invoke(this._cancelPromises,this,void 0))},Promise.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},Promise.prototype._unsetOnCancel=function(){this._onCancelField=void 0},Promise.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},Promise.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},Promise.prototype._doInvokeOnCancel=function(onCancelCallback,internalOnly){if(util.isArray(onCancelCallback))for(var i=0;i<onCancelCallback.length;++i)this._doInvokeOnCancel(onCancelCallback[i],internalOnly);else if(void 0!==onCancelCallback)if("function"==typeof onCancelCallback){if(!internalOnly){var e=tryCatch(onCancelCallback).call(this._boundValue());e===errorObj&&(this._attachExtraTrace(e.e),async.throwLater(e.e))}}else onCancelCallback._resultCancelled(this)},Promise.prototype._invokeOnCancel=function(){var onCancelCallback=this._onCancel();this._unsetOnCancel(),async.invoke(this._doInvokeOnCancel,this,onCancelCallback)},Promise.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},Promise.prototype._resultCancelled=function(){this.cancel()}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise){function returner(){return this.value}function thrower(){throw this.reason}Promise.prototype.return=Promise.prototype.thenReturn=function(value){return value instanceof Promise&&value.suppressUnhandledRejections(),this._then(returner,void 0,void 0,{value:value},void 0)},Promise.prototype.throw=Promise.prototype.thenThrow=function(reason){return this._then(thrower,void 0,void 0,{reason:reason},void 0)},Promise.prototype.catchThrow=function(reason){if(arguments.length<=1)return this._then(void 0,thrower,void 0,{reason:reason},void 0);var _reason=arguments[1],handler=function(){throw _reason};return this.caught(reason,handler)},Promise.prototype.catchReturn=function(value){if(arguments.length<=1)return value instanceof Promise&&value.suppressUnhandledRejections(),this._then(void 0,returner,void 0,{value:value},void 0);var _value=arguments[1];_value instanceof Promise&&_value.suppressUnhandledRejections();var handler=function(){return _value};return this.caught(value,handler)}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise){function PromiseInspection(promise){void 0!==promise?(promise=promise._target(),this._bitField=promise._bitField,this._settledValueField=promise._isFateSealed()?promise._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}PromiseInspection.prototype._settledValue=function(){return this._settledValueField};var value=PromiseInspection.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},reason=PromiseInspection.prototype.error=PromiseInspection.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},isFulfilled=PromiseInspection.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},isRejected=PromiseInspection.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},isPending=PromiseInspection.prototype.isPending=function(){return 0==(50397184&this._bitField)},isResolved=PromiseInspection.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};PromiseInspection.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},Promise.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},Promise.prototype._isCancelled=function(){return this._target().__isCancelled()},Promise.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},Promise.prototype.isPending=function(){return isPending.call(this._target())},Promise.prototype.isRejected=function(){return isRejected.call(this._target())},Promise.prototype.isFulfilled=function(){return isFulfilled.call(this._target())},Promise.prototype.isResolved=function(){return isResolved.call(this._target())},Promise.prototype.value=function(){return value.call(this._target())},Promise.prototype.reason=function(){var target=this._target();return target._unsetRejectionIsUnhandled(),reason.call(target)},Promise.prototype._value=function(){return this._settledValue()},Promise.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},Promise.PromiseInspection=PromiseInspection}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,PromiseArray,tryConvertToPromise,INTERNAL,async,getDomain){var reject,util=__webpack_require__(52),canEvaluate=util.canEvaluate,tryCatch=util.tryCatch,errorObj=util.errorObj;if(canEvaluate){for(var thenCallback=function(i){return new Function("value","holder","                             \n            'use strict';                                                    \n            holder.pIndex = value;                                           \n            holder.checkFulfillment(this);                                   \n            ".replace(/Index/g,i))},promiseSetter=function(i){return new Function("promise","holder","                           \n            'use strict';                                                    \n            holder.pIndex = promise;                                         \n            ".replace(/Index/g,i))},generateHolderClass=function(total){for(var props=new Array(total),i=0;i<props.length;++i)props[i]="this.p"+(i+1);var assignment=props.join(" = ")+" = null;",cancellationCode="var promise;\n"+props.map(function(prop){return"                                                         \n                promise = "+prop+";                                      \n                if (promise instanceof Promise) {                            \n                    promise.cancel();                                        \n                }                                                            \n            "}).join("\n"),passedArguments=props.join(", "),name="Holder$"+total,code="return function(tryCatch, errorObj, Promise, async) {    \n            'use strict';                                                    \n            function [TheName](fn) {                                         \n                [TheProperties]                                              \n                this.fn = fn;                                                \n                this.asyncNeeded = true;                                     \n                this.now = 0;                                                \n            }                                                                \n                                                                             \n            [TheName].prototype._callFunction = function(promise) {          \n                promise._pushContext();                                      \n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \n                promise._popContext();                                       \n                if (ret === errorObj) {                                      \n                    promise._rejectCallback(ret.e, false);                   \n                } else {                                                     \n                    promise._resolveCallback(ret);                           \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype.checkFulfillment = function(promise) {       \n                var now = ++this.now;                                        \n                if (now === [TheTotal]) {                                    \n                    if (this.asyncNeeded) {                                  \n                        async.invoke(this._callFunction, this, promise);     \n                    } else {                                                 \n                        this._callFunction(promise);                         \n                    }                                                        \n                                                                             \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype._resultCancelled = function() {              \n                [CancellationCode]                                           \n            };                                                               \n                                                                             \n            return [TheName];                                                \n        }(tryCatch, errorObj, Promise, async);                               \n        ";return code=code.replace(/\[TheName\]/g,name).replace(/\[TheTotal\]/g,total).replace(/\[ThePassedArguments\]/g,passedArguments).replace(/\[TheProperties\]/g,assignment).replace(/\[CancellationCode\]/g,cancellationCode),new Function("tryCatch","errorObj","Promise","async",code)(tryCatch,errorObj,Promise,async)},holderClasses=[],thenCallbacks=[],promiseSetters=[],i=0;i<8;++i)holderClasses.push(generateHolderClass(i+1)),thenCallbacks.push(thenCallback(i+1)),promiseSetters.push(promiseSetter(i+1));reject=function(reason){this._reject(reason)}}Promise.join=function(){var fn,last=arguments.length-1;if(last>0&&"function"==typeof arguments[last]&&(fn=arguments[last],last<=8&&canEvaluate)){(ret=new Promise(INTERNAL))._captureStackTrace();for(var HolderClass=holderClasses[last-1],holder=new HolderClass(fn),callbacks=thenCallbacks,i=0;i<last;++i){var maybePromise=tryConvertToPromise(arguments[i],ret);if(maybePromise instanceof Promise){var bitField=(maybePromise=maybePromise._target())._bitField;0==(50397184&bitField)?(maybePromise._then(callbacks[i],reject,void 0,ret,holder),promiseSetters[i](maybePromise,holder),holder.asyncNeeded=!1):0!=(33554432&bitField)?callbacks[i].call(ret,maybePromise._value(),holder):0!=(16777216&bitField)?ret._reject(maybePromise._reason()):ret._cancel()}else callbacks[i].call(ret,maybePromise,holder)}if(!ret._isFateSealed()){if(holder.asyncNeeded){var domain=getDomain();null!==domain&&(holder.fn=util.domainBind(domain,holder.fn))}ret._setAsyncGuaranteed(),ret._setOnCancel(holder)}return ret}for(var $_len=arguments.length,args=new Array($_len),$_i=0;$_i<$_len;++$_i)args[$_i]=arguments[$_i];fn&&args.pop();var ret=new PromiseArray(args).promise();return void 0!==fn?ret.spread(fn):ret}}},function(module,exports,__webpack_require__){"use strict";var cr=Object.create;if(cr){var callerCache=cr(null),getterCache=cr(null);callerCache[" size"]=getterCache[" size"]=0}module.exports=function(Promise){var getMethodCaller,getGetter,util=__webpack_require__(52),canEvaluate=util.canEvaluate,isIdentifier=util.isIdentifier,makeMethodCaller=function(methodName){return new Function("ensureMethod","                                    \n        return function(obj) {                                               \n            'use strict'                                                     \n            var len = this.length;                                           \n            ensureMethod(obj, 'methodName');                                 \n            switch(len) {                                                    \n                case 1: return obj.methodName(this[0]);                      \n                case 2: return obj.methodName(this[0], this[1]);             \n                case 3: return obj.methodName(this[0], this[1], this[2]);    \n                case 0: return obj.methodName();                             \n                default:                                                     \n                    return obj.methodName.apply(obj, this);                  \n            }                                                                \n        };                                                                   \n        ".replace(/methodName/g,methodName))(ensureMethod)},makeGetter=function(propertyName){return new Function("obj","                                             \n        'use strict';                                                        \n        return obj.propertyName;                                             \n        ".replace("propertyName",propertyName))},getCompiled=function(name,compiler,cache){var ret=cache[name];if("function"!=typeof ret){if(!isIdentifier(name))return null;if(ret=compiler(name),cache[name]=ret,cache[" size"]++,cache[" size"]>512){for(var keys=Object.keys(cache),i=0;i<256;++i)delete cache[keys[i]];cache[" size"]=keys.length-256}}return ret};function ensureMethod(obj,methodName){var fn;if(null!=obj&&(fn=obj[methodName]),"function"!=typeof fn){var message="Object "+util.classString(obj)+" has no method '"+util.toString(methodName)+"'";throw new Promise.TypeError(message)}return fn}function caller(obj){return ensureMethod(obj,this.pop()).apply(obj,this)}function namedGetter(obj){return obj[this]}function indexedGetter(obj){var index=+this;return index<0&&(index=Math.max(0,index+obj.length)),obj[index]}getMethodCaller=function(name){return getCompiled(name,makeMethodCaller,callerCache)},getGetter=function(name){return getCompiled(name,makeGetter,getterCache)},Promise.prototype.call=function(methodName){for(var $_len=arguments.length,args=new Array(Math.max($_len-1,0)),$_i=1;$_i<$_len;++$_i)args[$_i-1]=arguments[$_i];if(canEvaluate){var maybeCaller=getMethodCaller(methodName);if(null!==maybeCaller)return this._then(maybeCaller,void 0,void 0,args,void 0)}return args.push(methodName),this._then(caller,void 0,void 0,args,void 0)},Promise.prototype.get=function(propertyName){var getter;if("number"==typeof propertyName)getter=indexedGetter;else if(canEvaluate){var maybeGetter=getGetter(propertyName);getter=null!==maybeGetter?maybeGetter:namedGetter}else getter=namedGetter;return this._then(getter,void 0,void 0,propertyName,void 0)}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,apiRejection,INTERNAL,tryConvertToPromise,Proxyable,debug){var TypeError=__webpack_require__(259).TypeError,util=__webpack_require__(52),errorObj=util.errorObj,tryCatch=util.tryCatch,yieldHandlers=[];function PromiseSpawn(generatorFunction,receiver,yieldHandler,stack){if(debug.cancellation()){var internal=new Promise(INTERNAL),_finallyPromise=this._finallyPromise=new Promise(INTERNAL);this._promise=internal.lastly(function(){return _finallyPromise}),internal._captureStackTrace(),internal._setOnCancel(this)}else{(this._promise=new Promise(INTERNAL))._captureStackTrace()}this._stack=stack,this._generatorFunction=generatorFunction,this._receiver=receiver,this._generator=void 0,this._yieldHandlers="function"==typeof yieldHandler?[yieldHandler].concat(yieldHandlers):yieldHandlers,this._yieldedPromise=null,this._cancellationPhase=!1}util.inherits(PromiseSpawn,Proxyable),PromiseSpawn.prototype._isResolved=function(){return null===this._promise},PromiseSpawn.prototype._cleanup=function(){this._promise=this._generator=null,debug.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},PromiseSpawn.prototype._promiseCancelled=function(){if(!this._isResolved()){var result;if(void 0!==this._generator.return)this._promise._pushContext(),result=tryCatch(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var reason=new Promise.CancellationError("generator .return() sentinel");Promise.coroutine.returnSentinel=reason,this._promise._attachExtraTrace(reason),this._promise._pushContext(),result=tryCatch(this._generator.throw).call(this._generator,reason),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(result)}},PromiseSpawn.prototype._promiseFulfilled=function(value){this._yieldedPromise=null,this._promise._pushContext();var result=tryCatch(this._generator.next).call(this._generator,value);this._promise._popContext(),this._continue(result)},PromiseSpawn.prototype._promiseRejected=function(reason){this._yieldedPromise=null,this._promise._attachExtraTrace(reason),this._promise._pushContext();var result=tryCatch(this._generator.throw).call(this._generator,reason);this._promise._popContext(),this._continue(result)},PromiseSpawn.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof Promise){var promise=this._yieldedPromise;this._yieldedPromise=null,promise.cancel()}},PromiseSpawn.prototype.promise=function(){return this._promise},PromiseSpawn.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},PromiseSpawn.prototype._continue=function(result){var promise=this._promise;if(result===errorObj)return this._cleanup(),this._cancellationPhase?promise.cancel():promise._rejectCallback(result.e,!1);var value=result.value;if(!0===result.done)return this._cleanup(),this._cancellationPhase?promise.cancel():promise._resolveCallback(value);var maybePromise=tryConvertToPromise(value,this._promise);if(maybePromise instanceof Promise||null!==(maybePromise=function(value,yieldHandlers,traceParent){for(var i=0;i<yieldHandlers.length;++i){traceParent._pushContext();var result=tryCatch(yieldHandlers[i])(value);if(traceParent._popContext(),result===errorObj){traceParent._pushContext();var ret=Promise.reject(errorObj.e);return traceParent._popContext(),ret}var maybePromise=tryConvertToPromise(result,traceParent);if(maybePromise instanceof Promise)return maybePromise}return null}(maybePromise,this._yieldHandlers,this._promise))){var bitField=(maybePromise=maybePromise._target())._bitField;0==(50397184&bitField)?(this._yieldedPromise=maybePromise,maybePromise._proxy(this,null)):0!=(33554432&bitField)?Promise._async.invoke(this._promiseFulfilled,this,maybePromise._value()):0!=(16777216&bitField)?Promise._async.invoke(this._promiseRejected,this,maybePromise._reason()):this._promiseCancelled()}else this._promiseRejected(new TypeError("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(value))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},Promise.coroutine=function(generatorFunction,options){if("function"!=typeof generatorFunction)throw new TypeError("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var yieldHandler=Object(options).yieldHandler,PromiseSpawn$=PromiseSpawn,stack=(new Error).stack;return function(){var generator=generatorFunction.apply(this,arguments),spawn=new PromiseSpawn$(void 0,void 0,yieldHandler,stack),ret=spawn.promise();return spawn._generator=generator,spawn._promiseFulfilled(void 0),ret}},Promise.coroutine.addYieldHandler=function(fn){if("function"!=typeof fn)throw new TypeError("expecting a function but got "+util.classString(fn));yieldHandlers.push(fn)},Promise.spawn=function(generatorFunction){if(debug.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof generatorFunction)return apiRejection("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var spawn=new PromiseSpawn(generatorFunction,this),ret=spawn.promise();return spawn._run(Promise.spawn),ret}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL,debug){var getDomain=Promise._getDomain,util=__webpack_require__(52),tryCatch=util.tryCatch,errorObj=util.errorObj,async=Promise._async;function MappingPromiseArray(promises,fn,limit,_filter){this.constructor$(promises),this._promise._captureStackTrace();var domain=getDomain();this._callback=null===domain?fn:util.domainBind(domain,fn),this._preservedValues=_filter===INTERNAL?new Array(this.length()):null,this._limit=limit,this._inFlight=0,this._queue=[],async.invoke(this._asyncInit,this,void 0)}function map(promises,fn,options,_filter){if("function"!=typeof fn)return apiRejection("expecting a function but got "+util.classString(fn));var limit=0;if(void 0!==options){if("object"!=typeof options||null===options)return Promise.reject(new TypeError("options argument must be an object but it is "+util.classString(options)));if("number"!=typeof options.concurrency)return Promise.reject(new TypeError("'concurrency' must be a number but it is "+util.classString(options.concurrency)));limit=options.concurrency}return new MappingPromiseArray(promises,fn,limit="number"==typeof limit&&isFinite(limit)&&limit>=1?limit:0,_filter).promise()}util.inherits(MappingPromiseArray,PromiseArray),MappingPromiseArray.prototype._asyncInit=function(){this._init$(void 0,-2)},MappingPromiseArray.prototype._init=function(){},MappingPromiseArray.prototype._promiseFulfilled=function(value,index){var values=this._values,length=this.length(),preservedValues=this._preservedValues,limit=this._limit;if(index<0){if(values[index=-1*index-1]=value,limit>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(limit>=1&&this._inFlight>=limit)return values[index]=value,this._queue.push(index),!1;null!==preservedValues&&(preservedValues[index]=value);var promise=this._promise,callback=this._callback,receiver=promise._boundValue();promise._pushContext();var ret=tryCatch(callback).call(receiver,value,index,length),promiseCreated=promise._popContext();if(debug.checkForgottenReturns(ret,promiseCreated,null!==preservedValues?"Promise.filter":"Promise.map",promise),ret===errorObj)return this._reject(ret.e),!0;var maybePromise=tryConvertToPromise(ret,this._promise);if(maybePromise instanceof Promise){var bitField=(maybePromise=maybePromise._target())._bitField;if(0==(50397184&bitField))return limit>=1&&this._inFlight++,values[index]=maybePromise,maybePromise._proxy(this,-1*(index+1)),!1;if(0==(33554432&bitField))return 0!=(16777216&bitField)?(this._reject(maybePromise._reason()),!0):(this._cancel(),!0);ret=maybePromise._value()}values[index]=ret}return++this._totalResolved>=length&&(null!==preservedValues?this._filter(values,preservedValues):this._resolve(values),!0)},MappingPromiseArray.prototype._drainQueue=function(){for(var queue=this._queue,limit=this._limit,values=this._values;queue.length>0&&this._inFlight<limit;){if(this._isResolved())return;var index=queue.pop();this._promiseFulfilled(values[index],index)}},MappingPromiseArray.prototype._filter=function(booleans,values){for(var len=values.length,ret=new Array(len),j=0,i=0;i<len;++i)booleans[i]&&(ret[j++]=values[i]);ret.length=j,this._resolve(ret)},MappingPromiseArray.prototype.preservedValues=function(){return this._preservedValues},Promise.prototype.map=function(fn,options){return map(this,fn,options,null)},Promise.map=function(promises,fn,options,_filter){return map(promises,fn,options,_filter)}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise){var util=__webpack_require__(52),async=Promise._async,tryCatch=util.tryCatch,errorObj=util.errorObj;function spreadAdapter(val,nodeback){if(!util.isArray(val))return successAdapter.call(this,val,nodeback);var ret=tryCatch(nodeback).apply(this._boundValue(),[null].concat(val));ret===errorObj&&async.throwLater(ret.e)}function successAdapter(val,nodeback){var receiver=this._boundValue(),ret=void 0===val?tryCatch(nodeback).call(receiver,null):tryCatch(nodeback).call(receiver,null,val);ret===errorObj&&async.throwLater(ret.e)}function errorAdapter(reason,nodeback){if(!reason){var newReason=new Error(reason+"");newReason.cause=reason,reason=newReason}var ret=tryCatch(nodeback).call(this._boundValue(),reason);ret===errorObj&&async.throwLater(ret.e)}Promise.prototype.asCallback=Promise.prototype.nodeify=function(nodeback,options){if("function"==typeof nodeback){var adapter=successAdapter;void 0!==options&&Object(options).spread&&(adapter=spreadAdapter),this._then(adapter,errorAdapter,void 0,this,nodeback)}return this}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,INTERNAL){var THIS={},util=__webpack_require__(52),nodebackForPromise=__webpack_require__(951),withAppended=util.withAppended,maybeWrapAsError=util.maybeWrapAsError,canEvaluate=util.canEvaluate,TypeError=__webpack_require__(259).TypeError,defaultPromisified={__isPromisified__:!0},noCopyPropsPattern=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),defaultFilter=function(name){return util.isIdentifier(name)&&"_"!==name.charAt(0)&&"constructor"!==name};function propsFilter(key){return!noCopyPropsPattern.test(key)}function isPromisified(fn){try{return!0===fn.__isPromisified__}catch(e){return!1}}function hasPromisified(obj,key,suffix){var val=util.getDataPropertyOrDefault(obj,key+suffix,defaultPromisified);return!!val&&isPromisified(val)}function promisifiableMethods(obj,suffix,suffixRegexp,filter){for(var keys=util.inheritedDataKeys(obj),ret=[],i=0;i<keys.length;++i){var key=keys[i],value=obj[key],passesDefaultFilter=filter===defaultFilter||defaultFilter(key,value,obj);"function"!=typeof value||isPromisified(value)||hasPromisified(obj,key,suffix)||!filter(key,value,obj,passesDefaultFilter)||ret.push(key,value)}return function(ret,suffix,suffixRegexp){for(var i=0;i<ret.length;i+=2){var key=ret[i];if(suffixRegexp.test(key))for(var keyWithoutAsyncSuffix=key.replace(suffixRegexp,""),j=0;j<ret.length;j+=2)if(ret[j]===keyWithoutAsyncSuffix)throw new TypeError("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",suffix))}}(ret,suffix,suffixRegexp),ret}var escapeIdentRegex=function(str){return str.replace(/([$])/,"\\$")},argumentSequence=function(argumentCount){return util.filledRange(argumentCount,"_arg","")};var makeNodePromisified=canEvaluate?function(callback,receiver,originalName,fn,_,multiArgs){var newParameterCount=Math.max(0,function(fn){return"number"==typeof fn.length?Math.max(Math.min(fn.length,1024),0):0}(fn)-1),argumentOrder=function(likelyArgumentCount){for(var ret=[likelyArgumentCount],min=Math.max(0,likelyArgumentCount-1-3),i=likelyArgumentCount-1;i>=min;--i)ret.push(i);for(i=likelyArgumentCount+1;i<=3;++i)ret.push(i);return ret}(newParameterCount),shouldProxyThis="string"==typeof callback||receiver===THIS;var getFunctionCode="string"==typeof callback?"this != null ? this['"+callback+"'] : fn":"fn",body="'use strict';                                                \n        var ret = function (Parameters) {                                    \n            'use strict';                                                    \n            var len = arguments.length;                                      \n            var promise = new Promise(INTERNAL);                             \n            promise._captureStackTrace();                                    \n            var nodeback = nodebackForPromise(promise, "+multiArgs+");   \n            var ret;                                                         \n            var callback = tryCatch([GetFunctionCode]);                      \n            switch(len) {                                                    \n                [CodeForSwitchCase]                                          \n            }                                                                \n            if (ret === errorObj) {                                          \n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\n            }                                                                \n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \n            return promise;                                                  \n        };                                                                   \n        notEnumerableProp(ret, '__isPromisified__', true);                   \n        return ret;                                                          \n    ".replace("[CodeForSwitchCase]",function(){for(var count,args,comma,ret="",i=0;i<argumentOrder.length;++i)ret+="case "+argumentOrder[i]+":"+(count=argumentOrder[i],args=void 0,comma=void 0,args=argumentSequence(count).join(", "),comma=count>0?", ":"",(shouldProxyThis?"ret = callback.call(this, {{args}}, nodeback); break;\n":void 0===receiver?"ret = callback({{args}}, nodeback); break;\n":"ret = callback.call(receiver, {{args}}, nodeback); break;\n").replace("{{args}}",args).replace(", ",comma));return ret+="                                                             \n        default:                                                             \n            var args = new Array(len + 1);                                   \n            var i = 0;                                                       \n            for (var i = 0; i < len; ++i) {                                  \n               args[i] = arguments[i];                                       \n            }                                                                \n            args[i] = nodeback;                                              \n            [CodeForCall]                                                    \n            break;                                                           \n        ".replace("[CodeForCall]",shouldProxyThis?"ret = callback.apply(this, args);\n":"ret = callback.apply(receiver, args);\n")}()).replace("[GetFunctionCode]",getFunctionCode);return body=body.replace("Parameters",function(parameterCount){return util.filledRange(Math.max(parameterCount,3),"_arg","")}(newParameterCount)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",body)(Promise,fn,receiver,withAppended,maybeWrapAsError,nodebackForPromise,util.tryCatch,util.errorObj,util.notEnumerableProp,INTERNAL)}:function(callback,receiver,_,fn,__,multiArgs){var defaultThis=function(){return this}(),method=callback;function promisified(){var _receiver=receiver;receiver===THIS&&(_receiver=this);var promise=new Promise(INTERNAL);promise._captureStackTrace();var cb="string"==typeof method&&this!==defaultThis?this[method]:callback,fn=nodebackForPromise(promise,multiArgs);try{cb.apply(_receiver,withAppended(arguments,fn))}catch(e){promise._rejectCallback(maybeWrapAsError(e),!0,!0)}return promise._isFateSealed()||promise._setAsyncGuaranteed(),promise}return"string"==typeof method&&(callback=fn),util.notEnumerableProp(promisified,"__isPromisified__",!0),promisified};function promisifyAll(obj,suffix,filter,promisifier,multiArgs){for(var suffixRegexp=new RegExp(escapeIdentRegex(suffix)+"$"),methods=promisifiableMethods(obj,suffix,suffixRegexp,filter),i=0,len=methods.length;i<len;i+=2){var key=methods[i],fn=methods[i+1],promisifiedKey=key+suffix;if(promisifier===makeNodePromisified)obj[promisifiedKey]=makeNodePromisified(key,THIS,key,fn,suffix,multiArgs);else{var promisified=promisifier(fn,function(){return makeNodePromisified(key,THIS,key,fn,suffix,multiArgs)});util.notEnumerableProp(promisified,"__isPromisified__",!0),obj[promisifiedKey]=promisified}}return util.toFastProperties(obj),obj}Promise.promisify=function(fn,options){if("function"!=typeof fn)throw new TypeError("expecting a function but got "+util.classString(fn));if(isPromisified(fn))return fn;var ret=function(callback,receiver,multiArgs){return makeNodePromisified(callback,receiver,void 0,callback,null,multiArgs)}(fn,void 0===(options=Object(options)).context?THIS:options.context,!!options.multiArgs);return util.copyDescriptors(fn,ret,propsFilter),ret},Promise.promisifyAll=function(target,options){if("function"!=typeof target&&"object"!=typeof target)throw new TypeError("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var multiArgs=!!(options=Object(options)).multiArgs,suffix=options.suffix;"string"!=typeof suffix&&(suffix="Async");var filter=options.filter;"function"!=typeof filter&&(filter=defaultFilter);var promisifier=options.promisifier;if("function"!=typeof promisifier&&(promisifier=makeNodePromisified),!util.isIdentifier(suffix))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var keys=util.inheritedDataKeys(target),i=0;i<keys.length;++i){var value=target[keys[i]];"constructor"!==keys[i]&&util.isClass(value)&&(promisifyAll(value.prototype,suffix,filter,promisifier,multiArgs),promisifyAll(value,suffix,filter,promisifier,multiArgs))}return promisifyAll(target,suffix,filter,promisifier,multiArgs)}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,PromiseArray,tryConvertToPromise,apiRejection){var Es6Map,util=__webpack_require__(52),isObject=util.isObject,es5=__webpack_require__(287);"function"==typeof Map&&(Es6Map=Map);var mapToEntries=function(){var index=0,size=0;function extractEntry(value,key){this[index]=value,this[index+size]=key,index++}return function(map){size=map.size,index=0;var ret=new Array(2*map.size);return map.forEach(extractEntry,ret),ret}}();function PropertiesPromiseArray(obj){var entries,isMap=!1;if(void 0!==Es6Map&&obj instanceof Es6Map)entries=mapToEntries(obj),isMap=!0;else{var keys=es5.keys(obj),len=keys.length;entries=new Array(2*len);for(var i=0;i<len;++i){var key=keys[i];entries[i]=obj[key],entries[i+len]=key}}this.constructor$(entries),this._isMap=isMap,this._init$(void 0,isMap?-6:-3)}function props(promises){var ret,castValue=tryConvertToPromise(promises);return isObject(castValue)?(ret=castValue instanceof Promise?castValue._then(Promise.props,void 0,void 0,void 0,void 0):new PropertiesPromiseArray(castValue).promise(),castValue instanceof Promise&&ret._propagateFrom(castValue,2),ret):apiRejection("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}util.inherits(PropertiesPromiseArray,PromiseArray),PropertiesPromiseArray.prototype._init=function(){},PropertiesPromiseArray.prototype._promiseFulfilled=function(value,index){if(this._values[index]=value,++this._totalResolved>=this._length){var val;if(this._isMap)val=function(entries){for(var ret=new Es6Map,length=entries.length/2|0,i=0;i<length;++i){var key=entries[length+i],value=entries[i];ret.set(key,value)}return ret}(this._values);else{val={};for(var keyOffset=this.length(),i=0,len=this.length();i<len;++i)val[this._values[i+keyOffset]]=this._values[i]}return this._resolve(val),!0}return!1},PropertiesPromiseArray.prototype.shouldCopyValues=function(){return!1},PropertiesPromiseArray.prototype.getActualLength=function(len){return len>>1},Promise.prototype.props=function(){return props(this)},Promise.props=function(promises){return props(promises)}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection){var util=__webpack_require__(52),raceLater=function(promise){return promise.then(function(array){return race(array,promise)})};function race(promises,parent){var maybePromise=tryConvertToPromise(promises);if(maybePromise instanceof Promise)return raceLater(maybePromise);if(null===(promises=util.asArray(promises)))return apiRejection("expecting an array or an iterable object but got "+util.classString(promises));var ret=new Promise(INTERNAL);void 0!==parent&&ret._propagateFrom(parent,3);for(var fulfill=ret._fulfill,reject=ret._reject,i=0,len=promises.length;i<len;++i){var val=promises[i];(void 0!==val||i in promises)&&Promise.cast(val)._then(fulfill,reject,void 0,ret,null)}return ret}Promise.race=function(promises){return race(promises,void 0)},Promise.prototype.race=function(){return race(this,void 0)}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL,debug){var getDomain=Promise._getDomain,util=__webpack_require__(52),tryCatch=util.tryCatch;function ReductionPromiseArray(promises,fn,initialValue,_each){this.constructor$(promises);var domain=getDomain();this._fn=null===domain?fn:util.domainBind(domain,fn),void 0!==initialValue&&(initialValue=Promise.resolve(initialValue))._attachCancellationCallback(this),this._initialValue=initialValue,this._currentCancellable=null,this._eachValues=_each===INTERNAL?Array(this._length):0===_each?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function completed(valueOrReason,array){this.isFulfilled()?array._resolve(valueOrReason):array._reject(valueOrReason)}function reduce(promises,fn,initialValue,_each){return"function"!=typeof fn?apiRejection("expecting a function but got "+util.classString(fn)):new ReductionPromiseArray(promises,fn,initialValue,_each).promise()}function gotAccum(accum){this.accum=accum,this.array._gotAccum(accum);var value=tryConvertToPromise(this.value,this.array._promise);return value instanceof Promise?(this.array._currentCancellable=value,value._then(gotValue,void 0,void 0,this,void 0)):gotValue.call(this,value)}function gotValue(value){var ret,array=this.array,promise=array._promise,fn=tryCatch(array._fn);promise._pushContext(),(ret=void 0!==array._eachValues?fn.call(promise._boundValue(),value,this.index,this.length):fn.call(promise._boundValue(),this.accum,value,this.index,this.length))instanceof Promise&&(array._currentCancellable=ret);var promiseCreated=promise._popContext();return debug.checkForgottenReturns(ret,promiseCreated,void 0!==array._eachValues?"Promise.each":"Promise.reduce",promise),ret}util.inherits(ReductionPromiseArray,PromiseArray),ReductionPromiseArray.prototype._gotAccum=function(accum){void 0!==this._eachValues&&null!==this._eachValues&&accum!==INTERNAL&&this._eachValues.push(accum)},ReductionPromiseArray.prototype._eachComplete=function(value){return null!==this._eachValues&&this._eachValues.push(value),this._eachValues},ReductionPromiseArray.prototype._init=function(){},ReductionPromiseArray.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},ReductionPromiseArray.prototype.shouldCopyValues=function(){return!1},ReductionPromiseArray.prototype._resolve=function(value){this._promise._resolveCallback(value),this._values=null},ReductionPromiseArray.prototype._resultCancelled=function(sender){if(sender===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof Promise&&this._currentCancellable.cancel(),this._initialValue instanceof Promise&&this._initialValue.cancel())},ReductionPromiseArray.prototype._iterate=function(values){var value,i;this._values=values;var length=values.length;if(void 0!==this._initialValue?(value=this._initialValue,i=0):(value=Promise.resolve(values[0]),i=1),this._currentCancellable=value,!value.isRejected())for(;i<length;++i){var ctx={accum:null,value:values[i],index:i,length:length,array:this};value=value._then(gotAccum,void 0,void 0,ctx,void 0)}void 0!==this._eachValues&&(value=value._then(this._eachComplete,void 0,void 0,this,void 0)),value._then(completed,completed,void 0,value,this)},Promise.prototype.reduce=function(fn,initialValue){return reduce(this,fn,initialValue,null)},Promise.reduce=function(promises,fn,initialValue,_each){return reduce(promises,fn,initialValue,_each)}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,PromiseArray,debug){var PromiseInspection=Promise.PromiseInspection;function SettledPromiseArray(values){this.constructor$(values)}__webpack_require__(52).inherits(SettledPromiseArray,PromiseArray),SettledPromiseArray.prototype._promiseResolved=function(index,inspection){return this._values[index]=inspection,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},SettledPromiseArray.prototype._promiseFulfilled=function(value,index){var ret=new PromiseInspection;return ret._bitField=33554432,ret._settledValueField=value,this._promiseResolved(index,ret)},SettledPromiseArray.prototype._promiseRejected=function(reason,index){var ret=new PromiseInspection;return ret._bitField=16777216,ret._settledValueField=reason,this._promiseResolved(index,ret)},Promise.settle=function(promises){return debug.deprecated(".settle()",".reflect()"),new SettledPromiseArray(promises).promise()},Promise.prototype.settle=function(){return Promise.settle(this)}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,PromiseArray,apiRejection){var util=__webpack_require__(52),RangeError=__webpack_require__(259).RangeError,AggregateError=__webpack_require__(259).AggregateError,isArray=util.isArray,CANCELLATION={};function SomePromiseArray(values){this.constructor$(values),this._howMany=0,this._unwrap=!1,this._initialized=!1}function some(promises,howMany){if((0|howMany)!==howMany||howMany<0)return apiRejection("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var ret=new SomePromiseArray(promises),promise=ret.promise();return ret.setHowMany(howMany),ret.init(),promise}util.inherits(SomePromiseArray,PromiseArray),SomePromiseArray.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var isArrayResolved=isArray(this._values);!this._isResolved()&&isArrayResolved&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},SomePromiseArray.prototype.init=function(){this._initialized=!0,this._init()},SomePromiseArray.prototype.setUnwrap=function(){this._unwrap=!0},SomePromiseArray.prototype.howMany=function(){return this._howMany},SomePromiseArray.prototype.setHowMany=function(count){this._howMany=count},SomePromiseArray.prototype._promiseFulfilled=function(value){return this._addFulfilled(value),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},SomePromiseArray.prototype._promiseRejected=function(reason){return this._addRejected(reason),this._checkOutcome()},SomePromiseArray.prototype._promiseCancelled=function(){return this._values instanceof Promise||null==this._values?this._cancel():(this._addRejected(CANCELLATION),this._checkOutcome())},SomePromiseArray.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new AggregateError,i=this.length();i<this._values.length;++i)this._values[i]!==CANCELLATION&&e.push(this._values[i]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},SomePromiseArray.prototype._fulfilled=function(){return this._totalResolved},SomePromiseArray.prototype._rejected=function(){return this._values.length-this.length()},SomePromiseArray.prototype._addRejected=function(reason){this._values.push(reason)},SomePromiseArray.prototype._addFulfilled=function(value){this._values[this._totalResolved++]=value},SomePromiseArray.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},SomePromiseArray.prototype._getRangeError=function(count){var message="Input array must contain at least "+this._howMany+" items but contains only "+count+" items";return new RangeError(message)},SomePromiseArray.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},Promise.some=function(promises,howMany){return some(promises,howMany)},Promise.prototype.some=function(howMany){return some(this,howMany)},Promise._SomePromiseArray=SomePromiseArray}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,INTERNAL,debug){var util=__webpack_require__(52),TimeoutError=Promise.TimeoutError;function HandleWrapper(handle){this.handle=handle}HandleWrapper.prototype._resultCancelled=function(){clearTimeout(this.handle)};var afterValue=function(value){return delay(+this).thenReturn(value)},delay=Promise.delay=function(ms,value){var ret,handle;return void 0!==value?(ret=Promise.resolve(value)._then(afterValue,null,null,ms,void 0),debug.cancellation()&&value instanceof Promise&&ret._setOnCancel(value)):(ret=new Promise(INTERNAL),handle=setTimeout(function(){ret._fulfill()},+ms),debug.cancellation()&&ret._setOnCancel(new HandleWrapper(handle)),ret._captureStackTrace()),ret._setAsyncGuaranteed(),ret};Promise.prototype.delay=function(ms){return delay(ms,this)};function successClear(value){return clearTimeout(this.handle),value}function failureClear(reason){throw clearTimeout(this.handle),reason}Promise.prototype.timeout=function(ms,message){var ret,parent;ms=+ms;var handleWrapper=new HandleWrapper(setTimeout(function(){ret.isPending()&&function(promise,message,parent){var err;err="string"!=typeof message?message instanceof Error?message:new TimeoutError("operation timed out"):new TimeoutError(message),util.markAsOriginatingFromRejection(err),promise._attachExtraTrace(err),promise._reject(err),null!=parent&&parent.cancel()}(ret,message,parent)},ms));return debug.cancellation()?(parent=this.then(),(ret=parent._then(successClear,failureClear,void 0,handleWrapper,void 0))._setOnCancel(handleWrapper)):ret=this._then(successClear,failureClear,void 0,handleWrapper,void 0),ret}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,apiRejection,tryConvertToPromise,createContext,INTERNAL,debug){var util=__webpack_require__(52),TypeError=__webpack_require__(259).TypeError,inherits=__webpack_require__(52).inherits,errorObj=util.errorObj,tryCatch=util.tryCatch,NULL={};function thrower(e){setTimeout(function(){throw e},0)}function dispose(resources,inspection){var i=0,len=resources.length,ret=new Promise(INTERNAL);return function iterator(){if(i>=len)return ret._fulfill();var maybePromise=function(thenable){var maybePromise=tryConvertToPromise(thenable);return maybePromise!==thenable&&"function"==typeof thenable._isDisposable&&"function"==typeof thenable._getDisposer&&thenable._isDisposable()&&maybePromise._setDisposable(thenable._getDisposer()),maybePromise}(resources[i++]);if(maybePromise instanceof Promise&&maybePromise._isDisposable()){try{maybePromise=tryConvertToPromise(maybePromise._getDisposer().tryDispose(inspection),resources.promise)}catch(e){return thrower(e)}if(maybePromise instanceof Promise)return maybePromise._then(iterator,thrower,null,null,null)}iterator()}(),ret}function Disposer(data,promise,context){this._data=data,this._promise=promise,this._context=context}function FunctionDisposer(fn,promise,context){this.constructor$(fn,promise,context)}function maybeUnwrapDisposer(value){return Disposer.isDisposer(value)?(this.resources[this.index]._setDisposable(value),value.promise()):value}function ResourceList(length){this.length=length,this.promise=null,this[length-1]=null}Disposer.prototype.data=function(){return this._data},Disposer.prototype.promise=function(){return this._promise},Disposer.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():NULL},Disposer.prototype.tryDispose=function(inspection){var resource=this.resource(),context=this._context;void 0!==context&&context._pushContext();var ret=resource!==NULL?this.doDispose(resource,inspection):null;return void 0!==context&&context._popContext(),this._promise._unsetDisposable(),this._data=null,ret},Disposer.isDisposer=function(d){return null!=d&&"function"==typeof d.resource&&"function"==typeof d.tryDispose},inherits(FunctionDisposer,Disposer),FunctionDisposer.prototype.doDispose=function(resource,inspection){return this.data().call(resource,resource,inspection)},ResourceList.prototype._resultCancelled=function(){for(var len=this.length,i=0;i<len;++i){var item=this[i];item instanceof Promise&&item.cancel()}},Promise.using=function(){var len=arguments.length;if(len<2)return apiRejection("you must pass at least 2 arguments to Promise.using");var input,fn=arguments[len-1];if("function"!=typeof fn)return apiRejection("expecting a function but got "+util.classString(fn));var spreadArgs=!0;2===len&&Array.isArray(arguments[0])?(len=(input=arguments[0]).length,spreadArgs=!1):(input=arguments,len--);for(var resources=new ResourceList(len),i=0;i<len;++i){var resource=input[i];if(Disposer.isDisposer(resource)){var disposer=resource;(resource=resource.promise())._setDisposable(disposer)}else{var maybePromise=tryConvertToPromise(resource);maybePromise instanceof Promise&&(resource=maybePromise._then(maybeUnwrapDisposer,null,null,{resources:resources,index:i},void 0))}resources[i]=resource}var reflectedResources=new Array(resources.length);for(i=0;i<reflectedResources.length;++i)reflectedResources[i]=Promise.resolve(resources[i]).reflect();var resultPromise=Promise.all(reflectedResources).then(function(inspections){for(var i=0;i<inspections.length;++i){var inspection=inspections[i];if(inspection.isRejected())return errorObj.e=inspection.error(),errorObj;if(!inspection.isFulfilled())return void resultPromise.cancel();inspections[i]=inspection.value()}promise._pushContext(),fn=tryCatch(fn);var ret=spreadArgs?fn.apply(void 0,inspections):fn(inspections),promiseCreated=promise._popContext();return debug.checkForgottenReturns(ret,promiseCreated,"Promise.using",promise),ret}),promise=resultPromise.lastly(function(){var inspection=new Promise.PromiseInspection(resultPromise);return dispose(resources,inspection)});return resources.promise=promise,promise._setOnCancel(resources),promise},Promise.prototype._setDisposable=function(disposer){this._bitField=131072|this._bitField,this._disposer=disposer},Promise.prototype._isDisposable=function(){return(131072&this._bitField)>0},Promise.prototype._getDisposer=function(){return this._disposer},Promise.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},Promise.prototype.disposer=function(fn){if("function"==typeof fn)return new FunctionDisposer(fn,this,createContext());throw new TypeError}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise){var SomePromiseArray=Promise._SomePromiseArray;function any(promises){var ret=new SomePromiseArray(promises),promise=ret.promise();return ret.setHowMany(1),ret.setUnwrap(),ret.init(),promise}Promise.any=function(promises){return any(promises)},Promise.prototype.any=function(){return any(this)}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,INTERNAL){var PromiseReduce=Promise.reduce,PromiseAll=Promise.all;function promiseAllThis(){return PromiseAll(this)}Promise.prototype.each=function(fn){return PromiseReduce(this,fn,INTERNAL,0)._then(promiseAllThis,void 0,void 0,this,void 0)},Promise.prototype.mapSeries=function(fn){return PromiseReduce(this,fn,INTERNAL,INTERNAL)},Promise.each=function(promises,fn){return PromiseReduce(promises,fn,INTERNAL,0)._then(promiseAllThis,void 0,void 0,promises,void 0)},Promise.mapSeries=function(promises,fn){return PromiseReduce(promises,fn,INTERNAL,INTERNAL)}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(Promise,INTERNAL){var PromiseMap=Promise.map;Promise.prototype.filter=function(fn,options){return PromiseMap(this,fn,options,INTERNAL)},Promise.filter=function(promises,fn,options){return PromiseMap(promises,fn,options,INTERNAL)}}},function(module,exports,__webpack_require__){"use strict";var core=__webpack_require__(1276),isArray=__webpack_require__(12),isFunction=__webpack_require__(118),isObjectLike=__webpack_require__(32);module.exports=function(options){var errorText="Please verify options";if(!isObjectLike(options))throw new TypeError(errorText);if(!isFunction(options.request))throw new TypeError(errorText+".request");if(!isArray(options.expose)||0===options.expose.length)throw new TypeError(errorText+".expose");var plumbing=core({PromiseImpl:options.PromiseImpl,constructorMixin:options.constructorMixin}),originalInit=options.request.Request.prototype.init;options.request.Request.prototype.init=function(requestOptions){return!isObjectLike(requestOptions)||this._callback||this._rp_promise||plumbing.init.call(this,requestOptions),originalInit.apply(this,arguments)};for(var thenExposed=!1,i=0;i<options.expose.length;i+=1){var method=options.expose[i];plumbing["promise"===method?"exposePromise":"exposePromiseMethod"](options.request.Request.prototype,null,"_rp_promise",method),"then"===method&&(thenExposed=!0)}if(!thenExposed)throw new Error('Please expose "then"')}},function(module,exports,__webpack_require__){"use strict";var errors=__webpack_require__(952),isFunction=__webpack_require__(118),isObjectLike=__webpack_require__(32),isString=__webpack_require__(204),isUndefined=__webpack_require__(401);module.exports=function(options){var errorText="Please verify options";if(!isObjectLike(options))throw new TypeError(errorText);if(!isFunction(options.PromiseImpl))throw new TypeError(errorText+".PromiseImpl");if(!isUndefined(options.constructorMixin)&&!isFunction(options.constructorMixin))throw new TypeError(errorText+".PromiseImpl");var PromiseImpl=options.PromiseImpl,constructorMixin=options.constructorMixin,plumbing={init:function(requestOptions){var self=this;self._rp_promise=new PromiseImpl(function(resolve,reject){self._rp_resolve=resolve,self._rp_reject=reject,constructorMixin&&constructorMixin.apply(self,arguments)}),self._rp_callbackOrig=requestOptions.callback,requestOptions.callback=self.callback=function(err,response,body){plumbing.callback.call(self,err,response,body)},isString(requestOptions.method)&&(requestOptions.method=requestOptions.method.toUpperCase()),requestOptions.transform=requestOptions.transform||plumbing.defaultTransformations[requestOptions.method],self._rp_options=requestOptions,self._rp_options.simple=!1!==requestOptions.simple,self._rp_options.resolveWithFullResponse=!0===requestOptions.resolveWithFullResponse,self._rp_options.transform2xxOnly=!0===requestOptions.transform2xxOnly},defaultTransformations:{HEAD:function(body,response,resolveWithFullResponse){return resolveWithFullResponse?response:response.headers}},callback:function(err,response,body){var self=this,origCallbackThrewException=!1,thrownException=null;if(isFunction(self._rp_callbackOrig))try{self._rp_callbackOrig.apply(self,arguments)}catch(e){origCallbackThrewException=!0,thrownException=e}var is2xx=!err&&/^2/.test(""+response.statusCode);if(err?self._rp_reject(new errors.RequestError(err,self._rp_options,response)):self._rp_options.simple&&!is2xx?isFunction(self._rp_options.transform)&&!1===self._rp_options.transform2xxOnly?new PromiseImpl(function(resolve){resolve(self._rp_options.transform(body,response,self._rp_options.resolveWithFullResponse))}).then(function(transformedResponse){self._rp_reject(new errors.StatusCodeError(response.statusCode,body,self._rp_options,transformedResponse))}).catch(function(transformErr){self._rp_reject(new errors.TransformError(transformErr,self._rp_options,response))}):self._rp_reject(new errors.StatusCodeError(response.statusCode,body,self._rp_options,response)):isFunction(self._rp_options.transform)&&(is2xx||!1===self._rp_options.transform2xxOnly)?new PromiseImpl(function(resolve){resolve(self._rp_options.transform(body,response,self._rp_options.resolveWithFullResponse))}).then(function(transformedResponse){self._rp_resolve(transformedResponse)}).catch(function(transformErr){self._rp_reject(new errors.TransformError(transformErr,self._rp_options,response))}):self._rp_options.resolveWithFullResponse?self._rp_resolve(response):self._rp_resolve(body),origCallbackThrewException)throw thrownException},exposePromiseMethod:function(exposeTo,bindTo,promisePropertyKey,methodToExpose,exposeAs){if((exposeAs=exposeAs||methodToExpose)in exposeTo)throw new Error('Unable to expose method "'+exposeAs+'"');exposeTo[exposeAs]=function(){var self=bindTo||this;return self[promisePropertyKey][methodToExpose].apply(self[promisePropertyKey],arguments)}},exposePromise:function(exposeTo,bindTo,promisePropertyKey,exposeAs){if((exposeAs=exposeAs||"promise")in exposeTo)throw new Error('Unable to expose method "'+exposeAs+'"');exposeTo[exposeAs]=function(){return(bindTo||this)[promisePropertyKey]}}};return plumbing}},function(module,exports,__webpack_require__){"use strict";var isNative=/\.node$/;function forEach(obj,callback){for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&callback(key)}function assign(target,source){return forEach(source,function(key){target[key]=source[key]}),target}function clearCache(requireCache){forEach(requireCache,function(resolvedPath){isNative.test(resolvedPath)||delete requireCache[resolvedPath]})}module.exports=function(requireCache,callback,callbackForModulesToKeep,module){var originalCache=assign({},requireCache);if(clearCache(requireCache),callbackForModulesToKeep){var originalModuleChildren=!!module.children&&module.children.slice();callbackForModulesToKeep();var modulesToKeep=[];forEach(requireCache,function(key){modulesToKeep.push(key)}),clearCache(requireCache),module.children&&(module.children=originalModuleChildren);for(var i=0;i<modulesToKeep.length;i+=1)originalCache[modulesToKeep[i]]&&(requireCache[modulesToKeep[i]]=originalCache[modulesToKeep[i]])}var freshModule=callback(),stealthCache=!!callbackForModulesToKeep&&assign({},requireCache);if(clearCache(requireCache),callbackForModulesToKeep)for(var k=0;k<modulesToKeep.length;k+=1)stealthCache[modulesToKeep[k]]&&(requireCache[modulesToKeep[k]]=stealthCache[modulesToKeep[k]]);return assign(requireCache,originalCache),freshModule}},function(module,exports,__webpack_require__){var clone=__webpack_require__(1279),debugId=0;module.exports=exports=function(request,log){var proto;if(log=log||exports.log,request.Request)proto=request.Request.prototype;else{if(!request.get||!request.post)throw new Error("Pass the object returned by require('request') to this function.");var req=request("http://localhost:4").on("error",function(){});proto=req.constructor.prototype}proto._initBeforeDebug||(proto._initBeforeDebug=proto.init,proto.init=function(){return this._debugId||(this.on("request",function(req){var data={debugId:this._debugId,uri:this.uri.href,method:this.method,headers:clone(this.headers)};this.body&&(data.body=this.body.toString("utf8")),log("request",data,this)}).on("response",function(res){this.callback||log("response",{debugId:this._debugId,headers:clone(res.headers),statusCode:res.statusCode},this)}).on("complete",function(res,body){this.callback&&log("response",{debugId:this._debugId,headers:clone(res.headers),statusCode:res.statusCode,body:res.body},this)}).on("redirect",function(){var type=401==this.response.statusCode?"auth":"redirect";log(type,{debugId:this._debugId,statusCode:this.response.statusCode,headers:clone(this.response.headers),uri:this.uri.href},this)}),this._debugId=++debugId),proto._initBeforeDebug.apply(this,arguments)}),request.stopDebugging||(request.stopDebugging=function(){proto.init=proto._initBeforeDebug,delete proto._initBeforeDebug})},exports.log=function(type,data,r){var toLog={};toLog[type]=data,console.error(toLog)}},function(module,exports,__webpack_require__){"use strict";module.exports=function(obj){return JSON.parse(JSON.stringify(obj))}},function(module,exports,__webpack_require__){!function(e,a){for(var i in a)e[i]=a[i]}(exports,function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=10)}([function(module,exports,__webpack_require__){"use strict";(function(fetch){Object.defineProperty(exports,"__esModule",{value:!0}),exports.FetchError=void 0;var _slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")};exports.cozyFetch=cozyFetch,exports.cozyFetchJSON=function(cozy,method,path,body){var options=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},processJSONAPI=void 0===options.processJSONAPI||options.processJSONAPI;return fetchJSON(cozy,method,path,body,options).then(function(response){return handleJSONResponse(response,processJSONAPI)})},exports.cozyFetchRawJSON=function(cozy,method,path,body){var options=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return fetchJSON(cozy,method,path,body,options).then(function(response){return handleJSONResponse(response,!1)})},exports.handleInvalidTokenError=function(error){try{var currentOrigin=window.location.origin,requestUrl=error.url;if(0===requestUrl.indexOf(currentOrigin.replace(/^(https?:\/\/\w+)-\w+\./,"$1."))){var redirectURL=currentOrigin+"?"+(0,_utils.encodeQuery)({disconnect:1});window.location=redirectURL}}catch(e){console.warn("Unable to handle invalid token error",e,error)}};var obj,_auth_v=__webpack_require__(3),_utils=__webpack_require__(1),_jsonapi=__webpack_require__(8),_jsonapi2=(obj=_jsonapi)&&obj.__esModule?obj:{default:obj};function cozyFetch(cozy,path){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return cozy.fullpath(path).then(function(fullpath){return(options.disableAuth?fetch(fullpath,options):options.manualAuthCredentials?cozyFetchWithAuth(cozy,fullpath,options,options.manualAuthCredentials):cozy.authorize().then(function(credentials){return cozyFetchWithAuth(cozy,fullpath,options,credentials)})).then(function(res){return function(res,invalidTokenErrorHandler){if(res.ok)return res;var data=void 0,contentType=res.headers.get("content-type");data=contentType&&contentType.indexOf("json")>=0?res.json():res.text();return data.then(function(err){var error=new FetchError(res,err);throw FetchError.isInvalidToken(error)&&invalidTokenErrorHandler&&invalidTokenErrorHandler(error),error})}(res,cozy._invalidTokenErrorHandler)})})}function cozyFetchWithAuth(cozy,fullpath,options,credentials){return credentials&&(options.headers=options.headers||{},options.headers.Authorization=credentials.token.toAuthHeader()),options.credentials="include",Promise.all([cozy.isV2(),fetch(fullpath,options)]).then(function(_ref){var _ref2=_slicedToArray(_ref,2),isV2=_ref2[0],res=_ref2[1];if(400!==res.status&&401!==res.status||isV2||!credentials||options.dontRetry)return res;var client=credentials.client,token=credentials.token;return client&&token instanceof _auth_v.AccessToken?(options.dontRetry=!0,(0,_utils.retry)(function(){return(0,_auth_v.refreshToken)(cozy,client,token)},3)().then(function(newToken){return cozy.saveCredentials(client,newToken)}).then(function(credentials){return cozyFetchWithAuth(cozy,fullpath,options,credentials)})):res})}function fetchJSON(cozy,method,path,body){var options=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};options.method=method;var headers=options.headers=options.headers||{};return headers.Accept="application/json","GET"!==method&&"HEAD"!==method&&void 0!==body&&(headers["Content-Type"]?options.body=body:(headers["Content-Type"]="application/json",options.body=JSON.stringify(body))),cozyFetch(cozy,path,options)}function handleJSONResponse(res){var processJSONAPI=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],contentType=res.headers.get("content-type");if(!contentType||contentType.indexOf("json")<0)return res.text(function(data){throw new FetchError(res,new Error("Response is not JSON: "+data))});var json=res.json();return 0===contentType.indexOf("application/vnd.api+json")&&processJSONAPI?json.then(_jsonapi2.default):json}var FetchError=exports.FetchError=function(_Error){function FetchError(res,reason){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FetchError);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(FetchError.__proto__||Object.getPrototypeOf(FetchError)).call(this));return Error.captureStackTrace&&Error.captureStackTrace(_this,_this.constructor),_this.name="FetchError",_this.response=res,_this.url=res.url,_this.status=res.status,_this.reason=reason,Object.defineProperty(_this,"message",{value:reason.message||("string"==typeof reason?reason:JSON.stringify(reason))}),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(FetchError,Error),FetchError}();FetchError.isUnauthorized=function(err){return"FetchError"===err.name&&401===err.status},FetchError.isNotFound=function(err){return"FetchError"===err.name&&404===err.status},FetchError.isInvalidToken=function(err){return"FetchError"===err.name&&400===err.status&&err.reason&&("Invalid JWT token"===err.reason.error||"Expired token"===err.reason.error)}}).call(exports,__webpack_require__(6))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.unpromiser=function(fn){return function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var value=fn.apply(this,args);if(!isPromise(value))return value;var l=args.length;if(0!==l&&"function"==typeof args[l-1]){var cb=args[l-1];value.then(function(res){return cb(null,res)},function(err){return cb(err,null)})}}},exports.isPromise=isPromise,exports.isOnline=isOnline,exports.isOffline=function(){return!isOnline()},exports.sleep=sleep,exports.retry=function(fn,count){var delay=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;return function doTry(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return fn.apply(void 0,args).catch(function(err){if(--count<0)throw err;return sleep(getBackedoffDelay(delay,count)).then(function(){return doTry.apply(void 0,args)})})}},exports.getFuzzedDelay=getFuzzedDelay,exports.getBackedoffDelay=getBackedoffDelay,exports.createPath=function(cozy,isV2,doctype){var id=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",query=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,route="/data/";isV2||(route+=encodeURIComponent(doctype)+"/");""!==id&&(route+=encodeURIComponent(id));var q=encodeQuery(query);""!==q&&(route+="?"+q);return route},exports.encodeQuery=encodeQuery,exports.decodeQuery=function(url){var queryIndex=url.indexOf("?");queryIndex<0&&(queryIndex=url.length);var queries={},fragIndex=url.indexOf("#");fragIndex<0&&(fragIndex=url.length);if(fragIndex<queryIndex)return queries;var queryStr=url.slice(queryIndex+1,fragIndex);if(""===queryStr)return queries;for(var parts=queryStr.split("&"),i=0;i<parts.length;i++){var pair=parts[i].split("=");if(0!==pair.length&&""!==pair[0]){var qname=decodeURIComponent(pair[0]);if(!queries.hasOwnProperty(qname))if(1===pair.length)queries[qname]=!0;else{if(2!==pair.length)throw new Error("Malformed URL");queries[qname]=decodeURIComponent(pair[1])}}}return queries},exports.warn=function(text){-1===warned.indexOf(text)&&(warned.push(text),console.warn("cozy-client-js",text))};var FuzzFactor=.3;function isPromise(value){return!!value&&"function"==typeof value.then}function isOnline(){return"undefined"==typeof navigator||navigator.onLine}function sleep(time,args){return new Promise(function(resolve){setTimeout(resolve,time,args)})}function getFuzzedDelay(retryDelay){return retryDelay*(1+(2*Math.random()-1)*FuzzFactor)}function getBackedoffDelay(retryDelay){var retryCount=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return getFuzzedDelay(retryDelay*Math.pow(2,retryCount-1))}function encodeQuery(query){if(!query)return"";var q="";for(var qname in query)""!==q&&(q+="&"),q+=encodeURIComponent(qname)+"="+encodeURIComponent(query[qname]);return q}var warned=[]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DOCTYPE_FILES=void 0,exports.normalizeDoctype=function(cozy,isV2,doctype){var isQualified=-1!==doctype.indexOf(".");if(isV2&&isQualified){var known=REVERSE_KNOWN[doctype];return known||doctype.replace(/\./g,"-")}if(!isV2&&!isQualified){var _known=KNOWN_DOCTYPES[doctype];if(_known)return(0,_utils.warn)("you are using a non-qualified doctype "+doctype+" assumed to be "+_known),_known;throw new Error("Doctype "+doctype+" should be qualified.")}return doctype};var _utils=__webpack_require__(1),DOCTYPE_FILES=exports.DOCTYPE_FILES="io.cozy.files",KNOWN_DOCTYPES={files:DOCTYPE_FILES,folder:DOCTYPE_FILES,contact:"io.cozy.contacts",event:"io.cozy.events",track:"io.cozy.labs.music.track",playlist:"io.cozy.labs.music.playlist"},REVERSE_KNOWN={};Object.keys(KNOWN_DOCTYPES).forEach(function(k){REVERSE_KNOWN[KNOWN_DOCTYPES[k]]=k})},function(module,exports,__webpack_require__){"use strict";(function(btoa){Object.defineProperty(exports,"__esModule",{value:!0}),exports.AppToken=exports.AccessToken=exports.Client=exports.StateKey=exports.CredsKey=void 0;var _slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.client=client,exports.registerClient=registerClient,exports.updateClient=function(cozy,clientParams){var resetSecret=arguments.length>2&&void 0!==arguments[2]&&arguments[2],cli=client(cozy,clientParams);if(!cli.isRegistered())return Promise.reject(new Error("Client not registered"));var data=cli.toRegisterJSON();data.client_id=cli.clientID,resetSecret&&(data.client_secret=cli.clientSecret);return(0,_fetch.cozyFetchJSON)(cozy,"PUT","/auth/register/"+cli.clientID,data,{manualAuthCredentials:{token:cli}}).then(function(data){return createClient(data,cli)})},exports.unregisterClient=function(cozy,clientParams){var cli=client(cozy,clientParams);if(!cli.isRegistered())return Promise.reject(new Error("Client not registered"));return(0,_fetch.cozyFetchJSON)(cozy,"DELETE","/auth/register/"+cli.clientID,null,{manualAuthCredentials:{token:cli}})},exports.getClient=getClient,exports.getAuthCodeURL=getAuthCodeURL,exports.getAccessToken=getAccessToken,exports.refreshToken=function(cozy,client,token){return retrieveToken(cozy,client,token,{grant_type:"refresh_token",refresh_token:token.refreshToken})},exports.oauthFlow=function oauthFlow(cozy,storage,clientParams,onRegistered){var ignoreCachedCredentials=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(ignoreCachedCredentials)return storage.clear().then(function(){return oauthFlow(cozy,storage,clientParams,onRegistered,!1)});var tryCount=0;function clearAndRetry(err){if(tryCount++>0)throw err;return storage.clear().then(function(){return oauthFlow(cozy,storage,clientParams,onRegistered)})}return Promise.all([storage.load(CredsKey),storage.load(StateKey)]).then(function(_ref){var _ref2=_slicedToArray(_ref,2),credentials=_ref2[0],storedState=_ref2[1];if(credentials){var oldClient=void 0,_token=void 0;try{oldClient=new Client(credentials.client),_token=new AccessToken(credentials.token)}catch(err){return clearAndRetry(err)}return getClient(cozy,oldClient).then(function(client){return{client:client,token:_token}}).catch(function(err){if(_fetch.FetchError.isUnauthorized(err)||_fetch.FetchError.isNotFound(err))throw new Error("Client has been revoked");return{client:oldClient,token:_token}})}var statePromise=void 0;statePromise=storedState?Promise.resolve(storedState):storage.clear().then(function(){return registerClient(cozy,clientParams)}).then(function(client){var _getAuthCodeURL=getAuthCodeURL(cozy,client,clientParams.scopes),url=_getAuthCodeURL.url,state=_getAuthCodeURL.state;return storage.save(StateKey,{client:client,url:url,state:state})});var client=void 0,state=void 0,token=void 0;return statePromise.then(function(data){return client=data.client,state=data.state,Promise.resolve(onRegistered(client,data.url))}).then(function(pageURL){return getAccessToken(cozy,client,state,pageURL)}).then(function(t){token=t}).then(function(){return storage.delete(StateKey)}).then(function(){return{client:client,token:token}})}).then(function(creds){return storage.save(CredsKey,creds)},function(err){if(_fetch.FetchError.isUnauthorized(err))return clearAndRetry(err);throw err})};var _utils=__webpack_require__(1),_fetch=__webpack_require__(0);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var StateSize=16,CredsKey=exports.CredsKey="creds",StateKey=exports.StateKey="state",Client=exports.Client=function(){function Client(opts){if(_classCallCheck(this,Client),this.clientID=opts.clientID||opts.client_id||"",this.clientSecret=opts.clientSecret||opts.client_secret||"",this.registrationAccessToken=opts.registrationAccessToken||opts.registration_access_token||"",opts.redirect_uris?this.redirectURI=opts.redirect_uris[0]||"":this.redirectURI=opts.redirectURI||"",this.softwareID=opts.softwareID||opts.software_id||"",this.softwareVersion=opts.softwareVersion||opts.software_version||"",this.clientName=opts.clientName||opts.client_name||"",this.clientKind=opts.clientKind||opts.client_kind||"",this.clientURI=opts.clientURI||opts.client_uri||"",this.logoURI=opts.logoURI||opts.logo_uri||"",this.policyURI=opts.policyURI||opts.policy_uri||"",this.notificationPlatform=opts.notificationPlatform||opts.notification_platform||"",this.notificationDeviceToken=opts.notificationDeviceToken||opts.notification_device_token||"",!this.registrationAccessToken){if(""===this.redirectURI)throw new Error("Missing redirectURI field");if(""===this.softwareID)throw new Error("Missing softwareID field");if(""===this.clientName)throw new Error("Missing clientName field")}}return _createClass(Client,[{key:"isRegistered",value:function(){return""!==this.clientID}},{key:"toRegisterJSON",value:function(){return{redirect_uris:[this.redirectURI],software_id:this.softwareID,software_version:this.softwareVersion,client_name:this.clientName,client_kind:this.clientKind,client_uri:this.clientURI,logo_uri:this.logoURI,policy_uri:this.policyURI,notification_platform:this.notificationPlatform,notification_device_token:this.notificationDeviceToken}}},{key:"toAuthHeader",value:function(){return"Bearer "+this.registrationAccessToken}}]),Client}(),AccessToken=exports.AccessToken=function(){function AccessToken(opts){_classCallCheck(this,AccessToken),this.tokenType=opts.tokenType||opts.token_type,this.accessToken=opts.accessToken||opts.access_token,this.refreshToken=opts.refreshToken||opts.refresh_token,this.scope=opts.scope}return _createClass(AccessToken,[{key:"toAuthHeader",value:function(){return"Bearer "+this.accessToken}},{key:"toBasicAuth",value:function(){return"user:"+this.accessToken+"@"}}]),AccessToken}();exports.AppToken=function(){function AppToken(opts){_classCallCheck(this,AppToken),this.token=opts.token||""}return _createClass(AppToken,[{key:"toAuthHeader",value:function(){return"Bearer "+this.token}},{key:"toBasicAuth",value:function(){return"user:"+this.token+"@"}}]),AppToken}();function client(cozy,clientParams){return clientParams||(clientParams=cozy._clientParams),clientParams instanceof Client?clientParams:new Client(clientParams)}function registerClient(cozy,clientParams){var cli=client(cozy,clientParams);return cli.isRegistered()?Promise.reject(new Error("Client already registered")):(0,_fetch.cozyFetchJSON)(cozy,"POST","/auth/register",cli.toRegisterJSON(),{disableAuth:!0}).then(function(data){return new Client(data)})}function getClient(cozy,clientParams){var cli=client(cozy,clientParams);return cli.isRegistered()?(0,_utils.isOffline)()?Promise.resolve(cli):(0,_fetch.cozyFetchJSON)(cozy,"GET","/auth/register/"+cli.clientID,null,{manualAuthCredentials:{token:cli}}).then(function(data){return createClient(data,cli)}).catch(function(err){if(_fetch.FetchError.isUnauthorized(err)||_fetch.FetchError.isNotFound(err))throw new Error("Client has been revoked");throw err}):Promise.reject(new Error("Client not registered"))}function createClient(data,oldClient){var newClient=new Client(data);return!!oldClient&&""!==oldClient.registrationAccessToken&&""===newClient.registrationAccessToken&&(newClient.registrationAccessToken=oldClient.registrationAccessToken),newClient}function getAuthCodeURL(cozy,client){var scopes=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(client instanceof Client||(client=new Client(client)),!client.isRegistered())throw new Error("Client not registered");var state=function(){var buffer=void 0;if("undefined"!=typeof window&&void 0!==window.crypto&&"function"==typeof window.crypto.getRandomValues)buffer=new Uint8Array(StateSize),window.crypto.getRandomValues(buffer);else try{buffer=__webpack_require__(14).randomBytes(StateSize)}catch(e){buffer=null}if(!buffer){buffer=new Array(StateSize);for(var i=0;i<buffer.length;i++)buffer[i]=Math.floor(255*Math.random())}return btoa(String.fromCharCode.apply(null,buffer)).replace(/=+$/,"").replace(/\//g,"_").replace(/\+/g,"-")}(),query={client_id:client.clientID,redirect_uri:client.redirectURI,state:state,response_type:"code",scope:scopes.join(" ")};return{url:cozy._url+"/auth/authorize?"+(0,_utils.encodeQuery)(query),state:state}}function getAccessToken(cozy,client,state){var pageURL=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(!state)return Promise.reject(new Error("Missing state value"));var grantQueries=function(){var pageURL=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";""===pageURL&&"undefined"!=typeof window&&(pageURL=window.location.href);var queries=(0,_utils.decodeQuery)(pageURL);if(!queries.hasOwnProperty("state"))return null;return{state:queries.state,code:queries.code}}(pageURL);return null===grantQueries?Promise.reject(new Error("Missing states from current URL")):state!==grantQueries.state?Promise.reject(new Error("Given state does not match url query state")):retrieveToken(cozy,client,null,{grant_type:"authorization_code",code:grantQueries.code})}function retrieveToken(cozy,client,token,query){if(client instanceof Client||(client=new Client(client)),!client.isRegistered())return Promise.reject(new Error("Client not registered"));var body=(0,_utils.encodeQuery)(Object.assign({},query,{client_id:client.clientID,client_secret:client.clientSecret}));return(0,_fetch.cozyFetchJSON)(cozy,"POST","/auth/access_token",body,{disableAuth:null===token,dontRetry:!0,manualAuthCredentials:{client:client,token:token},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(data){return data.refreshToken=data.refreshToken||query.refresh_token,new AccessToken(data)})}}).call(exports,__webpack_require__(7))},function(module,exports){module.exports=__webpack_require__(15)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pickService=function(intent,filterServices){var services=intent.attributes.services,filteredServices=filterServices?(services||[]).filter(filterServices):services;return first(filteredServices)};exports.errorSerializer=function(){function mapErrorProperties(from,to){var result=Object.assign(to,from);return["name","message"].reduce(function(result,property){return from[property]&&(to[property]=from[property]),result},result)}return{serialize:function(error){return mapErrorProperties(error,{})},deserialize:function(data){return mapErrorProperties(data,new Error(data.message))}}}();var first=function(arr){return arr&&arr[0]}},function(module,exports){module.exports=__webpack_require__(1281)},function(module,exports){module.exports=__webpack_require__(1286)},function(module,exports,__webpack_require__){"use strict";function indexKey(doc){return doc.type+"/"+doc.id}function findByRef(resources,ref){return resources[indexKey(ref)]}function handleResource(rawResource,resources,links){var resource={_id:rawResource.id,_type:rawResource.type,_rev:rawResource.meta&&rawResource.meta.rev,links:Object.assign({},rawResource.links,links),attributes:rawResource.attributes,relations:function(name){var rels=rawResource.relationships[name];if(void 0!==rels&&void 0!==rels.data)return null===rels.data?null:Array.isArray(rels.data)?rels.data.map(function(ref){return findByRef(resources,ref)}):findByRef(resources,rels.data)}};return rawResource.relationships&&(resource.relationships=rawResource.relationships),resources[indexKey(rawResource)]=resource,resource}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(doc){var resources=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},included=doc.included;return Array.isArray(included)&&included.forEach(function(r){return handleResource(r,resources,doc.links)}),Array.isArray(doc.data)?doc.data.map(function(r){return handleResource(r,resources,doc.links)}):handleResource(doc.data,resources,doc.links)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.redirect=exports.getRedirectionURL=void 0;var obj,_ref,_ref2,_regenerator=__webpack_require__(4),_regenerator2=(obj=_regenerator)&&obj.__esModule?obj:{default:obj},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},getRedirectionURL=exports.getRedirectionURL=(_ref=_asyncToGenerator(_regenerator2.default.mark(function _callee(cozy,type,data){var intent,service,baseURL;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(type||data){_context.next=2;break}throw new Error("Cannot retrieve redirection, at least type or doc must be provided");case 2:return _context.next=4,create(cozy,"REDIRECT",type,data);case 4:if(intent=_context.sent,service=(0,_helpers.pickService)(intent)){_context.next=8;break}throw new Error("Unable to find a service");case 8:return url=service.href,baseURL=url.replace(/\?[^\/#]*/,""),_context.abrupt("return",data?buildRedirectionURL(baseURL,data):baseURL);case 10:case"end":return _context.stop()}var url},_callee,this)})),function(_x3,_x4,_x5){return _ref.apply(this,arguments)});exports.redirect=(_ref2=_asyncToGenerator(_regenerator2.default.mark(function _callee2(cozy,type,doc,redirectFn){var redirectionURL;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(window){_context2.next=2;break}throw new Error("redirect() method can only be called in a browser");case 2:return _context2.next=4,getRedirectionURL(cozy,type,doc);case 4:if(redirectionURL=_context2.sent,!redirectFn||"function"!=typeof redirectFn){_context2.next=7;break}return _context2.abrupt("return",redirectFn(redirectionURL));case 7:window.location.href=redirectionURL;case 8:case"end":return _context2.stop()}},_callee2,this)})),function(_x6,_x7,_x8,_x9){return _ref2.apply(this,arguments)});exports.create=create,exports.createService=function(cozy,intentId,serviceWindow){return service.start(cozy,intentId,serviceWindow)};var _fetch=__webpack_require__(0),_helpers=__webpack_require__(5),client=_interopRequireWildcard(__webpack_require__(18)),service=_interopRequireWildcard(__webpack_require__(19));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){return function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}("next")})}}function create(cozy,action,type){var data=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},permissions=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(!action)throw new Error('Misformed intent, "action" property must be provided');if(!type)throw new Error('Misformed intent, "type" property must be provided');var createPromise=(0,_fetch.cozyFetchJSON)(cozy,"POST","/intents",{data:{type:"io.cozy.intents",attributes:{action:action,type:type,data:data,permissions:permissions}}});return createPromise.start=function(element,onReadyCallback){var options={filteredServices:data.filteredServices,onReadyCallback:onReadyCallback};return delete data.filteredServices,createPromise.then(function(intent){return client.start(cozy,intent,element,data,options)})},createPromise}function buildRedirectionURL(url,data){var parameterStrings=Object.keys(data).filter(function(key){return value=data[key],!["object","function"].includes(void 0===value?"undefined":_typeof(value));var value}).map(function(key){return key+"="+data[key]});return parameterStrings.length?url+"?"+parameterStrings.join("&"):url}},function(module,exports,__webpack_require__){"use strict";(function(fetch){var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();__webpack_require__(11);var _utils=__webpack_require__(1),_auth_storage=__webpack_require__(12),_auth_v=__webpack_require__(13),auth=_interopRequireWildcard(__webpack_require__(3)),data=_interopRequireWildcard(__webpack_require__(15)),cozyFetch=_interopRequireWildcard(__webpack_require__(0)),mango=_interopRequireWildcard(__webpack_require__(16)),files=_interopRequireWildcard(__webpack_require__(17)),intents=_interopRequireWildcard(__webpack_require__(9)),jobs=_interopRequireWildcard(__webpack_require__(20)),offline=_interopRequireWildcard(__webpack_require__(21)),settings=_interopRequireWildcard(__webpack_require__(24)),relations=_interopRequireWildcard(__webpack_require__(25));function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}var AppTokenV3=auth.AppToken,AccessTokenV3=auth.AccessToken,ClientV3=auth.Client,defaultClientParams={softwareID:"github.com/cozy/cozy-client-js"},dataProto={create:data.create,find:data.find,findMany:data.findMany,findAll:data.findAll,update:data.update,delete:data._delete,updateAttributes:data.updateAttributes,changesFeed:data.changesFeed,defineIndex:mango.defineIndex,query:mango.query,addReferencedFiles:relations.addReferencedFiles,removeReferencedFiles:relations.removeReferencedFiles,listReferencedFiles:relations.listReferencedFiles,fetchReferencedFiles:relations.fetchReferencedFiles,destroy:function(){return(0,_utils.warn)("destroy is deprecated, use cozy.data.delete instead."),data._delete.apply(data,arguments)}},authProto={client:auth.client,registerClient:auth.registerClient,updateClient:auth.updateClient,unregisterClient:auth.unregisterClient,getClient:auth.getClient,getAuthCodeURL:auth.getAuthCodeURL,getAccessToken:auth.getAccessToken,refreshToken:auth.refreshToken},filesProto={create:files.create,createDirectory:files.createDirectory,createDirectoryByPath:files.createDirectoryByPath,updateById:files.updateById,updateAttributesById:files.updateAttributesById,updateAttributesByPath:files.updateAttributesByPath,trashById:files.trashById,statById:files.statById,statByPath:files.statByPath,downloadById:files.downloadById,downloadByPath:files.downloadByPath,getDownloadLinkById:files.getDownloadLinkById,getDownloadLink:files.getDownloadLinkByPath,getDownloadLinkByPath:files.getDownloadLinkByPath,getArchiveLink:function(){return(0,_utils.warn)("getArchiveLink is deprecated, use cozy.files.getArchiveLinkByPaths instead."),files.getArchiveLinkByPaths.apply(files,arguments)},getArchiveLinkByPaths:files.getArchiveLinkByPaths,getArchiveLinkByIds:files.getArchiveLinkByIds,getFilePath:files.getFilePath,getCollectionShareLink:files.getCollectionShareLink,query:mango.queryFiles,listTrash:files.listTrash,clearTrash:files.clearTrash,restoreById:files.restoreById,destroyById:files.destroyById},intentsProto={create:intents.create,createService:intents.createService,getRedirectionURL:intents.getRedirectionURL,redirect:intents.redirect},jobsProto={create:jobs.create,count:jobs.count,queued:jobs.queued},offlineProto={init:offline.init,getDoctypes:offline.getDoctypes,hasDatabase:offline.hasDatabase,getDatabase:offline.getDatabase,createDatabase:offline.createDatabase,migrateDatabase:offline.migrateDatabase,destroyDatabase:offline.destroyDatabase,destroyAllDatabase:offline.destroyAllDatabase,hasReplication:offline.hasReplication,replicateFromCozy:offline.replicateFromCozy,stopReplication:offline.stopReplication,stopAllReplication:offline.stopAllReplication,hasRepeatedReplication:offline.hasRepeatedReplication,startRepeatedReplication:offline.startRepeatedReplication,stopRepeatedReplication:offline.stopRepeatedReplication,stopAllRepeatedReplication:offline.stopAllRepeatedReplication},settingsProto={diskUsage:settings.diskUsage,changePassphrase:settings.changePassphrase,getInstance:settings.getInstance,updateInstance:settings.updateInstance,getClients:settings.getClients,deleteClientById:settings.deleteClientById,updateLastSync:settings.updateLastSync},ensureHasReconnectParam=function(_url){var url=new URL(_url);return url.searchParams&&!url.searchParams.has("reconnect")?url.searchParams.append("reconnect",1):url.search&&-1!==url.search.indexOf("reconnect")||(url.search=url.search+"&reconnect=1"),url.toString()},Client=function(){function Client(options){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Client),this.data={},this.files={},this.intents={},this.jobs={},this.offline={},this.settings={},this.auth={Client:ClientV3,AccessToken:AccessTokenV3,AppToken:AppTokenV3,AppTokenV2:_auth_v.AppToken,LocalStorage:_auth_storage.LocalStorage,MemoryStorage:_auth_storage.MemoryStorage},this._inited=!1,options&&this.init(options)}return _createClass(Client,[{key:"init",value:function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._inited=!0,this._oauth=!1,this._token=null,this._authstate=0,this._authcreds=null,this._storage=null,this._version=options.version||null,this._offline=null;var token=options.token,oauth=options.oauth;if(token&&oauth)throw new Error("Cannot specify an application token with a oauth activated");token?this._token=new AppTokenV3({token:token}):oauth&&(this._oauth=!0,this._storage=oauth.storage,this._clientParams=Object.assign({},defaultClientParams,oauth.clientParams),this._onRegistered=oauth.onRegistered||nopOnRegistered);for(var url=options.cozyURL||"";"/"===url[url.length-1];)url=url.slice(0,-1);this._url=url,this._invalidTokenErrorHandler=void 0!==options.onInvalidTokenError?options.onInvalidTokenError:cozyFetch.handleInvalidTokenError;var disablePromises=!!options.disablePromises;addToProto(this,this.data,dataProto,disablePromises),addToProto(this,this.auth,authProto,disablePromises),addToProto(this,this.files,filesProto,disablePromises),addToProto(this,this.intents,intentsProto,disablePromises),addToProto(this,this.jobs,jobsProto,disablePromises),addToProto(this,this.offline,offlineProto,disablePromises),addToProto(this,this.settings,settingsProto,disablePromises),options.offline&&this.offline.init(options.offline),this.fetch=function(method,url){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return cozyFetch.cozyFetch(this,url,_extends({},options,{method:method}))},this.fetchJSON=function(){var args=[this].concat(Array.prototype.slice.call(arguments));return cozyFetch.cozyFetchJSON.apply(this,args)}}},{key:"authorize",value:function(){var _this=this,forceTokenRefresh=arguments.length>0&&void 0!==arguments[0]&&arguments[0],state=this._authstate;return 3===state||1===state?this._authcreds:(this._authstate=1,this._authcreds=this.isV2().then(function(isV2){if(isV2&&_this._oauth)throw new Error("OAuth is not supported on the V2 stack");if(_this._oauth)return forceTokenRefresh&&_this._clientParams.redirectURI&&(_this._clientParams.redirectURI=ensureHasReconnectParam(_this._clientParams.redirectURI)),auth.oauthFlow(_this,_this._storage,_this._clientParams,_this._onRegistered,forceTokenRefresh);if(isV2)return(0,_auth_v.getAppToken)();if(_this._token)return Promise.resolve({client:null,token:_this._token});throw new Error("Missing application token")}),this._authcreds.then(function(){_this._authstate=3},function(){_this._authstate=2}),this._authcreds)}},{key:"saveCredentials",value:function(client,token){var creds={client:client,token:token};return this._storage&&1!==this._authstate?(this._storage.save(auth.CredsKey,creds),this._authcreds=Promise.resolve(creds),this._authcreds):Promise.resolve(creds)}},{key:"fullpath",value:function(path){var _this2=this;return this.isV2().then(function(isV2){var pathprefix=isV2?"/ds-api":"";return _this2._url+pathprefix+path})}},{key:"isV2",value:function(){var _this3=this;return this._version?Promise.resolve(2===this._version):(0,_utils.retry)(function(){return fetch(_this3._url+"/status/")},3)().then(function(res){if(res.ok)return res.json();throw new Error("Could not fetch cozy status")}).then(function(status){return _this3._version=void 0!==status.datasystem?2:3,_this3.isV2()})}}]),Client}();function nopOnRegistered(){throw new Error("Missing onRegistered callback")}function protoify(context,fn){return function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return fn.apply(void 0,[context].concat(args))}}function addToProto(ctx,obj,proto,disablePromises){for(var attr in proto){var fn=protoify(ctx,proto[attr]);disablePromises&&(fn=(0,_utils.unpromiser)(fn)),obj[attr]=fn}}module.exports=new Client,Object.assign(module.exports,{Client:Client,LocalStorage:_auth_storage.LocalStorage,MemoryStorage:_auth_storage.MemoryStorage})}).call(exports,__webpack_require__(6))},function(module,exports){module.exports=__webpack_require__(1287)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.LocalStorage=function(){function LocalStorage(storage,prefix){_classCallCheck(this,LocalStorage),storage||"undefined"==typeof window||(storage=window.localStorage),this.storage=storage,this.prefix=prefix||"cozy:oauth:"}return _createClass(LocalStorage,[{key:"save",value:function(key,value){var _this=this;return new Promise(function(resolve){_this.storage.setItem(_this.prefix+key,JSON.stringify(value)),resolve(value)})}},{key:"load",value:function(key){var _this2=this;return new Promise(function(resolve){var item=_this2.storage.getItem(_this2.prefix+key);item?resolve(JSON.parse(item)):resolve()})}},{key:"delete",value:function(key){var _this3=this;return new Promise(function(resolve){return resolve(_this3.storage.removeItem(_this3.prefix+key))})}},{key:"clear",value:function(){var _this4=this;return new Promise(function(resolve){for(var storage=_this4.storage,i=0;i<storage.length;i++){var key=storage.key(i);0===key.indexOf(_this4.prefix)&&storage.removeItem(key)}resolve()})}}]),LocalStorage}(),exports.MemoryStorage=function(){function MemoryStorage(){_classCallCheck(this,MemoryStorage),this.hash=Object.create(null)}return _createClass(MemoryStorage,[{key:"save",value:function(key,value){return this.hash[key]=value,Promise.resolve(value)}},{key:"load",value:function(key){return Promise.resolve(this.hash[key])}},{key:"delete",value:function(key){var deleted=delete this.hash[key];return Promise.resolve(deleted)}},{key:"clear",value:function(){return this.hash=Object.create(null),Promise.resolve()}}]),MemoryStorage}()},function(module,exports,__webpack_require__){"use strict";(function(btoa){Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.getAppToken=function(){return new Promise(function(resolve,reject){if("undefined"==typeof window)return reject(new Error("getV2Token should be used in browser"));if(!window.parent)return reject(new Error("getV2Token should be used in iframe"));if(!window.parent.postMessage)return reject(new Error("getV2Token should be used in modern browser"));var origin=window.location.origin,timeout=null;window.addEventListener("message",function receiver(event){var token=void 0;try{token=new AppToken({appName:event.data.appName,token:event.data.token})}catch(e){return void reject(e)}window.removeEventListener("message",receiver),clearTimeout(timeout),resolve({client:null,token:token})},!1),window.parent.postMessage({action:"getToken"},origin),timeout=setTimeout(function(){reject(new Error("No response from parent iframe after 3s"))},V2TOKEN_ABORT_TIMEOUT)})};var V2TOKEN_ABORT_TIMEOUT=3e3;var AppToken=exports.AppToken=function(){function AppToken(opts){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AppToken),this.appName=opts.appName||"",this.token=opts.token||""}return _createClass(AppToken,[{key:"toAuthHeader",value:function(){return"Basic "+btoa(this.appName+":"+this.token)}}]),AppToken}()}).call(exports,__webpack_require__(7))},function(module,exports){module.exports=__webpack_require__(23)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=function(cozy,doctype,attributes){return cozy.isV2().then(function(isV2){doctype=(0,_doctypes.normalizeDoctype)(cozy,isV2,doctype),isV2&&(attributes.docType=doctype);var path=(0,_utils.createPath)(cozy,isV2,doctype,attributes._id),httpVerb=attributes._id?"PUT":"POST";return delete attributes._id,(0,_fetch.cozyFetchJSON)(cozy,httpVerb,path,attributes).then(function(resp){return isV2?find(cozy,doctype,resp._id):resp.data})})},exports.find=find,exports.findMany=function(cozy,doctype,ids){if(!(ids instanceof Array))return Promise.reject(new Error("Parameter ids must be a non-empty array"));if(0===ids.length)return Promise.resolve({});return cozy.isV2().then(function(isV2){if(isV2)return Promise.reject(new Error("findMany is not available on v2"));var path=(0,_utils.createPath)(cozy,isV2,doctype,"_all_docs",{include_docs:!0});return(0,_fetch.cozyFetchJSON)(cozy,"POST",path,{keys:ids}).then(function(resp){var docs={},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=resp.rows[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var row=_step.value,key=row.key,doc=row.doc,error=row.error;docs[key]=error?{error:error}:{doc:doc}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return docs}).catch(function(error){if(404!==error.status)return Promise.reject(error);var docs={},_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=ids[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var id=_step2.value;docs[id]={error:error}}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}return docs})})},exports.findAll=function(cozy,doctype){return cozy.isV2().then(function(isV2){if(isV2)return Promise.reject(new Error("findAll is not available on v2"));var path=(0,_utils.createPath)(cozy,isV2,doctype,"_all_docs",{include_docs:!0});return(0,_fetch.cozyFetchJSON)(cozy,"POST",path,{}).then(function(resp){var docs=[],_iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=resp.rows[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var row=_step3.value,doc=row.doc;doc._id.match(/_design\//)||docs.push(doc)}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}return docs}).catch(function(error){if(404===error.status)return[];throw error})})},exports.changesFeed=function(cozy,doctype,options){return cozy.isV2().then(function(isV2){doctype=(0,_doctypes.normalizeDoctype)(cozy,isV2,doctype);var path=(0,_utils.createPath)(cozy,isV2,doctype,"_changes",options);return(0,_fetch.cozyFetchJSON)(cozy,"GET",path)})},exports.update=update,exports.updateAttributes=function updateAttributes(cozy,doctype,_id,changes){var tries=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3;return cozy.isV2().then(function(isV2){return doctype=(0,_doctypes.normalizeDoctype)(cozy,isV2,doctype),find(cozy,doctype,_id).then(function(doc){return update(cozy,doctype,doc,Object.assign({_id:_id},doc,changes))}).catch(function(err){if(tries>0)return updateAttributes(cozy,doctype,_id,changes,tries-1);throw err})})},exports._delete=function(cozy,doctype,doc){return cozy.isV2().then(function(isV2){doctype=(0,_doctypes.normalizeDoctype)(cozy,isV2,doctype);var _id=doc._id,_rev=doc._rev;if(!_id)return Promise.reject(new Error("Missing _id field in passed document"));if(!isV2&&!_rev)return Promise.reject(new Error("Missing _rev field in passed document"));var query=isV2?null:{rev:_rev},path=(0,_utils.createPath)(cozy,isV2,doctype,_id,query);return(0,_fetch.cozyFetchJSON)(cozy,"DELETE",path).then(function(resp){return isV2?{id:_id,rev:NOREV}:resp})})};var _utils=__webpack_require__(1),_doctypes=__webpack_require__(2),_fetch=__webpack_require__(0),NOREV="stack-v2-no-rev";function find(cozy,doctype,id){return cozy.isV2().then(function(isV2){if(doctype=(0,_doctypes.normalizeDoctype)(cozy,isV2,doctype),!id)return Promise.reject(new Error("Missing id parameter"));var path=(0,_utils.createPath)(cozy,isV2,doctype,id);return(0,_fetch.cozyFetchJSON)(cozy,"GET",path).then(function(resp){return isV2?Object.assign(resp,{_rev:NOREV}):resp})})}function update(cozy,doctype,doc,changes){return cozy.isV2().then(function(isV2){doctype=(0,_doctypes.normalizeDoctype)(cozy,isV2,doctype);var _id=doc._id,_rev=doc._rev;if(!_id)return Promise.reject(new Error("Missing _id field in passed document"));if(!isV2&&!_rev)return Promise.reject(new Error("Missing _rev field in passed document"));changes=isV2?Object.assign({_id:_id},changes):Object.assign({_id:_id,_rev:_rev},changes);var path=(0,_utils.createPath)(cozy,isV2,doctype,_id);return(0,_fetch.cozyFetchJSON)(cozy,"PUT",path,changes).then(function(resp){return isV2?find(cozy,doctype,_id):resp.data})})}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.defineIndex=function(cozy,doctype,fields){return cozy.isV2().then(function(isV2){if(doctype=(0,_doctypes.normalizeDoctype)(cozy,isV2,doctype),!Array.isArray(fields)||0===fields.length)throw new Error("defineIndex fields should be a non-empty array");return isV2?function(cozy,doctype,fields){var indexName="by"+fields.map(capitalize).join(""),indexDefinition={map:makeMapFunction(doctype,fields),reduce:"_count"},path="/request/"+doctype+"/"+indexName+"/";return(0,_fetch.cozyFetchJSON)(cozy,"PUT",path,indexDefinition).then(function(){return{doctype:doctype,type:"mapreduce",name:indexName,fields:fields}})}(cozy,doctype,fields):function(cozy,doctype,fields){var path=(0,_utils.createPath)(cozy,!1,doctype,"_index"),indexDefinition={index:{fields:fields}};return(0,_fetch.cozyFetchJSON)(cozy,"POST",path,indexDefinition).then(function(response){var indexResult={doctype:doctype,type:"mango",name:response.id,fields:fields};if("exists"===response.result)return indexResult;var selector={};selector[fields[0]]={$gt:null};var opts=getV3Options(indexResult,{selector:selector}),path=(0,_utils.createPath)(cozy,!1,indexResult.doctype,"_find");return(0,_fetch.cozyFetchJSON)(cozy,"POST",path,opts).then(function(){return indexResult}).catch(function(){return(0,_utils.sleep)(1e3).then(function(){return(0,_fetch.cozyFetchJSON)(cozy,"POST",path,opts)}).then(function(){return indexResult}).catch(function(){return(0,_utils.sleep)(500).then(function(){return indexResult})})})})}(cozy,doctype,fields)})},exports.query=function(cozy,indexRef,options){return cozy.isV2().then(function(isV2){if(!indexRef)throw new Error("query should be passed the indexRef");return isV2?function(cozy,indexRef,options){if("mapreduce"!==indexRef.type)throw new Error("query indexRef should be the return value of defineIndexV2");options.fields&&(0,_utils.warn)("query fields will be ignored on v2");var path="/request/"+indexRef.doctype+"/"+indexRef.name+"/",opts=makeMapReduceQuery(indexRef,options);return(0,_fetch.cozyFetchJSON)(cozy,"POST",path,opts).then(function(response){return response.map(function(r){return r.value})})}(cozy,indexRef,options):function(cozy,indexRef,options){var opts=getV3Options(indexRef,options),path=(0,_utils.createPath)(cozy,!1,indexRef.doctype,"_find");return(0,_fetch.cozyFetchJSON)(cozy,"POST",path,opts).then(function(response){return options.wholeResponse?response:response.docs})}(cozy,indexRef,options)})},exports.queryFiles=function(cozy,indexRef,options){var opts=getV3Options(indexRef,options);return(0,_fetch.cozyFetchRawJSON)(cozy,"POST","/files/_find",opts).then(function(response){return options.wholeResponse?response:response.docs})},exports.parseSelector=parseSelector,exports.normalizeSelector=normalizeSelector,exports.makeMapReduceQuery=makeMapReduceQuery;var _utils=__webpack_require__(1),_doctypes=__webpack_require__(2),_fetch=__webpack_require__(0);var VALUEOPERATORS=["$eq","$gt","$gte","$lt","$lte"],LOGICOPERATORS=["$or","$and","$not"],MAP_TEMPLATE=function(doc){"DOCTYPEPLACEHOLDER"===doc.docType.toLowerCase()&&emit(FIELDSPLACEHOLDER,doc)}.toString().replace(/ /g,"").replace(/\n/g,""),COUCHDB_INFINITY={"":""},COUCHDB_LOWEST=null;function getV3Options(indexRef,options){if("mango"!==indexRef.type)throw new Error("indexRef should be the return value of defineIndexV3");var opts={use_index:indexRef.name,fields:options.fields,selector:options.selector,limit:options.limit,skip:options.skip,since:options.since,sort:options.sort};return options.descending&&(opts.sort=indexRef.fields.map(function(f){return value="desc",(key=f)in(obj={})?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj;var obj,key,value})),opts}function capitalize(name){return name.charAt(0).toUpperCase()+name.slice(1)}function makeMapFunction(doctype,fields){return fields="["+fields.map(function(name){return"doc."+name}).join(",")+"]",MAP_TEMPLATE.replace("DOCTYPEPLACEHOLDER",doctype.toLowerCase()).replace("FIELDSPLACEHOLDER",fields)}function parseSelector(selector){var path=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],operator=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"$eq";if("object"!==(void 0===selector?"undefined":_typeof(selector)))return[[path,operator,selector]];var keys=Object.keys(selector);if(0===keys.length)throw new Error("empty selector");return keys.reduce(function(acc,k){if(-1!==LOGICOPERATORS.indexOf(k))throw new Error("cozy-client-js does not support mango logic ops");return-1!==VALUEOPERATORS.indexOf(k)?acc.concat(parseSelector(selector[k],path,k)):acc.concat(parseSelector(selector[k],path.concat(k),"$eq"))},[])}function normalizeSelector(selector){return parseSelector(selector).reduce(function(acc,filter){var _filter=_slicedToArray(filter,3),path=_filter[0],op=_filter[1],value=_filter[2],field=path.join(".");return acc[field]=acc[field]||{},acc[field][op]=value,acc},{})}function makeMapReduceQuery(indexRef,query){var mrquery={startkey:[],endkey:[],reduce:!1},firstFreeValueField=null,normalizedSelector=normalizeSelector(query.selector);return indexRef.fields.forEach(function(field){var selector=normalizedSelector[field];if(selector&&null!=firstFreeValueField)throw new Error("Selector on field "+field+", but not on "+firstFreeValueField+" which is higher in index fields.");selector?(selector.used=!0,function(selector,opts){var value=selector.$eq,lower=COUCHDB_LOWEST,upper=COUCHDB_INFINITY,inclusiveEnd=void 0;if(value)return opts.startkey.push(value),opts.endkey.push(value),!1;if(value=selector.$gt)throw new Error("operator $gt (strict greater than) not supported");return(value=selector.$gte)&&(lower=value),(value=selector.$lte)&&(upper=value,inclusiveEnd=!0),(value=selector.$lt)&&(upper=value,inclusiveEnd=!1),opts.startkey.push(lower),opts.endkey.push(upper),void 0!==inclusiveEnd&&(opts.inclusive_end=inclusiveEnd),!0}(selector,mrquery)&&(firstFreeValueField=field)):null==firstFreeValueField&&(firstFreeValueField=field,mrquery.endkey.push(COUCHDB_INFINITY))}),Object.keys(normalizedSelector).forEach(function(field){if(!normalizedSelector[field].used)throw new Error("Cant apply selector on "+field+", it is not in index")}),query.descending&&(mrquery={descending:!0,reduce:!1,startkey:mrquery.endkey,endkey:mrquery.startkey,inclusive_end:mrquery.inclusive_end}),mrquery}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TRASH_DIR_ID=exports.ROOT_DIR_ID=void 0;var _ref,_ref3,_regenerator2=_interopRequireDefault(__webpack_require__(4)),_slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},doUpload=(_ref=_asyncToGenerator(_regenerator2.default.mark(function _callee(cozy,data,method,path,options){var isBuffer,isFile,isBlob,isStream,isString,_ref2,contentType,contentLength,checksum,lastModifiedDate,ifMatch,metadata,sourceAccount,sourceAccountIdentifier,headers,finalpath,metadataId;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(data){_context.next=2;break}throw new Error("missing data argument");case 2:if(data.buffer&&data.buffer instanceof ArrayBuffer&&(data=data.buffer),isBuffer="undefined"!=typeof ArrayBuffer&&data instanceof ArrayBuffer,isFile="undefined"!=typeof File&&data instanceof File,isBlob="undefined"!=typeof Blob&&data instanceof Blob,isStream=!0===data.readable&&"function"==typeof data.pipe,isString="string"==typeof data,isBuffer||isFile||isBlob||isStream||isString){_context.next=10;break}throw new Error("invalid data type");case 10:if(contentType=(_ref2=options||{}).contentType,contentLength=_ref2.contentLength,checksum=_ref2.checksum,lastModifiedDate=_ref2.lastModifiedDate,ifMatch=_ref2.ifMatch,metadata=_ref2.metadata,sourceAccount=_ref2.sourceAccount,sourceAccountIdentifier=_ref2.sourceAccountIdentifier,contentType||(isBuffer?contentType=contentTypeOctetStream:isFile?(contentType=data.type||getFileTypeFromName(data.name.toLowerCase())||contentTypeOctetStream,lastModifiedDate||(lastModifiedDate=data.lastModifiedDate)):isBlob?contentType=data.type||contentTypeOctetStream:isStream?contentType=contentTypeOctetStream:"string"==typeof data&&(contentType="text/plain")),lastModifiedDate&&"string"==typeof lastModifiedDate&&(lastModifiedDate=new Date(lastModifiedDate)),headers={"Content-Type":contentType},contentLength&&(headers["Content-Length"]=String(contentLength)),checksum&&(headers["Content-MD5"]=checksum),lastModifiedDate&&(headers.Date=lastModifiedDate.toGMTString()),ifMatch&&(headers["If-Match"]=ifMatch),finalpath=path,!metadata){_context.next=24;break}return _context.next=22,sendMetadata(cozy,metadata);case 22:(metadataId=_context.sent)&&(finalpath=addQuerystringParam(finalpath,"MetadataID",metadataId));case 24:return sourceAccount&&(finalpath=addQuerystringParam(finalpath,"SourceAccount",sourceAccount)),sourceAccountIdentifier&&(finalpath=addQuerystringParam(finalpath,"SourceAccountIdentifier",sourceAccountIdentifier)),_context.abrupt("return",(0,_fetch.cozyFetch)(cozy,finalpath,{method:method,headers:headers,body:data}).then(function(res){var json=res.json();return res.ok?json.then(_jsonapi2.default):json.then(function(err){throw err})}));case 27:case"end":return _context.stop()}},_callee,this)})),function(_x,_x2,_x3,_x4,_x5){return _ref.apply(this,arguments)}),sendMetadata=(_ref3=_asyncToGenerator(_regenerator2.default.mark(function _callee2(cozy,metadata){var result;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,(0,_fetch.cozyFetchJSON)(cozy,"POST","/files/upload/metadata",{data:{type:"io.cozy.files.metadata",attributes:metadata}});case 2:return result=_context2.sent,_context2.abrupt("return",!(!result||!result._id)&&result._id);case 4:case"end":return _context2.stop()}},_callee2,this)})),function(_x6,_x7){return _ref3.apply(this,arguments)});exports.create=function(cozy,data,options){var _ref4=options||{},name=_ref4.name,dirID=_ref4.dirID,executable=_ref4.executable,noSanitize=_ref4.noSanitize;name||"string"!=typeof data.name||(name=data.name);noSanitize||(name=sanitizeFileName(name));if("string"!=typeof name||""===name)throw new Error("missing name argument");void 0===executable&&(executable=!1);var path="/files/"+encodeURIComponent(dirID||""),query="?Name="+encodeURIComponent(name)+"&Type=file&Executable="+executable;return doUpload(cozy,data,"POST",""+path+query,options)},exports.createDirectory=function(cozy,options){var _ref5=options||{},name=_ref5.name,dirID=_ref5.dirID,lastModifiedDate=_ref5.lastModifiedDate;if("string"!=typeof(name=sanitizeFileName(name))||""===name)throw new Error("missing name argument");lastModifiedDate&&"string"==typeof lastModifiedDate&&(lastModifiedDate=new Date(lastModifiedDate));var path="/files/"+encodeURIComponent(dirID||""),query="?Name="+encodeURIComponent(name)+"&Type=directory";return(0,_fetch.cozyFetchJSON)(cozy,"POST",""+path+query,void 0,{headers:{Date:lastModifiedDate?lastModifiedDate.toGMTString():""}})},exports.createDirectoryByPath=function(cozy,path,offline){var parts=path.split("/").filter(function(part){return""!==part}),rootDirectoryPromise=cozy.files.statById(ROOT_DIR_ID,offline);return parts.length?parts.reduce(function(parentDirectoryPromise,part){return parentDirectoryPromise.then(function(parentDirectory){return function(cozy,name,parentDirectory){if(parentDirectory&&!parentDirectory.attributes)throw new Error("Malformed parent directory");name=sanitizeFileName(name);var path=(parentDirectory._id===ROOT_DIR_ID?"":parentDirectory.attributes.path)+"/"+name;return cozy.files.statByPath(path||"/").catch(function(error){var parsedError=JSON.parse(error.message),errors=parsedError.errors;if(errors&&errors.length&&"404"===errors[0].status)return cozy.files.createDirectory({name:name,dirID:parentDirectory&&parentDirectory._id});throw errors})}(cozy,part,parentDirectory)})},rootDirectoryPromise):rootDirectoryPromise},exports.updateById=function(cozy,id,data,options){return doUpload(cozy,data,"PUT","/files/"+encodeURIComponent(id),options)},exports.updateAttributesById=function(cozy,id,attrs,options){return doUpdateAttributes(cozy,attrs,"/files/"+encodeURIComponent(id),options)},exports.updateAttributesByPath=function(cozy,path,attrs,options){return doUpdateAttributes(cozy,attrs,"/files/metadata?Path="+encodeURIComponent(path),options)},exports.trashById=function(cozy,id,options){if("string"!=typeof id||""===id)throw new Error("missing id argument");var ifMatch=(options||{}).ifMatch;return(0,_fetch.cozyFetchJSON)(cozy,"DELETE","/files/"+encodeURIComponent(id),void 0,{headers:{"If-Match":ifMatch||""}})},exports.statById=function(cozy,id){var offline=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(offline&&cozy.offline.hasDatabase(_doctypes.DOCTYPE_FILES)){var db=cozy.offline.getDatabase(_doctypes.DOCTYPE_FILES);return Promise.all([db.get(id),db.find(Object.assign({selector:{dir_id:id}},options))]).then(function(_ref8){var allFiles,folders,files,sort,_ref9=_slicedToArray(_ref8,2),doc=_ref9[0],children=_ref9[1];return id===ROOT_DIR_ID&&(children.docs=children.docs.filter(function(doc){return doc._id!==TRASH_DIR_ID})),allFiles=children.docs.map(function(doc){return addIsDir(toJsonApi(cozy,doc))}),folders=allFiles.filter(function(f){return"directory"===f.attributes.type}),files=allFiles.filter(function(f){return"directory"!==f.attributes.type}),children=(sort=function(files){return files.sort(function(a,b){return a.attributes.name.localeCompare(b.attributes.name)})})(folders).concat(sort(files)),addIsDir(toJsonApi(cozy,doc,children))})}var query=0===Object.keys(options).length?"":"?"+function(options){var opts=[];for(var name in options)opts.push("page["+encodeURIComponent(name)+"]="+encodeURIComponent(options[name]));return opts.join("&")}(options);return(0,_fetch.cozyFetchJSON)(cozy,"GET","/files/"+encodeURIComponent(id)+query).then(addIsDir)},exports.statByPath=function(cozy,path){return(0,_fetch.cozyFetchJSON)(cozy,"GET","/files/metadata?Path="+encodeURIComponent(path)).then(addIsDir)},exports.downloadById=function(cozy,id){return(0,_fetch.cozyFetch)(cozy,"/files/download/"+encodeURIComponent(id))},exports.downloadByPath=function(cozy,path){return(0,_fetch.cozyFetch)(cozy,"/files/download?Path="+encodeURIComponent(path))},exports.getDownloadLinkByPath=function(cozy,path){return(0,_fetch.cozyFetchJSON)(cozy,"POST","/files/downloads?Path="+encodeURIComponent(path)).then(extractResponseLinkRelated)},exports.getDownloadLinkById=function(cozy,id){return(0,_fetch.cozyFetchJSON)(cozy,"POST","/files/downloads?Id="+encodeURIComponent(id)).then(extractResponseLinkRelated)},exports.getFilePath=function(cozy){var file=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},folder=arguments[2];if(!folder||!folder.attributes)throw Error("Folder should be valid with an attributes.path property");return""+(folder.attributes.path.endsWith("/")?folder.attributes.path:folder.attributes.path+"/")+file.name},exports.getCollectionShareLink=function(cozy,id,collectionType){if(!id)return Promise.reject(Error("An id should be provided to create a share link"));return(0,_fetch.cozyFetchJSON)(cozy,"POST","/permissions?codes=email",{data:{type:"io.cozy.permissions",attributes:{permissions:{files:{type:"io.cozy.files",verbs:["GET"],values:[id],selector:"referenced_by"},collection:{type:collectionType,verbs:["GET"],values:[id]}}}}}).then(function(data){return{sharecode:"sharecode="+data.attributes.codes.email,id:"id="+id}})},exports.getArchiveLinkByPaths=function(cozy,paths){var archive={type:"io.cozy.archives",attributes:{name:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"files",files:paths}};return(0,_fetch.cozyFetchJSON)(cozy,"POST","/files/archive",{data:archive}).then(extractResponseLinkRelated)},exports.getArchiveLinkByIds=function(cozy,ids){var archive={type:"io.cozy.archives",attributes:{name:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"files",ids:ids}};return(0,_fetch.cozyFetchJSON)(cozy,"POST","/files/archive",{data:archive}).then(extractResponseLinkRelated)},exports.listTrash=function(cozy){return(0,_fetch.cozyFetchJSON)(cozy,"GET","/files/trash")},exports.clearTrash=function(cozy){return(0,_fetch.cozyFetchJSON)(cozy,"DELETE","/files/trash")},exports.restoreById=function(cozy,id){return(0,_fetch.cozyFetchJSON)(cozy,"POST","/files/trash/"+encodeURIComponent(id))},exports.destroyById=function(cozy,id,options){var ifMatch=(options||{}).ifMatch;return(0,_fetch.cozyFetchJSON)(cozy,"DELETE","/files/trash/"+encodeURIComponent(id),void 0,{headers:{"If-Match":ifMatch||""}})};var _fetch=__webpack_require__(0),_jsonapi2=_interopRequireDefault(__webpack_require__(8)),_doctypes=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){return function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}("next")})}}var ROOT_DIR_ID=exports.ROOT_DIR_ID="io.cozy.files.root-dir",TRASH_DIR_ID=exports.TRASH_DIR_ID="io.cozy.files.trash-dir",contentTypeOctetStream="application/octet-stream";function sanitizeFileName(name){return name&&name.trim()}function getFileTypeFromName(name){return/\.heic$/i.test(name)?"image/heic":/\.heif$/i.test(name)?"image/heif":null}function doUpdateAttributes(cozy,attrs,path,options){if(!attrs||"object"!==(void 0===attrs?"undefined":_typeof(attrs)))throw new Error("missing attrs argument");var ifMatch=(options||{}).ifMatch,body={data:{attributes:Object.assign({},attrs,{name:sanitizeFileName(attrs.name)})}};return(0,_fetch.cozyFetchJSON)(cozy,"PATCH",path,body,{headers:{"If-Match":ifMatch||""}})}function extractResponseLinkRelated(res){var href=res.links&&res.links.related;if(!href)throw new Error("No related link in server response");return href}function addIsDir(obj){return obj.isDir="directory"===obj.attributes.type,obj}function toJsonApi(cozy,doc){var contents=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],clone=JSON.parse(JSON.stringify(doc));return delete clone._id,delete clone._rev,{_id:doc._id,_rev:doc._rev,_type:_doctypes.DOCTYPE_FILES,attributes:clone,relationships:{contents:{data:contents,meta:{count:contents.length}}},relations:function(name){if("contents"===name)return contents}}}function addQuerystringParam(path,key,value){return path+(path.includes("?")?"&":"?")+key+"="+value}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var obj,_regenerator=__webpack_require__(4),_regenerator2=(obj=_regenerator)&&obj.__esModule?obj:{default:obj},_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.start=start;var _helpers=__webpack_require__(5),_=__webpack_require__(9);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){return function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}("next")})}}var intentClass="coz-intent";function hideIntentIframe(iframe){iframe.style.display="none"}function showIntentFrame(iframe){iframe.style.display="block"}function injectIntentIframe(intent,element,url,options){var onReadyCallback=options.onReadyCallback,iframe=function(intent,element,url){var document=element.ownerDocument;if(!document)return Promise.reject(new Error("Cannot retrieve document object from given element"));var iframe=document.createElement("iframe");return iframe.setAttribute("id","intent-"+intent._id),iframe.setAttribute("src",url),iframe.classList.add(intentClass),iframe}(intent,element,url,options.onReadyCallback);return"function"==typeof onReadyCallback&&(iframe.onload=onReadyCallback),element.appendChild(iframe),iframe.focus(),iframe}function start(cozy,intent,element){var data=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},options=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},service=(0,_helpers.pickService)(intent,options.filterServices);if(!service)throw new Error("Unable to find a service");return function(cozy,iframe,element,intent,data){var _ref,_this=this,compose=(_ref=_asyncToGenerator(_regenerator2.default.mark(function _callee(cozy,action,doctype,data){var intent,doc;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,(0,_.create)(cozy,action,doctype,data);case 2:return intent=_context.sent,hideIntentIframe(iframe),_context.next=6,start(cozy,intent,element,_extends({},data,{exposeIntentFrameRemoval:!1}));case 6:return doc=_context.sent,showIntentFrame(iframe),_context.abrupt("return",doc);case 9:case"end":return _context.stop()}},_callee,this)})),function(_x,_x2,_x3,_x4){return _ref.apply(this,arguments)}),document=element.ownerDocument;if(!document)return Promise.reject(new Error("Cannot retrieve document object from given element"));var window=document.defaultView;if(!window)return Promise.reject(new Error("Cannot retrieve window object from document"));var serviceOrigin=iframe.src.split("/",3).join("/");return new Promise(function(resolve,reject){var _ref2,handshaken=!1,messageHandler=(_ref2=_asyncToGenerator(_regenerator2.default.mark(function _callee2(event){var eventType,_event$data,action,doctype,_data,doc,removeIntentFrame;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(event.origin===serviceOrigin){_context2.next=2;break}return _context2.abrupt("return");case 2:if("load"!==(eventType=event.data.type)){_context2.next=6;break}return console.warn&&console.warn("Cozy Client ignored MessageEvent having data.type `load`."),_context2.abrupt("return");case 6:if(eventType!=="intent-"+intent._id+":ready"){_context2.next=9;break}return handshaken=!0,_context2.abrupt("return",event.source.postMessage(data,event.origin));case 9:if(!handshaken||eventType!=="intent-"+intent._id+":resize"){_context2.next=13;break}return["width","height","maxWidth","maxHeight"].forEach(function(prop){event.data.transition&&(element.style.transition=event.data.transition),event.data.dimensions[prop]&&(element.style[prop]=event.data.dimensions[prop]+"px")}),_context2.abrupt("return",!0);case 13:if(!handshaken||eventType!=="intent-"+intent._id+":compose"){_context2.next=19;break}return _event$data=event.data,action=_event$data.action,doctype=_event$data.doctype,_data=_event$data.data,_context2.next=17,compose(cozy,action,doctype,_data);case 17:return doc=_context2.sent,_context2.abrupt("return",event.source.postMessage(doc,event.origin));case 19:if(window.removeEventListener("message",messageHandler),removeIntentFrame=function(){iframe.parentNode&&iframe.parentNode.removeChild(iframe)},!handshaken||eventType!=="intent-"+intent._id+":exposeFrameRemoval"){_context2.next=23;break}return _context2.abrupt("return",resolve({removeIntentFrame:removeIntentFrame,doc:event.data.document}));case 23:if(removeIntentFrame(),eventType!=="intent-"+intent._id+":error"){_context2.next=26;break}return _context2.abrupt("return",reject(_helpers.errorSerializer.deserialize(event.data.error)));case 26:if(!handshaken||eventType!=="intent-"+intent._id+":cancel"){_context2.next=28;break}return _context2.abrupt("return",resolve(null));case 28:if(!handshaken||eventType!=="intent-"+intent._id+":done"){_context2.next=30;break}return _context2.abrupt("return",resolve(event.data.document));case 30:if(handshaken){_context2.next=32;break}return _context2.abrupt("return",reject(new Error("Unexpected handshake message from intent service")));case 32:case"end":return _context2.stop()}},_callee2,_this)})),function(_x5){return _ref2.apply(this,arguments)});window.addEventListener("message",messageHandler)})}(cozy,injectIntentIframe(intent,element,service.href,options),element,intent,data,options.onReadyCallback)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.start=function(cozy,intentId,serviceWindow){if(!(serviceWindow=serviceWindow||"undefined"!=typeof window&&window)||!serviceWindow.document)return Promise.reject(new Error("Intent service should be used in browser"));return serviceWindow.addEventListener("load",function(){var document=serviceWindow.document;[document.documentElement,document.body].forEach(maximize)}),(intentId=intentId||serviceWindow.location.search.split("=")[1])?(0,_fetch.cozyFetchJSON)(cozy,"GET","/intents/"+intentId).then(function(intent){var terminated=!1,sendMessage=function(message){if(terminated)throw new Error("Intent service has already been terminated");serviceWindow.parent.postMessage(message,intent.attributes.client)},compose=function(action,doctype,data){return new Promise(function(resolve){serviceWindow.addEventListener("message",function composeEventListener(event){if(event.origin===intent.attributes.client)return serviceWindow.removeEventListener("message",composeEventListener),resolve(event.data)}),sendMessage({type:"intent-"+intent._id+":compose",action:action,doctype:doctype,data:data})})},_terminate=function(message){sendMessage(message),terminated=!0},resizeClient=function(dimensions,transitionProperty){if(terminated)throw new Error("Intent service has been terminated");sendMessage({type:"intent-"+intent._id+":resize",dimensions:dimensions.element?Object.assign({},dimensions,{maxHeight:dimensions.element.clientHeight,maxWidth:dimensions.element.clientWidth}):dimensions,transition:transitionProperty})},cancel=function(){_terminate({type:"intent-"+intent._id+":cancel"})};return serviceWindow.addEventListener("unload",function(){terminated||cancel()}),function(intent,window){return new Promise(function(resolve){window.addEventListener("message",function messageEventListener(event){event.origin===intent.attributes.client&&(window.removeEventListener("message",messageEventListener),resolve(event.data))}),window.parent.postMessage({type:"intent-"+intent._id+":ready"},intent.attributes.client)})}(intent,serviceWindow).then(function(data){return{compose:compose,getData:function(){return data},getIntent:function(){return intent},terminate:function(doc){var eventName=data&&data.exposeIntentFrameRemoval?"exposeFrameRemoval":"done";return _terminate({type:"intent-"+intent._id+":"+eventName,document:doc})},throw:function(error){return _terminate({type:"intent-"+intent._id+":error",error:_helpers.errorSerializer.serialize(error)})},resizeClient:resizeClient,cancel:cancel}})}):Promise.reject(new Error("Cannot retrieve intent from URL"))};var _fetch=__webpack_require__(0),_helpers=__webpack_require__(5);function maximize(element){element&&element.style&&(element.style.height="100%")}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.count=function(cozy,workerType){return(0,_fetch.cozyFetchJSON)(cozy,"GET","/jobs/queue/"+workerType).then(function(data){return data.length})},exports.queued=function(cozy,workerType){return(0,_fetch.cozyFetchJSON)(cozy,"GET","/jobs/queue/"+workerType)},exports.create=function(cozy,workerType,args,options){return(0,_fetch.cozyFetchJSON)(cozy,"POST","/jobs/queue/"+workerType,{data:{type:"io.cozy.jobs",attributes:{arguments:args||{},options:options||{}}}})};var _fetch=__webpack_require__(0)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.replicationOfflineError=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.init=function(cozy,_ref){var _ref$options=_ref.options,options=void 0===_ref$options?{}:_ref$options,_ref$doctypes=_ref.doctypes,doctypes=void 0===_ref$doctypes?[]:_ref$doctypes,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=doctypes[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var doctype=_step.value;createDatabase(cozy,doctype,options)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}},exports.getDoctypes=getDoctypes,exports.hasDatabase=hasDatabase,exports.getDatabase=getDatabase,exports.setDatabase=setDatabase,exports.migrateDatabase=function(cozy,doctype){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},oldDb=getDatabase(cozy,doctype),newOptions=_extends({adapter:"idb"},options),newDb=new _pouchdbBrowser2.default(doctype,newOptions);return oldDb.replicate.to(newDb).then(function(){return setDatabase(cozy,doctype,newDb),oldDb.destroy(),newDb})},exports.createDatabase=createDatabase,exports.destroyDatabase=destroyDatabase,exports.destroyAllDatabase=function(cozy){var doctypes=getDoctypes(cozy);return Promise.all(doctypes.map(function(doctype){return destroyDatabase(cozy,doctype)}))},exports.hasReplication=hasReplication,exports.replicateFromCozy=replicateFromCozy,exports.stopReplication=stopReplication,exports.stopAllReplication=function(cozy){var doctypes=getDoctypes(cozy);return Promise.all(doctypes.map(function(doctype){return stopReplication(cozy,doctype)}))},exports.hasRepeatedReplication=hasRepeatedReplication,exports.startRepeatedReplication=function(cozy,doctype,timer){var options=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(hasRepeatedReplication(cozy,doctype))return getRepeatedReplication(cozy,doctype);return setRepeatedReplication(cozy,doctype,setInterval(function(){(0,_utils.isOffline)()?console.info(replicationOfflineError):hasReplication(cozy,doctype)||replicateFromCozy(cozy,doctype,options)},1e3*timer))},exports.stopRepeatedReplication=stopRepeatedReplication,exports.stopAllRepeatedReplication=function(cozy){var doctypes=getDoctypes(cozy);return Promise.all(doctypes.map(function(doctype){return stopRepeatedReplication(cozy,doctype)}))};var _doctypes=__webpack_require__(2),_auth_v=__webpack_require__(3),_utils=__webpack_require__(1),_pouchdbBrowser2=_interopRequireDefault(__webpack_require__(22)),_pouchdbFind2=_interopRequireDefault(__webpack_require__(23));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var replicationOfflineError=exports.replicationOfflineError="Replication abort, your device is actually offline.",pluginLoaded=!1;function getInfo(cozy,doctype){return cozy._offline=cozy._offline||[],cozy._offline[doctype]=cozy._offline[doctype]||{},cozy._offline[doctype]}function getDoctypes(cozy){return cozy._offline=cozy._offline||[],Object.keys(cozy._offline)}function hasDatabase(cozy,doctype){return void 0!==getDatabase(cozy,doctype)}function getDatabase(cozy,doctype){return getInfo(cozy,doctype).database}function setDatabase(cozy,doctype,database){return cozy._offline[doctype].database=database,getDatabase(cozy,doctype)}function createDatabase(cozy,doctype){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return pluginLoaded||(_pouchdbBrowser2.default.plugin(_pouchdbFind2.default),pluginLoaded=!0),hasDatabase(cozy,doctype)?Promise.resolve(getDatabase(cozy,doctype)):(setDatabase(cozy,doctype,new _pouchdbBrowser2.default(doctype,options)),function(cozy,doctype){if(doctype===_doctypes.DOCTYPE_FILES)return getDatabase(cozy,doctype).createIndex({index:{fields:["dir_id"]}});return Promise.resolve()}(cozy,doctype).then(function(){return getDatabase(cozy,doctype)}))}function destroyDatabase(cozy,doctype){return hasDatabase(cozy,doctype)?stopRepeatedReplication(cozy,doctype).then(function(){return stopReplication(cozy,doctype)}).then(function(){return getDatabase(cozy,doctype).destroy()}).then(function(response){return setDatabase(cozy,doctype,void 0),response}):Promise.resolve(!1)}function hasReplication(cozy,doctype){return void 0!==getReplication(cozy,doctype)}function getReplication(cozy,doctype){return getInfo(cozy,doctype).replication}function setReplication(cozy,doctype,replication){return cozy._offline[doctype].replication=replication,getReplication(cozy,doctype)}function getReplicationPromise(cozy,doctype){return getInfo(cozy,doctype).replicationPromise}function replicateFromCozy(cozy,doctype){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(cozy,doctype,promise){return cozy._offline[doctype].replicationPromise=promise,getReplicationPromise(cozy,doctype)}(cozy,doctype,new Promise(function(resolve,reject){return hasDatabase(cozy,doctype)||createDatabase(cozy,doctype),!0===options.live?reject(new Error("You can't use `live` option with Cozy couchdb.")):(0,_utils.isOffline)()?(reject(replicationOfflineError),void(options.onError&&options.onError(replicationOfflineError))):void function(cozy,doctype){return cozy.authorize().then(function(credentials){var basic=credentials.token.toBasicAuth();return(cozy._url+"/data/"+doctype).replace("//","//"+basic)})}(cozy,doctype).then(function(url){return setReplication(cozy,doctype,getDatabase(cozy,doctype).replicate.from(url,options).on("complete",function(info){setReplication(cozy,doctype,void 0),resolve(info),options.onComplete&&options.onComplete(info)}).on("error",function(err){"code=400, message=Expired token"===err.error?cozy.authorize().then(function(_ref2){var client=_ref2.client,token=_ref2.token;(0,_auth_v.refreshToken)(cozy,client,token).then(function(newToken){return cozy.saveCredentials(client,newToken)}).then(function(){return replicateFromCozy(cozy,doctype,options)})}):(console.warn("ReplicateFromCozy '"+doctype+"' Error:"),console.warn(err),setReplication(cozy,doctype,void 0),reject(err),options.onError&&options.onError(err))}))})}))}function stopReplication(cozy,doctype){return getDatabase(cozy,doctype)&&hasReplication(cozy,doctype)?new Promise(function(resolve){try{getReplicationPromise(cozy,doctype).then(function(){resolve()}),getReplication(cozy,doctype).cancel()}catch(e){resolve()}}):Promise.resolve()}function getRepeatedReplication(cozy,doctype){return getInfo(cozy,doctype).interval}function setRepeatedReplication(cozy,doctype,interval){cozy._offline[doctype].interval=interval}function hasRepeatedReplication(cozy,doctype){return void 0!==getRepeatedReplication(cozy,doctype)}function stopRepeatedReplication(cozy,doctype){return hasRepeatedReplication(cozy,doctype)&&(clearInterval(getRepeatedReplication(cozy,doctype)),setRepeatedReplication(cozy,doctype,void 0)),hasReplication(cozy,doctype)?stopReplication(cozy,doctype):Promise.resolve()}},function(module,exports){module.exports=__webpack_require__(1312)},function(module,exports){module.exports=__webpack_require__(1711)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.diskUsage=function(cozy){return(0,_fetch.cozyFetchJSON)(cozy,"GET","/settings/disk-usage")},exports.changePassphrase=function(cozy,currentPassPhrase,newPassPhrase){return(0,_fetch.cozyFetchJSON)(cozy,"PUT","/settings/passphrase",{current_passphrase:currentPassPhrase,new_passphrase:newPassPhrase})},exports.getInstance=function(cozy){return(0,_fetch.cozyFetchJSON)(cozy,"GET","/settings/instance")},exports.updateInstance=function(cozy,instance){return(0,_fetch.cozyFetchJSON)(cozy,"PUT","/settings/instance",instance)},exports.getClients=function(cozy){return(0,_fetch.cozyFetchJSON)(cozy,"GET","/settings/clients")},exports.deleteClientById=function(cozy,id){return(0,_fetch.cozyFetchJSON)(cozy,"DELETE","/settings/clients/"+id)},exports.updateLastSync=function(cozy){return(0,_fetch.cozyFetchJSON)(cozy,"POST","/settings/synchronized")};var _fetch=__webpack_require__(0)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.removeReferencedFiles=exports.addReferencedFiles=void 0,exports.listReferencedFiles=function(cozy,doc){if(!doc)throw new Error("missing doc argument");return(0,_fetch.cozyFetchJSON)(cozy,"GET",makeReferencesPath(doc)).then(function(files){return files.map(function(file){return file._id})})},exports.fetchReferencedFiles=function(cozy,doc,options,sort){if(!doc)throw new Error("missing doc argument");var params=Object.keys(options).map(function(key){var value=encodeURIComponent(JSON.stringify(options[key]));return"&page["+key+"]="+value}).join("");sort||(sort="datetime");return(0,_fetch.cozyFetchRawJSON)(cozy,"GET",makeReferencesPath(doc)+"?include=files&sort="+sort+params)};var _fetch=__webpack_require__(0),_doctypes=__webpack_require__(2);function updateRelations(verb){return function(cozy,doc,ids){if(!doc)throw new Error("missing doc argument");Array.isArray(ids)||(ids=[ids]);var refs=ids.map(function(id){return{type:_doctypes.DOCTYPE_FILES,id:id}});return(0,_fetch.cozyFetchJSON)(cozy,verb,makeReferencesPath(doc),{data:refs})}}exports.addReferencedFiles=updateRelations("POST"),exports.removeReferencedFiles=updateRelations("DELETE");function makeReferencesPath(doc){return"/data/"+encodeURIComponent(doc._type)+"/"+encodeURIComponent(doc._id)+"/relationships/references"}}]))},function(module,exports,__webpack_require__){"use strict";var realFetch=__webpack_require__(1282);module.exports=function(url,options){return/^\/\//.test(url)&&(url="https:"+url),realFetch.call(this,url,options)},global.fetch||(global.fetch=module.exports,global.Response=realFetch.Response,global.Headers=realFetch.Headers,global.Request=realFetch.Request)},function(module,exports,__webpack_require__){__webpack_require__(20).parse;var resolve_url=__webpack_require__(20).resolve,http=__webpack_require__(65),https=__webpack_require__(95),zlib=__webpack_require__(55),stream=__webpack_require__(10),Body=__webpack_require__(870),Response=__webpack_require__(1284),Headers=__webpack_require__(871),Request=__webpack_require__(1285),FetchError=__webpack_require__(1114);function Fetch(url,opts){if(!(this instanceof Fetch))return new Fetch(url,opts);if(!Fetch.Promise)throw new Error("native promise missing, set Fetch.Promise to your favorite alternative");Body.Promise=Fetch.Promise;var self=this;return new Fetch.Promise(function(resolve,reject){var send,options=new Request(url,opts);if(!options.protocol||!options.hostname)throw new Error("only absolute urls are supported");if("http:"!==options.protocol&&"https:"!==options.protocol)throw new Error("only http(s) protocols are supported");send="https:"===options.protocol?https.request:http.request;var headers=new Headers(options.headers);options.compress&&headers.set("accept-encoding","gzip,deflate"),headers.has("user-agent")||headers.set("user-agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),headers.has("connection")||options.agent||headers.set("connection","close"),headers.has("accept")||headers.set("accept","*/*"),!headers.has("content-type")&&options.body&&"function"==typeof options.body.getBoundary&&headers.set("content-type","multipart/form-data; boundary="+options.body.getBoundary()),!headers.has("content-length")&&/post|put|patch|delete/i.test(options.method)&&("string"==typeof options.body?headers.set("content-length",Buffer.byteLength(options.body)):options.body&&"function"==typeof options.body.getLengthSync?options.body._lengthRetrievers&&0==options.body._lengthRetrievers.length?headers.set("content-length",options.body.getLengthSync().toString()):options.body.hasKnownLength&&options.body.hasKnownLength()&&headers.set("content-length",options.body.getLengthSync().toString()):void 0!==options.body&&null!==options.body||headers.set("content-length","0")),options.headers=headers.raw(),options.headers.host&&(options.headers.host=options.headers.host[0]);var reqTimeout,req=send(options);options.timeout&&req.once("socket",function(socket){reqTimeout=setTimeout(function(){req.abort(),reject(new FetchError("network timeout at: "+options.url,"request-timeout"))},options.timeout)}),req.on("error",function(err){clearTimeout(reqTimeout),reject(new FetchError("request to "+options.url+" failed, reason: "+err.message,"system",err))}),req.on("response",function(res){if(clearTimeout(reqTimeout),self.isRedirect(res.statusCode)&&"manual"!==options.redirect)return"error"===options.redirect?void reject(new FetchError("redirect mode is set to error: "+options.url,"no-redirect")):options.counter>=options.follow?void reject(new FetchError("maximum redirect reached at: "+options.url,"max-redirect")):res.headers.location?(303!==res.statusCode&&(301!==res.statusCode&&302!==res.statusCode||"POST"!==options.method)||(options.method="GET",delete options.body,delete options.headers["content-length"]),options.counter++,void resolve(Fetch(resolve_url(options.url,res.headers.location),options))):void reject(new FetchError("redirect location header missing at: "+options.url,"invalid-redirect"));var headers=new Headers(res.headers);"manual"===options.redirect&&headers.has("location")&&headers.set("location",resolve_url(options.url,headers.get("location")));var output,body=res.pipe(new stream.PassThrough),response_options={url:options.url,status:res.statusCode,statusText:res.statusMessage,headers:headers,size:options.size,timeout:options.timeout};if(!options.compress||"HEAD"===options.method||!headers.has("content-encoding")||204===res.statusCode||304===res.statusCode)return output=new Response(body,response_options),void resolve(output);var name=headers.get("content-encoding");if("gzip"==name||"x-gzip"==name)return body=body.pipe(zlib.createGunzip()),output=new Response(body,response_options),void resolve(output);"deflate"!=name&&"x-deflate"!=name?(output=new Response(body,response_options),resolve(output)):res.pipe(new stream.PassThrough).once("data",function(chunk){body=8==(15&chunk[0])?body.pipe(zlib.createInflate()):body.pipe(zlib.createInflateRaw()),output=new Response(body,response_options),resolve(output)})}),"string"==typeof options.body?(req.write(options.body),req.end()):options.body instanceof Buffer?(req.write(options.body),req.end()):"object"==typeof options.body&&options.body.pipe?options.body.pipe(req):"object"==typeof options.body?(req.write(options.body.toString()),req.end()):req.end()})}module.exports=Fetch,module.exports.default=module.exports,Fetch.prototype.isRedirect=function(code){return 301===code||302===code||303===code||307===code||308===code},Fetch.Promise=global.Promise,Fetch.Response=Response,Fetch.Headers=Headers,Fetch.Request=Request},function(module,exports,__webpack_require__){"use strict";var isStream=module.exports=function(stream){return null!==stream&&"object"==typeof stream&&"function"==typeof stream.pipe};isStream.writable=function(stream){return isStream(stream)&&!1!==stream.writable&&"function"==typeof stream._write&&"object"==typeof stream._writableState},isStream.readable=function(stream){return isStream(stream)&&!1!==stream.readable&&"function"==typeof stream._read&&"object"==typeof stream._readableState},isStream.duplex=function(stream){return isStream.writable(stream)&&isStream.readable(stream)},isStream.transform=function(stream){return isStream.duplex(stream)&&"function"==typeof stream._transform&&"object"==typeof stream._transformState}},function(module,exports,__webpack_require__){var http=__webpack_require__(65),Headers=__webpack_require__(871),Body=__webpack_require__(870);function Response(body,opts){opts=opts||{},this.url=opts.url,this.status=opts.status||200,this.statusText=opts.statusText||http.STATUS_CODES[this.status],this.headers=new Headers(opts.headers),this.ok=this.status>=200&&this.status<300,Body.call(this,body,opts)}module.exports=Response,Response.prototype=Object.create(Body.prototype),Response.prototype.clone=function(){return new Response(this._clone(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok})}},function(module,exports,__webpack_require__){var parse_url=__webpack_require__(20).parse,Headers=__webpack_require__(871),Body=__webpack_require__(870);function Request(input,init){var url,url_parsed;input instanceof Request?(url=input.url,url_parsed=parse_url(url)):(url_parsed=parse_url(url=input),input={}),init=init||{},this.method=init.method||input.method||"GET",this.redirect=init.redirect||input.redirect||"follow",this.headers=new Headers(init.headers||input.headers||{}),this.url=url,this.follow=void 0!==init.follow?init.follow:void 0!==input.follow?input.follow:20,this.compress=void 0!==init.compress?init.compress:void 0===input.compress||input.compress,this.counter=init.counter||input.counter||0,this.agent=init.agent||input.agent,Body.call(this,init.body||this._clone(input),{timeout:init.timeout||input.timeout||0,size:init.size||input.size||0}),this.protocol=url_parsed.protocol,this.hostname=url_parsed.hostname,this.port=url_parsed.port,this.path=url_parsed.path,this.auth=url_parsed.auth}module.exports=Request,Request.prototype=Object.create(Body.prototype),Request.prototype.clone=function(){return new Request(this)}},function(module,exports){!function(){"use strict";module.exports=function(str){return(str instanceof Buffer?str:Buffer.from(str.toString(),"binary")).toString("base64")}}()},function(module,exports,__webpack_require__){var $export=__webpack_require__(1288);$export($export.S+$export.F,"Object",{assign:__webpack_require__(1300)})},function(module,exports,__webpack_require__){var global=__webpack_require__(589),core=__webpack_require__(872),hide=__webpack_require__(1115),redefine=__webpack_require__(1295),ctx=__webpack_require__(1298),$export=function(type,name,source){var key,own,out,exp,IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,target=IS_GLOBAL?global:IS_STATIC?global[name]||(global[name]={}):(global[name]||{}).prototype,exports=IS_GLOBAL?core:core[name]||(core[name]={}),expProto=exports.prototype||(exports.prototype={});for(key in IS_GLOBAL&&(source=name),source)out=((own=!IS_FORCED&&target&&void 0!==target[key])?target:source)[key],exp=IS_BIND&&own?ctx(out,global):IS_PROTO&&"function"==typeof out?ctx(Function.call,out):out,target&&redefine(target,key,out,type&$export.U),exports[key]!=out&&hide(exports,key,exp),IS_PROTO&&expProto[key]!=out&&(expProto[key]=out)};global.core=core,$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,module.exports=$export},function(module,exports,__webpack_require__){var anObject=__webpack_require__(1290),IE8_DOM_DEFINE=__webpack_require__(1291),toPrimitive=__webpack_require__(1293),dP=Object.defineProperty;exports.f=__webpack_require__(590)?Object.defineProperty:function(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");return"value"in Attributes&&(O[P]=Attributes.value),O}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(873);module.exports=function(it){if(!isObject(it))throw TypeError(it+" is not an object!");return it}},function(module,exports,__webpack_require__){module.exports=!__webpack_require__(590)&&!__webpack_require__(874)(function(){return 7!=Object.defineProperty(__webpack_require__(1292)("div"),"a",{get:function(){return 7}}).a})},function(module,exports,__webpack_require__){var isObject=__webpack_require__(873),document=__webpack_require__(589).document,is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{}}},function(module,exports,__webpack_require__){var isObject=__webpack_require__(873);module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;if("function"==typeof(fn=it.valueOf)&&!isObject(val=fn.call(it)))return val;if(!S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")}},function(module,exports){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},function(module,exports,__webpack_require__){var global=__webpack_require__(589),hide=__webpack_require__(1115),has=__webpack_require__(1116),SRC=__webpack_require__(1117)("src"),$toString=__webpack_require__(1296),TPL=(""+$toString).split("toString");__webpack_require__(872).inspectSource=function(it){return $toString.call(it)},(module.exports=function(O,key,val,safe){var isFunction="function"==typeof val;isFunction&&(has(val,"name")||hide(val,"name",key)),O[key]!==val&&(isFunction&&(has(val,SRC)||hide(val,SRC,O[key]?""+O[key]:TPL.join(String(key)))),O===global?O[key]=val:safe?O[key]?O[key]=val:hide(O,key,val):(delete O[key],hide(O,key,val)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[SRC]||$toString.call(this)})},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1118)("native-function-to-string",Function.toString)},function(module,exports){module.exports=!1},function(module,exports,__webpack_require__){var aFunction=__webpack_require__(1299);module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},function(module,exports){module.exports=function(it){if("function"!=typeof it)throw TypeError(it+" is not a function!");return it}},function(module,exports,__webpack_require__){"use strict";var DESCRIPTORS=__webpack_require__(590),getKeys=__webpack_require__(1301),gOPS=__webpack_require__(1309),pIE=__webpack_require__(1310),toObject=__webpack_require__(1311),IObject=__webpack_require__(1120),$assign=Object.assign;module.exports=!$assign||__webpack_require__(874)(function(){var A={},B={},S=Symbol(),K="abcdefghijklmnopqrst";return A[S]=7,K.split("").forEach(function(k){B[k]=k}),7!=$assign({},A)[S]||Object.keys($assign({},B)).join("")!=K})?function(target,source){for(var T=toObject(target),aLen=arguments.length,index=1,getSymbols=gOPS.f,isEnum=pIE.f;aLen>index;)for(var key,S=IObject(arguments[index++]),keys=getSymbols?getKeys(S).concat(getSymbols(S)):getKeys(S),length=keys.length,j=0;length>j;)key=keys[j++],DESCRIPTORS&&!isEnum.call(S,key)||(T[key]=S[key]);return T}:$assign},function(module,exports,__webpack_require__){var $keys=__webpack_require__(1302),enumBugKeys=__webpack_require__(1308);module.exports=Object.keys||function(O){return $keys(O,enumBugKeys)}},function(module,exports,__webpack_require__){var has=__webpack_require__(1116),toIObject=__webpack_require__(1119),arrayIndexOf=__webpack_require__(1304)(!1),IE_PROTO=__webpack_require__(1307)("IE_PROTO");module.exports=function(object,names){var key,O=toIObject(object),i=0,result=[];for(key in O)key!=IE_PROTO&&has(O,key)&&result.push(key);for(;names.length>i;)has(O,key=names[i++])&&(~arrayIndexOf(result,key)||result.push(key));return result}},function(module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},function(module,exports,__webpack_require__){var toIObject=__webpack_require__(1119),toLength=__webpack_require__(1305),toAbsoluteIndex=__webpack_require__(1306);module.exports=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIObject($this),length=toLength(O.length),index=toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if((value=O[index++])!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(1122),min=Math.min;module.exports=function(it){return it>0?min(toInteger(it),9007199254740991):0}},function(module,exports,__webpack_require__){var toInteger=__webpack_require__(1122),max=Math.max,min=Math.min;module.exports=function(index,length){return(index=toInteger(index))<0?max(index+length,0):min(index,length)}},function(module,exports,__webpack_require__){var shared=__webpack_require__(1118)("keys"),uid=__webpack_require__(1117);module.exports=function(key){return shared[key]||(shared[key]=uid(key))}},function(module,exports){module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(module,exports){exports.f=Object.getOwnPropertySymbols},function(module,exports){exports.f={}.propertyIsEnumerable},function(module,exports,__webpack_require__){var defined=__webpack_require__(1121);module.exports=function(it){return Object(defined(it))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var argsarray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(141),argsarray__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(argsarray__WEBPACK_IMPORTED_MODULE_0__),immediate__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(185),immediate__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(immediate__WEBPACK_IMPORTED_MODULE_1__),events__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(43),inherits__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(22),inherits__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(inherits__WEBPACK_IMPORTED_MODULE_3__),spark_md5__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(791),spark_md5__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(spark_md5__WEBPACK_IMPORTED_MODULE_4__),uuid__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(276),uuid__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_5__),vuvuzela__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(939),vuvuzela__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(vuvuzela__WEBPACK_IMPORTED_MODULE_6__);function cloneBinaryObject(object){if(object instanceof ArrayBuffer)return function(buff){if("function"==typeof buff.slice)return buff.slice(0);var target=new ArrayBuffer(buff.byteLength),targetArray=new Uint8Array(target),sourceArray=new Uint8Array(buff);return targetArray.set(sourceArray),target}(object);var size=object.size,type=object.type;return"function"==typeof object.slice?object.slice(0,size,type):object.webkitSlice(0,size,type)}var ExportedSet,ExportedMap,funcToString=Function.prototype.toString,objectCtorString=funcToString.call(Object);function clone(object){var newObject,i,len;if(!object||"object"!=typeof object)return object;if(Array.isArray(object)){for(newObject=[],i=0,len=object.length;i<len;i++)newObject[i]=clone(object[i]);return newObject}if(object instanceof Date)return object.toISOString();if(function(object){return"undefined"!=typeof ArrayBuffer&&object instanceof ArrayBuffer||"undefined"!=typeof Blob&&object instanceof Blob}(object))return cloneBinaryObject(object);if(!function(value){var proto=Object.getPrototypeOf(value);if(null===proto)return!0;var Ctor=proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}(object))return object;for(i in newObject={},object)if(Object.prototype.hasOwnProperty.call(object,i)){var value=clone(object[i]);void 0!==value&&(newObject[i]=value)}return newObject}function once(fun){var called=!1;return argsarray__WEBPACK_IMPORTED_MODULE_0___default()(function(args){if(called)throw new Error("once called more than once");called=!0,fun.apply(this,args)})}function toPromise(func){return argsarray__WEBPACK_IMPORTED_MODULE_0___default()(function(args){args=clone(args);var self=this,usedCB="function"==typeof args[args.length-1]&&args.pop(),promise=new Promise(function(fulfill,reject){var resp;try{var callback=once(function(err,mesg){err?reject(err):fulfill(mesg)});args.push(callback),(resp=func.apply(self,args))&&"function"==typeof resp.then&&fulfill(resp)}catch(e){reject(e)}});return usedCB&&promise.then(function(result){usedCB(null,result)},usedCB),promise})}function adapterFun(name,callback){return toPromise(argsarray__WEBPACK_IMPORTED_MODULE_0___default()(function(args){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var self=this;return function(self,name,args){if(self.constructor.listeners("debug").length){for(var logArgs=["api",self.name,name],i=0;i<args.length-1;i++)logArgs.push(args[i]);self.constructor.emit("debug",logArgs);var origCallback=args[args.length-1];args[args.length-1]=function(err,res){var responseArgs=["api",self.name,name];responseArgs=responseArgs.concat(err?["error",err]:["success",res]),self.constructor.emit("debug",responseArgs),origCallback(err,res)}}}(self,name,args),this.taskqueue.isReady?callback.apply(this,args):new Promise(function(fulfill,reject){self.taskqueue.addTask(function(failed){failed?reject(failed):fulfill(self[name].apply(self,args))})})}))}function mangle(key){return"$"+key}function unmangle(key){return key.substring(1)}function Map$1(){this._store={}}function Set$1(array){if(this._store=new Map$1,array&&Array.isArray(array))for(var i=0,len=array.length;i<len;i++)this.add(array[i])}function pick(obj,arr){for(var res={},i=0,len=arr.length;i<len;i++){var prop=arr[i];prop in obj&&(res[prop]=obj[prop])}return res}Map$1.prototype.get=function(key){var mangled=mangle(key);return this._store[mangled]},Map$1.prototype.set=function(key,value){var mangled=mangle(key);return this._store[mangled]=value,!0},Map$1.prototype.has=function(key){return mangle(key)in this._store},Map$1.prototype.delete=function(key){var mangled=mangle(key),res=mangled in this._store;return delete this._store[mangled],res},Map$1.prototype.forEach=function(cb){for(var keys=Object.keys(this._store),i=0,len=keys.length;i<len;i++){var key=keys[i];cb(this._store[key],key=unmangle(key))}},Object.defineProperty(Map$1.prototype,"size",{get:function(){return Object.keys(this._store).length}}),Set$1.prototype.add=function(key){return this._store.set(key,!0)},Set$1.prototype.has=function(key){return this._store.has(key)},Set$1.prototype.forEach=function(cb){this._store.forEach(function(value,key){cb(key)})},Object.defineProperty(Set$1.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var prop=Object.getOwnPropertyDescriptor(Map,Symbol.species);return prop&&"get"in prop&&Map[Symbol.species]===Map}()?(ExportedSet=Set$1,ExportedMap=Map$1):(ExportedSet=Set,ExportedMap=Map);var hasLocal,MAX_NUM_CONCURRENT_REQUESTS=6;function identityFunction(x){return x}function formatResultForOpenRevsGet(result){return[{ok:result}]}function bulkGet(db,opts,callback){var requests=opts.docs,requestsById=new ExportedMap;requests.forEach(function(request){requestsById.has(request.id)?requestsById.get(request.id).push(request):requestsById.set(request.id,[request])});var numDocs=requestsById.size,numDone=0,perDocResults=new Array(numDocs);function checkDone(){var results;++numDone===numDocs&&(results=[],perDocResults.forEach(function(res){res.docs.forEach(function(info){results.push({id:res.id,docs:[info]})})}),callback(null,{results:results}))}var allRequests=[];requestsById.forEach(function(value,key){allRequests.push(key)});var i=0;function nextBatch(){if(!(i>=allRequests.length)){var upTo=Math.min(i+MAX_NUM_CONCURRENT_REQUESTS,allRequests.length),batch=allRequests.slice(i,upTo);!function(batch,offset){batch.forEach(function(docId,j){var docIdx=offset+j,docRequests=requestsById.get(docId),docOpts=pick(docRequests[0],["atts_since","attachments"]);docOpts.open_revs=docRequests.map(function(request){return request.rev}),docOpts.open_revs=docOpts.open_revs.filter(identityFunction);var formatResult=identityFunction;0===docOpts.open_revs.length&&(delete docOpts.open_revs,formatResult=formatResultForOpenRevsGet),["revs","attachments","binary","ajax","latest"].forEach(function(param){param in opts&&(docOpts[param]=opts[param])}),db.get(docId,docOpts,function(err,res){var result,id,docs;result=err?[{error:err}]:formatResult(res),id=docId,docs=result,perDocResults[docIdx]={id:id,docs:docs},checkDone(),nextBatch()})})}(batch,i),i+=batch.length}}nextBatch()}try{localStorage.setItem("_pouch_check_localstorage",1),hasLocal=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){hasLocal=!1}function hasLocalStorage(){return hasLocal}function Changes(){events__WEBPACK_IMPORTED_MODULE_2__.EventEmitter.call(this),this._listeners={},function(self){hasLocalStorage()&&addEventListener("storage",function(e){self.emit(e.key)})}(this)}function guardedConsole(method){if("undefined"!=typeof console&&"function"==typeof console[method]){var args=Array.prototype.slice.call(arguments,1);console[method].apply(console,args)}}function defaultBackOff(min){var max=0;return min||(max=2e3),function(min,max){return min=parseInt(min,10)||0,(max=parseInt(max,10))!=max||max<=min?max=(min||1)<<1:max+=1,max>6e5&&(min=3e5,max=6e5),~~((max-min)*Math.random()+min)}(min,max)}function explainError(status,str){guardedConsole("info","The above "+status+" is totally normal. "+str)}inherits__WEBPACK_IMPORTED_MODULE_3___default()(Changes,events__WEBPACK_IMPORTED_MODULE_2__.EventEmitter),Changes.prototype.addListener=function(dbName,id,db,opts){if(!this._listeners[id]){var self=this,inprogress=!1;this._listeners[id]=eventFunction,this.on(dbName,eventFunction)}function eventFunction(){if(self._listeners[id])if(inprogress)inprogress="waiting";else{inprogress=!0;var changesOpts=pick(opts,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);db.changes(changesOpts).on("change",function(c){c.seq>opts.since&&!opts.cancelled&&(opts.since=c.seq,opts.onChange(c))}).on("complete",function(){"waiting"===inprogress&&immediate__WEBPACK_IMPORTED_MODULE_1___default()(eventFunction),inprogress=!1}).on("error",function(){inprogress=!1})}}},Changes.prototype.removeListener=function(dbName,id){id in this._listeners&&(events__WEBPACK_IMPORTED_MODULE_2__.EventEmitter.prototype.removeListener.call(this,dbName,this._listeners[id]),delete this._listeners[id])},Changes.prototype.notifyLocalWindows=function(dbName){hasLocalStorage()&&(localStorage[dbName]="a"===localStorage[dbName]?"b":"a")},Changes.prototype.notify=function(dbName){this.emit(dbName),this.notifyLocalWindows(dbName)};var $inject_Object_assign="function"==typeof Object.assign?Object.assign:function(target){for(var to=Object(target),index=1;index<arguments.length;index++){var nextSource=arguments[index];if(null!=nextSource)for(var nextKey in nextSource)Object.prototype.hasOwnProperty.call(nextSource,nextKey)&&(to[nextKey]=nextSource[nextKey])}return to};function PouchError(status,error,reason){Error.call(this,reason),this.status=status,this.name=error,this.message=reason,this.error=!0}inherits__WEBPACK_IMPORTED_MODULE_3___default()(PouchError,Error),PouchError.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};new PouchError(401,"unauthorized","Name or password is incorrect.");var MISSING_BULK_DOCS=new PouchError(400,"bad_request","Missing JSON list of 'docs'"),MISSING_DOC=new PouchError(404,"not_found","missing"),REV_CONFLICT=new PouchError(409,"conflict","Document update conflict"),INVALID_ID=new PouchError(400,"bad_request","_id field must contain a string"),MISSING_ID=new PouchError(412,"missing_id","_id is required for puts"),RESERVED_ID=new PouchError(400,"bad_request","Only reserved document ids may start with underscore."),UNKNOWN_ERROR=(new PouchError(412,"precondition_failed","Database not open"),new PouchError(500,"unknown_error","Database encountered an unknown error")),BAD_ARG=new PouchError(500,"badarg","Some query argument is invalid"),QUERY_PARSE_ERROR=(new PouchError(400,"invalid_request","Request was invalid"),new PouchError(400,"query_parse_error","Some query parameter is invalid")),DOC_VALIDATION=new PouchError(500,"doc_validation","Bad special document member"),BAD_REQUEST=new PouchError(400,"bad_request","Something wrong with the request"),NOT_AN_OBJECT=new PouchError(400,"bad_request","Document must be a JSON object"),IDB_ERROR=(new PouchError(404,"not_found","Database not found"),new PouchError(500,"indexed_db_went_bad","unknown")),INVALID_REV=(new PouchError(500,"web_sql_went_bad","unknown"),new PouchError(500,"levelDB_went_went_bad","unknown"),new PouchError(403,"forbidden","Forbidden by design doc validate_doc_update function"),new PouchError(400,"bad_request","Invalid rev format")),MISSING_STUB=(new PouchError(412,"file_exists","The database could not be created, the file already exists."),new PouchError(412,"missing_stub","A pre-existing attachment stub wasn't found"));new PouchError(413,"invalid_url","Provided URL is invalid");function createError(error,reason){function CustomPouchError(reason){for(var p in error)"function"!=typeof error[p]&&(this[p]=error[p]);void 0!==reason&&(this.reason=reason)}return CustomPouchError.prototype=PouchError.prototype,new CustomPouchError(reason)}function generateErrorFromResponse(err){if("object"!=typeof err){var data=err;(err=UNKNOWN_ERROR).data=data}return"error"in err&&"conflict"===err.error&&(err.name="conflict",err.status=409),"name"in err||(err.name=err.error||"unknown"),"status"in err||(err.status=500),"message"in err||(err.message=err.message||err.reason),err}function filterChange(opts){var req={},hasFilter=opts.filter&&"function"==typeof opts.filter;return req.query=opts.query_params,function(change){change.doc||(change.doc={});var filterReturn=hasFilter&&function(filter,doc,req){try{return!filter(doc,req)}catch(err){var msg="Filter function threw: "+err.toString();return createError(BAD_REQUEST,msg)}}(opts.filter,change.doc,req);if("object"==typeof filterReturn)return filterReturn;if(filterReturn)return!1;if(opts.include_docs){if(!opts.attachments)for(var att in change.doc._attachments)change.doc._attachments.hasOwnProperty(att)&&(change.doc._attachments[att].stub=!0)}else delete change.doc;return!0}}function flatten(arrs){for(var res=[],i=0,len=arrs.length;i<len;i++)res=res.concat(arrs[i]);return res}function invalidIdError(id){var err;if(id?"string"!=typeof id?err=createError(INVALID_ID):/^_/.test(id)&&!/^_(design|local)/.test(id)&&(err=createError(RESERVED_ID)):err=createError(MISSING_ID),err)throw err}function isRemote(db){return"boolean"==typeof db._remote?db._remote:"function"==typeof db.type&&(guardedConsole("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===db.type())}function parseDesignDocFunctionName(s){if(!s)return null;var parts=s.split("/");return 2===parts.length?parts:1===parts.length?[s,s]:null}function normalizeDesignDocFunctionName(s){var normalized=parseDesignDocFunctionName(s);return normalized?normalized.join("/"):null}var keys=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],qName="queryKey",qParser=/(?:^|&)([^&=]*)=?([^&]*)/g,parser=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function parseUri(str){for(var m=parser.exec(str),uri={},i=14;i--;){var key=keys[i],value=m[i]||"",encoded=-1!==["user","password"].indexOf(key);uri[key]=encoded?decodeURIComponent(value):value}return uri[qName]={},uri[keys[12]].replace(qParser,function($0,$1,$2){$1&&(uri[qName][$1]=$2)}),uri}function scopeEval(source,scope){var keys=[],values=[];for(var key in scope)scope.hasOwnProperty(key)&&(keys.push(key),values.push(scope[key]));return keys.push(source),Function.apply(null,keys).apply(null,values)}function upsert(db,docId,diffFun){return new Promise(function(fulfill,reject){db.get(docId,function(err,doc){if(err){if(404!==err.status)return reject(err);doc={}}var docRev=doc._rev,newDoc=diffFun(doc);if(!newDoc)return fulfill({updated:!1,rev:docRev});newDoc._id=docId,newDoc._rev=docRev,fulfill(function(db,doc,diffFun){return db.put(doc).then(function(res){return{updated:!0,rev:res.rev}},function(err){if(409!==err.status)throw err;return upsert(db,doc._id,diffFun)})}(db,newDoc,diffFun))})})}var thisAtob=function(str){return atob(str)},thisBtoa=function(str){return btoa(str)};function createBlob(parts,properties){parts=parts||[],properties=properties||{};try{return new Blob(parts,properties)}catch(e){if("TypeError"!==e.name)throw e;for(var builder=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<parts.length;i+=1)builder.append(parts[i]);return builder.getBlob(properties.type)}}function binaryStringToArrayBuffer(bin){for(var length=bin.length,buf=new ArrayBuffer(length),arr=new Uint8Array(buf),i=0;i<length;i++)arr[i]=bin.charCodeAt(i);return buf}function binStringToBluffer(binString,type){return createBlob([binaryStringToArrayBuffer(binString)],{type:type})}function b64ToBluffer(b64,type){return binStringToBluffer(thisAtob(b64),type)}function readAsBinaryString(blob,callback){var reader=new FileReader,hasBinaryString="function"==typeof reader.readAsBinaryString;reader.onloadend=function(e){var result=e.target.result||"";if(hasBinaryString)return callback(result);callback(function(buffer){for(var binary="",bytes=new Uint8Array(buffer),length=bytes.byteLength,i=0;i<length;i++)binary+=String.fromCharCode(bytes[i]);return binary}(result))},hasBinaryString?reader.readAsBinaryString(blob):reader.readAsArrayBuffer(blob)}function blobToBinaryString(blobOrBuffer,callback){readAsBinaryString(blobOrBuffer,function(bin){callback(bin)})}function blobToBase64(blobOrBuffer,callback){blobToBinaryString(blobOrBuffer,function(base64){callback(thisBtoa(base64))})}var setImmediateShim=global.setImmediate||global.setTimeout,MD5_CHUNK_SIZE=32768;function appendBlob(buffer,blob,start,end,callback){(start>0||end<blob.size)&&(blob=function(blob,start,end){return blob.webkitSlice?blob.webkitSlice(start,end):blob.slice(start,end)}(blob,start,end)),function(blob,callback){var reader=new FileReader;reader.onloadend=function(e){var result=e.target.result||new ArrayBuffer(0);callback(result)},reader.readAsArrayBuffer(blob)}(blob,function(arrayBuffer){buffer.append(arrayBuffer),callback()})}function appendString(buffer,string,start,end,callback){(start>0||end<string.length)&&(string=string.substring(start,end)),buffer.appendBinary(string),callback()}function binaryMd5(data,callback){var inputIsString="string"==typeof data,len=inputIsString?data.length:data.size,chunkSize=Math.min(MD5_CHUNK_SIZE,len),chunks=Math.ceil(len/chunkSize),currentChunk=0,buffer=inputIsString?new spark_md5__WEBPACK_IMPORTED_MODULE_4___default.a:new spark_md5__WEBPACK_IMPORTED_MODULE_4___default.a.ArrayBuffer,append=inputIsString?appendString:appendBlob;function next(){setImmediateShim(loadNextChunk)}function done(){var base64=function(raw){return thisBtoa(raw)}(buffer.end(!0));callback(base64),buffer.destroy()}function loadNextChunk(){var start=currentChunk*chunkSize,end=start+chunkSize;append(buffer,data,start,end,++currentChunk<chunks?next:done)}loadNextChunk()}function stringMd5(string){return spark_md5__WEBPACK_IMPORTED_MODULE_4___default.a.hash(string)}function rev$$1(doc,deterministic_revs){var clonedDoc=clone(doc);return deterministic_revs?(delete clonedDoc._rev_tree,stringMd5(JSON.stringify(clonedDoc))):uuid__WEBPACK_IMPORTED_MODULE_5___default.a.v4().replace(/-/g,"").toLowerCase()}var uuid=uuid__WEBPACK_IMPORTED_MODULE_5___default.a.v4;function winningRev(metadata){for(var winningId,winningPos,winningDeleted,node,toVisit=metadata.rev_tree.slice();node=toVisit.pop();){var tree=node.ids,branches=tree[2],pos=node.pos;if(branches.length)for(var i=0,len=branches.length;i<len;i++)toVisit.push({pos:pos+1,ids:branches[i]});else{var deleted=!!tree[1].deleted,id=tree[0];winningId&&!(winningDeleted!==deleted?winningDeleted:winningPos!==pos?winningPos<pos:winningId<id)||(winningId=id,winningPos=pos,winningDeleted=deleted)}}return winningPos+"-"+winningId}function traverseRevTree(revs,callback){for(var node,toVisit=revs.slice();node=toVisit.pop();)for(var pos=node.pos,tree=node.ids,branches=tree[2],newCtx=callback(0===branches.length,pos,tree[0],node.ctx,tree[1]),i=0,len=branches.length;i<len;i++)toVisit.push({pos:pos+1,ids:branches[i],ctx:newCtx})}function sortByPos(a,b){return a.pos-b.pos}function collectLeaves(revs){var leaves=[];traverseRevTree(revs,function(isLeaf,pos,id,acc,opts){isLeaf&&leaves.push({rev:pos+"-"+id,pos:pos,opts:opts})}),leaves.sort(sortByPos).reverse();for(var i=0,len=leaves.length;i<len;i++)delete leaves[i].pos;return leaves}function collectConflicts(metadata){for(var win=winningRev(metadata),leaves=collectLeaves(metadata.rev_tree),conflicts=[],i=0,len=leaves.length;i<len;i++){var leaf=leaves[i];leaf.rev===win||leaf.opts.deleted||conflicts.push(leaf.rev)}return conflicts}function rootToLeaf(revs){for(var node,paths=[],toVisit=revs.slice();node=toVisit.pop();){var pos=node.pos,tree=node.ids,id=tree[0],opts=tree[1],branches=tree[2],isLeaf=0===branches.length,history=node.history?node.history.slice():[];history.push({id:id,opts:opts}),isLeaf&&paths.push({pos:pos+1-history.length,ids:history});for(var i=0,len=branches.length;i<len;i++)toVisit.push({pos:pos+1,ids:branches[i],history:history})}return paths.reverse()}function sortByPos$1(a,b){return a.pos-b.pos}function insertSorted(arr,item,comparator){var idx=function(arr,item,comparator){for(var mid,low=0,high=arr.length;low<high;)comparator(arr[mid=low+high>>>1],item)<0?low=mid+1:high=mid;return low}(arr,item,comparator);arr.splice(idx,0,item)}function pathToTree(path,numStemmed){for(var root,leaf,i=numStemmed,len=path.length;i<len;i++){var node=path[i],currentLeaf=[node.id,node.opts,[]];leaf?(leaf[2].push(currentLeaf),leaf=currentLeaf):root=leaf=currentLeaf}return root}function compareTree(a,b){return a[0]<b[0]?-1:1}function mergeTree(in_tree1,in_tree2){for(var queue=[{tree1:in_tree1,tree2:in_tree2}],conflicts=!1;queue.length>0;){var item=queue.pop(),tree1=item.tree1,tree2=item.tree2;(tree1[1].status||tree2[1].status)&&(tree1[1].status="available"===tree1[1].status||"available"===tree2[1].status?"available":"missing");for(var i=0;i<tree2[2].length;i++)if(tree1[2][0]){for(var merged=!1,j=0;j<tree1[2].length;j++)tree1[2][j][0]===tree2[2][i][0]&&(queue.push({tree1:tree1[2][j],tree2:tree2[2][i]}),merged=!0);merged||(conflicts="new_branch",insertSorted(tree1[2],tree2[2][i],compareTree))}else conflicts="new_leaf",tree1[2][0]=tree2[2][i]}return{conflicts:conflicts,tree:in_tree1}}function doMerge(tree,path,dontExpand){var res,restree=[],conflicts=!1,merged=!1;if(!tree.length)return{tree:[path],conflicts:"new_leaf"};for(var i=0,len=tree.length;i<len;i++){var branch=tree[i];if(branch.pos===path.pos&&branch.ids[0]===path.ids[0])res=mergeTree(branch.ids,path.ids),restree.push({pos:branch.pos,ids:res.tree}),conflicts=conflicts||res.conflicts,merged=!0;else if(!0!==dontExpand){var t1=branch.pos<path.pos?branch:path,t2=branch.pos<path.pos?path:branch,diff=t2.pos-t1.pos,candidateParents=[],trees=[];for(trees.push({ids:t1.ids,diff:diff,parent:null,parentIdx:null});trees.length>0;){var item=trees.pop();if(0!==item.diff)for(var elements=item.ids[2],j=0,elementsLen=elements.length;j<elementsLen;j++)trees.push({ids:elements[j],diff:item.diff-1,parent:item.ids,parentIdx:j});else item.ids[0]===t2.ids[0]&&candidateParents.push(item)}var el=candidateParents[0];el?(res=mergeTree(el.ids,t2.ids),el.parent[2][el.parentIdx]=res.tree,restree.push({pos:t1.pos,ids:t1.ids}),conflicts=conflicts||res.conflicts,merged=!0):restree.push(branch)}else restree.push(branch)}return merged||restree.push(path),restree.sort(sortByPos$1),{tree:restree,conflicts:conflicts||"internal_node"}}function merge(tree,path,depth){var newTree=doMerge(tree,path),stemmed=function(tree,depth){for(var stemmedRevs,result,paths=rootToLeaf(tree),i=0,len=paths.length;i<len;i++){var node,path=paths[i],stemmed=path.ids;if(stemmed.length>depth){stemmedRevs||(stemmedRevs={});var numStemmed=stemmed.length-depth;node={pos:path.pos+numStemmed,ids:pathToTree(stemmed,numStemmed)};for(var s=0;s<numStemmed;s++){var rev=path.pos+s+"-"+stemmed[s].id;stemmedRevs[rev]=!0}}else node={pos:path.pos,ids:pathToTree(stemmed,0)};result=result?doMerge(result,node,!0).tree:[node]}return stemmedRevs&&traverseRevTree(result,function(isLeaf,pos,revHash){delete stemmedRevs[pos+"-"+revHash]}),{tree:result,revs:stemmedRevs?Object.keys(stemmedRevs):[]}}(newTree.tree,depth);return{tree:stemmed.tree,stemmedRevs:stemmed.revs,conflicts:newTree.conflicts}}function getTrees(node){return node.ids}function isDeleted(metadata,rev){rev||(rev=winningRev(metadata));for(var tree,id=rev.substring(rev.indexOf("-")+1),toVisit=metadata.rev_tree.map(getTrees);tree=toVisit.pop();){if(tree[0]===id)return!!tree[1].deleted;toVisit=toVisit.concat(tree[2])}}function isLocalId(id){return/^_local/.test(id)}function Changes$1(db,opts,callback){events__WEBPACK_IMPORTED_MODULE_2__.EventEmitter.call(this);var self=this;this.db=db;var complete=(opts=opts?clone(opts):{}).complete=once(function(err,resp){var ee,type;err?(type="error",("listenerCount"in(ee=self)?ee.listenerCount(type):events__WEBPACK_IMPORTED_MODULE_2__.EventEmitter.listenerCount(ee,type))>0&&self.emit("error",err)):self.emit("complete",resp),self.removeAllListeners(),db.removeListener("destroyed",onDestroy)});function onDestroy(){self.cancel()}callback&&(self.on("complete",function(resp){callback(null,resp)}),self.on("error",callback)),db.once("destroyed",onDestroy),opts.onChange=function(change,pending,lastSeq){self.isCancelled||function(self,change,pending,lastSeq){try{self.emit("change",change,pending,lastSeq)}catch(e){guardedConsole("error",'Error in .on("change", function):',e)}}(self,change,pending,lastSeq)};var promise=new Promise(function(fulfill,reject){opts.complete=function(err,res){err?reject(err):fulfill(res)}});self.once("cancel",function(){db.removeListener("destroyed",onDestroy),opts.complete(null,{status:"cancelled"})}),this.then=promise.then.bind(promise),this.catch=promise.catch.bind(promise),this.then(function(result){complete(null,result)},complete),db.taskqueue.isReady?self.validateChanges(opts):db.taskqueue.addTask(function(failed){failed?opts.complete(failed):self.isCancelled?self.emit("cancel"):self.validateChanges(opts)})}function processChange(doc,metadata,opts){var changeList=[{rev:doc._rev}];"all_docs"===opts.style&&(changeList=collectLeaves(metadata.rev_tree).map(function(x){return{rev:x.rev}}));var change={id:metadata.id,changes:changeList,doc:doc};return isDeleted(metadata,doc._rev)&&(change.deleted=!0),opts.conflicts&&(change.doc._conflicts=collectConflicts(metadata),change.doc._conflicts.length||delete change.doc._conflicts),change}function compare(left,right){return left<right?-1:left>right?1:0}function yankError(callback,docId){return function(err,results){err||results[0]&&results[0].error?((err=err||results[0]).docId=docId,callback(err)):callback(null,results.length?results[0]:results)}}function compareByIdThenRev(a,b){var idCompare=compare(a._id,b._id);return 0!==idCompare?idCompare:compare(a._revisions?a._revisions.start:0,b._revisions?b._revisions.start:0)}function AbstractPouchDB(){for(var p in events__WEBPACK_IMPORTED_MODULE_2__.EventEmitter.call(this),AbstractPouchDB.prototype)"function"==typeof this[p]&&(this[p]=this[p].bind(this))}function TaskQueue(){this.isReady=!1,this.failed=!1,this.queue=[]}function PouchDB(name,opts){if(!(this instanceof PouchDB))return new PouchDB(name,opts);var self=this;if(opts=opts||{},name&&"object"==typeof name&&(name=(opts=name).name,delete opts.name),void 0===opts.deterministic_revs&&(opts.deterministic_revs=!0),this.__opts=opts=clone(opts),self.auto_compaction=opts.auto_compaction,self.prefix=PouchDB.prefix,"string"!=typeof name)throw new Error("Missing/invalid DB name");var backend=function(name,opts){var match=name.match(/([a-z-]*):\/\/(.*)/);if(match)return{name:/https?/.test(match[1])?match[1]+"://"+match[2]:match[2],adapter:match[1]};var adapters=PouchDB.adapters,preferredAdapters=PouchDB.preferredAdapters,prefix=PouchDB.prefix,adapterName=opts.adapter;if(!adapterName)for(var i=0;i<preferredAdapters.length&&"idb"===(adapterName=preferredAdapters[i])&&"websql"in adapters&&hasLocalStorage()&&localStorage["_pouch__websqldb_"+prefix+name];++i)guardedConsole("log",'PouchDB is downgrading "'+name+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var adapter=adapters[adapterName];return{name:adapter&&"use_prefix"in adapter&&!adapter.use_prefix?name:prefix+name,adapter:adapterName}}((opts.prefix||"")+name,opts);if(opts.name=backend.name,opts.adapter=opts.adapter||backend.adapter,self.name=name,self._adapter=opts.adapter,PouchDB.emit("debug",["adapter","Picked adapter: ",opts.adapter]),!PouchDB.adapters[opts.adapter]||!PouchDB.adapters[opts.adapter].valid())throw new Error("Invalid Adapter: "+opts.adapter);AbstractPouchDB.call(self),self.taskqueue=new TaskQueue,self.adapter=opts.adapter,PouchDB.adapters[opts.adapter].call(self,opts,function(err){if(err)return self.taskqueue.fail(err);!function(self){function onDestroyed(from_constructor){self.removeListener("closed",onClosed),from_constructor||self.constructor.emit("destroyed",self.name)}function onClosed(){self.removeListener("destroyed",onDestroyed),self.constructor.emit("unref",self)}self.once("destroyed",onDestroyed),self.once("closed",onClosed),self.constructor.emit("ref",self)}(self),self.emit("created",self),PouchDB.emit("created",self.name),self.taskqueue.ready(self)})}inherits__WEBPACK_IMPORTED_MODULE_3___default()(Changes$1,events__WEBPACK_IMPORTED_MODULE_2__.EventEmitter),Changes$1.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},Changes$1.prototype.validateChanges=function(opts){var callback=opts.complete,self=this;PouchDB._changesFilterPlugin?PouchDB._changesFilterPlugin.validate(opts,function(err){if(err)return callback(err);self.doChanges(opts)}):self.doChanges(opts)},Changes$1.prototype.doChanges=function(opts){var self=this,callback=opts.complete;if("live"in(opts=clone(opts))&&!("continuous"in opts)&&(opts.continuous=opts.live),opts.processChange=processChange,"latest"===opts.since&&(opts.since="now"),opts.since||(opts.since=0),"now"!==opts.since){if(PouchDB._changesFilterPlugin){if(PouchDB._changesFilterPlugin.normalize(opts),PouchDB._changesFilterPlugin.shouldFilter(this,opts))return PouchDB._changesFilterPlugin.filter(this,opts)}else["doc_ids","filter","selector","view"].forEach(function(key){key in opts&&guardedConsole("warn",'The "'+key+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in opts||(opts.descending=!1),opts.limit=0===opts.limit?1:opts.limit,opts.complete=callback;var newPromise=this.db._changes(opts);if(newPromise&&"function"==typeof newPromise.cancel){var cancel=self.cancel;self.cancel=argsarray__WEBPACK_IMPORTED_MODULE_0___default()(function(args){newPromise.cancel(),cancel.apply(this,args)})}}else this.db.info().then(function(info){self.isCancelled?callback(null,{status:"cancelled"}):(opts.since=info.update_seq,self.doChanges(opts))},callback)},inherits__WEBPACK_IMPORTED_MODULE_3___default()(AbstractPouchDB,events__WEBPACK_IMPORTED_MODULE_2__.EventEmitter),AbstractPouchDB.prototype.post=adapterFun("post",function(doc,opts,callback){if("function"==typeof opts&&(callback=opts,opts={}),"object"!=typeof doc||Array.isArray(doc))return callback(createError(NOT_AN_OBJECT));this.bulkDocs({docs:[doc]},opts,yankError(callback,doc._id))}),AbstractPouchDB.prototype.put=adapterFun("put",function(doc,opts,cb){if("function"==typeof opts&&(cb=opts,opts={}),"object"!=typeof doc||Array.isArray(doc))return cb(createError(NOT_AN_OBJECT));if(invalidIdError(doc._id),isLocalId(doc._id)&&"function"==typeof this._putLocal)return doc._deleted?this._removeLocal(doc,cb):this._putLocal(doc,cb);var parts,oldRevId,newRevNum,newRevId,self=this;function putDoc(next){"function"==typeof self._put&&!1!==opts.new_edits?self._put(doc,opts,next):self.bulkDocs({docs:[doc]},opts,yankError(next,doc._id))}opts.force&&doc._rev?(parts=doc._rev.split("-"),oldRevId=parts[1],newRevNum=parseInt(parts[0],10)+1,newRevId=rev$$1(),doc._revisions={start:newRevNum,ids:[newRevId,oldRevId]},doc._rev=newRevNum+"-"+newRevId,opts.new_edits=!1,putDoc(function(err){var result=err?null:{ok:!0,id:doc._id,rev:doc._rev};cb(err,result)})):putDoc(cb)}),AbstractPouchDB.prototype.putAttachment=adapterFun("putAttachment",function(docId,attachmentId,rev,blob,type){var api=this;function createAttachment(doc){var prevrevpos="_rev"in doc?parseInt(doc._rev,10):0;return doc._attachments=doc._attachments||{},doc._attachments[attachmentId]={content_type:type,data:blob,revpos:++prevrevpos},api.put(doc)}return"function"==typeof type&&(type=blob,blob=rev,rev=null),void 0===type&&(type=blob,blob=rev,rev=null),type||guardedConsole("warn","Attachment",attachmentId,"on document",docId,"is missing content_type"),api.get(docId).then(function(doc){if(doc._rev!==rev)throw createError(REV_CONFLICT);return createAttachment(doc)},function(err){if(err.reason===MISSING_DOC.message)return createAttachment({_id:docId});throw err})}),AbstractPouchDB.prototype.removeAttachment=adapterFun("removeAttachment",function(docId,attachmentId,rev,callback){var self=this;self.get(docId,function(err,obj){if(err)callback(err);else if(obj._rev===rev){if(!obj._attachments)return callback();delete obj._attachments[attachmentId],0===Object.keys(obj._attachments).length&&delete obj._attachments,self.put(obj,callback)}else callback(createError(REV_CONFLICT))})}),AbstractPouchDB.prototype.remove=adapterFun("remove",function(docOrId,optsOrRev,opts,callback){var doc;"string"==typeof optsOrRev?(doc={_id:docOrId,_rev:optsOrRev},"function"==typeof opts&&(callback=opts,opts={})):(doc=docOrId,"function"==typeof optsOrRev?(callback=optsOrRev,opts={}):(callback=opts,opts=optsOrRev)),(opts=opts||{}).was_delete=!0;var newDoc={_id:doc._id,_rev:doc._rev||opts.rev,_deleted:!0};if(isLocalId(newDoc._id)&&"function"==typeof this._removeLocal)return this._removeLocal(doc,callback);this.bulkDocs({docs:[newDoc]},opts,yankError(callback,newDoc._id))}),AbstractPouchDB.prototype.revsDiff=adapterFun("revsDiff",function(req,opts,callback){"function"==typeof opts&&(callback=opts,opts={});var ids=Object.keys(req);if(!ids.length)return callback(null,{});var count=0,missing=new ExportedMap;function addToMissing(id,revId){missing.has(id)||missing.set(id,{missing:[]}),missing.get(id).missing.push(revId)}ids.map(function(id){this._getRevisionTree(id,function(err,rev_tree){if(err&&404===err.status&&"missing"===err.message)missing.set(id,{missing:req[id]});else{if(err)return callback(err);!function(id,rev_tree){var missingForId=req[id].slice(0);traverseRevTree(rev_tree,function(isLeaf,pos,revHash,ctx,opts){var rev=pos+"-"+revHash,idx=missingForId.indexOf(rev);-1!==idx&&(missingForId.splice(idx,1),"available"!==opts.status&&addToMissing(id,rev))}),missingForId.forEach(function(rev){addToMissing(id,rev)})}(id,rev_tree)}if(++count===ids.length){var missingObj={};return missing.forEach(function(value,key){missingObj[key]=value}),callback(null,missingObj)}})},this)}),AbstractPouchDB.prototype.bulkGet=adapterFun("bulkGet",function(opts,callback){bulkGet(this,opts,callback)}),AbstractPouchDB.prototype.compactDocument=adapterFun("compactDocument",function(docId,maxHeight,callback){var self=this;this._getRevisionTree(docId,function(err,revTree){if(err)return callback(err);var height=function(revs){var height={},edges=[];return traverseRevTree(revs,function(isLeaf,pos,id,prnt){var rev=pos+"-"+id;return isLeaf&&(height[rev]=0),void 0!==prnt&&edges.push({from:prnt,to:rev}),rev}),edges.reverse(),edges.forEach(function(edge){void 0===height[edge.from]?height[edge.from]=1+height[edge.to]:height[edge.from]=Math.min(height[edge.from],1+height[edge.to])}),height}(revTree),candidates=[],revs=[];Object.keys(height).forEach(function(rev){height[rev]>maxHeight&&candidates.push(rev)}),traverseRevTree(revTree,function(isLeaf,pos,revHash,ctx,opts){var rev=pos+"-"+revHash;"available"===opts.status&&-1!==candidates.indexOf(rev)&&revs.push(rev)}),self._doCompaction(docId,revs,callback)})}),AbstractPouchDB.prototype.compact=adapterFun("compact",function(opts,callback){"function"==typeof opts&&(callback=opts,opts={});opts=opts||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:opts,callback:callback}),1===this._compactionQueue.length&&function doNextCompaction(self){var task=self._compactionQueue[0],opts=task.opts,callback=task.callback;self.get("_local/compaction").catch(function(){return!1}).then(function(doc){doc&&doc.last_seq&&(opts.last_seq=doc.last_seq),self._compact(opts,function(err,res){err?callback(err):callback(null,res),immediate__WEBPACK_IMPORTED_MODULE_1___default()(function(){self._compactionQueue.shift(),self._compactionQueue.length&&doNextCompaction(self)})})})}(this)}),AbstractPouchDB.prototype._compact=function(opts,callback){var self=this,changesOpts={return_docs:!1,last_seq:opts.last_seq||0},promises=[];self.changes(changesOpts).on("change",function(row){promises.push(self.compactDocument(row.id,0))}).on("complete",function(resp){var lastSeq=resp.last_seq;Promise.all(promises).then(function(){return upsert(self,"_local/compaction",function(doc){return(!doc.last_seq||doc.last_seq<lastSeq)&&(doc.last_seq=lastSeq,doc)})}).then(function(){callback(null,{ok:!0})}).catch(callback)}).on("error",callback)},AbstractPouchDB.prototype.get=adapterFun("get",function(id,opts,cb){if("function"==typeof opts&&(cb=opts,opts={}),"string"!=typeof id)return cb(createError(INVALID_ID));if(isLocalId(id)&&"function"==typeof this._getLocal)return this._getLocal(id,cb);var leaves=[],self=this;function finishOpenRevs(){var result=[],count=leaves.length;if(!count)return cb(null,result);leaves.forEach(function(leaf){self.get(id,{rev:leaf,revs:opts.revs,latest:opts.latest,attachments:opts.attachments,binary:opts.binary},function(err,doc){if(err)result.push({missing:leaf});else{for(var existing,i=0,l=result.length;i<l;i++)if(result[i].ok&&result[i].ok._rev===doc._rev){existing=!0;break}existing||result.push({ok:doc})}--count||cb(null,result)})})}if(!opts.open_revs)return this._get(id,opts,function(err,result){if(err)return err.docId=id,cb(err);var doc=result.doc,metadata=result.metadata,ctx=result.ctx;if(opts.conflicts){var conflicts=collectConflicts(metadata);conflicts.length&&(doc._conflicts=conflicts)}if(isDeleted(metadata,doc._rev)&&(doc._deleted=!0),opts.revs||opts.revs_info){for(var splittedRev=doc._rev.split("-"),revNo=parseInt(splittedRev[0],10),revHash=splittedRev[1],paths=rootToLeaf(metadata.rev_tree),path=null,i=0;i<paths.length;i++){var currentPath=paths[i],hashIndex=currentPath.ids.map(function(x){return x.id}).indexOf(revHash);(hashIndex===revNo-1||!path&&-1!==hashIndex)&&(path=currentPath)}var indexOfRev=path.ids.map(function(x){return x.id}).indexOf(doc._rev.split("-")[1])+1,howMany=path.ids.length-indexOfRev;if(path.ids.splice(indexOfRev,howMany),path.ids.reverse(),opts.revs&&(doc._revisions={start:path.pos+path.ids.length-1,ids:path.ids.map(function(rev){return rev.id})}),opts.revs_info){var pos=path.pos+path.ids.length;doc._revs_info=path.ids.map(function(rev){return{rev:--pos+"-"+rev.id,status:rev.opts.status}})}}if(opts.attachments&&doc._attachments){var attachments=doc._attachments,count=Object.keys(attachments).length;if(0===count)return cb(null,doc);Object.keys(attachments).forEach(function(key){this._getAttachment(doc._id,key,attachments[key],{rev:doc._rev,binary:opts.binary,ctx:ctx},function(err,data){var att=doc._attachments[key];att.data=data,delete att.stub,delete att.length,--count||cb(null,doc)})},self)}else{if(doc._attachments)for(var key in doc._attachments)doc._attachments.hasOwnProperty(key)&&(doc._attachments[key].stub=!0);cb(null,doc)}});if("all"===opts.open_revs)this._getRevisionTree(id,function(err,rev_tree){if(err)return cb(err);leaves=collectLeaves(rev_tree).map(function(leaf){return leaf.rev}),finishOpenRevs()});else{if(!Array.isArray(opts.open_revs))return cb(createError(UNKNOWN_ERROR,"function_clause"));leaves=opts.open_revs;for(var i=0;i<leaves.length;i++){var l=leaves[i];if("string"!=typeof l||!/^\d+-/.test(l))return cb(createError(INVALID_REV))}finishOpenRevs()}}),AbstractPouchDB.prototype.getAttachment=adapterFun("getAttachment",function(docId,attachmentId,opts,callback){var self=this;opts instanceof Function&&(callback=opts,opts={}),this._get(docId,opts,function(err,res){return err?callback(err):res.doc._attachments&&res.doc._attachments[attachmentId]?(opts.ctx=res.ctx,opts.binary=!0,void self._getAttachment(docId,attachmentId,res.doc._attachments[attachmentId],opts,callback)):callback(createError(MISSING_DOC))})}),AbstractPouchDB.prototype.allDocs=adapterFun("allDocs",function(opts,callback){if("function"==typeof opts&&(callback=opts,opts={}),opts.skip=void 0!==opts.skip?opts.skip:0,opts.start_key&&(opts.startkey=opts.start_key),opts.end_key&&(opts.endkey=opts.end_key),"keys"in opts){if(!Array.isArray(opts.keys))return callback(new TypeError("options.keys must be an array"));var incompatibleOpt=["startkey","endkey","key"].filter(function(incompatibleOpt){return incompatibleOpt in opts})[0];if(incompatibleOpt)return void callback(createError(QUERY_PARSE_ERROR,"Query parameter `"+incompatibleOpt+"` is not compatible with multi-get"));if(!isRemote(this)&&(function(opts){var keys="limit"in opts?opts.keys.slice(opts.skip,opts.limit+opts.skip):opts.skip>0?opts.keys.slice(opts.skip):opts.keys;opts.keys=keys,opts.skip=0,delete opts.limit,opts.descending&&(keys.reverse(),opts.descending=!1)}(opts),0===opts.keys.length))return this._allDocs({limit:0},callback)}return this._allDocs(opts,callback)}),AbstractPouchDB.prototype.changes=function(opts,callback){return"function"==typeof opts&&(callback=opts,opts={}),(opts=opts||{}).return_docs="return_docs"in opts?opts.return_docs:!opts.live,new Changes$1(this,opts,callback)},AbstractPouchDB.prototype.close=adapterFun("close",function(callback){return this._closed=!0,this.emit("closed"),this._close(callback)}),AbstractPouchDB.prototype.info=adapterFun("info",function(callback){var self=this;this._info(function(err,info){if(err)return callback(err);info.db_name=info.db_name||self.name,info.auto_compaction=!(!self.auto_compaction||isRemote(self)),info.adapter=self.adapter,callback(null,info)})}),AbstractPouchDB.prototype.id=adapterFun("id",function(callback){return this._id(callback)}),AbstractPouchDB.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},AbstractPouchDB.prototype.bulkDocs=adapterFun("bulkDocs",function(req,opts,callback){if("function"==typeof opts&&(callback=opts,opts={}),opts=opts||{},Array.isArray(req)&&(req={docs:req}),!req||!req.docs||!Array.isArray(req.docs))return callback(createError(MISSING_BULK_DOCS));for(var i=0;i<req.docs.length;++i)if("object"!=typeof req.docs[i]||Array.isArray(req.docs[i]))return callback(createError(NOT_AN_OBJECT));var attachmentError;if(req.docs.forEach(function(doc){doc._attachments&&Object.keys(doc._attachments).forEach(function(name){attachmentError=attachmentError||function(name){return"_"===name.charAt(0)&&name+" is not a valid attachment name, attachment names cannot start with '_'"}(name),doc._attachments[name].content_type||guardedConsole("warn","Attachment",name,"on document",doc._id,"is missing content_type")})}),attachmentError)return callback(createError(BAD_REQUEST,attachmentError));"new_edits"in opts||(opts.new_edits=!("new_edits"in req)||req.new_edits);var adapter=this;opts.new_edits||isRemote(adapter)||req.docs.sort(compareByIdThenRev),function(docs){for(var i=0;i<docs.length;i++){var doc=docs[i];if(doc._deleted)delete doc._attachments;else if(doc._attachments)for(var atts=Object.keys(doc._attachments),j=0;j<atts.length;j++){var att=atts[j];doc._attachments[att]=pick(doc._attachments[att],["data","digest","content_type","length","revpos","stub"])}}}(req.docs);var ids=req.docs.map(function(doc){return doc._id});return this._bulkDocs(req,opts,function(err,res){if(err)return callback(err);if(opts.new_edits||(res=res.filter(function(x){return x.error})),!isRemote(adapter))for(var i=0,l=res.length;i<l;i++)res[i].id=res[i].id||ids[i];callback(null,res)})}),AbstractPouchDB.prototype.registerDependentDatabase=adapterFun("registerDependentDatabase",function(dependentDb,callback){var depDB=new this.constructor(dependentDb,this.__opts);upsert(this,"_local/_pouch_dependentDbs",function(doc){return doc.dependentDbs=doc.dependentDbs||{},!doc.dependentDbs[dependentDb]&&(doc.dependentDbs[dependentDb]=!0,doc)}).then(function(){callback(null,{db:depDB})}).catch(callback)}),AbstractPouchDB.prototype.destroy=adapterFun("destroy",function(opts,callback){"function"==typeof opts&&(callback=opts,opts={});var self=this,usePrefix=!("use_prefix"in self)||self.use_prefix;function destroyDb(){self._destroy(opts,function(err,resp){if(err)return callback(err);self._destroyed=!0,self.emit("destroyed"),callback(null,resp||{ok:!0})})}if(isRemote(self))return destroyDb();self.get("_local/_pouch_dependentDbs",function(err,localDoc){if(err)return 404!==err.status?callback(err):destroyDb();var dependentDbs=localDoc.dependentDbs,PouchDB=self.constructor,deletedMap=Object.keys(dependentDbs).map(function(name){var trueName=usePrefix?name.replace(new RegExp("^"+PouchDB.prefix),""):name;return new PouchDB(trueName,self.__opts).destroy()});Promise.all(deletedMap).then(destroyDb,callback)})}),TaskQueue.prototype.execute=function(){var fun;if(this.failed)for(;fun=this.queue.shift();)fun(this.failed);else for(;fun=this.queue.shift();)fun()},TaskQueue.prototype.fail=function(err){this.failed=err,this.execute()},TaskQueue.prototype.ready=function(db){this.isReady=!0,this.db=db,this.execute()},TaskQueue.prototype.addTask=function(fun){this.queue.push(fun),this.failed&&this.execute()},inherits__WEBPACK_IMPORTED_MODULE_3___default()(PouchDB,AbstractPouchDB);var a="undefined"!=typeof AbortController?AbortController:function(){return{abort:function(){}}},f$1=fetch,h=Headers;PouchDB.adapters={},PouchDB.preferredAdapters=[],PouchDB.prefix="_pouch_";var eventEmitter=new events__WEBPACK_IMPORTED_MODULE_2__.EventEmitter;!function(Pouch){Object.keys(events__WEBPACK_IMPORTED_MODULE_2__.EventEmitter.prototype).forEach(function(key){"function"==typeof events__WEBPACK_IMPORTED_MODULE_2__.EventEmitter.prototype[key]&&(Pouch[key]=eventEmitter[key].bind(eventEmitter))});var destructListeners=Pouch._destructionListeners=new ExportedMap;Pouch.on("ref",function(db){destructListeners.has(db.name)||destructListeners.set(db.name,[]),destructListeners.get(db.name).push(db)}),Pouch.on("unref",function(db){if(destructListeners.has(db.name)){var dbList=destructListeners.get(db.name),pos=dbList.indexOf(db);pos<0||(dbList.splice(pos,1),dbList.length>1?destructListeners.set(db.name,dbList):destructListeners.delete(db.name))}}),Pouch.on("destroyed",function(name){if(destructListeners.has(name)){var dbList=destructListeners.get(name);destructListeners.delete(name),dbList.forEach(function(db){db.emit("destroyed",!0)})}})}(PouchDB),PouchDB.adapter=function(id,obj,addToPreferredAdapters){obj.valid()&&(PouchDB.adapters[id]=obj,addToPreferredAdapters&&PouchDB.preferredAdapters.push(id))},PouchDB.plugin=function(obj){if("function"==typeof obj)obj(PouchDB);else{if("object"!=typeof obj||0===Object.keys(obj).length)throw new Error('Invalid plugin: got "'+obj+'", expected an object or a function');Object.keys(obj).forEach(function(id){PouchDB.prototype[id]=obj[id]})}return this.__defaults&&(PouchDB.__defaults=$inject_Object_assign({},this.__defaults)),PouchDB},PouchDB.defaults=function(defaultOpts){function PouchAlt(name,opts){if(!(this instanceof PouchAlt))return new PouchAlt(name,opts);opts=opts||{},name&&"object"==typeof name&&(name=(opts=name).name,delete opts.name),opts=$inject_Object_assign({},PouchAlt.__defaults,opts),PouchDB.call(this,name,opts)}return inherits__WEBPACK_IMPORTED_MODULE_3___default()(PouchAlt,PouchDB),PouchAlt.preferredAdapters=PouchDB.preferredAdapters.slice(),Object.keys(PouchDB).forEach(function(key){key in PouchAlt||(PouchAlt[key]=PouchDB[key])}),PouchAlt.__defaults=$inject_Object_assign({},this.__defaults,defaultOpts),PouchAlt},PouchDB.fetch=function(url,opts){return f$1(url,opts)};function getFieldFromDoc(doc,parsedField){for(var value=doc,i=0,len=parsedField.length;i<len;i++){if(!(value=value[parsedField[i]]))break}return value}function parseField(fieldName){for(var fields=[],current="",i=0,len=fieldName.length;i<len;i++){var ch=fieldName[i];"."===ch?i>0&&"\\"===fieldName[i-1]?current=current.substring(0,current.length-1)+".":(fields.push(current),current=""):current+=ch}return fields.push(current),fields}var combinationFields=["$or","$nor","$not"];function isCombinationalField(field){return combinationFields.indexOf(field)>-1}function getKey(obj){return Object.keys(obj)[0]}function mergeAndedSelectors(selectors){var res={};return selectors.forEach(function(selector){Object.keys(selector).forEach(function(field){var matcher=selector[field];if("object"!=typeof matcher&&(matcher={$eq:matcher}),isCombinationalField(field))matcher instanceof Array?res[field]=matcher.map(function(m){return mergeAndedSelectors([m])}):res[field]=mergeAndedSelectors([matcher]);else{var fieldMatchers=res[field]=res[field]||{};Object.keys(matcher).forEach(function(operator){var value=matcher[operator];return"$gt"===operator||"$gte"===operator?function(operator,value,fieldMatchers){if(void 0!==fieldMatchers.$eq)return;void 0!==fieldMatchers.$gte?"$gte"===operator?value>fieldMatchers.$gte&&(fieldMatchers.$gte=value):value>=fieldMatchers.$gte&&(delete fieldMatchers.$gte,fieldMatchers.$gt=value):void 0!==fieldMatchers.$gt?"$gte"===operator?value>fieldMatchers.$gt&&(delete fieldMatchers.$gt,fieldMatchers.$gte=value):value>fieldMatchers.$gt&&(fieldMatchers.$gt=value):fieldMatchers[operator]=value}(operator,value,fieldMatchers):"$lt"===operator||"$lte"===operator?function(operator,value,fieldMatchers){if(void 0!==fieldMatchers.$eq)return;void 0!==fieldMatchers.$lte?"$lte"===operator?value<fieldMatchers.$lte&&(fieldMatchers.$lte=value):value<=fieldMatchers.$lte&&(delete fieldMatchers.$lte,fieldMatchers.$lt=value):void 0!==fieldMatchers.$lt?"$lte"===operator?value<fieldMatchers.$lt&&(delete fieldMatchers.$lt,fieldMatchers.$lte=value):value<fieldMatchers.$lt&&(fieldMatchers.$lt=value):fieldMatchers[operator]=value}(operator,value,fieldMatchers):"$ne"===operator?function(value,fieldMatchers){"$ne"in fieldMatchers?fieldMatchers.$ne.push(value):fieldMatchers.$ne=[value]}(value,fieldMatchers):"$eq"===operator?function(value,fieldMatchers){delete fieldMatchers.$gt,delete fieldMatchers.$gte,delete fieldMatchers.$lt,delete fieldMatchers.$lte,delete fieldMatchers.$ne,fieldMatchers.$eq=value}(value,fieldMatchers):void(fieldMatchers[operator]=value)})}})}),res}var MIN_MAGNITUDE=-324,MAGNITUDE_DIGITS=3,SEP="";function collate(a,b){if(a===b)return 0;a=normalizeKey(a),b=normalizeKey(b);var ai=collationIndex(a),bi=collationIndex(b);if(ai-bi!=0)return ai-bi;switch(typeof a){case"number":return a-b;case"boolean":return a<b?-1:1;case"string":return function(a,b){return a===b?0:a>b?1:-1}(a,b)}return Array.isArray(a)?function(a,b){for(var len=Math.min(a.length,b.length),i=0;i<len;i++){var sort=collate(a[i],b[i]);if(0!==sort)return sort}return a.length===b.length?0:a.length>b.length?1:-1}(a,b):function(a,b){for(var ak=Object.keys(a),bk=Object.keys(b),len=Math.min(ak.length,bk.length),i=0;i<len;i++){var sort=collate(ak[i],bk[i]);if(0!==sort)return sort;if(0!==(sort=collate(a[ak[i]],b[bk[i]])))return sort}return ak.length===bk.length?0:ak.length>bk.length?1:-1}(a,b)}function normalizeKey(key){switch(typeof key){case"undefined":return null;case"number":return key===1/0||key===-1/0||isNaN(key)?null:key;case"object":var origKey=key;if(Array.isArray(key)){var len=key.length;key=new Array(len);for(var i=0;i<len;i++)key[i]=normalizeKey(origKey[i])}else{if(key instanceof Date)return key.toJSON();if(null!==key)for(var k in key={},origKey)if(origKey.hasOwnProperty(k)){var val=origKey[k];void 0!==val&&(key[k]=normalizeKey(val))}}}return key}function indexify(key){if(null!==key)switch(typeof key){case"boolean":return key?1:0;case"number":return function(num){if(0===num)return"1";var expFormat=num.toExponential().split(/e\+?/),magnitude=parseInt(expFormat[1],10),neg=num<0,result=neg?"0":"2",magString=(str=((neg?-magnitude:magnitude)-MIN_MAGNITUDE).toString(),padWith="0",upToLength=MAGNITUDE_DIGITS,function(str,padWith,upToLength){for(var padding="",targetLength=upToLength-str.length;padding.length<targetLength;)padding+=padWith;return padding}(str,padWith,upToLength)+str);var str,padWith,upToLength;result+=SEP+magString;var factor=Math.abs(parseFloat(expFormat[0]));neg&&(factor=10-factor);var factorStr=factor.toFixed(20);return factorStr=factorStr.replace(/\.?0+$/,""),result+=SEP+factorStr}(key);case"string":return key.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var isArray=Array.isArray(key),arr=isArray?key:Object.keys(key),i=-1,len=arr.length,result="";if(isArray)for(;++i<len;)result+=toIndexableString(arr[i]);else for(;++i<len;){var objKey=arr[i];result+=toIndexableString(objKey)+toIndexableString(key[objKey])}return result}return""}function toIndexableString(key){return collationIndex(key=normalizeKey(key))+SEP+indexify(key)+"\0"}function parseNumber(str,i){var num,originalIdx=i;if("1"===str[i])num=0,i++;else{var neg="0"===str[i];i++;var numAsString="",magAsString=str.substring(i,i+MAGNITUDE_DIGITS),magnitude=parseInt(magAsString,10)+MIN_MAGNITUDE;for(neg&&(magnitude=-magnitude),i+=MAGNITUDE_DIGITS;;){var ch=str[i];if("\0"===ch)break;numAsString+=ch,i++}num=1===(numAsString=numAsString.split(".")).length?parseInt(numAsString,10):parseFloat(numAsString[0]+"."+numAsString[1]),neg&&(num-=10),0!==magnitude&&(num=parseFloat(num+"e"+magnitude))}return{num:num,length:i-originalIdx}}function pop(stack,metaStack){var obj=stack.pop();if(metaStack.length){var lastMetaElement=metaStack[metaStack.length-1];obj===lastMetaElement.element&&(metaStack.pop(),lastMetaElement=metaStack[metaStack.length-1]);var element=lastMetaElement.element,lastElementIndex=lastMetaElement.index;if(Array.isArray(element))element.push(obj);else if(lastElementIndex===stack.length-2){element[stack.pop()]=obj}else stack.push(obj)}}function collationIndex(x){var idx=["boolean","number","string","object"].indexOf(typeof x);return~idx?null===x?1:Array.isArray(x)?5:idx<3?idx+2:idx+3:Array.isArray(x)?5:void 0}function filterInMemoryFields(rows,requestDef,inMemoryFields){if(rows=rows.filter(function(row){return rowFilter(row.doc,requestDef.selector,inMemoryFields)}),requestDef.sort){var fieldSorter=function(sort){function getFieldValuesAsArray(doc){return sort.map(function(sorting){var parsedField=parseField(getKey(sorting));return getFieldFromDoc(doc,parsedField)})}return function(aRow,bRow){var left,right,collation=collate(getFieldValuesAsArray(aRow.doc),getFieldValuesAsArray(bRow.doc));return 0!==collation?collation:(left=aRow.doc._id,right=bRow.doc._id,left<right?-1:left>right?1:0)}}(requestDef.sort);rows=rows.sort(fieldSorter),"string"!=typeof requestDef.sort[0]&&"desc"===(obj=requestDef.sort[0])[getKey(obj)]&&(rows=rows.reverse())}var obj;if("limit"in requestDef||"skip"in requestDef){var skip=requestDef.skip||0,limit=("limit"in requestDef?requestDef.limit:rows.length)+skip;rows=rows.slice(skip,limit)}return rows}function rowFilter(doc,selector,inMemoryFields){return inMemoryFields.every(function(field){var matcher=selector[field],parsedField=parseField(field),docFieldValue=getFieldFromDoc(doc,parsedField);return isCombinationalField(field)?function(field,matcher,doc){if("$or"===field)return matcher.some(function(orMatchers){return rowFilter(doc,orMatchers,Object.keys(orMatchers))});if("$not"===field)return!rowFilter(doc,matcher,Object.keys(matcher));return!matcher.find(function(orMatchers){return rowFilter(doc,orMatchers,Object.keys(orMatchers))})}(field,matcher,doc):matchSelector(matcher,doc,parsedField,docFieldValue)})}function matchSelector(matcher,doc,parsedField,docFieldValue){return!matcher||Object.keys(matcher).every(function(userOperator){var userValue=matcher[userOperator];return function(userOperator,doc,userValue,parsedField,docFieldValue){if(!matchers[userOperator])throw new Error('unknown operator "'+userOperator+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return matchers[userOperator](doc,userValue,parsedField,docFieldValue)}(userOperator,doc,userValue,parsedField,docFieldValue)})}function fieldExists(docFieldValue){return null!=docFieldValue}function fieldIsNotUndefined(docFieldValue){return void 0!==docFieldValue}function arrayContainsValue(docFieldValue,userValue){return userValue.some(function(val){return docFieldValue instanceof Array?docFieldValue.indexOf(val)>-1:docFieldValue===val})}var matchers={$elemMatch:function(doc,userValue,parsedField,docFieldValue){return!!Array.isArray(docFieldValue)&&(0!==docFieldValue.length&&("object"==typeof docFieldValue[0]?docFieldValue.some(function(val){return rowFilter(val,userValue,Object.keys(userValue))}):docFieldValue.some(function(val){return matchSelector(userValue,doc,parsedField,val)})))},$allMatch:function(doc,userValue,parsedField,docFieldValue){return!!Array.isArray(docFieldValue)&&(0!==docFieldValue.length&&("object"==typeof docFieldValue[0]?docFieldValue.every(function(val){return rowFilter(val,userValue,Object.keys(userValue))}):docFieldValue.every(function(val){return matchSelector(userValue,doc,parsedField,val)})))},$eq:function(doc,userValue,parsedField,docFieldValue){return fieldIsNotUndefined(docFieldValue)&&0===collate(docFieldValue,userValue)},$gte:function(doc,userValue,parsedField,docFieldValue){return fieldIsNotUndefined(docFieldValue)&&collate(docFieldValue,userValue)>=0},$gt:function(doc,userValue,parsedField,docFieldValue){return fieldIsNotUndefined(docFieldValue)&&collate(docFieldValue,userValue)>0},$lte:function(doc,userValue,parsedField,docFieldValue){return fieldIsNotUndefined(docFieldValue)&&collate(docFieldValue,userValue)<=0},$lt:function(doc,userValue,parsedField,docFieldValue){return fieldIsNotUndefined(docFieldValue)&&collate(docFieldValue,userValue)<0},$exists:function(doc,userValue,parsedField,docFieldValue){return userValue?fieldIsNotUndefined(docFieldValue):!fieldIsNotUndefined(docFieldValue)},$mod:function(doc,userValue,parsedField,docFieldValue){return fieldExists(docFieldValue)&&function(docFieldValue,userValue){var divisor=userValue[0],mod=userValue[1];if(0===divisor)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(divisor,10)!==divisor)throw new Error("Divisor is not an integer");if(parseInt(mod,10)!==mod)throw new Error("Modulus is not an integer");return parseInt(docFieldValue,10)===docFieldValue&&docFieldValue%divisor===mod}(docFieldValue,userValue)},$ne:function(doc,userValue,parsedField,docFieldValue){return userValue.every(function(neValue){return 0!==collate(docFieldValue,neValue)})},$in:function(doc,userValue,parsedField,docFieldValue){return fieldExists(docFieldValue)&&arrayContainsValue(docFieldValue,userValue)},$nin:function(doc,userValue,parsedField,docFieldValue){return fieldExists(docFieldValue)&&!arrayContainsValue(docFieldValue,userValue)},$size:function(doc,userValue,parsedField,docFieldValue){return fieldExists(docFieldValue)&&function(docFieldValue,userValue){return docFieldValue.length===userValue}(docFieldValue,userValue)},$all:function(doc,userValue,parsedField,docFieldValue){return Array.isArray(docFieldValue)&&function(docFieldValue,userValue){return userValue.every(function(val){return docFieldValue.indexOf(val)>-1})}(docFieldValue,userValue)},$regex:function(doc,userValue,parsedField,docFieldValue){return fieldExists(docFieldValue)&&function(docFieldValue,userValue){return new RegExp(userValue).test(docFieldValue)}(docFieldValue,userValue)},$type:function(doc,userValue,parsedField,docFieldValue){return function(docFieldValue,userValue){switch(userValue){case"null":return null===docFieldValue;case"boolean":return"boolean"==typeof docFieldValue;case"number":return"number"==typeof docFieldValue;case"string":return"string"==typeof docFieldValue;case"array":return docFieldValue instanceof Array;case"object":return"[object Object]"==={}.toString.call(docFieldValue)}throw new Error(userValue+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(docFieldValue,userValue)}};function matchesSelector(doc,selector){if("object"!=typeof selector)throw new Error("Selector error: expected a JSON object");var rowsMatched=filterInMemoryFields([{doc:doc}],{selector:selector=function(input){var result=clone(input),wasAnded=!1;"$and"in result&&(result=mergeAndedSelectors(result.$and),wasAnded=!0),["$or","$nor"].forEach(function(orOrNor){orOrNor in result&&result[orOrNor].forEach(function(subSelector){for(var fields=Object.keys(subSelector),i=0;i<fields.length;i++){var field=fields[i],matcher=subSelector[field];"object"==typeof matcher&&null!==matcher||(subSelector[field]={$eq:matcher})}})}),"$not"in result&&(result.$not=mergeAndedSelectors([result.$not]));for(var fields=Object.keys(result),i=0;i<fields.length;i++){var field=fields[i],matcher=result[field];"object"!=typeof matcher||null===matcher?matcher={$eq:matcher}:"$ne"in matcher&&!wasAnded&&(matcher.$ne=[matcher.$ne]),result[field]=matcher}return result}(selector)},Object.keys(selector));return rowsMatched&&1===rowsMatched.length}function validate(opts,callback){if(opts.selector&&opts.filter&&"_selector"!==opts.filter){var filterName="string"==typeof opts.filter?opts.filter:"function";return callback(new Error('selector invalid for filter "'+filterName+'"'))}callback()}function normalize(opts){opts.view&&!opts.filter&&(opts.filter="_view"),opts.selector&&!opts.filter&&(opts.filter="_selector"),opts.filter&&"string"==typeof opts.filter&&("_view"===opts.filter?opts.view=normalizeDesignDocFunctionName(opts.view):opts.filter=normalizeDesignDocFunctionName(opts.filter))}function shouldFilter(changesHandler,opts){return opts.filter&&"string"==typeof opts.filter&&!opts.doc_ids&&!isRemote(changesHandler.db)}function filter(changesHandler,opts){var callback=opts.complete;if("_view"===opts.filter){if(!opts.view||"string"!=typeof opts.view){var err=createError(BAD_REQUEST,"`view` filter parameter not found or invalid.");return callback(err)}var viewName=parseDesignDocFunctionName(opts.view);changesHandler.db.get("_design/"+viewName[0],function(err,ddoc){if(changesHandler.isCancelled)return callback(null,{status:"cancelled"});if(err)return callback(generateErrorFromResponse(err));var mapFun=ddoc&&ddoc.views&&ddoc.views[viewName[1]]&&ddoc.views[viewName[1]].map;if(!mapFun)return callback(createError(MISSING_DOC,ddoc.views?"missing json key: "+viewName[1]:"missing json key: views"));opts.filter=scopeEval(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+mapFun+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{}),changesHandler.doChanges(opts)})}else if(opts.selector)opts.filter=function(doc){return matchesSelector(doc,opts.selector)},changesHandler.doChanges(opts);else{var filterName=parseDesignDocFunctionName(opts.filter);changesHandler.db.get("_design/"+filterName[0],function(err,ddoc){if(changesHandler.isCancelled)return callback(null,{status:"cancelled"});if(err)return callback(generateErrorFromResponse(err));var filterFun=ddoc&&ddoc.filters&&ddoc.filters[filterName[1]];if(!filterFun)return callback(createError(MISSING_DOC,ddoc&&ddoc.filters?"missing json key: "+filterName[1]:"missing json key: filters"));opts.filter=scopeEval('"use strict";\nreturn '+filterFun+";",{}),changesHandler.doChanges(opts)})}}function toObject(array){return array.reduce(function(obj,item){return obj[item]=!0,obj},{})}PouchDB.plugin(function(PouchDB){PouchDB._changesFilterPlugin={validate:validate,normalize:normalize,shouldFilter:shouldFilter,filter:filter}}),PouchDB.version="7.0.0";var reservedWords=toObject(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),dataWords=toObject(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function parseRevisionInfo(rev){if(!/^\d+-./.test(rev))return createError(INVALID_REV);var idx=rev.indexOf("-"),left=rev.substring(0,idx),right=rev.substring(idx+1);return{prefix:parseInt(left,10),id:right}}function parseDoc(doc,newEdits,dbOpts){var nRevNum,newRevId,revInfo;dbOpts||(dbOpts={deterministic_revs:!0});var opts={status:"available"};if(doc._deleted&&(opts.deleted=!0),newEdits)if(doc._id||(doc._id=uuid()),newRevId=rev$$1(doc,dbOpts.deterministic_revs),doc._rev){if((revInfo=parseRevisionInfo(doc._rev)).error)return revInfo;doc._rev_tree=[{pos:revInfo.prefix,ids:[revInfo.id,{status:"missing"},[[newRevId,opts,[]]]]}],nRevNum=revInfo.prefix+1}else doc._rev_tree=[{pos:1,ids:[newRevId,opts,[]]}],nRevNum=1;else if(doc._revisions&&(doc._rev_tree=function(revisions,opts){for(var pos=revisions.start-revisions.ids.length+1,revisionIds=revisions.ids,ids=[revisionIds[0],opts,[]],i=1,len=revisionIds.length;i<len;i++)ids=[revisionIds[i],{status:"missing"},[ids]];return[{pos:pos,ids:ids}]}(doc._revisions,opts),nRevNum=doc._revisions.start,newRevId=doc._revisions.ids[0]),!doc._rev_tree){if((revInfo=parseRevisionInfo(doc._rev)).error)return revInfo;nRevNum=revInfo.prefix,newRevId=revInfo.id,doc._rev_tree=[{pos:nRevNum,ids:[newRevId,opts,[]]}]}invalidIdError(doc._id),doc._rev=nRevNum+"-"+newRevId;var result={metadata:{},data:{}};for(var key in doc)if(Object.prototype.hasOwnProperty.call(doc,key)){var specialKey="_"===key[0];if(specialKey&&!reservedWords[key]){var error=createError(DOC_VALIDATION,key);throw error.message=DOC_VALIDATION.message+": "+key,error}specialKey&&!dataWords[key]?result.metadata[key.slice(1)]=doc[key]:result.data[key]=doc[key]}return result}function preprocessString(att,blobType,callback){var asBinary=function(data){try{return thisAtob(data)}catch(e){return{error:createError(BAD_ARG,"Attachment is not a valid base64 string")}}}(att.data);if(asBinary.error)return callback(asBinary.error);att.length=asBinary.length,att.data="blob"===blobType?binStringToBluffer(asBinary,att.content_type):"base64"===blobType?thisBtoa(asBinary):asBinary,binaryMd5(asBinary,function(result){att.digest="md5-"+result,callback()})}function preprocessAttachment(att,blobType,callback){if(att.stub)return callback();"string"==typeof att.data?preprocessString(att,blobType,callback):function(att,blobType,callback){binaryMd5(att.data,function(md5){att.digest="md5-"+md5,att.length=att.data.size||att.data.length||0,"binary"===blobType?blobToBinaryString(att.data,function(binString){att.data=binString,callback()}):"base64"===blobType?blobToBase64(att.data,function(b64){att.data=b64,callback()}):callback()})}(att,blobType,callback)}function updateDoc(revLimit,prev,docInfo,results,i,cb,writeDoc,newEdits){if(function(revs,rev){for(var node,toVisit=revs.slice(),splitRev=rev.split("-"),targetPos=parseInt(splitRev[0],10),targetId=splitRev[1];node=toVisit.pop();){if(node.pos===targetPos&&node.ids[0]===targetId)return!0;for(var branches=node.ids[2],i=0,len=branches.length;i<len;i++)toVisit.push({pos:node.pos+1,ids:branches[i]})}return!1}(prev.rev_tree,docInfo.metadata.rev)&&!newEdits)return results[i]=docInfo,cb();var previousWinningRev=prev.winningRev||winningRev(prev),previouslyDeleted="deleted"in prev?prev.deleted:isDeleted(prev,previousWinningRev),deleted="deleted"in docInfo.metadata?docInfo.metadata.deleted:isDeleted(docInfo.metadata),isRoot=/^1-/.test(docInfo.metadata.rev);if(previouslyDeleted&&!deleted&&newEdits&&isRoot){var newDoc=docInfo.data;newDoc._rev=previousWinningRev,newDoc._id=docInfo.metadata.id,docInfo=parseDoc(newDoc,newEdits)}var merged=merge(prev.rev_tree,docInfo.metadata.rev_tree[0],revLimit);if(newEdits&&(previouslyDeleted&&deleted&&"new_leaf"!==merged.conflicts||!previouslyDeleted&&"new_leaf"!==merged.conflicts||previouslyDeleted&&!deleted&&"new_branch"===merged.conflicts)){var err=createError(REV_CONFLICT);return results[i]=err,cb()}var newRev=docInfo.metadata.rev;docInfo.metadata.rev_tree=merged.tree,docInfo.stemmedRevs=merged.stemmedRevs||[],prev.rev_map&&(docInfo.metadata.rev_map=prev.rev_map);var winningRev$$1=winningRev(docInfo.metadata),winningRevIsDeleted=isDeleted(docInfo.metadata,winningRev$$1),delta=previouslyDeleted===winningRevIsDeleted?0:previouslyDeleted<winningRevIsDeleted?-1:1;writeDoc(docInfo,winningRev$$1,winningRevIsDeleted,newRev===winningRev$$1?winningRevIsDeleted:isDeleted(docInfo.metadata,newRev),!0,delta,i,cb)}function processDocs(revLimit,docInfos,api,fetchedDocs,tx,results,writeDoc,opts,overallCallback){revLimit=revLimit||1e3;var newEdits=opts.new_edits,idsToDocs=new ExportedMap,docsDone=0,docsToDo=docInfos.length;function checkAllDocsDone(){++docsDone===docsToDo&&overallCallback&&overallCallback()}docInfos.forEach(function(currentDoc,resultsIdx){if(currentDoc._id&&isLocalId(currentDoc._id)){var fun=currentDoc._deleted?"_removeLocal":"_putLocal";api[fun](currentDoc,{ctx:tx},function(err,res){results[resultsIdx]=err||res,checkAllDocsDone()})}else{var id=currentDoc.metadata.id;idsToDocs.has(id)?(docsToDo--,idsToDocs.get(id).push([currentDoc,resultsIdx])):idsToDocs.set(id,[[currentDoc,resultsIdx]])}}),idsToDocs.forEach(function(docs,id){var numDone=0;function docWritten(){++numDone<docs.length?nextDoc():checkAllDocsDone()}function nextDoc(){var value=docs[numDone],currentDoc=value[0],resultsIdx=value[1];if(fetchedDocs.has(id))updateDoc(revLimit,fetchedDocs.get(id),currentDoc,results,resultsIdx,docWritten,writeDoc,newEdits);else{var merged=merge([],currentDoc.metadata.rev_tree[0],revLimit);currentDoc.metadata.rev_tree=merged.tree,currentDoc.stemmedRevs=merged.stemmedRevs||[],function(docInfo,resultsIdx,callback){var winningRev$$1=winningRev(docInfo.metadata),deleted=isDeleted(docInfo.metadata,winningRev$$1);if("was_delete"in opts&&deleted)return results[resultsIdx]=createError(MISSING_DOC,"deleted"),callback();if(newEdits&&function(docInfo){return"missing"===docInfo.metadata.rev_tree[0].ids[1].status}(docInfo)){var err=createError(REV_CONFLICT);return results[resultsIdx]=err,callback()}writeDoc(docInfo,winningRev$$1,deleted,deleted,!1,deleted?0:1,resultsIdx,callback)}(currentDoc,resultsIdx,docWritten)}}nextDoc()})}var ADAPTER_VERSION=5,DOC_STORE="document-store",BY_SEQ_STORE="by-sequence",ATTACH_STORE="attach-store",ATTACH_AND_SEQ_STORE="attach-seq-store",META_STORE="meta-store",LOCAL_STORE="local-store",DETECT_BLOB_SUPPORT_STORE="detect-blob-support";function safeJsonStringify(json){try{return JSON.stringify(json)}catch(e){return vuvuzela__WEBPACK_IMPORTED_MODULE_6___default.a.stringify(json)}}function idbError(callback){return function(evt){var message="unknown_error";evt.target&&evt.target.error&&(message=evt.target.error.name||evt.target.error.message),callback(createError(IDB_ERROR,message,evt.type))}}function encodeMetadata(metadata,winningRev,deleted){return{data:safeJsonStringify(metadata),winningRev:winningRev,deletedOrLocal:deleted?"1":"0",seq:metadata.seq,id:metadata.id}}function decodeMetadata(storedObject){if(!storedObject)return null;var metadata=function(str){try{return JSON.parse(str)}catch(e){return vuvuzela__WEBPACK_IMPORTED_MODULE_6___default.a.parse(str)}}(storedObject.data);return metadata.winningRev=storedObject.winningRev,metadata.deleted="1"===storedObject.deletedOrLocal,metadata.seq=storedObject.seq,metadata}function decodeDoc(doc){if(!doc)return doc;var idx=doc._doc_id_rev.lastIndexOf(":");return doc._id=doc._doc_id_rev.substring(0,idx-1),doc._rev=doc._doc_id_rev.substring(idx+1),delete doc._doc_id_rev,doc}function readBlobData(body,type,asBlob,callback){asBlob?callback(body?"string"!=typeof body?body:b64ToBluffer(body,type):createBlob([""],{type:type})):body?"string"!=typeof body?readAsBinaryString(body,function(binary){callback(thisBtoa(binary))}):callback(body):callback("")}function fetchAttachmentsIfNecessary(doc,opts,txn,cb){var attachments=Object.keys(doc._attachments||{});if(!attachments.length)return cb&&cb();var numDone=0;function checkDone(){++numDone===attachments.length&&cb&&cb()}attachments.forEach(function(att){opts.attachments&&opts.include_docs?function(doc,att){var attObj=doc._attachments[att],digest=attObj.digest;txn.objectStore(ATTACH_STORE).get(digest).onsuccess=function(e){attObj.body=e.target.result.body,checkDone()}}(doc,att):(doc._attachments[att].stub=!0,checkDone())})}function postProcessAttachments(results,asBlob){return Promise.all(results.map(function(row){if(row.doc&&row.doc._attachments){var attNames=Object.keys(row.doc._attachments);return Promise.all(attNames.map(function(att){var attObj=row.doc._attachments[att];if("body"in attObj){var body=attObj.body,type=attObj.content_type;return new Promise(function(resolve){readBlobData(body,type,asBlob,function(data){row.doc._attachments[att]=$inject_Object_assign(pick(attObj,["digest","content_type"]),{data:data}),resolve()})})}}))}}))}function compactRevs(revs,docId,txn){var possiblyOrphanedDigests=[],seqStore=txn.objectStore(BY_SEQ_STORE),attStore=txn.objectStore(ATTACH_STORE),attAndSeqStore=txn.objectStore(ATTACH_AND_SEQ_STORE),count=revs.length;function checkDone(){--count||function(){if(!possiblyOrphanedDigests.length)return;possiblyOrphanedDigests.forEach(function(digest){var countReq=attAndSeqStore.index("digestSeq").count(IDBKeyRange.bound(digest+"::",digest+"::",!1,!1));countReq.onsuccess=function(e){var count=e.target.result;count||attStore.delete(digest)}})}()}revs.forEach(function(rev){var index=seqStore.index("_doc_id_rev"),key=docId+"::"+rev;index.getKey(key).onsuccess=function(e){var seq=e.target.result;if("number"!=typeof seq)return checkDone();seqStore.delete(seq),attAndSeqStore.index("seq").openCursor(IDBKeyRange.only(seq)).onsuccess=function(event){var cursor=event.target.result;if(cursor){var digest=cursor.value.digestSeq.split("::")[0];possiblyOrphanedDigests.push(digest),attAndSeqStore.delete(cursor.primaryKey),cursor.continue()}else checkDone()}}})}function openTransactionSafely(idb,stores,mode){try{return{txn:idb.transaction(stores,mode)}}catch(err){return{error:err}}}var changesHandler=new Changes;function idbBulkDocs(dbOpts,req,opts,api,idb,callback){for(var txn,docStore,bySeqStore,attachStore,attachAndSeqStore,metaStore,docInfoError,metaDoc,docInfos=req.docs,i=0,len=docInfos.length;i<len;i++){var doc=docInfos[i];doc._id&&isLocalId(doc._id)||(doc=docInfos[i]=parseDoc(doc,opts.new_edits,dbOpts)).error&&!docInfoError&&(docInfoError=doc)}if(docInfoError)return callback(docInfoError);var allDocsProcessed=!1,docCountDelta=0,results=new Array(docInfos.length),fetchedDocs=new ExportedMap,preconditionErrored=!1,blobType=api._meta.blobSupport?"blob":"base64";function onAllDocsProcessed(){allDocsProcessed=!0,updateDocCountIfReady()}function updateDocCountIfReady(){metaDoc&&allDocsProcessed&&(metaDoc.docCount+=docCountDelta,metaStore.put(metaDoc))}function complete(){preconditionErrored||(changesHandler.notify(api._meta.name),callback(null,results))}function writeDoc(docInfo,winningRev$$1,winningRevIsDeleted,newRevIsDeleted,isUpdate,delta,resultsIdx,callback){docInfo.metadata.winningRev=winningRev$$1,docInfo.metadata.deleted=winningRevIsDeleted;var doc=docInfo.data;if(doc._id=docInfo.metadata.id,doc._rev=docInfo.metadata.rev,newRevIsDeleted&&(doc._deleted=!0),doc._attachments&&Object.keys(doc._attachments).length)return function(docInfo,winningRev$$1,winningRevIsDeleted,isUpdate,resultsIdx,callback){var doc=docInfo.data,numDone=0,attachments=Object.keys(doc._attachments);function collectResults(){numDone===attachments.length&&finishDoc(docInfo,winningRev$$1,winningRevIsDeleted,isUpdate,resultsIdx,callback)}function attachmentSaved(){numDone++,collectResults()}attachments.forEach(function(key){var att=docInfo.data._attachments[key];if(att.stub)numDone++,collectResults();else{var data=att.data;delete att.data,att.revpos=parseInt(winningRev$$1,10);var digest=att.digest;!function(digest,data,callback){attachStore.count(digest).onsuccess=function(e){var count=e.target.result;if(count)return callback();var newAtt={digest:digest,body:data},putReq=attachStore.put(newAtt);putReq.onsuccess=callback}}(digest,data,attachmentSaved)}})}(docInfo,winningRev$$1,winningRevIsDeleted,isUpdate,resultsIdx,callback);docCountDelta+=delta,updateDocCountIfReady(),finishDoc(docInfo,winningRev$$1,winningRevIsDeleted,isUpdate,resultsIdx,callback)}function finishDoc(docInfo,winningRev$$1,winningRevIsDeleted,isUpdate,resultsIdx,callback){var doc=docInfo.data,metadata=docInfo.metadata;function afterPutDoc(e){var revsToDelete=docInfo.stemmedRevs||[];isUpdate&&api.auto_compaction&&(revsToDelete=revsToDelete.concat(function(metadata){var revs=[];return traverseRevTree(metadata.rev_tree,function(isLeaf,pos,revHash,ctx,opts){"available"!==opts.status||isLeaf||(revs.push(pos+"-"+revHash),opts.status="missing")}),revs}(docInfo.metadata))),revsToDelete&&revsToDelete.length&&compactRevs(revsToDelete,docInfo.metadata.id,txn),metadata.seq=e.target.result;var metadataToStore=encodeMetadata(metadata,winningRev$$1,winningRevIsDeleted);docStore.put(metadataToStore).onsuccess=afterPutMetadata}function afterPutMetadata(){results[resultsIdx]={ok:!0,id:metadata.id,rev:metadata.rev},fetchedDocs.set(docInfo.metadata.id,docInfo.metadata),function(docInfo,seq,callback){var attsAdded=0,attsToAdd=Object.keys(docInfo.data._attachments||{});if(!attsToAdd.length)return callback();function checkDone(){++attsAdded===attsToAdd.length&&callback()}function add(att){var digest=docInfo.data._attachments[att].digest,req=attachAndSeqStore.put({seq:seq,digestSeq:digest+"::"+seq});req.onsuccess=checkDone,req.onerror=function(e){e.preventDefault(),e.stopPropagation(),checkDone()}}for(var i=0;i<attsToAdd.length;i++)add(attsToAdd[i])}(docInfo,metadata.seq,callback)}doc._doc_id_rev=metadata.id+"::"+metadata.rev,delete doc._id,delete doc._rev;var putReq=bySeqStore.put(doc);putReq.onsuccess=afterPutDoc,putReq.onerror=function(e){e.preventDefault(),e.stopPropagation(),bySeqStore.index("_doc_id_rev").getKey(doc._doc_id_rev).onsuccess=function(e){bySeqStore.put(doc,e.target.result).onsuccess=afterPutDoc}}}!function(docInfos,blobType,callback){if(!docInfos.length)return callback();var overallErr,docv=0;function done(){docv++,docInfos.length===docv&&(overallErr?callback(overallErr):callback())}docInfos.forEach(function(docInfo){var attachments=docInfo.data&&docInfo.data._attachments?Object.keys(docInfo.data._attachments):[],recv=0;if(!attachments.length)return done();function processedAttachment(err){overallErr=err,++recv===attachments.length&&done()}for(var key in docInfo.data._attachments)docInfo.data._attachments.hasOwnProperty(key)&&preprocessAttachment(docInfo.data._attachments[key],blobType,processedAttachment)})}(docInfos,blobType,function(err){if(err)return callback(err);!function(){var txnResult=openTransactionSafely(idb,[DOC_STORE,BY_SEQ_STORE,ATTACH_STORE,LOCAL_STORE,ATTACH_AND_SEQ_STORE,META_STORE],"readwrite");if(txnResult.error)return callback(txnResult.error);(txn=txnResult.txn).onabort=idbError(callback),txn.ontimeout=idbError(callback),txn.oncomplete=complete,docStore=txn.objectStore(DOC_STORE),bySeqStore=txn.objectStore(BY_SEQ_STORE),attachStore=txn.objectStore(ATTACH_STORE),attachAndSeqStore=txn.objectStore(ATTACH_AND_SEQ_STORE),(metaStore=txn.objectStore(META_STORE)).get(META_STORE).onsuccess=function(e){metaDoc=e.target.result,updateDocCountIfReady()},function(finish){var digests=[];if(docInfos.forEach(function(docInfo){docInfo.data&&docInfo.data._attachments&&Object.keys(docInfo.data._attachments).forEach(function(filename){var att=docInfo.data._attachments[filename];att.stub&&digests.push(att.digest)})}),!digests.length)return finish();var err,numDone=0;digests.forEach(function(digest){!function(digest,callback){attachStore.get(digest).onsuccess=function(e){if(e.target.result)callback();else{var err=createError(MISSING_STUB,"unknown stub attachment with digest "+digest);err.status=412,callback(err)}}}(digest,function(attErr){attErr&&!err&&(err=attErr),++numDone===digests.length&&finish(err)})})}(function(err){if(err)return preconditionErrored=!0,callback(err);!function(){if(!docInfos.length)return;var numFetched=0;function checkDone(){++numFetched===docInfos.length&&processDocs(dbOpts.revs_limit,docInfos,api,fetchedDocs,txn,results,writeDoc,opts,onAllDocsProcessed)}function readMetadata(event){var metadata=decodeMetadata(event.target.result);metadata&&fetchedDocs.set(metadata.id,metadata),checkDone()}for(var i=0,len=docInfos.length;i<len;i++){var docInfo=docInfos[i];if(docInfo._id&&isLocalId(docInfo._id))checkDone();else{var req=docStore.get(docInfo.metadata.id);req.onsuccess=readMetadata}}}()})}()})}function runBatchedCursor(objectStore,keyRange,descending,batchSize,onBatch){var keysBatch,valuesBatch,pseudoCursor;function onGetAll(e){valuesBatch=e.target.result,keysBatch&&onBatch(keysBatch,valuesBatch,pseudoCursor)}function onGetAllKeys(e){keysBatch=e.target.result,valuesBatch&&onBatch(keysBatch,valuesBatch,pseudoCursor)}function onCursor(e){var cursor=e.target.result;if(!cursor)return onBatch();onBatch([cursor.key],[cursor.value],cursor)}-1===batchSize&&(batchSize=1e3),"function"==typeof objectStore.getAll&&"function"==typeof objectStore.getAllKeys&&batchSize>1&&!descending?(pseudoCursor={continue:function(){if(!keysBatch.length)return onBatch();var newKeyRange,lastKey=keysBatch[keysBatch.length-1];if(keyRange&&keyRange.upper)try{newKeyRange=IDBKeyRange.bound(lastKey,keyRange.upper,!0,keyRange.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return onBatch()}else newKeyRange=IDBKeyRange.lowerBound(lastKey,!0);keyRange=newKeyRange,keysBatch=null,valuesBatch=null,objectStore.getAll(keyRange,batchSize).onsuccess=onGetAll,objectStore.getAllKeys(keyRange,batchSize).onsuccess=onGetAllKeys}},objectStore.getAll(keyRange,batchSize).onsuccess=onGetAll,objectStore.getAllKeys(keyRange,batchSize).onsuccess=onGetAllKeys):descending?objectStore.openCursor(keyRange,"prev").onsuccess=onCursor:objectStore.openCursor(keyRange).onsuccess=onCursor}function idbAllDocs(opts,idb,callback){var keyRange,keyRangeError,start="startkey"in opts&&opts.startkey,end="endkey"in opts&&opts.endkey,key="key"in opts&&opts.key,keys="keys"in opts&&opts.keys,skip=opts.skip||0,limit="number"==typeof opts.limit?opts.limit:-1,inclusiveEnd=!1!==opts.inclusive_end;if(!keys&&(keyRangeError=(keyRange=function(start,end,inclusiveEnd,key,descending){try{if(start&&end)return descending?IDBKeyRange.bound(end,start,!inclusiveEnd,!1):IDBKeyRange.bound(start,end,!1,!inclusiveEnd);if(start)return descending?IDBKeyRange.upperBound(start):IDBKeyRange.lowerBound(start);if(end)return descending?IDBKeyRange.lowerBound(end,!inclusiveEnd):IDBKeyRange.upperBound(end,!inclusiveEnd);if(key)return IDBKeyRange.only(key)}catch(e){return{error:e}}return null}(start,end,inclusiveEnd,key,opts.descending))&&keyRange.error)&&("DataError"!==keyRangeError.name||0!==keyRangeError.code))return callback(createError(IDB_ERROR,keyRangeError.name,keyRangeError.message));var stores=[DOC_STORE,BY_SEQ_STORE,META_STORE];opts.attachments&&stores.push(ATTACH_STORE);var txnResult=openTransactionSafely(idb,stores,"readonly");if(txnResult.error)return callback(txnResult.error);var txn=txnResult.txn;txn.oncomplete=function(){opts.attachments?postProcessAttachments(results,opts.binary).then(onResultsReady):onResultsReady()},txn.onabort=idbError(callback);var docCount,updateSeq,onSuccess,docStore=txn.objectStore(DOC_STORE),seqStore=txn.objectStore(BY_SEQ_STORE),metaStore=txn.objectStore(META_STORE),docIdRevIndex=seqStore.index("_doc_id_rev"),results=[];function allDocsInner(winningRev$$1,metadata){var row={id:metadata.id,key:metadata.id,value:{rev:winningRev$$1}};metadata.deleted?keys&&(results.push(row),row.value.deleted=!0,row.doc=null):skip--<=0&&(results.push(row),opts.include_docs&&function(metadata,row,winningRev$$1){var key=metadata.id+"::"+winningRev$$1;docIdRevIndex.get(key).onsuccess=function(e){if(row.doc=decodeDoc(e.target.result)||{},opts.conflicts){var conflicts=collectConflicts(metadata);conflicts.length&&(row.doc._conflicts=conflicts)}fetchAttachmentsIfNecessary(row.doc,opts,txn)}}(metadata,row,winningRev$$1))}function processBatch(batchValues){for(var i=0,len=batchValues.length;i<len&&results.length!==limit;i++){var batchValue=batchValues[i];if(batchValue.error&&keys)results.push(batchValue);else{var metadata=decodeMetadata(batchValue);allDocsInner(metadata.winningRev,metadata)}}}function onBatch(batchKeys,batchValues,cursor){cursor&&(processBatch(batchValues),results.length<limit&&cursor.continue())}function onResultsReady(){var returnVal={total_rows:docCount,offset:opts.skip,rows:results};opts.update_seq&&void 0!==updateSeq&&(returnVal.update_seq=updateSeq),callback(null,returnVal)}return metaStore.get(META_STORE).onsuccess=function(e){docCount=e.target.result.docCount},opts.update_seq&&(onSuccess=function(e){e.target.result&&e.target.result.length>0&&(updateSeq=e.target.result[0])},seqStore.openCursor(null,"prev").onsuccess=function(e){var cursor=e.target.result,maxKey=void 0;return cursor&&cursor.key&&(maxKey=cursor.key),onSuccess({target:{result:[maxKey]}})}),keyRangeError||0===limit?void 0:keys?function(keys,docStore,onBatch){var valuesBatch=new Array(keys.length),count=0;keys.forEach(function(key,index){docStore.get(key).onsuccess=function(event){event.target.result?valuesBatch[index]=event.target.result:valuesBatch[index]={key:key,error:"not_found"},++count===keys.length&&onBatch(keys,valuesBatch,{})}})}(opts.keys,docStore,onBatch):-1===limit?function(objectStore,keyRange,onSuccess){if("function"!=typeof objectStore.getAll){var values=[];objectStore.openCursor(keyRange).onsuccess=function(e){var cursor=e.target.result;cursor?(values.push(cursor.value),cursor.continue()):onSuccess({target:{result:values}})}}else objectStore.getAll(keyRange).onsuccess=onSuccess}(docStore,keyRange,function(e){var values=e.target.result;opts.descending&&(values=values.reverse()),processBatch(values)}):void runBatchedCursor(docStore,keyRange,opts.descending,limit+skip,onBatch)}var running=!1,queue=[];function applyNext(){!running&&queue.length&&(running=!0,queue.shift()())}function changes(opts,api,dbName,idb){if((opts=clone(opts)).continuous){var id=dbName+":"+uuid();return changesHandler.addListener(dbName,id,api,opts),changesHandler.notify(dbName),{cancel:function(){changesHandler.removeListener(dbName,id)}}}var docIds=opts.doc_ids&&new ExportedSet(opts.doc_ids);opts.since=opts.since||0;var lastSeq=opts.since,limit="limit"in opts?opts.limit:-1;0===limit&&(limit=1);var txn,bySeqStore,docStore,docIdRevIndex,results=[],numResults=0,filter=filterChange(opts),docIdsToMetadata=new ExportedMap;function onGetMetadata(doc,seq,metadata,cb){if(metadata.seq!==seq)return cb();if(metadata.winningRev===doc._rev)return cb(metadata,doc);var docIdRev=doc._id+"::"+metadata.winningRev;docIdRevIndex.get(docIdRev).onsuccess=function(e){cb(metadata,decodeDoc(e.target.result))}}function finish(){opts.complete(null,{results:results,last_seq:lastSeq})}var objectStores=[DOC_STORE,BY_SEQ_STORE];opts.attachments&&objectStores.push(ATTACH_STORE);var txnResult=openTransactionSafely(idb,objectStores,"readonly");if(txnResult.error)return opts.complete(txnResult.error);(txn=txnResult.txn).onabort=idbError(opts.complete),txn.oncomplete=function(){!opts.continuous&&opts.attachments?postProcessAttachments(results).then(finish):finish()},bySeqStore=txn.objectStore(BY_SEQ_STORE),docStore=txn.objectStore(DOC_STORE),docIdRevIndex=bySeqStore.index("_doc_id_rev"),runBatchedCursor(bySeqStore,opts.since&&!opts.descending?IDBKeyRange.lowerBound(opts.since,!0):null,opts.descending,limit,function(batchKeys,batchValues,cursor){if(cursor&&batchKeys.length){var winningDocs=new Array(batchKeys.length),metadatas=new Array(batchKeys.length),numDone=0;batchValues.forEach(function(value,i){!function(doc,seq,cb){if(docIds&&!docIds.has(doc._id))return cb();var metadata=docIdsToMetadata.get(doc._id);if(metadata)return onGetMetadata(doc,seq,metadata,cb);docStore.get(doc._id).onsuccess=function(e){metadata=decodeMetadata(e.target.result),docIdsToMetadata.set(doc._id,metadata),onGetMetadata(doc,seq,metadata,cb)}}(decodeDoc(value),batchKeys[i],function(metadata,winningDoc){metadatas[i]=metadata,winningDocs[i]=winningDoc,++numDone===batchKeys.length&&function(){for(var promises=[],i=0,len=winningDocs.length;i<len&&numResults!==limit;i++){var winningDoc=winningDocs[i];if(winningDoc){var metadata=metadatas[i];promises.push(processMetadataAndWinningDoc(metadata,winningDoc))}}Promise.all(promises).then(function(changes){for(var i=0,len=changes.length;i<len;i++)changes[i]&&opts.onChange(changes[i])}).catch(opts.complete),numResults!==limit&&cursor.continue()}()})})}function processMetadataAndWinningDoc(metadata,winningDoc){var change=opts.processChange(winningDoc,metadata,opts);lastSeq=change.seq=metadata.seq;var filtered=filter(change);return"object"==typeof filtered?Promise.reject(filtered):filtered?(numResults++,opts.return_docs&&results.push(change),opts.attachments&&opts.include_docs?new Promise(function(resolve){fetchAttachmentsIfNecessary(winningDoc,opts,txn,function(){postProcessAttachments([change],opts.binary).then(function(){resolve(change)})})}):Promise.resolve(change)):Promise.resolve()}})}var blobSupportPromise,cachedDBs=new ExportedMap,openReqList=new ExportedMap;function IdbPouch(opts,callback){var api=this;!function(action,callback,PouchDB){queue.push(function(){action(function(err,res){!function(fun,err,res,PouchDB){try{fun(err,res)}catch(err){PouchDB.emit("error",err)}}(callback,err,res,PouchDB),running=!1,immediate__WEBPACK_IMPORTED_MODULE_1___default()(function(){applyNext()})})}),applyNext()}(function(thisCallback){!function(api,opts,callback){var dbName=opts.name,idb=null;function addDeletedOrLocalIndex(txn,callback){var docStore=txn.objectStore(DOC_STORE);docStore.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),docStore.openCursor().onsuccess=function(event){var cursor=event.target.result;if(cursor){var metadata=cursor.value,deleted=isDeleted(metadata);metadata.deletedOrLocal=deleted?"1":"0",docStore.put(metadata),cursor.continue()}else callback()}}function migrateLocalStore(txn,cb){var localStore=txn.objectStore(LOCAL_STORE),docStore=txn.objectStore(DOC_STORE),seqStore=txn.objectStore(BY_SEQ_STORE),cursor=docStore.openCursor();cursor.onsuccess=function(event){var cursor=event.target.result;if(cursor){var metadata=cursor.value,docId=metadata.id,local=isLocalId(docId),rev=winningRev(metadata);if(local){var docIdRev=docId+"::"+rev,start=docId+"::",end=docId+"::~",index=seqStore.index("_doc_id_rev"),range=IDBKeyRange.bound(start,end,!1,!1),seqCursor=index.openCursor(range);seqCursor.onsuccess=function(e){if(seqCursor=e.target.result){var data=seqCursor.value;data._doc_id_rev===docIdRev&&localStore.put(data),seqStore.delete(seqCursor.primaryKey),seqCursor.continue()}else docStore.delete(cursor.primaryKey),cursor.continue()}}else cursor.continue()}else cb&&cb()}}function migrateAttsAndSeqs(txn,callback){var seqStore=txn.objectStore(BY_SEQ_STORE),attStore=txn.objectStore(ATTACH_STORE),attAndSeqStore=txn.objectStore(ATTACH_AND_SEQ_STORE),req=attStore.count();req.onsuccess=function(e){var count=e.target.result;if(!count)return callback();seqStore.openCursor().onsuccess=function(e){var cursor=e.target.result;if(!cursor)return callback();for(var doc=cursor.value,seq=cursor.primaryKey,atts=Object.keys(doc._attachments||{}),digestMap={},j=0;j<atts.length;j++){var att=doc._attachments[atts[j]];digestMap[att.digest]=!0}var digests=Object.keys(digestMap);for(j=0;j<digests.length;j++){var digest=digests[j];attAndSeqStore.put({seq:seq,digestSeq:digest+"::"+seq})}cursor.continue()}}}function migrateMetadata(txn){var bySeqStore=txn.objectStore(BY_SEQ_STORE),docStore=txn.objectStore(DOC_STORE),cursor=docStore.openCursor();cursor.onsuccess=function(e){var cursor=e.target.result;if(cursor){var metadata=function(storedObject){if(!storedObject.data)return storedObject.deleted="1"===storedObject.deletedOrLocal,storedObject;return decodeMetadata(storedObject)}(cursor.value);if(metadata.winningRev=metadata.winningRev||winningRev(metadata),metadata.seq)return onGetMetadataSeq();!function(){var start=metadata.id+"::",end=metadata.id+"::",req=bySeqStore.index("_doc_id_rev").openCursor(IDBKeyRange.bound(start,end)),metadataSeq=0;req.onsuccess=function(e){var cursor=e.target.result;if(!cursor)return metadata.seq=metadataSeq,onGetMetadataSeq();var seq=cursor.primaryKey;seq>metadataSeq&&(metadataSeq=seq),cursor.continue()}}()}function onGetMetadataSeq(){var metadataToStore=encodeMetadata(metadata,metadata.winningRev,metadata.deleted),req=docStore.put(metadataToStore);req.onsuccess=function(){cursor.continue()}}}}api._meta=null,api._remote=!1,api.type=function(){return"idb"},api._id=toPromise(function(callback){callback(null,api._meta.instanceId)}),api._bulkDocs=function(req,reqOpts,callback){idbBulkDocs(opts,req,reqOpts,api,idb,callback)},api._get=function(id,opts,callback){var doc,metadata,err,txn=opts.ctx;if(!txn){var txnResult=openTransactionSafely(idb,[DOC_STORE,BY_SEQ_STORE,ATTACH_STORE],"readonly");if(txnResult.error)return callback(txnResult.error);txn=txnResult.txn}function finish(){callback(err,{doc:doc,metadata:metadata,ctx:txn})}txn.objectStore(DOC_STORE).get(id).onsuccess=function(e){if(!(metadata=decodeMetadata(e.target.result)))return err=createError(MISSING_DOC,"missing"),finish();var rev;if(opts.rev)rev=opts.latest?function(rev,metadata){for(var node,toVisit=metadata.rev_tree.slice();node=toVisit.pop();){var pos=node.pos,tree=node.ids,id=tree[0],opts=tree[1],branches=tree[2],isLeaf=0===branches.length,history=node.history?node.history.slice():[];if(history.push({id:id,pos:pos,opts:opts}),isLeaf)for(var i=0,len=history.length;i<len;i++){var historyNode=history[i];if(historyNode.pos+"-"+historyNode.id===rev)return pos+"-"+id}for(var j=0,l=branches.length;j<l;j++)toVisit.push({pos:pos+1,ids:branches[j],history:history})}throw new Error("Unable to resolve latest revision for id "+metadata.id+", rev "+rev)}(opts.rev,metadata):opts.rev;else{rev=metadata.winningRev;var deleted=isDeleted(metadata);if(deleted)return err=createError(MISSING_DOC,"deleted"),finish()}var objectStore=txn.objectStore(BY_SEQ_STORE),key=metadata.id+"::"+rev;objectStore.index("_doc_id_rev").get(key).onsuccess=function(e){if((doc=e.target.result)&&(doc=decodeDoc(doc)),!doc)return err=createError(MISSING_DOC,"missing"),finish();finish()}}},api._getAttachment=function(docId,attachId,attachment,opts,callback){var txn;if(opts.ctx)txn=opts.ctx;else{var txnResult=openTransactionSafely(idb,[DOC_STORE,BY_SEQ_STORE,ATTACH_STORE],"readonly");if(txnResult.error)return callback(txnResult.error);txn=txnResult.txn}var digest=attachment.digest,type=attachment.content_type;txn.objectStore(ATTACH_STORE).get(digest).onsuccess=function(e){var body=e.target.result.body;readBlobData(body,type,opts.binary,function(blobData){callback(null,blobData)})}},api._info=function(callback){var updateSeq,docCount,txnResult=openTransactionSafely(idb,[META_STORE,BY_SEQ_STORE],"readonly");if(txnResult.error)return callback(txnResult.error);var txn=txnResult.txn;txn.objectStore(META_STORE).get(META_STORE).onsuccess=function(e){docCount=e.target.result.docCount},txn.objectStore(BY_SEQ_STORE).openCursor(null,"prev").onsuccess=function(e){var cursor=e.target.result;updateSeq=cursor?cursor.key:0},txn.oncomplete=function(){callback(null,{doc_count:docCount,update_seq:updateSeq,idb_attachment_format:api._meta.blobSupport?"binary":"base64"})}},api._allDocs=function(opts,callback){idbAllDocs(opts,idb,callback)},api._changes=function(opts){return changes(opts,api,dbName,idb)},api._close=function(callback){idb.close(),cachedDBs.delete(dbName),callback()},api._getRevisionTree=function(docId,callback){var txnResult=openTransactionSafely(idb,[DOC_STORE],"readonly");if(txnResult.error)return callback(txnResult.error);var txn=txnResult.txn,req=txn.objectStore(DOC_STORE).get(docId);req.onsuccess=function(event){var doc=decodeMetadata(event.target.result);doc?callback(null,doc.rev_tree):callback(createError(MISSING_DOC))}},api._doCompaction=function(docId,revs,callback){var stores=[DOC_STORE,BY_SEQ_STORE,ATTACH_STORE,ATTACH_AND_SEQ_STORE],txnResult=openTransactionSafely(idb,stores,"readwrite");if(txnResult.error)return callback(txnResult.error);var txn=txnResult.txn,docStore=txn.objectStore(DOC_STORE);docStore.get(docId).onsuccess=function(event){var metadata=decodeMetadata(event.target.result);traverseRevTree(metadata.rev_tree,function(isLeaf,pos,revHash,ctx,opts){var rev=pos+"-"+revHash;-1!==revs.indexOf(rev)&&(opts.status="missing")}),compactRevs(revs,docId,txn);var winningRev$$1=metadata.winningRev,deleted=metadata.deleted;txn.objectStore(DOC_STORE).put(encodeMetadata(metadata,winningRev$$1,deleted))},txn.onabort=idbError(callback),txn.oncomplete=function(){callback()}},api._getLocal=function(id,callback){var txnResult=openTransactionSafely(idb,[LOCAL_STORE],"readonly");if(txnResult.error)return callback(txnResult.error);var tx=txnResult.txn,req=tx.objectStore(LOCAL_STORE).get(id);req.onerror=idbError(callback),req.onsuccess=function(e){var doc=e.target.result;doc?(delete doc._doc_id_rev,callback(null,doc)):callback(createError(MISSING_DOC))}},api._putLocal=function(doc,opts,callback){"function"==typeof opts&&(callback=opts,opts={}),delete doc._revisions;var oldRev=doc._rev,id=doc._id;doc._rev=oldRev?"0-"+(parseInt(oldRev.split("-")[1],10)+1):"0-1";var ret,tx=opts.ctx;if(!tx){var txnResult=openTransactionSafely(idb,[LOCAL_STORE],"readwrite");if(txnResult.error)return callback(txnResult.error);(tx=txnResult.txn).onerror=idbError(callback),tx.oncomplete=function(){ret&&callback(null,ret)}}var req,oStore=tx.objectStore(LOCAL_STORE);oldRev?(req=oStore.get(id)).onsuccess=function(e){var oldDoc=e.target.result;if(oldDoc&&oldDoc._rev===oldRev){var req=oStore.put(doc);req.onsuccess=function(){ret={ok:!0,id:doc._id,rev:doc._rev},opts.ctx&&callback(null,ret)}}else callback(createError(REV_CONFLICT))}:((req=oStore.add(doc)).onerror=function(e){callback(createError(REV_CONFLICT)),e.preventDefault(),e.stopPropagation()},req.onsuccess=function(){ret={ok:!0,id:doc._id,rev:doc._rev},opts.ctx&&callback(null,ret)})},api._removeLocal=function(doc,opts,callback){"function"==typeof opts&&(callback=opts,opts={});var ret,tx=opts.ctx;if(!tx){var txnResult=openTransactionSafely(idb,[LOCAL_STORE],"readwrite");if(txnResult.error)return callback(txnResult.error);(tx=txnResult.txn).oncomplete=function(){ret&&callback(null,ret)}}var id=doc._id,oStore=tx.objectStore(LOCAL_STORE),req=oStore.get(id);req.onerror=idbError(callback),req.onsuccess=function(e){var oldDoc=e.target.result;oldDoc&&oldDoc._rev===doc._rev?(oStore.delete(id),ret={ok:!0,id:id,rev:"0-0"},opts.ctx&&callback(null,ret)):callback(createError(MISSING_DOC))}},api._destroy=function(opts,callback){changesHandler.removeAllListeners(dbName);var openReq=openReqList.get(dbName);openReq&&openReq.result&&(openReq.result.close(),cachedDBs.delete(dbName));var req=indexedDB.deleteDatabase(dbName);req.onsuccess=function(){openReqList.delete(dbName),hasLocalStorage()&&dbName in localStorage&&delete localStorage[dbName],callback(null,{ok:!0})},req.onerror=idbError(callback)};var cached=cachedDBs.get(dbName);if(cached)return idb=cached.idb,api._meta=cached.global,immediate__WEBPACK_IMPORTED_MODULE_1___default()(function(){callback(null,api)});var req=indexedDB.open(dbName,ADAPTER_VERSION);openReqList.set(dbName,req),req.onupgradeneeded=function(e){var db=e.target.result;if(e.oldVersion<1)return function(db){var docStore=db.createObjectStore(DOC_STORE,{keyPath:"id"});db.createObjectStore(BY_SEQ_STORE,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),db.createObjectStore(ATTACH_STORE,{keyPath:"digest"}),db.createObjectStore(META_STORE,{keyPath:"id",autoIncrement:!1}),db.createObjectStore(DETECT_BLOB_SUPPORT_STORE),docStore.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),db.createObjectStore(LOCAL_STORE,{keyPath:"_id"});var attAndSeqStore=db.createObjectStore(ATTACH_AND_SEQ_STORE,{autoIncrement:!0});attAndSeqStore.createIndex("seq","seq"),attAndSeqStore.createIndex("digestSeq","digestSeq",{unique:!0})}(db);var txn=e.currentTarget.transaction;e.oldVersion<3&&function(db){db.createObjectStore(LOCAL_STORE,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(db),e.oldVersion<4&&function(db){var attAndSeqStore=db.createObjectStore(ATTACH_AND_SEQ_STORE,{autoIncrement:!0});attAndSeqStore.createIndex("seq","seq"),attAndSeqStore.createIndex("digestSeq","digestSeq",{unique:!0})}(db);var migrations=[addDeletedOrLocalIndex,migrateLocalStore,migrateAttsAndSeqs,migrateMetadata],i=e.oldVersion;!function next(){var migration=migrations[i-1];i++;migration&&migration(txn,next)}()},req.onsuccess=function(e){(idb=e.target.result).onversionchange=function(){idb.close(),cachedDBs.delete(dbName)},idb.onabort=function(e){guardedConsole("error","Database has a global failure",e.target.error),idb.close(),cachedDBs.delete(dbName)};var metaDoc,docCount,blobSupport,instanceId,txn=idb.transaction([META_STORE,DETECT_BLOB_SUPPORT_STORE,DOC_STORE],"readwrite"),storedMetaDoc=!1;function completeSetup(){void 0!==blobSupport&&storedMetaDoc&&(api._meta={name:dbName,instanceId:instanceId,blobSupport:blobSupport},cachedDBs.set(dbName,{idb:idb,global:api._meta}),callback(null,api))}function storeMetaDocIfReady(){if(void 0!==docCount&&void 0!==metaDoc){var instanceKey=dbName+"_id";instanceKey in metaDoc?instanceId=metaDoc[instanceKey]:metaDoc[instanceKey]=instanceId=uuid(),metaDoc.docCount=docCount,txn.objectStore(META_STORE).put(metaDoc)}}txn.objectStore(META_STORE).get(META_STORE).onsuccess=function(e){metaDoc=e.target.result||{id:META_STORE},storeMetaDocIfReady()},function(txn,cb){txn.objectStore(DOC_STORE).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){cb(e.target.result)}}(txn,function(count){docCount=count,storeMetaDocIfReady()}),blobSupportPromise||(blobSupportPromise=function(txn){return new Promise(function(resolve){var blob$$1=createBlob([""]),req=txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(blob$$1,"key");req.onsuccess=function(){var matchedChrome=navigator.userAgent.match(/Chrome\/(\d+)/),matchedEdge=navigator.userAgent.match(/Edge\//);resolve(matchedEdge||!matchedChrome||parseInt(matchedChrome[1],10)>=43)},req.onerror=txn.onabort=function(e){e.preventDefault(),e.stopPropagation(),resolve(!1)}}).catch(function(){return!1})}(txn)),blobSupportPromise.then(function(val){blobSupport=val,completeSetup()}),txn.oncomplete=function(){storedMetaDoc=!0,completeSetup()},txn.onabort=idbError(callback)},req.onerror=function(){var msg="Failed to open indexedDB, are you in private browsing mode?";guardedConsole("error",msg),callback(createError(IDB_ERROR,msg))}}(api,opts,thisCallback)},callback,api.constructor)}IdbPouch.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}};var CHANGES_BATCH_SIZE=25,MAX_SIMULTANEOUS_REVS=50,CHANGES_TIMEOUT_BUFFER=5e3,DEFAULT_HEARTBEAT=1e4,supportsBulkGetMap={};function readAttachmentsAsBlobOrBuffer(row){var atts=(row.doc||row.ok)._attachments;atts&&Object.keys(atts).forEach(function(filename){var att=atts[filename];att.data=b64ToBluffer(att.data,att.content_type)})}function encodeDocId(id){return/^_design/.test(id)?"_design/"+encodeURIComponent(id.slice(8)):/^_local/.test(id)?"_local/"+encodeURIComponent(id.slice(7)):encodeURIComponent(id)}function preprocessAttachments$1(doc){return doc._attachments&&Object.keys(doc._attachments)?Promise.all(Object.keys(doc._attachments).map(function(key){var attachment=doc._attachments[key];if(attachment.data&&"string"!=typeof attachment.data)return new Promise(function(resolve){blobToBase64(attachment.data,resolve)}).then(function(b64){attachment.data=b64})})):Promise.resolve()}function getHost(name,opts){if(function(opts){if(!opts.prefix)return!1;var protocol=parseUri(opts.prefix).protocol;return"http"===protocol||"https"===protocol}(opts)){var dbName=opts.name.substr(opts.prefix.length);name=opts.prefix.replace(/\/?$/,"/")+encodeURIComponent(dbName)}var uri=parseUri(name);(uri.user||uri.password)&&(uri.auth={username:uri.user,password:uri.password});var parts=uri.path.replace(/(^\/|\/$)/g,"").split("/");return uri.db=parts.pop(),-1===uri.db.indexOf("%")&&(uri.db=encodeURIComponent(uri.db)),uri.path=parts.join("/"),uri}function genDBUrl(opts,path){return genUrl(opts,opts.db+"/"+path)}function genUrl(opts,path){var pathDel=opts.path?"/":"";return opts.protocol+"://"+opts.host+(opts.port?":"+opts.port:"")+"/"+opts.path+pathDel+path}function paramsToStr(params){return"?"+Object.keys(params).map(function(k){return k+"="+encodeURIComponent(params[k])}).join("&")}function HttpPouch(opts,callback){var api=this,host=getHost(opts.name,opts),dbUrl=genDBUrl(host,"");opts=clone(opts);var setupPromise,ourFetch=function(url,options){if((options=options||{}).headers=options.headers||new h,opts.auth||host.auth){var nAuth=opts.auth||host.auth,str=nAuth.username+":"+nAuth.password,token=thisBtoa(unescape(encodeURIComponent(str)));options.headers.set("Authorization","Basic "+token)}var headers=opts.headers||{};return Object.keys(headers).forEach(function(key){options.headers.append(key,headers[key])}),function(opts){var ua="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",isIE=-1!==ua.indexOf("msie"),isTrident=-1!==ua.indexOf("trident"),isEdge=-1!==ua.indexOf("edge"),isGET=!("method"in opts)||"GET"===opts.method;return(isIE||isTrident||isEdge)&&isGET}(options)&&(url+=(-1===url.indexOf("?")?"?":"&")+"_nonce="+Date.now()),(opts.fetch||f$1)(url,options)};function adapterFun$$1(name,fun){return adapterFun(name,argsarray__WEBPACK_IMPORTED_MODULE_0___default()(function(args){setup().then(function(){return fun.apply(this,args)}).catch(function(e){args.pop()(e)})})).bind(api)}function fetchJSON(url,options,callback){var result={};return(options=options||{}).headers=options.headers||new h,options.headers.get("Content-Type")||options.headers.set("Content-Type","application/json"),options.headers.get("Accept")||options.headers.set("Accept","application/json"),ourFetch(url,options).then(function(response){return result.ok=response.ok,result.status=response.status,response.json()}).then(function(json){if(result.data=json,!result.ok){result.data.status=result.status;var err=generateErrorFromResponse(result.data);if(callback)return callback(err);throw err}if(Array.isArray(result.data)&&(result.data=result.data.map(function(v){return v.error||v.missing?generateErrorFromResponse(v):v})),!callback)return result;callback(null,result.data)})}function setup(){return opts.skip_setup?Promise.resolve():setupPromise||((setupPromise=fetchJSON(dbUrl).catch(function(err){return err&&err.status&&404===err.status?(explainError(404,"PouchDB is just detecting if the remote exists."),fetchJSON(dbUrl,{method:"PUT"})):Promise.reject(err)}).catch(function(err){return!(!err||!err.status||412!==err.status)||Promise.reject(err)})).catch(function(){setupPromise=null}),setupPromise)}function encodeAttachmentId(attachmentId){return attachmentId.split("/").map(encodeURIComponent).join("/")}immediate__WEBPACK_IMPORTED_MODULE_1___default()(function(){callback(null,api)}),api._remote=!0,api.type=function(){return"http"},api.id=adapterFun$$1("id",function(callback){ourFetch(genUrl(host,"")).then(function(response){return response.json()}).then(function(result){var uuid$$1=result&&result.uuid?result.uuid+host.db:genDBUrl(host,"");callback(null,uuid$$1)}).catch(function(err){callback(err)})}),api.compact=adapterFun$$1("compact",function(opts,callback){"function"==typeof opts&&(callback=opts,opts={}),opts=clone(opts),fetchJSON(genDBUrl(host,"_compact"),{method:"POST"}).then(function(){!function ping(){api.info(function(err,res){res&&!res.compact_running?callback(null,{ok:!0}):setTimeout(ping,opts.interval||200)})}()})}),api.bulkGet=adapterFun("bulkGet",function(opts,callback){var self=this;function doBulkGet(cb){var params={};opts.revs&&(params.revs=!0),opts.attachments&&(params.attachments=!0),opts.latest&&(params.latest=!0),fetchJSON(genDBUrl(host,"_bulk_get"+paramsToStr(params)),{method:"POST",body:JSON.stringify({docs:opts.docs})}).then(function(result){opts.attachments&&opts.binary&&result.data.results.forEach(function(res){res.docs.forEach(readAttachmentsAsBlobOrBuffer)}),cb(null,result.data)}).catch(cb)}function doBulkGetShim(){var batchSize=MAX_SIMULTANEOUS_REVS,numBatches=Math.ceil(opts.docs.length/batchSize),numDone=0,results=new Array(numBatches);function onResult(batchNum){return function(err,res){results[batchNum]=res.results,++numDone===numBatches&&callback(null,{results:flatten(results)})}}for(var i=0;i<numBatches;i++){var subOpts=pick(opts,["revs","attachments","binary","latest"]);subOpts.docs=opts.docs.slice(i*batchSize,Math.min(opts.docs.length,(i+1)*batchSize)),bulkGet(self,subOpts,onResult(i))}}var dbUrl=genUrl(host,""),supportsBulkGet=supportsBulkGetMap[dbUrl];"boolean"!=typeof supportsBulkGet?doBulkGet(function(err,res){err?(supportsBulkGetMap[dbUrl]=!1,explainError(err.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),doBulkGetShim()):(supportsBulkGetMap[dbUrl]=!0,callback(null,res))}):supportsBulkGet?doBulkGet(callback):doBulkGetShim()}),api._info=function(callback){setup().then(function(){return ourFetch(genDBUrl(host,""))}).then(function(response){return response.json()}).then(function(info){info.host=genDBUrl(host,""),callback(null,info)}).catch(callback)},api.fetch=function(path,options){return setup().then(function(){return ourFetch(genDBUrl(host,path),options)})},api.get=adapterFun$$1("get",function(id,opts,callback){"function"==typeof opts&&(callback=opts,opts={});var params={};function fetchAttachments(doc){var atts=doc._attachments,filenames=atts&&Object.keys(atts);if(atts&&filenames.length)return function(promiseFactories,limit){return new Promise(function(resolve,reject){var err,running=0,current=0,done=0,len=promiseFactories.length;function doNext(){++done===len?err?reject(err):resolve():runNextBatch()}function onSuccess(){running--,doNext()}function onError(thisErr){running--,err=err||thisErr,doNext()}function runNextBatch(){for(;running<limit&&current<len;)running++,promiseFactories[current++]().then(onSuccess,onError)}runNextBatch()})}(filenames.map(function(filename){return function(){return function(filename){var att=atts[filename],path=encodeDocId(doc._id)+"/"+encodeAttachmentId(filename)+"?rev="+doc._rev;return ourFetch(genDBUrl(host,path)).then(function(response){return"undefined"==typeof process||process.browser?response.blob():response.buffer()}).then(function(blob){return opts.binary?("undefined"==typeof process||process.browser||(blob.type=att.content_type),blob):new Promise(function(resolve){blobToBase64(blob,resolve)})}).then(function(data){delete att.stub,delete att.length,att.data=data})}(filename)}}),5)}(opts=clone(opts)).revs&&(params.revs=!0),opts.revs_info&&(params.revs_info=!0),opts.latest&&(params.latest=!0),opts.open_revs&&("all"!==opts.open_revs&&(opts.open_revs=JSON.stringify(opts.open_revs)),params.open_revs=opts.open_revs),opts.rev&&(params.rev=opts.rev),opts.conflicts&&(params.conflicts=opts.conflicts),opts.update_seq&&(params.update_seq=opts.update_seq),id=encodeDocId(id),fetchJSON(genDBUrl(host,id+paramsToStr(params))).then(function(res){return Promise.resolve().then(function(){if(opts.attachments)return docOrDocs=res.data,Array.isArray(docOrDocs)?Promise.all(docOrDocs.map(function(doc){if(doc.ok)return fetchAttachments(doc.ok)})):fetchAttachments(docOrDocs);var docOrDocs}).then(function(){callback(null,res.data)})}).catch(function(e){e.docId=id,callback(e)})}),api.remove=adapterFun$$1("remove",function(docOrId,optsOrRev,opts,cb){var doc;"string"==typeof optsOrRev?(doc={_id:docOrId,_rev:optsOrRev},"function"==typeof opts&&(cb=opts,opts={})):(doc=docOrId,"function"==typeof optsOrRev?(cb=optsOrRev,opts={}):(cb=opts,opts=optsOrRev));var rev=doc._rev||opts.rev;fetchJSON(genDBUrl(host,encodeDocId(doc._id))+"?rev="+rev,{method:"DELETE"},cb).catch(cb)}),api.getAttachment=adapterFun$$1("getAttachment",function(docId,attachmentId,opts,callback){"function"==typeof opts&&(callback=opts,opts={});var contentType,params=opts.rev?"?rev="+opts.rev:"",url=genDBUrl(host,encodeDocId(docId))+"/"+encodeAttachmentId(attachmentId)+params;ourFetch(url,{method:"GET"}).then(function(response){if(contentType=response.headers.get("content-type"),response.ok)return"undefined"==typeof process||process.browser?response.blob():response.buffer();throw response}).then(function(blob){"undefined"==typeof process||process.browser||(blob.type=contentType),callback(null,blob)}).catch(function(err){callback(err)})}),api.removeAttachment=adapterFun$$1("removeAttachment",function(docId,attachmentId,rev,callback){fetchJSON(genDBUrl(host,encodeDocId(docId)+"/"+encodeAttachmentId(attachmentId))+"?rev="+rev,{method:"DELETE"},callback).catch(callback)}),api.putAttachment=adapterFun$$1("putAttachment",function(docId,attachmentId,rev,blob,type,callback){"function"==typeof type&&(callback=type,type=blob,blob=rev,rev=null);var id=encodeDocId(docId)+"/"+encodeAttachmentId(attachmentId),url=genDBUrl(host,id);if(rev&&(url+="?rev="+rev),"string"==typeof blob){var binary;try{binary=thisAtob(blob)}catch(err){return callback(createError(BAD_ARG,"Attachment is not a valid base64 string"))}blob=binary?binStringToBluffer(binary,type):""}fetchJSON(url,{headers:new h({"Content-Type":type}),method:"PUT",body:blob},callback).catch(callback)}),api._bulkDocs=function(req,opts,callback){req.new_edits=opts.new_edits,setup().then(function(){return Promise.all(req.docs.map(preprocessAttachments$1))}).then(function(){return fetchJSON(genDBUrl(host,"_bulk_docs"),{method:"POST",body:JSON.stringify(req)},callback)}).catch(callback)},api._put=function(doc,opts,callback){setup().then(function(){return preprocessAttachments$1(doc)}).then(function(){return fetchJSON(genDBUrl(host,encodeDocId(doc._id)),{method:"PUT",body:JSON.stringify(doc)})}).then(function(result){callback(null,result.data)}).catch(function(err){err.docId=doc&&doc._id,callback(err)})},api.allDocs=adapterFun$$1("allDocs",function(opts,callback){"function"==typeof opts&&(callback=opts,opts={});var body,params={},method="GET";(opts=clone(opts)).conflicts&&(params.conflicts=!0),opts.update_seq&&(params.update_seq=!0),opts.descending&&(params.descending=!0),opts.include_docs&&(params.include_docs=!0),opts.attachments&&(params.attachments=!0),opts.key&&(params.key=JSON.stringify(opts.key)),opts.start_key&&(opts.startkey=opts.start_key),opts.startkey&&(params.startkey=JSON.stringify(opts.startkey)),opts.end_key&&(opts.endkey=opts.end_key),opts.endkey&&(params.endkey=JSON.stringify(opts.endkey)),void 0!==opts.inclusive_end&&(params.inclusive_end=!!opts.inclusive_end),void 0!==opts.limit&&(params.limit=opts.limit),void 0!==opts.skip&&(params.skip=opts.skip);var paramStr=paramsToStr(params);void 0!==opts.keys&&(method="POST",body={keys:opts.keys}),fetchJSON(genDBUrl(host,"_all_docs"+paramStr),{method:method,body:JSON.stringify(body)}).then(function(result){opts.include_docs&&opts.attachments&&opts.binary&&result.data.rows.forEach(readAttachmentsAsBlobOrBuffer),callback(null,result.data)}).catch(callback)}),api._changes=function(opts){var batchSize="batch_size"in opts?opts.batch_size:CHANGES_BATCH_SIZE;!(opts=clone(opts)).continuous||"heartbeat"in opts||(opts.heartbeat=DEFAULT_HEARTBEAT);var requestTimeout="timeout"in opts?opts.timeout:3e4;"timeout"in opts&&opts.timeout&&requestTimeout-opts.timeout<CHANGES_TIMEOUT_BUFFER&&(requestTimeout=opts.timeout+CHANGES_TIMEOUT_BUFFER),"heartbeat"in opts&&opts.heartbeat&&requestTimeout-opts.heartbeat<CHANGES_TIMEOUT_BUFFER&&(requestTimeout=opts.heartbeat+CHANGES_TIMEOUT_BUFFER);var params={};"timeout"in opts&&opts.timeout&&(params.timeout=opts.timeout);var limit=void 0!==opts.limit&&opts.limit,leftToFetch=limit;if(opts.style&&(params.style=opts.style),(opts.include_docs||opts.filter&&"function"==typeof opts.filter)&&(params.include_docs=!0),opts.attachments&&(params.attachments=!0),opts.continuous&&(params.feed="longpoll"),opts.seq_interval&&(params.seq_interval=opts.seq_interval),opts.conflicts&&(params.conflicts=!0),opts.descending&&(params.descending=!0),opts.update_seq&&(params.update_seq=!0),"heartbeat"in opts&&opts.heartbeat&&(params.heartbeat=opts.heartbeat),opts.filter&&"string"==typeof opts.filter&&(params.filter=opts.filter),opts.view&&"string"==typeof opts.view&&(params.filter="_view",params.view=opts.view),opts.query_params&&"object"==typeof opts.query_params)for(var param_name in opts.query_params)opts.query_params.hasOwnProperty(param_name)&&(params[param_name]=opts.query_params[param_name]);var body,method="GET";opts.doc_ids?(params.filter="_doc_ids",method="POST",body={doc_ids:opts.doc_ids}):opts.selector&&(params.filter="_selector",method="POST",body={selector:opts.selector});var lastFetchedSeq,controller=new a,fetchData=function(since,callback){if(!opts.aborted){params.since=since,"object"==typeof params.since&&(params.since=JSON.stringify(params.since)),opts.descending?limit&&(params.limit=leftToFetch):params.limit=!limit||leftToFetch>batchSize?batchSize:leftToFetch;var url=genDBUrl(host,"_changes"+paramsToStr(params)),fetchOpts={signal:controller.signal,method:method,body:JSON.stringify(body)};lastFetchedSeq=since,opts.aborted||setup().then(function(){return fetchJSON(url,fetchOpts,callback)}).catch(callback)}},results={results:[]},fetched=function(err,res){if(!opts.aborted){var raw_results_length=0;if(res&&res.results){raw_results_length=res.results.length,results.last_seq=res.last_seq;var pending=null,lastSeq=null;"number"==typeof res.pending&&(pending=res.pending),"string"!=typeof results.last_seq&&"number"!=typeof results.last_seq||(lastSeq=results.last_seq);opts.query_params,res.results=res.results.filter(function(c){leftToFetch--;var ret=filterChange(opts)(c);return ret&&(opts.include_docs&&opts.attachments&&opts.binary&&readAttachmentsAsBlobOrBuffer(c),opts.return_docs&&results.results.push(c),opts.onChange(c,pending,lastSeq)),ret})}else if(err)return opts.aborted=!0,void opts.complete(err);res&&res.last_seq&&(lastFetchedSeq=res.last_seq);var finished=limit&&leftToFetch<=0||res&&raw_results_length<batchSize||opts.descending;(!opts.continuous||limit&&leftToFetch<=0)&&finished?opts.complete(null,results):immediate__WEBPACK_IMPORTED_MODULE_1___default()(function(){fetchData(lastFetchedSeq,fetched)})}};return fetchData(opts.since||0,fetched),{cancel:function(){opts.aborted=!0,controller.abort()}}},api.revsDiff=adapterFun$$1("revsDiff",function(req,opts,callback){"function"==typeof opts&&(callback=opts,opts={}),fetchJSON(genDBUrl(host,"_revs_diff"),{method:"POST",body:JSON.stringify(req)},callback).catch(callback)}),api._close=function(callback){callback()},api._destroy=function(options,callback){fetchJSON(genDBUrl(host,""),{method:"DELETE"}).then(function(json){callback(null,json)}).catch(function(err){404===err.status?callback(null,{ok:!0}):callback(err)})}}function QueryParseError(message){this.status=400,this.name="query_parse_error",this.message=message,this.error=!0;try{Error.captureStackTrace(this,QueryParseError)}catch(e){}}function NotFoundError(message){this.status=404,this.name="not_found",this.message=message,this.error=!0;try{Error.captureStackTrace(this,NotFoundError)}catch(e){}}function BuiltInError(message){this.status=500,this.name="invalid_value",this.message=message,this.error=!0;try{Error.captureStackTrace(this,BuiltInError)}catch(e){}}function promisedCallback(promise,callback){return callback&&promise.then(function(res){immediate__WEBPACK_IMPORTED_MODULE_1___default()(function(){callback(null,res)})},function(reason){immediate__WEBPACK_IMPORTED_MODULE_1___default()(function(){callback(reason)})}),promise}function sequentialize(queue,promiseFactory){return function(){var args=arguments,that=this;return queue.add(function(){return promiseFactory.apply(that,args)})}}function uniq(arr){var theSet=new ExportedSet(arr),result=new Array(theSet.size),index=-1;return theSet.forEach(function(value){result[++index]=value}),result}function mapToKeysArray(map){var result=new Array(map.size),index=-1;return map.forEach(function(value,key){result[++index]=key}),result}function createBuiltInError(name){return new BuiltInError("builtin "+name+" function requires map values to be numbers or number arrays")}function sum(values){for(var result=0,i=0,len=values.length;i<len;i++){var num=values[i];if("number"!=typeof num){if(!Array.isArray(num))throw createBuiltInError("_sum");result="number"==typeof result?[result]:result;for(var j=0,jLen=num.length;j<jLen;j++){var jNum=num[j];if("number"!=typeof jNum)throw createBuiltInError("_sum");void 0===result[j]?result.push(jNum):result[j]+=jNum}}else"number"==typeof result?result+=num:result[0]+=num}return result}HttpPouch.valid=function(){return!0},inherits__WEBPACK_IMPORTED_MODULE_3___default()(QueryParseError,Error),inherits__WEBPACK_IMPORTED_MODULE_3___default()(NotFoundError,Error),inherits__WEBPACK_IMPORTED_MODULE_3___default()(BuiltInError,Error);var log=guardedConsole.bind(null,"log"),isArray=Array.isArray,toJSON=JSON.parse;function evalFunctionWithEval(func,emit){return scopeEval("return ("+func.replace(/;\s*$/,"")+");",{emit:emit,sum:sum,log:log,isArray:isArray,toJSON:toJSON})}function TaskQueue$1(){this.promise=new Promise(function(fulfill){fulfill()})}function stringify(input){if(!input)return"undefined";switch(typeof input){case"function":case"string":return input.toString();default:return JSON.stringify(input)}}function createView(sourceDB,viewName,mapFun,reduceFun,temporary,localDocName){var cachedViews,viewSignature=function(mapFun,reduceFun){return stringify(mapFun)+stringify(reduceFun)+"undefined"}(mapFun,reduceFun);if(!temporary&&(cachedViews=sourceDB._cachedViews=sourceDB._cachedViews||{})[viewSignature])return cachedViews[viewSignature];var promiseForView=sourceDB.info().then(function(info){var depDbName=info.db_name+"-mrview-"+(temporary?"temp":stringMd5(viewSignature));return upsert(sourceDB,"_local/"+localDocName,function(doc){doc.views=doc.views||{};var fullViewName=viewName;-1===fullViewName.indexOf("/")&&(fullViewName=viewName+"/"+viewName);var depDbs=doc.views[fullViewName]=doc.views[fullViewName]||{};if(!depDbs[depDbName])return depDbs[depDbName]=!0,doc}).then(function(){return sourceDB.registerDependentDatabase(depDbName).then(function(res){var db=res.db;db.auto_compaction=!0;var view={name:depDbName,db:db,sourceDB:sourceDB,adapter:sourceDB.adapter,mapFun:mapFun,reduceFun:reduceFun};return view.db.get("_local/lastSeq").catch(function(err){if(404!==err.status)throw err}).then(function(lastSeqDoc){return view.seq=lastSeqDoc?lastSeqDoc.seq:0,cachedViews&&view.db.once("destroyed",function(){delete cachedViews[viewSignature]}),view})})})});return cachedViews&&(cachedViews[viewSignature]=promiseForView),promiseForView}TaskQueue$1.prototype.add=function(promiseFactory){return this.promise=this.promise.catch(function(){}).then(function(){return promiseFactory()}),this.promise},TaskQueue$1.prototype.finish=function(){return this.promise};var persistentQueues={},tempViewQueue=new TaskQueue$1,CHANGES_BATCH_SIZE$1=50;function parseViewName(name){return-1===name.indexOf("/")?[name,name]:name.split("/")}function emitError(db,e){try{db.emit("error",e)}catch(err){guardedConsole("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),guardedConsole("error",e)}}var builtInReduce={_sum:function(keys,values){return sum(values)},_count:function(keys,values){return values.length},_stats:function(keys,values){return{sum:sum(values),min:Math.min.apply(null,values),max:Math.max.apply(null,values),count:values.length,sumsqr:function(values){for(var _sumsqr=0,i=0,len=values.length;i<len;i++){var num=values[i];_sumsqr+=num*num}return _sumsqr}(values)}}};var abstract=function(localDocName,mapper,reducer,ddocValidator){function tryMap(db,fun,doc){try{fun(doc)}catch(e){emitError(db,e)}}function tryReduce(db,fun,keys,values,rereduce){try{return{output:fun(keys,values,rereduce)}}catch(e){return emitError(db,e),{error:e}}}function sortByKeyThenValue(x,y){var keyCompare=collate(x.key,y.key);return 0!==keyCompare?keyCompare:collate(x.value,y.value)}function sliceResults(results,limit,skip){return skip=skip||0,"number"==typeof limit?results.slice(skip,limit+skip):skip>0?results.slice(skip):results}function rowToDocId(row){var val=row.value;return val&&"object"==typeof val&&val._id||row.id}function postprocessAttachments(opts){return function(res){return opts.include_docs&&opts.attachments&&opts.binary&&function(res){res.rows.forEach(function(row){var atts=row.doc&&row.doc._attachments;atts&&Object.keys(atts).forEach(function(filename){var att=atts[filename];atts[filename].data=b64ToBluffer(att.data,att.content_type)})})}(res),res}}function addHttpParam(paramName,opts,params,asJson){var val=opts[paramName];void 0!==val&&(asJson&&(val=encodeURIComponent(JSON.stringify(val))),params.push(paramName+"="+val))}function coerceInteger(integerCandidate){if(void 0!==integerCandidate){var asNumber=Number(integerCandidate);return isNaN(asNumber)||asNumber!==parseInt(integerCandidate,10)?integerCandidate:asNumber}}function checkQueryParseError(options,fun){var startkeyName=options.descending?"endkey":"startkey",endkeyName=options.descending?"startkey":"endkey";if(void 0!==options[startkeyName]&&void 0!==options[endkeyName]&&collate(options[startkeyName],options[endkeyName])>0)throw new QueryParseError("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(fun.reduce&&!1!==options.reduce){if(options.include_docs)throw new QueryParseError("{include_docs:true} is invalid for reduce");if(options.keys&&options.keys.length>1&&!options.group&&!options.group_level)throw new QueryParseError("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(optionName){var error=function(number){if(number){if("number"!=typeof number)return new QueryParseError('Invalid value for integer: "'+number+'"');if(number<0)return new QueryParseError('Invalid value for positive integer: "'+number+'"')}}(options[optionName]);if(error)throw error})}function defaultsTo(value){return function(reason){if(404===reason.status)return value;throw reason}}function getDocsToPersist(docId,view,docIdsToChangesAndEmits){var metaDocId="_local/doc_"+docId,defaultMetaDoc={_id:metaDocId,keys:[]},docData=docIdsToChangesAndEmits.get(docId),indexableKeysToKeyValues=docData[0];return(function(changes){return 1===changes.length&&/^1-/.test(changes[0].rev)}(docData[1])?Promise.resolve(defaultMetaDoc):view.db.get(metaDocId).catch(defaultsTo(defaultMetaDoc))).then(function(metaDoc){return function(metaDoc){return metaDoc.keys.length?view.db.allDocs({keys:metaDoc.keys,include_docs:!0}):Promise.resolve({rows:[]})}(metaDoc).then(function(kvDocsRes){return function(metaDoc,kvDocsRes){for(var kvDocs=[],oldKeys=new ExportedSet,i=0,len=kvDocsRes.rows.length;i<len;i++){var doc=kvDocsRes.rows[i].doc;if(doc&&(kvDocs.push(doc),oldKeys.add(doc._id),doc._deleted=!indexableKeysToKeyValues.has(doc._id),!doc._deleted)){var keyValue=indexableKeysToKeyValues.get(doc._id);"value"in keyValue&&(doc.value=keyValue.value)}}var newKeys=mapToKeysArray(indexableKeysToKeyValues);return newKeys.forEach(function(key){if(!oldKeys.has(key)){var kvDoc={_id:key},keyValue=indexableKeysToKeyValues.get(key);"value"in keyValue&&(kvDoc.value=keyValue.value),kvDocs.push(kvDoc)}}),metaDoc.keys=uniq(newKeys.concat(metaDoc.keys)),kvDocs.push(metaDoc),kvDocs}(metaDoc,kvDocsRes)})})}function getQueue(view){var viewName="string"==typeof view?view:view.name,queue=persistentQueues[viewName];return queue||(queue=persistentQueues[viewName]=new TaskQueue$1),queue}function updateView(view){return sequentialize(getQueue(view),function(){return function(view){var mapResults,doc,mapFun=mapper(view.mapFun,function(key,value){var output={id:doc._id,key:normalizeKey(key)};null!=value&&(output.value=normalizeKey(value)),mapResults.push(output)}),currentSeq=view.seq||0;function processChange(docIdsToChangesAndEmits,seq){return function(){return function(view,docIdsToChangesAndEmits,seq){return view.db.get("_local/lastSeq").catch(defaultsTo({_id:"_local/lastSeq",seq:0})).then(function(lastSeqDoc){var docIds=mapToKeysArray(docIdsToChangesAndEmits);return Promise.all(docIds.map(function(docId){return getDocsToPersist(docId,view,docIdsToChangesAndEmits)})).then(function(listOfDocsToPersist){var docsToPersist=flatten(listOfDocsToPersist);return lastSeqDoc.seq=seq,docsToPersist.push(lastSeqDoc),view.db.bulkDocs({docs:docsToPersist})})})}(view,docIdsToChangesAndEmits,seq)}}var queue=new TaskQueue$1;function processNextBatch(){return view.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:currentSeq,limit:CHANGES_BATCH_SIZE$1}).then(processBatch)}function processBatch(response){var results=response.results;if(results.length){var docIdsToChangesAndEmits=function(results){for(var docIdsToChangesAndEmits=new ExportedMap,i=0,len=results.length;i<len;i++){var change=results[i];if("_"!==change.doc._id[0]){mapResults=[],(doc=change.doc)._deleted||tryMap(view.sourceDB,mapFun,doc),mapResults.sort(sortByKeyThenValue);var indexableKeysToKeyValues=createIndexableKeysToKeyValues(mapResults);docIdsToChangesAndEmits.set(change.doc._id,[indexableKeysToKeyValues,change.changes])}currentSeq=change.seq}return docIdsToChangesAndEmits}(results);if(queue.add(processChange(docIdsToChangesAndEmits,currentSeq)),!(results.length<CHANGES_BATCH_SIZE$1))return processNextBatch()}}function createIndexableKeysToKeyValues(mapResults){for(var lastKey,indexableKeysToKeyValues=new ExportedMap,i=0,len=mapResults.length;i<len;i++){var emittedKeyValue=mapResults[i],complexKey=[emittedKeyValue.key,emittedKeyValue.id];i>0&&0===collate(emittedKeyValue.key,lastKey)&&complexKey.push(i),indexableKeysToKeyValues.set(toIndexableString(complexKey),emittedKeyValue),lastKey=emittedKeyValue.key}return indexableKeysToKeyValues}return processNextBatch().then(function(){return queue.finish()}).then(function(){view.seq=currentSeq})}(view)})()}function queryView(view,opts){return sequentialize(getQueue(view),function(){return function(view,opts){var totalRows,shouldReduce=view.reduceFun&&!1!==opts.reduce,skip=opts.skip||0;function fetchFromView(viewOpts){return viewOpts.include_docs=!0,view.db.allDocs(viewOpts).then(function(res){return totalRows=res.total_rows,res.rows.map(function(result){if("value"in result.doc&&"object"==typeof result.doc.value&&null!==result.doc.value){var keys=Object.keys(result.doc.value).sort(),expectedKeys=["id","key","value"];if(!(keys<expectedKeys||keys>expectedKeys))return result.doc.value}var parsedKeyAndDocId=function(str){for(var stack=[],metaStack=[],i=0;;){var collationIndex=str[i++];if("\0"!==collationIndex)switch(collationIndex){case"1":stack.push(null);break;case"2":stack.push("1"===str[i]),i++;break;case"3":var parsedNum=parseNumber(str,i);stack.push(parsedNum.num),i+=parsedNum.length;break;case"4":for(var parsedStr="";;){var ch=str[i];if("\0"===ch)break;parsedStr+=ch,i++}parsedStr=parsedStr.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),stack.push(parsedStr);break;case"5":var arrayElement={element:[],index:stack.length};stack.push(arrayElement.element),metaStack.push(arrayElement);break;case"6":var objElement={element:{},index:stack.length};stack.push(objElement.element),metaStack.push(objElement);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+collationIndex)}else{if(1===stack.length)return stack.pop();pop(stack,metaStack)}}}(result.doc._id);return{key:parsedKeyAndDocId[0],id:parsedKeyAndDocId[1],value:"value"in result.doc?result.doc.value:null}})})}function onMapResultsReady(rows){var finalResults;if(finalResults=shouldReduce?function(view,results,options){0===options.group_level&&delete options.group_level;var shouldGroup=options.group||options.group_level,reduceFun=reducer(view.reduceFun),groups=[],lvl=isNaN(options.group_level)?Number.POSITIVE_INFINITY:options.group_level;results.forEach(function(e){var last=groups[groups.length-1],groupKey=shouldGroup?e.key:null;if(shouldGroup&&Array.isArray(groupKey)&&(groupKey=groupKey.slice(0,lvl)),last&&0===collate(last.groupKey,groupKey))return last.keys.push([e.key,e.id]),void last.values.push(e.value);groups.push({keys:[[e.key,e.id]],values:[e.value],groupKey:groupKey})}),results=[];for(var i=0,len=groups.length;i<len;i++){var e=groups[i],reduceTry=tryReduce(view.sourceDB,reduceFun,e.keys,e.values,!1);if(reduceTry.error&&reduceTry.error instanceof BuiltInError)throw reduceTry.error;results.push({value:reduceTry.error?null:reduceTry.output,key:e.groupKey})}return{rows:sliceResults(results,options.limit,options.skip)}}(view,rows,opts):{total_rows:totalRows,offset:skip,rows:rows},opts.update_seq&&(finalResults.update_seq=view.seq),opts.include_docs){var docIds=uniq(rows.map(rowToDocId));return view.sourceDB.allDocs({keys:docIds,include_docs:!0,conflicts:opts.conflicts,attachments:opts.attachments,binary:opts.binary}).then(function(allDocsRes){var docIdsToDocs=new ExportedMap;return allDocsRes.rows.forEach(function(row){docIdsToDocs.set(row.id,row.doc)}),rows.forEach(function(row){var docId=rowToDocId(row),doc=docIdsToDocs.get(docId);doc&&(row.doc=doc)}),finalResults})}return finalResults}if(void 0===opts.keys||opts.keys.length||(opts.limit=0,delete opts.keys),void 0!==opts.keys){var keys=opts.keys,fetchPromises=keys.map(function(key){var viewOpts={startkey:toIndexableString([key]),endkey:toIndexableString([key,{}])};return opts.update_seq&&(viewOpts.update_seq=!0),fetchFromView(viewOpts)});return Promise.all(fetchPromises).then(flatten).then(onMapResultsReady)}var startkey,endkey,viewOpts={descending:opts.descending};if(opts.update_seq&&(viewOpts.update_seq=!0),"start_key"in opts&&(startkey=opts.start_key),"startkey"in opts&&(startkey=opts.startkey),"end_key"in opts&&(endkey=opts.end_key),"endkey"in opts&&(endkey=opts.endkey),void 0!==startkey&&(viewOpts.startkey=opts.descending?toIndexableString([startkey,{}]):toIndexableString([startkey])),void 0!==endkey){var inclusiveEnd=!1!==opts.inclusive_end;opts.descending&&(inclusiveEnd=!inclusiveEnd),viewOpts.endkey=toIndexableString(inclusiveEnd?[endkey,{}]:[endkey])}if(void 0!==opts.key){var keyStart=toIndexableString([opts.key]),keyEnd=toIndexableString([opts.key,{}]);viewOpts.descending?(viewOpts.endkey=keyStart,viewOpts.startkey=keyEnd):(viewOpts.startkey=keyStart,viewOpts.endkey=keyEnd)}return shouldReduce||("number"==typeof opts.limit&&(viewOpts.limit=opts.limit),viewOpts.skip=skip),fetchFromView(viewOpts).then(onMapResultsReady)}(view,opts)})()}function queryPromised(db,fun,opts){if("function"==typeof db._query)return function(db,fun,opts){return new Promise(function(resolve,reject){db._query(fun,opts,function(err,res){if(err)return reject(err);resolve(res)})})}(db,fun,opts);if(isRemote(db))return function(db,fun,opts){var body,ok,status,params=[],method="GET";if(addHttpParam("reduce",opts,params),addHttpParam("include_docs",opts,params),addHttpParam("attachments",opts,params),addHttpParam("limit",opts,params),addHttpParam("descending",opts,params),addHttpParam("group",opts,params),addHttpParam("group_level",opts,params),addHttpParam("skip",opts,params),addHttpParam("stale",opts,params),addHttpParam("conflicts",opts,params),addHttpParam("startkey",opts,params,!0),addHttpParam("start_key",opts,params,!0),addHttpParam("endkey",opts,params,!0),addHttpParam("end_key",opts,params,!0),addHttpParam("inclusive_end",opts,params),addHttpParam("key",opts,params,!0),addHttpParam("update_seq",opts,params),params=""===(params=params.join("&"))?"":"?"+params,void 0!==opts.keys){var keysAsString="keys="+encodeURIComponent(JSON.stringify(opts.keys));keysAsString.length+params.length+1<=2e3?params+=("?"===params[0]?"&":"?")+keysAsString:(method="POST","string"==typeof fun?body={keys:opts.keys}:fun.keys=opts.keys)}if("string"==typeof fun){var parts=parseViewName(fun);return db.fetch("_design/"+parts[0]+"/_view/"+parts[1]+params,{headers:new h({"Content-Type":"application/json"}),method:method,body:JSON.stringify(body)}).then(function(response){return ok=response.ok,status=response.status,response.json()}).then(function(result){if(!ok)throw result.status=status,generateErrorFromResponse(result);return result.rows.forEach(function(row){if(row.value&&row.value.error&&"builtin_reduce_error"===row.value.error)throw new Error(row.reason)}),result}).then(postprocessAttachments(opts))}return body=body||{},Object.keys(fun).forEach(function(key){Array.isArray(fun[key])?body[key]=fun[key]:body[key]=fun[key].toString()}),db.fetch("_temp_view"+params,{headers:new h({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(body)}).then(function(response){return ok=response.ok,status=response.status,response.json()}).then(function(result){if(!ok)throw result.status=status,generateErrorFromResponse(result);return result}).then(postprocessAttachments(opts))}(db,fun,opts);if("string"!=typeof fun)return checkQueryParseError(opts,fun),tempViewQueue.add(function(){return createView(db,"temp_view/temp_view",fun.map,fun.reduce,!0,localDocName).then(function(view){return promise=updateView(view).then(function(){return queryView(view,opts)}),finalPromiseFactory=function(){return view.db.destroy()},promise.then(function(res){return finalPromiseFactory().then(function(){return res})},function(reason){return finalPromiseFactory().then(function(){throw reason})});var promise,finalPromiseFactory})}),tempViewQueue.finish();var fullViewName=fun,parts=parseViewName(fullViewName),designDocName=parts[0],viewName=parts[1];return db.get("_design/"+designDocName).then(function(doc){var fun=doc.views&&doc.views[viewName];if(!fun)throw new NotFoundError("ddoc "+doc._id+" has no view named "+viewName);return ddocValidator(doc,viewName),checkQueryParseError(opts,fun),createView(db,fullViewName,fun.map,fun.reduce,!1,localDocName).then(function(view){return"ok"===opts.stale||"update_after"===opts.stale?("update_after"===opts.stale&&immediate__WEBPACK_IMPORTED_MODULE_1___default()(function(){updateView(view)}),queryView(view,opts)):updateView(view).then(function(){return queryView(view,opts)})})})}var fun;return{query:function(fun,opts,callback){var db=this;"function"==typeof opts&&(callback=opts,opts={}),opts=opts?function(opts){return opts.group_level=coerceInteger(opts.group_level),opts.limit=coerceInteger(opts.limit),opts.skip=coerceInteger(opts.skip),opts}(opts):{},"function"==typeof fun&&(fun={map:fun});var promise=Promise.resolve().then(function(){return queryPromised(db,fun,opts)});return promisedCallback(promise,callback),promise},viewCleanup:(fun=function(){var db=this;return"function"==typeof db._viewCleanup?function(db){return new Promise(function(resolve,reject){db._viewCleanup(function(err,res){if(err)return reject(err);resolve(res)})})}(db):isRemote(db)?function(db){return db.fetch("_view_cleanup",{headers:new h({"Content-Type":"application/json"}),method:"POST"}).then(function(response){return response.json()})}(db):function(db){return db.get("_local/"+localDocName).then(function(metaDoc){var docsToViews=new ExportedMap;Object.keys(metaDoc.views).forEach(function(fullViewName){var parts=parseViewName(fullViewName),designDocName="_design/"+parts[0],viewName=parts[1],views=docsToViews.get(designDocName);views||(views=new ExportedSet,docsToViews.set(designDocName,views)),views.add(viewName)});var opts={keys:mapToKeysArray(docsToViews),include_docs:!0};return db.allDocs(opts).then(function(res){var viewsToStatus={};res.rows.forEach(function(row){var ddocName=row.key.substring(8);docsToViews.get(row.key).forEach(function(viewName){var fullViewName=ddocName+"/"+viewName;metaDoc.views[fullViewName]||(fullViewName=viewName);var viewDBNames=Object.keys(metaDoc.views[fullViewName]),statusIsGood=row.doc&&row.doc.views&&row.doc.views[viewName];viewDBNames.forEach(function(viewDBName){viewsToStatus[viewDBName]=viewsToStatus[viewDBName]||statusIsGood})})});var destroyPromises=Object.keys(viewsToStatus).filter(function(viewDBName){return!viewsToStatus[viewDBName]}).map(function(viewDBName){return sequentialize(getQueue(viewDBName),function(){return new db.constructor(viewDBName,db.__opts).destroy()})()});return Promise.all(destroyPromises).then(function(){return{ok:!0}})})},defaultsTo({ok:!0}))}(db)},argsarray__WEBPACK_IMPORTED_MODULE_0___default()(function(args){var cb=args.pop(),promise=fun.apply(this,args);return"function"==typeof cb&&promisedCallback(promise,cb),promise}))}}("mrviews",function(mapFun,emit){if("function"==typeof mapFun&&2===mapFun.length){var origMap=mapFun;return function(doc){return origMap(doc,emit)}}return evalFunctionWithEval(mapFun.toString(),emit)},function(reduceFun){var reduceFunString=reduceFun.toString(),builtIn=function(reduceFunString){if(/^_sum/.test(reduceFunString))return builtInReduce._sum;if(/^_count/.test(reduceFunString))return builtInReduce._count;if(/^_stats/.test(reduceFunString))return builtInReduce._stats;if(/^_/.test(reduceFunString))throw new Error(reduceFunString+" is not a supported reduce function.")}(reduceFunString);return builtIn||evalFunctionWithEval(reduceFunString)},function(ddoc,viewName){var fun=ddoc.views&&ddoc.views[viewName];if("string"!=typeof fun.map)throw new NotFoundError("ddoc "+ddoc._id+" has no string view named "+viewName+", instead found object of type: "+typeof fun.map)});var mapreduce={query:function(fun,opts,callback){return abstract.query.call(this,fun,opts,callback)},viewCleanup:function(callback){return abstract.viewCleanup.call(this,callback)}};function isGenOne$1(rev){return/^1-/.test(rev)}function getDocAttachments(db,doc){var filenames=Object.keys(doc._attachments);return Promise.all(filenames.map(function(filename){return db.getAttachment(doc._id,filename,{rev:doc._rev})}))}function getDocs(src,target,diffs,state){diffs=clone(diffs);var resultDocs=[],ok=!0;function fetchRevisionOneDocs(ids){return src.allDocs({keys:ids,include_docs:!0,conflicts:!0}).then(function(res){if(state.cancelled)throw new Error("cancelled");res.rows.forEach(function(row){var doc;row.deleted||!row.doc||!isGenOne$1(row.value.rev)||(doc=row.doc,doc._attachments&&Object.keys(doc._attachments).length>0)||function(doc){return doc._conflicts&&doc._conflicts.length>0}(row.doc)||(row.doc._conflicts&&delete row.doc._conflicts,resultDocs.push(row.doc),delete diffs[row.id])})})}return Promise.resolve().then(function(){var ids=Object.keys(diffs).filter(function(id){var missing=diffs[id].missing;return 1===missing.length&&isGenOne$1(missing[0])});if(ids.length>0)return fetchRevisionOneDocs(ids)}).then(function(){var bulkGetOpts=function(diffs){var requests=[];return Object.keys(diffs).forEach(function(id){diffs[id].missing.forEach(function(missingRev){requests.push({id:id,rev:missingRev})})}),{docs:requests,revs:!0,latest:!0}}(diffs);if(bulkGetOpts.docs.length)return src.bulkGet(bulkGetOpts).then(function(bulkGetResponse){if(state.cancelled)throw new Error("cancelled");return Promise.all(bulkGetResponse.results.map(function(bulkGetInfo){return Promise.all(bulkGetInfo.docs.map(function(doc){var remoteDoc=doc.ok;return doc.error&&(ok=!1),remoteDoc&&remoteDoc._attachments?function(target,src,doc){var doCheckForLocalAttachments=isRemote(src)&&!isRemote(target),filenames=Object.keys(doc._attachments);return doCheckForLocalAttachments?target.get(doc._id).then(function(localDoc){return Promise.all(filenames.map(function(filename){return function(localDoc,remoteDoc,filename){return!localDoc._attachments||!localDoc._attachments[filename]||localDoc._attachments[filename].digest!==remoteDoc._attachments[filename].digest}(localDoc,doc,filename)?src.getAttachment(doc._id,filename):target.getAttachment(localDoc._id,filename)}))}).catch(function(error){if(404!==error.status)throw error;return getDocAttachments(src,doc)}):getDocAttachments(src,doc)}(target,src,remoteDoc).then(function(attachments){var filenames=Object.keys(remoteDoc._attachments);return attachments.forEach(function(attachment,i){var att=remoteDoc._attachments[filenames[i]];delete att.stub,delete att.length,att.data=attachment}),remoteDoc}):remoteDoc}))})).then(function(results){resultDocs=resultDocs.concat(flatten(results).filter(Boolean))})})}).then(function(){return{ok:ok,docs:resultDocs}})}var CHECKPOINT_VERSION=1,REPLICATOR="pouchdb",CHECKPOINT_HISTORY_SIZE=5,LOWEST_SEQ=0;function updateCheckpoint(db,id,checkpoint,session,returnValue){return db.get(id).catch(function(err){if(404===err.status)return"http"!==db.adapter&&"https"!==db.adapter||explainError(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:session,_id:id,history:[],replicator:REPLICATOR,version:CHECKPOINT_VERSION};throw err}).then(function(doc){if(!returnValue.cancelled&&doc.last_seq!==checkpoint)return doc.history=(doc.history||[]).filter(function(item){return item.session_id!==session}),doc.history.unshift({last_seq:checkpoint,session_id:session}),doc.history=doc.history.slice(0,CHECKPOINT_HISTORY_SIZE),doc.version=CHECKPOINT_VERSION,doc.replicator=REPLICATOR,doc.session_id=session,doc.last_seq=checkpoint,db.put(doc).catch(function(err){if(409===err.status)return updateCheckpoint(db,id,checkpoint,session,returnValue);throw err})})}function Checkpointer(src,target,id,returnValue,opts){this.src=src,this.target=target,this.id=id,this.returnValue=returnValue,this.opts=opts||{}}Checkpointer.prototype.writeCheckpoint=function(checkpoint,session){var self=this;return this.updateTarget(checkpoint,session).then(function(){return self.updateSource(checkpoint,session)})},Checkpointer.prototype.updateTarget=function(checkpoint,session){return this.opts.writeTargetCheckpoint?updateCheckpoint(this.target,this.id,checkpoint,session,this.returnValue):Promise.resolve(!0)},Checkpointer.prototype.updateSource=function(checkpoint,session){if(this.opts.writeSourceCheckpoint){var self=this;return updateCheckpoint(this.src,this.id,checkpoint,session,this.returnValue).catch(function(err){if(isForbiddenError(err))return self.opts.writeSourceCheckpoint=!1,!0;throw err})}return Promise.resolve(!0)};var comparisons={undefined:function(targetDoc,sourceDoc){return 0===collate(targetDoc.last_seq,sourceDoc.last_seq)?sourceDoc.last_seq:0},1:function(targetDoc,sourceDoc){return function(srcDoc,tgtDoc){if(srcDoc.session_id===tgtDoc.session_id)return{last_seq:srcDoc.last_seq,history:srcDoc.history};return function compareReplicationHistory(sourceHistory,targetHistory){var S=sourceHistory[0];var sourceRest=sourceHistory.slice(1);var T=targetHistory[0];var targetRest=targetHistory.slice(1);if(!S||0===targetHistory.length)return{last_seq:LOWEST_SEQ,history:[]};var sourceId=S.session_id;if(hasSessionId(sourceId,targetHistory))return{last_seq:S.last_seq,history:sourceHistory};var targetId=T.session_id;if(hasSessionId(targetId,sourceRest))return{last_seq:T.last_seq,history:targetRest};return compareReplicationHistory(sourceRest,targetRest)}(srcDoc.history,tgtDoc.history)}(sourceDoc,targetDoc).last_seq}};function hasSessionId(sessionId,history){var props=history[0],rest=history.slice(1);return!(!sessionId||0===history.length)&&(sessionId===props.session_id||hasSessionId(sessionId,rest))}function isForbiddenError(err){return"number"==typeof err.status&&4===Math.floor(err.status/100)}Checkpointer.prototype.getCheckpoint=function(){var self=this;return self.opts&&self.opts.writeSourceCheckpoint&&!self.opts.writeTargetCheckpoint?self.src.get(self.id).then(function(sourceDoc){return sourceDoc.last_seq||LOWEST_SEQ}).catch(function(err){if(404!==err.status)throw err;return LOWEST_SEQ}):self.target.get(self.id).then(function(targetDoc){return self.opts&&self.opts.writeTargetCheckpoint&&!self.opts.writeSourceCheckpoint?targetDoc.last_seq||LOWEST_SEQ:self.src.get(self.id).then(function(sourceDoc){return targetDoc.version!==sourceDoc.version?LOWEST_SEQ:(version=targetDoc.version?targetDoc.version.toString():"undefined")in comparisons?comparisons[version](targetDoc,sourceDoc):LOWEST_SEQ;var version},function(err){if(404===err.status&&targetDoc.last_seq)return self.src.put({_id:self.id,last_seq:LOWEST_SEQ}).then(function(){return LOWEST_SEQ},function(err){return isForbiddenError(err)?(self.opts.writeSourceCheckpoint=!1,targetDoc.last_seq):LOWEST_SEQ});throw err})}).catch(function(err){if(404!==err.status)throw err;return LOWEST_SEQ})};var STARTING_BACK_OFF=0;function generateReplicationId(src,target,opts){var docIds=opts.doc_ids?opts.doc_ids.sort(collate):"",filterFun=opts.filter?opts.filter.toString():"",queryParams="",filterViewName="",selector="";return opts.selector&&(selector=JSON.stringify(opts.selector)),opts.filter&&opts.query_params&&(queryParams=JSON.stringify(function(queryParams){return Object.keys(queryParams).sort(collate).reduce(function(result,key){return result[key]=queryParams[key],result},{})}(opts.query_params))),opts.filter&&"_view"===opts.filter&&(filterViewName=opts.view.toString()),Promise.all([src.id(),target.id()]).then(function(res){var queryData=res[0]+res[1]+filterFun+filterViewName+queryParams+docIds+selector;return new Promise(function(resolve){binaryMd5(queryData,resolve)})}).then(function(md5sum){return"_local/"+(md5sum=md5sum.replace(/\//g,".").replace(/\+/g,"_"))})}function replicate(src,target,opts,returnValue,result){var currentBatch,repId,checkpointer,batches=[],pendingBatch={seq:0,changes:[],docs:[]},writingCheckpoint=!1,changesCompleted=!1,replicationCompleted=!1,last_seq=0,continuous=opts.continuous||opts.live||!1,batch_size=opts.batch_size||100,batches_limit=opts.batches_limit||10,changesPending=!1,doc_ids=opts.doc_ids,selector=opts.selector,changedDocs=[],session=uuid();result=result||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var changesOpts={};function initCheckpointer(){return checkpointer?Promise.resolve():generateReplicationId(src,target,opts).then(function(res){repId=res;var checkpointOpts={};checkpointOpts=!1===opts.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===opts.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===opts.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},checkpointer=new Checkpointer(src,target,repId,returnValue,checkpointOpts)})}function writeDocs(){if(changedDocs=[],0!==currentBatch.docs.length){var docs=currentBatch.docs,bulkOpts={timeout:opts.timeout};return target.bulkDocs({docs:docs,new_edits:!1},bulkOpts).then(function(res){if(returnValue.cancelled)throw completeReplication(),new Error("cancelled");var errorsById=Object.create(null);res.forEach(function(res){res.error&&(errorsById[res.id]=res)});var errorsNo=Object.keys(errorsById).length;result.doc_write_failures+=errorsNo,result.docs_written+=docs.length-errorsNo,docs.forEach(function(doc){var error=errorsById[doc._id];if(error){result.errors.push(error);var errorName=(error.name||"").toLowerCase();if("unauthorized"!==errorName&&"forbidden"!==errorName)throw error;returnValue.emit("denied",clone(error))}else changedDocs.push(doc)})},function(err){throw result.doc_write_failures+=docs.length,err})}}function finishBatch(){if(currentBatch.error)throw new Error("There was a problem getting docs.");result.last_seq=last_seq=currentBatch.seq;var outResult=clone(result);return changedDocs.length&&(outResult.docs=changedDocs,"number"==typeof currentBatch.pending&&(outResult.pending=currentBatch.pending,delete currentBatch.pending),returnValue.emit("change",outResult)),writingCheckpoint=!0,checkpointer.writeCheckpoint(currentBatch.seq,session).then(function(){if(writingCheckpoint=!1,returnValue.cancelled)throw completeReplication(),new Error("cancelled");currentBatch=void 0,getChanges()}).catch(function(err){throw onCheckpointError(err),err})}function getBatchDocs(){return getDocs(src,target,currentBatch.diffs,returnValue).then(function(got){currentBatch.error=!got.ok,got.docs.forEach(function(doc){delete currentBatch.diffs[doc._id],result.docs_read++,currentBatch.docs.push(doc)})})}function startNextBatch(){var diff;returnValue.cancelled||currentBatch||(0!==batches.length?(currentBatch=batches.shift(),(diff={},currentBatch.changes.forEach(function(change){"_user/"!==change.id&&(diff[change.id]=change.changes.map(function(x){return x.rev}))}),target.revsDiff(diff).then(function(diffs){if(returnValue.cancelled)throw completeReplication(),new Error("cancelled");currentBatch.diffs=diffs})).then(getBatchDocs).then(writeDocs).then(finishBatch).then(startNextBatch).catch(function(err){abortReplication("batch processing terminated with error",err)})):processPendingBatch(!0))}function processPendingBatch(immediate){0!==pendingBatch.changes.length?(immediate||changesCompleted||pendingBatch.changes.length>=batch_size)&&(batches.push(pendingBatch),pendingBatch={seq:0,changes:[],docs:[]},"pending"!==returnValue.state&&"stopped"!==returnValue.state||(returnValue.state="active",returnValue.emit("active")),startNextBatch()):0!==batches.length||currentBatch||((continuous&&changesOpts.live||changesCompleted)&&(returnValue.state="pending",returnValue.emit("paused")),changesCompleted&&completeReplication())}function abortReplication(reason,err){replicationCompleted||(err.message||(err.message=reason),result.ok=!1,result.status="aborting",batches=[],pendingBatch={seq:0,changes:[],docs:[]},completeReplication(err))}function completeReplication(fatalError){if(!(replicationCompleted||returnValue.cancelled&&(result.status="cancelled",writingCheckpoint)))if(result.status=result.status||"complete",result.end_time=(new Date).toISOString(),result.last_seq=last_seq,replicationCompleted=!0,fatalError){(fatalError=createError(fatalError)).result=result;var errorName=(fatalError.name||"").toLowerCase();"unauthorized"===errorName||"forbidden"===errorName?(returnValue.emit("error",fatalError),returnValue.removeAllListeners()):function(opts,returnValue,error,callback){if(!1===opts.retry)return returnValue.emit("error",error),void returnValue.removeAllListeners();if("function"!=typeof opts.back_off_function&&(opts.back_off_function=defaultBackOff),returnValue.emit("requestError",error),"active"===returnValue.state||"pending"===returnValue.state){returnValue.emit("paused",error),returnValue.state="stopped";var backOffSet=function(){opts.current_back_off=STARTING_BACK_OFF};returnValue.once("paused",function(){returnValue.removeListener("active",backOffSet)}),returnValue.once("active",backOffSet)}opts.current_back_off=opts.current_back_off||STARTING_BACK_OFF,opts.current_back_off=opts.back_off_function(opts.current_back_off),setTimeout(callback,opts.current_back_off)}(opts,returnValue,fatalError,function(){replicate(src,target,opts,returnValue)})}else returnValue.emit("complete",result),returnValue.removeAllListeners()}function onChange(change,pending,lastSeq){if(returnValue.cancelled)return completeReplication();"number"==typeof pending&&(pendingBatch.pending=pending),filterChange(opts)(change)&&(pendingBatch.seq=change.seq||lastSeq,pendingBatch.changes.push(change),immediate__WEBPACK_IMPORTED_MODULE_1___default()(function(){processPendingBatch(0===batches.length&&changesOpts.live)}))}function onChangesComplete(changes){if(changesPending=!1,returnValue.cancelled)return completeReplication();if(changes.results.length>0)changesOpts.since=changes.results[changes.results.length-1].seq,getChanges(),processPendingBatch(!0);else{var complete=function(){continuous?(changesOpts.live=!0,getChanges()):changesCompleted=!0,processPendingBatch(!0)};currentBatch||0!==changes.results.length?complete():(writingCheckpoint=!0,checkpointer.writeCheckpoint(changes.last_seq,session).then(function(){writingCheckpoint=!1,result.last_seq=last_seq=changes.last_seq,complete()}).catch(onCheckpointError))}}function onChangesError(err){if(changesPending=!1,returnValue.cancelled)return completeReplication();abortReplication("changes rejected",err)}function getChanges(){if(!changesPending&&!changesCompleted&&batches.length<batches_limit){changesPending=!0,returnValue._changes&&(returnValue.removeListener("cancel",returnValue._abortChanges),returnValue._changes.cancel()),returnValue.once("cancel",abortChanges);var changes=src.changes(changesOpts).on("change",onChange);changes.then(removeListener,removeListener),changes.then(onChangesComplete).catch(onChangesError),opts.retry&&(returnValue._changes=changes,returnValue._abortChanges=abortChanges)}function abortChanges(){changes.cancel()}function removeListener(){returnValue.removeListener("cancel",abortChanges)}}function startChanges(){initCheckpointer().then(function(){if(!returnValue.cancelled)return checkpointer.getCheckpoint().then(function(checkpoint){changesOpts={since:last_seq=checkpoint,limit:batch_size,batch_size:batch_size,style:"all_docs",doc_ids:doc_ids,selector:selector,return_docs:!0},opts.filter&&("string"!=typeof opts.filter?changesOpts.include_docs=!0:changesOpts.filter=opts.filter),"heartbeat"in opts&&(changesOpts.heartbeat=opts.heartbeat),"timeout"in opts&&(changesOpts.timeout=opts.timeout),opts.query_params&&(changesOpts.query_params=opts.query_params),opts.view&&(changesOpts.view=opts.view),getChanges()});completeReplication()}).catch(function(err){abortReplication("getCheckpoint rejected with ",err)})}function onCheckpointError(err){writingCheckpoint=!1,abortReplication("writeCheckpoint completed with error",err)}returnValue.ready(src,target),returnValue.cancelled?completeReplication():(returnValue._addedListeners||(returnValue.once("cancel",completeReplication),"function"==typeof opts.complete&&(returnValue.once("error",opts.complete),returnValue.once("complete",function(result){opts.complete(null,result)})),returnValue._addedListeners=!0),void 0===opts.since?startChanges():initCheckpointer().then(function(){return writingCheckpoint=!0,checkpointer.writeCheckpoint(opts.since,session)}).then(function(){writingCheckpoint=!1,returnValue.cancelled?completeReplication():(last_seq=opts.since,startChanges())}).catch(onCheckpointError))}function Replication(){events__WEBPACK_IMPORTED_MODULE_2__.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var self=this,promise=new Promise(function(fulfill,reject){self.once("complete",fulfill),self.once("error",reject)});self.then=function(resolve,reject){return promise.then(resolve,reject)},self.catch=function(reject){return promise.catch(reject)},self.catch(function(){})}function toPouch(db,opts){var PouchConstructor=opts.PouchConstructor;return"string"==typeof db?new PouchConstructor(db,opts):db}function replicateWrapper(src,target,opts,callback){if("function"==typeof opts&&(callback=opts,opts={}),void 0===opts&&(opts={}),opts.doc_ids&&!Array.isArray(opts.doc_ids))throw createError(BAD_REQUEST,"`doc_ids` filter parameter is not a list.");opts.complete=callback,(opts=clone(opts)).continuous=opts.continuous||opts.live,opts.retry="retry"in opts&&opts.retry,opts.PouchConstructor=opts.PouchConstructor||this;var replicateRet=new Replication(opts);return replicate(toPouch(src,opts),toPouch(target,opts),opts,replicateRet),replicateRet}function sync(src,target,opts,callback){return"function"==typeof opts&&(callback=opts,opts={}),void 0===opts&&(opts={}),(opts=clone(opts)).PouchConstructor=opts.PouchConstructor||this,new Sync(src=toPouch(src,opts),target=toPouch(target,opts),opts,callback)}function Sync(src,target,opts,callback){var self=this;this.canceled=!1;var optsPush=opts.push?$inject_Object_assign({},opts,opts.push):opts,optsPull=opts.pull?$inject_Object_assign({},opts,opts.pull):opts;function pullChange(change){self.emit("change",{direction:"pull",change:change})}function pushChange(change){self.emit("change",{direction:"push",change:change})}function pushDenied(doc){self.emit("denied",{direction:"push",doc:doc})}function pullDenied(doc){self.emit("denied",{direction:"pull",doc:doc})}function pushPaused(){self.pushPaused=!0,self.pullPaused&&self.emit("paused")}function pullPaused(){self.pullPaused=!0,self.pushPaused&&self.emit("paused")}function pushActive(){self.pushPaused=!1,self.pullPaused&&self.emit("active",{direction:"push"})}function pullActive(){self.pullPaused=!1,self.pushPaused&&self.emit("active",{direction:"pull"})}this.push=replicateWrapper(src,target,optsPush),this.pull=replicateWrapper(target,src,optsPull),this.pushPaused=!0,this.pullPaused=!0;var removed={};function removeAll(type){return function(event,func){("change"===event&&(func===pullChange||func===pushChange)||"denied"===event&&(func===pullDenied||func===pushDenied)||"paused"===event&&(func===pullPaused||func===pushPaused)||"active"===event&&(func===pullActive||func===pushActive))&&(event in removed||(removed[event]={}),removed[event][type]=!0,2===Object.keys(removed[event]).length&&self.removeAllListeners(event))}}function addOneListener(ee,event,listener){-1==ee.listeners(event).indexOf(listener)&&ee.on(event,listener)}opts.live&&(this.push.on("complete",self.pull.cancel.bind(self.pull)),this.pull.on("complete",self.push.cancel.bind(self.push))),this.on("newListener",function(event){"change"===event?(addOneListener(self.pull,"change",pullChange),addOneListener(self.push,"change",pushChange)):"denied"===event?(addOneListener(self.pull,"denied",pullDenied),addOneListener(self.push,"denied",pushDenied)):"active"===event?(addOneListener(self.pull,"active",pullActive),addOneListener(self.push,"active",pushActive)):"paused"===event&&(addOneListener(self.pull,"paused",pullPaused),addOneListener(self.push,"paused",pushPaused))}),this.on("removeListener",function(event){"change"===event?(self.pull.removeListener("change",pullChange),self.push.removeListener("change",pushChange)):"denied"===event?(self.pull.removeListener("denied",pullDenied),self.push.removeListener("denied",pushDenied)):"active"===event?(self.pull.removeListener("active",pullActive),self.push.removeListener("active",pushActive)):"paused"===event&&(self.pull.removeListener("paused",pullPaused),self.push.removeListener("paused",pushPaused))}),this.pull.on("removeListener",removeAll("pull")),this.push.on("removeListener",removeAll("push"));var promise=Promise.all([this.push,this.pull]).then(function(resp){var out={push:resp[0],pull:resp[1]};return self.emit("complete",out),callback&&callback(null,out),self.removeAllListeners(),out},function(err){if(self.cancel(),callback?callback(err):self.emit("error",err),self.removeAllListeners(),callback)throw err});this.then=function(success,err){return promise.then(success,err)},this.catch=function(err){return promise.catch(err)}}inherits__WEBPACK_IMPORTED_MODULE_3___default()(Replication,events__WEBPACK_IMPORTED_MODULE_2__.EventEmitter),Replication.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},Replication.prototype.ready=function(src,target){var self=this;function onDestroy(){self.cancel()}self._readyCalled||(self._readyCalled=!0,src.once("destroyed",onDestroy),target.once("destroyed",onDestroy),self.once("complete",function(){src.removeListener("destroyed",onDestroy),target.removeListener("destroyed",onDestroy)}))},inherits__WEBPACK_IMPORTED_MODULE_3___default()(Sync,events__WEBPACK_IMPORTED_MODULE_2__.EventEmitter),Sync.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},PouchDB.plugin(function(PouchDB){PouchDB.adapter("idb",IdbPouch,!0)}).plugin(function(PouchDB){PouchDB.adapter("http",HttpPouch,!1),PouchDB.adapter("https",HttpPouch,!1)}).plugin(mapreduce).plugin(function(PouchDB){PouchDB.replicate=replicateWrapper,PouchDB.sync=sync,Object.defineProperty(PouchDB.prototype,"replicate",{get:function(){var self=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(other,opts,callback){return self.constructor.replicate(other,self,opts,callback)},to:function(other,opts,callback){return self.constructor.replicate(self,other,opts,callback)}}),this.replicateMethods}}),PouchDB.prototype.sync=function(dbName,opts,callback){return this.constructor.sync(this,dbName,opts,callback)}}),__webpack_exports__.default=PouchDB},function(module,exports,__webpack_require__){var _nodeId,_clockseq,rng=__webpack_require__(862),bytesToUuid=__webpack_require__(863),_lastMSecs=0,_lastNSecs=0;module.exports=function(options,buf,offset){var i=buf&&offset||0,b=buf||[],node=(options=options||{}).node||_nodeId,clockseq=void 0!==options.clockseq?options.clockseq:_clockseq;if(null==node||null==clockseq){var seedBytes=rng();null==node&&(node=_nodeId=[1|seedBytes[0],seedBytes[1],seedBytes[2],seedBytes[3],seedBytes[4],seedBytes[5]]),null==clockseq&&(clockseq=_clockseq=16383&(seedBytes[6]<<8|seedBytes[7]))}var msecs=void 0!==options.msecs?options.msecs:(new Date).getTime(),nsecs=void 0!==options.nsecs?options.nsecs:_lastNSecs+1,dt=msecs-_lastMSecs+(nsecs-_lastNSecs)/1e4;if(dt<0&&void 0===options.clockseq&&(clockseq=clockseq+1&16383),(dt<0||msecs>_lastMSecs)&&void 0===options.nsecs&&(nsecs=0),nsecs>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=msecs,_lastNSecs=nsecs,_clockseq=clockseq;var tl=(1e4*(268435455&(msecs+=122192928e5))+nsecs)%4294967296;b[i++]=tl>>>24&255,b[i++]=tl>>>16&255,b[i++]=tl>>>8&255,b[i++]=255&tl;var tmh=msecs/4294967296*1e4&268435455;b[i++]=tmh>>>8&255,b[i++]=255&tmh,b[i++]=tmh>>>24&15|16,b[i++]=tmh>>>16&255,b[i++]=clockseq>>>8|128,b[i++]=255&clockseq;for(var n=0;n<6;++n)b[i+n]=node[n];return buf||bytesToUuid(b)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){var PromiseArg=void 0===arguments[0]?Promise:arguments[0];return function(f){return function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return new PromiseArg(function(resolve,reject){return f.apply(void 0,args.concat([function(err,val){return err?reject(err):resolve(val)}]))})}}},module.exports=exports.default},function(module,exports,__webpack_require__){"use strict";
/**
 * @file Detect whether or not an object is an ArrayBuffer.
 * @version 1.7.0
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module is-array-buffer-x
 */var toStringTag,aBufTag,attempt=__webpack_require__(875),isObjectLike=__webpack_require__(1316),hasABuf="function"==typeof ArrayBuffer,bLength=!1;if(hasABuf){if(__webpack_require__(1128)){var descriptor=__webpack_require__(1323)(ArrayBuffer.prototype,"byteLength");if(descriptor&&"function"==typeof descriptor.get){var res=attempt(function(){return new ArrayBuffer(4)});!1===res.threw&&isObjectLike(res.value)&&(res=attempt.call(res.value,descriptor.get),bLength=!1===res.threw&&"number"==typeof res.value&&descriptor.get)}}!1===bLength&&(toStringTag=__webpack_require__(1126),aBufTag="[object ArrayBuffer]")}module.exports=function(object){if(!1===hasABuf||!1===isObjectLike(object))return!1;if(!1===bLength)return toStringTag(object)===aBufTag;var result=attempt.call(object,bLength);return!1===result.threw&&"number"==typeof result.value}},function(module,exports,__webpack_require__){"use strict";
/**
 * @file Determine if a value is object like.
 * @version 1.7.1
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module is-object-like-x
 */var isFunction=__webpack_require__(1123),isPrimitive=__webpack_require__(1322);module.exports=function(value){return!1===isPrimitive(value)&&!1===isFunction(value,!0)}},function(module,exports,__webpack_require__){"use strict";
/**
 * @file Trims and replaces sequences of whitespace characters by a single space.
 * @version 3.0.0
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module normalize-space-x
 */var libTrim=__webpack_require__(1129),trim2016=libTrim.trim2016,trim2018=libTrim.trim2018,Rx=__webpack_require__(220).RegExp,libWhiteSpace=__webpack_require__(470),reNormalize2016=new Rx("["+libWhiteSpace.string2016+"]+","g"),reNormalize2018=new Rx("["+libWhiteSpace.string2018+"]+","g"),replace="".replace,$normalizeSpace2018=function(string){return replace.call(trim2018(string),reNormalize2018," ")};module.exports={normalizeSpace:$normalizeSpace2018,normalizeSpace2016:function(string){return replace.call(trim2016(string),reNormalize2016," ")},normalizeSpace2018:$normalizeSpace2018}},function(module,exports,__webpack_require__){"use strict";var origSymbol=global.Symbol,hasSymbolSham=__webpack_require__(1319);module.exports=function(){return"function"==typeof origSymbol&&("function"==typeof Symbol&&("symbol"==typeof origSymbol("foo")&&("symbol"==typeof Symbol("bar")&&hasSymbolSham())))}},function(module,exports,__webpack_require__){"use strict";module.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var obj={},sym=Symbol("test"),symObj=Object(sym);if("string"==typeof sym)return!1;if("[object Symbol]"!==Object.prototype.toString.call(sym))return!1;if("[object Symbol]"!==Object.prototype.toString.call(symObj))return!1;for(sym in obj[sym]=42,obj)return!1;if("function"==typeof Object.keys&&0!==Object.keys(obj).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(obj).length)return!1;var syms=Object.getOwnPropertySymbols(obj);if(1!==syms.length||syms[0]!==sym)return!1;if(!Object.prototype.propertyIsEnumerable.call(obj,sym))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var descriptor=Object.getOwnPropertyDescriptor(obj,sym);if(42!==descriptor.value||!0!==descriptor.enumerable)return!1}return!0}},function(module,exports,__webpack_require__){"use strict";
/**
 * @file This method removes whitespace from the right end of a string.
 * @version 3.0.0
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module trim-right-x
 */var requireCoercibleToString=__webpack_require__(879),Rx=__webpack_require__(220).RegExp,reRight2016=new Rx("["+__webpack_require__(470).string2016+"]+$"),reRight2018=new Rx("["+__webpack_require__(470).string2018+"]+$"),replace="".replace,$trimRight2018=function(string){return replace.call(requireCoercibleToString(string),reRight2018,"")};module.exports={trimRight:$trimRight2018,trimRight2016:function(string){return replace.call(requireCoercibleToString(string),reRight2016,"")},trimRight2018:$trimRight2018}},function(module,exports,__webpack_require__){"use strict";
/**
 * @file Replace the comments in a string.
 * @version 2.0.0
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module replace-comments-x
 */var toStr=__webpack_require__(591),requireCoercibleToString=__webpack_require__(879),STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,replace="".replace;module.exports=function(string){return replace.call(requireCoercibleToString(string),STRIP_COMMENTS,arguments.length>1?toStr(arguments[1]):"")}},function(module,exports,__webpack_require__){"use strict";
/*!
 * is-primitive <https://github.com/jonschlinkert/is-primitive>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */module.exports=function(val){return"object"==typeof val?null===val:"function"!=typeof val}},function(module,exports,__webpack_require__){"use strict";
/**
 * @file Sham for ES6 Object.getOwnPropertyDescriptor
 * @version 3.2.0
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module object-get-own-property-descriptor-x
 */var getOPDFallback1,getOPDFallback2,$getOwnPropertyDescriptor,toObject=__webpack_require__(882),toPropertyKey=__webpack_require__(883),isFalsey=__webpack_require__(1125),attempt=__webpack_require__(875),nativeGOPD="function"==typeof Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor,doesGOPDWork=function(object,prop){object[toPropertyKey(prop)]=0;var testResult=attempt(nativeGOPD,object,prop);return!1===testResult.threw&&0===testResult.value.value};if(nativeGOPD){var doc="undefined"!=typeof document&&document;if(!doc||doesGOPDWork(doc.createElement("div"),"sentinel")){var res=attempt(nativeGOPD,Object("abc"),1);if(!1===res.threw&&res.value&&"b"===res.value.value)if(doesGOPDWork({},"sentinel")){var worksWithPrim=!1===attempt(nativeGOPD,42,"name").threw;$getOwnPropertyDescriptor=__webpack_require__(469)&&doesGOPDWork({},Object(Symbol("")))?worksWithPrim?nativeGOPD:function(object,property){return nativeGOPD(toObject(object),property)}:worksWithPrim?function(object,property){return nativeGOPD(object,toPropertyKey(property))}:function(object,property){return nativeGOPD(toObject(object),toPropertyKey(property))}}else getOPDFallback1=nativeGOPD;else getOPDFallback2=nativeGOPD}}if(isFalsey($getOwnPropertyDescriptor)||getOPDFallback1||getOPDFallback2){var lookupGetter,lookupSetter,owns=__webpack_require__(1325),isPrimitive=__webpack_require__(877),isString=__webpack_require__(1326),isIndex=__webpack_require__(1327),propertyIsEnumerable=__webpack_require__(1336),prototypeOfObject=Object.prototype,supportsAccessors=owns(prototypeOfObject,"__defineGetter__");if(supportsAccessors){var lg=prototypeOfObject.__lookupGetter__,ls=prototypeOfObject.__lookupSetter__;lookupGetter=function(object,property){return lg.call(object,property)},lookupSetter=function(object,property){return ls.call(object,property)}}$getOwnPropertyDescriptor=function(object,property){var result,obj=toObject(object),propKey=toPropertyKey(property);if(getOPDFallback1&&!1===(result=attempt.call(Object,getOPDFallback1,obj,propKey)).threw)return result.value;var descriptor,isStringIndex=isString(obj)&&isIndex(propKey,obj.length);if(getOPDFallback2&&!1===isStringIndex&&!1===(result=attempt.call(Object,getOPDFallback2,obj,propKey)).threw)return result.value;if(!1===isStringIndex&&!1===owns(obj,propKey))return descriptor;if(descriptor={configurable:!1===isPrimitive(object)&&!1===isStringIndex,enumerable:propertyIsEnumerable(obj,propKey)},supportsAccessors){var prototype=obj.__proto__,notPrototypeOfObject=obj!==prototypeOfObject;notPrototypeOfObject&&(obj.__proto__=prototypeOfObject);var getter=lookupGetter(obj,propKey),setter=lookupSetter(obj,propKey);if(notPrototypeOfObject&&(obj.__proto__=prototype),getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return isStringIndex?(descriptor.value=obj.charAt(propKey),descriptor.writable=!1):(descriptor.value=obj[propKey],descriptor.writable=!0),descriptor}}module.exports=$getOwnPropertyDescriptor},function(module,exports,__webpack_require__){"use strict";var getDay=Date.prototype.getDay,toStr=Object.prototype.toString,hasToStringTag="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;module.exports=function(value){return"object"==typeof value&&null!==value&&(hasToStringTag?function(value){try{return getDay.call(value),!0}catch(e){return!1}}(value):"[object Date]"===toStr.call(value))}},function(module,exports,__webpack_require__){"use strict";
/**
 * @file Used to determine whether an object has an own property with the specified property key.
 * @see {@link http://www.ecma-international.org/ecma-262/6.0/#sec-hasownproperty|7.3.11 HasOwnProperty (O, P)}
 * @version 3.2.0
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module has-own-property-x
 */var toObject=__webpack_require__(882),toPropertyKey=__webpack_require__(883),hop=__webpack_require__(220).Object.prototype.hasOwnProperty;module.exports=function(object,property){return hop.call(toObject(object),toPropertyKey(property))}},function(module,exports,__webpack_require__){"use strict";var strValue=String.prototype.valueOf,toStr=Object.prototype.toString,hasToStringTag="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;module.exports=function(value){return"string"==typeof value||"object"==typeof value&&(hasToStringTag?function(value){try{return strValue.call(value),!0}catch(e){return!1}}(value):"[object String]"===toStr.call(value))}},function(module,exports,__webpack_require__){"use strict";
/**
 * @file Determine whether the passed value is a zero based index.
 * @version 1.1.0
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module is-index-x
 */var safeToString=__webpack_require__(1328),toInteger=__webpack_require__(1329).toInteger2018,toNumber=__webpack_require__(592).toNumber2018,mathClamp=__webpack_require__(1334),MAX_SAFE_INTEGER=__webpack_require__(1335),reIsUint=/^(?:0|[1-9]\d*)$/,rxTest=reIsUint.test;module.exports=function(value){var string=safeToString(value);if(!1===rxTest.call(reIsUint,string))return!1;var number=toNumber(string);return arguments.length>1?number<mathClamp(toInteger(arguments[1]),MAX_SAFE_INTEGER):number<MAX_SAFE_INTEGER}},function(module,exports,__webpack_require__){"use strict";
/**
 * @file ES6 abstract ToString with Symbol conversion support.
 * @see {@link http://www.ecma-international.org/ecma-262/6.0/#sec-tostring|7.1.12 ToString ( argument )}
 * @version 1.0.2
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module to-string-symbols-supported-x
 */var castString=__webpack_require__(220).String,pToString=__webpack_require__(469)&&Symbol.prototype.toString,isSymbol="function"==typeof pToString&&__webpack_require__(881);module.exports=function(value){return isSymbol&&isSymbol(value)?pToString.call(value):castString(value)}},function(module,exports,__webpack_require__){"use strict";
/**
 * @file ToInteger converts 'argument' to an integral numeric value.
 * @see {@link http://www.ecma-international.org/ecma-262/6.0/#sec-tointeger|7.1.4 ToInteger ( argument )}
 * @version 3.0.0
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module to-integer-x
 */var libToNumber=__webpack_require__(592),toNumber2016=libToNumber.toNumber2016,toNumber2018=libToNumber.toNumber2018,numberIsNaN=__webpack_require__(884),numberIsFinite=__webpack_require__(1331),libMathSign=__webpack_require__(1333),mathSign2016=libMathSign.sign2016,mathSign2018=libMathSign.sign2018,mathFloor=Math.floor,mathAbs=Math.abs,$toInteger2018=function(value){var number=toNumber2018(value);return numberIsNaN(number)?0:0===number||!1===numberIsFinite(number)?number:mathSign2018(number)*mathFloor(mathAbs(number))};module.exports={toInteger:$toInteger2018,toInteger2016:function(value){var number=toNumber2016(value);return numberIsNaN(number)?0:0===number||!1===numberIsFinite(number)?number:mathSign2016(number)*mathFloor(mathAbs(number))},toInteger2018:$toInteger2018}},function(module,exports,__webpack_require__){"use strict";
/**
 * @file Parses a string argument and returns an integer of the specified radix.
 * @version 2.0.0
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module parse-int-x
 */var nativeParseInt=parseInt,NAN=__webpack_require__(1132),toStr=__webpack_require__(591),trimLeft2016=__webpack_require__(878).trimLeft2016,trimLeft2018=__webpack_require__(878).trimLeft2018,chachedCtrs=__webpack_require__(220),castNumber=chachedCtrs.Number,charAt=chachedCtrs.String.prototype.charAt,hexRegex=/^[-+]?0[xX]/,test=hexRegex.test,$parseInt2018=function(string,radix){var str=trimLeft2018(toStr(string));return""===charAt.call(str,0)?NAN:nativeParseInt(str,castNumber(radix)||(test.call(hexRegex,str)?16:10))};module.exports={parseInt:$parseInt2018,parseInt2016:function(string,radix){var str=trimLeft2016(toStr(string));return nativeParseInt(str,castNumber(radix)||(test.call(hexRegex,str)?16:10))},parseInt2018:$parseInt2018}},function(module,exports,__webpack_require__){"use strict";
/**
 * @file ES6-compliant shim for Number.isFinite.
 * @see {@link http://www.ecma-international.org/ecma-262/6.0/#sec-number.isfinite|20.1.2.2 Number.isFinite ( number )}
 * @version 3.0.4
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module is-finite-x
 */var numberIsNaN=__webpack_require__(884),INFINITY=__webpack_require__(1332);module.exports=function(number){return"number"==typeof number&&!1===numberIsNaN(number)&&number!==INFINITY&&number!==-INFINITY}},function(module,exports,__webpack_require__){"use strict";
/**
 * @file The constant value Infinity.
 * @version 1.0.2
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module infinity-x
 */module.exports=1/0},function(module,exports,__webpack_require__){"use strict";
/**
 * @file Shim for Math.sign.
 * @see {@link http://www.ecma-international.org/ecma-262/6.0/#sec-math.sign|20.2.2.29 Math.sign(x)}
 * @version 3.0.0
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module math-sign-x
 */var libToNumber=__webpack_require__(592),toNumber2016=libToNumber.toNumber2016,toNumber2018=libToNumber.toNumber2018,numberIsNaN=__webpack_require__(884),$sign2018=function(x){var n=toNumber2018(x);return 0===n||numberIsNaN(n)?n:n>0?1:-1};module.exports={sign:$sign2018,sign2016:function(x){var n=toNumber2016(x);return 0===n||numberIsNaN(n)?n:n>0?1:-1},sign2018:$sign2018}},function(module,exports,__webpack_require__){"use strict";
/**
 * @file Clamp a number to limits.
 * @version 1.2.0
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module math-clamp-x
 */var toNumber=__webpack_require__(592).toNumber2018;module.exports=function(value){var number=toNumber(value),argsLength=arguments.length;if(argsLength<2)return number;var max,min=toNumber(arguments[1]);if(argsLength<3?(max=min,min=0):max=toNumber(arguments[2]),min>max)throw new RangeError('"min" must be less than "max"');return number<min?min:number>max?max:number}},function(module,exports,__webpack_require__){"use strict";module.exports=9007199254740991},function(module,exports,__webpack_require__){"use strict";
/**
 * @file Indicates whether the specified property is enumerable.
 * @version 1.1.0
 * @author Xotic750 <Xotic750@gmail.com>
 * @copyright  Xotic750
 * @license {@link <https://opensource.org/licenses/MIT> MIT}
 * @module property-is-enumerable-x
 */var toPropertyKey=__webpack_require__(883),toObject=__webpack_require__(882),propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=function(object,property){return propIsEnumerable.call(toObject(object),toPropertyKey(property))}},function(module,exports,__webpack_require__){"use strict";var _updateById,_regeneratorRuntime=__webpack_require__(0),_asyncToGenerator=__webpack_require__(3),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},fs=__webpack_require__(67),path=__webpack_require__(47),log=__webpack_require__(58).namespace("cozy-client-js-stub"),mimetypes=__webpack_require__(421),low=__webpack_require__(1338),lodashId=__webpack_require__(1340),FileSync=__webpack_require__(1341),rawBody=__webpack_require__(1349),stripJsonComments=__webpack_require__(1360),rootPath=JSON.parse(process.env.COZY_FIELDS||'{"folder_to_save": "."}').folder_to_save,db=function(){var DUMP_PATH="importedData.json",KONNECTOR_DEV_CONFIG_PATH=path.resolve("konnector-dev-config.json");if(fs.existsSync(KONNECTOR_DEV_CONFIG_PATH)){var KONNECTOR_DEV_CONFIG=JSON.parse(fs.readFileSync(KONNECTOR_DEV_CONFIG_PATH,"utf-8"));DUMP_PATH=path.join(KONNECTOR_DEV_CONFIG.fields.folderPath||rootPath,DUMP_PATH)}var db=low(new FileSync(DUMP_PATH));return db._.mixin(lodashId),db._.id="_id",db}();function setDefaults(doctype){var defaults={};defaults[doctype]=[],db.defaults(defaults).write()}function removeFile(_x4){return _removeFile.apply(this,arguments)}function _removeFile(){return(_removeFile=_asyncToGenerator(_regeneratorRuntime.mark(function _callee2(fileId){var realpath;return _regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:realpath=path.join(rootPath,fileId),fs.unlinkSync(realpath);case 2:case"end":return _context2.stop()}},_callee2)}))).apply(this,arguments)}function removeFirstSlash(pathToCheck){return"/"===pathToCheck[0]?pathToCheck.substr(1):pathToCheck}function createFile(file,options){return new Promise(function(resolve,reject){log("debug","Creating new file ".concat(options.name));var finalPath=path.join(rootPath,options.dirID,options.name);if(log("debug","Real path : ".concat(finalPath)),file.pipe){var writeStream=fs.createWriteStream(finalPath);file.pipe(writeStream),file.on("end",function(){log("info","File ".concat(finalPath," created"));var extension=path.extname(options.name).substr(1);resolve({_id:options.name,attributes:{mime:mimetypes.lookup(extension),name:options.name}})}),writeStream.on("error",function(err){log("warn","Error : ".concat(err," while trying to write file")),reject(new Error(err))})}else fs.writeFileSync(finalPath,file),resolve({_id:options.name,attributes:{name:options.name}})})}module.exports={_setDb:function(newDb){db=newDb},fetchJSON:function(){return Promise.resolve({rows:[]})},data:{create:function(doctype,item){setDefaults(doctype);var doc=db.get(doctype).insert(item).write();return Promise.resolve(doc)},update:function(doctype,doc,changes){return setDefaults(doctype),db.get(doctype).updateById(doc._id,changes).write(),Promise.resolve(doc)},updateAttributes:function(doctype,id,attrs){setDefaults(doctype);var doc=db.get(doctype).updateById(id,attrs).write();return Promise.resolve(doc)},defineIndex:function(doctype){return Promise.resolve({doctype:doctype})},query:function(index,options){var doctype=index.doctype;setDefaults(doctype);var selector=options.selector,keys=Object.keys(selector),result=db.get(doctype).filter(function(doc){return keys.every(function(key){return doc[key]})}).value();return options.wholeResponse&&(result={docs:result}),Promise.resolve(result)},findAll:function(doctype){return setDefaults(doctype),Promise.resolve(db.get(doctype).value())},delete:function(doctype,doc){setDefaults(doctype);var result=db.get(doctype).removeById(doc._id).write();return Promise.resolve(result)},find:function(doctype,id){setDefaults(doctype);var result=db.get(doctype).getById(id).value(),accountExists=Boolean(result);if("io.cozy.accounts"===doctype){var configPath=path.resolve("konnector-dev-config.json"),config=JSON.parse(stripJsonComments(fs.readFileSync(configPath)));result=_extends({_id:id},result,{auth:config.fields}),accountExists?this.update(doctype,result,result):this.create(doctype,result)}return Promise.resolve(result)},listReferencedFiles:function(){return Promise.resolve([])},addReferencedFiles:function(){return Promise.resolve({})}},files:{statByPath:function(pathToCheck){return new Promise(function(resolve,reject){if(log("debug","Checking if ".concat(pathToCheck," exists")),"/"===pathToCheck)return resolve({_id:"."});var realpath=path.join(rootPath,pathToCheck);if(log("debug","Real path : ".concat(realpath)),fs.existsSync(realpath)){var extension=path.extname(pathToCheck).substr(1);resolve({_id:removeFirstSlash(pathToCheck),attributes:{mime:mimetypes.lookup(extension),name:pathToCheck,size:fs.statSync(realpath).size}})}else{var err=new Error("".concat(pathToCheck," does not exist"));err.status=404,reject(err)}})},statById:function(){return Promise.resolve({attributes:{path:"/"}})},updateById:(_updateById=_asyncToGenerator(_regeneratorRuntime.mark(function _callee(id,file,options){return _regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,removeFile(id);case 2:return _context.abrupt("return",createFile(file,options));case 3:case"end":return _context.stop()}},_callee)})),function(_x,_x2,_x3){return _updateById.apply(this,arguments)}),create:function(file,options){return createFile(file,options)},createDirectory:function(options){return new Promise(function(resolve){log("info","Creating new directory ".concat(options.name));var finalPath=path.join(rootPath,options.dirID,options.name),returnPath=path.join(options.dirID,options.name);log("info","Real path : ".concat(finalPath)),fs.mkdirSync(finalPath),resolve({_id:returnPath,path:returnPath})})},downloadByPath:function(filePath){return this.downloadById(filePath)},downloadById:function(fileId){var realpath=path.join(rootPath,fileId),stream=fs.createReadStream(realpath);return{body:stream,buffer:function(){return rawBody(stream)}}},trashById:function(fileId){return removeFile(fileId)},destroyById:function(){return Promise.resolve()}}}},function(module,exports,__webpack_require__){"use strict";var lodash=__webpack_require__(88),isPromise=__webpack_require__(1339);module.exports=function(adapter){if("object"!=typeof adapter)throw new Error("An adapter must be provided, see https://github.com/typicode/lowdb/#usage");var _=lodash.runInContext(),db=_.chain({});function plant(state){return db.__wrapped__=state,db}return _.prototype.write=_.wrap(_.prototype.value,function(func){var funcRes=func.apply(this);return db.write(funcRes)}),db._=_,db.read=function(){var r=adapter.read();return isPromise(r)?r.then(plant):plant(r)},db.write=function(returnValue){var w=adapter.write(db.getState());return isPromise(w)?w.then(function(){return returnValue}):returnValue},db.getState=function(){return db.__wrapped__},db.setState=function(state){return plant(state)},db.read()}},function(module,exports){module.exports=function(obj){return!!obj&&("object"==typeof obj||"function"==typeof obj)&&"function"==typeof obj.then}},function(module,exports){module.exports={__empty:function(doc){this.forEach(doc,function(value,key){delete doc[key]})},__update:function(dest,src){this.forEach(src,function(value,key){dest[key]=value})},__remove:function(array,item){var index=this.indexOf(array,item);-1!==index&&array.splice(index,1)},__id:function(){return this.id||"id"},getById:function(collection,id){var self=this;return this.find(collection,function(doc){if(self.has(doc,self.__id()))return doc[self.__id()].toString()===id.toString()})},createId:function(collection,doc){return function(a,b){for(b=a="";a++<36;b+=51*a&52?(15^a?8^Math.random()*(20^a?16:4):4).toString(16):"-");return b}()},insert:function(collection,doc){if(doc[this.__id()]=doc[this.__id()]||this.createId(collection,doc),this.getById(collection,doc[this.__id()]))throw new Error("Insert failed, duplicate id");return collection.push(doc),doc},upsert:function(collection,doc){if(doc[this.__id()]){var d=this.getById(collection,doc[this.__id()]);d?(this.__empty(d),this.assign(d,doc)):collection.push(doc)}else doc[this.__id()]=this.createId(collection,doc),collection.push(doc);return doc},updateById:function(collection,id,attrs){var doc=this.getById(collection,id);return doc&&this.assign(doc,attrs,{id:doc.id}),doc},updateWhere:function(collection,predicate,attrs){var self=this,docs=this.filter(collection,predicate);return docs.forEach(function(doc){self.assign(doc,attrs,{id:doc.id})}),docs},replaceById:function(collection,id,attrs){var doc=this.getById(collection,id);if(doc){var docId=doc.id;this.__empty(doc),this.assign(doc,attrs,{id:docId})}return doc},removeById:function(collection,id){var doc=this.getById(collection,id);return this.__remove(collection,doc),doc},removeWhere:function(collection,predicate){var self=this,docs=this.filter(collection,predicate);return docs.forEach(function(doc){self.__remove(collection,doc)}),docs}}},function(module,exports,__webpack_require__){"use strict";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();var fs=__webpack_require__(1342),Base=__webpack_require__(1347),readFile=fs.readFileSync,writeFile=fs.writeFileSync,FileSync=function(_Base){function FileSync(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,FileSync),function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(FileSync.__proto__||Object.getPrototypeOf(FileSync)).apply(this,arguments))}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(FileSync,Base),_createClass(FileSync,[{key:"read",value:function(){if(!fs.existsSync(this.source))return writeFile(this.source,this.serialize(this.defaultValue)),this.defaultValue;try{var data=readFile(this.source,"utf-8").trim();return data?this.deserialize(data):this.defaultValue}catch(e){throw e instanceof SyntaxError&&(e.message=`Malformed JSON in file: ${this.source}\n${e.message}`),e}}},{key:"write",value:function(data){return writeFile(this.source,this.serialize(data))}}]),FileSync}();module.exports=FileSync},function(module,exports,__webpack_require__){var fs=__webpack_require__(67),polyfills=__webpack_require__(1343),legacy=__webpack_require__(1345),clone=__webpack_require__(1346),queue=[],util=__webpack_require__(8);var fs$close,fs$closeSync,debug=function(){};function patch(fs){polyfills(fs),fs.gracefulify=patch,fs.FileReadStream=ReadStream,fs.FileWriteStream=WriteStream,fs.createReadStream=function(path,options){return new ReadStream(path,options)},fs.createWriteStream=function(path,options){return new WriteStream(path,options)};var fs$readFile=fs.readFile;fs.readFile=function(path,options,cb){"function"==typeof options&&(cb=options,options=null);return function go$readFile(path,options,cb){return fs$readFile(path,options,function(err){!err||"EMFILE"!==err.code&&"ENFILE"!==err.code?("function"==typeof cb&&cb.apply(this,arguments),retry()):enqueue([go$readFile,[path,options,cb]])})}(path,options,cb)};var fs$writeFile=fs.writeFile;fs.writeFile=function(path,data,options,cb){"function"==typeof options&&(cb=options,options=null);return function go$writeFile(path,data,options,cb){return fs$writeFile(path,data,options,function(err){!err||"EMFILE"!==err.code&&"ENFILE"!==err.code?("function"==typeof cb&&cb.apply(this,arguments),retry()):enqueue([go$writeFile,[path,data,options,cb]])})}(path,data,options,cb)};var fs$appendFile=fs.appendFile;fs$appendFile&&(fs.appendFile=function(path,data,options,cb){"function"==typeof options&&(cb=options,options=null);return function go$appendFile(path,data,options,cb){return fs$appendFile(path,data,options,function(err){!err||"EMFILE"!==err.code&&"ENFILE"!==err.code?("function"==typeof cb&&cb.apply(this,arguments),retry()):enqueue([go$appendFile,[path,data,options,cb]])})}(path,data,options,cb)});var fs$readdir=fs.readdir;function go$readdir(args){return fs$readdir.apply(fs,args)}if(fs.readdir=function(path,options,cb){var args=[path];"function"!=typeof options?args.push(options):cb=options;return args.push(function(err,files){files&&files.sort&&files.sort(),!err||"EMFILE"!==err.code&&"ENFILE"!==err.code?("function"==typeof cb&&cb.apply(this,arguments),retry()):enqueue([go$readdir,[args]])}),go$readdir(args)},"v0.8"===process.version.substr(0,4)){var legStreams=legacy(fs);ReadStream=legStreams.ReadStream,WriteStream=legStreams.WriteStream}var fs$ReadStream=fs.ReadStream;fs$ReadStream&&(ReadStream.prototype=Object.create(fs$ReadStream.prototype),ReadStream.prototype.open=function(){var that=this;open(that.path,that.flags,that.mode,function(err,fd){err?(that.autoClose&&that.destroy(),that.emit("error",err)):(that.fd=fd,that.emit("open",fd),that.read())})});var fs$WriteStream=fs.WriteStream;function ReadStream(path,options){return this instanceof ReadStream?(fs$ReadStream.apply(this,arguments),this):ReadStream.apply(Object.create(ReadStream.prototype),arguments)}function WriteStream(path,options){return this instanceof WriteStream?(fs$WriteStream.apply(this,arguments),this):WriteStream.apply(Object.create(WriteStream.prototype),arguments)}fs$WriteStream&&(WriteStream.prototype=Object.create(fs$WriteStream.prototype),WriteStream.prototype.open=function(){var that=this;open(that.path,that.flags,that.mode,function(err,fd){err?(that.destroy(),that.emit("error",err)):(that.fd=fd,that.emit("open",fd))})}),fs.ReadStream=ReadStream,fs.WriteStream=WriteStream;var fs$open=fs.open;function open(path,flags,mode,cb){return"function"==typeof mode&&(cb=mode,mode=null),function go$open(path,flags,mode,cb){return fs$open(path,flags,mode,function(err,fd){!err||"EMFILE"!==err.code&&"ENFILE"!==err.code?("function"==typeof cb&&cb.apply(this,arguments),retry()):enqueue([go$open,[path,flags,mode,cb]])})}(path,flags,mode,cb)}return fs.open=open,fs}function enqueue(elem){debug("ENQUEUE",elem[0].name,elem[1]),queue.push(elem)}function retry(){var elem=queue.shift();elem&&(debug("RETRY",elem[0].name,elem[1]),elem[0].apply(null,elem[1]))}util.debuglog?debug=util.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(debug=function(){var m=util.format.apply(util,arguments);m="GFS4: "+m.split(/\n/).join("\nGFS4: "),console.error(m)}),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){debug(queue),__webpack_require__(192).equal(queue.length,0)}),module.exports=patch(clone(fs)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!fs.__patched&&(module.exports=patch(fs),fs.__patched=!0),module.exports.close=(fs$close=fs.close,function(fd,cb){return fs$close.call(fs,fd,function(err){err||retry(),"function"==typeof cb&&cb.apply(this,arguments)})}),module.exports.closeSync=(fs$closeSync=fs.closeSync,function(fd){var rval=fs$closeSync.apply(fs,arguments);return retry(),rval}),/\bgraceful-fs\b/.test(fs.closeSync.toString())||(fs.closeSync=module.exports.closeSync,fs.close=module.exports.close)},function(module,exports,__webpack_require__){var constants=__webpack_require__(1344),origCwd=process.cwd,cwd=null,platform=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return cwd||(cwd=origCwd.call(process)),cwd};try{process.cwd()}catch(er){}var chdir=process.chdir;process.chdir=function(d){cwd=null,chdir.call(process,d)},module.exports=function(fs){constants.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(fs){fs.lchmod=function(path,mode,callback){fs.open(path,constants.O_WRONLY|constants.O_SYMLINK,mode,function(err,fd){err?callback&&callback(err):fs.fchmod(fd,mode,function(err){fs.close(fd,function(err2){callback&&callback(err||err2)})})})},fs.lchmodSync=function(path,mode){var ret,fd=fs.openSync(path,constants.O_WRONLY|constants.O_SYMLINK,mode),threw=!0;try{ret=fs.fchmodSync(fd,mode),threw=!1}finally{if(threw)try{fs.closeSync(fd)}catch(er){}else fs.closeSync(fd)}return ret}}(fs);fs.lutimes||function(fs){constants.hasOwnProperty("O_SYMLINK")?(fs.lutimes=function(path,at,mt,cb){fs.open(path,constants.O_SYMLINK,function(er,fd){er?cb&&cb(er):fs.futimes(fd,at,mt,function(er){fs.close(fd,function(er2){cb&&cb(er||er2)})})})},fs.lutimesSync=function(path,at,mt){var ret,fd=fs.openSync(path,constants.O_SYMLINK),threw=!0;try{ret=fs.futimesSync(fd,at,mt),threw=!1}finally{if(threw)try{fs.closeSync(fd)}catch(er){}else fs.closeSync(fd)}return ret}):(fs.lutimes=function(_a,_b,_c,cb){cb&&process.nextTick(cb)},fs.lutimesSync=function(){})}(fs);fs.chown=chownFix(fs.chown),fs.fchown=chownFix(fs.fchown),fs.lchown=chownFix(fs.lchown),fs.chmod=chmodFix(fs.chmod),fs.fchmod=chmodFix(fs.fchmod),fs.lchmod=chmodFix(fs.lchmod),fs.chownSync=chownFixSync(fs.chownSync),fs.fchownSync=chownFixSync(fs.fchownSync),fs.lchownSync=chownFixSync(fs.lchownSync),fs.chmodSync=chmodFixSync(fs.chmodSync),fs.fchmodSync=chmodFixSync(fs.fchmodSync),fs.lchmodSync=chmodFixSync(fs.lchmodSync),fs.stat=statFix(fs.stat),fs.fstat=statFix(fs.fstat),fs.lstat=statFix(fs.lstat),fs.statSync=statFixSync(fs.statSync),fs.fstatSync=statFixSync(fs.fstatSync),fs.lstatSync=statFixSync(fs.lstatSync),fs.lchmod||(fs.lchmod=function(path,mode,cb){cb&&process.nextTick(cb)},fs.lchmodSync=function(){});fs.lchown||(fs.lchown=function(path,uid,gid,cb){cb&&process.nextTick(cb)},fs.lchownSync=function(){});"win32"===platform&&(fs.rename=(fs$rename=fs.rename,function(from,to,cb){var start=Date.now(),backoff=0;fs$rename(from,to,function CB(er){if(er&&("EACCES"===er.code||"EPERM"===er.code)&&Date.now()-start<6e4)return setTimeout(function(){fs.stat(to,function(stater,st){stater&&"ENOENT"===stater.code?fs$rename(from,to,CB):cb(er)})},backoff),void(backoff<100&&(backoff+=10));cb&&cb(er)})}));var fs$rename;function chmodFix(orig){return orig?function(target,mode,cb){return orig.call(fs,target,mode,function(er){chownErOk(er)&&(er=null),cb&&cb.apply(this,arguments)})}:orig}function chmodFixSync(orig){return orig?function(target,mode){try{return orig.call(fs,target,mode)}catch(er){if(!chownErOk(er))throw er}}:orig}function chownFix(orig){return orig?function(target,uid,gid,cb){return orig.call(fs,target,uid,gid,function(er){chownErOk(er)&&(er=null),cb&&cb.apply(this,arguments)})}:orig}function chownFixSync(orig){return orig?function(target,uid,gid){try{return orig.call(fs,target,uid,gid)}catch(er){if(!chownErOk(er))throw er}}:orig}function statFix(orig){return orig?function(target,options,cb){function callback(er,stats){stats&&(stats.uid<0&&(stats.uid+=4294967296),stats.gid<0&&(stats.gid+=4294967296)),cb&&cb.apply(this,arguments)}return"function"==typeof options&&(cb=options,options=null),options?orig.call(fs,target,options,callback):orig.call(fs,target,callback)}:orig}function statFixSync(orig){return orig?function(target,options){var stats=options?orig.call(fs,target,options):orig.call(fs,target);return stats.uid<0&&(stats.uid+=4294967296),stats.gid<0&&(stats.gid+=4294967296),stats}:orig}function chownErOk(er){if(!er)return!0;if("ENOSYS"===er.code)return!0;var nonroot=!process.getuid||0!==process.getuid();return!(!nonroot||"EINVAL"!==er.code&&"EPERM"!==er.code)}fs.read=(fs$read=fs.read,function(fd,buffer,offset,length,position,callback_){var callback;if(callback_&&"function"==typeof callback_){var eagCounter=0;callback=function(er,_,__){if(er&&"EAGAIN"===er.code&&eagCounter<10)return eagCounter++,fs$read.call(fs,fd,buffer,offset,length,position,callback);callback_.apply(this,arguments)}}return fs$read.call(fs,fd,buffer,offset,length,position,callback)}),fs.readSync=(fs$readSync=fs.readSync,function(fd,buffer,offset,length,position){for(var eagCounter=0;;)try{return fs$readSync.call(fs,fd,buffer,offset,length,position)}catch(er){if("EAGAIN"===er.code&&eagCounter<10){eagCounter++;continue}throw er}});var fs$readSync;var fs$read}},function(module,exports){module.exports=require("constants")},function(module,exports,__webpack_require__){var Stream=__webpack_require__(10).Stream;module.exports=function(fs){return{ReadStream:function ReadStream(path,options){if(!(this instanceof ReadStream))return new ReadStream(path,options);Stream.call(this);var self=this;this.path=path;this.fd=null;this.readable=!0;this.paused=!1;this.flags="r";this.mode=438;this.bufferSize=65536;options=options||{};var keys=Object.keys(options);for(var index=0,length=keys.length;index<length;index++){var key=keys[index];this[key]=options[key]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick(function(){self._read()});fs.open(this.path,this.flags,this.mode,function(err,fd){if(err)return self.emit("error",err),void(self.readable=!1);self.fd=fd,self.emit("open",fd),self._read()})},WriteStream:function WriteStream(path,options){if(!(this instanceof WriteStream))return new WriteStream(path,options);Stream.call(this);this.path=path;this.fd=null;this.writable=!0;this.flags="w";this.encoding="binary";this.mode=438;this.bytesWritten=0;options=options||{};var keys=Object.keys(options);for(var index=0,length=keys.length;index<length;index++){var key=keys[index];this[key]=options[key]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1;this._queue=[];null===this.fd&&(this._open=fs.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(obj){if(null===obj||"object"!=typeof obj)return obj;if(obj instanceof Object)var copy={__proto__:obj.__proto__};else var copy=Object.create(null);return Object.getOwnPropertyNames(obj).forEach(function(key){Object.defineProperty(copy,key,Object.getOwnPropertyDescriptor(obj,key))}),copy}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var stringify=__webpack_require__(1348);module.exports=function Base(source){var _ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_ref$defaultValue=_ref.defaultValue,defaultValue=void 0===_ref$defaultValue?{}:_ref$defaultValue,_ref$serialize=_ref.serialize,serialize=void 0===_ref$serialize?stringify:_ref$serialize,_ref$deserialize=_ref.deserialize,deserialize=void 0===_ref$deserialize?JSON.parse:_ref$deserialize;_classCallCheck(this,Base),this.source=source,this.defaultValue=defaultValue,this.serialize=serialize,this.deserialize=deserialize}},function(module,exports,__webpack_require__){"use strict";module.exports=function(obj){return JSON.stringify(obj,null,2)}},function(module,exports,__webpack_require__){"use strict";
/*!
 * raw-body
 * Copyright(c) 2013-2014 Jonathan Ong
 * Copyright(c) 2014-2015 Douglas Christopher Wilson
 * MIT Licensed
 */var bytes=__webpack_require__(1350),createError=__webpack_require__(1351),iconv=__webpack_require__(468),unpipe=__webpack_require__(1359);module.exports=function(stream,options,callback){var done=callback,opts=options||{};!0!==options&&"string"!=typeof options||(opts={encoding:options});"function"==typeof options&&(done=options,opts={});if(void 0!==done&&"function"!=typeof done)throw new TypeError("argument callback must be a function");if(!done&&!global.Promise)throw new TypeError("argument callback is required");var encoding=!0!==opts.encoding?opts.encoding:"utf-8",limit=bytes.parse(opts.limit),length=null==opts.length||isNaN(opts.length)?null:parseInt(opts.length,10);if(done)return readStream(stream,encoding,length,limit,done);return new Promise(function(resolve,reject){readStream(stream,encoding,length,limit,function(err,buf){if(err)return reject(err);resolve(buf)})})};var ICONV_ENCODING_MESSAGE_REGEXP=/^Encoding not recognized: /;function readStream(stream,encoding,length,limit,callback){var complete=!1,sync=!0;if(null!==limit&&null!==length&&length>limit)return done(createError(413,"request entity too large",{expected:length,length:length,limit:limit,type:"entity.too.large"}));var state=stream._readableState;if(stream._decoder||state&&(state.encoding||state.decoder))return done(createError(500,"stream encoding should not be set",{type:"stream.encoding.set"}));var decoder,received=0;try{decoder=function(encoding){if(!encoding)return null;try{return iconv.getDecoder(encoding)}catch(e){if(!ICONV_ENCODING_MESSAGE_REGEXP.test(e.message))throw e;throw createError(415,"specified encoding unsupported",{encoding:encoding,type:"encoding.unsupported"})}}(encoding)}catch(err){return done(err)}var buffer=decoder?"":[];function done(){for(var args=new Array(arguments.length),i=0;i<args.length;i++)args[i]=arguments[i];function invokeCallback(){cleanup(),args[0]&&function(stream){unpipe(stream),"function"==typeof stream.pause&&stream.pause()}(stream),callback.apply(null,args)}complete=!0,sync?process.nextTick(invokeCallback):invokeCallback()}function onAborted(){complete||done(createError(400,"request aborted",{code:"ECONNABORTED",expected:length,length:length,received:received,type:"request.aborted"}))}function onData(chunk){complete||(received+=chunk.length,null!==limit&&received>limit?done(createError(413,"request entity too large",{limit:limit,received:received,type:"entity.too.large"})):decoder?buffer+=decoder.write(chunk):buffer.push(chunk))}function onEnd(err){if(!complete){if(err)return done(err);if(null!==length&&received!==length)done(createError(400,"request size did not match content length",{expected:length,length:length,received:received,type:"request.size.invalid"}));else done(null,decoder?buffer+(decoder.end()||""):Buffer.concat(buffer))}}function cleanup(){buffer=null,stream.removeListener("aborted",onAborted),stream.removeListener("data",onData),stream.removeListener("end",onEnd),stream.removeListener("error",onEnd),stream.removeListener("close",cleanup)}stream.on("aborted",onAborted),stream.on("close",cleanup),stream.on("data",onData),stream.on("end",onEnd),stream.on("error",onEnd),sync=!1}},function(module,exports,__webpack_require__){"use strict";
/*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 */module.exports=function(value,options){if("string"==typeof value)return parse(value);if("number"==typeof value)return format(value,options);return null},module.exports.format=format,module.exports.parse=parse;var formatThousandsRegExp=/\B(?=(\d{3})+(?!\d))/g,formatDecimalsRegExp=/(?:\.0*|(\.[^0]+)0+)$/,map={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},parseRegExp=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function format(value,options){if(!Number.isFinite(value))return null;var mag=Math.abs(value),thousandsSeparator=options&&options.thousandsSeparator||"",unitSeparator=options&&options.unitSeparator||"",decimalPlaces=options&&void 0!==options.decimalPlaces?options.decimalPlaces:2,fixedDecimals=Boolean(options&&options.fixedDecimals),unit=options&&options.unit||"";unit&&map[unit.toLowerCase()]||(unit=mag>=map.pb?"PB":mag>=map.tb?"TB":mag>=map.gb?"GB":mag>=map.mb?"MB":mag>=map.kb?"KB":"B");var str=(value/map[unit.toLowerCase()]).toFixed(decimalPlaces);return fixedDecimals||(str=str.replace(formatDecimalsRegExp,"$1")),thousandsSeparator&&(str=str.replace(formatThousandsRegExp,thousandsSeparator)),str+unitSeparator+unit}function parse(val){if("number"==typeof val&&!isNaN(val))return val;if("string"!=typeof val)return null;var floatValue,results=parseRegExp.exec(val),unit="b";return results?(floatValue=parseFloat(results[1]),unit=results[4].toLowerCase()):(floatValue=parseInt(val,10),unit="b"),Math.floor(map[unit]*floatValue)}},function(module,exports,__webpack_require__){"use strict";
/*!
 * http-errors
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */var deprecate=__webpack_require__(1352)("http-errors"),setPrototypeOf=__webpack_require__(1355),statuses=__webpack_require__(1356),inherits=__webpack_require__(22),toIdentifier=__webpack_require__(1358);function codeClass(status){return Number(String(status).charAt(0)+"00")}function nameFunc(func,name){var desc=Object.getOwnPropertyDescriptor(func,"name");desc&&desc.configurable&&(desc.value=name,Object.defineProperty(func,"name",desc))}module.exports=function createError(){var err;var msg;var status=500;var props={};for(var i=0;i<arguments.length;i++){var arg=arguments[i];if(arg instanceof Error)status=(err=arg).status||err.statusCode||status;else switch(typeof arg){case"string":msg=arg;break;case"number":status=arg,0!==i&&deprecate("non-first-argument status code; replace with createError("+arg+", ...)");break;case"object":props=arg}}"number"==typeof status&&(status<400||status>=600)&&deprecate("non-error status code; use only 4xx or 5xx status codes");("number"!=typeof status||!statuses[status]&&(status<400||status>=600))&&(status=500);var HttpError=createError[status]||createError[codeClass(status)];err||(err=HttpError?new HttpError(msg):new Error(msg||statuses[status]),Error.captureStackTrace(err,createError));HttpError&&err instanceof HttpError&&err.status===status||(err.expose=status<500,err.status=err.statusCode=status);for(var key in props)"status"!==key&&"statusCode"!==key&&(err[key]=props[key]);return err},module.exports.HttpError=function(){function HttpError(){throw new TypeError("cannot construct abstract class")}return inherits(HttpError,Error),HttpError}(),function(exports,codes,HttpError){codes.forEach(function(code){var CodeError,name=toIdentifier(statuses[code]);switch(codeClass(code)){case 400:CodeError=function(HttpError,name,code){var className=name.match(/Error$/)?name:name+"Error";function ClientError(message){var msg=null!=message?message:statuses[code],err=new Error(msg);return Error.captureStackTrace(err,ClientError),setPrototypeOf(err,ClientError.prototype),Object.defineProperty(err,"message",{enumerable:!0,configurable:!0,value:msg,writable:!0}),Object.defineProperty(err,"name",{enumerable:!1,configurable:!0,value:className,writable:!0}),err}return inherits(ClientError,HttpError),nameFunc(ClientError,className),ClientError.prototype.status=code,ClientError.prototype.statusCode=code,ClientError.prototype.expose=!0,ClientError}(HttpError,name,code);break;case 500:CodeError=function(HttpError,name,code){var className=name.match(/Error$/)?name:name+"Error";function ServerError(message){var msg=null!=message?message:statuses[code],err=new Error(msg);return Error.captureStackTrace(err,ServerError),setPrototypeOf(err,ServerError.prototype),Object.defineProperty(err,"message",{enumerable:!0,configurable:!0,value:msg,writable:!0}),Object.defineProperty(err,"name",{enumerable:!1,configurable:!0,value:className,writable:!0}),err}return inherits(ServerError,HttpError),nameFunc(ServerError,className),ServerError.prototype.status=code,ServerError.prototype.statusCode=code,ServerError.prototype.expose=!1,ServerError}(HttpError,name,code)}CodeError&&(exports[code]=CodeError,exports[name]=CodeError)}),exports["I'mateapot"]=deprecate.function(exports.ImATeapot,'"I\'mateapot"; use "ImATeapot" instead')}(module.exports,statuses.codes,module.exports.HttpError)},function(module,exports,__webpack_require__){
/*!
 * depd
 * Copyright(c) 2014-2017 Douglas Christopher Wilson
 * MIT Licensed
 */
var callSiteToString=__webpack_require__(1133).callSiteToString,eventListenerCount=__webpack_require__(1133).eventListenerCount,relative=__webpack_require__(47).relative;module.exports=depd;var basePath=process.cwd();function containsNamespace(str,namespace){for(var vals=str.split(/[ ,]+/),ns=String(namespace).toLowerCase(),i=0;i<vals.length;i++){var val=vals[i];if(val&&("*"===val||val.toLowerCase()===ns))return!0}return!1}function convertDataDescriptorToAccessor(obj,prop,message){var descriptor=Object.getOwnPropertyDescriptor(obj,prop),value=descriptor.value;return descriptor.get=function(){return value},descriptor.writable&&(descriptor.set=function(val){return value=val}),delete descriptor.value,delete descriptor.writable,Object.defineProperty(obj,prop,descriptor),descriptor}function createArgumentsString(arity){for(var str="",i=0;i<arity;i++)str+=", arg"+i;return str.substr(2)}function createStackString(stack){var str=this.name+": "+this.namespace;this.message&&(str+=" deprecated "+this.message);for(var i=0;i<stack.length;i++)str+="\n    at "+callSiteToString(stack[i]);return str}function depd(namespace){if(!namespace)throw new TypeError("argument namespace is required");var file=callSiteLocation(getStack()[1])[0];function deprecate(message){log.call(deprecate,message)}return deprecate._file=file,deprecate._ignored=isignored(namespace),deprecate._namespace=namespace,deprecate._traced=istraced(namespace),deprecate._warned=Object.create(null),deprecate.function=wrapfunction,deprecate.property=wrapproperty,deprecate}function isignored(namespace){return!!process.noDeprecation||containsNamespace(process.env.NO_DEPRECATION||"",namespace)}function istraced(namespace){return!!process.traceDeprecation||containsNamespace(process.env.TRACE_DEPRECATION||"",namespace)}function log(message,site){var haslisteners=0!==eventListenerCount(process,"deprecation");if(haslisteners||!this._ignored){var caller,callFile,callSite,depSite,i=0,seen=!1,stack=getStack(),file=this._file;for(site?(depSite=site,(callSite=callSiteLocation(stack[1])).name=depSite.name,file=callSite[0]):callSite=depSite=callSiteLocation(stack[i=2]);i<stack.length;i++)if((callFile=(caller=callSiteLocation(stack[i]))[0])===file)seen=!0;else if(callFile===this._file)file=this._file;else if(seen)break;var key=caller?depSite.join(":")+"__"+caller.join(":"):void 0;if(!(void 0!==key&&key in this._warned)){this._warned[key]=!0;var msg=message;if(msg||(msg=callSite!==depSite&&callSite.name?defaultMessage(callSite):defaultMessage(depSite)),haslisteners){var err=DeprecationError(this._namespace,msg,stack.slice(i));process.emit("deprecation",err)}else{var output=(process.stderr.isTTY?formatColor:formatPlain).call(this,msg,caller,stack.slice(i));process.stderr.write(output+"\n","utf8")}}}}function callSiteLocation(callSite){var file=callSite.getFileName()||"<anonymous>",line=callSite.getLineNumber(),colm=callSite.getColumnNumber();callSite.isEval()&&(file=callSite.getEvalOrigin()+", "+file);var site=[file,line,colm];return site.callSite=callSite,site.name=callSite.getFunctionName(),site}function defaultMessage(site){var callSite=site.callSite,funcName=site.name;funcName||(funcName="<anonymous@"+formatLocation(site)+">");var context=callSite.getThis(),typeName=context&&callSite.getTypeName();return"Object"===typeName&&(typeName=void 0),"Function"===typeName&&(typeName=context.name||typeName),typeName&&callSite.getMethodName()?typeName+"."+funcName:funcName}function formatPlain(msg,caller,stack){var formatted=(new Date).toUTCString()+" "+this._namespace+" deprecated "+msg;if(this._traced){for(var i=0;i<stack.length;i++)formatted+="\n    at "+callSiteToString(stack[i]);return formatted}return caller&&(formatted+=" at "+formatLocation(caller)),formatted}function formatColor(msg,caller,stack){var formatted="[36;1m"+this._namespace+"[22;39m [33;1mdeprecated[22;39m [0m"+msg+"[39m";if(this._traced){for(var i=0;i<stack.length;i++)formatted+="\n    [36mat "+callSiteToString(stack[i])+"[39m";return formatted}return caller&&(formatted+=" [36m"+formatLocation(caller)+"[39m"),formatted}function formatLocation(callSite){return relative(basePath,callSite[0])+":"+callSite[1]+":"+callSite[2]}function getStack(){var limit=Error.stackTraceLimit,obj={},prep=Error.prepareStackTrace;Error.prepareStackTrace=prepareObjectStackTrace,Error.stackTraceLimit=Math.max(10,limit),Error.captureStackTrace(obj);var stack=obj.stack.slice(1);return Error.prepareStackTrace=prep,Error.stackTraceLimit=limit,stack}function prepareObjectStackTrace(obj,stack){return stack}function wrapfunction(fn,message){if("function"!=typeof fn)throw new TypeError("argument fn must be a function");var args=createArgumentsString(fn.length),deprecate=this,stack=getStack(),site=callSiteLocation(stack[1]);site.name=fn.name;var deprecatedfn=eval("(function ("+args+') {\n"use strict"\nlog.call(deprecate, message, site)\nreturn fn.apply(this, arguments)\n})');return deprecatedfn}function wrapproperty(obj,prop,message){if(!obj||"object"!=typeof obj&&"function"!=typeof obj)throw new TypeError("argument obj must be object");var descriptor=Object.getOwnPropertyDescriptor(obj,prop);if(!descriptor)throw new TypeError("must call property on owner object");if(!descriptor.configurable)throw new TypeError("property must be configurable");var deprecate=this,site=callSiteLocation(getStack()[1]);site.name=prop,"value"in descriptor&&(descriptor=convertDataDescriptorToAccessor(obj,prop,message));var get=descriptor.get,set=descriptor.set;"function"==typeof get&&(descriptor.get=function(){return log.call(deprecate,message,site),get.apply(this,arguments)}),"function"==typeof set&&(descriptor.set=function(){return log.call(deprecate,message,site),set.apply(this,arguments)}),Object.defineProperty(obj,prop,descriptor)}function DeprecationError(namespace,message,stack){var stackString,error=new Error;return Object.defineProperty(error,"constructor",{value:DeprecationError}),Object.defineProperty(error,"message",{configurable:!0,enumerable:!1,value:message,writable:!0}),Object.defineProperty(error,"name",{enumerable:!1,configurable:!0,value:"DeprecationError",writable:!0}),Object.defineProperty(error,"namespace",{configurable:!0,enumerable:!1,value:namespace,writable:!0}),Object.defineProperty(error,"stack",{configurable:!0,enumerable:!1,get:function(){return void 0!==stackString?stackString:stackString=createStackString.call(this,stack)},set:function(val){stackString=val}}),error}},function(module,exports,__webpack_require__){"use strict";
/*!
 * depd
 * Copyright(c) 2014 Douglas Christopher Wilson
 * MIT Licensed
 */module.exports=function(callSite){var addSuffix=!0,fileLocation=function(callSite){var fileName,fileLocation="";callSite.isNative()?fileLocation="native":callSite.isEval()?(fileName=callSite.getScriptNameOrSourceURL())||(fileLocation=callSite.getEvalOrigin()):fileName=callSite.getFileName();if(fileName){fileLocation+=fileName;var lineNumber=callSite.getLineNumber();if(null!=lineNumber){fileLocation+=":"+lineNumber;var columnNumber=callSite.getColumnNumber();columnNumber&&(fileLocation+=":"+columnNumber)}}return fileLocation||"unknown source"}(callSite),functionName=callSite.getFunctionName(),isConstructor=callSite.isConstructor(),isMethodCall=!(callSite.isToplevel()||isConstructor),line="";if(isMethodCall){var methodName=callSite.getMethodName(),typeName=(receiver=callSite.receiver).constructor&&receiver.constructor.name||null;functionName?(typeName&&0!==functionName.indexOf(typeName)&&(line+=typeName+"."),line+=functionName,methodName&&functionName.lastIndexOf("."+methodName)!==functionName.length-methodName.length-1&&(line+=" [as "+methodName+"]")):line+=typeName+"."+(methodName||"<anonymous>")}else isConstructor?line+="new "+(functionName||"<anonymous>"):functionName?line+=functionName:(addSuffix=!1,line+=fileLocation);var receiver;addSuffix&&(line+=" ("+fileLocation+")");return line}},function(module,exports,__webpack_require__){"use strict";
/*!
 * depd
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */module.exports=function(emitter,type){return emitter.listeners(type).length}},function(module,exports,__webpack_require__){"use strict";module.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(obj,proto){return obj.__proto__=proto,obj}:function(obj,proto){for(var prop in proto)obj.hasOwnProperty(prop)||(obj[prop]=proto[prop]);return obj})},function(module,exports,__webpack_require__){"use strict";
/*!
 * statuses
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */var codes=__webpack_require__(1357);function status(code){if("number"==typeof code){if(!status[code])throw new Error("invalid status code: "+code);return code}if("string"!=typeof code)throw new TypeError("code must be a number or string");var n=parseInt(code,10);if(!isNaN(n)){if(!status[n])throw new Error("invalid status code: "+n);return n}if(!(n=status[code.toLowerCase()]))throw new Error('invalid status message: "'+code+'"');return n}module.exports=status,status.STATUS_CODES=codes,status.codes=function(statuses,codes){var arr=[];return Object.keys(codes).forEach(function(code){var message=codes[code],status=Number(code);statuses[status]=message,statuses[message]=status,statuses[message.toLowerCase()]=status,arr.push(status)}),arr}(status,codes),status.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},status.empty={204:!0,205:!0,304:!0},status.retry={502:!0,503:!0,504:!0}},function(module){module.exports=JSON.parse('{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","306":"(Unused)","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I\'m a teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Unordered Collection","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}')},function(module,exports){
/*!
 * toidentifier
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */
module.exports=function(str){return str.split(" ").map(function(token){return token.slice(0,1).toUpperCase()+token.slice(1)}).join("").replace(/[^ _0-9a-z]/gi,"")}},function(module,exports,__webpack_require__){"use strict";
/*!
 * unpipe
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */module.exports=function(stream){if(!stream)throw new TypeError("argument stream is required");if("function"==typeof stream.unpipe)return void stream.unpipe();if(!function(stream){for(var listeners=stream.listeners("data"),i=0;i<listeners.length;i++)if("ondata"===listeners[i].name)return!0;return!1}(stream))return;for(var listener,listeners=stream.listeners("close"),i=0;i<listeners.length;i++)"cleanup"!==(listener=listeners[i]).name&&"onclose"!==listener.name||listener.call(stream)}},function(module,exports,__webpack_require__){"use strict";const singleComment=Symbol("singleComment"),multiComment=Symbol("multiComment"),stripWithoutWhitespace=()=>"",stripWithWhitespace=(string,start,end)=>string.slice(start,end).replace(/\S/g," "),isEscaped=(jsonString,quotePosition)=>{let index=quotePosition-1,backslashCount=0;for(;"\\"===jsonString[index];)index-=1,backslashCount+=1;return Boolean(backslashCount%2)};module.exports=(jsonString,options={})=>{const strip=!1===options.whitespace?stripWithoutWhitespace:stripWithWhitespace;let insideString=!1,insideComment=!1,offset=0,result="";for(let i=0;i<jsonString.length;i++){const currentCharacter=jsonString[i],nextCharacter=jsonString[i+1];if(!insideComment&&'"'===currentCharacter){isEscaped(jsonString,i)||(insideString=!insideString)}if(!insideString)if(insideComment||currentCharacter+nextCharacter!=="//"){if(insideComment===singleComment&&currentCharacter+nextCharacter==="\r\n"){insideComment=!1,result+=strip(jsonString,offset,++i),offset=i;continue}if(insideComment===singleComment&&"\n"===currentCharacter)insideComment=!1,result+=strip(jsonString,offset,i),offset=i;else{if(!insideComment&&currentCharacter+nextCharacter==="/*"){result+=jsonString.slice(offset,i),offset=i,insideComment=multiComment,i++;continue}if(insideComment===multiComment&&currentCharacter+nextCharacter==="*/"){insideComment=!1,result+=strip(jsonString,offset,++i+1),offset=i+1;continue}}}else result+=jsonString.slice(offset,i),offset=i,insideComment=singleComment,i++}return result+(insideComment?strip(jsonString.slice(offset)):jsonString.slice(offset))}},function(module,exports,__webpack_require__){var factory;factory=function(){return function(modules){var installedModules={};function __w_pdfjs_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__w_pdfjs_require__),module.l=!0,module.exports}return __w_pdfjs_require__.m=modules,__w_pdfjs_require__.c=installedModules,__w_pdfjs_require__.d=function(exports,name,getter){__w_pdfjs_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__w_pdfjs_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__w_pdfjs_require__.t=function(value,mode){if(1&mode&&(value=__w_pdfjs_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__w_pdfjs_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__w_pdfjs_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__w_pdfjs_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __w_pdfjs_require__.d(getter,"a",getter),getter},__w_pdfjs_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__w_pdfjs_require__.p="",__w_pdfjs_require__(__w_pdfjs_require__.s=0)}([function(module,exports,__w_pdfjs_require__){"use strict";var pdfjsSharedUtil=__w_pdfjs_require__(1),pdfjsDisplayAPI=__w_pdfjs_require__(129),pdfjsDisplayTextLayer=__w_pdfjs_require__(145),pdfjsDisplayAnnotationLayer=__w_pdfjs_require__(146),pdfjsDisplayDOMUtils=__w_pdfjs_require__(130),pdfjsDisplaySVG=__w_pdfjs_require__(147),pdfjsDisplayWorkerOptions=__w_pdfjs_require__(135),pdfjsDisplayAPICompatibility=__w_pdfjs_require__(132);if(__w_pdfjs_require__(4)()){var PDFNodeStream=__w_pdfjs_require__(148).PDFNodeStream;pdfjsDisplayAPI.setPDFNetworkStreamFactory(function(params){return new PDFNodeStream(params)})}else if("undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream){var PDFFetchStream=__w_pdfjs_require__(151).PDFFetchStream;pdfjsDisplayAPI.setPDFNetworkStreamFactory(function(params){return new PDFFetchStream(params)})}else{var PDFNetworkStream=__w_pdfjs_require__(152).PDFNetworkStream;pdfjsDisplayAPI.setPDFNetworkStreamFactory(function(params){return new PDFNetworkStream(params)})}exports.build=pdfjsDisplayAPI.build,exports.version=pdfjsDisplayAPI.version,exports.getDocument=pdfjsDisplayAPI.getDocument,exports.LoopbackPort=pdfjsDisplayAPI.LoopbackPort,exports.PDFDataRangeTransport=pdfjsDisplayAPI.PDFDataRangeTransport,exports.PDFWorker=pdfjsDisplayAPI.PDFWorker,exports.renderTextLayer=pdfjsDisplayTextLayer.renderTextLayer,exports.AnnotationLayer=pdfjsDisplayAnnotationLayer.AnnotationLayer,exports.createPromiseCapability=pdfjsSharedUtil.createPromiseCapability,exports.PasswordResponses=pdfjsSharedUtil.PasswordResponses,exports.InvalidPDFException=pdfjsSharedUtil.InvalidPDFException,exports.MissingPDFException=pdfjsSharedUtil.MissingPDFException,exports.SVGGraphics=pdfjsDisplaySVG.SVGGraphics,exports.NativeImageDecoding=pdfjsSharedUtil.NativeImageDecoding,exports.CMapCompressionType=pdfjsSharedUtil.CMapCompressionType,exports.PermissionFlag=pdfjsSharedUtil.PermissionFlag,exports.UnexpectedResponseException=pdfjsSharedUtil.UnexpectedResponseException,exports.OPS=pdfjsSharedUtil.OPS,exports.VerbosityLevel=pdfjsSharedUtil.VerbosityLevel,exports.UNSUPPORTED_FEATURES=pdfjsSharedUtil.UNSUPPORTED_FEATURES,exports.createValidAbsoluteUrl=pdfjsSharedUtil.createValidAbsoluteUrl,exports.createObjectURL=pdfjsSharedUtil.createObjectURL,exports.removeNullCharacters=pdfjsSharedUtil.removeNullCharacters,exports.shadow=pdfjsSharedUtil.shadow,exports.Util=pdfjsSharedUtil.Util,exports.ReadableStream=pdfjsSharedUtil.ReadableStream,exports.URL=pdfjsSharedUtil.URL,exports.RenderingCancelledException=pdfjsDisplayDOMUtils.RenderingCancelledException,exports.getFilenameFromUrl=pdfjsDisplayDOMUtils.getFilenameFromUrl,exports.LinkTarget=pdfjsDisplayDOMUtils.LinkTarget,exports.addLinkAttributes=pdfjsDisplayDOMUtils.addLinkAttributes,exports.loadScript=pdfjsDisplayDOMUtils.loadScript,exports.GlobalWorkerOptions=pdfjsDisplayWorkerOptions.GlobalWorkerOptions,exports.apiCompatibilityParams=pdfjsDisplayAPICompatibility.apiCompatibilityParams},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.unreachable=exports.warn=exports.utf8StringToString=exports.stringToUTF8String=exports.stringToPDFString=exports.stringToBytes=exports.string32=exports.shadow=exports.setVerbosityLevel=exports.URL=exports.ReadableStream=exports.removeNullCharacters=exports.readUint32=exports.readUint16=exports.readInt8=exports.log2=exports.isEvalSupported=exports.isLittleEndian=exports.createValidAbsoluteUrl=exports.isSameOrigin=exports.isSpace=exports.isString=exports.isNum=exports.isEmptyObj=exports.isBool=exports.isArrayBuffer=exports.info=exports.getVerbosityLevel=exports.getLookupTableFactory=exports.getInheritableProperty=exports.deprecated=exports.createObjectURL=exports.createPromiseCapability=exports.bytesToString=exports.assert=exports.arraysToBytes=exports.arrayByteLength=exports.FormatError=exports.XRefParseException=exports.toRomanNumerals=exports.Util=exports.UnknownErrorException=exports.UnexpectedResponseException=exports.TextRenderingMode=exports.StreamType=exports.PermissionFlag=exports.PasswordResponses=exports.PasswordException=exports.NativeImageDecoding=exports.MissingPDFException=exports.MissingDataException=exports.InvalidPDFException=exports.AbortException=exports.CMapCompressionType=exports.ImageKind=exports.FontType=exports.AnnotationType=exports.AnnotationFlag=exports.AnnotationFieldFlag=exports.AnnotationBorderStyleType=exports.UNSUPPORTED_FEATURES=exports.VerbosityLevel=exports.OPS=exports.IDENTITY_MATRIX=exports.FONT_IDENTITY_MATRIX=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};__w_pdfjs_require__(2);var _streams_polyfill=__w_pdfjs_require__(125),_url_polyfill=__w_pdfjs_require__(127),VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5},verbosity=VerbosityLevel.WARNINGS;function warn(msg){verbosity>=VerbosityLevel.WARNINGS&&console.log("Warning: "+msg)}function unreachable(msg){throw new Error(msg)}function assert(cond,msg){cond||unreachable(msg)}var PasswordException=function(){function PasswordException(msg,code){this.name="PasswordException",this.message=msg,this.code=code}return PasswordException.prototype=new Error,PasswordException.constructor=PasswordException,PasswordException}(),UnknownErrorException=function(){function UnknownErrorException(msg,details){this.name="UnknownErrorException",this.message=msg,this.details=details}return UnknownErrorException.prototype=new Error,UnknownErrorException.constructor=UnknownErrorException,UnknownErrorException}(),InvalidPDFException=function(){function InvalidPDFException(msg){this.name="InvalidPDFException",this.message=msg}return InvalidPDFException.prototype=new Error,InvalidPDFException.constructor=InvalidPDFException,InvalidPDFException}(),MissingPDFException=function(){function MissingPDFException(msg){this.name="MissingPDFException",this.message=msg}return MissingPDFException.prototype=new Error,MissingPDFException.constructor=MissingPDFException,MissingPDFException}(),UnexpectedResponseException=function(){function UnexpectedResponseException(msg,status){this.name="UnexpectedResponseException",this.message=msg,this.status=status}return UnexpectedResponseException.prototype=new Error,UnexpectedResponseException.constructor=UnexpectedResponseException,UnexpectedResponseException}(),MissingDataException=function(){function MissingDataException(begin,end){this.begin=begin,this.end=end,this.message="Missing data ["+begin+", "+end+")"}return MissingDataException.prototype=new Error,MissingDataException.prototype.name="MissingDataException",MissingDataException.constructor=MissingDataException,MissingDataException}(),XRefParseException=function(){function XRefParseException(msg){this.message=msg}return XRefParseException.prototype=new Error,XRefParseException.prototype.name="XRefParseException",XRefParseException.constructor=XRefParseException,XRefParseException}(),FormatError=function(){function FormatError(msg){this.message=msg}return FormatError.prototype=new Error,FormatError.prototype.name="FormatError",FormatError.constructor=FormatError,FormatError}(),AbortException=function(){function AbortException(msg){this.name="AbortException",this.message=msg}return AbortException.prototype=new Error,AbortException.constructor=AbortException,AbortException}(),NullCharactersRegExp=/\x00/g;function stringToBytes(str){assert("string"==typeof str,"Invalid argument for stringToBytes");for(var length=str.length,bytes=new Uint8Array(length),i=0;i<length;++i)bytes[i]=255&str.charCodeAt(i);return bytes}function arrayByteLength(arr){return void 0!==arr.length?arr.length:(assert(void 0!==arr.byteLength),arr.byteLength)}var Util=function(){function Util(){}var rgbBuf=["rgb(",0,",",0,",",0,")"];return Util.makeCssRgb=function(r,g,b){return rgbBuf[1]=r,rgbBuf[3]=g,rgbBuf[5]=b,rgbBuf.join("")},Util.transform=function(m1,m2){return[m1[0]*m2[0]+m1[2]*m2[1],m1[1]*m2[0]+m1[3]*m2[1],m1[0]*m2[2]+m1[2]*m2[3],m1[1]*m2[2]+m1[3]*m2[3],m1[0]*m2[4]+m1[2]*m2[5]+m1[4],m1[1]*m2[4]+m1[3]*m2[5]+m1[5]]},Util.applyTransform=function(p,m){return[p[0]*m[0]+p[1]*m[2]+m[4],p[0]*m[1]+p[1]*m[3]+m[5]]},Util.applyInverseTransform=function(p,m){var d=m[0]*m[3]-m[1]*m[2];return[(p[0]*m[3]-p[1]*m[2]+m[2]*m[5]-m[4]*m[3])/d,(-p[0]*m[1]+p[1]*m[0]+m[4]*m[1]-m[5]*m[0])/d]},Util.getAxialAlignedBoundingBox=function(r,m){var p1=Util.applyTransform(r,m),p2=Util.applyTransform(r.slice(2,4),m),p3=Util.applyTransform([r[0],r[3]],m),p4=Util.applyTransform([r[2],r[1]],m);return[Math.min(p1[0],p2[0],p3[0],p4[0]),Math.min(p1[1],p2[1],p3[1],p4[1]),Math.max(p1[0],p2[0],p3[0],p4[0]),Math.max(p1[1],p2[1],p3[1],p4[1])]},Util.inverseTransform=function(m){var d=m[0]*m[3]-m[1]*m[2];return[m[3]/d,-m[1]/d,-m[2]/d,m[0]/d,(m[2]*m[5]-m[4]*m[3])/d,(m[4]*m[1]-m[5]*m[0])/d]},Util.apply3dTransform=function(m,v){return[m[0]*v[0]+m[1]*v[1]+m[2]*v[2],m[3]*v[0]+m[4]*v[1]+m[5]*v[2],m[6]*v[0]+m[7]*v[1]+m[8]*v[2]]},Util.singularValueDecompose2dScale=function(m){var transpose=[m[0],m[2],m[1],m[3]],a=m[0]*transpose[0]+m[1]*transpose[2],b=m[0]*transpose[1]+m[1]*transpose[3],c=m[2]*transpose[0]+m[3]*transpose[2],d=m[2]*transpose[1]+m[3]*transpose[3],first=(a+d)/2,second=Math.sqrt((a+d)*(a+d)-4*(a*d-c*b))/2,sx=first+second||1,sy=first-second||1;return[Math.sqrt(sx),Math.sqrt(sy)]},Util.normalizeRect=function(rect){var r=rect.slice(0);return rect[0]>rect[2]&&(r[0]=rect[2],r[2]=rect[0]),rect[1]>rect[3]&&(r[1]=rect[3],r[3]=rect[1]),r},Util.intersect=function(rect1,rect2){function compare(a,b){return a-b}var orderedX=[rect1[0],rect1[2],rect2[0],rect2[2]].sort(compare),orderedY=[rect1[1],rect1[3],rect2[1],rect2[3]].sort(compare),result=[];return rect1=Util.normalizeRect(rect1),rect2=Util.normalizeRect(rect2),(orderedX[0]===rect1[0]&&orderedX[1]===rect2[0]||orderedX[0]===rect2[0]&&orderedX[1]===rect1[0])&&(result[0]=orderedX[1],result[2]=orderedX[2],(orderedY[0]===rect1[1]&&orderedY[1]===rect2[1]||orderedY[0]===rect2[1]&&orderedY[1]===rect1[1])&&(result[1]=orderedY[1],result[3]=orderedY[2],result))},Util}(),ROMAN_NUMBER_MAP=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];var PDFStringTranslateTable=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];var digits,createObjectURL=(digits="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",function(data,contentType){var forceDataSchema=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!forceDataSchema&&_url_polyfill.URL.createObjectURL){var blob=new Blob([data],{type:contentType});return _url_polyfill.URL.createObjectURL(blob)}for(var buffer="data:"+contentType+";base64,",i=0,ii=data.length;i<ii;i+=3){var b1=255&data[i],b2=255&data[i+1],b3=255&data[i+2],d1=b1>>2,d2=(3&b1)<<4|b2>>4,d3=i+1<ii?(15&b2)<<2|b3>>6:64,d4=i+2<ii?63&b3:64;buffer+=digits[d1]+digits[d2]+digits[d3]+digits[d4]}return buffer});exports.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],exports.IDENTITY_MATRIX=[1,0,0,1,0,0],exports.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},exports.VerbosityLevel=VerbosityLevel,exports.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font"},exports.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},exports.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},exports.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},exports.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},exports.FontType={UNKNOWN:0,TYPE1:1,TYPE1C:2,CIDFONTTYPE0:3,CIDFONTTYPE0C:4,TRUETYPE:5,CIDFONTTYPE2:6,TYPE3:7,OPENTYPE:8,TYPE0:9,MMTYPE1:10},exports.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},exports.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},exports.AbortException=AbortException,exports.InvalidPDFException=InvalidPDFException,exports.MissingDataException=MissingDataException,exports.MissingPDFException=MissingPDFException,exports.NativeImageDecoding={NONE:"none",DECODE:"decode",DISPLAY:"display"},exports.PasswordException=PasswordException,exports.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},exports.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},exports.StreamType={UNKNOWN:0,FLATE:1,LZW:2,DCT:3,JPX:4,JBIG:5,A85:6,AHX:7,CCF:8,RL:9},exports.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},exports.UnexpectedResponseException=UnexpectedResponseException,exports.UnknownErrorException=UnknownErrorException,exports.Util=Util,exports.toRomanNumerals=function(number){var lowerCase=arguments.length>1&&void 0!==arguments[1]&&arguments[1];assert(Number.isInteger(number)&&number>0,"The number should be a positive integer.");for(var pos=void 0,romanBuf=[];number>=1e3;)number-=1e3,romanBuf.push("M");pos=number/100|0,number%=100,romanBuf.push(ROMAN_NUMBER_MAP[pos]),pos=number/10|0,number%=10,romanBuf.push(ROMAN_NUMBER_MAP[10+pos]),romanBuf.push(ROMAN_NUMBER_MAP[20+number]);var romanStr=romanBuf.join("");return lowerCase?romanStr.toLowerCase():romanStr},exports.XRefParseException=XRefParseException,exports.FormatError=FormatError,exports.arrayByteLength=arrayByteLength,exports.arraysToBytes=function(arr){if(1===arr.length&&arr[0]instanceof Uint8Array)return arr[0];var i,item,itemLength,resultLength=0,ii=arr.length;for(i=0;i<ii;i++)resultLength+=itemLength=arrayByteLength(item=arr[i]);var pos=0,data=new Uint8Array(resultLength);for(i=0;i<ii;i++)(item=arr[i])instanceof Uint8Array||(item="string"==typeof item?stringToBytes(item):new Uint8Array(item)),itemLength=item.byteLength,data.set(item,pos),pos+=itemLength;return data},exports.assert=assert,exports.bytesToString=function(bytes){assert(null!==bytes&&"object"===(void 0===bytes?"undefined":_typeof(bytes))&&void 0!==bytes.length,"Invalid argument for bytesToString");var length=bytes.length;if(length<8192)return String.fromCharCode.apply(null,bytes);for(var strBuf=[],i=0;i<length;i+=8192){var chunkEnd=Math.min(i+8192,length),chunk=bytes.subarray(i,chunkEnd);strBuf.push(String.fromCharCode.apply(null,chunk))}return strBuf.join("")},exports.createPromiseCapability=function(){var capability={};return capability.promise=new Promise(function(resolve,reject){capability.resolve=resolve,capability.reject=reject}),capability},exports.createObjectURL=createObjectURL,exports.deprecated=function(details){console.log("Deprecated API usage: "+details)},exports.getInheritableProperty=function(_ref){for(var dict=_ref.dict,key=_ref.key,_ref$getArray=_ref.getArray,getArray=void 0!==_ref$getArray&&_ref$getArray,_ref$stopWhenFound=_ref.stopWhenFound,stopWhenFound=void 0===_ref$stopWhenFound||_ref$stopWhenFound,loopCount=0,values=void 0;dict;){var value=getArray?dict.getArray(key):dict.get(key);if(void 0!==value){if(stopWhenFound)return value;values||(values=[]),values.push(value)}if(++loopCount>100){warn('getInheritableProperty: maximum loop count exceeded for "'+key+'"');break}dict=dict.get("Parent")}return values},exports.getLookupTableFactory=function(initializer){var lookup;return function(){return initializer&&(lookup=Object.create(null),initializer(lookup),initializer=null),lookup}},exports.getVerbosityLevel=function(){return verbosity},exports.info=function(msg){verbosity>=VerbosityLevel.INFOS&&console.log("Info: "+msg)},exports.isArrayBuffer=function(v){return"object"===(void 0===v?"undefined":_typeof(v))&&null!==v&&void 0!==v.byteLength},exports.isBool=function(v){return"boolean"==typeof v},exports.isEmptyObj=function(obj){for(var key in obj)return!1;return!0},exports.isNum=function(v){return"number"==typeof v},exports.isString=function(v){return"string"==typeof v},exports.isSpace=function(ch){return 32===ch||9===ch||13===ch||10===ch},exports.isSameOrigin=function(baseUrl,otherUrl){try{var base=new _url_polyfill.URL(baseUrl);if(!base.origin||"null"===base.origin)return!1}catch(e){return!1}var other=new _url_polyfill.URL(otherUrl,base);return base.origin===other.origin},exports.createValidAbsoluteUrl=function(url,baseUrl){if(!url)return null;try{var absoluteUrl=baseUrl?new _url_polyfill.URL(url,baseUrl):new _url_polyfill.URL(url);if(function(url){if(!url)return!1;switch(url.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(absoluteUrl))return absoluteUrl}catch(ex){}return null},exports.isLittleEndian=function(){var buffer8=new Uint8Array(4);return buffer8[0]=1,1===new Uint32Array(buffer8.buffer,0,1)[0]},exports.isEvalSupported=function(){try{return new Function(""),!0}catch(e){return!1}},exports.log2=function(x){return x<=0?0:Math.ceil(Math.log2(x))},exports.readInt8=function(data,start){return data[start]<<24>>24},exports.readUint16=function(data,offset){return data[offset]<<8|data[offset+1]},exports.readUint32=function(data,offset){return(data[offset]<<24|data[offset+1]<<16|data[offset+2]<<8|data[offset+3])>>>0},exports.removeNullCharacters=function(str){return"string"!=typeof str?(warn("The argument for removeNullCharacters must be a string."),str):str.replace(NullCharactersRegExp,"")},exports.ReadableStream=_streams_polyfill.ReadableStream,exports.URL=_url_polyfill.URL,exports.setVerbosityLevel=function(level){Number.isInteger(level)&&(verbosity=level)},exports.shadow=function(obj,prop,value){return Object.defineProperty(obj,prop,{value:value,enumerable:!0,configurable:!0,writable:!1}),value},exports.string32=function(value){return String.fromCharCode(value>>24&255,value>>16&255,value>>8&255,255&value)},exports.stringToBytes=stringToBytes,exports.stringToPDFString=function(str){var i,n=str.length,strBuf=[];if(""===str[0]&&""===str[1])for(i=2;i<n;i+=2)strBuf.push(String.fromCharCode(str.charCodeAt(i)<<8|str.charCodeAt(i+1)));else for(i=0;i<n;++i){var code=PDFStringTranslateTable[str.charCodeAt(i)];strBuf.push(code?String.fromCharCode(code):str.charAt(i))}return strBuf.join("")},exports.stringToUTF8String=function(str){return decodeURIComponent(escape(str))},exports.utf8StringToString=function(str){return unescape(encodeURIComponent(str))},exports.warn=warn,exports.unreachable=unreachable},function(module,exports,__w_pdfjs_require__){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},globalScope=__w_pdfjs_require__(3);if(!globalScope._pdfjsCompatibilityChecked){globalScope._pdfjsCompatibilityChecked=!0;var isNodeJS=__w_pdfjs_require__(4),hasDOM="object"===("undefined"==typeof window?"undefined":_typeof(window))&&"object"===("undefined"==typeof document?"undefined":_typeof(document));!globalScope.btoa&&isNodeJS()&&(globalScope.btoa=function(chars){return Buffer.from(chars,"binary").toString("base64")}),!globalScope.atob&&isNodeJS()&&(globalScope.atob=function(input){return Buffer.from(input,"base64").toString("binary")}),hasDOM&&("currentScript"in document||Object.defineProperty(document,"currentScript",{get:function(){var scripts=document.getElementsByTagName("script");return scripts[scripts.length-1]},enumerable:!0,configurable:!0})),hasDOM&&void 0===Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),function(){if(hasDOM&&!isNodeJS()&&!1!==document.createElement("div").classList.toggle("test",0)){var originalDOMTokenListToggle=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(token){if(arguments.length>1){var force=!!arguments[1];return this[force?"add":"remove"](token),force}return originalDOMTokenListToggle(token)}}}(),String.prototype.includes||__w_pdfjs_require__(5),Array.prototype.includes||__w_pdfjs_require__(33),Object.assign||__w_pdfjs_require__(42),Math.log2||(Math.log2=__w_pdfjs_require__(52)),Number.isNaN||(Number.isNaN=__w_pdfjs_require__(54)),Number.isInteger||(Number.isInteger=__w_pdfjs_require__(56)),globalScope.Promise||(globalScope.Promise=__w_pdfjs_require__(59)),globalScope.WeakMap||(globalScope.WeakMap=__w_pdfjs_require__(94)),String.codePointAt||(String.codePointAt=__w_pdfjs_require__(111)),String.fromCodePoint||(String.fromCodePoint=__w_pdfjs_require__(113)),globalScope.Symbol||__w_pdfjs_require__(115),Object.values||(Object.values=__w_pdfjs_require__(122))}},function(module,exports,__w_pdfjs_require__){"use strict";module.exports="undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:{}},function(module,exports,__w_pdfjs_require__){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};module.exports=function(){return"object"===("undefined"==typeof process?"undefined":_typeof(process))&&process+""=="[object process]"}},function(module,exports,__w_pdfjs_require__){"use strict";__w_pdfjs_require__(6),module.exports=__w_pdfjs_require__(9).String.includes},function(module,exports,__w_pdfjs_require__){"use strict";var $export=__w_pdfjs_require__(7),context=__w_pdfjs_require__(25);$export($export.P+$export.F*__w_pdfjs_require__(32)("includes"),"String",{includes:function(searchString){return!!~context(this,searchString,"includes").indexOf(searchString,arguments.length>1?arguments[1]:void 0)}})},function(module,exports,__w_pdfjs_require__){"use strict";var global=__w_pdfjs_require__(8),core=__w_pdfjs_require__(9),hide=__w_pdfjs_require__(10),redefine=__w_pdfjs_require__(20),ctx=__w_pdfjs_require__(23),$export=function $export(type,name,source){var key,own,out,exp,IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,target=IS_GLOBAL?global:type&$export.S?global[name]||(global[name]={}):(global[name]||{}).prototype,exports=IS_GLOBAL?core:core[name]||(core[name]={}),expProto=exports.prototype||(exports.prototype={});for(key in IS_GLOBAL&&(source=name),source)out=((own=!IS_FORCED&&target&&void 0!==target[key])?target:source)[key],exp=IS_BIND&&own?ctx(out,global):IS_PROTO&&"function"==typeof out?ctx(Function.call,out):out,target&&redefine(target,key,out,type&$export.U),exports[key]!=out&&hide(exports,key,exp),IS_PROTO&&expProto[key]!=out&&(expProto[key]=out)};global.core=core,$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,module.exports=$export},function(module,exports,__w_pdfjs_require__){"use strict";var global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=global)},function(module,exports,__w_pdfjs_require__){"use strict";var core=module.exports={version:"2.5.7"};"number"==typeof __e&&(__e=core)},function(module,exports,__w_pdfjs_require__){"use strict";var dP=__w_pdfjs_require__(11),createDesc=__w_pdfjs_require__(19);module.exports=__w_pdfjs_require__(15)?function(object,key,value){return dP.f(object,key,createDesc(1,value))}:function(object,key,value){return object[key]=value,object}},function(module,exports,__w_pdfjs_require__){"use strict";var anObject=__w_pdfjs_require__(12),IE8_DOM_DEFINE=__w_pdfjs_require__(14),toPrimitive=__w_pdfjs_require__(18),dP=Object.defineProperty;exports.f=__w_pdfjs_require__(15)?Object.defineProperty:function(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");return"value"in Attributes&&(O[P]=Attributes.value),O}},function(module,exports,__w_pdfjs_require__){"use strict";var isObject=__w_pdfjs_require__(13);module.exports=function(it){if(!isObject(it))throw TypeError(it+" is not an object!");return it}},function(module,exports,__w_pdfjs_require__){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};module.exports=function(it){return"object"===(void 0===it?"undefined":_typeof(it))?null!==it:"function"==typeof it}},function(module,exports,__w_pdfjs_require__){"use strict";module.exports=!__w_pdfjs_require__(15)&&!__w_pdfjs_require__(16)(function(){return 7!=Object.defineProperty(__w_pdfjs_require__(17)("div"),"a",{get:function(){return 7}}).a})},function(module,exports,__w_pdfjs_require__){"use strict";module.exports=!__w_pdfjs_require__(16)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(module,exports,__w_pdfjs_require__){"use strict";module.exports=function(exec){try{return!!exec()}catch(e){return!0}}},function(module,exports,__w_pdfjs_require__){"use strict";var isObject=__w_pdfjs_require__(13),document=__w_pdfjs_require__(8).document,is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{}}},function(module,exports,__w_pdfjs_require__){"use strict";var isObject=__w_pdfjs_require__(13);module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;if("function"==typeof(fn=it.valueOf)&&!isObject(val=fn.call(it)))return val;if(!S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")}},function(module,exports,__w_pdfjs_require__){"use strict";module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}},function(module,exports,__w_pdfjs_require__){"use strict";var global=__w_pdfjs_require__(8),hide=__w_pdfjs_require__(10),has=__w_pdfjs_require__(21),SRC=__w_pdfjs_require__(22)("src"),$toString=Function.toString,TPL=(""+$toString).split("toString");__w_pdfjs_require__(9).inspectSource=function(it){return $toString.call(it)},(module.exports=function(O,key,val,safe){var isFunction="function"==typeof val;isFunction&&(has(val,"name")||hide(val,"name",key)),O[key]!==val&&(isFunction&&(has(val,SRC)||hide(val,SRC,O[key]?""+O[key]:TPL.join(String(key)))),O===global?O[key]=val:safe?O[key]?O[key]=val:hide(O,key,val):(delete O[key],hide(O,key,val)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[SRC]||$toString.call(this)})},function(module,exports,__w_pdfjs_require__){"use strict";var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},function(module,exports,__w_pdfjs_require__){"use strict";var id=0,px=Math.random();module.exports=function(key){return"Symbol(".concat(void 0===key?"":key,")_",(++id+px).toString(36))}},function(module,exports,__w_pdfjs_require__){"use strict";var aFunction=__w_pdfjs_require__(24);module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},function(module,exports,__w_pdfjs_require__){"use strict";module.exports=function(it){if("function"!=typeof it)throw TypeError(it+" is not a function!");return it}},function(module,exports,__w_pdfjs_require__){"use strict";var isRegExp=__w_pdfjs_require__(26),defined=__w_pdfjs_require__(31);module.exports=function(that,searchString,NAME){if(isRegExp(searchString))throw TypeError("String#"+NAME+" doesn't accept regex!");return String(defined(that))}},function(module,exports,__w_pdfjs_require__){"use strict";var isObject=__w_pdfjs_require__(13),cof=__w_pdfjs_require__(27),MATCH=__w_pdfjs_require__(28)("match");module.exports=function(it){var isRegExp;return isObject(it)&&(void 0!==(isRegExp=it[MATCH])?!!isRegExp:"RegExp"==cof(it))}},function(module,exports,__w_pdfjs_require__){"use strict";var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},function(module,exports,__w_pdfjs_require__){"use strict";var store=__w_pdfjs_require__(29)("wks"),uid=__w_pdfjs_require__(22),_Symbol=__w_pdfjs_require__(8).Symbol,USE_SYMBOL="function"==typeof _Symbol;(module.exports=function(name){return store[name]||(store[name]=USE_SYMBOL&&_Symbol[name]||(USE_SYMBOL?_Symbol:uid)("Symbol."+name))}).store=store},function(module,exports,__w_pdfjs_require__){"use strict";var core=__w_pdfjs_require__(9),global=__w_pdfjs_require__(8),store=global["__core-js_shared__"]||(global["__core-js_shared__"]={});(module.exports=function(key,value){return store[key]||(store[key]=void 0!==value?value:{})})("versions",[]).push({version:core.version,mode:__w_pdfjs_require__(30)?"pure":"global",copyright:" 2018 Denis Pushkarev (zloirock.ru)"})},function(module,exports,__w_pdfjs_require__){"use strict";module.exports=!1},function(module,exports,__w_pdfjs_require__){"use strict";module.exports=function(it){if(null==it)throw TypeError("Can't call method on  "+it);return it}},function(module,exports,__w_pdfjs_require__){"use strict";var MATCH=__w_pdfjs_require__(28)("match");module.exports=function(KEY){var re=/./;try{"/./"[KEY](re)}catch(e){try{return re[MATCH]=!1,!"/./"[KEY](re)}catch(f){}}return!0}},function(module,exports,__w_pdfjs_require__){"use strict";__w_pdfjs_require__(34),module.exports=__w_pdfjs_require__(9).Array.includes},function(module,exports,__w_pdfjs_require__){"use strict";var $export=__w_pdfjs_require__(7),$includes=__w_pdfjs_require__(35)(!0);$export($export.P,"Array",{includes:function(el){return $includes(this,el,arguments.length>1?arguments[1]:void 0)}}),__w_pdfjs_require__(41)("includes")},function(module,exports,__w_pdfjs_require__){"use strict";var toIObject=__w_pdfjs_require__(36),toLength=__w_pdfjs_require__(38),toAbsoluteIndex=__w_pdfjs_require__(40);module.exports=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIObject($this),length=toLength(O.length),index=toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if((value=O[index++])!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}}},function(module,exports,__w_pdfjs_require__){"use strict";var IObject=__w_pdfjs_require__(37),defined=__w_pdfjs_require__(31);module.exports=function(it){return IObject(defined(it))}},function(module,exports,__w_pdfjs_require__){"use strict";var cof=__w_pdfjs_require__(27);module.exports=Object("z").propertyIsEnumerable(0)?Object:function(it){return"String"==cof(it)?it.split(""):Object(it)}},function(module,exports,__w_pdfjs_require__){"use strict";var toInteger=__w_pdfjs_require__(39),min=Math.min;module.exports=function(it){return it>0?min(toInteger(it),9007199254740991):0}},function(module,exports,__w_pdfjs_require__){"use strict";var ceil=Math.ceil,floor=Math.floor;module.exports=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}},function(module,exports,__w_pdfjs_require__){"use strict";var toInteger=__w_pdfjs_require__(39),max=Math.max,min=Math.min;module.exports=function(index,length){return(index=toInteger(index))<0?max(index+length,0):min(index,length)}},function(module,exports,__w_pdfjs_require__){"use strict";var UNSCOPABLES=__w_pdfjs_require__(28)("unscopables"),ArrayProto=Array.prototype;null==ArrayProto[UNSCOPABLES]&&__w_pdfjs_require__(10)(ArrayProto,UNSCOPABLES,{}),module.exports=function(key){ArrayProto[UNSCOPABLES][key]=!0}},function(module,exports,__w_pdfjs_require__){"use strict";__w_pdfjs_require__(43),module.exports=__w_pdfjs_require__(9).Object.assign},function(module,exports,__w_pdfjs_require__){"use strict";var $export=__w_pdfjs_require__(7);$export($export.S+$export.F,"Object",{assign:__w_pdfjs_require__(44)})},function(module,exports,__w_pdfjs_require__){"use strict";var getKeys=__w_pdfjs_require__(45),gOPS=__w_pdfjs_require__(49),pIE=__w_pdfjs_require__(50),toObject=__w_pdfjs_require__(51),IObject=__w_pdfjs_require__(37),$assign=Object.assign;module.exports=!$assign||__w_pdfjs_require__(16)(function(){var A={},B={},S=Symbol(),K="abcdefghijklmnopqrst";return A[S]=7,K.split("").forEach(function(k){B[k]=k}),7!=$assign({},A)[S]||Object.keys($assign({},B)).join("")!=K})?function(target,source){for(var T=toObject(target),aLen=arguments.length,index=1,getSymbols=gOPS.f,isEnum=pIE.f;aLen>index;)for(var key,S=IObject(arguments[index++]),keys=getSymbols?getKeys(S).concat(getSymbols(S)):getKeys(S),length=keys.length,j=0;length>j;)isEnum.call(S,key=keys[j++])&&(T[key]=S[key]);return T}:$assign},function(module,exports,__w_pdfjs_require__){"use strict";var $keys=__w_pdfjs_require__(46),enumBugKeys=__w_pdfjs_require__(48);module.exports=Object.keys||function(O){return $keys(O,enumBugKeys)}},function(module,exports,__w_pdfjs_require__){"use strict";var has=__w_pdfjs_require__(21),toIObject=__w_pdfjs_require__(36),arrayIndexOf=__w_pdfjs_require__(35)(!1),IE_PROTO=__w_pdfjs_require__(47)("IE_PROTO");module.exports=function(object,names){var key,O=toIObject(object),i=0,result=[];for(key in O)key!=IE_PROTO&&has(O,key)&&result.push(key);for(;names.length>i;)has(O,key=names[i++])&&(~arrayIndexOf(result,key)||result.push(key));return result}},function(module,exports,__w_pdfjs_require__){"use strict";var shared=__w_pdfjs_require__(29)("keys"),uid=__w_pdfjs_require__(22);module.exports=function(key){return shared[key]||(shared[key]=uid(key))}},function(module,exports,__w_pdfjs_require__){"use strict";module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(module,exports,__w_pdfjs_require__){"use strict";exports.f=Object.getOwnPropertySymbols},function(module,exports,__w_pdfjs_require__){"use strict";exports.f={}.propertyIsEnumerable},function(module,exports,__w_pdfjs_require__){"use strict";var defined=__w_pdfjs_require__(31);module.exports=function(it){return Object(defined(it))}},function(module,exports,__w_pdfjs_require__){"use strict";__w_pdfjs_require__(53),module.exports=__w_pdfjs_require__(9).Math.log2},function(module,exports,__w_pdfjs_require__){"use strict";var $export=__w_pdfjs_require__(7);$export($export.S,"Math",{log2:function(x){return Math.log(x)/Math.LN2}})},function(module,exports,__w_pdfjs_require__){"use strict";__w_pdfjs_require__(55),module.exports=__w_pdfjs_require__(9).Number.isNaN},function(module,exports,__w_pdfjs_require__){"use strict";var $export=__w_pdfjs_require__(7);$export($export.S,"Number",{isNaN:function(number){return number!=number}})},function(module,exports,__w_pdfjs_require__){"use strict";__w_pdfjs_require__(57),module.exports=__w_pdfjs_require__(9).Number.isInteger},function(module,exports,__w_pdfjs_require__){"use strict";var $export=__w_pdfjs_require__(7);$export($export.S,"Number",{isInteger:__w_pdfjs_require__(58)})},function(module,exports,__w_pdfjs_require__){"use strict";var isObject=__w_pdfjs_require__(13),floor=Math.floor;module.exports=function(it){return!isObject(it)&&isFinite(it)&&floor(it)===it}},function(module,exports,__w_pdfjs_require__){"use strict";__w_pdfjs_require__(60),__w_pdfjs_require__(62),__w_pdfjs_require__(72),__w_pdfjs_require__(75),__w_pdfjs_require__(92),__w_pdfjs_require__(93),module.exports=__w_pdfjs_require__(9).Promise},function(module,exports,__w_pdfjs_require__){"use strict";var classof=__w_pdfjs_require__(61),test={};test[__w_pdfjs_require__(28)("toStringTag")]="z",test+""!="[object z]"&&__w_pdfjs_require__(20)(Object.prototype,"toString",function(){return"[object "+classof(this)+"]"},!0)},function(module,exports,__w_pdfjs_require__){"use strict";var cof=__w_pdfjs_require__(27),TAG=__w_pdfjs_require__(28)("toStringTag"),ARG="Arguments"==cof(function(){return arguments}());module.exports=function(it){var O,T,B;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(T=function(it,key){try{return it[key]}catch(e){}}(O=Object(it),TAG))?T:ARG?cof(O):"Object"==(B=cof(O))&&"function"==typeof O.callee?"Arguments":B}},function(module,exports,__w_pdfjs_require__){"use strict";var $at=__w_pdfjs_require__(63)(!0);__w_pdfjs_require__(64)(String,"String",function(iterated){this._t=String(iterated),this._i=0},function(){var point,O=this._t,index=this._i;return index>=O.length?{value:void 0,done:!0}:(point=$at(O,index),this._i+=point.length,{value:point,done:!1})})},function(module,exports,__w_pdfjs_require__){"use strict";var toInteger=__w_pdfjs_require__(39),defined=__w_pdfjs_require__(31);module.exports=function(TO_STRING){return function(that,pos){var a,b,s=String(defined(that)),i=toInteger(pos),l=s.length;return i<0||i>=l?TO_STRING?"":void 0:(a=s.charCodeAt(i))<55296||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):b-56320+(a-55296<<10)+65536}}},function(module,exports,__w_pdfjs_require__){"use strict";var LIBRARY=__w_pdfjs_require__(30),$export=__w_pdfjs_require__(7),redefine=__w_pdfjs_require__(20),hide=__w_pdfjs_require__(10),Iterators=__w_pdfjs_require__(65),$iterCreate=__w_pdfjs_require__(66),setToStringTag=__w_pdfjs_require__(70),getPrototypeOf=__w_pdfjs_require__(71),ITERATOR=__w_pdfjs_require__(28)("iterator"),BUGGY=!([].keys&&"next"in[].keys()),returnThis=function(){return this};module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){$iterCreate(Constructor,NAME,next);var methods,key,IteratorPrototype,getMethod=function(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case"keys":case"values":return function(){return new Constructor(this,kind)}}return function(){return new Constructor(this,kind)}},TAG=NAME+" Iterator",DEF_VALUES="values"==DEFAULT,VALUES_BUG=!1,proto=Base.prototype,$native=proto[ITERATOR]||proto["@@iterator"]||DEFAULT&&proto[DEFAULT],$default=$native||getMethod(DEFAULT),$entries=DEFAULT?DEF_VALUES?getMethod("entries"):$default:void 0,$anyNative="Array"==NAME&&proto.entries||$native;if($anyNative&&(IteratorPrototype=getPrototypeOf($anyNative.call(new Base)))!==Object.prototype&&IteratorPrototype.next&&(setToStringTag(IteratorPrototype,TAG,!0),LIBRARY||"function"==typeof IteratorPrototype[ITERATOR]||hide(IteratorPrototype,ITERATOR,returnThis)),DEF_VALUES&&$native&&"values"!==$native.name&&(VALUES_BUG=!0,$default=function(){return $native.call(this)}),LIBRARY&&!FORCED||!BUGGY&&!VALUES_BUG&&proto[ITERATOR]||hide(proto,ITERATOR,$default),Iterators[NAME]=$default,Iterators[TAG]=returnThis,DEFAULT)if(methods={values:DEF_VALUES?$default:getMethod("values"),keys:IS_SET?$default:getMethod("keys"),entries:$entries},FORCED)for(key in methods)key in proto||redefine(proto,key,methods[key]);else $export($export.P+$export.F*(BUGGY||VALUES_BUG),NAME,methods);return methods}},function(module,exports,__w_pdfjs_require__){"use strict";module.exports={}},function(module,exports,__w_pdfjs_require__){"use strict";var create=__w_pdfjs_require__(67),descriptor=__w_pdfjs_require__(19),setToStringTag=__w_pdfjs_require__(70),IteratorPrototype={};__w_pdfjs_require__(10)(IteratorPrototype,__w_pdfjs_require__(28)("iterator"),function(){return this}),module.exports=function(Constructor,NAME,next){Constructor.prototype=create(IteratorPrototype,{next:descriptor(1,next)}),setToStringTag(Constructor,NAME+" Iterator")}},function(module,exports,__w_pdfjs_require__){"use strict";var anObject=__w_pdfjs_require__(12),dPs=__w_pdfjs_require__(68),enumBugKeys=__w_pdfjs_require__(48),IE_PROTO=__w_pdfjs_require__(47)("IE_PROTO"),Empty=function(){},_createDict=function(){var iframeDocument,iframe=__w_pdfjs_require__(17)("iframe"),i=enumBugKeys.length;for(iframe.style.display="none",__w_pdfjs_require__(69).appendChild(iframe),iframe.src="javascript:",(iframeDocument=iframe.contentWindow.document).open(),iframeDocument.write("<script>document.F=Object<\/script>"),iframeDocument.close(),_createDict=iframeDocument.F;i--;)delete _createDict.prototype[enumBugKeys[i]];return _createDict()};module.exports=Object.create||function(O,Properties){var result;return null!==O?(Empty.prototype=anObject(O),result=new Empty,Empty.prototype=null,result[IE_PROTO]=O):result=_createDict(),void 0===Properties?result:dPs(result,Properties)}},function(module,exports,__w_pdfjs_require__){"use strict";var dP=__w_pdfjs_require__(11),anObject=__w_pdfjs_require__(12),getKeys=__w_pdfjs_require__(45);module.exports=__w_pdfjs_require__(15)?Object.defineProperties:function(O,Properties){anObject(O);for(var P,keys=getKeys(Properties),length=keys.length,i=0;length>i;)dP.f(O,P=keys[i++],Properties[P]);return O}},function(module,exports,__w_pdfjs_require__){"use strict";var document=__w_pdfjs_require__(8).document;module.exports=document&&document.documentElement},function(module,exports,__w_pdfjs_require__){"use strict";var def=__w_pdfjs_require__(11).f,has=__w_pdfjs_require__(21),TAG=__w_pdfjs_require__(28)("toStringTag");module.exports=function(it,tag,stat){it&&!has(it=stat?it:it.prototype,TAG)&&def(it,TAG,{configurable:!0,value:tag})}},function(module,exports,__w_pdfjs_require__){"use strict";var has=__w_pdfjs_require__(21),toObject=__w_pdfjs_require__(51),IE_PROTO=__w_pdfjs_require__(47)("IE_PROTO"),ObjectProto=Object.prototype;module.exports=Object.getPrototypeOf||function(O){return O=toObject(O),has(O,IE_PROTO)?O[IE_PROTO]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?ObjectProto:null}},function(module,exports,__w_pdfjs_require__){"use strict";for(var $iterators=__w_pdfjs_require__(73),getKeys=__w_pdfjs_require__(45),redefine=__w_pdfjs_require__(20),global=__w_pdfjs_require__(8),hide=__w_pdfjs_require__(10),Iterators=__w_pdfjs_require__(65),wks=__w_pdfjs_require__(28),ITERATOR=wks("iterator"),TO_STRING_TAG=wks("toStringTag"),ArrayValues=Iterators.Array,DOMIterables={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},collections=getKeys(DOMIterables),i=0;i<collections.length;i++){var key,NAME=collections[i],explicit=DOMIterables[NAME],Collection=global[NAME],proto=Collection&&Collection.prototype;if(proto&&(proto[ITERATOR]||hide(proto,ITERATOR,ArrayValues),proto[TO_STRING_TAG]||hide(proto,TO_STRING_TAG,NAME),Iterators[NAME]=ArrayValues,explicit))for(key in $iterators)proto[key]||redefine(proto,key,$iterators[key],!0)}},function(module,exports,__w_pdfjs_require__){"use strict";var addToUnscopables=__w_pdfjs_require__(41),step=__w_pdfjs_require__(74),Iterators=__w_pdfjs_require__(65),toIObject=__w_pdfjs_require__(36);module.exports=__w_pdfjs_require__(64)(Array,"Array",function(iterated,kind){this._t=toIObject(iterated),this._i=0,this._k=kind},function(){var O=this._t,kind=this._k,index=this._i++;return!O||index>=O.length?(this._t=void 0,step(1)):step(0,"keys"==kind?index:"values"==kind?O[index]:[index,O[index]])},"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries")},function(module,exports,__w_pdfjs_require__){"use strict";module.exports=function(done,value){return{value:value,done:!!done}}},function(module,exports,__w_pdfjs_require__){"use strict";var Internal,newGenericPromiseCapability,OwnPromiseCapability,Wrapper,LIBRARY=__w_pdfjs_require__(30),global=__w_pdfjs_require__(8),ctx=__w_pdfjs_require__(23),classof=__w_pdfjs_require__(61),$export=__w_pdfjs_require__(7),isObject=__w_pdfjs_require__(13),aFunction=__w_pdfjs_require__(24),anInstance=__w_pdfjs_require__(76),forOf=__w_pdfjs_require__(77),speciesConstructor=__w_pdfjs_require__(81),task=__w_pdfjs_require__(82).set,microtask=__w_pdfjs_require__(84)(),newPromiseCapabilityModule=__w_pdfjs_require__(85),perform=__w_pdfjs_require__(86),userAgent=__w_pdfjs_require__(87),promiseResolve=__w_pdfjs_require__(88),TypeError=global.TypeError,process=global.process,versions=process&&process.versions,v8=versions&&versions.v8||"",$Promise=global.Promise,isNode="process"==classof(process),empty=function(){},newPromiseCapability=newGenericPromiseCapability=newPromiseCapabilityModule.f,USE_NATIVE=!!function(){try{var promise=$Promise.resolve(1),FakePromise=(promise.constructor={})[__w_pdfjs_require__(28)("species")]=function(exec){exec(empty,empty)};return(isNode||"function"==typeof PromiseRejectionEvent)&&promise.then(empty)instanceof FakePromise&&0!==v8.indexOf("6.6")&&-1===userAgent.indexOf("Chrome/66")}catch(e){}}(),isThenable=function(it){var then;return!(!isObject(it)||"function"!=typeof(then=it.then))&&then},notify=function(promise,isReject){if(!promise._n){promise._n=!0;var chain=promise._c;microtask(function(){for(var value=promise._v,ok=1==promise._s,i=0,run=function(reaction){var result,then,exited,handler=ok?reaction.ok:reaction.fail,resolve=reaction.resolve,reject=reaction.reject,domain=reaction.domain;try{handler?(ok||(2==promise._h&&onHandleUnhandled(promise),promise._h=1),!0===handler?result=value:(domain&&domain.enter(),result=handler(value),domain&&(domain.exit(),exited=!0)),result===reaction.promise?reject(TypeError("Promise-chain cycle")):(then=isThenable(result))?then.call(result,resolve,reject):resolve(result)):reject(value)}catch(e){domain&&!exited&&domain.exit(),reject(e)}};chain.length>i;)run(chain[i++]);promise._c=[],promise._n=!1,isReject&&!promise._h&&onUnhandled(promise)})}},onUnhandled=function(promise){task.call(global,function(){var result,handler,console,value=promise._v,unhandled=isUnhandled(promise);if(unhandled&&(result=perform(function(){isNode?process.emit("unhandledRejection",value,promise):(handler=global.onunhandledrejection)?handler({promise:promise,reason:value}):(console=global.console)&&console.error&&console.error("Unhandled promise rejection",value)}),promise._h=isNode||isUnhandled(promise)?2:1),promise._a=void 0,unhandled&&result.e)throw result.v})},isUnhandled=function(promise){return 1!==promise._h&&0===(promise._a||promise._c).length},onHandleUnhandled=function(promise){task.call(global,function(){var handler;isNode?process.emit("rejectionHandled",promise):(handler=global.onrejectionhandled)&&handler({promise:promise,reason:promise._v})})},$reject=function(value){var promise=this;promise._d||(promise._d=!0,(promise=promise._w||promise)._v=value,promise._s=2,promise._a||(promise._a=promise._c.slice()),notify(promise,!0))},$resolve=function $resolve(value){var then,promise=this;if(!promise._d){promise._d=!0,promise=promise._w||promise;try{if(promise===value)throw TypeError("Promise can't be resolved itself");(then=isThenable(value))?microtask(function(){var wrapper={_w:promise,_d:!1};try{then.call(value,ctx($resolve,wrapper,1),ctx($reject,wrapper,1))}catch(e){$reject.call(wrapper,e)}}):(promise._v=value,promise._s=1,notify(promise,!1))}catch(e){$reject.call({_w:promise,_d:!1},e)}}};USE_NATIVE||($Promise=function(executor){anInstance(this,$Promise,"Promise","_h"),aFunction(executor),Internal.call(this);try{executor(ctx($resolve,this,1),ctx($reject,this,1))}catch(err){$reject.call(this,err)}},(Internal=function(executor){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=__w_pdfjs_require__(89)($Promise.prototype,{then:function(onFulfilled,onRejected){var reaction=newPromiseCapability(speciesConstructor(this,$Promise));return reaction.ok="function"!=typeof onFulfilled||onFulfilled,reaction.fail="function"==typeof onRejected&&onRejected,reaction.domain=isNode?process.domain:void 0,this._c.push(reaction),this._a&&this._a.push(reaction),this._s&&notify(this,!1),reaction.promise},catch:function(onRejected){return this.then(void 0,onRejected)}}),OwnPromiseCapability=function(){var promise=new Internal;this.promise=promise,this.resolve=ctx($resolve,promise,1),this.reject=ctx($reject,promise,1)},newPromiseCapabilityModule.f=newPromiseCapability=function(C){return C===$Promise||C===Wrapper?new OwnPromiseCapability(C):newGenericPromiseCapability(C)}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Promise:$Promise}),__w_pdfjs_require__(70)($Promise,"Promise"),__w_pdfjs_require__(90)("Promise"),Wrapper=__w_pdfjs_require__(9).Promise,$export($export.S+$export.F*!USE_NATIVE,"Promise",{reject:function(r){var capability=newPromiseCapability(this);return(0,capability.reject)(r),capability.promise}}),$export($export.S+$export.F*(LIBRARY||!USE_NATIVE),"Promise",{resolve:function(x){return promiseResolve(LIBRARY&&this===Wrapper?$Promise:this,x)}}),$export($export.S+$export.F*!(USE_NATIVE&&__w_pdfjs_require__(91)(function(iter){$Promise.all(iter).catch(empty)})),"Promise",{all:function(iterable){var C=this,capability=newPromiseCapability(C),resolve=capability.resolve,reject=capability.reject,result=perform(function(){var values=[],index=0,remaining=1;forOf(iterable,!1,function(promise){var $index=index++,alreadyCalled=!1;values.push(void 0),remaining++,C.resolve(promise).then(function(value){alreadyCalled||(alreadyCalled=!0,values[$index]=value,--remaining||resolve(values))},reject)}),--remaining||resolve(values)});return result.e&&reject(result.v),capability.promise},race:function(iterable){var C=this,capability=newPromiseCapability(C),reject=capability.reject,result=perform(function(){forOf(iterable,!1,function(promise){C.resolve(promise).then(capability.resolve,reject)})});return result.e&&reject(result.v),capability.promise}})},function(module,exports,__w_pdfjs_require__){"use strict";module.exports=function(it,Constructor,name,forbiddenField){if(!(it instanceof Constructor)||void 0!==forbiddenField&&forbiddenField in it)throw TypeError(name+": incorrect invocation!");return it}},function(module,exports,__w_pdfjs_require__){"use strict";var ctx=__w_pdfjs_require__(23),call=__w_pdfjs_require__(78),isArrayIter=__w_pdfjs_require__(79),anObject=__w_pdfjs_require__(12),toLength=__w_pdfjs_require__(38),getIterFn=__w_pdfjs_require__(80),BREAK={},RETURN={},_exports=module.exports=function(iterable,entries,fn,that,ITERATOR){var length,step,iterator,result,iterFn=ITERATOR?function(){return iterable}:getIterFn(iterable),f=ctx(fn,that,entries?2:1),index=0;if("function"!=typeof iterFn)throw TypeError(iterable+" is not iterable!");if(isArrayIter(iterFn)){for(length=toLength(iterable.length);length>index;index++)if((result=entries?f(anObject(step=iterable[index])[0],step[1]):f(iterable[index]))===BREAK||result===RETURN)return result}else for(iterator=iterFn.call(iterable);!(step=iterator.next()).done;)if((result=call(iterator,f,step.value,entries))===BREAK||result===RETURN)return result};_exports.BREAK=BREAK,_exports.RETURN=RETURN},function(module,exports,__w_pdfjs_require__){"use strict";var anObject=__w_pdfjs_require__(12);module.exports=function(iterator,fn,value,entries){try{return entries?fn(anObject(value)[0],value[1]):fn(value)}catch(e){var ret=iterator.return;throw void 0!==ret&&anObject(ret.call(iterator)),e}}},function(module,exports,__w_pdfjs_require__){"use strict";var Iterators=__w_pdfjs_require__(65),ITERATOR=__w_pdfjs_require__(28)("iterator"),ArrayProto=Array.prototype;module.exports=function(it){return void 0!==it&&(Iterators.Array===it||ArrayProto[ITERATOR]===it)}},function(module,exports,__w_pdfjs_require__){"use strict";var classof=__w_pdfjs_require__(61),ITERATOR=__w_pdfjs_require__(28)("iterator"),Iterators=__w_pdfjs_require__(65);module.exports=__w_pdfjs_require__(9).getIteratorMethod=function(it){if(null!=it)return it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]}},function(module,exports,__w_pdfjs_require__){"use strict";var anObject=__w_pdfjs_require__(12),aFunction=__w_pdfjs_require__(24),SPECIES=__w_pdfjs_require__(28)("species");module.exports=function(O,D){var S,C=anObject(O).constructor;return void 0===C||null==(S=anObject(C)[SPECIES])?D:aFunction(S)}},function(module,exports,__w_pdfjs_require__){"use strict";var defer,channel,port,ctx=__w_pdfjs_require__(23),invoke=__w_pdfjs_require__(83),html=__w_pdfjs_require__(69),cel=__w_pdfjs_require__(17),global=__w_pdfjs_require__(8),process=global.process,setTask=global.setImmediate,clearTask=global.clearImmediate,MessageChannel=global.MessageChannel,Dispatch=global.Dispatch,counter=0,queue={},run=function(){var id=+this;if(queue.hasOwnProperty(id)){var fn=queue[id];delete queue[id],fn()}},listener=function(event){run.call(event.data)};setTask&&clearTask||(setTask=function(fn){for(var args=[],i=1;arguments.length>i;)args.push(arguments[i++]);return queue[++counter]=function(){invoke("function"==typeof fn?fn:Function(fn),args)},defer(counter),counter},clearTask=function(id){delete queue[id]},"process"==__w_pdfjs_require__(27)(process)?defer=function(id){process.nextTick(ctx(run,id,1))}:Dispatch&&Dispatch.now?defer=function(id){Dispatch.now(ctx(run,id,1))}:MessageChannel?(port=(channel=new MessageChannel).port2,channel.port1.onmessage=listener,defer=ctx(port.postMessage,port,1)):global.addEventListener&&"function"==typeof postMessage&&!global.importScripts?(defer=function(id){global.postMessage(id+"","*")},global.addEventListener("message",listener,!1)):defer="onreadystatechange"in cel("script")?function(id){html.appendChild(cel("script")).onreadystatechange=function(){html.removeChild(this),run.call(id)}}:function(id){setTimeout(ctx(run,id,1),0)}),module.exports={set:setTask,clear:clearTask}},function(module,exports,__w_pdfjs_require__){"use strict";module.exports=function(fn,args,that){var un=void 0===that;switch(args.length){case 0:return un?fn():fn.call(that);case 1:return un?fn(args[0]):fn.call(that,args[0]);case 2:return un?fn(args[0],args[1]):fn.call(that,args[0],args[1]);case 3:return un?fn(args[0],args[1],args[2]):fn.call(that,args[0],args[1],args[2]);case 4:return un?fn(args[0],args[1],args[2],args[3]):fn.call(that,args[0],args[1],args[2],args[3])}return fn.apply(that,args)}},function(module,exports,__w_pdfjs_require__){"use strict";var global=__w_pdfjs_require__(8),macrotask=__w_pdfjs_require__(82).set,Observer=global.MutationObserver||global.WebKitMutationObserver,process=global.process,Promise=global.Promise,isNode="process"==__w_pdfjs_require__(27)(process);module.exports=function(){var head,last,notify,flush=function(){var parent,fn;for(isNode&&(parent=process.domain)&&parent.exit();head;){fn=head.fn,head=head.next;try{fn()}catch(e){throw head?notify():last=void 0,e}}last=void 0,parent&&parent.enter()};if(isNode)notify=function(){process.nextTick(flush)};else if(!Observer||global.navigator&&global.navigator.standalone)if(Promise&&Promise.resolve){var promise=Promise.resolve(void 0);notify=function(){promise.then(flush)}}else notify=function(){macrotask.call(global,flush)};else{var toggle=!0,node=document.createTextNode("");new Observer(flush).observe(node,{characterData:!0}),notify=function(){node.data=toggle=!toggle}}return function(fn){var task={fn:fn,next:void 0};last&&(last.next=task),head||(head=task,notify()),last=task}}},function(module,exports,__w_pdfjs_require__){"use strict";var aFunction=__w_pdfjs_require__(24);function PromiseCapability(C){var resolve,reject;this.promise=new C(function($$resolve,$$reject){if(void 0!==resolve||void 0!==reject)throw TypeError("Bad Promise constructor");resolve=$$resolve,reject=$$reject}),this.resolve=aFunction(resolve),this.reject=aFunction(reject)}module.exports.f=function(C){return new PromiseCapability(C)}},function(module,exports,__w_pdfjs_require__){"use strict";module.exports=function(exec){try{return{e:!1,v:exec()}}catch(e){return{e:!0,v:e}}}},function(module,exports,__w_pdfjs_require__){"use strict";var navigator=__w_pdfjs_require__(8).navigator;module.exports=navigator&&navigator.userAgent||""},function(module,exports,__w_pdfjs_require__){"use strict";var anObject=__w_pdfjs_require__(12),isObject=__w_pdfjs_require__(13),newPromiseCapability=__w_pdfjs_require__(85);module.exports=function(C,x){if(anObject(C),isObject(x)&&x.constructor===C)return x;var promiseCapability=newPromiseCapability.f(C);return(0,promiseCapability.resolve)(x),promiseCapability.promise}},function(module,exports,__w_pdfjs_require__){"use strict";var redefine=__w_pdfjs_require__(20);module.exports=function(target,src,safe){for(var key in src)redefine(target,key,src[key],safe);return target}},function(module,exports,__w_pdfjs_require__){"use strict";var global=__w_pdfjs_require__(8),dP=__w_pdfjs_require__(11),DESCRIPTORS=__w_pdfjs_require__(15),SPECIES=__w_pdfjs_require__(28)("species");module.exports=function(KEY){var C=global[KEY];DESCRIPTORS&&C&&!C[SPECIES]&&dP.f(C,SPECIES,{configurable:!0,get:function(){return this}})}},function(module,exports,__w_pdfjs_require__){"use strict";var ITERATOR=__w_pdfjs_require__(28)("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR]();riter.return=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}module.exports=function(exec,skipClosing){if(!skipClosing&&!SAFE_CLOSING)return!1;var safe=!1;try{var arr=[7],iter=arr[ITERATOR]();iter.next=function(){return{done:safe=!0}},arr[ITERATOR]=function(){return iter},exec(arr)}catch(e){}return safe}},function(module,exports,__w_pdfjs_require__){"use strict";var $export=__w_pdfjs_require__(7),core=__w_pdfjs_require__(9),global=__w_pdfjs_require__(8),speciesConstructor=__w_pdfjs_require__(81),promiseResolve=__w_pdfjs_require__(88);$export($export.P+$export.R,"Promise",{finally:function(onFinally){var C=speciesConstructor(this,core.Promise||global.Promise),isFunction="function"==typeof onFinally;return this.then(isFunction?function(x){return promiseResolve(C,onFinally()).then(function(){return x})}:onFinally,isFunction?function(e){return promiseResolve(C,onFinally()).then(function(){throw e})}:onFinally)}})},function(module,exports,__w_pdfjs_require__){"use strict";var $export=__w_pdfjs_require__(7),newPromiseCapability=__w_pdfjs_require__(85),perform=__w_pdfjs_require__(86);$export($export.S,"Promise",{try:function(callbackfn){var promiseCapability=newPromiseCapability.f(this),result=perform(callbackfn);return(result.e?promiseCapability.reject:promiseCapability.resolve)(result.v),promiseCapability.promise}})},function(module,exports,__w_pdfjs_require__){"use strict";__w_pdfjs_require__(60),__w_pdfjs_require__(72),__w_pdfjs_require__(95),__w_pdfjs_require__(107),__w_pdfjs_require__(109),module.exports=__w_pdfjs_require__(9).WeakMap},function(module,exports,__w_pdfjs_require__){"use strict";var InternalMap,each=__w_pdfjs_require__(96)(0),redefine=__w_pdfjs_require__(20),meta=__w_pdfjs_require__(100),assign=__w_pdfjs_require__(44),weak=__w_pdfjs_require__(101),isObject=__w_pdfjs_require__(13),fails=__w_pdfjs_require__(16),validate=__w_pdfjs_require__(102),getWeak=meta.getWeak,isExtensible=Object.isExtensible,uncaughtFrozenStore=weak.ufstore,tmp={},wrapper=function(get){return function(){return get(this,arguments.length>0?arguments[0]:void 0)}},methods={get:function(key){if(isObject(key)){var data=getWeak(key);return!0===data?uncaughtFrozenStore(validate(this,"WeakMap")).get(key):data?data[this._i]:void 0}},set:function(key,value){return weak.def(validate(this,"WeakMap"),key,value)}},$WeakMap=module.exports=__w_pdfjs_require__(103)("WeakMap",wrapper,methods,weak,!0,!0);fails(function(){return 7!=(new $WeakMap).set((Object.freeze||Object)(tmp),7).get(tmp)})&&(assign((InternalMap=weak.getConstructor(wrapper,"WeakMap")).prototype,methods),meta.NEED=!0,each(["delete","has","get","set"],function(key){var proto=$WeakMap.prototype,method=proto[key];redefine(proto,key,function(a,b){if(isObject(a)&&!isExtensible(a)){this._f||(this._f=new InternalMap);var result=this._f[key](a,b);return"set"==key?this:result}return method.call(this,a,b)})}))},function(module,exports,__w_pdfjs_require__){"use strict";var ctx=__w_pdfjs_require__(23),IObject=__w_pdfjs_require__(37),toObject=__w_pdfjs_require__(51),toLength=__w_pdfjs_require__(38),asc=__w_pdfjs_require__(97);module.exports=function(TYPE,$create){var IS_MAP=1==TYPE,IS_FILTER=2==TYPE,IS_SOME=3==TYPE,IS_EVERY=4==TYPE,IS_FIND_INDEX=6==TYPE,NO_HOLES=5==TYPE||IS_FIND_INDEX,create=$create||asc;return function($this,callbackfn,that){for(var val,res,O=toObject($this),self=IObject(O),f=ctx(callbackfn,that,3),length=toLength(self.length),index=0,result=IS_MAP?create($this,length):IS_FILTER?create($this,0):void 0;length>index;index++)if((NO_HOLES||index in self)&&(res=f(val=self[index],index,O),TYPE))if(IS_MAP)result[index]=res;else if(res)switch(TYPE){case 3:return!0;case 5:return val;case 6:return index;case 2:result.push(val)}else if(IS_EVERY)return!1;return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:result}}},function(module,exports,__w_pdfjs_require__){"use strict";var speciesConstructor=__w_pdfjs_require__(98);module.exports=function(original,length){return new(speciesConstructor(original))(length)}},function(module,exports,__w_pdfjs_require__){"use strict";var isObject=__w_pdfjs_require__(13),isArray=__w_pdfjs_require__(99),SPECIES=__w_pdfjs_require__(28)("species");module.exports=function(original){var C;return isArray(original)&&("function"!=typeof(C=original.constructor)||C!==Array&&!isArray(C.prototype)||(C=void 0),isObject(C)&&null===(C=C[SPECIES])&&(C=void 0)),void 0===C?Array:C}},function(module,exports,__w_pdfjs_require__){"use strict";var cof=__w_pdfjs_require__(27);module.exports=Array.isArray||function(arg){return"Array"==cof(arg)}},function(module,exports,__w_pdfjs_require__){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},META=__w_pdfjs_require__(22)("meta"),isObject=__w_pdfjs_require__(13),has=__w_pdfjs_require__(21),setDesc=__w_pdfjs_require__(11).f,id=0,isExtensible=Object.isExtensible||function(){return!0},FREEZE=!__w_pdfjs_require__(16)(function(){return isExtensible(Object.preventExtensions({}))}),setMeta=function(it){setDesc(it,META,{value:{i:"O"+ ++id,w:{}}})},meta=module.exports={KEY:META,NEED:!1,fastKey:function(it,create){if(!isObject(it))return"symbol"==(void 0===it?"undefined":_typeof(it))?it:("string"==typeof it?"S":"P")+it;if(!has(it,META)){if(!isExtensible(it))return"F";if(!create)return"E";setMeta(it)}return it[META].i},getWeak:function(it,create){if(!has(it,META)){if(!isExtensible(it))return!0;if(!create)return!1;setMeta(it)}return it[META].w},onFreeze:function(it){return FREEZE&&meta.NEED&&isExtensible(it)&&!has(it,META)&&setMeta(it),it}}},function(module,exports,__w_pdfjs_require__){"use strict";var redefineAll=__w_pdfjs_require__(89),getWeak=__w_pdfjs_require__(100).getWeak,anObject=__w_pdfjs_require__(12),isObject=__w_pdfjs_require__(13),anInstance=__w_pdfjs_require__(76),forOf=__w_pdfjs_require__(77),createArrayMethod=__w_pdfjs_require__(96),$has=__w_pdfjs_require__(21),validate=__w_pdfjs_require__(102),arrayFind=createArrayMethod(5),arrayFindIndex=createArrayMethod(6),id=0,uncaughtFrozenStore=function(that){return that._l||(that._l=new UncaughtFrozenStore)},UncaughtFrozenStore=function(){this.a=[]},findUncaughtFrozen=function(store,key){return arrayFind(store.a,function(it){return it[0]===key})};UncaughtFrozenStore.prototype={get:function(key){var entry=findUncaughtFrozen(this,key);if(entry)return entry[1]},has:function(key){return!!findUncaughtFrozen(this,key)},set:function(key,value){var entry=findUncaughtFrozen(this,key);entry?entry[1]=value:this.a.push([key,value])},delete:function(key){var index=arrayFindIndex(this.a,function(it){return it[0]===key});return~index&&this.a.splice(index,1),!!~index}},module.exports={getConstructor:function(wrapper,NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){anInstance(that,C,NAME,"_i"),that._t=NAME,that._i=id++,that._l=void 0,null!=iterable&&forOf(iterable,IS_MAP,that[ADDER],that)});return redefineAll(C.prototype,{delete:function(key){if(!isObject(key))return!1;var data=getWeak(key);return!0===data?uncaughtFrozenStore(validate(this,NAME)).delete(key):data&&$has(data,this._i)&&delete data[this._i]},has:function(key){if(!isObject(key))return!1;var data=getWeak(key);return!0===data?uncaughtFrozenStore(validate(this,NAME)).has(key):data&&$has(data,this._i)}}),C},def:function(that,key,value){var data=getWeak(anObject(key),!0);return!0===data?uncaughtFrozenStore(that).set(key,value):data[that._i]=value,that},ufstore:uncaughtFrozenStore}},function(module,exports,__w_pdfjs_require__){"use strict";var isObject=__w_pdfjs_require__(13);module.exports=function(it,TYPE){if(!isObject(it)||it._t!==TYPE)throw TypeError("Incompatible receiver, "+TYPE+" required!");return it}},function(module,exports,__w_pdfjs_require__){"use strict";var global=__w_pdfjs_require__(8),$export=__w_pdfjs_require__(7),redefine=__w_pdfjs_require__(20),redefineAll=__w_pdfjs_require__(89),meta=__w_pdfjs_require__(100),forOf=__w_pdfjs_require__(77),anInstance=__w_pdfjs_require__(76),isObject=__w_pdfjs_require__(13),fails=__w_pdfjs_require__(16),$iterDetect=__w_pdfjs_require__(91),setToStringTag=__w_pdfjs_require__(70),inheritIfRequired=__w_pdfjs_require__(104);module.exports=function(NAME,wrapper,methods,common,IS_MAP,IS_WEAK){var Base=global[NAME],C=Base,ADDER=IS_MAP?"set":"add",proto=C&&C.prototype,O={},fixMethod=function(KEY){var fn=proto[KEY];redefine(proto,KEY,"delete"==KEY?function(a){return!(IS_WEAK&&!isObject(a))&&fn.call(this,0===a?0:a)}:"has"==KEY?function(a){return!(IS_WEAK&&!isObject(a))&&fn.call(this,0===a?0:a)}:"get"==KEY?function(a){return IS_WEAK&&!isObject(a)?void 0:fn.call(this,0===a?0:a)}:"add"==KEY?function(a){return fn.call(this,0===a?0:a),this}:function(a,b){return fn.call(this,0===a?0:a,b),this})};if("function"==typeof C&&(IS_WEAK||proto.forEach&&!fails(function(){(new C).entries().next()}))){var instance=new C,HASNT_CHAINING=instance[ADDER](IS_WEAK?{}:-0,1)!=instance,THROWS_ON_PRIMITIVES=fails(function(){instance.has(1)}),ACCEPT_ITERABLES=$iterDetect(function(iter){new C(iter)}),BUGGY_ZERO=!IS_WEAK&&fails(function(){for(var $instance=new C,index=5;index--;)$instance[ADDER](index,index);return!$instance.has(-0)});ACCEPT_ITERABLES||((C=wrapper(function(target,iterable){anInstance(target,C,NAME);var that=inheritIfRequired(new Base,target,C);return null!=iterable&&forOf(iterable,IS_MAP,that[ADDER],that),that})).prototype=proto,proto.constructor=C),(THROWS_ON_PRIMITIVES||BUGGY_ZERO)&&(fixMethod("delete"),fixMethod("has"),IS_MAP&&fixMethod("get")),(BUGGY_ZERO||HASNT_CHAINING)&&fixMethod(ADDER),IS_WEAK&&proto.clear&&delete proto.clear}else C=common.getConstructor(wrapper,NAME,IS_MAP,ADDER),redefineAll(C.prototype,methods),meta.NEED=!0;return setToStringTag(C,NAME),O[NAME]=C,$export($export.G+$export.W+$export.F*(C!=Base),O),IS_WEAK||common.setStrong(C,NAME,IS_MAP),C}},function(module,exports,__w_pdfjs_require__){"use strict";var isObject=__w_pdfjs_require__(13),setPrototypeOf=__w_pdfjs_require__(105).set;module.exports=function(that,target,C){var P,S=target.constructor;return S!==C&&"function"==typeof S&&(P=S.prototype)!==C.prototype&&isObject(P)&&setPrototypeOf&&setPrototypeOf(that,P),that}},function(module,exports,__w_pdfjs_require__){"use strict";var isObject=__w_pdfjs_require__(13),anObject=__w_pdfjs_require__(12),check=function(O,proto){if(anObject(O),!isObject(proto)&&null!==proto)throw TypeError(proto+": can't set as prototype!")};module.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(test,buggy,set){try{(set=__w_pdfjs_require__(23)(Function.call,__w_pdfjs_require__(106).f(Object.prototype,"__proto__").set,2))(test,[]),buggy=!(test instanceof Array)}catch(e){buggy=!0}return function(O,proto){return check(O,proto),buggy?O.__proto__=proto:set(O,proto),O}}({},!1):void 0),check:check}},function(module,exports,__w_pdfjs_require__){"use strict";var pIE=__w_pdfjs_require__(50),createDesc=__w_pdfjs_require__(19),toIObject=__w_pdfjs_require__(36),toPrimitive=__w_pdfjs_require__(18),has=__w_pdfjs_require__(21),IE8_DOM_DEFINE=__w_pdfjs_require__(14),gOPD=Object.getOwnPropertyDescriptor;exports.f=__w_pdfjs_require__(15)?gOPD:function(O,P){if(O=toIObject(O),P=toPrimitive(P,!0),IE8_DOM_DEFINE)try{return gOPD(O,P)}catch(e){}if(has(O,P))return createDesc(!pIE.f.call(O,P),O[P])}},function(module,exports,__w_pdfjs_require__){"use strict";__w_pdfjs_require__(108)("WeakMap")},function(module,exports,__w_pdfjs_require__){"use strict";var $export=__w_pdfjs_require__(7);module.exports=function(COLLECTION){$export($export.S,COLLECTION,{of:function(){for(var length=arguments.length,A=new Array(length);length--;)A[length]=arguments[length];return new this(A)}})}},function(module,exports,__w_pdfjs_require__){"use strict";__w_pdfjs_require__(110)("WeakMap")},function(module,exports,__w_pdfjs_require__){"use strict";var $export=__w_pdfjs_require__(7),aFunction=__w_pdfjs_require__(24),ctx=__w_pdfjs_require__(23),forOf=__w_pdfjs_require__(77);module.exports=function(COLLECTION){$export($export.S,COLLECTION,{from:function(source){var mapping,A,n,cb,mapFn=arguments[1];return aFunction(this),(mapping=void 0!==mapFn)&&aFunction(mapFn),null==source?new this:(A=[],mapping?(n=0,cb=ctx(mapFn,arguments[2],2),forOf(source,!1,function(nextItem){A.push(cb(nextItem,n++))})):forOf(source,!1,A.push,A),new this(A))}})}},function(module,exports,__w_pdfjs_require__){"use strict";__w_pdfjs_require__(112),module.exports=__w_pdfjs_require__(9).String.codePointAt},function(module,exports,__w_pdfjs_require__){"use strict";var $export=__w_pdfjs_require__(7),$at=__w_pdfjs_require__(63)(!1);$export($export.P,"String",{codePointAt:function(pos){return $at(this,pos)}})},function(module,exports,__w_pdfjs_require__){"use strict";__w_pdfjs_require__(114),module.exports=__w_pdfjs_require__(9).String.fromCodePoint},function(module,exports,__w_pdfjs_require__){"use strict";var $export=__w_pdfjs_require__(7),toAbsoluteIndex=__w_pdfjs_require__(40),fromCharCode=String.fromCharCode,$fromCodePoint=String.fromCodePoint;$export($export.S+$export.F*(!!$fromCodePoint&&1!=$fromCodePoint.length),"String",{fromCodePoint:function(x){for(var code,res=[],aLen=arguments.length,i=0;aLen>i;){if(code=+arguments[i++],toAbsoluteIndex(code,1114111)!==code)throw RangeError(code+" is not a valid code point");res.push(code<65536?fromCharCode(code):fromCharCode(55296+((code-=65536)>>10),code%1024+56320))}return res.join("")}})},function(module,exports,__w_pdfjs_require__){"use strict";__w_pdfjs_require__(116),__w_pdfjs_require__(60),module.exports=__w_pdfjs_require__(9).Symbol},function(module,exports,__w_pdfjs_require__){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},global=__w_pdfjs_require__(8),has=__w_pdfjs_require__(21),DESCRIPTORS=__w_pdfjs_require__(15),$export=__w_pdfjs_require__(7),redefine=__w_pdfjs_require__(20),META=__w_pdfjs_require__(100).KEY,$fails=__w_pdfjs_require__(16),shared=__w_pdfjs_require__(29),setToStringTag=__w_pdfjs_require__(70),uid=__w_pdfjs_require__(22),wks=__w_pdfjs_require__(28),wksExt=__w_pdfjs_require__(117),wksDefine=__w_pdfjs_require__(118),enumKeys=__w_pdfjs_require__(119),isArray=__w_pdfjs_require__(99),anObject=__w_pdfjs_require__(12),isObject=__w_pdfjs_require__(13),toIObject=__w_pdfjs_require__(36),toPrimitive=__w_pdfjs_require__(18),createDesc=__w_pdfjs_require__(19),_create=__w_pdfjs_require__(67),gOPNExt=__w_pdfjs_require__(120),$GOPD=__w_pdfjs_require__(106),$DP=__w_pdfjs_require__(11),$keys=__w_pdfjs_require__(45),gOPD=$GOPD.f,dP=$DP.f,gOPN=gOPNExt.f,$Symbol=global.Symbol,$JSON=global.JSON,_stringify=$JSON&&$JSON.stringify,HIDDEN=wks("_hidden"),TO_PRIMITIVE=wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=shared("symbol-registry"),AllSymbols=shared("symbols"),OPSymbols=shared("op-symbols"),ObjectProto=Object.prototype,USE_NATIVE="function"==typeof $Symbol,QObject=global.QObject,setter=!QObject||!QObject.prototype||!QObject.prototype.findChild,setSymbolDesc=DESCRIPTORS&&$fails(function(){return 7!=_create(dP({},"a",{get:function(){return dP(this,"a",{value:7}).a}})).a})?function(it,key,D){var protoDesc=gOPD(ObjectProto,key);protoDesc&&delete ObjectProto[key],dP(it,key,D),protoDesc&&it!==ObjectProto&&dP(ObjectProto,key,protoDesc)}:dP,wrap=function(tag){var sym=AllSymbols[tag]=_create($Symbol.prototype);return sym._k=tag,sym},isSymbol=USE_NATIVE&&"symbol"==_typeof($Symbol.iterator)?function(it){return"symbol"==(void 0===it?"undefined":_typeof(it))}:function(it){return it instanceof $Symbol},$defineProperty=function(it,key,D){return it===ObjectProto&&$defineProperty(OPSymbols,key,D),anObject(it),key=toPrimitive(key,!0),anObject(D),has(AllSymbols,key)?(D.enumerable?(has(it,HIDDEN)&&it[HIDDEN][key]&&(it[HIDDEN][key]=!1),D=_create(D,{enumerable:createDesc(0,!1)})):(has(it,HIDDEN)||dP(it,HIDDEN,createDesc(1,{})),it[HIDDEN][key]=!0),setSymbolDesc(it,key,D)):dP(it,key,D)},$defineProperties=function(it,P){anObject(it);for(var key,keys=enumKeys(P=toIObject(P)),i=0,l=keys.length;l>i;)$defineProperty(it,key=keys[i++],P[key]);return it},$propertyIsEnumerable=function(key){var E=isEnum.call(this,key=toPrimitive(key,!0));return!(this===ObjectProto&&has(AllSymbols,key)&&!has(OPSymbols,key))&&(!(E||!has(this,key)||!has(AllSymbols,key)||has(this,HIDDEN)&&this[HIDDEN][key])||E)},$getOwnPropertyDescriptor=function(it,key){if(it=toIObject(it),key=toPrimitive(key,!0),it!==ObjectProto||!has(AllSymbols,key)||has(OPSymbols,key)){var D=gOPD(it,key);return!D||!has(AllSymbols,key)||has(it,HIDDEN)&&it[HIDDEN][key]||(D.enumerable=!0),D}},$getOwnPropertyNames=function(it){for(var key,names=gOPN(toIObject(it)),result=[],i=0;names.length>i;)has(AllSymbols,key=names[i++])||key==HIDDEN||key==META||result.push(key);return result},$getOwnPropertySymbols=function(it){for(var key,IS_OP=it===ObjectProto,names=gOPN(IS_OP?OPSymbols:toIObject(it)),result=[],i=0;names.length>i;)!has(AllSymbols,key=names[i++])||IS_OP&&!has(ObjectProto,key)||result.push(AllSymbols[key]);return result};USE_NATIVE||(redefine(($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var tag=uid(arguments.length>0?arguments[0]:void 0),$set=function $set(value){this===ObjectProto&&$set.call(OPSymbols,value),has(this,HIDDEN)&&has(this[HIDDEN],tag)&&(this[HIDDEN][tag]=!1),setSymbolDesc(this,tag,createDesc(1,value))};return DESCRIPTORS&&setter&&setSymbolDesc(ObjectProto,tag,{configurable:!0,set:$set}),wrap(tag)}).prototype,"toString",function(){return this._k}),$GOPD.f=$getOwnPropertyDescriptor,$DP.f=$defineProperty,__w_pdfjs_require__(121).f=gOPNExt.f=$getOwnPropertyNames,__w_pdfjs_require__(50).f=$propertyIsEnumerable,__w_pdfjs_require__(49).f=$getOwnPropertySymbols,DESCRIPTORS&&!__w_pdfjs_require__(30)&&redefine(ObjectProto,"propertyIsEnumerable",$propertyIsEnumerable,!0),wksExt.f=function(name){return wrap(wks(name))}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Symbol:$Symbol});for(var es6Symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),j=0;es6Symbols.length>j;)wks(es6Symbols[j++]);for(var wellKnownSymbols=$keys(wks.store),k=0;wellKnownSymbols.length>k;)wksDefine(wellKnownSymbols[k++]);$export($export.S+$export.F*!USE_NATIVE,"Symbol",{for:function(key){return has(SymbolRegistry,key+="")?SymbolRegistry[key]:SymbolRegistry[key]=$Symbol(key)},keyFor:function(sym){if(!isSymbol(sym))throw TypeError(sym+" is not a symbol!");for(var key in SymbolRegistry)if(SymbolRegistry[key]===sym)return key},useSetter:function(){setter=!0},useSimple:function(){setter=!1}}),$export($export.S+$export.F*!USE_NATIVE,"Object",{create:function(it,P){return void 0===P?_create(it):$defineProperties(_create(it),P)},defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),$JSON&&$export($export.S+$export.F*(!USE_NATIVE||$fails(function(){var S=$Symbol();return"[null]"!=_stringify([S])||"{}"!=_stringify({a:S})||"{}"!=_stringify(Object(S))})),"JSON",{stringify:function(it){for(var replacer,$replacer,args=[it],i=1;arguments.length>i;)args.push(arguments[i++]);if($replacer=replacer=args[1],(isObject(replacer)||void 0!==it)&&!isSymbol(it))return isArray(replacer)||(replacer=function(key,value){if("function"==typeof $replacer&&(value=$replacer.call(this,key,value)),!isSymbol(value))return value}),args[1]=replacer,_stringify.apply($JSON,args)}}),$Symbol.prototype[TO_PRIMITIVE]||__w_pdfjs_require__(10)($Symbol.prototype,TO_PRIMITIVE,$Symbol.prototype.valueOf),setToStringTag($Symbol,"Symbol"),setToStringTag(Math,"Math",!0),setToStringTag(global.JSON,"JSON",!0)},function(module,exports,__w_pdfjs_require__){"use strict";exports.f=__w_pdfjs_require__(28)},function(module,exports,__w_pdfjs_require__){"use strict";var global=__w_pdfjs_require__(8),core=__w_pdfjs_require__(9),LIBRARY=__w_pdfjs_require__(30),wksExt=__w_pdfjs_require__(117),defineProperty=__w_pdfjs_require__(11).f;module.exports=function(name){var $Symbol=core.Symbol||(core.Symbol=LIBRARY?{}:global.Symbol||{});"_"==name.charAt(0)||name in $Symbol||defineProperty($Symbol,name,{value:wksExt.f(name)})}},function(module,exports,__w_pdfjs_require__){"use strict";var getKeys=__w_pdfjs_require__(45),gOPS=__w_pdfjs_require__(49),pIE=__w_pdfjs_require__(50);module.exports=function(it){var result=getKeys(it),getSymbols=gOPS.f;if(getSymbols)for(var key,symbols=getSymbols(it),isEnum=pIE.f,i=0;symbols.length>i;)isEnum.call(it,key=symbols[i++])&&result.push(key);return result}},function(module,exports,__w_pdfjs_require__){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},toIObject=__w_pdfjs_require__(36),gOPN=__w_pdfjs_require__(121).f,toString={}.toString,windowNames="object"==("undefined"==typeof window?"undefined":_typeof(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];module.exports.f=function(it){return windowNames&&"[object Window]"==toString.call(it)?function(it){try{return gOPN(it)}catch(e){return windowNames.slice()}}(it):gOPN(toIObject(it))}},function(module,exports,__w_pdfjs_require__){"use strict";var $keys=__w_pdfjs_require__(46),hiddenKeys=__w_pdfjs_require__(48).concat("length","prototype");exports.f=Object.getOwnPropertyNames||function(O){return $keys(O,hiddenKeys)}},function(module,exports,__w_pdfjs_require__){"use strict";__w_pdfjs_require__(123),module.exports=__w_pdfjs_require__(9).Object.values},function(module,exports,__w_pdfjs_require__){"use strict";var $export=__w_pdfjs_require__(7),$values=__w_pdfjs_require__(124)(!1);$export($export.S,"Object",{values:function(it){return $values(it)}})},function(module,exports,__w_pdfjs_require__){"use strict";var getKeys=__w_pdfjs_require__(45),toIObject=__w_pdfjs_require__(36),isEnum=__w_pdfjs_require__(50).f;module.exports=function(isEntries){return function(it){for(var key,O=toIObject(it),keys=getKeys(O),length=keys.length,i=0,result=[];length>i;)isEnum.call(O,key=keys[i++])&&result.push(isEntries?[key,O[key]]:O[key]);return result}}},function(module,exports,__w_pdfjs_require__){"use strict";var isReadableStreamSupported=!1;if("undefined"!=typeof ReadableStream)try{new ReadableStream({start:function(controller){controller.close()}}),isReadableStreamSupported=!0}catch(e){}exports.ReadableStream=isReadableStreamSupported?ReadableStream:__w_pdfjs_require__(126).ReadableStream},function(module,exports,__w_pdfjs_require__){"use strict";var _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};!function(e,a){for(var i in a)e[i]=a[i]}(exports,function(modules){var installedModules={};function __w_pdfjs_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__w_pdfjs_require__),module.l=!0,module.exports}return __w_pdfjs_require__.m=modules,__w_pdfjs_require__.c=installedModules,__w_pdfjs_require__.i=function(value){return value},__w_pdfjs_require__.d=function(exports,name,getter){__w_pdfjs_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__w_pdfjs_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __w_pdfjs_require__.d(getter,"a",getter),getter},__w_pdfjs_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__w_pdfjs_require__.p="",__w_pdfjs_require__(__w_pdfjs_require__.s=7)}([function(module,exports,__w_pdfjs_require__){var _typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(obj){return void 0===obj?"undefined":_typeof2(obj)}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":void 0===obj?"undefined":_typeof2(obj)},assert=__w_pdfjs_require__(1).assert;function IsPropertyKey(argument){return"string"==typeof argument||"symbol"===(void 0===argument?"undefined":_typeof(argument))}function Call(F,V,args){if("function"!=typeof F)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(F,V,args)}exports.typeIsObject=function(x){return"object"===(void 0===x?"undefined":_typeof(x))&&null!==x||"function"==typeof x},exports.createDataProperty=function(o,p,v){assert(exports.typeIsObject(o)),Object.defineProperty(o,p,{value:v,writable:!0,enumerable:!0,configurable:!0})},exports.createArrayFromList=function(elements){return elements.slice()},exports.ArrayBufferCopy=function(dest,destOffset,src,srcOffset,n){new Uint8Array(dest).set(new Uint8Array(src,srcOffset,n),destOffset)},exports.CreateIterResultObject=function(value,done){assert("boolean"==typeof done);var obj={};return Object.defineProperty(obj,"value",{value:value,enumerable:!0,writable:!0,configurable:!0}),Object.defineProperty(obj,"done",{value:done,enumerable:!0,writable:!0,configurable:!0}),obj},exports.IsFiniteNonNegativeNumber=function(v){return!Number.isNaN(v)&&(v!==1/0&&!(v<0))},exports.InvokeOrNoop=function(O,P,args){assert(void 0!==O),assert(IsPropertyKey(P)),assert(Array.isArray(args));var method=O[P];if(void 0!==method)return Call(method,O,args)},exports.PromiseInvokeOrNoop=function(O,P,args){assert(void 0!==O),assert(IsPropertyKey(P)),assert(Array.isArray(args));try{return Promise.resolve(exports.InvokeOrNoop(O,P,args))}catch(returnValueE){return Promise.reject(returnValueE)}},exports.PromiseInvokeOrPerformFallback=function(O,P,args,F,argsF){assert(void 0!==O),assert(IsPropertyKey(P)),assert(Array.isArray(args)),assert(Array.isArray(argsF));var method=void 0;try{method=O[P]}catch(methodE){return Promise.reject(methodE)}if(void 0===method)return F.apply(null,argsF);try{return Promise.resolve(Call(method,O,args))}catch(e){return Promise.reject(e)}},exports.TransferArrayBuffer=function(O){return O.slice()},exports.ValidateAndNormalizeHighWaterMark=function(highWaterMark){if(highWaterMark=Number(highWaterMark),Number.isNaN(highWaterMark)||highWaterMark<0)throw new RangeError("highWaterMark property of a queuing strategy must be non-negative and non-NaN");return highWaterMark},exports.ValidateAndNormalizeQueuingStrategy=function(size,highWaterMark){if(void 0!==size&&"function"!=typeof size)throw new TypeError("size property of a queuing strategy must be a function");return{size:size,highWaterMark:highWaterMark=exports.ValidateAndNormalizeHighWaterMark(highWaterMark)}}},function(module,exports,__w_pdfjs_require__){function AssertionError(message){this.name="AssertionError",this.message=message||"",this.stack=(new Error).stack}AssertionError.prototype=Object.create(Error.prototype),AssertionError.prototype.constructor=AssertionError,module.exports={rethrowAssertionErrorRejection:function(e){e&&e.constructor===AssertionError&&setTimeout(function(){throw e},0)},AssertionError:AssertionError,assert:function(value,message){if(!value)throw new AssertionError(message)}}},function(module,exports,__w_pdfjs_require__){var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _require=__w_pdfjs_require__(0),InvokeOrNoop=_require.InvokeOrNoop,PromiseInvokeOrNoop=_require.PromiseInvokeOrNoop,ValidateAndNormalizeQueuingStrategy=_require.ValidateAndNormalizeQueuingStrategy,typeIsObject=_require.typeIsObject,_require2=__w_pdfjs_require__(1),assert=_require2.assert,rethrowAssertionErrorRejection=_require2.rethrowAssertionErrorRejection,_require3=__w_pdfjs_require__(3),DequeueValue=_require3.DequeueValue,EnqueueValueWithSize=_require3.EnqueueValueWithSize,PeekQueueValue=_require3.PeekQueueValue,ResetQueue=_require3.ResetQueue,WritableStream=function(){function WritableStream(){var underlyingSink=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},size=_ref.size,_ref$highWaterMark=_ref.highWaterMark,highWaterMark=void 0===_ref$highWaterMark?1:_ref$highWaterMark;if(_classCallCheck(this,WritableStream),this._state="writable",this._storedError=void 0,this._writer=void 0,this._writableStreamController=void 0,this._writeRequests=[],this._inFlightWriteRequest=void 0,this._closeRequest=void 0,this._inFlightCloseRequest=void 0,this._pendingAbortRequest=void 0,this._backpressure=!1,void 0!==underlyingSink.type)throw new RangeError("Invalid type is specified");this._writableStreamController=new WritableStreamDefaultController(this,underlyingSink,size,highWaterMark),this._writableStreamController.__startSteps()}return _createClass(WritableStream,[{key:"abort",value:function(reason){return!1===IsWritableStream(this)?Promise.reject(streamBrandCheckException("abort")):!0===IsWritableStreamLocked(this)?Promise.reject(new TypeError("Cannot abort a stream that already has a writer")):WritableStreamAbort(this,reason)}},{key:"getWriter",value:function(){if(!1===IsWritableStream(this))throw streamBrandCheckException("getWriter");return AcquireWritableStreamDefaultWriter(this)}},{key:"locked",get:function(){if(!1===IsWritableStream(this))throw streamBrandCheckException("locked");return IsWritableStreamLocked(this)}}]),WritableStream}();function AcquireWritableStreamDefaultWriter(stream){return new WritableStreamDefaultWriter(stream)}function IsWritableStream(x){return!!typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_writableStreamController")}function IsWritableStreamLocked(stream){return assert(!0===IsWritableStream(stream),"IsWritableStreamLocked should only be used on known writable streams"),void 0!==stream._writer}function WritableStreamAbort(stream,reason){var state=stream._state;if("closed"===state)return Promise.resolve(void 0);if("errored"===state)return Promise.reject(stream._storedError);var error=new TypeError("Requested to abort");if(void 0!==stream._pendingAbortRequest)return Promise.reject(error);assert("writable"===state||"erroring"===state,"state must be writable or erroring");var wasAlreadyErroring=!1;"erroring"===state&&(wasAlreadyErroring=!0,reason=void 0);var promise=new Promise(function(resolve,reject){stream._pendingAbortRequest={_resolve:resolve,_reject:reject,_reason:reason,_wasAlreadyErroring:wasAlreadyErroring}});return!1===wasAlreadyErroring&&WritableStreamStartErroring(stream,error),promise}function WritableStreamDealWithRejection(stream,error){var state=stream._state;"writable"!==state?(assert("erroring"===state),WritableStreamFinishErroring(stream)):WritableStreamStartErroring(stream,error)}function WritableStreamStartErroring(stream,reason){assert(void 0===stream._storedError,"stream._storedError === undefined"),assert("writable"===stream._state,"state must be writable");var controller=stream._writableStreamController;assert(void 0!==controller,"controller must not be undefined"),stream._state="erroring",stream._storedError=reason;var writer=stream._writer;void 0!==writer&&WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer,reason),!1===WritableStreamHasOperationMarkedInFlight(stream)&&!0===controller._started&&WritableStreamFinishErroring(stream)}function WritableStreamFinishErroring(stream){assert("erroring"===stream._state,"stream._state === erroring"),assert(!1===WritableStreamHasOperationMarkedInFlight(stream),"WritableStreamHasOperationMarkedInFlight(stream) === false"),stream._state="errored",stream._writableStreamController.__errorSteps();for(var storedError=stream._storedError,i=0;i<stream._writeRequests.length;i++){stream._writeRequests[i]._reject(storedError)}if(stream._writeRequests=[],void 0!==stream._pendingAbortRequest){var abortRequest=stream._pendingAbortRequest;if(stream._pendingAbortRequest=void 0,!0===abortRequest._wasAlreadyErroring)return abortRequest._reject(storedError),void WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream);stream._writableStreamController.__abortSteps(abortRequest._reason).then(function(){abortRequest._resolve(),WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream)},function(reason){abortRequest._reject(reason),WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream)})}else WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream)}function WritableStreamFinishInFlightClose(stream){assert(void 0!==stream._inFlightCloseRequest),stream._inFlightCloseRequest._resolve(void 0),stream._inFlightCloseRequest=void 0;var state=stream._state;assert("writable"===state||"erroring"===state),"erroring"===state&&(stream._storedError=void 0,void 0!==stream._pendingAbortRequest&&(stream._pendingAbortRequest._resolve(),stream._pendingAbortRequest=void 0)),stream._state="closed";var writer=stream._writer;void 0!==writer&&function(writer){assert(void 0!==writer._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),assert(void 0!==writer._closedPromise_reject,"writer._closedPromise_reject !== undefined"),assert("pending"===writer._closedPromiseState,"writer._closedPromiseState is pending"),writer._closedPromise_resolve(void 0),writer._closedPromise_resolve=void 0,writer._closedPromise_reject=void 0,writer._closedPromiseState="resolved"}(writer),assert(void 0===stream._pendingAbortRequest,"stream._pendingAbortRequest === undefined"),assert(void 0===stream._storedError,"stream._storedError === undefined")}function WritableStreamCloseQueuedOrInFlight(stream){return void 0!==stream._closeRequest||void 0!==stream._inFlightCloseRequest}function WritableStreamHasOperationMarkedInFlight(stream){return void 0!==stream._inFlightWriteRequest||void 0!==stream._inFlightCloseRequest}function WritableStreamRejectCloseAndClosedPromiseIfNeeded(stream){assert("errored"===stream._state,'_stream_.[[state]] is `"errored"`'),void 0!==stream._closeRequest&&(assert(void 0===stream._inFlightCloseRequest),stream._closeRequest._reject(stream._storedError),stream._closeRequest=void 0);var writer=stream._writer;void 0!==writer&&(defaultWriterClosedPromiseReject(writer,stream._storedError),writer._closedPromise.catch(function(){}))}function WritableStreamUpdateBackpressure(stream,backpressure){assert("writable"===stream._state),assert(!1===WritableStreamCloseQueuedOrInFlight(stream));var writer=stream._writer;void 0!==writer&&backpressure!==stream._backpressure&&(!0===backpressure?function(writer){assert(void 0===writer._readyPromise_resolve,"writer._readyPromise_resolve === undefined"),assert(void 0===writer._readyPromise_reject,"writer._readyPromise_reject === undefined"),writer._readyPromise=new Promise(function(resolve,reject){writer._readyPromise_resolve=resolve,writer._readyPromise_reject=reject}),writer._readyPromiseState="pending"}(writer):(assert(!1===backpressure),defaultWriterReadyPromiseResolve(writer))),stream._backpressure=backpressure}module.exports={AcquireWritableStreamDefaultWriter:AcquireWritableStreamDefaultWriter,IsWritableStream:IsWritableStream,IsWritableStreamLocked:IsWritableStreamLocked,WritableStream:WritableStream,WritableStreamAbort:WritableStreamAbort,WritableStreamDefaultControllerError:WritableStreamDefaultControllerError,WritableStreamDefaultWriterCloseWithErrorPropagation:function(writer){var stream=writer._ownerWritableStream;assert(void 0!==stream);var state=stream._state;if(!0===WritableStreamCloseQueuedOrInFlight(stream)||"closed"===state)return Promise.resolve();if("errored"===state)return Promise.reject(stream._storedError);return assert("writable"===state||"erroring"===state),WritableStreamDefaultWriterClose(writer)},WritableStreamDefaultWriterRelease:WritableStreamDefaultWriterRelease,WritableStreamDefaultWriterWrite:WritableStreamDefaultWriterWrite,WritableStreamCloseQueuedOrInFlight:WritableStreamCloseQueuedOrInFlight};var WritableStreamDefaultWriter=function(){function WritableStreamDefaultWriter(stream){if(_classCallCheck(this,WritableStreamDefaultWriter),!1===IsWritableStream(stream))throw new TypeError("WritableStreamDefaultWriter can only be constructed with a WritableStream instance");if(!0===IsWritableStreamLocked(stream))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=stream,stream._writer=this;var writer,state=stream._state;if("writable"===state)!1===WritableStreamCloseQueuedOrInFlight(stream)&&!0===stream._backpressure?((writer=this)._readyPromise=new Promise(function(resolve,reject){writer._readyPromise_resolve=resolve,writer._readyPromise_reject=reject}),writer._readyPromiseState="pending"):defaultWriterReadyPromiseInitializeAsResolved(this),defaultWriterClosedPromiseInitialize(this);else if("erroring"===state)defaultWriterReadyPromiseInitializeAsRejected(this,stream._storedError),this._readyPromise.catch(function(){}),defaultWriterClosedPromiseInitialize(this);else if("closed"===state)defaultWriterReadyPromiseInitializeAsResolved(this),function(writer){writer._closedPromise=Promise.resolve(void 0),writer._closedPromise_resolve=void 0,writer._closedPromise_reject=void 0,writer._closedPromiseState="resolved"}(this);else{assert("errored"===state,"state must be errored");var storedError=stream._storedError;defaultWriterReadyPromiseInitializeAsRejected(this,storedError),this._readyPromise.catch(function(){}),function(writer,reason){writer._closedPromise=Promise.reject(reason),writer._closedPromise_resolve=void 0,writer._closedPromise_reject=void 0,writer._closedPromiseState="rejected"}(this,storedError),this._closedPromise.catch(function(){})}}return _createClass(WritableStreamDefaultWriter,[{key:"abort",value:function(reason){return!1===IsWritableStreamDefaultWriter(this)?Promise.reject(defaultWriterBrandCheckException("abort")):void 0===this._ownerWritableStream?Promise.reject(defaultWriterLockException("abort")):function(writer,reason){var stream=writer._ownerWritableStream;return assert(void 0!==stream),WritableStreamAbort(stream,reason)}(this,reason)}},{key:"close",value:function(){if(!1===IsWritableStreamDefaultWriter(this))return Promise.reject(defaultWriterBrandCheckException("close"));var stream=this._ownerWritableStream;return void 0===stream?Promise.reject(defaultWriterLockException("close")):!0===WritableStreamCloseQueuedOrInFlight(stream)?Promise.reject(new TypeError("cannot close an already-closing stream")):WritableStreamDefaultWriterClose(this)}},{key:"releaseLock",value:function(){if(!1===IsWritableStreamDefaultWriter(this))throw defaultWriterBrandCheckException("releaseLock");var stream=this._ownerWritableStream;void 0!==stream&&(assert(void 0!==stream._writer),WritableStreamDefaultWriterRelease(this))}},{key:"write",value:function(chunk){return!1===IsWritableStreamDefaultWriter(this)?Promise.reject(defaultWriterBrandCheckException("write")):void 0===this._ownerWritableStream?Promise.reject(defaultWriterLockException("write to")):WritableStreamDefaultWriterWrite(this,chunk)}},{key:"closed",get:function(){return!1===IsWritableStreamDefaultWriter(this)?Promise.reject(defaultWriterBrandCheckException("closed")):this._closedPromise}},{key:"desiredSize",get:function(){if(!1===IsWritableStreamDefaultWriter(this))throw defaultWriterBrandCheckException("desiredSize");if(void 0===this._ownerWritableStream)throw defaultWriterLockException("desiredSize");return function(writer){var stream=writer._ownerWritableStream,state=stream._state;if("errored"===state||"erroring"===state)return null;if("closed"===state)return 0;return WritableStreamDefaultControllerGetDesiredSize(stream._writableStreamController)}(this)}},{key:"ready",get:function(){return!1===IsWritableStreamDefaultWriter(this)?Promise.reject(defaultWriterBrandCheckException("ready")):this._readyPromise}}]),WritableStreamDefaultWriter}();function IsWritableStreamDefaultWriter(x){return!!typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_ownerWritableStream")}function WritableStreamDefaultWriterClose(writer){var stream=writer._ownerWritableStream;assert(void 0!==stream);var state=stream._state;if("closed"===state||"errored"===state)return Promise.reject(new TypeError("The stream (in "+state+" state) is not in the writable state and cannot be closed"));assert("writable"===state||"erroring"===state),assert(!1===WritableStreamCloseQueuedOrInFlight(stream));var controller,promise=new Promise(function(resolve,reject){var closeRequest={_resolve:resolve,_reject:reject};stream._closeRequest=closeRequest});return!0===stream._backpressure&&"writable"===state&&defaultWriterReadyPromiseResolve(writer),controller=stream._writableStreamController,EnqueueValueWithSize(controller,"close",0),WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller),promise}function WritableStreamDefaultWriterEnsureClosedPromiseRejected(writer,error){"pending"===writer._closedPromiseState?defaultWriterClosedPromiseReject(writer,error):function(writer,reason){assert(void 0===writer._closedPromise_resolve,"writer._closedPromise_resolve === undefined"),assert(void 0===writer._closedPromise_reject,"writer._closedPromise_reject === undefined"),assert("pending"!==writer._closedPromiseState,"writer._closedPromiseState is not pending"),writer._closedPromise=Promise.reject(reason),writer._closedPromiseState="rejected"}(writer,error),writer._closedPromise.catch(function(){})}function WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer,error){"pending"===writer._readyPromiseState?function(writer,reason){assert(void 0!==writer._readyPromise_resolve,"writer._readyPromise_resolve !== undefined"),assert(void 0!==writer._readyPromise_reject,"writer._readyPromise_reject !== undefined"),writer._readyPromise_reject(reason),writer._readyPromise_resolve=void 0,writer._readyPromise_reject=void 0,writer._readyPromiseState="rejected"}(writer,error):function(writer,reason){assert(void 0===writer._readyPromise_resolve,"writer._readyPromise_resolve === undefined"),assert(void 0===writer._readyPromise_reject,"writer._readyPromise_reject === undefined"),writer._readyPromise=Promise.reject(reason),writer._readyPromiseState="rejected"}(writer,error),writer._readyPromise.catch(function(){})}function WritableStreamDefaultWriterRelease(writer){var stream=writer._ownerWritableStream;assert(void 0!==stream),assert(stream._writer===writer);var releasedError=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");WritableStreamDefaultWriterEnsureReadyPromiseRejected(writer,releasedError),WritableStreamDefaultWriterEnsureClosedPromiseRejected(writer,releasedError),stream._writer=void 0,writer._ownerWritableStream=void 0}function WritableStreamDefaultWriterWrite(writer,chunk){var stream=writer._ownerWritableStream;assert(void 0!==stream);var controller=stream._writableStreamController,chunkSize=function(controller,chunk){var strategySize=controller._strategySize;if(void 0===strategySize)return 1;try{return strategySize(chunk)}catch(chunkSizeE){return WritableStreamDefaultControllerErrorIfNeeded(controller,chunkSizeE),1}}(controller,chunk);if(stream!==writer._ownerWritableStream)return Promise.reject(defaultWriterLockException("write to"));var state=stream._state;if("errored"===state)return Promise.reject(stream._storedError);if(!0===WritableStreamCloseQueuedOrInFlight(stream)||"closed"===state)return Promise.reject(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===state)return Promise.reject(stream._storedError);assert("writable"===state);var promise=function(stream){return assert(!0===IsWritableStreamLocked(stream)),assert("writable"===stream._state),new Promise(function(resolve,reject){var writeRequest={_resolve:resolve,_reject:reject};stream._writeRequests.push(writeRequest)})}(stream);return function(controller,chunk,chunkSize){var writeRecord={chunk:chunk};try{EnqueueValueWithSize(controller,writeRecord,chunkSize)}catch(enqueueE){return void WritableStreamDefaultControllerErrorIfNeeded(controller,enqueueE)}var stream=controller._controlledWritableStream;if(!1===WritableStreamCloseQueuedOrInFlight(stream)&&"writable"===stream._state){var backpressure=WritableStreamDefaultControllerGetBackpressure(controller);WritableStreamUpdateBackpressure(stream,backpressure)}WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller)}(controller,chunk,chunkSize),promise}var WritableStreamDefaultController=function(){function WritableStreamDefaultController(stream,underlyingSink,size,highWaterMark){if(_classCallCheck(this,WritableStreamDefaultController),!1===IsWritableStream(stream))throw new TypeError("WritableStreamDefaultController can only be constructed with a WritableStream instance");if(void 0!==stream._writableStreamController)throw new TypeError("WritableStreamDefaultController instances can only be created by the WritableStream constructor");this._controlledWritableStream=stream,this._underlyingSink=underlyingSink,this._queue=void 0,this._queueTotalSize=void 0,ResetQueue(this),this._started=!1;var normalizedStrategy=ValidateAndNormalizeQueuingStrategy(size,highWaterMark);this._strategySize=normalizedStrategy.size,this._strategyHWM=normalizedStrategy.highWaterMark,WritableStreamUpdateBackpressure(stream,WritableStreamDefaultControllerGetBackpressure(this))}return _createClass(WritableStreamDefaultController,[{key:"error",value:function(e){if(!1===function(x){if(!typeIsObject(x))return!1;if(!Object.prototype.hasOwnProperty.call(x,"_underlyingSink"))return!1;return!0}(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this._controlledWritableStream._state&&WritableStreamDefaultControllerError(this,e)}},{key:"__abortSteps",value:function(reason){return PromiseInvokeOrNoop(this._underlyingSink,"abort",[reason])}},{key:"__errorSteps",value:function(){ResetQueue(this)}},{key:"__startSteps",value:function(){var _this=this,startResult=InvokeOrNoop(this._underlyingSink,"start",[this]),stream=this._controlledWritableStream;Promise.resolve(startResult).then(function(){assert("writable"===stream._state||"erroring"===stream._state),_this._started=!0,WritableStreamDefaultControllerAdvanceQueueIfNeeded(_this)},function(r){assert("writable"===stream._state||"erroring"===stream._state),_this._started=!0,WritableStreamDealWithRejection(stream,r)}).catch(rethrowAssertionErrorRejection)}}]),WritableStreamDefaultController}();function WritableStreamDefaultControllerGetDesiredSize(controller){return controller._strategyHWM-controller._queueTotalSize}function WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller){var stream=controller._controlledWritableStream;if(!1!==controller._started&&void 0===stream._inFlightWriteRequest){var state=stream._state;if("closed"!==state&&"errored"!==state)if("erroring"!==state){if(0!==controller._queue.length){var writeRecord=PeekQueueValue(controller);"close"===writeRecord?function(controller){var stream=controller._controlledWritableStream;(function(stream){assert(void 0===stream._inFlightCloseRequest),assert(void 0!==stream._closeRequest),stream._inFlightCloseRequest=stream._closeRequest,stream._closeRequest=void 0})(stream),DequeueValue(controller),assert(0===controller._queue.length,"queue must be empty once the final write record is dequeued"),PromiseInvokeOrNoop(controller._underlyingSink,"close",[]).then(function(){WritableStreamFinishInFlightClose(stream)},function(reason){!function(stream,error){assert(void 0!==stream._inFlightCloseRequest),stream._inFlightCloseRequest._reject(error),stream._inFlightCloseRequest=void 0,assert("writable"===stream._state||"erroring"===stream._state),void 0!==stream._pendingAbortRequest&&(stream._pendingAbortRequest._reject(error),stream._pendingAbortRequest=void 0),WritableStreamDealWithRejection(stream,error)}(stream,reason)}).catch(rethrowAssertionErrorRejection)}(controller):function(controller,chunk){var stream=controller._controlledWritableStream;(function(stream){assert(void 0===stream._inFlightWriteRequest,"there must be no pending write request"),assert(0!==stream._writeRequests.length,"writeRequests must not be empty"),stream._inFlightWriteRequest=stream._writeRequests.shift()})(stream),PromiseInvokeOrNoop(controller._underlyingSink,"write",[chunk,controller]).then(function(){!function(stream){assert(void 0!==stream._inFlightWriteRequest),stream._inFlightWriteRequest._resolve(void 0),stream._inFlightWriteRequest=void 0}(stream);var state=stream._state;if(assert("writable"===state||"erroring"===state),DequeueValue(controller),!1===WritableStreamCloseQueuedOrInFlight(stream)&&"writable"===state){var backpressure=WritableStreamDefaultControllerGetBackpressure(controller);WritableStreamUpdateBackpressure(stream,backpressure)}WritableStreamDefaultControllerAdvanceQueueIfNeeded(controller)},function(reason){!function(stream,error){assert(void 0!==stream._inFlightWriteRequest),stream._inFlightWriteRequest._reject(error),stream._inFlightWriteRequest=void 0,assert("writable"===stream._state||"erroring"===stream._state),WritableStreamDealWithRejection(stream,error)}(stream,reason)}).catch(rethrowAssertionErrorRejection)}(controller,writeRecord.chunk)}}else WritableStreamFinishErroring(stream)}}function WritableStreamDefaultControllerErrorIfNeeded(controller,error){"writable"===controller._controlledWritableStream._state&&WritableStreamDefaultControllerError(controller,error)}function WritableStreamDefaultControllerGetBackpressure(controller){return WritableStreamDefaultControllerGetDesiredSize(controller)<=0}function WritableStreamDefaultControllerError(controller,error){var stream=controller._controlledWritableStream;assert("writable"===stream._state),WritableStreamStartErroring(stream,error)}function streamBrandCheckException(name){return new TypeError("WritableStream.prototype."+name+" can only be used on a WritableStream")}function defaultWriterBrandCheckException(name){return new TypeError("WritableStreamDefaultWriter.prototype."+name+" can only be used on a WritableStreamDefaultWriter")}function defaultWriterLockException(name){return new TypeError("Cannot "+name+" a stream using a released writer")}function defaultWriterClosedPromiseInitialize(writer){writer._closedPromise=new Promise(function(resolve,reject){writer._closedPromise_resolve=resolve,writer._closedPromise_reject=reject,writer._closedPromiseState="pending"})}function defaultWriterClosedPromiseReject(writer,reason){assert(void 0!==writer._closedPromise_resolve,"writer._closedPromise_resolve !== undefined"),assert(void 0!==writer._closedPromise_reject,"writer._closedPromise_reject !== undefined"),assert("pending"===writer._closedPromiseState,"writer._closedPromiseState is pending"),writer._closedPromise_reject(reason),writer._closedPromise_resolve=void 0,writer._closedPromise_reject=void 0,writer._closedPromiseState="rejected"}function defaultWriterReadyPromiseInitializeAsRejected(writer,reason){writer._readyPromise=Promise.reject(reason),writer._readyPromise_resolve=void 0,writer._readyPromise_reject=void 0,writer._readyPromiseState="rejected"}function defaultWriterReadyPromiseInitializeAsResolved(writer){writer._readyPromise=Promise.resolve(void 0),writer._readyPromise_resolve=void 0,writer._readyPromise_reject=void 0,writer._readyPromiseState="fulfilled"}function defaultWriterReadyPromiseResolve(writer){assert(void 0!==writer._readyPromise_resolve,"writer._readyPromise_resolve !== undefined"),assert(void 0!==writer._readyPromise_reject,"writer._readyPromise_reject !== undefined"),writer._readyPromise_resolve(void 0),writer._readyPromise_resolve=void 0,writer._readyPromise_reject=void 0,writer._readyPromiseState="fulfilled"}},function(module,exports,__w_pdfjs_require__){var IsFiniteNonNegativeNumber=__w_pdfjs_require__(0).IsFiniteNonNegativeNumber,assert=__w_pdfjs_require__(1).assert;exports.DequeueValue=function(container){assert("_queue"in container&&"_queueTotalSize"in container,"Spec-level failure: DequeueValue should only be used on containers with [[queue]] and [[queueTotalSize]]."),assert(container._queue.length>0,"Spec-level failure: should never dequeue from an empty queue.");var pair=container._queue.shift();return container._queueTotalSize-=pair.size,container._queueTotalSize<0&&(container._queueTotalSize=0),pair.value},exports.EnqueueValueWithSize=function(container,value,size){if(assert("_queue"in container&&"_queueTotalSize"in container,"Spec-level failure: EnqueueValueWithSize should only be used on containers with [[queue]] and [[queueTotalSize]]."),size=Number(size),!IsFiniteNonNegativeNumber(size))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");container._queue.push({value:value,size:size}),container._queueTotalSize+=size},exports.PeekQueueValue=function(container){return assert("_queue"in container&&"_queueTotalSize"in container,"Spec-level failure: PeekQueueValue should only be used on containers with [[queue]] and [[queueTotalSize]]."),assert(container._queue.length>0,"Spec-level failure: should never peek at an empty queue."),container._queue[0].value},exports.ResetQueue=function(container){assert("_queue"in container&&"_queueTotalSize"in container,"Spec-level failure: ResetQueue should only be used on containers with [[queue]] and [[queueTotalSize]]."),container._queue=[],container._queueTotalSize=0}},function(module,exports,__w_pdfjs_require__){var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _require=__w_pdfjs_require__(0),ArrayBufferCopy=_require.ArrayBufferCopy,CreateIterResultObject=_require.CreateIterResultObject,IsFiniteNonNegativeNumber=_require.IsFiniteNonNegativeNumber,InvokeOrNoop=_require.InvokeOrNoop,PromiseInvokeOrNoop=_require.PromiseInvokeOrNoop,TransferArrayBuffer=_require.TransferArrayBuffer,ValidateAndNormalizeQueuingStrategy=_require.ValidateAndNormalizeQueuingStrategy,ValidateAndNormalizeHighWaterMark=_require.ValidateAndNormalizeHighWaterMark,_require2=__w_pdfjs_require__(0),createArrayFromList=_require2.createArrayFromList,createDataProperty=_require2.createDataProperty,typeIsObject=_require2.typeIsObject,_require3=__w_pdfjs_require__(1),assert=_require3.assert,rethrowAssertionErrorRejection=_require3.rethrowAssertionErrorRejection,_require4=__w_pdfjs_require__(3),DequeueValue=_require4.DequeueValue,EnqueueValueWithSize=_require4.EnqueueValueWithSize,ResetQueue=_require4.ResetQueue,_require5=__w_pdfjs_require__(2),AcquireWritableStreamDefaultWriter=_require5.AcquireWritableStreamDefaultWriter,IsWritableStream=_require5.IsWritableStream,IsWritableStreamLocked=_require5.IsWritableStreamLocked,WritableStreamAbort=_require5.WritableStreamAbort,WritableStreamDefaultWriterCloseWithErrorPropagation=_require5.WritableStreamDefaultWriterCloseWithErrorPropagation,WritableStreamDefaultWriterRelease=_require5.WritableStreamDefaultWriterRelease,WritableStreamDefaultWriterWrite=_require5.WritableStreamDefaultWriterWrite,WritableStreamCloseQueuedOrInFlight=_require5.WritableStreamCloseQueuedOrInFlight,ReadableStream=function(){function ReadableStream(){var underlyingSource=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},size=_ref.size,highWaterMark=_ref.highWaterMark;_classCallCheck(this,ReadableStream),this._state="readable",this._reader=void 0,this._storedError=void 0,this._disturbed=!1,this._readableStreamController=void 0;var type=underlyingSource.type;if("bytes"===String(type))void 0===highWaterMark&&(highWaterMark=0),this._readableStreamController=new ReadableByteStreamController(this,underlyingSource,highWaterMark);else{if(void 0!==type)throw new RangeError("Invalid type is specified");void 0===highWaterMark&&(highWaterMark=1),this._readableStreamController=new ReadableStreamDefaultController(this,underlyingSource,size,highWaterMark)}}return _createClass(ReadableStream,[{key:"cancel",value:function(reason){return!1===IsReadableStream(this)?Promise.reject(streamBrandCheckException("cancel")):!0===IsReadableStreamLocked(this)?Promise.reject(new TypeError("Cannot cancel a stream that already has a reader")):ReadableStreamCancel(this,reason)}},{key:"getReader",value:function(){var _ref2=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},mode=_ref2.mode;if(!1===IsReadableStream(this))throw streamBrandCheckException("getReader");if(void 0===mode)return AcquireReadableStreamDefaultReader(this);if("byob"===(mode=String(mode)))return AcquireReadableStreamBYOBReader(this);throw new RangeError("Invalid mode is specified")}},{key:"pipeThrough",value:function(_ref3,options){var writable=_ref3.writable,readable=_ref3.readable;return function(promise){try{Promise.prototype.then.call(promise,void 0,function(){})}catch(e){}}(this.pipeTo(writable,options)),readable}},{key:"pipeTo",value:function(dest){var _this=this,_ref4=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},preventClose=_ref4.preventClose,preventAbort=_ref4.preventAbort,preventCancel=_ref4.preventCancel;if(!1===IsReadableStream(this))return Promise.reject(streamBrandCheckException("pipeTo"));if(!1===IsWritableStream(dest))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));if(preventClose=Boolean(preventClose),preventAbort=Boolean(preventAbort),preventCancel=Boolean(preventCancel),!0===IsReadableStreamLocked(this))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"));if(!0===IsWritableStreamLocked(dest))return Promise.reject(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"));var reader=AcquireReadableStreamDefaultReader(this),writer=AcquireWritableStreamDefaultWriter(dest),shuttingDown=!1,currentWrite=Promise.resolve();return new Promise(function(resolve,reject){var stream,promise,action;if(isOrBecomesErrored(_this,reader._closedPromise,function(storedError){!1===preventAbort?shutdownWithAction(function(){return WritableStreamAbort(dest,storedError)},!0,storedError):shutdown(!0,storedError)}),isOrBecomesErrored(dest,writer._closedPromise,function(storedError){!1===preventCancel?shutdownWithAction(function(){return ReadableStreamCancel(_this,storedError)},!0,storedError):shutdown(!0,storedError)}),stream=_this,promise=reader._closedPromise,action=function(){!1===preventClose?shutdownWithAction(function(){return WritableStreamDefaultWriterCloseWithErrorPropagation(writer)}):shutdown()},"closed"===stream._state?action():promise.then(action).catch(rethrowAssertionErrorRejection),!0===WritableStreamCloseQueuedOrInFlight(dest)||"closed"===dest._state){var destClosed=new TypeError("the destination writable stream closed before all data could be piped to it");!1===preventCancel?shutdownWithAction(function(){return ReadableStreamCancel(_this,destClosed)},!0,destClosed):shutdown(!0,destClosed)}function waitForWritesToFinish(){var oldCurrentWrite=currentWrite;return currentWrite.then(function(){return oldCurrentWrite!==currentWrite?waitForWritesToFinish():void 0})}function isOrBecomesErrored(stream,promise,action){"errored"===stream._state?action(stream._storedError):promise.catch(action).catch(rethrowAssertionErrorRejection)}function shutdownWithAction(action,originalIsError,originalError){function doTheRest(){action().then(function(){return finalize(originalIsError,originalError)},function(newError){return finalize(!0,newError)}).catch(rethrowAssertionErrorRejection)}!0!==shuttingDown&&(shuttingDown=!0,"writable"===dest._state&&!1===WritableStreamCloseQueuedOrInFlight(dest)?waitForWritesToFinish().then(doTheRest):doTheRest())}function shutdown(isError,error){!0!==shuttingDown&&(shuttingDown=!0,"writable"===dest._state&&!1===WritableStreamCloseQueuedOrInFlight(dest)?waitForWritesToFinish().then(function(){return finalize(isError,error)}).catch(rethrowAssertionErrorRejection):finalize(isError,error))}function finalize(isError,error){WritableStreamDefaultWriterRelease(writer),ReadableStreamReaderGenericRelease(reader),isError?reject(error):resolve(void 0)}(function pipeLoop(){return currentWrite=Promise.resolve(),!0===shuttingDown?Promise.resolve():writer._readyPromise.then(function(){return ReadableStreamDefaultReaderRead(reader).then(function(_ref5){var value=_ref5.value;!0!==_ref5.done&&(currentWrite=WritableStreamDefaultWriterWrite(writer,value).catch(function(){}))})}).then(pipeLoop)})().catch(function(err){currentWrite=Promise.resolve(),rethrowAssertionErrorRejection(err)})})}},{key:"tee",value:function(){if(!1===IsReadableStream(this))throw streamBrandCheckException("tee");var branches=ReadableStreamTee(this,!1);return createArrayFromList(branches)}},{key:"locked",get:function(){if(!1===IsReadableStream(this))throw streamBrandCheckException("locked");return IsReadableStreamLocked(this)}}]),ReadableStream}();function AcquireReadableStreamBYOBReader(stream){return new ReadableStreamBYOBReader(stream)}function AcquireReadableStreamDefaultReader(stream){return new ReadableStreamDefaultReader(stream)}function IsReadableStream(x){return!!typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_readableStreamController")}function IsReadableStreamLocked(stream){return assert(!0===IsReadableStream(stream),"IsReadableStreamLocked should only be used on known readable streams"),void 0!==stream._reader}function ReadableStreamTee(stream,cloneForBranch2){assert(!0===IsReadableStream(stream)),assert("boolean"==typeof cloneForBranch2);var reader=AcquireReadableStreamDefaultReader(stream),teeState={closedOrErrored:!1,canceled1:!1,canceled2:!1,reason1:void 0,reason2:void 0};teeState.promise=new Promise(function(resolve){teeState._resolve=resolve});var pull=function f(){var reader=f._reader,branch1=f._branch1,branch2=f._branch2,teeState=f._teeState;return ReadableStreamDefaultReaderRead(reader).then(function(result){assert(typeIsObject(result));var value=result.value,done=result.done;if(assert("boolean"==typeof done),!0===done&&!1===teeState.closedOrErrored&&(!1===teeState.canceled1&&ReadableStreamDefaultControllerClose(branch1),!1===teeState.canceled2&&ReadableStreamDefaultControllerClose(branch2),teeState.closedOrErrored=!0),!0!==teeState.closedOrErrored){var value1=value,value2=value;!1===teeState.canceled1&&ReadableStreamDefaultControllerEnqueue(branch1,value1),!1===teeState.canceled2&&ReadableStreamDefaultControllerEnqueue(branch2,value2)}})};pull._reader=reader,pull._teeState=teeState,pull._cloneForBranch2=cloneForBranch2;var cancel1=function f(reason){var stream=f._stream,teeState=f._teeState;if(teeState.canceled1=!0,teeState.reason1=reason,!0===teeState.canceled2){var compositeReason=createArrayFromList([teeState.reason1,teeState.reason2]),cancelResult=ReadableStreamCancel(stream,compositeReason);teeState._resolve(cancelResult)}return teeState.promise};cancel1._stream=stream,cancel1._teeState=teeState;var cancel2=function f(reason){var stream=f._stream,teeState=f._teeState;if(teeState.canceled2=!0,teeState.reason2=reason,!0===teeState.canceled1){var compositeReason=createArrayFromList([teeState.reason1,teeState.reason2]),cancelResult=ReadableStreamCancel(stream,compositeReason);teeState._resolve(cancelResult)}return teeState.promise};cancel2._stream=stream,cancel2._teeState=teeState;var underlyingSource1=Object.create(Object.prototype);createDataProperty(underlyingSource1,"pull",pull),createDataProperty(underlyingSource1,"cancel",cancel1);var branch1Stream=new ReadableStream(underlyingSource1),underlyingSource2=Object.create(Object.prototype);createDataProperty(underlyingSource2,"pull",pull),createDataProperty(underlyingSource2,"cancel",cancel2);var branch2Stream=new ReadableStream(underlyingSource2);return pull._branch1=branch1Stream._readableStreamController,pull._branch2=branch2Stream._readableStreamController,reader._closedPromise.catch(function(r){!0!==teeState.closedOrErrored&&(ReadableStreamDefaultControllerError(pull._branch1,r),ReadableStreamDefaultControllerError(pull._branch2,r),teeState.closedOrErrored=!0)}),[branch1Stream,branch2Stream]}function ReadableStreamAddReadIntoRequest(stream){return assert(!0===IsReadableStreamBYOBReader(stream._reader)),assert("readable"===stream._state||"closed"===stream._state),new Promise(function(resolve,reject){var readIntoRequest={_resolve:resolve,_reject:reject};stream._reader._readIntoRequests.push(readIntoRequest)})}function ReadableStreamAddReadRequest(stream){return assert(!0===IsReadableStreamDefaultReader(stream._reader)),assert("readable"===stream._state),new Promise(function(resolve,reject){var readRequest={_resolve:resolve,_reject:reject};stream._reader._readRequests.push(readRequest)})}function ReadableStreamCancel(stream,reason){return stream._disturbed=!0,"closed"===stream._state?Promise.resolve(void 0):"errored"===stream._state?Promise.reject(stream._storedError):(ReadableStreamClose(stream),stream._readableStreamController.__cancelSteps(reason).then(function(){}))}function ReadableStreamClose(stream){assert("readable"===stream._state),stream._state="closed";var reader=stream._reader;if(void 0!==reader){if(!0===IsReadableStreamDefaultReader(reader)){for(var i=0;i<reader._readRequests.length;i++){(0,reader._readRequests[i]._resolve)(CreateIterResultObject(void 0,!0))}reader._readRequests=[]}!function(reader){assert(void 0!==reader._closedPromise_resolve),assert(void 0!==reader._closedPromise_reject),reader._closedPromise_resolve(void 0),reader._closedPromise_resolve=void 0,reader._closedPromise_reject=void 0}(reader)}}function ReadableStreamError(stream,e){assert(!0===IsReadableStream(stream),"stream must be ReadableStream"),assert("readable"===stream._state,"state must be readable"),stream._state="errored",stream._storedError=e;var reader=stream._reader;if(void 0!==reader){if(!0===IsReadableStreamDefaultReader(reader)){for(var i=0;i<reader._readRequests.length;i++){reader._readRequests[i]._reject(e)}reader._readRequests=[]}else{assert(IsReadableStreamBYOBReader(reader),"reader must be ReadableStreamBYOBReader");for(var _i=0;_i<reader._readIntoRequests.length;_i++){reader._readIntoRequests[_i]._reject(e)}reader._readIntoRequests=[]}defaultReaderClosedPromiseReject(reader,e),reader._closedPromise.catch(function(){})}}function ReadableStreamFulfillReadRequest(stream,chunk,done){var reader=stream._reader;assert(reader._readRequests.length>0),reader._readRequests.shift()._resolve(CreateIterResultObject(chunk,done))}function ReadableStreamGetNumReadIntoRequests(stream){return stream._reader._readIntoRequests.length}function ReadableStreamGetNumReadRequests(stream){return stream._reader._readRequests.length}function ReadableStreamHasBYOBReader(stream){var reader=stream._reader;return void 0!==reader&&!1!==IsReadableStreamBYOBReader(reader)}function ReadableStreamHasDefaultReader(stream){var reader=stream._reader;return void 0!==reader&&!1!==IsReadableStreamDefaultReader(reader)}module.exports={ReadableStream:ReadableStream,IsReadableStreamDisturbed:function(stream){return assert(!0===IsReadableStream(stream),"IsReadableStreamDisturbed should only be used on known readable streams"),stream._disturbed},ReadableStreamDefaultControllerClose:ReadableStreamDefaultControllerClose,ReadableStreamDefaultControllerEnqueue:ReadableStreamDefaultControllerEnqueue,ReadableStreamDefaultControllerError:ReadableStreamDefaultControllerError,ReadableStreamDefaultControllerGetDesiredSize:ReadableStreamDefaultControllerGetDesiredSize};var ReadableStreamDefaultReader=function(){function ReadableStreamDefaultReader(stream){if(_classCallCheck(this,ReadableStreamDefaultReader),!1===IsReadableStream(stream))throw new TypeError("ReadableStreamDefaultReader can only be constructed with a ReadableStream instance");if(!0===IsReadableStreamLocked(stream))throw new TypeError("This stream has already been locked for exclusive reading by another reader");ReadableStreamReaderGenericInitialize(this,stream),this._readRequests=[]}return _createClass(ReadableStreamDefaultReader,[{key:"cancel",value:function(reason){return!1===IsReadableStreamDefaultReader(this)?Promise.reject(defaultReaderBrandCheckException("cancel")):void 0===this._ownerReadableStream?Promise.reject(readerLockException("cancel")):ReadableStreamReaderGenericCancel(this,reason)}},{key:"read",value:function(){return!1===IsReadableStreamDefaultReader(this)?Promise.reject(defaultReaderBrandCheckException("read")):void 0===this._ownerReadableStream?Promise.reject(readerLockException("read from")):ReadableStreamDefaultReaderRead(this)}},{key:"releaseLock",value:function(){if(!1===IsReadableStreamDefaultReader(this))throw defaultReaderBrandCheckException("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ReadableStreamReaderGenericRelease(this)}}},{key:"closed",get:function(){return!1===IsReadableStreamDefaultReader(this)?Promise.reject(defaultReaderBrandCheckException("closed")):this._closedPromise}}]),ReadableStreamDefaultReader}(),ReadableStreamBYOBReader=function(){function ReadableStreamBYOBReader(stream){if(_classCallCheck(this,ReadableStreamBYOBReader),!IsReadableStream(stream))throw new TypeError("ReadableStreamBYOBReader can only be constructed with a ReadableStream instance given a byte source");if(!1===IsReadableByteStreamController(stream._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");if(IsReadableStreamLocked(stream))throw new TypeError("This stream has already been locked for exclusive reading by another reader");ReadableStreamReaderGenericInitialize(this,stream),this._readIntoRequests=[]}return _createClass(ReadableStreamBYOBReader,[{key:"cancel",value:function(reason){return IsReadableStreamBYOBReader(this)?void 0===this._ownerReadableStream?Promise.reject(readerLockException("cancel")):ReadableStreamReaderGenericCancel(this,reason):Promise.reject(byobReaderBrandCheckException("cancel"))}},{key:"read",value:function(view){return IsReadableStreamBYOBReader(this)?void 0===this._ownerReadableStream?Promise.reject(readerLockException("read from")):ArrayBuffer.isView(view)?0===view.byteLength?Promise.reject(new TypeError("view must have non-zero byteLength")):function(reader,view){var stream=reader._ownerReadableStream;if(assert(void 0!==stream),stream._disturbed=!0,"errored"===stream._state)return Promise.reject(stream._storedError);return function(controller,view){var stream=controller._controlledReadableStream,elementSize=1;view.constructor!==DataView&&(elementSize=view.constructor.BYTES_PER_ELEMENT);var ctor=view.constructor,pullIntoDescriptor={buffer:view.buffer,byteOffset:view.byteOffset,byteLength:view.byteLength,bytesFilled:0,elementSize:elementSize,ctor:ctor,readerType:"byob"};if(controller._pendingPullIntos.length>0)return pullIntoDescriptor.buffer=TransferArrayBuffer(pullIntoDescriptor.buffer),controller._pendingPullIntos.push(pullIntoDescriptor),ReadableStreamAddReadIntoRequest(stream);if("closed"===stream._state){var emptyView=new view.constructor(pullIntoDescriptor.buffer,pullIntoDescriptor.byteOffset,0);return Promise.resolve(CreateIterResultObject(emptyView,!0))}if(controller._queueTotalSize>0){if(!0===ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller,pullIntoDescriptor)){var filledView=ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor);return ReadableByteStreamControllerHandleQueueDrain(controller),Promise.resolve(CreateIterResultObject(filledView,!1))}if(!0===controller._closeRequested){var e=new TypeError("Insufficient bytes to fill elements in the given buffer");return ReadableByteStreamControllerError(controller,e),Promise.reject(e)}}pullIntoDescriptor.buffer=TransferArrayBuffer(pullIntoDescriptor.buffer),controller._pendingPullIntos.push(pullIntoDescriptor);var promise=ReadableStreamAddReadIntoRequest(stream);return ReadableByteStreamControllerCallPullIfNeeded(controller),promise}(stream._readableStreamController,view)}(this,view):Promise.reject(new TypeError("view must be an array buffer view")):Promise.reject(byobReaderBrandCheckException("read"))}},{key:"releaseLock",value:function(){if(!IsReadableStreamBYOBReader(this))throw byobReaderBrandCheckException("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");ReadableStreamReaderGenericRelease(this)}}},{key:"closed",get:function(){return IsReadableStreamBYOBReader(this)?this._closedPromise:Promise.reject(byobReaderBrandCheckException("closed"))}}]),ReadableStreamBYOBReader}();function IsReadableStreamBYOBReader(x){return!!typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_readIntoRequests")}function IsReadableStreamDefaultReader(x){return!!typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_readRequests")}function ReadableStreamReaderGenericInitialize(reader,stream){reader._ownerReadableStream=stream,stream._reader=reader,"readable"===stream._state?function(reader){reader._closedPromise=new Promise(function(resolve,reject){reader._closedPromise_resolve=resolve,reader._closedPromise_reject=reject})}(reader):"closed"===stream._state?function(reader){reader._closedPromise=Promise.resolve(void 0),reader._closedPromise_resolve=void 0,reader._closedPromise_reject=void 0}(reader):(assert("errored"===stream._state,"state must be errored"),function(reader,reason){reader._closedPromise=Promise.reject(reason),reader._closedPromise_resolve=void 0,reader._closedPromise_reject=void 0}(reader,stream._storedError),reader._closedPromise.catch(function(){}))}function ReadableStreamReaderGenericCancel(reader,reason){var stream=reader._ownerReadableStream;return assert(void 0!==stream),ReadableStreamCancel(stream,reason)}function ReadableStreamReaderGenericRelease(reader){assert(void 0!==reader._ownerReadableStream),assert(reader._ownerReadableStream._reader===reader),"readable"===reader._ownerReadableStream._state?defaultReaderClosedPromiseReject(reader,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(reader,reason){assert(void 0===reader._closedPromise_resolve),assert(void 0===reader._closedPromise_reject),reader._closedPromise=Promise.reject(reason)}(reader,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),reader._closedPromise.catch(function(){}),reader._ownerReadableStream._reader=void 0,reader._ownerReadableStream=void 0}function ReadableStreamDefaultReaderRead(reader){var stream=reader._ownerReadableStream;return assert(void 0!==stream),stream._disturbed=!0,"closed"===stream._state?Promise.resolve(CreateIterResultObject(void 0,!0)):"errored"===stream._state?Promise.reject(stream._storedError):(assert("readable"===stream._state),stream._readableStreamController.__pullSteps())}var ReadableStreamDefaultController=function(){function ReadableStreamDefaultController(stream,underlyingSource,size,highWaterMark){if(_classCallCheck(this,ReadableStreamDefaultController),!1===IsReadableStream(stream))throw new TypeError("ReadableStreamDefaultController can only be constructed with a ReadableStream instance");if(void 0!==stream._readableStreamController)throw new TypeError("ReadableStreamDefaultController instances can only be created by the ReadableStream constructor");this._controlledReadableStream=stream,this._underlyingSource=underlyingSource,this._queue=void 0,this._queueTotalSize=void 0,ResetQueue(this),this._started=!1,this._closeRequested=!1,this._pullAgain=!1,this._pulling=!1;var normalizedStrategy=ValidateAndNormalizeQueuingStrategy(size,highWaterMark);this._strategySize=normalizedStrategy.size,this._strategyHWM=normalizedStrategy.highWaterMark;var controller=this,startResult=InvokeOrNoop(underlyingSource,"start",[this]);Promise.resolve(startResult).then(function(){controller._started=!0,assert(!1===controller._pulling),assert(!1===controller._pullAgain),ReadableStreamDefaultControllerCallPullIfNeeded(controller)},function(r){ReadableStreamDefaultControllerErrorIfNeeded(controller,r)}).catch(rethrowAssertionErrorRejection)}return _createClass(ReadableStreamDefaultController,[{key:"close",value:function(){if(!1===IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var state=this._controlledReadableStream._state;if("readable"!==state)throw new TypeError("The stream (in "+state+" state) is not in the readable state and cannot be closed");ReadableStreamDefaultControllerClose(this)}},{key:"enqueue",value:function(chunk){if(!1===IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var state=this._controlledReadableStream._state;if("readable"!==state)throw new TypeError("The stream (in "+state+" state) is not in the readable state and cannot be enqueued to");return ReadableStreamDefaultControllerEnqueue(this,chunk)}},{key:"error",value:function(e){if(!1===IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException("error");var stream=this._controlledReadableStream;if("readable"!==stream._state)throw new TypeError("The stream is "+stream._state+" and so cannot be errored");ReadableStreamDefaultControllerError(this,e)}},{key:"__cancelSteps",value:function(reason){return ResetQueue(this),PromiseInvokeOrNoop(this._underlyingSource,"cancel",[reason])}},{key:"__pullSteps",value:function(){var stream=this._controlledReadableStream;if(this._queue.length>0){var chunk=DequeueValue(this);return!0===this._closeRequested&&0===this._queue.length?ReadableStreamClose(stream):ReadableStreamDefaultControllerCallPullIfNeeded(this),Promise.resolve(CreateIterResultObject(chunk,!1))}var pendingPromise=ReadableStreamAddReadRequest(stream);return ReadableStreamDefaultControllerCallPullIfNeeded(this),pendingPromise}},{key:"desiredSize",get:function(){if(!1===IsReadableStreamDefaultController(this))throw defaultControllerBrandCheckException("desiredSize");return ReadableStreamDefaultControllerGetDesiredSize(this)}}]),ReadableStreamDefaultController}();function IsReadableStreamDefaultController(x){return!!typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_underlyingSource")}function ReadableStreamDefaultControllerCallPullIfNeeded(controller){!1!==function(controller){var stream=controller._controlledReadableStream;if("closed"===stream._state||"errored"===stream._state)return!1;if(!0===controller._closeRequested)return!1;if(!1===controller._started)return!1;if(!0===IsReadableStreamLocked(stream)&&ReadableStreamGetNumReadRequests(stream)>0)return!0;if(ReadableStreamDefaultControllerGetDesiredSize(controller)>0)return!0;return!1}(controller)&&(!0!==controller._pulling?(assert(!1===controller._pullAgain),controller._pulling=!0,PromiseInvokeOrNoop(controller._underlyingSource,"pull",[controller]).then(function(){if(controller._pulling=!1,!0===controller._pullAgain)return controller._pullAgain=!1,ReadableStreamDefaultControllerCallPullIfNeeded(controller)},function(e){ReadableStreamDefaultControllerErrorIfNeeded(controller,e)}).catch(rethrowAssertionErrorRejection)):controller._pullAgain=!0)}function ReadableStreamDefaultControllerClose(controller){var stream=controller._controlledReadableStream;assert(!1===controller._closeRequested),assert("readable"===stream._state),controller._closeRequested=!0,0===controller._queue.length&&ReadableStreamClose(stream)}function ReadableStreamDefaultControllerEnqueue(controller,chunk){var stream=controller._controlledReadableStream;if(assert(!1===controller._closeRequested),assert("readable"===stream._state),!0===IsReadableStreamLocked(stream)&&ReadableStreamGetNumReadRequests(stream)>0)ReadableStreamFulfillReadRequest(stream,chunk,!1);else{var chunkSize=1;if(void 0!==controller._strategySize){var strategySize=controller._strategySize;try{chunkSize=strategySize(chunk)}catch(chunkSizeE){throw ReadableStreamDefaultControllerErrorIfNeeded(controller,chunkSizeE),chunkSizeE}}try{EnqueueValueWithSize(controller,chunk,chunkSize)}catch(enqueueE){throw ReadableStreamDefaultControllerErrorIfNeeded(controller,enqueueE),enqueueE}}ReadableStreamDefaultControllerCallPullIfNeeded(controller)}function ReadableStreamDefaultControllerError(controller,e){var stream=controller._controlledReadableStream;assert("readable"===stream._state),ResetQueue(controller),ReadableStreamError(stream,e)}function ReadableStreamDefaultControllerErrorIfNeeded(controller,e){"readable"===controller._controlledReadableStream._state&&ReadableStreamDefaultControllerError(controller,e)}function ReadableStreamDefaultControllerGetDesiredSize(controller){var state=controller._controlledReadableStream._state;return"errored"===state?null:"closed"===state?0:controller._strategyHWM-controller._queueTotalSize}var ReadableStreamBYOBRequest=function(){function ReadableStreamBYOBRequest(controller,view){_classCallCheck(this,ReadableStreamBYOBRequest),this._associatedReadableByteStreamController=controller,this._view=view}return _createClass(ReadableStreamBYOBRequest,[{key:"respond",value:function(bytesWritten){if(!1===IsReadableStreamBYOBRequest(this))throw byobRequestBrandCheckException("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");!function(controller,bytesWritten){if(bytesWritten=Number(bytesWritten),!1===IsFiniteNonNegativeNumber(bytesWritten))throw new RangeError("bytesWritten must be a finite");assert(controller._pendingPullIntos.length>0),ReadableByteStreamControllerRespondInternal(controller,bytesWritten)}(this._associatedReadableByteStreamController,bytesWritten)}},{key:"respondWithNewView",value:function(view){if(!1===IsReadableStreamBYOBRequest(this))throw byobRequestBrandCheckException("respond");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(!ArrayBuffer.isView(view))throw new TypeError("You can only respond with array buffer views");!function(controller,view){assert(controller._pendingPullIntos.length>0);var firstDescriptor=controller._pendingPullIntos[0];if(firstDescriptor.byteOffset+firstDescriptor.bytesFilled!==view.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(firstDescriptor.byteLength!==view.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");firstDescriptor.buffer=view.buffer,ReadableByteStreamControllerRespondInternal(controller,view.byteLength)}(this._associatedReadableByteStreamController,view)}},{key:"view",get:function(){return this._view}}]),ReadableStreamBYOBRequest}(),ReadableByteStreamController=function(){function ReadableByteStreamController(stream,underlyingByteSource,highWaterMark){if(_classCallCheck(this,ReadableByteStreamController),!1===IsReadableStream(stream))throw new TypeError("ReadableByteStreamController can only be constructed with a ReadableStream instance given a byte source");if(void 0!==stream._readableStreamController)throw new TypeError("ReadableByteStreamController instances can only be created by the ReadableStream constructor given a byte source");this._controlledReadableStream=stream,this._underlyingByteSource=underlyingByteSource,this._pullAgain=!1,this._pulling=!1,ReadableByteStreamControllerClearPendingPullIntos(this),this._queue=this._queueTotalSize=void 0,ResetQueue(this),this._closeRequested=!1,this._started=!1,this._strategyHWM=ValidateAndNormalizeHighWaterMark(highWaterMark);var autoAllocateChunkSize=underlyingByteSource.autoAllocateChunkSize;if(void 0!==autoAllocateChunkSize&&(!1===Number.isInteger(autoAllocateChunkSize)||autoAllocateChunkSize<=0))throw new RangeError("autoAllocateChunkSize must be a positive integer");this._autoAllocateChunkSize=autoAllocateChunkSize,this._pendingPullIntos=[];var controller=this,startResult=InvokeOrNoop(underlyingByteSource,"start",[this]);Promise.resolve(startResult).then(function(){controller._started=!0,assert(!1===controller._pulling),assert(!1===controller._pullAgain),ReadableByteStreamControllerCallPullIfNeeded(controller)},function(r){"readable"===stream._state&&ReadableByteStreamControllerError(controller,r)}).catch(rethrowAssertionErrorRejection)}return _createClass(ReadableByteStreamController,[{key:"close",value:function(){if(!1===IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("close");if(!0===this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var state=this._controlledReadableStream._state;if("readable"!==state)throw new TypeError("The stream (in "+state+" state) is not in the readable state and cannot be closed");!function(controller){var stream=controller._controlledReadableStream;if(assert(!1===controller._closeRequested),assert("readable"===stream._state),controller._queueTotalSize>0)return void(controller._closeRequested=!0);if(controller._pendingPullIntos.length>0){var firstPendingPullInto=controller._pendingPullIntos[0];if(firstPendingPullInto.bytesFilled>0){var e=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ReadableByteStreamControllerError(controller,e),e}}ReadableStreamClose(stream)}(this)}},{key:"enqueue",value:function(chunk){if(!1===IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("enqueue");if(!0===this._closeRequested)throw new TypeError("stream is closed or draining");var state=this._controlledReadableStream._state;if("readable"!==state)throw new TypeError("The stream (in "+state+" state) is not in the readable state and cannot be enqueued to");if(!ArrayBuffer.isView(chunk))throw new TypeError("You can only enqueue array buffer views when using a ReadableByteStreamController");!function(controller,chunk){var stream=controller._controlledReadableStream;assert(!1===controller._closeRequested),assert("readable"===stream._state);var buffer=chunk.buffer,byteOffset=chunk.byteOffset,byteLength=chunk.byteLength,transferredBuffer=TransferArrayBuffer(buffer);if(!0===ReadableStreamHasDefaultReader(stream))if(0===ReadableStreamGetNumReadRequests(stream))ReadableByteStreamControllerEnqueueChunkToQueue(controller,transferredBuffer,byteOffset,byteLength);else{assert(0===controller._queue.length);var transferredView=new Uint8Array(transferredBuffer,byteOffset,byteLength);ReadableStreamFulfillReadRequest(stream,transferredView,!1)}else!0===ReadableStreamHasBYOBReader(stream)?(ReadableByteStreamControllerEnqueueChunkToQueue(controller,transferredBuffer,byteOffset,byteLength),ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller)):(assert(!1===IsReadableStreamLocked(stream),"stream must not be locked"),ReadableByteStreamControllerEnqueueChunkToQueue(controller,transferredBuffer,byteOffset,byteLength))}(this,chunk)}},{key:"error",value:function(e){if(!1===IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("error");var stream=this._controlledReadableStream;if("readable"!==stream._state)throw new TypeError("The stream is "+stream._state+" and so cannot be errored");ReadableByteStreamControllerError(this,e)}},{key:"__cancelSteps",value:function(reason){this._pendingPullIntos.length>0&&(this._pendingPullIntos[0].bytesFilled=0);return ResetQueue(this),PromiseInvokeOrNoop(this._underlyingByteSource,"cancel",[reason])}},{key:"__pullSteps",value:function(){var stream=this._controlledReadableStream;if(assert(!0===ReadableStreamHasDefaultReader(stream)),this._queueTotalSize>0){assert(0===ReadableStreamGetNumReadRequests(stream));var entry=this._queue.shift();this._queueTotalSize-=entry.byteLength,ReadableByteStreamControllerHandleQueueDrain(this);var view=void 0;try{view=new Uint8Array(entry.buffer,entry.byteOffset,entry.byteLength)}catch(viewE){return Promise.reject(viewE)}return Promise.resolve(CreateIterResultObject(view,!1))}var autoAllocateChunkSize=this._autoAllocateChunkSize;if(void 0!==autoAllocateChunkSize){var buffer=void 0;try{buffer=new ArrayBuffer(autoAllocateChunkSize)}catch(bufferE){return Promise.reject(bufferE)}var pullIntoDescriptor={buffer:buffer,byteOffset:0,byteLength:autoAllocateChunkSize,bytesFilled:0,elementSize:1,ctor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(pullIntoDescriptor)}var promise=ReadableStreamAddReadRequest(stream);return ReadableByteStreamControllerCallPullIfNeeded(this),promise}},{key:"byobRequest",get:function(){if(!1===IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("byobRequest");if(void 0===this._byobRequest&&this._pendingPullIntos.length>0){var firstDescriptor=this._pendingPullIntos[0],view=new Uint8Array(firstDescriptor.buffer,firstDescriptor.byteOffset+firstDescriptor.bytesFilled,firstDescriptor.byteLength-firstDescriptor.bytesFilled);this._byobRequest=new ReadableStreamBYOBRequest(this,view)}return this._byobRequest}},{key:"desiredSize",get:function(){if(!1===IsReadableByteStreamController(this))throw byteStreamControllerBrandCheckException("desiredSize");return ReadableByteStreamControllerGetDesiredSize(this)}}]),ReadableByteStreamController}();function IsReadableByteStreamController(x){return!!typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_underlyingByteSource")}function IsReadableStreamBYOBRequest(x){return!!typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_associatedReadableByteStreamController")}function ReadableByteStreamControllerCallPullIfNeeded(controller){!1!==function(controller){var stream=controller._controlledReadableStream;if("readable"!==stream._state)return!1;if(!0===controller._closeRequested)return!1;if(!1===controller._started)return!1;if(!0===ReadableStreamHasDefaultReader(stream)&&ReadableStreamGetNumReadRequests(stream)>0)return!0;if(!0===ReadableStreamHasBYOBReader(stream)&&ReadableStreamGetNumReadIntoRequests(stream)>0)return!0;if(ReadableByteStreamControllerGetDesiredSize(controller)>0)return!0;return!1}(controller)&&(!0!==controller._pulling?(assert(!1===controller._pullAgain),controller._pulling=!0,PromiseInvokeOrNoop(controller._underlyingByteSource,"pull",[controller]).then(function(){controller._pulling=!1,!0===controller._pullAgain&&(controller._pullAgain=!1,ReadableByteStreamControllerCallPullIfNeeded(controller))},function(e){"readable"===controller._controlledReadableStream._state&&ReadableByteStreamControllerError(controller,e)}).catch(rethrowAssertionErrorRejection)):controller._pullAgain=!0)}function ReadableByteStreamControllerClearPendingPullIntos(controller){ReadableByteStreamControllerInvalidateBYOBRequest(controller),controller._pendingPullIntos=[]}function ReadableByteStreamControllerCommitPullIntoDescriptor(stream,pullIntoDescriptor){assert("errored"!==stream._state,"state must not be errored");var done=!1;"closed"===stream._state&&(assert(0===pullIntoDescriptor.bytesFilled),done=!0);var filledView=ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor);"default"===pullIntoDescriptor.readerType?ReadableStreamFulfillReadRequest(stream,filledView,done):(assert("byob"===pullIntoDescriptor.readerType),function(stream,chunk,done){var reader=stream._reader;assert(reader._readIntoRequests.length>0),reader._readIntoRequests.shift()._resolve(CreateIterResultObject(chunk,done))}(stream,filledView,done))}function ReadableByteStreamControllerConvertPullIntoDescriptor(pullIntoDescriptor){var bytesFilled=pullIntoDescriptor.bytesFilled,elementSize=pullIntoDescriptor.elementSize;return assert(bytesFilled<=pullIntoDescriptor.byteLength),assert(bytesFilled%elementSize==0),new pullIntoDescriptor.ctor(pullIntoDescriptor.buffer,pullIntoDescriptor.byteOffset,bytesFilled/elementSize)}function ReadableByteStreamControllerEnqueueChunkToQueue(controller,buffer,byteOffset,byteLength){controller._queue.push({buffer:buffer,byteOffset:byteOffset,byteLength:byteLength}),controller._queueTotalSize+=byteLength}function ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller,pullIntoDescriptor){var elementSize=pullIntoDescriptor.elementSize,currentAlignedBytes=pullIntoDescriptor.bytesFilled-pullIntoDescriptor.bytesFilled%elementSize,maxBytesToCopy=Math.min(controller._queueTotalSize,pullIntoDescriptor.byteLength-pullIntoDescriptor.bytesFilled),maxBytesFilled=pullIntoDescriptor.bytesFilled+maxBytesToCopy,maxAlignedBytes=maxBytesFilled-maxBytesFilled%elementSize,totalBytesToCopyRemaining=maxBytesToCopy,ready=!1;maxAlignedBytes>currentAlignedBytes&&(totalBytesToCopyRemaining=maxAlignedBytes-pullIntoDescriptor.bytesFilled,ready=!0);for(var queue=controller._queue;totalBytesToCopyRemaining>0;){var headOfQueue=queue[0],bytesToCopy=Math.min(totalBytesToCopyRemaining,headOfQueue.byteLength),destStart=pullIntoDescriptor.byteOffset+pullIntoDescriptor.bytesFilled;ArrayBufferCopy(pullIntoDescriptor.buffer,destStart,headOfQueue.buffer,headOfQueue.byteOffset,bytesToCopy),headOfQueue.byteLength===bytesToCopy?queue.shift():(headOfQueue.byteOffset+=bytesToCopy,headOfQueue.byteLength-=bytesToCopy),controller._queueTotalSize-=bytesToCopy,ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller,bytesToCopy,pullIntoDescriptor),totalBytesToCopyRemaining-=bytesToCopy}return!1===ready&&(assert(0===controller._queueTotalSize,"queue must be empty"),assert(pullIntoDescriptor.bytesFilled>0),assert(pullIntoDescriptor.bytesFilled<pullIntoDescriptor.elementSize)),ready}function ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller,size,pullIntoDescriptor){assert(0===controller._pendingPullIntos.length||controller._pendingPullIntos[0]===pullIntoDescriptor),ReadableByteStreamControllerInvalidateBYOBRequest(controller),pullIntoDescriptor.bytesFilled+=size}function ReadableByteStreamControllerHandleQueueDrain(controller){assert("readable"===controller._controlledReadableStream._state),0===controller._queueTotalSize&&!0===controller._closeRequested?ReadableStreamClose(controller._controlledReadableStream):ReadableByteStreamControllerCallPullIfNeeded(controller)}function ReadableByteStreamControllerInvalidateBYOBRequest(controller){void 0!==controller._byobRequest&&(controller._byobRequest._associatedReadableByteStreamController=void 0,controller._byobRequest._view=void 0,controller._byobRequest=void 0)}function ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller){for(assert(!1===controller._closeRequested);controller._pendingPullIntos.length>0;){if(0===controller._queueTotalSize)return;var pullIntoDescriptor=controller._pendingPullIntos[0];!0===ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(controller,pullIntoDescriptor)&&(ReadableByteStreamControllerShiftPendingPullInto(controller),ReadableByteStreamControllerCommitPullIntoDescriptor(controller._controlledReadableStream,pullIntoDescriptor))}}function ReadableByteStreamControllerRespondInternal(controller,bytesWritten){var firstDescriptor=controller._pendingPullIntos[0],stream=controller._controlledReadableStream;if("closed"===stream._state){if(0!==bytesWritten)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");!function(controller,firstDescriptor){firstDescriptor.buffer=TransferArrayBuffer(firstDescriptor.buffer),assert(0===firstDescriptor.bytesFilled,"bytesFilled must be 0");var stream=controller._controlledReadableStream;if(!0===ReadableStreamHasBYOBReader(stream))for(;ReadableStreamGetNumReadIntoRequests(stream)>0;)ReadableByteStreamControllerCommitPullIntoDescriptor(stream,ReadableByteStreamControllerShiftPendingPullInto(controller))}(controller,firstDescriptor)}else assert("readable"===stream._state),function(controller,bytesWritten,pullIntoDescriptor){if(pullIntoDescriptor.bytesFilled+bytesWritten>pullIntoDescriptor.byteLength)throw new RangeError("bytesWritten out of range");if(ReadableByteStreamControllerFillHeadPullIntoDescriptor(controller,bytesWritten,pullIntoDescriptor),!(pullIntoDescriptor.bytesFilled<pullIntoDescriptor.elementSize)){ReadableByteStreamControllerShiftPendingPullInto(controller);var remainderSize=pullIntoDescriptor.bytesFilled%pullIntoDescriptor.elementSize;if(remainderSize>0){var end=pullIntoDescriptor.byteOffset+pullIntoDescriptor.bytesFilled,remainder=pullIntoDescriptor.buffer.slice(end-remainderSize,end);ReadableByteStreamControllerEnqueueChunkToQueue(controller,remainder,0,remainder.byteLength)}pullIntoDescriptor.buffer=TransferArrayBuffer(pullIntoDescriptor.buffer),pullIntoDescriptor.bytesFilled-=remainderSize,ReadableByteStreamControllerCommitPullIntoDescriptor(controller._controlledReadableStream,pullIntoDescriptor),ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(controller)}}(controller,bytesWritten,firstDescriptor)}function ReadableByteStreamControllerShiftPendingPullInto(controller){var descriptor=controller._pendingPullIntos.shift();return ReadableByteStreamControllerInvalidateBYOBRequest(controller),descriptor}function ReadableByteStreamControllerError(controller,e){var stream=controller._controlledReadableStream;assert("readable"===stream._state),ReadableByteStreamControllerClearPendingPullIntos(controller),ResetQueue(controller),ReadableStreamError(stream,e)}function ReadableByteStreamControllerGetDesiredSize(controller){var state=controller._controlledReadableStream._state;return"errored"===state?null:"closed"===state?0:controller._strategyHWM-controller._queueTotalSize}function streamBrandCheckException(name){return new TypeError("ReadableStream.prototype."+name+" can only be used on a ReadableStream")}function readerLockException(name){return new TypeError("Cannot "+name+" a stream using a released reader")}function defaultReaderBrandCheckException(name){return new TypeError("ReadableStreamDefaultReader.prototype."+name+" can only be used on a ReadableStreamDefaultReader")}function defaultReaderClosedPromiseReject(reader,reason){assert(void 0!==reader._closedPromise_resolve),assert(void 0!==reader._closedPromise_reject),reader._closedPromise_reject(reason),reader._closedPromise_resolve=void 0,reader._closedPromise_reject=void 0}function byobReaderBrandCheckException(name){return new TypeError("ReadableStreamBYOBReader.prototype."+name+" can only be used on a ReadableStreamBYOBReader")}function defaultControllerBrandCheckException(name){return new TypeError("ReadableStreamDefaultController.prototype."+name+" can only be used on a ReadableStreamDefaultController")}function byobRequestBrandCheckException(name){return new TypeError("ReadableStreamBYOBRequest.prototype."+name+" can only be used on a ReadableStreamBYOBRequest")}function byteStreamControllerBrandCheckException(name){return new TypeError("ReadableByteStreamController.prototype."+name+" can only be used on a ReadableByteStreamController")}},function(module,exports,__w_pdfjs_require__){var transformStream=__w_pdfjs_require__(6),readableStream=__w_pdfjs_require__(4),writableStream=__w_pdfjs_require__(2);exports.TransformStream=transformStream.TransformStream,exports.ReadableStream=readableStream.ReadableStream,exports.IsReadableStreamDisturbed=readableStream.IsReadableStreamDisturbed,exports.ReadableStreamDefaultControllerClose=readableStream.ReadableStreamDefaultControllerClose,exports.ReadableStreamDefaultControllerEnqueue=readableStream.ReadableStreamDefaultControllerEnqueue,exports.ReadableStreamDefaultControllerError=readableStream.ReadableStreamDefaultControllerError,exports.ReadableStreamDefaultControllerGetDesiredSize=readableStream.ReadableStreamDefaultControllerGetDesiredSize,exports.AcquireWritableStreamDefaultWriter=writableStream.AcquireWritableStreamDefaultWriter,exports.IsWritableStream=writableStream.IsWritableStream,exports.IsWritableStreamLocked=writableStream.IsWritableStreamLocked,exports.WritableStream=writableStream.WritableStream,exports.WritableStreamAbort=writableStream.WritableStreamAbort,exports.WritableStreamDefaultControllerError=writableStream.WritableStreamDefaultControllerError,exports.WritableStreamDefaultWriterCloseWithErrorPropagation=writableStream.WritableStreamDefaultWriterCloseWithErrorPropagation,exports.WritableStreamDefaultWriterRelease=writableStream.WritableStreamDefaultWriterRelease,exports.WritableStreamDefaultWriterWrite=writableStream.WritableStreamDefaultWriterWrite},function(module,exports,__w_pdfjs_require__){var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var assert=__w_pdfjs_require__(1).assert,_require2=__w_pdfjs_require__(0),InvokeOrNoop=_require2.InvokeOrNoop,PromiseInvokeOrPerformFallback=_require2.PromiseInvokeOrPerformFallback,PromiseInvokeOrNoop=_require2.PromiseInvokeOrNoop,typeIsObject=_require2.typeIsObject,_require3=__w_pdfjs_require__(4),ReadableStream=_require3.ReadableStream,ReadableStreamDefaultControllerClose=_require3.ReadableStreamDefaultControllerClose,ReadableStreamDefaultControllerEnqueue=_require3.ReadableStreamDefaultControllerEnqueue,ReadableStreamDefaultControllerError=_require3.ReadableStreamDefaultControllerError,ReadableStreamDefaultControllerGetDesiredSize=_require3.ReadableStreamDefaultControllerGetDesiredSize,_require4=__w_pdfjs_require__(2),WritableStream=_require4.WritableStream,WritableStreamDefaultControllerError=_require4.WritableStreamDefaultControllerError;function TransformStreamEnqueueToReadable(transformStream,chunk){if(!0===transformStream._errored)throw new TypeError("TransformStream is already errored");if(!0===transformStream._readableClosed)throw new TypeError("Readable side is already closed");var controller=transformStream._readableController;try{ReadableStreamDefaultControllerEnqueue(controller,chunk)}catch(e){throw transformStream._readableClosed=!0,TransformStreamErrorIfNeeded(transformStream,e),transformStream._storedError}!0===ReadableStreamDefaultControllerGetDesiredSize(controller)<=0&&!1===transformStream._backpressure&&TransformStreamSetBackpressure(transformStream,!0)}function TransformStreamCloseReadableInternal(transformStream){assert(!1===transformStream._errored),assert(!1===transformStream._readableClosed);try{ReadableStreamDefaultControllerClose(transformStream._readableController)}catch(e){assert(!1)}transformStream._readableClosed=!0}function TransformStreamErrorIfNeeded(transformStream,e){!1===transformStream._errored&&TransformStreamErrorInternal(transformStream,e)}function TransformStreamErrorInternal(transformStream,e){assert(!1===transformStream._errored),transformStream._errored=!0,transformStream._storedError=e,!1===transformStream._writableDone&&WritableStreamDefaultControllerError(transformStream._writableController,e),!1===transformStream._readableClosed&&ReadableStreamDefaultControllerError(transformStream._readableController,e)}function TransformStreamReadableReadyPromise(transformStream){return assert(void 0!==transformStream._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),!1===transformStream._backpressure?Promise.resolve():(assert(!0===transformStream._backpressure,"_backpressure should have been initialized"),transformStream._backpressureChangePromise)}function TransformStreamSetBackpressure(transformStream,backpressure){assert(transformStream._backpressure!==backpressure,"TransformStreamSetBackpressure() should be called only when backpressure is changed"),void 0!==transformStream._backpressureChangePromise&&transformStream._backpressureChangePromise_resolve(backpressure),transformStream._backpressureChangePromise=new Promise(function(resolve){transformStream._backpressureChangePromise_resolve=resolve}),transformStream._backpressureChangePromise.then(function(resolution){assert(resolution!==backpressure,"_backpressureChangePromise should be fulfilled only when backpressure is changed")}),transformStream._backpressure=backpressure}function TransformStreamDefaultTransform(chunk,transformStreamController){return TransformStreamEnqueueToReadable(transformStreamController._controlledTransformStream,chunk),Promise.resolve()}function IsTransformStreamDefaultController(x){return!!typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_controlledTransformStream")}function IsTransformStream(x){return!!typeIsObject(x)&&!!Object.prototype.hasOwnProperty.call(x,"_transformStreamController")}var TransformStreamSink=function(){function TransformStreamSink(transformStream,startPromise){_classCallCheck(this,TransformStreamSink),this._transformStream=transformStream,this._startPromise=startPromise}return _createClass(TransformStreamSink,[{key:"start",value:function(c){var transformStream=this._transformStream;return transformStream._writableController=c,this._startPromise.then(function(){return TransformStreamReadableReadyPromise(transformStream)})}},{key:"write",value:function(chunk){return function(transformStream,chunk){assert(!1===transformStream._errored),assert(!1===transformStream._transforming),assert(!1===transformStream._backpressure),transformStream._transforming=!0;var transformer=transformStream._transformer,controller=transformStream._transformStreamController;return PromiseInvokeOrPerformFallback(transformer,"transform",[chunk,controller],TransformStreamDefaultTransform,[chunk,controller]).then(function(){return transformStream._transforming=!1,TransformStreamReadableReadyPromise(transformStream)},function(e){return TransformStreamErrorIfNeeded(transformStream,e),Promise.reject(e)})}(this._transformStream,chunk)}},{key:"abort",value:function(){var transformStream=this._transformStream;transformStream._writableDone=!0,TransformStreamErrorInternal(transformStream,new TypeError("Writable side aborted"))}},{key:"close",value:function(){var transformStream=this._transformStream;return assert(!1===transformStream._transforming),transformStream._writableDone=!0,PromiseInvokeOrNoop(transformStream._transformer,"flush",[transformStream._transformStreamController]).then(function(){return!0===transformStream._errored?Promise.reject(transformStream._storedError):(!1===transformStream._readableClosed&&TransformStreamCloseReadableInternal(transformStream),Promise.resolve())}).catch(function(r){return TransformStreamErrorIfNeeded(transformStream,r),Promise.reject(transformStream._storedError)})}}]),TransformStreamSink}(),TransformStreamSource=function(){function TransformStreamSource(transformStream,startPromise){_classCallCheck(this,TransformStreamSource),this._transformStream=transformStream,this._startPromise=startPromise}return _createClass(TransformStreamSource,[{key:"start",value:function(c){var transformStream=this._transformStream;return transformStream._readableController=c,this._startPromise.then(function(){return assert(void 0!==transformStream._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),!0===transformStream._backpressure?Promise.resolve():(assert(!1===transformStream._backpressure,"_backpressure should have been initialized"),transformStream._backpressureChangePromise)})}},{key:"pull",value:function(){var transformStream=this._transformStream;return assert(!0===transformStream._backpressure,"pull() should be never called while _backpressure is false"),assert(void 0!==transformStream._backpressureChangePromise,"_backpressureChangePromise should have been initialized"),TransformStreamSetBackpressure(transformStream,!1),transformStream._backpressureChangePromise}},{key:"cancel",value:function(){var transformStream=this._transformStream;transformStream._readableClosed=!0,TransformStreamErrorInternal(transformStream,new TypeError("Readable side canceled"))}}]),TransformStreamSource}(),TransformStreamDefaultController=function(){function TransformStreamDefaultController(transformStream){if(_classCallCheck(this,TransformStreamDefaultController),!1===IsTransformStream(transformStream))throw new TypeError("TransformStreamDefaultController can only be constructed with a TransformStream instance");if(void 0!==transformStream._transformStreamController)throw new TypeError("TransformStreamDefaultController instances can only be created by the TransformStream constructor");this._controlledTransformStream=transformStream}return _createClass(TransformStreamDefaultController,[{key:"enqueue",value:function(chunk){if(!1===IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException("enqueue");TransformStreamEnqueueToReadable(this._controlledTransformStream,chunk)}},{key:"close",value:function(){if(!1===IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException("close");!function(transformStream){if(!0===transformStream._errored)throw new TypeError("TransformStream is already errored");if(!0===transformStream._readableClosed)throw new TypeError("Readable side is already closed");TransformStreamCloseReadableInternal(transformStream)}(this._controlledTransformStream)}},{key:"error",value:function(reason){if(!1===IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException("error");!function(transformStream,e){if(!0===transformStream._errored)throw new TypeError("TransformStream is already errored");TransformStreamErrorInternal(transformStream,e)}(this._controlledTransformStream,reason)}},{key:"desiredSize",get:function(){if(!1===IsTransformStreamDefaultController(this))throw defaultControllerBrandCheckException("desiredSize");var readableController=this._controlledTransformStream._readableController;return ReadableStreamDefaultControllerGetDesiredSize(readableController)}}]),TransformStreamDefaultController}(),TransformStream=function(){function TransformStream(){var transformer=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,TransformStream),this._transformer=transformer;var readableStrategy=transformer.readableStrategy,writableStrategy=transformer.writableStrategy;this._transforming=!1,this._errored=!1,this._storedError=void 0,this._writableController=void 0,this._readableController=void 0,this._transformStreamController=void 0,this._writableDone=!1,this._readableClosed=!1,this._backpressure=void 0,this._backpressureChangePromise=void 0,this._backpressureChangePromise_resolve=void 0,this._transformStreamController=new TransformStreamDefaultController(this);var startPromise_resolve=void 0,startPromise=new Promise(function(resolve){startPromise_resolve=resolve}),source=new TransformStreamSource(this,startPromise);this._readable=new ReadableStream(source,readableStrategy);var sink=new TransformStreamSink(this,startPromise);this._writable=new WritableStream(sink,writableStrategy),assert(void 0!==this._writableController),assert(void 0!==this._readableController),TransformStreamSetBackpressure(this,ReadableStreamDefaultControllerGetDesiredSize(this._readableController)<=0);var transformStream=this,startResult=InvokeOrNoop(transformer,"start",[transformStream._transformStreamController]);startPromise_resolve(startResult),startPromise.catch(function(e){!1===transformStream._errored&&(transformStream._errored=!0,transformStream._storedError=e)})}return _createClass(TransformStream,[{key:"readable",get:function(){if(!1===IsTransformStream(this))throw streamBrandCheckException("readable");return this._readable}},{key:"writable",get:function(){if(!1===IsTransformStream(this))throw streamBrandCheckException("writable");return this._writable}}]),TransformStream}();function defaultControllerBrandCheckException(name){return new TypeError("TransformStreamDefaultController.prototype."+name+" can only be used on a TransformStreamDefaultController")}function streamBrandCheckException(name){return new TypeError("TransformStream.prototype."+name+" can only be used on a TransformStream")}module.exports={TransformStream:TransformStream}},function(module,exports,__w_pdfjs_require__){module.exports=__w_pdfjs_require__(5)}]))},function(module,exports,__w_pdfjs_require__){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},isURLSupported=!1;try{if("function"==typeof URL&&"object"===_typeof(URL.prototype)&&"origin"in URL.prototype){var u=new URL("b","http://a");u.pathname="c%20d",isURLSupported="http://a/c%20d"===u.href}}catch(ex){}if(isURLSupported)exports.URL=URL;else{var PolyfillURL=__w_pdfjs_require__(128).URL,OriginalURL=__w_pdfjs_require__(3).URL;OriginalURL&&(PolyfillURL.createObjectURL=function(blob){return OriginalURL.createObjectURL.apply(OriginalURL,arguments)},PolyfillURL.revokeObjectURL=function(url){OriginalURL.revokeObjectURL(url)}),exports.URL=PolyfillURL}},function(module,exports,__w_pdfjs_require__){"use strict";!function(){var relative=Object.create(null);relative.ftp=21,relative.file=0,relative.gopher=70,relative.http=80,relative.https=443,relative.ws=80,relative.wss=443;var relativePathDotMapping=Object.create(null);function isRelativeScheme(scheme){return void 0!==relative[scheme]}function invalid(){clear.call(this),this._isInvalid=!0}function IDNAToASCII(h){return""===h&&invalid.call(this),h.toLowerCase()}function percentEscape(c){var unicode=c.charCodeAt(0);return unicode>32&&unicode<127&&-1===[34,35,60,62,63,96].indexOf(unicode)?c:encodeURIComponent(c)}function percentEscapeQuery(c){var unicode=c.charCodeAt(0);return unicode>32&&unicode<127&&-1===[34,35,60,62,96].indexOf(unicode)?c:encodeURIComponent(c)}relativePathDotMapping["%2e"]=".",relativePathDotMapping[".%2e"]="..",relativePathDotMapping["%2e."]="..",relativePathDotMapping["%2e%2e"]="..";var EOF,ALPHA=/[a-zA-Z]/,ALPHANUMERIC=/[a-zA-Z0-9\+\-\.]/;function parse(input,stateOverride,base){function err(message){errors.push(message)}var state=stateOverride||"scheme start",cursor=0,buffer="",seenAt=!1,seenBracket=!1,errors=[];loop:for(;(input[cursor-1]!==EOF||0===cursor)&&!this._isInvalid;){var c=input[cursor];switch(state){case"scheme start":if(!c||!ALPHA.test(c)){if(stateOverride){err("Invalid scheme.");break loop}buffer="",state="no scheme";continue}buffer+=c.toLowerCase(),state="scheme";break;case"scheme":if(c&&ALPHANUMERIC.test(c))buffer+=c.toLowerCase();else{if(":"!==c){if(stateOverride){if(c===EOF)break loop;err("Code point not allowed in scheme: "+c);break loop}buffer="",cursor=0,state="no scheme";continue}if(this._scheme=buffer,buffer="",stateOverride)break loop;isRelativeScheme(this._scheme)&&(this._isRelative=!0),state="file"===this._scheme?"relative":this._isRelative&&base&&base._scheme===this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}break;case"scheme data":"?"===c?(this._query="?",state="query"):"#"===c?(this._fragment="#",state="fragment"):c!==EOF&&"\t"!==c&&"\n"!==c&&"\r"!==c&&(this._schemeData+=percentEscape(c));break;case"no scheme":if(base&&isRelativeScheme(base._scheme)){state="relative";continue}err("Missing scheme."),invalid.call(this);break;case"relative or authority":if("/"!==c||"/"!==input[cursor+1]){err("Expected /, got: "+c),state="relative";continue}state="authority ignore slashes";break;case"relative":if(this._isRelative=!0,"file"!==this._scheme&&(this._scheme=base._scheme),c===EOF){this._host=base._host,this._port=base._port,this._path=base._path.slice(),this._query=base._query,this._username=base._username,this._password=base._password;break loop}if("/"===c||"\\"===c)"\\"===c&&err("\\ is an invalid code point."),state="relative slash";else if("?"===c)this._host=base._host,this._port=base._port,this._path=base._path.slice(),this._query="?",this._username=base._username,this._password=base._password,state="query";else{if("#"!==c){var nextC=input[cursor+1],nextNextC=input[cursor+2];("file"!==this._scheme||!ALPHA.test(c)||":"!==nextC&&"|"!==nextC||nextNextC!==EOF&&"/"!==nextNextC&&"\\"!==nextNextC&&"?"!==nextNextC&&"#"!==nextNextC)&&(this._host=base._host,this._port=base._port,this._username=base._username,this._password=base._password,this._path=base._path.slice(),this._path.pop()),state="relative path";continue}this._host=base._host,this._port=base._port,this._path=base._path.slice(),this._query=base._query,this._fragment="#",this._username=base._username,this._password=base._password,state="fragment"}break;case"relative slash":if("/"!==c&&"\\"!==c){"file"!==this._scheme&&(this._host=base._host,this._port=base._port,this._username=base._username,this._password=base._password),state="relative path";continue}"\\"===c&&err("\\ is an invalid code point."),state="file"===this._scheme?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!==c){err("Expected '/', got: "+c),state="authority ignore slashes";continue}state="authority second slash";break;case"authority second slash":if(state="authority ignore slashes","/"!==c){err("Expected '/', got: "+c);continue}break;case"authority ignore slashes":if("/"!==c&&"\\"!==c){state="authority";continue}err("Expected authority, got: "+c);break;case"authority":if("@"===c){seenAt&&(err("@ already seen."),buffer+="%40"),seenAt=!0;for(var i=0;i<buffer.length;i++){var cp=buffer[i];if("\t"!==cp&&"\n"!==cp&&"\r"!==cp)if(":"!==cp||null!==this._password){var tempC=percentEscape(cp);null!==this._password?this._password+=tempC:this._username+=tempC}else this._password="";else err("Invalid whitespace in authority.")}buffer=""}else{if(c===EOF||"/"===c||"\\"===c||"?"===c||"#"===c){cursor-=buffer.length,buffer="",state="host";continue}buffer+=c}break;case"file host":if(c===EOF||"/"===c||"\\"===c||"?"===c||"#"===c){2!==buffer.length||!ALPHA.test(buffer[0])||":"!==buffer[1]&&"|"!==buffer[1]?0===buffer.length?state="relative path start":(this._host=IDNAToASCII.call(this,buffer),buffer="",state="relative path start"):state="relative path";continue}"\t"===c||"\n"===c||"\r"===c?err("Invalid whitespace in file host."):buffer+=c;break;case"host":case"hostname":if(":"!==c||seenBracket){if(c===EOF||"/"===c||"\\"===c||"?"===c||"#"===c){if(this._host=IDNAToASCII.call(this,buffer),buffer="",state="relative path start",stateOverride)break loop;continue}"\t"!==c&&"\n"!==c&&"\r"!==c?("["===c?seenBracket=!0:"]"===c&&(seenBracket=!1),buffer+=c):err("Invalid code point in host/hostname: "+c)}else if(this._host=IDNAToASCII.call(this,buffer),buffer="",state="port","hostname"===stateOverride)break loop;break;case"port":if(/[0-9]/.test(c))buffer+=c;else{if(c===EOF||"/"===c||"\\"===c||"?"===c||"#"===c||stateOverride){if(""!==buffer){var temp=parseInt(buffer,10);temp!==relative[this._scheme]&&(this._port=temp+""),buffer=""}if(stateOverride)break loop;state="relative path start";continue}"\t"===c||"\n"===c||"\r"===c?err("Invalid code point in port: "+c):invalid.call(this)}break;case"relative path start":if("\\"===c&&err("'\\' not allowed in path."),state="relative path","/"!==c&&"\\"!==c)continue;break;case"relative path":var tmp;if(c!==EOF&&"/"!==c&&"\\"!==c&&(stateOverride||"?"!==c&&"#"!==c))"\t"!==c&&"\n"!==c&&"\r"!==c&&(buffer+=percentEscape(c));else"\\"===c&&err("\\ not allowed in relative path."),(tmp=relativePathDotMapping[buffer.toLowerCase()])&&(buffer=tmp),".."===buffer?(this._path.pop(),"/"!==c&&"\\"!==c&&this._path.push("")):"."===buffer&&"/"!==c&&"\\"!==c?this._path.push(""):"."!==buffer&&("file"===this._scheme&&0===this._path.length&&2===buffer.length&&ALPHA.test(buffer[0])&&"|"===buffer[1]&&(buffer=buffer[0]+":"),this._path.push(buffer)),buffer="","?"===c?(this._query="?",state="query"):"#"===c&&(this._fragment="#",state="fragment");break;case"query":stateOverride||"#"!==c?c!==EOF&&"\t"!==c&&"\n"!==c&&"\r"!==c&&(this._query+=percentEscapeQuery(c)):(this._fragment="#",state="fragment");break;case"fragment":c!==EOF&&"\t"!==c&&"\n"!==c&&"\r"!==c&&(this._fragment+=c)}cursor++}}function clear(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function JURL(url,base){void 0===base||base instanceof JURL||(base=new JURL(String(base))),this._url=url,clear.call(this);var input=url.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");parse.call(this,input,null,base)}JURL.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var authority="";return""===this._username&&null===this._password||(authority=this._username+(null!==this._password?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+authority+this.host:"")+this.pathname+this._query+this._fragment},set href(value){clear.call(this),parse.call(this,value)},get protocol(){return this._scheme+":"},set protocol(value){this._isInvalid||parse.call(this,value+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(value){!this._isInvalid&&this._isRelative&&parse.call(this,value,"host")},get hostname(){return this._host},set hostname(value){!this._isInvalid&&this._isRelative&&parse.call(this,value,"hostname")},get port(){return this._port},set port(value){!this._isInvalid&&this._isRelative&&parse.call(this,value,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(value){!this._isInvalid&&this._isRelative&&(this._path=[],parse.call(this,value,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"===this._query?"":this._query},set search(value){!this._isInvalid&&this._isRelative&&(this._query="?","?"===value[0]&&(value=value.slice(1)),parse.call(this,value,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"===this._fragment?"":this._fragment},set hash(value){this._isInvalid||(this._fragment="#","#"===value[0]&&(value=value.slice(1)),parse.call(this,value,"fragment"))},get origin(){var host;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null";case"blob":try{return new JURL(this._schemeData).origin||"null"}catch(_){}return"null"}return(host=this.host)?this._scheme+"://"+host:""}},exports.URL=JURL}()},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.version=exports.setPDFNetworkStreamFactory=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFWorker=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.getDocument=void 0;var obj,_slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_util=__w_pdfjs_require__(1),_dom_utils=__w_pdfjs_require__(130),_font_loader=__w_pdfjs_require__(131),_api_compatibility=__w_pdfjs_require__(132),_canvas=__w_pdfjs_require__(133),_global_scope=__w_pdfjs_require__(3),_global_scope2=(obj=_global_scope)&&obj.__esModule?obj:{default:obj},_worker_options=__w_pdfjs_require__(135),_message_handler=__w_pdfjs_require__(136),_metadata=__w_pdfjs_require__(141),_transport_stream=__w_pdfjs_require__(143),_webgl=__w_pdfjs_require__(144);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var DEFAULT_RANGE_CHUNK_SIZE=65536,isWorkerDisabled=!1,fallbackWorkerSrc=void 0,fakeWorkerFilesLoader=null,useRequireEnsure=!1;"undefined"==typeof window?(isWorkerDisabled=!0,useRequireEnsure=!0):useRequireEnsure=!0,"undefined"!=typeof requirejs&&requirejs.toUrl&&(fallbackWorkerSrc=requirejs.toUrl("pdfjs-dist/build/pdf.worker.js"));var createPDFNetworkStream,dynamicLoaderSupported="undefined"!=typeof requirejs&&requirejs.load;if(fakeWorkerFilesLoader=useRequireEnsure?function(){return new Promise(function(resolve,reject){__webpack_require__.e(5).then(function(){try{var worker;worker=__webpack_require__(1731),resolve(worker.WorkerMessageHandler)}catch(ex){reject(ex)}}.bind(null,__webpack_require__)).catch(reject)})}:dynamicLoaderSupported?function(){return new Promise(function(resolve,reject){requirejs(["pdfjs-dist/build/pdf.worker"],function(worker){try{resolve(worker.WorkerMessageHandler)}catch(ex){reject(ex)}},reject)})}:null,!fallbackWorkerSrc&&"undefined"!=typeof document){var pdfjsFilePath=document.currentScript&&document.currentScript.src;pdfjsFilePath&&(fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}var PDFDocumentLoadingTask=function(){var nextDocumentId=0;function PDFDocumentLoadingTask(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+nextDocumentId++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return PDFDocumentLoadingTask.prototype={get promise(){return this._capability.promise},destroy:function(){var _this=this;return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then(function(){_this._transport=null,_this._worker&&(_this._worker.destroy(),_this._worker=null)})},then:function(onFulfilled,onRejected){return this.promise.then.apply(this.promise,arguments)}},PDFDocumentLoadingTask}(),PDFDataRangeTransport=function(){function PDFDataRangeTransport(length,initialData){_classCallCheck(this,PDFDataRangeTransport),this.length=length,this.initialData=initialData,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(PDFDataRangeTransport,[{key:"addRangeListener",value:function(listener){this._rangeListeners.push(listener)}},{key:"addProgressListener",value:function(listener){this._progressListeners.push(listener)}},{key:"addProgressiveReadListener",value:function(listener){this._progressiveReadListeners.push(listener)}},{key:"onDataRange",value:function(begin,chunk){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=this._rangeListeners[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){(0,_step.value)(begin,chunk)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}},{key:"onDataProgress",value:function(loaded){var _this2=this;this._readyCapability.promise.then(function(){var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=_this2._progressListeners[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){(0,_step2.value)(loaded)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}})}},{key:"onDataProgressiveRead",value:function(chunk){var _this3=this;this._readyCapability.promise.then(function(){var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=_this3._progressiveReadListeners[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){(0,_step3.value)(chunk)}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(begin,end){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),PDFDataRangeTransport}(),PDFDocumentProxy=function(){function PDFDocumentProxy(pdfInfo,transport,loadingTask){_classCallCheck(this,PDFDocumentProxy),this.loadingTask=loadingTask,this._pdfInfo=pdfInfo,this._transport=transport}return _createClass(PDFDocumentProxy,[{key:"getPage",value:function(pageNumber){return this._transport.getPage(pageNumber)}},{key:"getPageIndex",value:function(ref){return this._transport.getPageIndex(ref)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(id){return this._transport.getDestination(id)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){this._transport.startCleanup()}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function(){return this._pdfInfo.fingerprint}},{key:"loadingParams",get:function(){return this._transport.loadingParams}}]),PDFDocumentProxy}(),PDFPageProxy=function(){function PDFPageProxy(pageIndex,pageInfo,transport){var pdfBug=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.pageIndex=pageIndex,this._pageInfo=pageInfo,this.transport=transport,this._stats=pdfBug?new _dom_utils.StatTimer:_dom_utils.DummyStatTimer,this._pdfBug=pdfBug,this.commonObjs=transport.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this.intentStates=Object.create(null),this.destroyed=!1}return PDFPageProxy.prototype={get pageNumber(){return this.pageIndex+1},get rotate(){return this._pageInfo.rotate},get ref(){return this._pageInfo.ref},get userUnit(){return this._pageInfo.userUnit},get view(){return this._pageInfo.view},getViewport:function(scale){var rotate=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.rotate,dontFlip=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new _dom_utils.PageViewport({viewBox:this.view,scale:scale,rotation:rotate,dontFlip:dontFlip})},getAnnotations:function(params){var intent=params&&params.intent||null;return this.annotationsPromise&&this.annotationsIntent===intent||(this.annotationsPromise=this.transport.getAnnotations(this.pageIndex,intent),this.annotationsIntent=intent),this.annotationsPromise},render:function(params){var _this4=this,stats=this._stats;stats.time("Overall"),this.pendingCleanup=!1;var renderingIntent="print"===params.intent?"print":"display",canvasFactory=params.canvasFactory||new _dom_utils.DOMCanvasFactory,webGLContext=new _webgl.WebGLContext({enable:params.enableWebGL});this.intentStates[renderingIntent]||(this.intentStates[renderingIntent]=Object.create(null));var intentState=this.intentStates[renderingIntent];intentState.displayReadyCapability||(intentState.receivingOperatorList=!0,intentState.displayReadyCapability=(0,_util.createPromiseCapability)(),intentState.operatorList={fnArray:[],argsArray:[],lastChunk:!1},stats.time("Page Request"),this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageNumber-1,intent:renderingIntent,renderInteractiveForms:!0===params.renderInteractiveForms}));var complete=function(error){var i=intentState.renderTasks.indexOf(internalRenderTask);i>=0&&intentState.renderTasks.splice(i,1),_this4.cleanupAfterRender&&(_this4.pendingCleanup=!0),_this4._tryCleanup(),error?internalRenderTask.capability.reject(error):internalRenderTask.capability.resolve(),stats.timeEnd("Rendering"),stats.timeEnd("Overall")},internalRenderTask=new InternalRenderTask(complete,params,this.objs,this.commonObjs,intentState.operatorList,this.pageNumber,canvasFactory,webGLContext,this._pdfBug);internalRenderTask.useRequestAnimationFrame="print"!==renderingIntent,intentState.renderTasks||(intentState.renderTasks=[]),intentState.renderTasks.push(internalRenderTask);var renderTask=internalRenderTask.task;return intentState.displayReadyCapability.promise.then(function(transparency){_this4.pendingCleanup?complete():(stats.time("Rendering"),internalRenderTask.initializeGraphics(transparency),internalRenderTask.operatorListChanged())}).catch(complete),renderTask},getOperatorList:function(){this.intentStates.oplist||(this.intentStates.oplist=Object.create(null));var opListTask,intentState=this.intentStates.oplist;return intentState.opListReadCapability||((opListTask={}).operatorListChanged=function(){if(intentState.operatorList.lastChunk){intentState.opListReadCapability.resolve(intentState.operatorList);var i=intentState.renderTasks.indexOf(opListTask);i>=0&&intentState.renderTasks.splice(i,1)}},intentState.receivingOperatorList=!0,intentState.opListReadCapability=(0,_util.createPromiseCapability)(),intentState.renderTasks=[],intentState.renderTasks.push(opListTask),intentState.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats.time("Page Request"),this.transport.messageHandler.send("RenderPageRequest",{pageIndex:this.pageIndex,intent:"oplist"})),intentState.opListReadCapability.promise},streamTextContent:function(){var params=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},TEXT_CONTENT_CHUNK_SIZE=100;return this.transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this.pageNumber-1,normalizeWhitespace:!0===params.normalizeWhitespace,combineTextItems:!0!==params.disableCombineTextItems},{highWaterMark:TEXT_CONTENT_CHUNK_SIZE,size:function(textContent){return textContent.items.length}})},getTextContent:function(params){params=params||{};var readableStream=this.streamTextContent(params);return new Promise(function(resolve,reject){var reader=readableStream.getReader(),textContent={items:[],styles:Object.create(null)};!function pump(){reader.read().then(function(_ref){var _textContent$items,value=_ref.value;_ref.done?resolve(textContent):(Object.assign(textContent.styles,value.styles),(_textContent$items=textContent.items).push.apply(_textContent$items,function(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}(value.items)),pump())},reject)}()})},_destroy:function(){this.destroyed=!0,this.transport.pageCache[this.pageIndex]=null;var waitOn=[];return Object.keys(this.intentStates).forEach(function(intent){"oplist"!==intent&&this.intentStates[intent].renderTasks.forEach(function(renderTask){var renderCompleted=renderTask.capability.promise.catch(function(){});waitOn.push(renderCompleted),renderTask.cancel()})},this),this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(waitOn)},cleanup:function(){var resetStats=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.pendingCleanup=!0,this._tryCleanup(resetStats)},_tryCleanup:function(){var resetStats=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.pendingCleanup&&!Object.keys(this.intentStates).some(function(intent){var intentState=this.intentStates[intent];return 0!==intentState.renderTasks.length||intentState.receivingOperatorList},this)&&(Object.keys(this.intentStates).forEach(function(intent){delete this.intentStates[intent]},this),this.objs.clear(),this.annotationsPromise=null,resetStats&&this._stats instanceof _dom_utils.StatTimer&&(this._stats=new _dom_utils.StatTimer),this.pendingCleanup=!1)},_startRenderPage:function(transparency,intent){var intentState=this.intentStates[intent];intentState.displayReadyCapability&&intentState.displayReadyCapability.resolve(transparency)},_renderPageChunk:function(operatorListChunk,intent){var i,ii,intentState=this.intentStates[intent];for(i=0,ii=operatorListChunk.length;i<ii;i++)intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]),intentState.operatorList.argsArray.push(operatorListChunk.argsArray[i]);for(intentState.operatorList.lastChunk=operatorListChunk.lastChunk,i=0;i<intentState.renderTasks.length;i++)intentState.renderTasks[i].operatorListChanged();operatorListChunk.lastChunk&&(intentState.receivingOperatorList=!1,this._tryCleanup())},get stats(){return this._stats instanceof _dom_utils.StatTimer?this._stats:null}},PDFPageProxy}(),LoopbackPort=function(){function LoopbackPort(){var defer=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_classCallCheck(this,LoopbackPort),this._listeners=[],this._defer=defer,this._deferred=Promise.resolve(void 0)}return _createClass(LoopbackPort,[{key:"postMessage",value:function(obj,transfers){var _this5=this;if(this._defer){var cloned=new WeakMap,e={data:function cloneValue(value){if("object"!==(void 0===value?"undefined":_typeof(value))||null===value)return value;if(cloned.has(value))return cloned.get(value);var result,buffer;if((buffer=value.buffer)&&(0,_util.isArrayBuffer)(buffer)){var transferable=transfers&&transfers.includes(buffer);return result=value===buffer?value:transferable?new value.constructor(buffer,value.byteOffset,value.byteLength):new value.constructor(value),cloned.set(value,result),result}for(var i in result=Array.isArray(value)?[]:{},cloned.set(value,result),value){for(var desc,p=value;!(desc=Object.getOwnPropertyDescriptor(p,i));)p=Object.getPrototypeOf(p);void 0!==desc.value&&"function"!=typeof desc.value&&(result[i]=cloneValue(desc.value))}return result}(obj)};this._deferred.then(function(){_this5._listeners.forEach(function(listener){listener.call(this,e)},_this5)})}else this._listeners.forEach(function(listener){listener.call(this,{data:obj})},this)}},{key:"addEventListener",value:function(name,listener){this._listeners.push(listener)}},{key:"removeEventListener",value:function(name,listener){var i=this._listeners.indexOf(listener);this._listeners.splice(i,1)}},{key:"terminate",value:function(){this._listeners=[]}}]),LoopbackPort}(),PDFWorker=function(){var nextFakeWorkerId=0;function getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(void 0!==fallbackWorkerSrc)return fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){try{if("undefined"!=typeof window)return window.pdfjsWorker&&window.pdfjsWorker.WorkerMessageHandler}catch(ex){}return null}var fakeWorkerFilesLoadedCapability=void 0;var pdfWorkerPorts=new WeakMap;function PDFWorker(){var _ref2=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref2$name=_ref2.name,name=void 0===_ref2$name?null:_ref2$name,_ref2$port=_ref2.port,port=void 0===_ref2$port?null:_ref2$port,_ref2$postMessageTran=_ref2.postMessageTransfers,postMessageTransfers=void 0===_ref2$postMessageTran||_ref2$postMessageTran,_ref2$verbosity=_ref2.verbosity,verbosity=void 0===_ref2$verbosity?(0,_util.getVerbosityLevel)():_ref2$verbosity;if(port&&pdfWorkerPorts.has(port))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=name,this.destroyed=!1,this.postMessageTransfers=!1!==postMessageTransfers,this.verbosity=verbosity,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,port)return pdfWorkerPorts.set(port,this),void this._initializeFromPort(port);this._initialize()}return PDFWorker.prototype={get promise(){return this._readyCapability.promise},get port(){return this._port},get messageHandler(){return this._messageHandler},_initializeFromPort:function(port){this._port=port,this._messageHandler=new _message_handler.MessageHandler("main","worker",port),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()},_initialize:function(){var url,wrapper,_this6=this;if("undefined"!=typeof Worker&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){var workerSrc=getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,workerSrc)||(url=new _util.URL(workerSrc,window.location).href,wrapper="importScripts('"+url+"');",workerSrc=_util.URL.createObjectURL(new Blob([wrapper])));var worker=new Worker(workerSrc),messageHandler=new _message_handler.MessageHandler("main","worker",worker),terminateEarly=function(){worker.removeEventListener("error",onWorkerError),messageHandler.destroy(),worker.terminate(),_this6.destroyed?_this6._readyCapability.reject(new Error("Worker was destroyed")):_this6._setupFakeWorker()},onWorkerError=function(){_this6._webWorker||terminateEarly()};worker.addEventListener("error",onWorkerError),messageHandler.on("test",function(data){worker.removeEventListener("error",onWorkerError),_this6.destroyed?terminateEarly():data&&data.supportTypedArray?(_this6._messageHandler=messageHandler,_this6._port=worker,_this6._webWorker=worker,data.supportTransfers||(_this6.postMessageTransfers=!1),_this6._readyCapability.resolve(),messageHandler.send("configure",{verbosity:_this6.verbosity})):(_this6._setupFakeWorker(),messageHandler.destroy(),worker.terminate())}),messageHandler.on("ready",function(data){if(worker.removeEventListener("error",onWorkerError),_this6.destroyed)terminateEarly();else try{sendTest()}catch(e){_this6._setupFakeWorker()}});var sendTest=function(){var testObj=new Uint8Array([_this6.postMessageTransfers?255:0]);try{messageHandler.send("test",testObj,[testObj.buffer])}catch(ex){(0,_util.info)("Cannot use postMessage transfers"),testObj[0]=0,messageHandler.send("test",testObj)}};return void sendTest()}catch(e){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()},_setupFakeWorker:function(){var _this7=this;isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),function(){if(fakeWorkerFilesLoadedCapability)return fakeWorkerFilesLoadedCapability.promise;fakeWorkerFilesLoadedCapability=(0,_util.createPromiseCapability)();var mainWorkerMessageHandler=getMainThreadWorkerMessageHandler();return mainWorkerMessageHandler?(fakeWorkerFilesLoadedCapability.resolve(mainWorkerMessageHandler),fakeWorkerFilesLoadedCapability.promise):((fakeWorkerFilesLoader||function(){return(0,_dom_utils.loadScript)(getWorkerSrc()).then(function(){return window.pdfjsWorker.WorkerMessageHandler})})().then(fakeWorkerFilesLoadedCapability.resolve,fakeWorkerFilesLoadedCapability.reject),fakeWorkerFilesLoadedCapability.promise)}().then(function(WorkerMessageHandler){if(_this7.destroyed)_this7._readyCapability.reject(new Error("Worker was destroyed"));else{var port=new LoopbackPort;_this7._port=port;var id="fake"+nextFakeWorkerId++,workerHandler=new _message_handler.MessageHandler(id+"_worker",id,port);WorkerMessageHandler.setup(workerHandler,port);var messageHandler=new _message_handler.MessageHandler(id,id+"_worker",port);_this7._messageHandler=messageHandler,_this7._readyCapability.resolve()}}).catch(function(reason){_this7._readyCapability.reject(new Error('Setting up fake worker failed: "'+reason.message+'".'))})},destroy:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}},PDFWorker.fromPort=function(params){if(!params||!params.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(params.port)?pdfWorkerPorts.get(params.port):new PDFWorker(params)},PDFWorker.getWorkerSrc=function(){return getWorkerSrc()},PDFWorker}(),WorkerTransport=function(){function WorkerTransport(messageHandler,loadingTask,networkStream,params){_classCallCheck(this,WorkerTransport),this.messageHandler=messageHandler,this.loadingTask=loadingTask,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader(loadingTask.docId),this._params=params,this.CMapReaderFactory=new params.CMapReaderFactory({baseUrl:params.cMapUrl,isCompressed:params.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=networkStream,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}return _createClass(WorkerTransport,[{key:"destroy",value:function(){var _this8=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var waitOn=[];this.pageCache.forEach(function(page){page&&waitOn.push(page._destroy())}),this.pageCache=[],this.pagePromises=[];var terminated=this.messageHandler.sendWithPromise("Terminate",null);return waitOn.push(terminated),Promise.all(waitOn).then(function(){_this8.fontLoader.clear(),_this8._networkStream&&_this8._networkStream.cancelAllRequests(),_this8.messageHandler&&(_this8.messageHandler.destroy(),_this8.messageHandler=null),_this8.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var messageHandler=this.messageHandler,loadingTask=this.loadingTask;messageHandler.on("GetReader",function(data,sink){var _this9=this;(0,_util.assert)(this._networkStream),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=function(evt){_this9._lastProgress={loaded:evt.loaded,total:evt.total}},sink.onPull=function(){_this9._fullReader.read().then(function(_ref3){var value=_ref3.value;_ref3.done?sink.close():((0,_util.assert)((0,_util.isArrayBuffer)(value)),sink.enqueue(new Uint8Array(value),1,[value]))}).catch(function(reason){sink.error(reason)})},sink.onCancel=function(reason){_this9._fullReader.cancel(reason)}},this),messageHandler.on("ReaderHeadersReady",function(data){var _this10=this,headersCapability=(0,_util.createPromiseCapability)(),fullReader=this._fullReader;return fullReader.headersReady.then(function(){fullReader.isStreamingSupported&&fullReader.isRangeSupported||(_this10._lastProgress&&loadingTask.onProgress&&loadingTask.onProgress(_this10._lastProgress),fullReader.onProgress=function(evt){loadingTask.onProgress&&loadingTask.onProgress({loaded:evt.loaded,total:evt.total})}),headersCapability.resolve({isStreamingSupported:fullReader.isStreamingSupported,isRangeSupported:fullReader.isRangeSupported,contentLength:fullReader.contentLength})},headersCapability.reject),headersCapability.promise},this),messageHandler.on("GetRangeReader",function(data,sink){(0,_util.assert)(this._networkStream);var rangeReader=this._networkStream.getRangeReader(data.begin,data.end);sink.onPull=function(){rangeReader.read().then(function(_ref4){var value=_ref4.value;_ref4.done?sink.close():((0,_util.assert)((0,_util.isArrayBuffer)(value)),sink.enqueue(new Uint8Array(value),1,[value]))}).catch(function(reason){sink.error(reason)})},sink.onCancel=function(reason){rangeReader.cancel(reason)}},this),messageHandler.on("GetDoc",function(_ref5){var pdfInfo=_ref5.pdfInfo;this.numPages=pdfInfo.numPages,this.pdfDocument=new PDFDocumentProxy(pdfInfo,this,loadingTask),loadingTask._capability.resolve(this.pdfDocument)},this),messageHandler.on("PasswordRequest",function(exception){var _this11=this;if(this._passwordCapability=(0,_util.createPromiseCapability)(),loadingTask.onPassword){try{loadingTask.onPassword(function(password){_this11._passwordCapability.resolve({password:password})},exception.code)}catch(ex){this._passwordCapability.reject(ex)}}else this._passwordCapability.reject(new _util.PasswordException(exception.message,exception.code));return this._passwordCapability.promise},this),messageHandler.on("PasswordException",function(exception){loadingTask._capability.reject(new _util.PasswordException(exception.message,exception.code))},this),messageHandler.on("InvalidPDF",function(exception){loadingTask._capability.reject(new _util.InvalidPDFException(exception.message))},this),messageHandler.on("MissingPDF",function(exception){loadingTask._capability.reject(new _util.MissingPDFException(exception.message))},this),messageHandler.on("UnexpectedResponse",function(exception){loadingTask._capability.reject(new _util.UnexpectedResponseException(exception.message,exception.status))},this),messageHandler.on("UnknownError",function(exception){loadingTask._capability.reject(new _util.UnknownErrorException(exception.message,exception.details))},this),messageHandler.on("DataLoaded",function(data){loadingTask.onProgress&&loadingTask.onProgress({loaded:data.length,total:data.length}),this.downloadInfoCapability.resolve(data)},this),messageHandler.on("StartRenderPage",function(data){if(!this.destroyed){var page=this.pageCache[data.pageIndex];page._stats.timeEnd("Page Request"),page._startRenderPage(data.transparency,data.intent)}},this),messageHandler.on("RenderPageChunk",function(data){this.destroyed||this.pageCache[data.pageIndex]._renderPageChunk(data.operatorList,data.intent)},this),messageHandler.on("commonobj",function(data){var _this12=this;if(!this.destroyed){var _data=_slicedToArray(data,3),id=_data[0],type=_data[1],exportedData=_data[2];if(!this.commonObjs.hasData(id))switch(type){case"Font":var params=this._params;if("error"in exportedData){var exportedError=exportedData.error;(0,_util.warn)("Error during font loading: "+exportedError),this.commonObjs.resolve(id,exportedError);break}var fontRegistry=null;params.pdfBug&&_global_scope2.default.FontInspector&&_global_scope2.default.FontInspector.enabled&&(fontRegistry={registerFont:function(font,url){_global_scope2.default.FontInspector.fontAdded(font,url)}});var font=new _font_loader.FontFaceObject(exportedData,{isEvalSupported:params.isEvalSupported,disableFontFace:params.disableFontFace,ignoreErrors:params.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:fontRegistry});this.fontLoader.bind([font],function(fontObjs){_this12.commonObjs.resolve(id,font)});break;case"FontPath":this.commonObjs.resolve(id,exportedData);break;default:throw new Error("Got unknown common object type "+type)}}},this),messageHandler.on("obj",function(data){if(!this.destroyed){var _data2=_slicedToArray(data,4),id=_data2[0],pageIndex=_data2[1],type=_data2[2],imageData=_data2[3],pageProxy=this.pageCache[pageIndex];if(!pageProxy.objs.hasData(id))switch(type){case"JpegStream":return new Promise(function(resolve,reject){var img=new Image;img.onload=function(){resolve(img)},img.onerror=function(){reject(new Error("Error during JPEG image loading"))},img.src=imageData}).then(function(img){pageProxy.objs.resolve(id,img)});case"Image":pageProxy.objs.resolve(id,imageData);imageData&&"data"in imageData&&imageData.data.length>8e6&&(pageProxy.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type "+type)}}},this),messageHandler.on("DocProgress",function(data){this.destroyed||loadingTask.onProgress&&loadingTask.onProgress({loaded:data.loaded,total:data.total})},this),messageHandler.on("PageError",function(data){if(!this.destroyed){var intentState=this.pageCache[data.pageNum-1].intentStates[data.intent];if(!intentState.displayReadyCapability)throw new Error(data.error);if(intentState.displayReadyCapability.reject(data.error),intentState.operatorList){intentState.operatorList.lastChunk=!0;for(var i=0;i<intentState.renderTasks.length;i++)intentState.renderTasks[i].operatorListChanged()}}},this),messageHandler.on("UnsupportedFeature",this._onUnsupportedFeature,this),messageHandler.on("JpegDecode",function(data){if(this.destroyed)return Promise.reject(new Error("Worker was destroyed"));if("undefined"==typeof document)return Promise.reject(new Error('"document" is not defined.'));var _data3=_slicedToArray(data,2),imageUrl=_data3[0],components=_data3[1];return 3!==components&&1!==components?Promise.reject(new Error("Only 3 components or 1 component can be returned")):new Promise(function(resolve,reject){var img=new Image;img.onload=function(){var width=img.width,height=img.height,size=width*height,rgbaLength=4*size,buf=new Uint8ClampedArray(size*components),tmpCanvas=document.createElement("canvas");tmpCanvas.width=width,tmpCanvas.height=height;var tmpCtx=tmpCanvas.getContext("2d");tmpCtx.drawImage(img,0,0);var data=tmpCtx.getImageData(0,0,width,height).data;if(3===components)for(var i=0,j=0;i<rgbaLength;i+=4,j+=3)buf[j]=data[i],buf[j+1]=data[i+1],buf[j+2]=data[i+2];else if(1===components)for(var _i=0,_j=0;_i<rgbaLength;_i+=4,_j++)buf[_j]=data[_i];resolve({data:buf,width:width,height:height})},img.onerror=function(){reject(new Error("JpegDecode failed to load image"))},img.src=imageUrl})},this),messageHandler.on("FetchBuiltInCMap",function(data){return this.destroyed?Promise.reject(new Error("Worker was destroyed")):this.CMapReaderFactory.fetch({name:data.name})},this)}},{key:"_onUnsupportedFeature",value:function(_ref6){var featureId=_ref6.featureId;this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(featureId)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(pageNumber){var _this13=this;if(!Number.isInteger(pageNumber)||pageNumber<=0||pageNumber>this.numPages)return Promise.reject(new Error("Invalid page request"));var pageIndex=pageNumber-1;if(pageIndex in this.pagePromises)return this.pagePromises[pageIndex];var promise=this.messageHandler.sendWithPromise("GetPage",{pageIndex:pageIndex}).then(function(pageInfo){if(_this13.destroyed)throw new Error("Transport destroyed");var page=new PDFPageProxy(pageIndex,pageInfo,_this13,_this13._params.pdfBug);return _this13.pageCache[pageIndex]=page,page});return this.pagePromises[pageIndex]=promise,promise}},{key:"getPageIndex",value:function(ref){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:ref}).catch(function(reason){return Promise.reject(new Error(reason))})}},{key:"getAnnotations",value:function(pageIndex,intent){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:pageIndex,intent:intent})}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(id){return"string"!=typeof id?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:id})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var _this14=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(results){return{info:results[0],metadata:results[1]?new _metadata.Metadata(results[1]):null,contentDispositionFilename:_this14._fullReader?_this14._fullReader.filename:null}})}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function(){var _this15=this;this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var i=0,ii=_this15.pageCache.length;i<ii;i++){var page=_this15.pageCache[i];page&&page.cleanup()}_this15.commonObjs.clear(),_this15.fontLoader.clear()})}},{key:"loadingParams",get:function(){var params=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:params.disableAutoFetch,disableCreateObjectURL:params.disableCreateObjectURL,disableFontFace:params.disableFontFace,nativeImageDecoderSupport:params.nativeImageDecoderSupport})}}]),WorkerTransport}(),PDFObjects=function(){function PDFObjects(){this.objs=Object.create(null)}return PDFObjects.prototype={ensureObj:function(objId){if(this.objs[objId])return this.objs[objId];var obj={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1};return this.objs[objId]=obj,obj},get:function(objId,callback){if(callback)return this.ensureObj(objId).capability.promise.then(callback),null;var obj=this.objs[objId];if(!obj||!obj.resolved)throw new Error("Requesting object that isn't resolved yet "+objId);return obj.data},resolve:function(objId,data){var obj=this.ensureObj(objId);obj.resolved=!0,obj.data=data,obj.capability.resolve(data)},isResolved:function(objId){var objs=this.objs;return!!objs[objId]&&objs[objId].resolved},hasData:function(objId){return this.isResolved(objId)},getData:function(objId){var objs=this.objs;return objs[objId]&&objs[objId].resolved?objs[objId].data:null},clear:function(){this.objs=Object.create(null)}},PDFObjects}(),RenderTask=function(){function RenderTask(internalRenderTask){this._internalRenderTask=internalRenderTask,this.onContinue=null}return RenderTask.prototype={get promise(){return this._internalRenderTask.capability.promise},cancel:function(){this._internalRenderTask.cancel()},then:function(onFulfilled,onRejected){return this.promise.then.apply(this.promise,arguments)}},RenderTask}(),InternalRenderTask=function(){var canvasInRendering=new WeakMap;function InternalRenderTask(callback,params,objs,commonObjs,operatorList,pageNumber,canvasFactory,webGLContext){var pdfBug=arguments.length>8&&void 0!==arguments[8]&&arguments[8];this.callback=callback,this.params=params,this.objs=objs,this.commonObjs=commonObjs,this.operatorListIdx=null,this.operatorList=operatorList,this.pageNumber=pageNumber,this.canvasFactory=canvasFactory,this.webGLContext=webGLContext,this._pdfBug=pdfBug,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this.useRequestAnimationFrame=!1,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=params.canvasContext.canvas}return InternalRenderTask.prototype={initializeGraphics:function(transparency){if(!this.cancelled){if(this._canvas){if(canvasInRendering.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");canvasInRendering.set(this._canvas,this)}this._pdfBug&&_global_scope2.default.StepperManager&&_global_scope2.default.StepperManager.enabled&&(this.stepper=_global_scope2.default.StepperManager.create(this.pageNumber-1),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var params=this.params;this.gfx=new _canvas.CanvasGraphics(params.canvasContext,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,params.imageLayer),this.gfx.beginDrawing({transform:params.transform,viewport:params.viewport,transparency:transparency,background:params.background}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}},cancel:function(){this.running=!1,this.cancelled=!0,this._canvas&&canvasInRendering.delete(this._canvas),this.callback(new _dom_utils.RenderingCancelledException("Rendering cancelled, page "+this.pageNumber,"canvas"))},operatorListChanged:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)},_continue:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())},_scheduleNext:function(){var _this16=this;this.useRequestAnimationFrame&&"undefined"!=typeof window?window.requestAnimationFrame(function(){_this16._nextBound().catch(_this16.callback)}):Promise.resolve().then(this._nextBound).catch(this.callback)},_next:function(){var _this17=this;return new Promise(function(){_this17.cancelled||(_this17.operatorListIdx=_this17.gfx.executeOperatorList(_this17.operatorList,_this17.operatorListIdx,_this17._continueBound,_this17.stepper),_this17.operatorListIdx===_this17.operatorList.argsArray.length&&(_this17.running=!1,_this17.operatorList.lastChunk&&(_this17.gfx.endDrawing(),_this17._canvas&&canvasInRendering.delete(_this17._canvas),_this17.callback())))})}},InternalRenderTask}();exports.version="2.0.943",exports.build="dc98bf76",exports.getDocument=function(src){var source,task=new PDFDocumentLoadingTask;if("string"==typeof src)source={url:src};else if((0,_util.isArrayBuffer)(src))source={data:src};else if(src instanceof PDFDataRangeTransport)source={range:src};else{if("object"!==(void 0===src?"undefined":_typeof(src)))throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!src.url&&!src.data&&!src.range)throw new Error("Invalid parameter object: need either .data, .range or .url");source=src}var params=Object.create(null),rangeTransport=null,worker=null;for(var key in source)if("url"!==key||"undefined"==typeof window)if("range"!==key)if("worker"!==key)if("data"!==key||source[key]instanceof Uint8Array)params[key]=source[key];else{var pdfBytes=source[key];if("string"==typeof pdfBytes)params[key]=(0,_util.stringToBytes)(pdfBytes);else if("object"!==(void 0===pdfBytes?"undefined":_typeof(pdfBytes))||null===pdfBytes||isNaN(pdfBytes.length)){if(!(0,_util.isArrayBuffer)(pdfBytes))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");params[key]=new Uint8Array(pdfBytes)}else params[key]=new Uint8Array(pdfBytes)}else worker=source[key];else rangeTransport=source[key];else params[key]=new _util.URL(source[key],window.location).href;params.rangeChunkSize=params.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,params.CMapReaderFactory=params.CMapReaderFactory||_dom_utils.DOMCMapReaderFactory,params.ignoreErrors=!0!==params.stopAtErrors,params.pdfBug=!0===params.pdfBug;var NativeImageDecoderValues=Object.values(_util.NativeImageDecoding);if(void 0!==params.nativeImageDecoderSupport&&NativeImageDecoderValues.includes(params.nativeImageDecoderSupport)||(params.nativeImageDecoderSupport=_api_compatibility.apiCompatibilityParams.nativeImageDecoderSupport||_util.NativeImageDecoding.DECODE),Number.isInteger(params.maxImageSize)||(params.maxImageSize=-1),"boolean"!=typeof params.isEvalSupported&&(params.isEvalSupported=!0),"boolean"!=typeof params.disableFontFace&&(params.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),"boolean"!=typeof params.disableRange&&(params.disableRange=!1),"boolean"!=typeof params.disableStream&&(params.disableStream=!1),"boolean"!=typeof params.disableAutoFetch&&(params.disableAutoFetch=!1),"boolean"!=typeof params.disableCreateObjectURL&&(params.disableCreateObjectURL=_api_compatibility.apiCompatibilityParams.disableCreateObjectURL||!1),(0,_util.setVerbosityLevel)(params.verbosity),!worker){var workerParams={postMessageTransfers:params.postMessageTransfers,verbosity:params.verbosity},workerPort=_worker_options.GlobalWorkerOptions.workerPort;workerPort?(workerParams.port=workerPort,worker=PDFWorker.fromPort(workerParams)):worker=new PDFWorker(workerParams),task._worker=worker}var docId=task.docId;return worker.promise.then(function(){if(task.destroyed)throw new Error("Loading aborted");return function(worker,source,pdfDataRangeTransport,docId){return worker.destroyed?Promise.reject(new Error("Worker was destroyed")):(pdfDataRangeTransport&&(source.length=pdfDataRangeTransport.length,source.initialData=pdfDataRangeTransport.initialData),worker.messageHandler.sendWithPromise("GetDocRequest",{docId:docId,apiVersion:"2.0.943",source:{data:source.data,url:source.url,password:source.password,disableAutoFetch:source.disableAutoFetch,rangeChunkSize:source.rangeChunkSize,length:source.length},maxImageSize:source.maxImageSize,disableFontFace:source.disableFontFace,disableCreateObjectURL:source.disableCreateObjectURL,postMessageTransfers:worker.postMessageTransfers,docBaseUrl:source.docBaseUrl,nativeImageDecoderSupport:source.nativeImageDecoderSupport,ignoreErrors:source.ignoreErrors,isEvalSupported:source.isEvalSupported}).then(function(workerId){if(worker.destroyed)throw new Error("Worker was destroyed");return workerId}))}(worker,params,rangeTransport,docId).then(function(workerId){if(task.destroyed)throw new Error("Loading aborted");var networkStream=void 0;rangeTransport?networkStream=new _transport_stream.PDFDataTransportStream({length:params.length,initialData:params.initialData,disableRange:params.disableRange,disableStream:params.disableStream},rangeTransport):params.data||(networkStream=createPDFNetworkStream({url:params.url,length:params.length,httpHeaders:params.httpHeaders,withCredentials:params.withCredentials,rangeChunkSize:params.rangeChunkSize,disableRange:params.disableRange,disableStream:params.disableStream}));var messageHandler=new _message_handler.MessageHandler(docId,workerId,worker.port);messageHandler.postMessageTransfers=worker.postMessageTransfers;var transport=new WorkerTransport(messageHandler,task,networkStream,params);task._transport=transport,messageHandler.send("Ready",null)})}).catch(task._capability.reject),task},exports.LoopbackPort=LoopbackPort,exports.PDFDataRangeTransport=PDFDataRangeTransport,exports.PDFWorker=PDFWorker,exports.PDFDocumentProxy=PDFDocumentProxy,exports.PDFPageProxy=PDFPageProxy,exports.setPDFNetworkStreamFactory=function(pdfNetworkStreamFactory){createPDFNetworkStream=pdfNetworkStreamFactory},exports.version="2.0.943",exports.build="dc98bf76"},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadScript=exports.DummyStatTimer=exports.StatTimer=exports.DOMSVGFactory=exports.DOMCMapReaderFactory=exports.DOMCanvasFactory=exports.DEFAULT_LINK_REL=exports.LinkTarget=exports.getFilenameFromUrl=exports.addLinkAttributes=exports.RenderingCancelledException=exports.PageViewport=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_util=__w_pdfjs_require__(1);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var DEFAULT_LINK_REL="noopener noreferrer nofollow",SVG_NS="http://www.w3.org/2000/svg",DOMCanvasFactory=function(){function DOMCanvasFactory(){_classCallCheck(this,DOMCanvasFactory)}return _createClass(DOMCanvasFactory,[{key:"create",value:function(width,height){if(width<=0||height<=0)throw new Error("invalid canvas size");var canvas=document.createElement("canvas"),context=canvas.getContext("2d");return canvas.width=width,canvas.height=height,{canvas:canvas,context:context}}},{key:"reset",value:function(canvasAndContext,width,height){if(!canvasAndContext.canvas)throw new Error("canvas is not specified");if(width<=0||height<=0)throw new Error("invalid canvas size");canvasAndContext.canvas.width=width,canvasAndContext.canvas.height=height}},{key:"destroy",value:function(canvasAndContext){if(!canvasAndContext.canvas)throw new Error("canvas is not specified");canvasAndContext.canvas.width=0,canvasAndContext.canvas.height=0,canvasAndContext.canvas=null,canvasAndContext.context=null}}]),DOMCanvasFactory}(),DOMCMapReaderFactory=function(){function DOMCMapReaderFactory(_ref){var _ref$baseUrl=_ref.baseUrl,baseUrl=void 0===_ref$baseUrl?null:_ref$baseUrl,_ref$isCompressed=_ref.isCompressed,isCompressed=void 0!==_ref$isCompressed&&_ref$isCompressed;_classCallCheck(this,DOMCMapReaderFactory),this.baseUrl=baseUrl,this.isCompressed=isCompressed}return _createClass(DOMCMapReaderFactory,[{key:"fetch",value:function(_ref2){var _this=this,name=_ref2.name;return this.baseUrl?name?new Promise(function(resolve,reject){var url=_this.baseUrl+name+(_this.isCompressed?".bcmap":""),request=new XMLHttpRequest;request.open("GET",url,!0),_this.isCompressed&&(request.responseType="arraybuffer"),request.onreadystatechange=function(){if(request.readyState===XMLHttpRequest.DONE){if(200===request.status||0===request.status){var data=void 0;if(_this.isCompressed&&request.response?data=new Uint8Array(request.response):!_this.isCompressed&&request.responseText&&(data=(0,_util.stringToBytes)(request.responseText)),data)return void resolve({cMapData:data,compressionType:_this.isCompressed?_util.CMapCompressionType.BINARY:_util.CMapCompressionType.NONE})}reject(new Error("Unable to load "+(_this.isCompressed?"binary ":"")+"CMap at: "+url))}},request.send(null)}):Promise.reject(new Error("CMap name must be specified.")):Promise.reject(new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.'))}}]),DOMCMapReaderFactory}(),DOMSVGFactory=function(){function DOMSVGFactory(){_classCallCheck(this,DOMSVGFactory)}return _createClass(DOMSVGFactory,[{key:"create",value:function(width,height){(0,_util.assert)(width>0&&height>0,"Invalid SVG dimensions");var svg=document.createElementNS(SVG_NS,"svg:svg");return svg.setAttribute("version","1.1"),svg.setAttribute("width",width+"px"),svg.setAttribute("height",height+"px"),svg.setAttribute("preserveAspectRatio","none"),svg.setAttribute("viewBox","0 0 "+width+" "+height),svg}},{key:"createElement",value:function(type){return(0,_util.assert)("string"==typeof type,"Invalid SVG element type"),document.createElementNS(SVG_NS,type)}}]),DOMSVGFactory}(),PageViewport=function(){function PageViewport(_ref3){var viewBox=_ref3.viewBox,scale=_ref3.scale,rotation=_ref3.rotation,_ref3$offsetX=_ref3.offsetX,offsetX=void 0===_ref3$offsetX?0:_ref3$offsetX,_ref3$offsetY=_ref3.offsetY,offsetY=void 0===_ref3$offsetY?0:_ref3$offsetY,_ref3$dontFlip=_ref3.dontFlip,dontFlip=void 0!==_ref3$dontFlip&&_ref3$dontFlip;_classCallCheck(this,PageViewport),this.viewBox=viewBox,this.scale=scale,this.rotation=rotation,this.offsetX=offsetX,this.offsetY=offsetY;var centerX=(viewBox[2]+viewBox[0])/2,centerY=(viewBox[3]+viewBox[1])/2,rotateA=void 0,rotateB=void 0,rotateC=void 0,rotateD=void 0;switch(rotation=(rotation%=360)<0?rotation+360:rotation){case 180:rotateA=-1,rotateB=0,rotateC=0,rotateD=1;break;case 90:rotateA=0,rotateB=1,rotateC=1,rotateD=0;break;case 270:rotateA=0,rotateB=-1,rotateC=-1,rotateD=0;break;default:rotateA=1,rotateB=0,rotateC=0,rotateD=-1}dontFlip&&(rotateC=-rotateC,rotateD=-rotateD);var offsetCanvasX=void 0,offsetCanvasY=void 0,width=void 0,height=void 0;0===rotateA?(offsetCanvasX=Math.abs(centerY-viewBox[1])*scale+offsetX,offsetCanvasY=Math.abs(centerX-viewBox[0])*scale+offsetY,width=Math.abs(viewBox[3]-viewBox[1])*scale,height=Math.abs(viewBox[2]-viewBox[0])*scale):(offsetCanvasX=Math.abs(centerX-viewBox[0])*scale+offsetX,offsetCanvasY=Math.abs(centerY-viewBox[1])*scale+offsetY,width=Math.abs(viewBox[2]-viewBox[0])*scale,height=Math.abs(viewBox[3]-viewBox[1])*scale),this.transform=[rotateA*scale,rotateB*scale,rotateC*scale,rotateD*scale,offsetCanvasX-rotateA*scale*centerX-rotateC*scale*centerY,offsetCanvasY-rotateB*scale*centerX-rotateD*scale*centerY],this.width=width,this.height=height}return _createClass(PageViewport,[{key:"clone",value:function(){var _ref4=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref4$scale=_ref4.scale,scale=void 0===_ref4$scale?this.scale:_ref4$scale,_ref4$rotation=_ref4.rotation,rotation=void 0===_ref4$rotation?this.rotation:_ref4$rotation,_ref4$dontFlip=_ref4.dontFlip,dontFlip=void 0!==_ref4$dontFlip&&_ref4$dontFlip;return new PageViewport({viewBox:this.viewBox.slice(),scale:scale,rotation:rotation,offsetX:this.offsetX,offsetY:this.offsetY,dontFlip:dontFlip})}},{key:"convertToViewportPoint",value:function(x,y){return _util.Util.applyTransform([x,y],this.transform)}},{key:"convertToViewportRectangle",value:function(rect){var tl=_util.Util.applyTransform([rect[0],rect[1]],this.transform),br=_util.Util.applyTransform([rect[2],rect[3]],this.transform);return[tl[0],tl[1],br[0],br[1]]}},{key:"convertToPdfPoint",value:function(x,y){return _util.Util.applyInverseTransform([x,y],this.transform)}}]),PageViewport}(),RenderingCancelledException=function(){function RenderingCancelledException(msg,type){this.message=msg,this.type=type}return RenderingCancelledException.prototype=new Error,RenderingCancelledException.prototype.name="RenderingCancelledException",RenderingCancelledException.constructor=RenderingCancelledException,RenderingCancelledException}(),LinkTarget={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},LinkTargetStringMap=["","_self","_blank","_parent","_top"];var StatTimer=function(){function StatTimer(){var enable=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_classCallCheck(this,StatTimer),this.enabled=!!enable,this.started=Object.create(null),this.times=[]}return _createClass(StatTimer,[{key:"time",value:function(name){this.enabled&&(name in this.started&&(0,_util.warn)("Timer is already running for "+name),this.started[name]=Date.now())}},{key:"timeEnd",value:function(name){this.enabled&&(name in this.started||(0,_util.warn)("Timer has not been started for "+name),this.times.push({name:name,start:this.started[name],end:Date.now()}),delete this.started[name])}},{key:"toString",value:function(){for(var times=this.times,out="",longest=0,i=0,ii=times.length;i<ii;++i){var name=times[i].name;name.length>longest&&(longest=name.length)}for(var _i=0,_ii=times.length;_i<_ii;++_i){var span=times[_i],duration=span.end-span.start;out+=span.name.padEnd(longest)+" "+duration+"ms\n"}return out}}]),StatTimer}(),DummyStatTimer=function(){function DummyStatTimer(){_classCallCheck(this,DummyStatTimer),(0,_util.unreachable)("Cannot initialize DummyStatTimer.")}return _createClass(DummyStatTimer,null,[{key:"time",value:function(name){}},{key:"timeEnd",value:function(name){}},{key:"toString",value:function(){return""}}]),DummyStatTimer}();exports.PageViewport=PageViewport,exports.RenderingCancelledException=RenderingCancelledException,exports.addLinkAttributes=function(link){var _ref5=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},url=_ref5.url,target=_ref5.target,rel=_ref5.rel;if(link.href=link.title=url?(0,_util.removeNullCharacters)(url):"",url){var targetIndex=Object.values(LinkTarget).includes(target)?target:LinkTarget.NONE;link.target=LinkTargetStringMap[targetIndex],link.rel="string"==typeof rel?rel:DEFAULT_LINK_REL}},exports.getFilenameFromUrl=function(url){var anchor=url.indexOf("#"),query=url.indexOf("?"),end=Math.min(anchor>0?anchor:url.length,query>0?query:url.length);return url.substring(url.lastIndexOf("/",end)+1,end)},exports.LinkTarget=LinkTarget,exports.DEFAULT_LINK_REL=DEFAULT_LINK_REL,exports.DOMCanvasFactory=DOMCanvasFactory,exports.DOMCMapReaderFactory=DOMCMapReaderFactory,exports.DOMSVGFactory=DOMSVGFactory,exports.StatTimer=StatTimer,exports.DummyStatTimer=DummyStatTimer,exports.loadScript=function(src){return new Promise(function(resolve,reject){var script=document.createElement("script");script.src=src,script.onload=resolve,script.onerror=function(){reject(new Error("Cannot load script at: "+script.src))},(document.head||document.documentElement).appendChild(script)})}},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FontLoader=exports.FontFaceObject=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_util=__w_pdfjs_require__(1);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var FontLoader,BaseFontLoader=function(){function BaseFontLoader(docId){_classCallCheck(this,BaseFontLoader),this.constructor===BaseFontLoader&&(0,_util.unreachable)("Cannot initialize BaseFontLoader."),this.docId=docId,this.nativeFontFaces=[],this.styleElement=null,this.loadingContext={requests:[],nextRequestId:0}}return _createClass(BaseFontLoader,[{key:"addNativeFontFace",value:function(nativeFontFace){this.nativeFontFaces.push(nativeFontFace),document.fonts.add(nativeFontFace)}},{key:"insertRule",value:function(rule){var styleElement=this.styleElement;styleElement||((styleElement=this.styleElement=document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_"+this.docId,document.documentElement.getElementsByTagName("head")[0].appendChild(styleElement));var styleSheet=styleElement.sheet;styleSheet.insertRule(rule,styleSheet.cssRules.length)}},{key:"clear",value:function(){this.nativeFontFaces.forEach(function(nativeFontFace){document.fonts.delete(nativeFontFace)}),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:function(fonts,callback){var rules=[],fontsToLoad=[],fontLoadPromises=[],getNativeFontPromise=function(nativeFontFace){return nativeFontFace.loaded.catch(function(reason){(0,_util.warn)('Failed to load font "'+nativeFontFace.family+'": '+reason)})},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=fonts[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var font=_step.value;if(!font.attached&&!font.missingFile)if(font.attached=!0,this.isFontLoadingAPISupported){var nativeFontFace=font.createNativeFontFace();nativeFontFace&&(this.addNativeFontFace(nativeFontFace),fontLoadPromises.push(getNativeFontPromise(nativeFontFace)))}else{var rule=font.createFontFaceRule();rule&&(this.insertRule(rule),rules.push(rule),fontsToLoad.push(font))}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}var request=this._queueLoadingCallback(callback);this.isFontLoadingAPISupported?Promise.all(fontLoadPromises).then(request.complete):rules.length>0&&!this.isSyncFontLoadingSupported?this._prepareFontLoadEvent(rules,fontsToLoad,request):request.complete()}},{key:"_queueLoadingCallback",value:function(callback){var context=this.loadingContext,request={id:"pdfjs-font-loading-"+context.nextRequestId++,done:!1,complete:function(){for((0,_util.assert)(!request.done,"completeRequest() cannot be called twice."),request.done=!0;context.requests.length>0&&context.requests[0].done;){var otherRequest=context.requests.shift();setTimeout(otherRequest.callback,0)}},callback:callback};return context.requests.push(request),request}},{key:"_prepareFontLoadEvent",value:function(rules,fontsToLoad,request){(0,_util.unreachable)("Abstract method `_prepareFontLoadEvent`.")}},{key:"isFontLoadingAPISupported",get:function(){(0,_util.unreachable)("Abstract method `isFontLoadingAPISupported`.")}},{key:"isSyncFontLoadingSupported",get:function(){(0,_util.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,_util.unreachable)("Abstract method `_loadTestFont`.")}}]),BaseFontLoader}();exports.FontLoader=FontLoader=function(_BaseFontLoader){function GenericFontLoader(docId){_classCallCheck(this,GenericFontLoader);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(GenericFontLoader.__proto__||Object.getPrototypeOf(GenericFontLoader)).call(this,docId));return _this.loadTestFontId=0,_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(GenericFontLoader,BaseFontLoader),_createClass(GenericFontLoader,[{key:"_prepareFontLoadEvent",value:function(rules,fonts,request){function int32(data,offset){return data.charCodeAt(offset)<<24|data.charCodeAt(offset+1)<<16|data.charCodeAt(offset+2)<<8|255&data.charCodeAt(offset+3)}function spliceString(s,offset,remove,insert){return s.substring(0,offset)+insert+s.substring(offset+remove)}var i=void 0,ii=void 0,canvas=document.createElement("canvas");canvas.width=1,canvas.height=1;var ctx=canvas.getContext("2d"),called=0;var loadTestFontId="lt"+Date.now()+this.loadTestFontId++,data=this._loadTestFont,checksum=int32(data=spliceString(data,976,loadTestFontId.length,loadTestFontId),16);for(i=0,ii=loadTestFontId.length-3;i<ii;i+=4)checksum=checksum-1482184792+int32(loadTestFontId,i)|0;i<loadTestFontId.length&&(checksum=checksum-1482184792+int32(loadTestFontId+"XXX",i)|0),data=spliceString(data,16,4,(0,_util.string32)(checksum));var rule='@font-face {font-family:"'+loadTestFontId+'";src:'+("url(data:font/opentype;base64,"+btoa(data)+");")+"}";this.insertRule(rule);var names=[];for(i=0,ii=fonts.length;i<ii;i++)names.push(fonts[i].loadedName);names.push(loadTestFontId);var div=document.createElement("div");for(div.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;"),i=0,ii=names.length;i<ii;++i){var span=document.createElement("span");span.textContent="Hi",span.style.fontFamily=names[i],div.appendChild(span)}document.body.appendChild(div),function isFontReady(name,callback){if(++called>30)return(0,_util.warn)("Load test font never loaded."),void callback();ctx.font="30px "+name,ctx.fillText(".",0,20),ctx.getImageData(0,0,1,1).data[3]>0?callback():setTimeout(isFontReady.bind(null,name,callback))}(loadTestFontId,function(){document.body.removeChild(div),request.complete()})}},{key:"isFontLoadingAPISupported",get:function(){var supported="undefined"!=typeof document&&!!document.fonts;if(supported&&"undefined"!=typeof navigator){var m=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);m&&m[1]<63&&(supported=!1)}return(0,_util.shadow)(this,"isFontLoadingAPISupported",supported)}},{key:"isSyncFontLoadingSupported",get:function(){var supported=!1;if("undefined"==typeof navigator)supported=!0;else{var m=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);m&&m[1]>=14&&(supported=!0)}return(0,_util.shadow)(this,"isSyncFontLoadingSupported",supported)}},{key:"_loadTestFont",get:function(){return(0,_util.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}}]),GenericFontLoader}();var IsEvalSupportedCached={get value(){return(0,_util.shadow)(this,"value",(0,_util.isEvalSupported)())}},FontFaceObject=function(){function FontFaceObject(translatedData,_ref){var _ref$isEvalSupported=_ref.isEvalSupported,isEvalSupported=void 0===_ref$isEvalSupported||_ref$isEvalSupported,_ref$disableFontFace=_ref.disableFontFace,disableFontFace=void 0!==_ref$disableFontFace&&_ref$disableFontFace,_ref$ignoreErrors=_ref.ignoreErrors,ignoreErrors=void 0!==_ref$ignoreErrors&&_ref$ignoreErrors,_ref$onUnsupportedFea=_ref.onUnsupportedFeature,onUnsupportedFeature=void 0===_ref$onUnsupportedFea?null:_ref$onUnsupportedFea,_ref$fontRegistry=_ref.fontRegistry,fontRegistry=void 0===_ref$fontRegistry?null:_ref$fontRegistry;for(var i in _classCallCheck(this,FontFaceObject),this.compiledGlyphs=Object.create(null),translatedData)this[i]=translatedData[i];this.isEvalSupported=!1!==isEvalSupported,this.disableFontFace=!0===disableFontFace,this.ignoreErrors=!0===ignoreErrors,this._onUnsupportedFeature=onUnsupportedFeature,this.fontRegistry=fontRegistry}return _createClass(FontFaceObject,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var nativeFontFace=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),nativeFontFace}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var data=(0,_util.bytesToString)(new Uint8Array(this.data)),url="url(data:"+this.mimetype+";base64,"+btoa(data)+");",rule='@font-face {font-family:"'+this.loadedName+'";src:'+url+"}";return this.fontRegistry&&this.fontRegistry.registerFont(this,url),rule}},{key:"getPathGenerator",value:function(objs,character){if(void 0!==this.compiledGlyphs[character])return this.compiledGlyphs[character];var cmds=void 0,current=void 0;try{cmds=objs.get(this.loadedName+"_path_"+character)}catch(ex){if(!this.ignoreErrors)throw ex;return this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:_util.UNSUPPORTED_FEATURES.font}),(0,_util.warn)('getPathGenerator - ignoring character: "'+ex+'".'),this.compiledGlyphs[character]=function(c,size){}}if(this.isEvalSupported&&IsEvalSupportedCached.value){for(var args=void 0,js="",i=0,ii=cmds.length;i<ii;i++)args=void 0!==(current=cmds[i]).args?current.args.join(","):"",js+="c."+current.cmd+"("+args+");\n";return this.compiledGlyphs[character]=new Function("c","size",js)}return this.compiledGlyphs[character]=function(c,size){for(var _i=0,_ii=cmds.length;_i<_ii;_i++)"scale"===(current=cmds[_i]).cmd&&(current.args=[size,-size]),c[current.cmd].apply(c,current.args)}}}]),FontFaceObject}();exports.FontFaceObject=FontFaceObject,exports.FontLoader=FontLoader},function(module,exports,__w_pdfjs_require__){"use strict";var compatibilityParams=Object.create(null),isNodeJS=__w_pdfjs_require__(4),userAgent="undefined"!=typeof navigator&&navigator.userAgent||"",isIE=/Trident/.test(userAgent),isIOSChrome=/CriOS/.test(userAgent);(isIE||isIOSChrome)&&(compatibilityParams.disableCreateObjectURL=!0),isNodeJS()&&(compatibilityParams.disableFontFace=!0,compatibilityParams.nativeImageDecoderSupport="none"),exports.apiCompatibilityParams=Object.freeze(compatibilityParams)},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CanvasGraphics=void 0;var _util=__w_pdfjs_require__(1),_pattern_helper=__w_pdfjs_require__(134),FULL_CHUNK_HEIGHT=16,IsLittleEndianCached={get value(){return(0,_util.shadow)(IsLittleEndianCached,"value",(0,_util.isLittleEndian)())}};function addContextCurrentTransform(ctx){ctx.mozCurrentTransform||(ctx._originalSave=ctx.save,ctx._originalRestore=ctx.restore,ctx._originalRotate=ctx.rotate,ctx._originalScale=ctx.scale,ctx._originalTranslate=ctx.translate,ctx._originalTransform=ctx.transform,ctx._originalSetTransform=ctx.setTransform,ctx._transformMatrix=ctx._transformMatrix||[1,0,0,1,0,0],ctx._transformStack=[],Object.defineProperty(ctx,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(ctx,"mozCurrentTransformInverse",{get:function(){var m=this._transformMatrix,a=m[0],b=m[1],c=m[2],d=m[3],e=m[4],f=m[5],ad_bc=a*d-b*c,bc_ad=b*c-a*d;return[d/ad_bc,b/bc_ad,c/bc_ad,a/ad_bc,(d*e-c*f)/bc_ad,(b*e-a*f)/ad_bc]}}),ctx.save=function(){var old=this._transformMatrix;this._transformStack.push(old),this._transformMatrix=old.slice(0,6),this._originalSave()},ctx.restore=function(){var prev=this._transformStack.pop();prev&&(this._transformMatrix=prev,this._originalRestore())},ctx.translate=function(x,y){var m=this._transformMatrix;m[4]=m[0]*x+m[2]*y+m[4],m[5]=m[1]*x+m[3]*y+m[5],this._originalTranslate(x,y)},ctx.scale=function(x,y){var m=this._transformMatrix;m[0]=m[0]*x,m[1]=m[1]*x,m[2]=m[2]*y,m[3]=m[3]*y,this._originalScale(x,y)},ctx.transform=function(a,b,c,d,e,f){var m=this._transformMatrix;this._transformMatrix=[m[0]*a+m[2]*b,m[1]*a+m[3]*b,m[0]*c+m[2]*d,m[1]*c+m[3]*d,m[0]*e+m[2]*f+m[4],m[1]*e+m[3]*f+m[5]],ctx._originalTransform(a,b,c,d,e,f)},ctx.setTransform=function(a,b,c,d,e,f){this._transformMatrix=[a,b,c,d,e,f],ctx._originalSetTransform(a,b,c,d,e,f)},ctx.rotate=function(angle){var cosValue=Math.cos(angle),sinValue=Math.sin(angle),m=this._transformMatrix;this._transformMatrix=[m[0]*cosValue+m[2]*sinValue,m[1]*cosValue+m[3]*sinValue,m[0]*-sinValue+m[2]*cosValue,m[1]*-sinValue+m[3]*cosValue,m[4],m[5]],this._originalRotate(angle)})}var CachedCanvases=function(){function CachedCanvases(canvasFactory){this.canvasFactory=canvasFactory,this.cache=Object.create(null)}return CachedCanvases.prototype={getCanvas:function(id,width,height,trackTransform){var canvasEntry;return void 0!==this.cache[id]?(canvasEntry=this.cache[id],this.canvasFactory.reset(canvasEntry,width,height),canvasEntry.context.setTransform(1,0,0,1,0,0)):(canvasEntry=this.canvasFactory.create(width,height),this.cache[id]=canvasEntry),trackTransform&&addContextCurrentTransform(canvasEntry.context),canvasEntry},clear:function(){for(var id in this.cache){var canvasEntry=this.cache[id];this.canvasFactory.destroy(canvasEntry),delete this.cache[id]}}},CachedCanvases}();var CanvasExtraState=function(){function CanvasExtraState(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=_util.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=_util.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=_util.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}return CanvasExtraState.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(x,y){this.x=x,this.y=y}},CanvasExtraState}(),CanvasGraphics=function(){function CanvasGraphics(canvasCtx,commonObjs,objs,canvasFactory,webGLContext,imageLayer){this.ctx=canvasCtx,this.current=new CanvasExtraState,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=commonObjs,this.objs=objs,this.canvasFactory=canvasFactory,this.webGLContext=webGLContext,this.imageLayer=imageLayer,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new CachedCanvases(this.canvasFactory),canvasCtx&&addContextCurrentTransform(canvasCtx),this._cachedGetSinglePixelWidth=null}function putBinaryImageData(ctx,imgData){if("undefined"!=typeof ImageData&&imgData instanceof ImageData)ctx.putImageData(imgData,0,0);else{var destPos,i,j,thisChunkHeight,elemsInThisChunk,height=imgData.height,width=imgData.width,partialChunkHeight=height%FULL_CHUNK_HEIGHT,fullChunks=(height-partialChunkHeight)/FULL_CHUNK_HEIGHT,totalChunks=0===partialChunkHeight?fullChunks:fullChunks+1,chunkImgData=ctx.createImageData(width,FULL_CHUNK_HEIGHT),srcPos=0,src=imgData.data,dest=chunkImgData.data;if(imgData.kind===_util.ImageKind.GRAYSCALE_1BPP){var srcLength=src.byteLength,dest32=new Uint32Array(dest.buffer,0,dest.byteLength>>2),dest32DataLength=dest32.length,fullSrcDiff=width+7>>3,white=4294967295,black=IsLittleEndianCached.value?4278190080:255;for(i=0;i<totalChunks;i++){for(thisChunkHeight=i<fullChunks?FULL_CHUNK_HEIGHT:partialChunkHeight,destPos=0,j=0;j<thisChunkHeight;j++){for(var srcDiff=srcLength-srcPos,k=0,kEnd=srcDiff>fullSrcDiff?width:8*srcDiff-7,kEndUnrolled=-8&kEnd,mask=0,srcByte=0;k<kEndUnrolled;k+=8)srcByte=src[srcPos++],dest32[destPos++]=128&srcByte?white:black,dest32[destPos++]=64&srcByte?white:black,dest32[destPos++]=32&srcByte?white:black,dest32[destPos++]=16&srcByte?white:black,dest32[destPos++]=8&srcByte?white:black,dest32[destPos++]=4&srcByte?white:black,dest32[destPos++]=2&srcByte?white:black,dest32[destPos++]=1&srcByte?white:black;for(;k<kEnd;k++)0===mask&&(srcByte=src[srcPos++],mask=128),dest32[destPos++]=srcByte&mask?white:black,mask>>=1}for(;destPos<dest32DataLength;)dest32[destPos++]=0;ctx.putImageData(chunkImgData,0,i*FULL_CHUNK_HEIGHT)}}else if(imgData.kind===_util.ImageKind.RGBA_32BPP){for(j=0,elemsInThisChunk=width*FULL_CHUNK_HEIGHT*4,i=0;i<fullChunks;i++)dest.set(src.subarray(srcPos,srcPos+elemsInThisChunk)),srcPos+=elemsInThisChunk,ctx.putImageData(chunkImgData,0,j),j+=FULL_CHUNK_HEIGHT;i<totalChunks&&(elemsInThisChunk=width*partialChunkHeight*4,dest.set(src.subarray(srcPos,srcPos+elemsInThisChunk)),ctx.putImageData(chunkImgData,0,j))}else{if(imgData.kind!==_util.ImageKind.RGB_24BPP)throw new Error("bad image kind: "+imgData.kind);for(elemsInThisChunk=width*(thisChunkHeight=FULL_CHUNK_HEIGHT),i=0;i<totalChunks;i++){for(i>=fullChunks&&(elemsInThisChunk=width*(thisChunkHeight=partialChunkHeight)),destPos=0,j=elemsInThisChunk;j--;)dest[destPos++]=src[srcPos++],dest[destPos++]=src[srcPos++],dest[destPos++]=src[srcPos++],dest[destPos++]=255;ctx.putImageData(chunkImgData,0,i*FULL_CHUNK_HEIGHT)}}}}function putBinaryImageMask(ctx,imgData){for(var height=imgData.height,width=imgData.width,partialChunkHeight=height%FULL_CHUNK_HEIGHT,fullChunks=(height-partialChunkHeight)/FULL_CHUNK_HEIGHT,totalChunks=0===partialChunkHeight?fullChunks:fullChunks+1,chunkImgData=ctx.createImageData(width,FULL_CHUNK_HEIGHT),srcPos=0,src=imgData.data,dest=chunkImgData.data,i=0;i<totalChunks;i++){for(var thisChunkHeight=i<fullChunks?FULL_CHUNK_HEIGHT:partialChunkHeight,destPos=3,j=0;j<thisChunkHeight;j++)for(var mask=0,k=0;k<width;k++){if(!mask){var elem=src[srcPos++];mask=128}dest[destPos]=elem&mask?0:255,destPos+=4,mask>>=1}ctx.putImageData(chunkImgData,0,i*FULL_CHUNK_HEIGHT)}}function copyCtxState(sourceCtx,destCtx){for(var properties=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],i=0,ii=properties.length;i<ii;i++){var property=properties[i];void 0!==sourceCtx[property]&&(destCtx[property]=sourceCtx[property])}void 0!==sourceCtx.setLineDash&&(destCtx.setLineDash(sourceCtx.getLineDash()),destCtx.lineDashOffset=sourceCtx.lineDashOffset)}function resetCtxToDefault(ctx){ctx.strokeStyle="#000000",ctx.fillStyle="#000000",ctx.fillRule="nonzero",ctx.globalAlpha=1,ctx.lineWidth=1,ctx.lineCap="butt",ctx.lineJoin="miter",ctx.miterLimit=10,ctx.globalCompositeOperation="source-over",ctx.font="10px sans-serif",void 0!==ctx.setLineDash&&(ctx.setLineDash([]),ctx.lineDashOffset=0)}function composeSMaskBackdrop(bytes,r0,g0,b0){for(var length=bytes.length,i=3;i<length;i+=4){var alpha=bytes[i];if(0===alpha)bytes[i-3]=r0,bytes[i-2]=g0,bytes[i-1]=b0;else if(alpha<255){var alpha_=255-alpha;bytes[i-3]=bytes[i-3]*alpha+r0*alpha_>>8,bytes[i-2]=bytes[i-2]*alpha+g0*alpha_>>8,bytes[i-1]=bytes[i-1]*alpha+b0*alpha_>>8}}}function composeSMaskAlpha(maskData,layerData,transferMap){for(var length=maskData.length,i=3;i<length;i+=4){var alpha=transferMap?transferMap[maskData[i]]:maskData[i];layerData[i]=layerData[i]*alpha*(1/255)|0}}function composeSMaskLuminosity(maskData,layerData,transferMap){for(var length=maskData.length,i=3;i<length;i+=4){var y=77*maskData[i-3]+152*maskData[i-2]+28*maskData[i-1];layerData[i]=transferMap?layerData[i]*transferMap[y>>8]>>8:layerData[i]*y>>16}}function composeSMask(ctx,smask,layerCtx,webGLContext){var mask=smask.canvas,maskCtx=smask.context;ctx.setTransform(smask.scaleX,0,0,smask.scaleY,smask.offsetX,smask.offsetY);var backdrop=smask.backdrop||null;if(!smask.transferMap&&webGLContext.isEnabled){var composed=webGLContext.composeSMask({layer:layerCtx.canvas,mask:mask,properties:{subtype:smask.subtype,backdrop:backdrop}});return ctx.setTransform(1,0,0,1,0,0),void ctx.drawImage(composed,smask.offsetX,smask.offsetY)}!function(maskCtx,layerCtx,width,height,subtype,backdrop,transferMap){var composeFn,hasBackdrop=!!backdrop,r0=hasBackdrop?backdrop[0]:0,g0=hasBackdrop?backdrop[1]:0,b0=hasBackdrop?backdrop[2]:0;composeFn="Luminosity"===subtype?composeSMaskLuminosity:composeSMaskAlpha;for(var chunkSize=Math.min(height,Math.ceil(1048576/width)),row=0;row<height;row+=chunkSize){var chunkHeight=Math.min(chunkSize,height-row),maskData=maskCtx.getImageData(0,row,width,chunkHeight),layerData=layerCtx.getImageData(0,row,width,chunkHeight);hasBackdrop&&composeSMaskBackdrop(maskData.data,r0,g0,b0),composeFn(maskData.data,layerData.data,transferMap),maskCtx.putImageData(layerData,0,row)}}(maskCtx,layerCtx,mask.width,mask.height,smask.subtype,backdrop,smask.transferMap),ctx.drawImage(mask,0,0)}var LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],NORMAL_CLIP={},EO_CLIP={};for(var op in CanvasGraphics.prototype={beginDrawing:function(_ref){var transform=_ref.transform,viewport=_ref.viewport,transparency=_ref.transparency,_ref$background=_ref.background,background=void 0===_ref$background?null:_ref$background,width=this.ctx.canvas.width,height=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=background||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,width,height),this.ctx.restore(),transparency){var transparentCanvas=this.cachedCanvases.getCanvas("transparent",width,height,!0);this.compositeCtx=this.ctx,this.transparentCanvas=transparentCanvas.canvas,this.ctx=transparentCanvas.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),resetCtxToDefault(this.ctx),transform&&this.ctx.transform.apply(this.ctx,transform),this.ctx.transform.apply(this.ctx,viewport.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(operatorList,executionStartIdx,continueCallback,stepper){var argsArray=operatorList.argsArray,fnArray=operatorList.fnArray,i=executionStartIdx||0,argsArrayLen=argsArray.length;if(argsArrayLen===i)return i;for(var fnId,chunkOperations=argsArrayLen-i>10&&"function"==typeof continueCallback,endTime=chunkOperations?Date.now()+15:0,steps=0,commonObjs=this.commonObjs,objs=this.objs;;){if(void 0!==stepper&&i===stepper.nextBreakPoint)return stepper.breakIt(i,continueCallback),i;if((fnId=fnArray[i])!==_util.OPS.dependency)this[fnId].apply(this,argsArray[i]);else for(var deps=argsArray[i],n=0,nn=deps.length;n<nn;n++){var depObjId=deps[n],objsPool="g"===depObjId[0]&&"_"===depObjId[1]?commonObjs:objs;if(!objsPool.isResolved(depObjId))return objsPool.get(depObjId,continueCallback),i}if(++i===argsArrayLen)return i;if(chunkOperations&&++steps>10){if(Date.now()>endTime)return continueCallback(),i;steps=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(width){this.current.lineWidth=width,this.ctx.lineWidth=width},setLineCap:function(style){this.ctx.lineCap=LINE_CAP_STYLES[style]},setLineJoin:function(style){this.ctx.lineJoin=LINE_JOIN_STYLES[style]},setMiterLimit:function(limit){this.ctx.miterLimit=limit},setDash:function(dashArray,dashPhase){var ctx=this.ctx;void 0!==ctx.setLineDash&&(ctx.setLineDash(dashArray),ctx.lineDashOffset=dashPhase)},setRenderingIntent:function(intent){},setFlatness:function(flatness){},setGState:function(states){for(var i=0,ii=states.length;i<ii;i++){var state=states[i],key=state[0],value=state[1];switch(key){case"LW":this.setLineWidth(value);break;case"LC":this.setLineCap(value);break;case"LJ":this.setLineJoin(value);break;case"ML":this.setMiterLimit(value);break;case"D":this.setDash(value[0],value[1]);break;case"RI":this.setRenderingIntent(value);break;case"FL":this.setFlatness(value);break;case"Font":this.setFont(value[0],value[1]);break;case"CA":this.current.strokeAlpha=state[1];break;case"ca":this.current.fillAlpha=state[1],this.ctx.globalAlpha=state[1];break;case"BM":this.ctx.globalCompositeOperation=value;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=value?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null}}},beginSMaskGroup:function(){var activeSMask=this.current.activeSMask,drawnWidth=activeSMask.canvas.width,drawnHeight=activeSMask.canvas.height,cacheId="smaskGroupAt"+this.groupLevel,scratchCanvas=this.cachedCanvases.getCanvas(cacheId,drawnWidth,drawnHeight,!0),currentCtx=this.ctx,currentTransform=currentCtx.mozCurrentTransform;this.ctx.save();var groupCtx=scratchCanvas.context;groupCtx.scale(1/activeSMask.scaleX,1/activeSMask.scaleY),groupCtx.translate(-activeSMask.offsetX,-activeSMask.offsetY),groupCtx.transform.apply(groupCtx,currentTransform),activeSMask.startTransformInverse=groupCtx.mozCurrentTransformInverse,copyCtxState(currentCtx,groupCtx),this.ctx=groupCtx,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(currentCtx),this.groupLevel++},suspendSMaskGroup:function(){var groupCtx=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),composeSMask(this.ctx,this.current.activeSMask,groupCtx,this.webGLContext),this.ctx.restore(),this.ctx.save(),copyCtxState(groupCtx,this.ctx),this.current.resumeSMaskCtx=groupCtx;var deltaTransform=_util.Util.transform(this.current.activeSMask.startTransformInverse,groupCtx.mozCurrentTransform);this.ctx.transform.apply(this.ctx,deltaTransform),groupCtx.save(),groupCtx.setTransform(1,0,0,1,0,0),groupCtx.clearRect(0,0,groupCtx.canvas.width,groupCtx.canvas.height),groupCtx.restore()},resumeSMaskGroup:function(){var groupCtx=this.current.resumeSMaskCtx,currentCtx=this.ctx;this.ctx=groupCtx,this.groupStack.push(currentCtx),this.groupLevel++},endSMaskGroup:function(){var groupCtx=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),composeSMask(this.ctx,this.current.activeSMask,groupCtx,this.webGLContext),this.ctx.restore(),copyCtxState(groupCtx,this.ctx);var deltaTransform=_util.Util.transform(this.current.activeSMask.startTransformInverse,groupCtx.mozCurrentTransform);this.ctx.transform.apply(this.ctx,deltaTransform)},save:function(){this.ctx.save();var old=this.current;this.stateStack.push(old),this.current=old.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)},transform:function(a,b,c,d,e,f){this.ctx.transform(a,b,c,d,e,f),this._cachedGetSinglePixelWidth=null},constructPath:function(ops,args){for(var ctx=this.ctx,current=this.current,x=current.x,y=current.y,i=0,j=0,ii=ops.length;i<ii;i++)switch(0|ops[i]){case _util.OPS.rectangle:x=args[j++],y=args[j++];var width=args[j++],height=args[j++];0===width&&(width=this.getSinglePixelWidth()),0===height&&(height=this.getSinglePixelWidth());var xw=x+width,yh=y+height;this.ctx.moveTo(x,y),this.ctx.lineTo(xw,y),this.ctx.lineTo(xw,yh),this.ctx.lineTo(x,yh),this.ctx.lineTo(x,y),this.ctx.closePath();break;case _util.OPS.moveTo:x=args[j++],y=args[j++],ctx.moveTo(x,y);break;case _util.OPS.lineTo:x=args[j++],y=args[j++],ctx.lineTo(x,y);break;case _util.OPS.curveTo:x=args[j+4],y=args[j+5],ctx.bezierCurveTo(args[j],args[j+1],args[j+2],args[j+3],x,y),j+=6;break;case _util.OPS.curveTo2:ctx.bezierCurveTo(x,y,args[j],args[j+1],args[j+2],args[j+3]),x=args[j+2],y=args[j+3],j+=4;break;case _util.OPS.curveTo3:x=args[j+2],y=args[j+3],ctx.bezierCurveTo(args[j],args[j+1],x,y,x,y),j+=4;break;case _util.OPS.closePath:ctx.closePath()}current.setCurrentPoint(x,y)},closePath:function(){this.ctx.closePath()},stroke:function(consumePath){consumePath=void 0===consumePath||consumePath;var ctx=this.ctx,strokeColor=this.current.strokeColor;ctx.lineWidth=Math.max(.65*this.getSinglePixelWidth(),this.current.lineWidth),ctx.globalAlpha=this.current.strokeAlpha,strokeColor&&strokeColor.hasOwnProperty("type")&&"Pattern"===strokeColor.type?(ctx.save(),ctx.strokeStyle=strokeColor.getPattern(ctx,this),ctx.stroke(),ctx.restore()):ctx.stroke(),consumePath&&this.consumePath(),ctx.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(consumePath){consumePath=void 0===consumePath||consumePath;var ctx=this.ctx,fillColor=this.current.fillColor,needRestore=!1;this.current.patternFill&&(ctx.save(),this.baseTransform&&ctx.setTransform.apply(ctx,this.baseTransform),ctx.fillStyle=fillColor.getPattern(ctx,this),needRestore=!0),this.pendingEOFill?(ctx.fill("evenodd"),this.pendingEOFill=!1):ctx.fill(),needRestore&&ctx.restore(),consumePath&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=NORMAL_CLIP},eoClip:function(){this.pendingClip=EO_CLIP},beginText:function(){this.current.textMatrix=_util.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var paths=this.pendingTextPaths,ctx=this.ctx;if(void 0!==paths){ctx.save(),ctx.beginPath();for(var i=0;i<paths.length;i++){var path=paths[i];ctx.setTransform.apply(ctx,path.transform),ctx.translate(path.x,path.y),path.addToPath(ctx,path.fontSize)}ctx.restore(),ctx.clip(),ctx.beginPath(),delete this.pendingTextPaths}else ctx.beginPath()},setCharSpacing:function(spacing){this.current.charSpacing=spacing},setWordSpacing:function(spacing){this.current.wordSpacing=spacing},setHScale:function(scale){this.current.textHScale=scale/100},setLeading:function(leading){this.current.leading=-leading},setFont:function(fontRefName,size){var fontObj=this.commonObjs.get(fontRefName),current=this.current;if(!fontObj)throw new Error("Can't find font for "+fontRefName);if(current.fontMatrix=fontObj.fontMatrix?fontObj.fontMatrix:_util.FONT_IDENTITY_MATRIX,0!==current.fontMatrix[0]&&0!==current.fontMatrix[3]||(0,_util.warn)("Invalid font matrix for font "+fontRefName),size<0?(size=-size,current.fontDirection=-1):current.fontDirection=1,this.current.font=fontObj,this.current.fontSize=size,!fontObj.isType3Font){var name=fontObj.loadedName||"sans-serif",bold=fontObj.black?"900":fontObj.bold?"bold":"normal",italic=fontObj.italic?"italic":"normal",typeface='"'+name+'", '+fontObj.fallbackName,browserFontSize=size<16?16:size>100?100:size;this.current.fontSizeScale=size/browserFontSize;var rule=italic+" "+bold+" "+browserFontSize+"px "+typeface;this.ctx.font=rule}},setTextRenderingMode:function(mode){this.current.textRenderingMode=mode},setTextRise:function(rise){this.current.textRise=rise},moveText:function(x,y){this.current.x=this.current.lineX+=x,this.current.y=this.current.lineY+=y},setLeadingMoveText:function(x,y){this.setLeading(-y),this.moveText(x,y)},setTextMatrix:function(a,b,c,d,e,f){this.current.textMatrix=[a,b,c,d,e,f],this.current.textMatrixScale=Math.sqrt(a*a+b*b),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(character,x,y,patternTransform){var addToPath,ctx=this.ctx,current=this.current,font=current.font,textRenderingMode=current.textRenderingMode,fontSize=current.fontSize/current.fontSizeScale,fillStrokeMode=textRenderingMode&_util.TextRenderingMode.FILL_STROKE_MASK,isAddToPathSet=!!(textRenderingMode&_util.TextRenderingMode.ADD_TO_PATH_FLAG),patternFill=current.patternFill&&font.data;((font.disableFontFace||isAddToPathSet||patternFill)&&(addToPath=font.getPathGenerator(this.commonObjs,character)),font.disableFontFace||patternFill?(ctx.save(),ctx.translate(x,y),ctx.beginPath(),addToPath(ctx,fontSize),patternTransform&&ctx.setTransform.apply(ctx,patternTransform),fillStrokeMode!==_util.TextRenderingMode.FILL&&fillStrokeMode!==_util.TextRenderingMode.FILL_STROKE||ctx.fill(),fillStrokeMode!==_util.TextRenderingMode.STROKE&&fillStrokeMode!==_util.TextRenderingMode.FILL_STROKE||ctx.stroke(),ctx.restore()):(fillStrokeMode!==_util.TextRenderingMode.FILL&&fillStrokeMode!==_util.TextRenderingMode.FILL_STROKE||ctx.fillText(character,x,y),fillStrokeMode!==_util.TextRenderingMode.STROKE&&fillStrokeMode!==_util.TextRenderingMode.FILL_STROKE||ctx.strokeText(character,x,y)),isAddToPathSet)&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:ctx.mozCurrentTransform,x:x,y:y,fontSize:fontSize,addToPath:addToPath})},get isFontSubpixelAAEnabled(){var ctx=this.canvasFactory.create(10,10).context;ctx.scale(1.5,1),ctx.fillText("I",0,10);for(var data=ctx.getImageData(0,0,10,10).data,enabled=!1,i=3;i<data.length;i+=4)if(data[i]>0&&data[i]<255){enabled=!0;break}return(0,_util.shadow)(this,"isFontSubpixelAAEnabled",enabled)},showText:function(glyphs){var current=this.current,font=current.font;if(font.isType3Font)return this.showType3Text(glyphs);var fontSize=current.fontSize;if(0!==fontSize){var ctx=this.ctx,fontSizeScale=current.fontSizeScale,charSpacing=current.charSpacing,wordSpacing=current.wordSpacing,fontDirection=current.fontDirection,textHScale=current.textHScale*fontDirection,glyphsLength=glyphs.length,vertical=font.vertical,spacingDir=vertical?1:-1,defaultVMetrics=font.defaultVMetrics,widthAdvanceScale=fontSize*current.fontMatrix[0],simpleFillText=current.textRenderingMode===_util.TextRenderingMode.FILL&&!font.disableFontFace&&!current.patternFill;ctx.save();var patternTransform=void 0;if(current.patternFill){ctx.save();var pattern=current.fillColor.getPattern(ctx,this);patternTransform=ctx.mozCurrentTransform,ctx.restore(),ctx.fillStyle=pattern}ctx.transform.apply(ctx,current.textMatrix),ctx.translate(current.x,current.y+current.textRise),fontDirection>0?ctx.scale(textHScale,-1):ctx.scale(textHScale,1);var lineWidth=current.lineWidth,scale=current.textMatrixScale;if(0===scale||0===lineWidth){var fillStrokeMode=current.textRenderingMode&_util.TextRenderingMode.FILL_STROKE_MASK;fillStrokeMode!==_util.TextRenderingMode.STROKE&&fillStrokeMode!==_util.TextRenderingMode.FILL_STROKE||(this._cachedGetSinglePixelWidth=null,lineWidth=.65*this.getSinglePixelWidth())}else lineWidth/=scale;1!==fontSizeScale&&(ctx.scale(fontSizeScale,fontSizeScale),lineWidth/=fontSizeScale),ctx.lineWidth=lineWidth;var i,x=0;for(i=0;i<glyphsLength;++i){var glyph=glyphs[i];if((0,_util.isNum)(glyph))x+=spacingDir*glyph*fontSize/1e3;else{var scaledX,scaledY,scaledAccentX,scaledAccentY,vmetric,vx,vy,restoreNeeded=!1,spacing=(glyph.isSpace?wordSpacing:0)+charSpacing,character=glyph.fontChar,accent=glyph.accent,width=glyph.width;if(vertical)vmetric=glyph.vmetric||defaultVMetrics,vx=-(vx=glyph.vmetric?vmetric[1]:.5*width)*widthAdvanceScale,vy=vmetric[2]*widthAdvanceScale,width=vmetric?-vmetric[0]:width,scaledX=vx/fontSizeScale,scaledY=(x+vy)/fontSizeScale;else scaledX=x/fontSizeScale,scaledY=0;if(font.remeasure&&width>0){var measuredWidth=1e3*ctx.measureText(character).width/fontSize*fontSizeScale;if(width<measuredWidth&&this.isFontSubpixelAAEnabled){var characterScaleX=width/measuredWidth;restoreNeeded=!0,ctx.save(),ctx.scale(characterScaleX,1),scaledX/=characterScaleX}else width!==measuredWidth&&(scaledX+=(width-measuredWidth)/2e3*fontSize/fontSizeScale)}(glyph.isInFont||font.missingFile)&&(simpleFillText&&!accent?ctx.fillText(character,scaledX,scaledY):(this.paintChar(character,scaledX,scaledY,patternTransform),accent&&(scaledAccentX=scaledX+accent.offset.x/fontSizeScale,scaledAccentY=scaledY-accent.offset.y/fontSizeScale,this.paintChar(accent.fontChar,scaledAccentX,scaledAccentY,patternTransform)))),x+=width*widthAdvanceScale+spacing*fontDirection,restoreNeeded&&ctx.restore()}}vertical?current.y-=x*textHScale:current.x+=x*textHScale,ctx.restore()}},showType3Text:function(glyphs){var i,glyph,width,spacingLength,ctx=this.ctx,current=this.current,font=current.font,fontSize=current.fontSize,fontDirection=current.fontDirection,spacingDir=font.vertical?1:-1,charSpacing=current.charSpacing,wordSpacing=current.wordSpacing,textHScale=current.textHScale*fontDirection,fontMatrix=current.fontMatrix||_util.FONT_IDENTITY_MATRIX,glyphsLength=glyphs.length;if(!(current.textRenderingMode===_util.TextRenderingMode.INVISIBLE)&&0!==fontSize){for(this._cachedGetSinglePixelWidth=null,ctx.save(),ctx.transform.apply(ctx,current.textMatrix),ctx.translate(current.x,current.y),ctx.scale(textHScale,fontDirection),i=0;i<glyphsLength;++i)if(glyph=glyphs[i],(0,_util.isNum)(glyph))spacingLength=spacingDir*glyph*fontSize/1e3,this.ctx.translate(spacingLength,0),current.x+=spacingLength*textHScale;else{var spacing=(glyph.isSpace?wordSpacing:0)+charSpacing,operatorList=font.charProcOperatorList[glyph.operatorListId];if(operatorList)this.processingType3=glyph,this.save(),ctx.scale(fontSize,fontSize),ctx.transform.apply(ctx,fontMatrix),this.executeOperatorList(operatorList),this.restore(),width=_util.Util.applyTransform([glyph.width,0],fontMatrix)[0]*fontSize+spacing,ctx.translate(width,0),current.x+=width*textHScale;else(0,_util.warn)('Type3 character "'+glyph.operatorListId+'" is not available.')}ctx.restore(),this.processingType3=null}},setCharWidth:function(xWidth,yWidth){},setCharWidthAndBounds:function(xWidth,yWidth,llx,lly,urx,ury){this.ctx.rect(llx,lly,urx-llx,ury-lly),this.clip(),this.endPath()},getColorN_Pattern:function(IR){var pattern,_this=this;if("TilingPattern"===IR[0]){var color=IR[1],baseTransform=this.baseTransform||this.ctx.mozCurrentTransform.slice(),canvasGraphicsFactory={createCanvasGraphics:function(ctx){return new CanvasGraphics(ctx,_this.commonObjs,_this.objs,_this.canvasFactory,_this.webGLContext)}};pattern=new _pattern_helper.TilingPattern(IR,color,this.ctx,canvasGraphicsFactory,baseTransform)}else pattern=(0,_pattern_helper.getShadingPatternFromIR)(IR);return pattern},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(r,g,b){var color=_util.Util.makeCssRgb(r,g,b);this.ctx.strokeStyle=color,this.current.strokeColor=color},setFillRGBColor:function(r,g,b){var color=_util.Util.makeCssRgb(r,g,b);this.ctx.fillStyle=color,this.current.fillColor=color,this.current.patternFill=!1},shadingFill:function(patternIR){var ctx=this.ctx;this.save();var pattern=(0,_pattern_helper.getShadingPatternFromIR)(patternIR);ctx.fillStyle=pattern.getPattern(ctx,this,!0);var inv=ctx.mozCurrentTransformInverse;if(inv){var canvas=ctx.canvas,width=canvas.width,height=canvas.height,bl=_util.Util.applyTransform([0,0],inv),br=_util.Util.applyTransform([0,height],inv),ul=_util.Util.applyTransform([width,0],inv),ur=_util.Util.applyTransform([width,height],inv),x0=Math.min(bl[0],br[0],ul[0],ur[0]),y0=Math.min(bl[1],br[1],ul[1],ur[1]),x1=Math.max(bl[0],br[0],ul[0],ur[0]),y1=Math.max(bl[1],br[1],ul[1],ur[1]);this.ctx.fillRect(x0,y0,x1-x0,y1-y0)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()},beginInlineImage:function(){(0,_util.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,_util.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(matrix,bbox){if(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(matrix)&&6===matrix.length&&this.transform.apply(this,matrix),this.baseTransform=this.ctx.mozCurrentTransform,Array.isArray(bbox)&&4===bbox.length){var width=bbox[2]-bbox[0],height=bbox[3]-bbox[1];this.ctx.rect(bbox[0],bbox[1],width,height),this.clip(),this.endPath()}},paintFormXObjectEnd:function(){this.restore(),this.baseTransform=this.baseTransformStack.pop()},beginGroup:function(group){this.save();var currentCtx=this.ctx;group.isolated||(0,_util.info)("TODO: Support non-isolated groups."),group.knockout&&(0,_util.warn)("Knockout groups not supported.");var currentTransform=currentCtx.mozCurrentTransform;if(group.matrix&&currentCtx.transform.apply(currentCtx,group.matrix),!group.bbox)throw new Error("Bounding box is required.");var bounds=_util.Util.getAxialAlignedBoundingBox(group.bbox,currentCtx.mozCurrentTransform),canvasBounds=[0,0,currentCtx.canvas.width,currentCtx.canvas.height];bounds=_util.Util.intersect(bounds,canvasBounds)||[0,0,0,0];var offsetX=Math.floor(bounds[0]),offsetY=Math.floor(bounds[1]),drawnWidth=Math.max(Math.ceil(bounds[2])-offsetX,1),drawnHeight=Math.max(Math.ceil(bounds[3])-offsetY,1),scaleX=1,scaleY=1;drawnWidth>4096&&(scaleX=drawnWidth/4096,drawnWidth=4096),drawnHeight>4096&&(scaleY=drawnHeight/4096,drawnHeight=4096);var cacheId="groupAt"+this.groupLevel;group.smask&&(cacheId+="_smask_"+this.smaskCounter++%2);var scratchCanvas=this.cachedCanvases.getCanvas(cacheId,drawnWidth,drawnHeight,!0),groupCtx=scratchCanvas.context;groupCtx.scale(1/scaleX,1/scaleY),groupCtx.translate(-offsetX,-offsetY),groupCtx.transform.apply(groupCtx,currentTransform),group.smask?this.smaskStack.push({canvas:scratchCanvas.canvas,context:groupCtx,offsetX:offsetX,offsetY:offsetY,scaleX:scaleX,scaleY:scaleY,subtype:group.smask.subtype,backdrop:group.smask.backdrop,transferMap:group.smask.transferMap||null,startTransformInverse:null}):(currentCtx.setTransform(1,0,0,1,0,0),currentCtx.translate(offsetX,offsetY),currentCtx.scale(scaleX,scaleY)),copyCtxState(currentCtx,groupCtx),this.ctx=groupCtx,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(currentCtx),this.groupLevel++,this.current.activeSMask=null},endGroup:function(group){this.groupLevel--;var groupCtx=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,group.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(groupCtx.canvas,0,0),this.restore()},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(rect,transform,matrix){if(this.save(),resetCtxToDefault(this.ctx),this.current=new CanvasExtraState,Array.isArray(rect)&&4===rect.length){var width=rect[2]-rect[0],height=rect[3]-rect[1];this.ctx.rect(rect[0],rect[1],width,height),this.clip(),this.endPath()}this.transform.apply(this,transform),this.transform.apply(this,matrix)},endAnnotation:function(){this.restore()},paintJpegXObject:function(objId,w,h){var domImage=this.objs.get(objId);if(domImage){this.save();var ctx=this.ctx;if(ctx.scale(1/w,-1/h),ctx.drawImage(domImage,0,0,domImage.width,domImage.height,0,-h,w,h),this.imageLayer){var currentTransform=ctx.mozCurrentTransformInverse,position=this.getCanvasPosition(0,0);this.imageLayer.appendImage({objId:objId,left:position[0],top:position[1],width:w/currentTransform[0],height:h/currentTransform[3]})}this.restore()}else(0,_util.warn)("Dependent image isn't ready yet")},paintImageMaskXObject:function(img){var ctx=this.ctx,width=img.width,height=img.height,fillColor=this.current.fillColor,isPatternFill=this.current.patternFill,glyph=this.processingType3;if(glyph&&void 0===glyph.compiled&&(glyph.compiled=width<=1e3&&height<=1e3?function(imgData){var i,j,j0,ii,width=imgData.width,height=imgData.height,width1=width+1,points=new Uint8Array(width1*(height+1)),POINT_TYPES=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),lineSize=width+7&-8,data0=imgData.data,data=new Uint8Array(lineSize*height),pos=0;for(i=0,ii=data0.length;i<ii;i++)for(var mask=128,elem=data0[i];mask>0;)data[pos++]=elem&mask?0:255,mask>>=1;var count=0;for(0!==data[pos=0]&&(points[0]=1,++count),j=1;j<width;j++)data[pos]!==data[pos+1]&&(points[j]=data[pos]?2:1,++count),pos++;for(0!==data[pos]&&(points[j]=2,++count),i=1;i<height;i++){j0=i*width1,data[(pos=i*lineSize)-lineSize]!==data[pos]&&(points[j0]=data[pos]?1:8,++count);var sum=(data[pos]?4:0)+(data[pos-lineSize]?8:0);for(j=1;j<width;j++)POINT_TYPES[sum=(sum>>2)+(data[pos+1]?4:0)+(data[pos-lineSize+1]?8:0)]&&(points[j0+j]=POINT_TYPES[sum],++count),pos++;if(data[pos-lineSize]!==data[pos]&&(points[j0+j]=data[pos]?2:4,++count),count>1e3)return null}for(j0=i*width1,0!==data[pos=lineSize*(height-1)]&&(points[j0]=8,++count),j=1;j<width;j++)data[pos]!==data[pos+1]&&(points[j0+j]=data[pos]?4:8,++count),pos++;if(0!==data[pos]&&(points[j0+j]=4,++count),count>1e3)return null;var steps=new Int32Array([0,width1,-1,0,-width1,0,0,0,1]),outlines=[];for(i=0;count&&i<=height;i++){for(var p=i*width1,end=p+width;p<end&&!points[p];)p++;if(p!==end){var pp,coords=[p%width1,i],type=points[p],p0=p;do{var step=steps[type];do{p+=step}while(!points[p]);5!==(pp=points[p])&&10!==pp?(type=pp,points[p]=0):(type=pp&51*type>>4,points[p]&=type>>2|type<<2),coords.push(p%width1),coords.push(p/width1|0),--count}while(p0!==p);outlines.push(coords),--i}}return function(c){c.save(),c.scale(1/width,-1/height),c.translate(0,-height),c.beginPath();for(var i=0,ii=outlines.length;i<ii;i++){var o=outlines[i];c.moveTo(o[0],o[1]);for(var j=2,jj=o.length;j<jj;j+=2)c.lineTo(o[j],o[j+1])}c.fill(),c.beginPath(),c.restore()}}({data:img.data,width:width,height:height}):null),glyph&&glyph.compiled)glyph.compiled(ctx);else{var maskCanvas=this.cachedCanvases.getCanvas("maskCanvas",width,height),maskCtx=maskCanvas.context;maskCtx.save(),putBinaryImageMask(maskCtx,img),maskCtx.globalCompositeOperation="source-in",maskCtx.fillStyle=isPatternFill?fillColor.getPattern(maskCtx,this):fillColor,maskCtx.fillRect(0,0,width,height),maskCtx.restore(),this.paintInlineImageXObject(maskCanvas.canvas)}},paintImageMaskXObjectRepeat:function(imgData,scaleX,scaleY,positions){var width=imgData.width,height=imgData.height,fillColor=this.current.fillColor,isPatternFill=this.current.patternFill,maskCanvas=this.cachedCanvases.getCanvas("maskCanvas",width,height),maskCtx=maskCanvas.context;maskCtx.save(),putBinaryImageMask(maskCtx,imgData),maskCtx.globalCompositeOperation="source-in",maskCtx.fillStyle=isPatternFill?fillColor.getPattern(maskCtx,this):fillColor,maskCtx.fillRect(0,0,width,height),maskCtx.restore();for(var ctx=this.ctx,i=0,ii=positions.length;i<ii;i+=2)ctx.save(),ctx.transform(scaleX,0,0,scaleY,positions[i],positions[i+1]),ctx.scale(1,-1),ctx.drawImage(maskCanvas.canvas,0,0,width,height,0,-1,1,1),ctx.restore()},paintImageMaskXObjectGroup:function(images){for(var ctx=this.ctx,fillColor=this.current.fillColor,isPatternFill=this.current.patternFill,i=0,ii=images.length;i<ii;i++){var image=images[i],width=image.width,height=image.height,maskCanvas=this.cachedCanvases.getCanvas("maskCanvas",width,height),maskCtx=maskCanvas.context;maskCtx.save(),putBinaryImageMask(maskCtx,image),maskCtx.globalCompositeOperation="source-in",maskCtx.fillStyle=isPatternFill?fillColor.getPattern(maskCtx,this):fillColor,maskCtx.fillRect(0,0,width,height),maskCtx.restore(),ctx.save(),ctx.transform.apply(ctx,image.transform),ctx.scale(1,-1),ctx.drawImage(maskCanvas.canvas,0,0,width,height,0,-1,1,1),ctx.restore()}},paintImageXObject:function(objId){var imgData=this.objs.get(objId);imgData?this.paintInlineImageXObject(imgData):(0,_util.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(objId,scaleX,scaleY,positions){var imgData=this.objs.get(objId);if(imgData){for(var width=imgData.width,height=imgData.height,map=[],i=0,ii=positions.length;i<ii;i+=2)map.push({transform:[scaleX,0,0,scaleY,positions[i],positions[i+1]],x:0,y:0,w:width,h:height});this.paintInlineImageXObjectGroup(imgData,map)}else(0,_util.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(imgData){var width=imgData.width,height=imgData.height,ctx=this.ctx;this.save(),ctx.scale(1/width,-1/height);var imgToPaint,tmpCanvas,currentTransform=ctx.mozCurrentTransformInverse,a=currentTransform[0],b=currentTransform[1],widthScale=Math.max(Math.sqrt(a*a+b*b),1),c=currentTransform[2],d=currentTransform[3],heightScale=Math.max(Math.sqrt(c*c+d*d),1);if("function"==typeof HTMLElement&&imgData instanceof HTMLElement||!imgData.data)imgToPaint=imgData;else{var tmpCtx=(tmpCanvas=this.cachedCanvases.getCanvas("inlineImage",width,height)).context;putBinaryImageData(tmpCtx,imgData),imgToPaint=tmpCanvas.canvas}for(var paintWidth=width,paintHeight=height,tmpCanvasId="prescale1";widthScale>2&&paintWidth>1||heightScale>2&&paintHeight>1;){var newWidth=paintWidth,newHeight=paintHeight;widthScale>2&&paintWidth>1&&(widthScale/=paintWidth/(newWidth=Math.ceil(paintWidth/2))),heightScale>2&&paintHeight>1&&(heightScale/=paintHeight/(newHeight=Math.ceil(paintHeight/2))),(tmpCtx=(tmpCanvas=this.cachedCanvases.getCanvas(tmpCanvasId,newWidth,newHeight)).context).clearRect(0,0,newWidth,newHeight),tmpCtx.drawImage(imgToPaint,0,0,paintWidth,paintHeight,0,0,newWidth,newHeight),imgToPaint=tmpCanvas.canvas,paintWidth=newWidth,paintHeight=newHeight,tmpCanvasId="prescale1"===tmpCanvasId?"prescale2":"prescale1"}if(ctx.drawImage(imgToPaint,0,0,paintWidth,paintHeight,0,-height,width,height),this.imageLayer){var position=this.getCanvasPosition(0,-height);this.imageLayer.appendImage({imgData:imgData,left:position[0],top:position[1],width:width/currentTransform[0],height:height/currentTransform[3]})}this.restore()},paintInlineImageXObjectGroup:function(imgData,map){var ctx=this.ctx,w=imgData.width,h=imgData.height,tmpCanvas=this.cachedCanvases.getCanvas("inlineImage",w,h);putBinaryImageData(tmpCanvas.context,imgData);for(var i=0,ii=map.length;i<ii;i++){var entry=map[i];if(ctx.save(),ctx.transform.apply(ctx,entry.transform),ctx.scale(1,-1),ctx.drawImage(tmpCanvas.canvas,entry.x,entry.y,entry.w,entry.h,0,-1,1,1),this.imageLayer){var position=this.getCanvasPosition(entry.x,entry.y);this.imageLayer.appendImage({imgData:imgData,left:position[0],top:position[1],width:w,height:h})}ctx.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,_util.warn)("Unsupported 'paintXObject' command.")},markPoint:function(tag){},markPointProps:function(tag,properties){},beginMarkedContent:function(tag){},beginMarkedContentProps:function(tag,properties){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var ctx=this.ctx;this.pendingClip&&(this.pendingClip===EO_CLIP?ctx.clip("evenodd"):ctx.clip(),this.pendingClip=null),ctx.beginPath()},getSinglePixelWidth:function(scale){if(null===this._cachedGetSinglePixelWidth){var inverse=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(inverse[0]*inverse[0]+inverse[1]*inverse[1],inverse[2]*inverse[2]+inverse[3]*inverse[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(x,y){var transform=this.ctx.mozCurrentTransform;return[transform[0]*x+transform[2]*y+transform[4],transform[1]*x+transform[3]*y+transform[5]]}},_util.OPS)CanvasGraphics.prototype[_util.OPS[op]]=CanvasGraphics.prototype[op];return CanvasGraphics}();exports.CanvasGraphics=CanvasGraphics},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TilingPattern=exports.getShadingPatternFromIR=void 0;var _util=__w_pdfjs_require__(1),ShadingIRs={RadialAxial:{fromIR:function(raw){var type=raw[1],colorStops=raw[2],p0=raw[3],p1=raw[4],r0=raw[5],r1=raw[6];return{type:"Pattern",getPattern:function(ctx){var grad;"axial"===type?grad=ctx.createLinearGradient(p0[0],p0[1],p1[0],p1[1]):"radial"===type&&(grad=ctx.createRadialGradient(p0[0],p0[1],r0,p1[0],p1[1],r1));for(var i=0,ii=colorStops.length;i<ii;++i){var c=colorStops[i];grad.addColorStop(c[0],c[1])}return grad}}}}},createMeshCanvas=function(){function drawTriangle(data,context,p1,p2,p3,c1,c2,c3){var tmp,coords=context.coords,colors=context.colors,bytes=data.data,rowSize=4*data.width;coords[p1+1]>coords[p2+1]&&(tmp=p1,p1=p2,p2=tmp,tmp=c1,c1=c2,c2=tmp),coords[p2+1]>coords[p3+1]&&(tmp=p2,p2=p3,p3=tmp,tmp=c2,c2=c3,c3=tmp),coords[p1+1]>coords[p2+1]&&(tmp=p1,p1=p2,p2=tmp,tmp=c1,c1=c2,c2=tmp);var x1=(coords[p1]+context.offsetX)*context.scaleX,y1=(coords[p1+1]+context.offsetY)*context.scaleY,x2=(coords[p2]+context.offsetX)*context.scaleX,y2=(coords[p2+1]+context.offsetY)*context.scaleY,x3=(coords[p3]+context.offsetX)*context.scaleX,y3=(coords[p3+1]+context.offsetY)*context.scaleY;if(!(y1>=y3))for(var xa,car,cag,cab,xb,cbr,cbg,cbb,k,c1r=colors[c1],c1g=colors[c1+1],c1b=colors[c1+2],c2r=colors[c2],c2g=colors[c2+1],c2b=colors[c2+2],c3r=colors[c3],c3g=colors[c3+1],c3b=colors[c3+2],minY=Math.round(y1),maxY=Math.round(y3),y=minY;y<=maxY;y++){y<y2?(xa=x1-(x1-x2)*(k=y<y1?0:y1===y2?1:(y1-y)/(y1-y2)),car=c1r-(c1r-c2r)*k,cag=c1g-(c1g-c2g)*k,cab=c1b-(c1b-c2b)*k):(xa=x2-(x2-x3)*(k=y>y3?1:y2===y3?0:(y2-y)/(y2-y3)),car=c2r-(c2r-c3r)*k,cag=c2g-(c2g-c3g)*k,cab=c2b-(c2b-c3b)*k),xb=x1-(x1-x3)*(k=y<y1?0:y>y3?1:(y1-y)/(y1-y3)),cbr=c1r-(c1r-c3r)*k,cbg=c1g-(c1g-c3g)*k,cbb=c1b-(c1b-c3b)*k;for(var x1_=Math.round(Math.min(xa,xb)),x2_=Math.round(Math.max(xa,xb)),j=rowSize*y+4*x1_,x=x1_;x<=x2_;x++)k=(k=(xa-x)/(xa-xb))<0?0:k>1?1:k,bytes[j++]=car-(car-cbr)*k|0,bytes[j++]=cag-(cag-cbg)*k|0,bytes[j++]=cab-(cab-cbb)*k|0,bytes[j++]=255}}function drawFigure(data,figure,context){var i,ii,ps=figure.coords,cs=figure.colors;switch(figure.type){case"lattice":var verticesPerRow=figure.verticesPerRow,rows=Math.floor(ps.length/verticesPerRow)-1,cols=verticesPerRow-1;for(i=0;i<rows;i++)for(var q=i*verticesPerRow,j=0;j<cols;j++,q++)drawTriangle(data,context,ps[q],ps[q+1],ps[q+verticesPerRow],cs[q],cs[q+1],cs[q+verticesPerRow]),drawTriangle(data,context,ps[q+verticesPerRow+1],ps[q+1],ps[q+verticesPerRow],cs[q+verticesPerRow+1],cs[q+1],cs[q+verticesPerRow]);break;case"triangles":for(i=0,ii=ps.length;i<ii;i+=3)drawTriangle(data,context,ps[i],ps[i+1],ps[i+2],cs[i],cs[i+1],cs[i+2]);break;default:throw new Error("illegal figure")}}return function(bounds,combinesScale,coords,colors,figures,backgroundColor,cachedCanvases,webGLContext){var canvas,tmpCanvas,i,ii,offsetX=Math.floor(bounds[0]),offsetY=Math.floor(bounds[1]),boundsWidth=Math.ceil(bounds[2])-offsetX,boundsHeight=Math.ceil(bounds[3])-offsetY,width=Math.min(Math.ceil(Math.abs(boundsWidth*combinesScale[0]*1.1)),3e3),height=Math.min(Math.ceil(Math.abs(boundsHeight*combinesScale[1]*1.1)),3e3),scaleX=boundsWidth/width,scaleY=boundsHeight/height,context={coords:coords,colors:colors,offsetX:-offsetX,offsetY:-offsetY,scaleX:1/scaleX,scaleY:1/scaleY},paddedWidth=width+4,paddedHeight=height+4;if(webGLContext.isEnabled)canvas=webGLContext.drawFigures({width:width,height:height,backgroundColor:backgroundColor,figures:figures,context:context}),(tmpCanvas=cachedCanvases.getCanvas("mesh",paddedWidth,paddedHeight,!1)).context.drawImage(canvas,2,2),canvas=tmpCanvas.canvas;else{var tmpCtx=(tmpCanvas=cachedCanvases.getCanvas("mesh",paddedWidth,paddedHeight,!1)).context,data=tmpCtx.createImageData(width,height);if(backgroundColor){var bytes=data.data;for(i=0,ii=bytes.length;i<ii;i+=4)bytes[i]=backgroundColor[0],bytes[i+1]=backgroundColor[1],bytes[i+2]=backgroundColor[2],bytes[i+3]=255}for(i=0;i<figures.length;i++)drawFigure(data,figures[i],context);tmpCtx.putImageData(data,2,2),canvas=tmpCanvas.canvas}return{canvas:canvas,offsetX:offsetX-2*scaleX,offsetY:offsetY-2*scaleY,scaleX:scaleX,scaleY:scaleY}}}();ShadingIRs.Mesh={fromIR:function(raw){var coords=raw[2],colors=raw[3],figures=raw[4],bounds=raw[5],matrix=raw[6],background=raw[8];return{type:"Pattern",getPattern:function(ctx,owner,shadingFill){var scale;if(shadingFill)scale=_util.Util.singularValueDecompose2dScale(ctx.mozCurrentTransform);else if(scale=_util.Util.singularValueDecompose2dScale(owner.baseTransform),matrix){var matrixScale=_util.Util.singularValueDecompose2dScale(matrix);scale=[scale[0]*matrixScale[0],scale[1]*matrixScale[1]]}var temporaryPatternCanvas=createMeshCanvas(bounds,scale,coords,colors,figures,shadingFill?null:background,owner.cachedCanvases,owner.webGLContext);return shadingFill||(ctx.setTransform.apply(ctx,owner.baseTransform),matrix&&ctx.transform.apply(ctx,matrix)),ctx.translate(temporaryPatternCanvas.offsetX,temporaryPatternCanvas.offsetY),ctx.scale(temporaryPatternCanvas.scaleX,temporaryPatternCanvas.scaleY),ctx.createPattern(temporaryPatternCanvas.canvas,"no-repeat")}}}},ShadingIRs.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var TilingPattern=function(){var PaintType_COLORED=1,PaintType_UNCOLORED=2;function TilingPattern(IR,color,ctx,canvasGraphicsFactory,baseTransform){this.operatorList=IR[2],this.matrix=IR[3]||[1,0,0,1,0,0],this.bbox=IR[4],this.xstep=IR[5],this.ystep=IR[6],this.paintType=IR[7],this.tilingType=IR[8],this.color=color,this.canvasGraphicsFactory=canvasGraphicsFactory,this.baseTransform=baseTransform,this.type="Pattern",this.ctx=ctx}return TilingPattern.prototype={createPatternCanvas:function(owner){var operatorList=this.operatorList,bbox=this.bbox,xstep=this.xstep,ystep=this.ystep,paintType=this.paintType,tilingType=this.tilingType,color=this.color,canvasGraphicsFactory=this.canvasGraphicsFactory;(0,_util.info)("TilingType: "+tilingType);var x0=bbox[0],y0=bbox[1],x1=bbox[2],y1=bbox[3],topLeft=[x0,y0],botRight=[x0+xstep,y0+ystep],width=botRight[0]-topLeft[0],height=botRight[1]-topLeft[1],matrixScale=_util.Util.singularValueDecompose2dScale(this.matrix),curMatrixScale=_util.Util.singularValueDecompose2dScale(this.baseTransform),combinedScale=[matrixScale[0]*curMatrixScale[0],matrixScale[1]*curMatrixScale[1]];width=Math.min(Math.ceil(Math.abs(width*combinedScale[0])),3e3),height=Math.min(Math.ceil(Math.abs(height*combinedScale[1])),3e3);var tmpCanvas=owner.cachedCanvases.getCanvas("pattern",width,height,!0),tmpCtx=tmpCanvas.context,graphics=canvasGraphicsFactory.createCanvasGraphics(tmpCtx);graphics.groupLevel=owner.groupLevel,this.setFillAndStrokeStyleToContext(graphics,paintType,color),this.setScale(width,height,xstep,ystep),this.transformToScale(graphics);var tmpTranslate=[1,0,0,1,-topLeft[0],-topLeft[1]];return graphics.transform.apply(graphics,tmpTranslate),this.clipBbox(graphics,bbox,x0,y0,x1,y1),graphics.executeOperatorList(operatorList),tmpCanvas.canvas},setScale:function(width,height,xstep,ystep){this.scale=[width/xstep,height/ystep]},transformToScale:function(graphics){var scale=this.scale,tmpScale=[scale[0],0,0,scale[1],0,0];graphics.transform.apply(graphics,tmpScale)},scaleToContext:function(){var scale=this.scale;this.ctx.scale(1/scale[0],1/scale[1])},clipBbox:function(graphics,bbox,x0,y0,x1,y1){if(Array.isArray(bbox)&&4===bbox.length){var bboxWidth=x1-x0,bboxHeight=y1-y0;graphics.ctx.rect(x0,y0,bboxWidth,bboxHeight),graphics.clip(),graphics.endPath()}},setFillAndStrokeStyleToContext:function(graphics,paintType,color){var context=graphics.ctx,current=graphics.current;switch(paintType){case PaintType_COLORED:var ctx=this.ctx;context.fillStyle=ctx.fillStyle,context.strokeStyle=ctx.strokeStyle,current.fillColor=ctx.fillStyle,current.strokeColor=ctx.strokeStyle;break;case PaintType_UNCOLORED:var cssColor=_util.Util.makeCssRgb(color[0],color[1],color[2]);context.fillStyle=cssColor,context.strokeStyle=cssColor,current.fillColor=cssColor,current.strokeColor=cssColor;break;default:throw new _util.FormatError("Unsupported paint type: "+paintType)}},getPattern:function(ctx,owner){var temporaryPatternCanvas=this.createPatternCanvas(owner);return(ctx=this.ctx).setTransform.apply(ctx,this.baseTransform),ctx.transform.apply(ctx,this.matrix),this.scaleToContext(),ctx.createPattern(temporaryPatternCanvas,"repeat")}},TilingPattern}();exports.getShadingPatternFromIR=function(raw){var shadingIR=ShadingIRs[raw[0]];if(!shadingIR)throw new Error("Unknown IR type: "+raw[0]);return shadingIR.fromIR(raw)},exports.TilingPattern=TilingPattern},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var GlobalWorkerOptions=Object.create(null);GlobalWorkerOptions.workerPort=void 0===GlobalWorkerOptions.workerPort?null:GlobalWorkerOptions.workerPort,GlobalWorkerOptions.workerSrc=void 0===GlobalWorkerOptions.workerSrc?"":GlobalWorkerOptions.workerSrc,exports.GlobalWorkerOptions=GlobalWorkerOptions},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MessageHandler=void 0;var obj,_ref,_regenerator=__w_pdfjs_require__(137),_regenerator2=(obj=_regenerator)&&obj.__esModule?obj:{default:obj},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},resolveCall=(_ref=function(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){return function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}("next")})}}(_regenerator2.default.mark(function _callee(fn,args){var thisArg=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(fn){_context.next=2;break}return _context.abrupt("return");case 2:return _context.abrupt("return",fn.apply(thisArg,args));case 3:case"end":return _context.stop()}},_callee,this)})),function(_x2,_x3){return _ref.apply(this,arguments)}),_util=__w_pdfjs_require__(1);function wrapReason(reason){if("object"!==(void 0===reason?"undefined":_typeof(reason)))return reason;switch(reason.name){case"AbortException":return new _util.AbortException(reason.message);case"MissingPDFException":return new _util.MissingPDFException(reason.message);case"UnexpectedResponseException":return new _util.UnexpectedResponseException(reason.message,reason.status);default:return new _util.UnknownErrorException(reason.message,reason.details)}}function makeReasonSerializable(reason){return!(reason instanceof Error)||reason instanceof _util.AbortException||reason instanceof _util.MissingPDFException||reason instanceof _util.UnexpectedResponseException||reason instanceof _util.UnknownErrorException?reason:new _util.UnknownErrorException(reason.message,reason.toString())}function resolveOrReject(capability,success,reason){success?capability.resolve():capability.reject(reason)}function MessageHandler(sourceName,targetName,comObj){var _this=this;this.sourceName=sourceName,this.targetName=targetName,this.comObj=comObj,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null);var callbacksCapabilities=this.callbacksCapabilities=Object.create(null),ah=this.actionHandler=Object.create(null);this._onComObjOnMessage=function(event){var data=event.data;if(data.targetName===_this.sourceName)if(data.stream)_this._processStreamMessage(data);else if(data.isReply){var callbackId=data.callbackId;if(!(data.callbackId in callbacksCapabilities))throw new Error("Cannot resolve callback "+callbackId);var callback=callbacksCapabilities[callbackId];delete callbacksCapabilities[callbackId],"error"in data?callback.reject(wrapReason(data.error)):callback.resolve(data.data)}else{if(!(data.action in ah))throw new Error("Unknown action from worker: "+data.action);var action=ah[data.action];if(data.callbackId){var _sourceName=_this.sourceName,_targetName=data.sourceName;Promise.resolve().then(function(){return action[0].call(action[1],data.data)}).then(function(result){comObj.postMessage({sourceName:_sourceName,targetName:_targetName,isReply:!0,callbackId:data.callbackId,data:result})},function(reason){comObj.postMessage({sourceName:_sourceName,targetName:_targetName,isReply:!0,callbackId:data.callbackId,error:makeReasonSerializable(reason)})})}else data.streamId?_this._createStreamSink(data):action[0].call(action[1],data.data)}},comObj.addEventListener("message",this._onComObjOnMessage)}MessageHandler.prototype={on:function(actionName,handler,scope){var ah=this.actionHandler;if(ah[actionName])throw new Error('There is already an actionName called "'+actionName+'"');ah[actionName]=[handler,scope]},send:function(actionName,data,transfers){var message={sourceName:this.sourceName,targetName:this.targetName,action:actionName,data:data};this.postMessage(message,transfers)},sendWithPromise:function(actionName,data,transfers){var callbackId=this.callbackId++,message={sourceName:this.sourceName,targetName:this.targetName,action:actionName,data:data,callbackId:callbackId},capability=(0,_util.createPromiseCapability)();this.callbacksCapabilities[callbackId]=capability;try{this.postMessage(message,transfers)}catch(e){capability.reject(e)}return capability.promise},sendWithStream:function(actionName,data,queueingStrategy,transfers){var _this2=this,streamId=this.streamId++,sourceName=this.sourceName,targetName=this.targetName;return new _util.ReadableStream({start:function(controller){var startCapability=(0,_util.createPromiseCapability)();return _this2.streamControllers[streamId]={controller:controller,startCall:startCapability,isClosed:!1},_this2.postMessage({sourceName:sourceName,targetName:targetName,action:actionName,streamId:streamId,data:data,desiredSize:controller.desiredSize}),startCapability.promise},pull:function(controller){var pullCapability=(0,_util.createPromiseCapability)();return _this2.streamControllers[streamId].pullCall=pullCapability,_this2.postMessage({sourceName:sourceName,targetName:targetName,stream:"pull",streamId:streamId,desiredSize:controller.desiredSize}),pullCapability.promise},cancel:function(reason){var cancelCapability=(0,_util.createPromiseCapability)();return _this2.streamControllers[streamId].cancelCall=cancelCapability,_this2.streamControllers[streamId].isClosed=!0,_this2.postMessage({sourceName:sourceName,targetName:targetName,stream:"cancel",reason:reason,streamId:streamId}),cancelCapability.promise}},queueingStrategy)},_createStreamSink:function(data){var _this3=this,self=this,action=this.actionHandler[data.action],streamId=data.streamId,desiredSize=data.desiredSize,sourceName=this.sourceName,targetName=data.sourceName,capability=(0,_util.createPromiseCapability)(),sendStreamRequest=function(_ref2){var stream=_ref2.stream,chunk=_ref2.chunk,transfers=_ref2.transfers,success=_ref2.success,reason=_ref2.reason;_this3.postMessage({sourceName:sourceName,targetName:targetName,stream:stream,streamId:streamId,chunk:chunk,success:success,reason:reason},transfers)},streamSink={enqueue:function(chunk){var size=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,transfers=arguments[2];if(!this.isCancelled){var lastDesiredSize=this.desiredSize;this.desiredSize-=size,lastDesiredSize>0&&this.desiredSize<=0&&(this.sinkCapability=(0,_util.createPromiseCapability)(),this.ready=this.sinkCapability.promise),sendStreamRequest({stream:"enqueue",chunk:chunk,transfers:transfers})}},close:function(){this.isCancelled||(this.isCancelled=!0,sendStreamRequest({stream:"close"}),delete self.streamSinks[streamId])},error:function(reason){this.isCancelled||(this.isCancelled=!0,sendStreamRequest({stream:"error",reason:reason}))},sinkCapability:capability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:desiredSize,ready:null};streamSink.sinkCapability.resolve(),streamSink.ready=streamSink.sinkCapability.promise,this.streamSinks[streamId]=streamSink,resolveCall(action[0],[data.data,streamSink],action[1]).then(function(){sendStreamRequest({stream:"start_complete",success:!0})},function(reason){sendStreamRequest({stream:"start_complete",success:!1,reason:reason})})},_processStreamMessage:function(data){var _this4=this,sourceName=this.sourceName,targetName=data.sourceName,streamId=data.streamId,sendStreamResponse=function(_ref3){var stream=_ref3.stream,success=_ref3.success,reason=_ref3.reason;_this4.comObj.postMessage({sourceName:sourceName,targetName:targetName,stream:stream,success:success,streamId:streamId,reason:reason})},deleteStreamController=function(){Promise.all([_this4.streamControllers[data.streamId].startCall,_this4.streamControllers[data.streamId].pullCall,_this4.streamControllers[data.streamId].cancelCall].map(function(capability){return capability&&(promise=capability.promise,Promise.resolve(promise).catch(function(){}));var promise})).then(function(){delete _this4.streamControllers[data.streamId]})};switch(data.stream){case"start_complete":resolveOrReject(this.streamControllers[data.streamId].startCall,data.success,wrapReason(data.reason));break;case"pull_complete":resolveOrReject(this.streamControllers[data.streamId].pullCall,data.success,wrapReason(data.reason));break;case"pull":if(!this.streamSinks[data.streamId]){sendStreamResponse({stream:"pull_complete",success:!0});break}this.streamSinks[data.streamId].desiredSize<=0&&data.desiredSize>0&&this.streamSinks[data.streamId].sinkCapability.resolve(),this.streamSinks[data.streamId].desiredSize=data.desiredSize,resolveCall(this.streamSinks[data.streamId].onPull).then(function(){sendStreamResponse({stream:"pull_complete",success:!0})},function(reason){sendStreamResponse({stream:"pull_complete",success:!1,reason:reason})});break;case"enqueue":(0,_util.assert)(this.streamControllers[data.streamId],"enqueue should have stream controller"),this.streamControllers[data.streamId].isClosed||this.streamControllers[data.streamId].controller.enqueue(data.chunk);break;case"close":if((0,_util.assert)(this.streamControllers[data.streamId],"close should have stream controller"),this.streamControllers[data.streamId].isClosed)break;this.streamControllers[data.streamId].isClosed=!0,this.streamControllers[data.streamId].controller.close(),deleteStreamController();break;case"error":(0,_util.assert)(this.streamControllers[data.streamId],"error should have stream controller"),this.streamControllers[data.streamId].controller.error(wrapReason(data.reason)),deleteStreamController();break;case"cancel_complete":resolveOrReject(this.streamControllers[data.streamId].cancelCall,data.success,wrapReason(data.reason)),deleteStreamController();break;case"cancel":if(!this.streamSinks[data.streamId])break;resolveCall(this.streamSinks[data.streamId].onCancel,[wrapReason(data.reason)]).then(function(){sendStreamResponse({stream:"cancel_complete",success:!0})},function(reason){sendStreamResponse({stream:"cancel_complete",success:!1,reason:reason})}),this.streamSinks[data.streamId].sinkCapability.reject(wrapReason(data.reason)),this.streamSinks[data.streamId].isCancelled=!0,delete this.streamSinks[data.streamId];break;default:throw new Error("Unexpected stream case")}},postMessage:function(message,transfers){transfers&&this.postMessageTransfers?this.comObj.postMessage(message,transfers):this.comObj.postMessage(message)},destroy:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}},exports.MessageHandler=MessageHandler},function(module,exports,__w_pdfjs_require__){"use strict";module.exports=__w_pdfjs_require__(138)},function(module,exports,__w_pdfjs_require__){"use strict";var g=function(){return this}()||Function("return this")(),hadRuntime=g.regeneratorRuntime&&Object.getOwnPropertyNames(g).indexOf("regeneratorRuntime")>=0,oldRuntime=hadRuntime&&g.regeneratorRuntime;if(g.regeneratorRuntime=void 0,module.exports=__w_pdfjs_require__(139),hadRuntime)g.regeneratorRuntime=oldRuntime;else try{delete g.regeneratorRuntime}catch(e){g.regeneratorRuntime=void 0}},function(module,exports,__w_pdfjs_require__){"use strict";(function(module){var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};!function(global){var undefined,Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag",inModule="object"===_typeof(module),runtime=global.regeneratorRuntime;if(runtime)inModule&&(module.exports=runtime);else{(runtime=global.regeneratorRuntime=inModule?module.exports:{}).wrap=wrap;var GenStateSuspendedStart="suspendedStart",GenStateSuspendedYield="suspendedYield",GenStateExecuting="executing",GenStateCompleted="completed",ContinueSentinel={},IteratorPrototype={};IteratorPrototype[iteratorSymbol]=function(){return this};var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[toStringTagSymbol]=GeneratorFunction.displayName="GeneratorFunction",runtime.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},runtime.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,toStringTagSymbol in genFun||(genFun[toStringTagSymbol]="GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},runtime.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[asyncIteratorSymbol]=function(){return this},runtime.AsyncIterator=AsyncIterator,runtime.async=function(innerFn,outerFn,self,tryLocsList){var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList));return runtime.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})},defineIteratorMethods(Gp),Gp[toStringTagSymbol]="Generator",Gp[iteratorSymbol]=function(){return this},Gp.toString=function(){return"[object Generator]"},runtime.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},runtime.values=values,Context.prototype={constructor:Context,reset:function(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=undefined)},stop:function(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=undefined),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=undefined),ContinueSentinel}}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=function(innerFn,self,context){var state=GenStateSuspendedStart;return function(method,arg){if(state===GenStateExecuting)throw new Error("Generator is already running");if(state===GenStateCompleted){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if(state===GenStateSuspendedStart)throw state=GenStateCompleted,context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state=GenStateExecuting;var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?GenStateCompleted:GenStateSuspendedYield,record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state=GenStateCompleted,context.method="throw",context.arg=record.arg)}}}(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){prototype[method]=function(arg){return this._invoke(method,arg)}})}function AsyncIterator(generator){var previousPromise;this._invoke=function(method,arg){function callInvokeWithMethodAndArg(){return new Promise(function(resolve,reject){!function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"===(void 0===value?"undefined":_typeof(value))&&hasOwn.call(value,"__await")?Promise.resolve(value.__await).then(function(value){invoke("next",value,resolve,reject)},function(err){invoke("throw",err,resolve,reject)}):Promise.resolve(value).then(function(unwrapped){result.value=unwrapped,resolve(result)},reject)}reject(record.arg)}(method,arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(method===undefined){if(context.delegate=null,"throw"===context.method){if(delegate.iterator.return&&(context.method="return",context.arg=undefined,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=undefined),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=undefined,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:undefined,done:!0}}}(function(){return this}()||Function("return this")())}).call(this,__w_pdfjs_require__(140)(module))},function(module,exports,__w_pdfjs_require__){"use strict";module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Metadata=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_util=__w_pdfjs_require__(1),_xml_parser=__w_pdfjs_require__(142);var Metadata=function(){function Metadata(data){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Metadata),(0,_util.assert)("string"==typeof data,"Metadata: input is not a string"),data=this._repair(data);var xmlDocument=(new _xml_parser.SimpleXMLParser).parseFromString(data);this._metadata=Object.create(null),xmlDocument&&this._parse(xmlDocument)}return _createClass(Metadata,[{key:"_repair",value:function(data){return data.replace(/>\\376\\377([^<]+)/g,function(all,codes){for(var bytes=codes.replace(/\\([0-3])([0-7])([0-7])/g,function(code,d1,d2,d3){return String.fromCharCode(64*d1+8*d2+1*d3)}).replace(/&(amp|apos|gt|lt|quot);/g,function(str,name){switch(name){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error("_repair: "+name+" isn't defined.")}),chars="",i=0,ii=bytes.length;i<ii;i+=2){var code=256*bytes.charCodeAt(i)+bytes.charCodeAt(i+1);chars+=code>=32&&code<127&&60!==code&&62!==code&&38!==code?String.fromCharCode(code):"&#x"+(65536+code).toString(16).substring(1)+";"}return">"+chars})}},{key:"_parse",value:function(xmlDocument){var rdf=xmlDocument.documentElement;if("rdf:rdf"!==rdf.nodeName.toLowerCase())for(rdf=rdf.firstChild;rdf&&"rdf:rdf"!==rdf.nodeName.toLowerCase();)rdf=rdf.nextSibling;var nodeName=rdf?rdf.nodeName.toLowerCase():null;if(rdf&&"rdf:rdf"===nodeName&&rdf.hasChildNodes())for(var children=rdf.childNodes,i=0,ii=children.length;i<ii;i++){var desc=children[i];if("rdf:description"===desc.nodeName.toLowerCase())for(var j=0,jj=desc.childNodes.length;j<jj;j++)if("#text"!==desc.childNodes[j].nodeName.toLowerCase()){var entry=desc.childNodes[j],name=entry.nodeName.toLowerCase();this._metadata[name]=entry.textContent.trim()}}}},{key:"get",value:function(name){return this._metadata[name]||null}},{key:"getAll",value:function(){return this._metadata}},{key:"has",value:function(name){return void 0!==this._metadata[name]}}]),Metadata}();exports.Metadata=Metadata},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var XMLParserErrorCode={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};function isWhitespace(s,index){var ch=s[index];return" "===ch||"\n"===ch||"\r"===ch||"\t"===ch}var XMLParserBase=function(){function XMLParserBase(){_classCallCheck(this,XMLParserBase)}return _createClass(XMLParserBase,[{key:"_resolveEntities",value:function(s){return s.replace(/&([^;]+);/g,function(all,entity){if("#x"===entity.substring(0,2))return String.fromCharCode(parseInt(entity.substring(2),16));if("#"===entity.substring(0,1))return String.fromCharCode(parseInt(entity.substring(1),10));switch(entity){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return this.onResolveEntity(entity)})}},{key:"_parseContent",value:function(s,start){var name,pos=start,attributes=[];function skipWs(){for(;pos<s.length&&isWhitespace(s,pos);)++pos}for(;pos<s.length&&!isWhitespace(s,pos)&&">"!==s[pos]&&"/"!==s[pos];)++pos;for(name=s.substring(start,pos),skipWs();pos<s.length&&">"!==s[pos]&&"/"!==s[pos]&&"?"!==s[pos];){skipWs();for(var attrValue,attrName="";pos<s.length&&!isWhitespace(s,pos)&&"="!==s[pos];)attrName+=s[pos],++pos;if(skipWs(),"="!==s[pos])return null;++pos,skipWs();var attrEndChar=s[pos];if('"'!==attrEndChar&&"'"!==attrEndChar)return null;var attrEndIndex=s.indexOf(attrEndChar,++pos);if(attrEndIndex<0)return null;attrValue=s.substring(pos,attrEndIndex),attributes.push({name:attrName,value:this._resolveEntities(attrValue)}),pos=attrEndIndex+1,skipWs()}return{name:name,attributes:attributes,parsed:pos-start}}},{key:"_parseProcessingInstruction",value:function(s,start){var name,pos=start;for(;pos<s.length&&!isWhitespace(s,pos)&&">"!==s[pos]&&"/"!==s[pos];)++pos;name=s.substring(start,pos),function(){for(;pos<s.length&&isWhitespace(s,pos);)++pos}();for(var attrStart=pos;pos<s.length&&("?"!==s[pos]||">"!==s[pos+1]);)++pos;return{name:name,value:s.substring(attrStart,pos),parsed:pos-start}}},{key:"parseXml",value:function(s){for(var i=0;i<s.length;){var j=i;if("<"===s[i]){var q=void 0;switch(s[++j]){case"/":if(++j,(q=s.indexOf(">",j))<0)return void this.onError(XMLParserErrorCode.UnterminatedElement);this.onEndElement(s.substring(j,q)),j=q+1;break;case"?":++j;var pi=this._parseProcessingInstruction(s,j);if("?>"!==s.substring(j+pi.parsed,j+pi.parsed+2))return void this.onError(XMLParserErrorCode.UnterminatedXmlDeclaration);this.onPi(pi.name,pi.value),j+=pi.parsed+2;break;case"!":if("--"===s.substring(j+1,j+3)){if((q=s.indexOf("--\x3e",j+3))<0)return void this.onError(XMLParserErrorCode.UnterminatedComment);this.onComment(s.substring(j+3,q)),j=q+3}else if("[CDATA["===s.substring(j+1,j+8)){if((q=s.indexOf("]]>",j+8))<0)return void this.onError(XMLParserErrorCode.UnterminatedCdat);this.onCdata(s.substring(j+8,q)),j=q+3}else{if("DOCTYPE"!==s.substring(j+1,j+8))return void this.onError(XMLParserErrorCode.MalformedElement);var q2=s.indexOf("[",j+8),complexDoctype=!1;if((q=s.indexOf(">",j+8))<0)return void this.onError(XMLParserErrorCode.UnterminatedDoctypeDeclaration);if(q2>0&&q>q2){if((q=s.indexOf("]>",j+8))<0)return void this.onError(XMLParserErrorCode.UnterminatedDoctypeDeclaration);complexDoctype=!0}var doctypeContent=s.substring(j+8,q+(complexDoctype?1:0));this.onDoctype(doctypeContent),j=q+(complexDoctype?2:1)}break;default:var content=this._parseContent(s,j);if(null===content)return void this.onError(XMLParserErrorCode.MalformedElement);var isClosed=!1;if("/>"===s.substring(j+content.parsed,j+content.parsed+2))isClosed=!0;else if(">"!==s.substring(j+content.parsed,j+content.parsed+1))return void this.onError(XMLParserErrorCode.UnterminatedElement);this.onBeginElement(content.name,content.attributes,isClosed),j+=content.parsed+(isClosed?2:1)}}else{for(;j<s.length&&"<"!==s[j];)j++;var text=s.substring(i,j);this.onText(this._resolveEntities(text))}i=j}}},{key:"onResolveEntity",value:function(name){return"&"+name+";"}},{key:"onPi",value:function(name,value){}},{key:"onComment",value:function(text){}},{key:"onCdata",value:function(text){}},{key:"onDoctype",value:function(doctypeContent){}},{key:"onText",value:function(text){}},{key:"onBeginElement",value:function(name,attributes,isEmpty){}},{key:"onEndElement",value:function(name){}},{key:"onError",value:function(code){}}]),XMLParserBase}(),SimpleDOMNode=function(){function SimpleDOMNode(nodeName,nodeValue){_classCallCheck(this,SimpleDOMNode),this.nodeName=nodeName,this.nodeValue=nodeValue,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}return _createClass(SimpleDOMNode,[{key:"hasChildNodes",value:function(){return this.childNodes&&this.childNodes.length>0}},{key:"firstChild",get:function(){return this.childNodes[0]}},{key:"nextSibling",get:function(){var index=this.parentNode.childNodes.indexOf(this);return this.parentNode.childNodes[index+1]}},{key:"textContent",get:function(){return this.childNodes?this.childNodes.map(function(child){return child.textContent}).join(""):this.nodeValue||""}}]),SimpleDOMNode}(),SimpleXMLParser=function(_XMLParserBase){function SimpleXMLParser(){_classCallCheck(this,SimpleXMLParser);var _this=function(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(SimpleXMLParser.__proto__||Object.getPrototypeOf(SimpleXMLParser)).call(this));return _this._currentFragment=null,_this._stack=null,_this._errorCode=XMLParserErrorCode.NoError,_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(SimpleXMLParser,XMLParserBase),_createClass(SimpleXMLParser,[{key:"parseFromString",value:function(data){if(this._currentFragment=[],this._stack=[],this._errorCode=XMLParserErrorCode.NoError,this.parseXml(data),this._errorCode===XMLParserErrorCode.NoError){var documentElement=_slicedToArray(this._currentFragment,1)[0];if(documentElement)return{documentElement:documentElement}}}},{key:"onResolveEntity",value:function(name){switch(name){case"apos":return"'"}return function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0}(SimpleXMLParser.prototype.__proto__||Object.getPrototypeOf(SimpleXMLParser.prototype),"onResolveEntity",this).call(this,name)}},{key:"onText",value:function(text){if(!function(s){for(var i=0,ii=s.length;i<ii;i++)if(!isWhitespace(s,i))return!1;return!0}(text)){var node=new SimpleDOMNode("#text",text);this._currentFragment.push(node)}}},{key:"onCdata",value:function(text){var node=new SimpleDOMNode("#text",text);this._currentFragment.push(node)}},{key:"onBeginElement",value:function(name,attributes,isEmpty){var node=new SimpleDOMNode(name);node.childNodes=[],this._currentFragment.push(node),isEmpty||(this._stack.push(this._currentFragment),this._currentFragment=node.childNodes)}},{key:"onEndElement",value:function(name){this._currentFragment=this._stack.pop();for(var lastElement=this._currentFragment[this._currentFragment.length-1],i=0,ii=lastElement.childNodes.length;i<ii;i++)lastElement.childNodes[i].parentNode=lastElement}},{key:"onError",value:function(code){this._errorCode=code}}]),SimpleXMLParser}();exports.SimpleXMLParser=SimpleXMLParser},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFDataTransportStream=void 0;var obj,_regenerator=__w_pdfjs_require__(137),_regenerator2=(obj=_regenerator)&&obj.__esModule?obj:{default:obj},_util=__w_pdfjs_require__(1);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){return function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}("next")})}}var PDFDataTransportStream=function(){function PDFDataTransportStream(params,pdfDataRangeTransport){var _this=this;(0,_util.assert)(pdfDataRangeTransport),this._queuedChunks=[];var initialData=params.initialData;if(initialData&&initialData.length>0){var buffer=new Uint8Array(initialData).buffer;this._queuedChunks.push(buffer)}this._pdfDataRangeTransport=pdfDataRangeTransport,this._isStreamingSupported=!params.disableStream,this._isRangeSupported=!params.disableRange,this._contentLength=params.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(begin,chunk){_this._onReceiveData({begin:begin,chunk:chunk})}),this._pdfDataRangeTransport.addProgressListener(function(loaded){_this._onProgress({loaded:loaded})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(chunk){_this._onReceiveData({chunk:chunk})}),this._pdfDataRangeTransport.transportReady()}function PDFDataTransportStreamReader(stream,queuedChunks){this._stream=stream,this._done=!1,this._filename=null,this._queuedChunks=queuedChunks||[],this._requests=[],this._headersReady=Promise.resolve(),stream._fullRequestReader=this,this.onProgress=null}var _ref,_ref2;function PDFDataTransportStreamRangeReader(stream,begin,end){this._stream=stream,this._begin=begin,this._end=end,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return PDFDataTransportStream.prototype={_onReceiveData:function(args){var buffer=new Uint8Array(args.chunk).buffer;if(void 0===args.begin)this._fullRequestReader?this._fullRequestReader._enqueue(buffer):this._queuedChunks.push(buffer);else{var found=this._rangeReaders.some(function(rangeReader){return rangeReader._begin===args.begin&&(rangeReader._enqueue(buffer),!0)});(0,_util.assert)(found)}},_onProgress:function(evt){if(this._rangeReaders.length>0){var firstReader=this._rangeReaders[0];firstReader.onProgress&&firstReader.onProgress({loaded:evt.loaded})}},_removeRangeReader:function(reader){var i=this._rangeReaders.indexOf(reader);i>=0&&this._rangeReaders.splice(i,1)},getFullReader:function(){(0,_util.assert)(!this._fullRequestReader);var queuedChunks=this._queuedChunks;return this._queuedChunks=null,new PDFDataTransportStreamReader(this,queuedChunks)},getRangeReader:function(begin,end){var reader=new PDFDataTransportStreamRangeReader(this,begin,end);return this._pdfDataRangeTransport.requestDataRange(begin,end),this._rangeReaders.push(reader),reader},cancelAllRequests:function(reason){this._fullRequestReader&&this._fullRequestReader.cancel(reason),this._rangeReaders.slice(0).forEach(function(rangeReader){rangeReader.cancel(reason)}),this._pdfDataRangeTransport.abort()}},PDFDataTransportStreamReader.prototype={_enqueue:function(chunk){this._done||(this._requests.length>0?this._requests.shift().resolve({value:chunk,done:!1}):this._queuedChunks.push(chunk))},get headersReady(){return this._headersReady},get filename(){return this._filename},get isRangeSupported(){return this._stream._isRangeSupported},get isStreamingSupported(){return this._stream._isStreamingSupported},get contentLength(){return this._stream._contentLength},read:(_ref=_asyncToGenerator(_regenerator2.default.mark(function _callee(){var chunk,requestCapability;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!(this._queuedChunks.length>0)){_context.next=3;break}return chunk=this._queuedChunks.shift(),_context.abrupt("return",{value:chunk,done:!1});case 3:if(!this._done){_context.next=5;break}return _context.abrupt("return",{value:void 0,done:!0});case 5:return requestCapability=(0,_util.createPromiseCapability)(),this._requests.push(requestCapability),_context.abrupt("return",requestCapability.promise);case 8:case"end":return _context.stop()}},_callee,this)})),function(){return _ref.apply(this,arguments)}),cancel:function(reason){this._done=!0,this._requests.forEach(function(requestCapability){requestCapability.resolve({value:void 0,done:!0})}),this._requests=[]}},PDFDataTransportStreamRangeReader.prototype={_enqueue:function(chunk){if(!this._done){if(0===this._requests.length)this._queuedChunk=chunk;else this._requests.shift().resolve({value:chunk,done:!1}),this._requests.forEach(function(requestCapability){requestCapability.resolve({value:void 0,done:!0})}),this._requests=[];this._done=!0,this._stream._removeRangeReader(this)}},get isStreamingSupported(){return!1},read:(_ref2=_asyncToGenerator(_regenerator2.default.mark(function _callee2(){var chunk,requestCapability;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(!this._queuedChunk){_context2.next=4;break}return chunk=this._queuedChunk,this._queuedChunk=null,_context2.abrupt("return",{value:chunk,done:!1});case 4:if(!this._done){_context2.next=6;break}return _context2.abrupt("return",{value:void 0,done:!0});case 6:return requestCapability=(0,_util.createPromiseCapability)(),this._requests.push(requestCapability),_context2.abrupt("return",requestCapability.promise);case 9:case"end":return _context2.stop()}},_callee2,this)})),function(){return _ref2.apply(this,arguments)}),cancel:function(reason){this._done=!0,this._requests.forEach(function(requestCapability){requestCapability.resolve({value:void 0,done:!0})}),this._requests=[],this._stream._removeRangeReader(this)}},PDFDataTransportStream}();exports.PDFDataTransportStream=PDFDataTransportStream},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WebGLContext=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_util=__w_pdfjs_require__(1);var WebGLContext=function(){function WebGLContext(_ref){var _ref$enable=_ref.enable,enable=void 0!==_ref$enable&&_ref$enable;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,WebGLContext),this._enabled=!0===enable}return _createClass(WebGLContext,[{key:"composeSMask",value:function(_ref2){var layer=_ref2.layer,mask=_ref2.mask,properties=_ref2.properties;return WebGLUtils.composeSMask(layer,mask,properties)}},{key:"drawFigures",value:function(_ref3){var width=_ref3.width,height=_ref3.height,backgroundColor=_ref3.backgroundColor,figures=_ref3.figures,context=_ref3.context;return WebGLUtils.drawFigures(width,height,backgroundColor,figures,context)}},{key:"clear",value:function(){WebGLUtils.cleanup()}},{key:"isEnabled",get:function(){var enabled=this._enabled;return enabled&&(enabled=WebGLUtils.tryInitGL()),(0,_util.shadow)(this,"isEnabled",enabled)}}]),WebGLContext}(),WebGLUtils=function(){function loadShader(gl,code,shaderType){var shader=gl.createShader(shaderType);if(gl.shaderSource(shader,code),gl.compileShader(shader),!gl.getShaderParameter(shader,gl.COMPILE_STATUS)){var errorMsg=gl.getShaderInfoLog(shader);throw new Error("Error during shader compilation: "+errorMsg)}return shader}function createVertexShader(gl,code){return loadShader(gl,code,gl.VERTEX_SHADER)}function createFragmentShader(gl,code){return loadShader(gl,code,gl.FRAGMENT_SHADER)}function createProgram(gl,shaders){for(var program=gl.createProgram(),i=0,ii=shaders.length;i<ii;++i)gl.attachShader(program,shaders[i]);if(gl.linkProgram(program),!gl.getProgramParameter(program,gl.LINK_STATUS)){var errorMsg=gl.getProgramInfoLog(program);throw new Error("Error during program linking: "+errorMsg)}return program}function createTexture(gl,image,textureId){gl.activeTexture(textureId);var texture=gl.createTexture();return gl.bindTexture(gl.TEXTURE_2D,texture),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,gl.CLAMP_TO_EDGE),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,gl.CLAMP_TO_EDGE),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.NEAREST),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.NEAREST),gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,image),texture}var currentGL,currentCanvas;function generateGL(){currentGL||(currentCanvas=document.createElement("canvas"),currentGL=currentCanvas.getContext("webgl",{premultipliedalpha:!1}))}var smaskVertexShaderCode="  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             ",smaskFragmentShaderCode="  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ",smaskCache=null;var figuresVertexShaderCode="  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             ",figuresFragmentShaderCode="  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ",figuresCache=null;return{tryInitGL:function(){try{return generateGL(),!!currentGL}catch(ex){}return!1},composeSMask:function(layer,mask,properties){var width=layer.width,height=layer.height;smaskCache||function(){var canvas,gl;generateGL(),canvas=currentCanvas,currentCanvas=null,gl=currentGL,currentGL=null;var program=createProgram(gl,[createVertexShader(gl,smaskVertexShaderCode),createFragmentShader(gl,smaskFragmentShaderCode)]);gl.useProgram(program);var cache={};cache.gl=gl,cache.canvas=canvas,cache.resolutionLocation=gl.getUniformLocation(program,"u_resolution"),cache.positionLocation=gl.getAttribLocation(program,"a_position"),cache.backdropLocation=gl.getUniformLocation(program,"u_backdrop"),cache.subtypeLocation=gl.getUniformLocation(program,"u_subtype");var texCoordLocation=gl.getAttribLocation(program,"a_texCoord"),texLayerLocation=gl.getUniformLocation(program,"u_image"),texMaskLocation=gl.getUniformLocation(program,"u_mask"),texCoordBuffer=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,texCoordBuffer),gl.bufferData(gl.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),gl.STATIC_DRAW),gl.enableVertexAttribArray(texCoordLocation),gl.vertexAttribPointer(texCoordLocation,2,gl.FLOAT,!1,0,0),gl.uniform1i(texLayerLocation,0),gl.uniform1i(texMaskLocation,1),smaskCache=cache}();var cache=smaskCache,canvas=cache.canvas,gl=cache.gl;canvas.width=width,canvas.height=height,gl.viewport(0,0,gl.drawingBufferWidth,gl.drawingBufferHeight),gl.uniform2f(cache.resolutionLocation,width,height),properties.backdrop?gl.uniform4f(cache.resolutionLocation,properties.backdrop[0],properties.backdrop[1],properties.backdrop[2],1):gl.uniform4f(cache.resolutionLocation,0,0,0,0),gl.uniform1i(cache.subtypeLocation,"Luminosity"===properties.subtype?1:0);var texture=createTexture(gl,layer,gl.TEXTURE0),maskTexture=createTexture(gl,mask,gl.TEXTURE1),buffer=gl.createBuffer();return gl.bindBuffer(gl.ARRAY_BUFFER,buffer),gl.bufferData(gl.ARRAY_BUFFER,new Float32Array([0,0,width,0,0,height,0,height,width,0,width,height]),gl.STATIC_DRAW),gl.enableVertexAttribArray(cache.positionLocation),gl.vertexAttribPointer(cache.positionLocation,2,gl.FLOAT,!1,0,0),gl.clearColor(0,0,0,0),gl.enable(gl.BLEND),gl.blendFunc(gl.ONE,gl.ONE_MINUS_SRC_ALPHA),gl.clear(gl.COLOR_BUFFER_BIT),gl.drawArrays(gl.TRIANGLES,0,6),gl.flush(),gl.deleteTexture(texture),gl.deleteTexture(maskTexture),gl.deleteBuffer(buffer),canvas},drawFigures:function(width,height,backgroundColor,figures,context){figuresCache||function(){var canvas,gl;generateGL(),canvas=currentCanvas,currentCanvas=null,gl=currentGL,currentGL=null;var program=createProgram(gl,[createVertexShader(gl,figuresVertexShaderCode),createFragmentShader(gl,figuresFragmentShaderCode)]);gl.useProgram(program);var cache={};cache.gl=gl,cache.canvas=canvas,cache.resolutionLocation=gl.getUniformLocation(program,"u_resolution"),cache.scaleLocation=gl.getUniformLocation(program,"u_scale"),cache.offsetLocation=gl.getUniformLocation(program,"u_offset"),cache.positionLocation=gl.getAttribLocation(program,"a_position"),cache.colorLocation=gl.getAttribLocation(program,"a_color"),figuresCache=cache}();var cache=figuresCache,canvas=cache.canvas,gl=cache.gl;canvas.width=width,canvas.height=height,gl.viewport(0,0,gl.drawingBufferWidth,gl.drawingBufferHeight),gl.uniform2f(cache.resolutionLocation,width,height);var i,ii,rows,count=0;for(i=0,ii=figures.length;i<ii;i++)switch(figures[i].type){case"lattice":count+=((rows=figures[i].coords.length/figures[i].verticesPerRow|0)-1)*(figures[i].verticesPerRow-1)*6;break;case"triangles":count+=figures[i].coords.length}var coords=new Float32Array(2*count),colors=new Uint8Array(3*count),coordsMap=context.coords,colorsMap=context.colors,pIndex=0,cIndex=0;for(i=0,ii=figures.length;i<ii;i++){var figure=figures[i],ps=figure.coords,cs=figure.colors;switch(figure.type){case"lattice":var cols=figure.verticesPerRow;rows=ps.length/cols|0;for(var row=1;row<rows;row++)for(var offset=row*cols+1,col=1;col<cols;col++,offset++)coords[pIndex]=coordsMap[ps[offset-cols-1]],coords[pIndex+1]=coordsMap[ps[offset-cols-1]+1],coords[pIndex+2]=coordsMap[ps[offset-cols]],coords[pIndex+3]=coordsMap[ps[offset-cols]+1],coords[pIndex+4]=coordsMap[ps[offset-1]],coords[pIndex+5]=coordsMap[ps[offset-1]+1],colors[cIndex]=colorsMap[cs[offset-cols-1]],colors[cIndex+1]=colorsMap[cs[offset-cols-1]+1],colors[cIndex+2]=colorsMap[cs[offset-cols-1]+2],colors[cIndex+3]=colorsMap[cs[offset-cols]],colors[cIndex+4]=colorsMap[cs[offset-cols]+1],colors[cIndex+5]=colorsMap[cs[offset-cols]+2],colors[cIndex+6]=colorsMap[cs[offset-1]],colors[cIndex+7]=colorsMap[cs[offset-1]+1],colors[cIndex+8]=colorsMap[cs[offset-1]+2],coords[pIndex+6]=coords[pIndex+2],coords[pIndex+7]=coords[pIndex+3],coords[pIndex+8]=coords[pIndex+4],coords[pIndex+9]=coords[pIndex+5],coords[pIndex+10]=coordsMap[ps[offset]],coords[pIndex+11]=coordsMap[ps[offset]+1],colors[cIndex+9]=colors[cIndex+3],colors[cIndex+10]=colors[cIndex+4],colors[cIndex+11]=colors[cIndex+5],colors[cIndex+12]=colors[cIndex+6],colors[cIndex+13]=colors[cIndex+7],colors[cIndex+14]=colors[cIndex+8],colors[cIndex+15]=colorsMap[cs[offset]],colors[cIndex+16]=colorsMap[cs[offset]+1],colors[cIndex+17]=colorsMap[cs[offset]+2],pIndex+=12,cIndex+=18;break;case"triangles":for(var j=0,jj=ps.length;j<jj;j++)coords[pIndex]=coordsMap[ps[j]],coords[pIndex+1]=coordsMap[ps[j]+1],colors[cIndex]=colorsMap[cs[j]],colors[cIndex+1]=colorsMap[cs[j]+1],colors[cIndex+2]=colorsMap[cs[j]+2],pIndex+=2,cIndex+=3}}backgroundColor?gl.clearColor(backgroundColor[0]/255,backgroundColor[1]/255,backgroundColor[2]/255,1):gl.clearColor(0,0,0,0),gl.clear(gl.COLOR_BUFFER_BIT);var coordsBuffer=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,coordsBuffer),gl.bufferData(gl.ARRAY_BUFFER,coords,gl.STATIC_DRAW),gl.enableVertexAttribArray(cache.positionLocation),gl.vertexAttribPointer(cache.positionLocation,2,gl.FLOAT,!1,0,0);var colorsBuffer=gl.createBuffer();return gl.bindBuffer(gl.ARRAY_BUFFER,colorsBuffer),gl.bufferData(gl.ARRAY_BUFFER,colors,gl.STATIC_DRAW),gl.enableVertexAttribArray(cache.colorLocation),gl.vertexAttribPointer(cache.colorLocation,3,gl.UNSIGNED_BYTE,!1,0,0),gl.uniform2f(cache.scaleLocation,context.scaleX,context.scaleY),gl.uniform2f(cache.offsetLocation,context.offsetX,context.offsetY),gl.drawArrays(gl.TRIANGLES,0,count),gl.flush(),gl.deleteBuffer(coordsBuffer),gl.deleteBuffer(colorsBuffer),canvas},cleanup:function(){smaskCache&&smaskCache.canvas&&(smaskCache.canvas.width=0,smaskCache.canvas.height=0),figuresCache&&figuresCache.canvas&&(figuresCache.canvas.width=0,figuresCache.canvas.height=0),smaskCache=null,figuresCache=null}}}();exports.WebGLContext=WebGLContext},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.renderTextLayer=void 0;var obj,_util=__w_pdfjs_require__(1),_global_scope=__w_pdfjs_require__(3),_global_scope2=(obj=_global_scope)&&obj.__esModule?obj:{default:obj};var renderTextLayer=function(){var MAX_TEXT_DIVS_TO_RENDER=1e5,NonWhitespaceRegexp=/\S/;var styleBuf=["left: ",0,"px; top: ",0,"px; font-size: ",0,"px; font-family: ","",";"];function appendText(task,geom,styles){var str,textDiv=document.createElement("div"),textDivProperties={style:null,angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(task._textDivs.push(textDiv),str=geom.str,!NonWhitespaceRegexp.test(str))return textDivProperties.isWhitespace=!0,void task._textDivProperties.set(textDiv,textDivProperties);var tx=_util.Util.transform(task._viewport.transform,geom.transform),angle=Math.atan2(tx[1],tx[0]),style=styles[geom.fontName];style.vertical&&(angle+=Math.PI/2);var left,top,fontHeight=Math.sqrt(tx[2]*tx[2]+tx[3]*tx[3]),fontAscent=fontHeight;if(style.ascent?fontAscent=style.ascent*fontAscent:style.descent&&(fontAscent=(1+style.descent)*fontAscent),0===angle?(left=tx[4],top=tx[5]-fontAscent):(left=tx[4]+fontAscent*Math.sin(angle),top=tx[5]-fontAscent*Math.cos(angle)),styleBuf[1]=left,styleBuf[3]=top,styleBuf[5]=fontHeight,styleBuf[7]=style.fontFamily,textDivProperties.style=styleBuf.join(""),textDiv.setAttribute("style",textDivProperties.style),textDiv.textContent=geom.str,task._fontInspectorEnabled&&(textDiv.dataset.fontName=geom.fontName),0!==angle&&(textDivProperties.angle=angle*(180/Math.PI)),geom.str.length>1&&(style.vertical?textDivProperties.canvasWidth=geom.height*task._viewport.scale:textDivProperties.canvasWidth=geom.width*task._viewport.scale),task._textDivProperties.set(textDiv,textDivProperties),task._textContentStream&&task._layoutText(textDiv),task._enhanceTextSelection){var angleCos=1,angleSin=0;0!==angle&&(angleCos=Math.cos(angle),angleSin=Math.sin(angle));var m,b,divWidth=(style.vertical?geom.height:geom.width)*task._viewport.scale,divHeight=fontHeight;0!==angle?(m=[angleCos,angleSin,-angleSin,angleCos,left,top],b=_util.Util.getAxialAlignedBoundingBox([0,0,divWidth,divHeight],m)):b=[left,top,left+divWidth,top+divHeight],task._bounds.push({left:b[0],top:b[1],right:b[2],bottom:b[3],div:textDiv,size:[divWidth,divHeight],m:m})}}function render(task){if(!task._canceled){var textDivs=task._textDivs,capability=task._capability,textDivsLength=textDivs.length;if(textDivsLength>MAX_TEXT_DIVS_TO_RENDER)return task._renderingDone=!0,void capability.resolve();if(!task._textContentStream)for(var i=0;i<textDivsLength;i++)task._layoutText(textDivs[i]);task._renderingDone=!0,capability.resolve()}}function expand(task){for(var bounds=task._bounds,viewport=task._viewport,expanded=function(width,height,boxes){var bounds=boxes.map(function(box,i){return{x1:box.left,y1:box.top,x2:box.right,y2:box.bottom,index:i,x1New:void 0,x2New:void 0}});expandBoundsLTR(width,bounds);var expanded=new Array(boxes.length);return bounds.forEach(function(b){var i=b.index;expanded[i]={left:b.x1New,top:0,right:b.x2New,bottom:0}}),boxes.map(function(box,i){var e=expanded[i],b=bounds[i];b.x1=box.top,b.y1=width-e.right,b.x2=box.bottom,b.y2=width-e.left,b.index=i,b.x1New=void 0,b.x2New=void 0}),expandBoundsLTR(height,bounds),bounds.forEach(function(b){var i=b.index;expanded[i].top=b.x1New,expanded[i].bottom=b.x2New}),expanded}(viewport.width,viewport.height,bounds),i=0;i<expanded.length;i++){var div=bounds[i].div,divProperties=task._textDivProperties.get(div);if(0!==divProperties.angle){var e=expanded[i],b=bounds[i],m=b.m,c=m[0],s=m[1],points=[[0,0],[0,b.size[1]],[b.size[0],0],b.size],ts=new Float64Array(64);points.forEach(function(p,i){var t=_util.Util.applyTransform(p,m);ts[i+0]=c&&(e.left-t[0])/c,ts[i+4]=s&&(e.top-t[1])/s,ts[i+8]=c&&(e.right-t[0])/c,ts[i+12]=s&&(e.bottom-t[1])/s,ts[i+16]=s&&(e.left-t[0])/-s,ts[i+20]=c&&(e.top-t[1])/c,ts[i+24]=s&&(e.right-t[0])/-s,ts[i+28]=c&&(e.bottom-t[1])/c,ts[i+32]=c&&(e.left-t[0])/-c,ts[i+36]=s&&(e.top-t[1])/-s,ts[i+40]=c&&(e.right-t[0])/-c,ts[i+44]=s&&(e.bottom-t[1])/-s,ts[i+48]=s&&(e.left-t[0])/s,ts[i+52]=c&&(e.top-t[1])/-c,ts[i+56]=s&&(e.right-t[0])/s,ts[i+60]=c&&(e.bottom-t[1])/-c});var findPositiveMin=function(ts,offset,count){for(var result=0,i=0;i<count;i++){var t=ts[offset++];t>0&&(result=result?Math.min(t,result):t)}return result},boxScale=1+Math.min(Math.abs(c),Math.abs(s));divProperties.paddingLeft=findPositiveMin(ts,32,16)/boxScale,divProperties.paddingTop=findPositiveMin(ts,48,16)/boxScale,divProperties.paddingRight=findPositiveMin(ts,0,16)/boxScale,divProperties.paddingBottom=findPositiveMin(ts,16,16)/boxScale,task._textDivProperties.set(div,divProperties)}else divProperties.paddingLeft=bounds[i].left-expanded[i].left,divProperties.paddingTop=bounds[i].top-expanded[i].top,divProperties.paddingRight=expanded[i].right-bounds[i].right,divProperties.paddingBottom=expanded[i].bottom-bounds[i].bottom,task._textDivProperties.set(div,divProperties)}}function expandBoundsLTR(width,bounds){bounds.sort(function(a,b){return a.x1-b.x1||a.index-b.index});var horizon=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];bounds.forEach(function(boundary){for(var i=0;i<horizon.length&&horizon[i].end<=boundary.y1;)i++;for(var horizonPart,affectedBoundary,j=horizon.length-1;j>=0&&horizon[j].start>=boundary.y2;)j--;var q,k,maxXNew=-1/0;for(q=i;q<=j;q++){var xNew;(xNew=(affectedBoundary=(horizonPart=horizon[q]).boundary).x2>boundary.x1?affectedBoundary.index>boundary.index?affectedBoundary.x1New:boundary.x1:void 0===affectedBoundary.x2New?(affectedBoundary.x2+boundary.x1)/2:affectedBoundary.x2New)>maxXNew&&(maxXNew=xNew)}for(boundary.x1New=maxXNew,q=i;q<=j;q++)void 0===(affectedBoundary=(horizonPart=horizon[q]).boundary).x2New?affectedBoundary.x2>boundary.x1?affectedBoundary.index>boundary.index&&(affectedBoundary.x2New=affectedBoundary.x2):affectedBoundary.x2New=maxXNew:affectedBoundary.x2New>maxXNew&&(affectedBoundary.x2New=Math.max(maxXNew,affectedBoundary.x2));var changedHorizon=[],lastBoundary=null;for(q=i;q<=j;q++){var useBoundary=(affectedBoundary=(horizonPart=horizon[q]).boundary).x2>boundary.x2?affectedBoundary:boundary;lastBoundary===useBoundary?changedHorizon[changedHorizon.length-1].end=horizonPart.end:(changedHorizon.push({start:horizonPart.start,end:horizonPart.end,boundary:useBoundary}),lastBoundary=useBoundary)}for(horizon[i].start<boundary.y1&&(changedHorizon[0].start=boundary.y1,changedHorizon.unshift({start:horizon[i].start,end:boundary.y1,boundary:horizon[i].boundary})),boundary.y2<horizon[j].end&&(changedHorizon[changedHorizon.length-1].end=boundary.y2,changedHorizon.push({start:boundary.y2,end:horizon[j].end,boundary:horizon[j].boundary})),q=i;q<=j;q++)if(void 0===(affectedBoundary=(horizonPart=horizon[q]).boundary).x2New){var used=!1;for(k=i-1;!used&&k>=0&&horizon[k].start>=affectedBoundary.y1;k--)used=horizon[k].boundary===affectedBoundary;for(k=j+1;!used&&k<horizon.length&&horizon[k].end<=affectedBoundary.y2;k++)used=horizon[k].boundary===affectedBoundary;for(k=0;!used&&k<changedHorizon.length;k++)used=changedHorizon[k].boundary===affectedBoundary;used||(affectedBoundary.x2New=maxXNew)}Array.prototype.splice.apply(horizon,[i,j-i+1].concat(changedHorizon))}),horizon.forEach(function(horizonPart){var affectedBoundary=horizonPart.boundary;void 0===affectedBoundary.x2New&&(affectedBoundary.x2New=Math.max(width,affectedBoundary.x2))})}function TextLayerRenderTask(_ref){var textContent=_ref.textContent,textContentStream=_ref.textContentStream,container=_ref.container,viewport=_ref.viewport,textDivs=_ref.textDivs,textContentItemsStr=_ref.textContentItemsStr,enhanceTextSelection=_ref.enhanceTextSelection;this._textContent=textContent,this._textContentStream=textContentStream,this._container=container,this._viewport=viewport,this._textDivs=textDivs||[],this._textContentItemsStr=textContentItemsStr||[],this._enhanceTextSelection=!!enhanceTextSelection,this._fontInspectorEnabled=!(!_global_scope2.default.FontInspector||!_global_scope2.default.FontInspector.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,_util.createPromiseCapability)(),this._renderTimer=null,this._bounds=[]}return TextLayerRenderTask.prototype={get promise(){return this._capability.promise},cancel:function(){this._reader&&(this._reader.cancel(new _util.AbortException("text layer task cancelled")),this._reader=null),this._canceled=!0,null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject("canceled")},_processItems:function(items,styleCache){for(var i=0,len=items.length;i<len;i++)this._textContentItemsStr.push(items[i].str),appendText(this,items[i],styleCache)},_layoutText:function(textDiv){var textLayerFrag=this._container,textDivProperties=this._textDivProperties.get(textDiv);if(!textDivProperties.isWhitespace){var fontSize=textDiv.style.fontSize,fontFamily=textDiv.style.fontFamily;fontSize===this._layoutTextLastFontSize&&fontFamily===this._layoutTextLastFontFamily||(this._layoutTextCtx.font=fontSize+" "+fontFamily,this._layoutTextLastFontSize=fontSize,this._layoutTextLastFontFamily=fontFamily);var width=this._layoutTextCtx.measureText(textDiv.textContent).width,transform="";0!==textDivProperties.canvasWidth&&width>0&&(textDivProperties.scale=textDivProperties.canvasWidth/width,transform="scaleX("+textDivProperties.scale+")"),0!==textDivProperties.angle&&(transform="rotate("+textDivProperties.angle+"deg) "+transform),""!==transform&&(textDivProperties.originalTransform=transform,textDiv.style.transform=transform),this._textDivProperties.set(textDiv,textDivProperties),textLayerFrag.appendChild(textDiv)}},_render:function(timeout){var _this=this,capability=(0,_util.createPromiseCapability)(),styleCache=Object.create(null),canvas=document.createElement("canvas");if(canvas.mozOpaque=!0,this._layoutTextCtx=canvas.getContext("2d",{alpha:!1}),this._textContent){var textItems=this._textContent.items,textStyles=this._textContent.styles;this._processItems(textItems,textStyles),capability.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');this._reader=this._textContentStream.getReader(),function pump(){_this._reader.read().then(function(_ref2){var value=_ref2.value;_ref2.done?capability.resolve():(Object.assign(styleCache,value.styles),_this._processItems(value.items,styleCache),pump())},capability.reject)}()}capability.promise.then(function(){styleCache=null,timeout?_this._renderTimer=setTimeout(function(){render(_this),_this._renderTimer=null},timeout):render(_this)},this._capability.reject)},expandTextDivs:function(expandDivs){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(expand(this),this._bounds=null);for(var i=0,ii=this._textDivs.length;i<ii;i++){var div=this._textDivs[i],divProperties=this._textDivProperties.get(div);if(!divProperties.isWhitespace)if(expandDivs){var transform="",padding="";1!==divProperties.scale&&(transform="scaleX("+divProperties.scale+")"),0!==divProperties.angle&&(transform="rotate("+divProperties.angle+"deg) "+transform),0!==divProperties.paddingLeft&&(padding+=" padding-left: "+divProperties.paddingLeft/divProperties.scale+"px;",transform+=" translateX("+-divProperties.paddingLeft/divProperties.scale+"px)"),0!==divProperties.paddingTop&&(padding+=" padding-top: "+divProperties.paddingTop+"px;",transform+=" translateY("+-divProperties.paddingTop+"px)"),0!==divProperties.paddingRight&&(padding+=" padding-right: "+divProperties.paddingRight/divProperties.scale+"px;"),0!==divProperties.paddingBottom&&(padding+=" padding-bottom: "+divProperties.paddingBottom+"px;"),""!==padding&&div.setAttribute("style",divProperties.style+padding),""!==transform&&(div.style.transform=transform)}else div.style.padding=0,div.style.transform=divProperties.originalTransform||""}}}},function(renderParameters){var task=new TextLayerRenderTask({textContent:renderParameters.textContent,textContentStream:renderParameters.textContentStream,container:renderParameters.container,viewport:renderParameters.viewport,textDivs:renderParameters.textDivs,textContentItemsStr:renderParameters.textContentItemsStr,enhanceTextSelection:renderParameters.enhanceTextSelection});return task._render(renderParameters.timeout),task}}();exports.renderTextLayer=renderTextLayer},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnnotationLayer=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_dom_utils=__w_pdfjs_require__(130),_util=__w_pdfjs_require__(1);function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var AnnotationElementFactory=function(){function AnnotationElementFactory(){_classCallCheck(this,AnnotationElementFactory)}return _createClass(AnnotationElementFactory,null,[{key:"create",value:function(parameters){switch(parameters.data.annotationType){case _util.AnnotationType.LINK:return new LinkAnnotationElement(parameters);case _util.AnnotationType.TEXT:return new TextAnnotationElement(parameters);case _util.AnnotationType.WIDGET:switch(parameters.data.fieldType){case"Tx":return new TextWidgetAnnotationElement(parameters);case"Btn":return parameters.data.radioButton?new RadioButtonWidgetAnnotationElement(parameters):parameters.data.checkBox?new CheckboxWidgetAnnotationElement(parameters):new PushButtonWidgetAnnotationElement(parameters);case"Ch":return new ChoiceWidgetAnnotationElement(parameters)}return new WidgetAnnotationElement(parameters);case _util.AnnotationType.POPUP:return new PopupAnnotationElement(parameters);case _util.AnnotationType.LINE:return new LineAnnotationElement(parameters);case _util.AnnotationType.SQUARE:return new SquareAnnotationElement(parameters);case _util.AnnotationType.CIRCLE:return new CircleAnnotationElement(parameters);case _util.AnnotationType.POLYLINE:return new PolylineAnnotationElement(parameters);case _util.AnnotationType.INK:return new InkAnnotationElement(parameters);case _util.AnnotationType.POLYGON:return new PolygonAnnotationElement(parameters);case _util.AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement(parameters);case _util.AnnotationType.UNDERLINE:return new UnderlineAnnotationElement(parameters);case _util.AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement(parameters);case _util.AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement(parameters);case _util.AnnotationType.STAMP:return new StampAnnotationElement(parameters);case _util.AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement(parameters);default:return new AnnotationElement(parameters)}}}]),AnnotationElementFactory}(),AnnotationElement=function(){function AnnotationElement(parameters){var isRenderable=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ignoreBorder=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,AnnotationElement),this.isRenderable=isRenderable,this.data=parameters.data,this.layer=parameters.layer,this.page=parameters.page,this.viewport=parameters.viewport,this.linkService=parameters.linkService,this.downloadManager=parameters.downloadManager,this.imageResourcesPath=parameters.imageResourcesPath,this.renderInteractiveForms=parameters.renderInteractiveForms,this.svgFactory=parameters.svgFactory,isRenderable&&(this.container=this._createContainer(ignoreBorder))}return _createClass(AnnotationElement,[{key:"_createContainer",value:function(){var ignoreBorder=arguments.length>0&&void 0!==arguments[0]&&arguments[0],data=this.data,page=this.page,viewport=this.viewport,container=document.createElement("section"),width=data.rect[2]-data.rect[0],height=data.rect[3]-data.rect[1];container.setAttribute("data-annotation-id",data.id);var rect=_util.Util.normalizeRect([data.rect[0],page.view[3]-data.rect[1]+page.view[1],data.rect[2],page.view[3]-data.rect[3]+page.view[1]]);if(container.style.transform="matrix("+viewport.transform.join(",")+")",container.style.transformOrigin=-rect[0]+"px "+-rect[1]+"px",!ignoreBorder&&data.borderStyle.width>0){container.style.borderWidth=data.borderStyle.width+"px",data.borderStyle.style!==_util.AnnotationBorderStyleType.UNDERLINE&&(width-=2*data.borderStyle.width,height-=2*data.borderStyle.width);var horizontalRadius=data.borderStyle.horizontalCornerRadius,verticalRadius=data.borderStyle.verticalCornerRadius;if(horizontalRadius>0||verticalRadius>0){var radius=horizontalRadius+"px / "+verticalRadius+"px";container.style.borderRadius=radius}switch(data.borderStyle.style){case _util.AnnotationBorderStyleType.SOLID:container.style.borderStyle="solid";break;case _util.AnnotationBorderStyleType.DASHED:container.style.borderStyle="dashed";break;case _util.AnnotationBorderStyleType.BEVELED:(0,_util.warn)("Unimplemented border style: beveled");break;case _util.AnnotationBorderStyleType.INSET:(0,_util.warn)("Unimplemented border style: inset");break;case _util.AnnotationBorderStyleType.UNDERLINE:container.style.borderBottomStyle="solid"}data.color?container.style.borderColor=_util.Util.makeCssRgb(0|data.color[0],0|data.color[1],0|data.color[2]):container.style.borderWidth=0}return container.style.left=rect[0]+"px",container.style.top=rect[1]+"px",container.style.width=width+"px",container.style.height=height+"px",container}},{key:"_createPopup",value:function(container,trigger,data){trigger||((trigger=document.createElement("div")).style.height=container.style.height,trigger.style.width=container.style.width,container.appendChild(trigger));var popup=new PopupElement({container:container,trigger:trigger,color:data.color,title:data.title,contents:data.contents,hideWrapper:!0}).render();popup.style.left=container.style.width,container.appendChild(popup)}},{key:"render",value:function(){(0,_util.unreachable)("Abstract method `AnnotationElement.render` called")}}]),AnnotationElement}(),LinkAnnotationElement=function(_AnnotationElement){function LinkAnnotationElement(parameters){_classCallCheck(this,LinkAnnotationElement);var isRenderable=!!(parameters.data.url||parameters.data.dest||parameters.data.action);return _possibleConstructorReturn(this,(LinkAnnotationElement.__proto__||Object.getPrototypeOf(LinkAnnotationElement)).call(this,parameters,isRenderable))}return _inherits(LinkAnnotationElement,AnnotationElement),_createClass(LinkAnnotationElement,[{key:"render",value:function(){this.container.className="linkAnnotation";var data=this.data,linkService=this.linkService,link=document.createElement("a");return(0,_dom_utils.addLinkAttributes)(link,{url:data.url,target:data.newWindow?_dom_utils.LinkTarget.BLANK:linkService.externalLinkTarget,rel:linkService.externalLinkRel}),data.url||(data.action?this._bindNamedAction(link,data.action):this._bindLink(link,data.dest)),this.container.appendChild(link),this.container}},{key:"_bindLink",value:function(link,destination){var _this2=this;link.href=this.linkService.getDestinationHash(destination),link.onclick=function(){return destination&&_this2.linkService.navigateTo(destination),!1},destination&&(link.className="internalLink")}},{key:"_bindNamedAction",value:function(link,action){var _this3=this;link.href=this.linkService.getAnchorUrl(""),link.onclick=function(){return _this3.linkService.executeNamedAction(action),!1},link.className="internalLink"}}]),LinkAnnotationElement}(),TextAnnotationElement=function(_AnnotationElement2){function TextAnnotationElement(parameters){_classCallCheck(this,TextAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,(TextAnnotationElement.__proto__||Object.getPrototypeOf(TextAnnotationElement)).call(this,parameters,isRenderable))}return _inherits(TextAnnotationElement,AnnotationElement),_createClass(TextAnnotationElement,[{key:"render",value:function(){this.container.className="textAnnotation";var image=document.createElement("img");return image.style.height=this.container.style.height,image.style.width=this.container.style.width,image.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",image.alt="[{{type}} Annotation]",image.dataset.l10nId="text_annotation_type",image.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,image,this.data),this.container.appendChild(image),this.container}}]),TextAnnotationElement}(),WidgetAnnotationElement=function(_AnnotationElement3){function WidgetAnnotationElement(){return _classCallCheck(this,WidgetAnnotationElement),_possibleConstructorReturn(this,(WidgetAnnotationElement.__proto__||Object.getPrototypeOf(WidgetAnnotationElement)).apply(this,arguments))}return _inherits(WidgetAnnotationElement,AnnotationElement),_createClass(WidgetAnnotationElement,[{key:"render",value:function(){return this.container}}]),WidgetAnnotationElement}(),TextWidgetAnnotationElement=function(_WidgetAnnotationElem){function TextWidgetAnnotationElement(parameters){_classCallCheck(this,TextWidgetAnnotationElement);var isRenderable=parameters.renderInteractiveForms||!parameters.data.hasAppearance&&!!parameters.data.fieldValue;return _possibleConstructorReturn(this,(TextWidgetAnnotationElement.__proto__||Object.getPrototypeOf(TextWidgetAnnotationElement)).call(this,parameters,isRenderable))}return _inherits(TextWidgetAnnotationElement,WidgetAnnotationElement),_createClass(TextWidgetAnnotationElement,[{key:"render",value:function(){this.container.className="textWidgetAnnotation";var element=null;if(this.renderInteractiveForms){if(this.data.multiLine?(element=document.createElement("textarea")).textContent=this.data.fieldValue:((element=document.createElement("input")).type="text",element.setAttribute("value",this.data.fieldValue)),element.disabled=this.data.readOnly,null!==this.data.maxLen&&(element.maxLength=this.data.maxLen),this.data.comb){var combWidth=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;element.classList.add("comb"),element.style.letterSpacing="calc("+combWidth+"px - 1ch)"}}else{(element=document.createElement("div")).textContent=this.data.fieldValue,element.style.verticalAlign="middle",element.style.display="table-cell";var font=null;this.data.fontRefName&&(font=this.page.commonObjs.getData(this.data.fontRefName)),this._setTextStyle(element,font)}return null!==this.data.textAlignment&&(element.style.textAlign=["left","center","right"][this.data.textAlignment]),this.container.appendChild(element),this.container}},{key:"_setTextStyle",value:function(element,font){var style=element.style;if(style.fontSize=this.data.fontSize+"px",style.direction=this.data.fontDirection<0?"rtl":"ltr",font){style.fontWeight=font.black?font.bold?"900":"bold":font.bold?"bold":"normal",style.fontStyle=font.italic?"italic":"normal";var fontFamily=font.loadedName?'"'+font.loadedName+'", ':"",fallbackName=font.fallbackName||"Helvetica, sans-serif";style.fontFamily=fontFamily+fallbackName}}}]),TextWidgetAnnotationElement}(),CheckboxWidgetAnnotationElement=function(_WidgetAnnotationElem2){function CheckboxWidgetAnnotationElement(parameters){return _classCallCheck(this,CheckboxWidgetAnnotationElement),_possibleConstructorReturn(this,(CheckboxWidgetAnnotationElement.__proto__||Object.getPrototypeOf(CheckboxWidgetAnnotationElement)).call(this,parameters,parameters.renderInteractiveForms))}return _inherits(CheckboxWidgetAnnotationElement,WidgetAnnotationElement),_createClass(CheckboxWidgetAnnotationElement,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation checkBox";var element=document.createElement("input");return element.disabled=this.data.readOnly,element.type="checkbox",this.data.fieldValue&&"Off"!==this.data.fieldValue&&element.setAttribute("checked",!0),this.container.appendChild(element),this.container}}]),CheckboxWidgetAnnotationElement}(),RadioButtonWidgetAnnotationElement=function(_WidgetAnnotationElem3){function RadioButtonWidgetAnnotationElement(parameters){return _classCallCheck(this,RadioButtonWidgetAnnotationElement),_possibleConstructorReturn(this,(RadioButtonWidgetAnnotationElement.__proto__||Object.getPrototypeOf(RadioButtonWidgetAnnotationElement)).call(this,parameters,parameters.renderInteractiveForms))}return _inherits(RadioButtonWidgetAnnotationElement,WidgetAnnotationElement),_createClass(RadioButtonWidgetAnnotationElement,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var element=document.createElement("input");return element.disabled=this.data.readOnly,element.type="radio",element.name=this.data.fieldName,this.data.fieldValue===this.data.buttonValue&&element.setAttribute("checked",!0),this.container.appendChild(element),this.container}}]),RadioButtonWidgetAnnotationElement}(),PushButtonWidgetAnnotationElement=function(_LinkAnnotationElemen){function PushButtonWidgetAnnotationElement(){return _classCallCheck(this,PushButtonWidgetAnnotationElement),_possibleConstructorReturn(this,(PushButtonWidgetAnnotationElement.__proto__||Object.getPrototypeOf(PushButtonWidgetAnnotationElement)).apply(this,arguments))}return _inherits(PushButtonWidgetAnnotationElement,LinkAnnotationElement),_createClass(PushButtonWidgetAnnotationElement,[{key:"render",value:function(){var container=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;return void 0!==getter?getter.call(receiver):void 0}(PushButtonWidgetAnnotationElement.prototype.__proto__||Object.getPrototypeOf(PushButtonWidgetAnnotationElement.prototype),"render",this).call(this);return container.className="buttonWidgetAnnotation pushButton",container}}]),PushButtonWidgetAnnotationElement}(),ChoiceWidgetAnnotationElement=function(_WidgetAnnotationElem4){function ChoiceWidgetAnnotationElement(parameters){return _classCallCheck(this,ChoiceWidgetAnnotationElement),_possibleConstructorReturn(this,(ChoiceWidgetAnnotationElement.__proto__||Object.getPrototypeOf(ChoiceWidgetAnnotationElement)).call(this,parameters,parameters.renderInteractiveForms))}return _inherits(ChoiceWidgetAnnotationElement,WidgetAnnotationElement),_createClass(ChoiceWidgetAnnotationElement,[{key:"render",value:function(){this.container.className="choiceWidgetAnnotation";var selectElement=document.createElement("select");selectElement.disabled=this.data.readOnly,this.data.combo||(selectElement.size=this.data.options.length,this.data.multiSelect&&(selectElement.multiple=!0));for(var i=0,ii=this.data.options.length;i<ii;i++){var option=this.data.options[i],optionElement=document.createElement("option");optionElement.textContent=option.displayValue,optionElement.value=option.exportValue,this.data.fieldValue.includes(option.displayValue)&&optionElement.setAttribute("selected",!0),selectElement.appendChild(optionElement)}return this.container.appendChild(selectElement),this.container}}]),ChoiceWidgetAnnotationElement}(),PopupAnnotationElement=function(_AnnotationElement4){function PopupAnnotationElement(parameters){_classCallCheck(this,PopupAnnotationElement);var isRenderable=!(!parameters.data.title&&!parameters.data.contents);return _possibleConstructorReturn(this,(PopupAnnotationElement.__proto__||Object.getPrototypeOf(PopupAnnotationElement)).call(this,parameters,isRenderable))}return _inherits(PopupAnnotationElement,AnnotationElement),_createClass(PopupAnnotationElement,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var selector='[data-annotation-id="'+this.data.parentId+'"]',parentElement=this.layer.querySelector(selector);if(!parentElement)return this.container;var popup=new PopupElement({container:this.container,trigger:parentElement,color:this.data.color,title:this.data.title,contents:this.data.contents}),parentLeft=parseFloat(parentElement.style.left),parentWidth=parseFloat(parentElement.style.width);return this.container.style.transformOrigin=-(parentLeft+parentWidth)+"px -"+parentElement.style.top,this.container.style.left=parentLeft+parentWidth+"px",this.container.appendChild(popup.render()),this.container}}]),PopupAnnotationElement}(),PopupElement=function(){function PopupElement(parameters){_classCallCheck(this,PopupElement),this.container=parameters.container,this.trigger=parameters.trigger,this.color=parameters.color,this.title=parameters.title,this.contents=parameters.contents,this.hideWrapper=parameters.hideWrapper||!1,this.pinned=!1}return _createClass(PopupElement,[{key:"render",value:function(){var wrapper=document.createElement("div");wrapper.className="popupWrapper",this.hideElement=this.hideWrapper?wrapper:this.container,this.hideElement.setAttribute("hidden",!0);var popup=document.createElement("div");popup.className="popup";var color=this.color;if(color){var r=.7*(255-color[0])+color[0],g=.7*(255-color[1])+color[1],b=.7*(255-color[2])+color[2];popup.style.backgroundColor=_util.Util.makeCssRgb(0|r,0|g,0|b)}var contents=this._formatContents(this.contents),title=document.createElement("h1");return title.textContent=this.title,this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),popup.addEventListener("click",this._hide.bind(this,!0)),popup.appendChild(title),popup.appendChild(contents),wrapper.appendChild(popup),wrapper}},{key:"_formatContents",value:function(contents){for(var p=document.createElement("p"),lines=contents.split(/(?:\r\n?|\n)/),i=0,ii=lines.length;i<ii;++i){var line=lines[i];p.appendChild(document.createTextNode(line)),i<ii-1&&p.appendChild(document.createElement("br"))}return p}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var pin=arguments.length>0&&void 0!==arguments[0]&&arguments[0];pin&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var unpin=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];unpin&&(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}]),PopupElement}(),LineAnnotationElement=function(_AnnotationElement5){function LineAnnotationElement(parameters){_classCallCheck(this,LineAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,(LineAnnotationElement.__proto__||Object.getPrototypeOf(LineAnnotationElement)).call(this,parameters,isRenderable,!0))}return _inherits(LineAnnotationElement,AnnotationElement),_createClass(LineAnnotationElement,[{key:"render",value:function(){this.container.className="lineAnnotation";var data=this.data,width=data.rect[2]-data.rect[0],height=data.rect[3]-data.rect[1],svg=this.svgFactory.create(width,height),line=this.svgFactory.createElement("svg:line");return line.setAttribute("x1",data.rect[2]-data.lineCoordinates[0]),line.setAttribute("y1",data.rect[3]-data.lineCoordinates[1]),line.setAttribute("x2",data.rect[2]-data.lineCoordinates[2]),line.setAttribute("y2",data.rect[3]-data.lineCoordinates[3]),line.setAttribute("stroke-width",data.borderStyle.width),line.setAttribute("stroke","transparent"),svg.appendChild(line),this.container.append(svg),this._createPopup(this.container,line,data),this.container}}]),LineAnnotationElement}(),SquareAnnotationElement=function(_AnnotationElement6){function SquareAnnotationElement(parameters){_classCallCheck(this,SquareAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,(SquareAnnotationElement.__proto__||Object.getPrototypeOf(SquareAnnotationElement)).call(this,parameters,isRenderable,!0))}return _inherits(SquareAnnotationElement,AnnotationElement),_createClass(SquareAnnotationElement,[{key:"render",value:function(){this.container.className="squareAnnotation";var data=this.data,width=data.rect[2]-data.rect[0],height=data.rect[3]-data.rect[1],svg=this.svgFactory.create(width,height),borderWidth=data.borderStyle.width,square=this.svgFactory.createElement("svg:rect");return square.setAttribute("x",borderWidth/2),square.setAttribute("y",borderWidth/2),square.setAttribute("width",width-borderWidth),square.setAttribute("height",height-borderWidth),square.setAttribute("stroke-width",borderWidth),square.setAttribute("stroke","transparent"),square.setAttribute("fill","none"),svg.appendChild(square),this.container.append(svg),this._createPopup(this.container,square,data),this.container}}]),SquareAnnotationElement}(),CircleAnnotationElement=function(_AnnotationElement7){function CircleAnnotationElement(parameters){_classCallCheck(this,CircleAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,(CircleAnnotationElement.__proto__||Object.getPrototypeOf(CircleAnnotationElement)).call(this,parameters,isRenderable,!0))}return _inherits(CircleAnnotationElement,AnnotationElement),_createClass(CircleAnnotationElement,[{key:"render",value:function(){this.container.className="circleAnnotation";var data=this.data,width=data.rect[2]-data.rect[0],height=data.rect[3]-data.rect[1],svg=this.svgFactory.create(width,height),borderWidth=data.borderStyle.width,circle=this.svgFactory.createElement("svg:ellipse");return circle.setAttribute("cx",width/2),circle.setAttribute("cy",height/2),circle.setAttribute("rx",width/2-borderWidth/2),circle.setAttribute("ry",height/2-borderWidth/2),circle.setAttribute("stroke-width",borderWidth),circle.setAttribute("stroke","transparent"),circle.setAttribute("fill","none"),svg.appendChild(circle),this.container.append(svg),this._createPopup(this.container,circle,data),this.container}}]),CircleAnnotationElement}(),PolylineAnnotationElement=function(_AnnotationElement8){function PolylineAnnotationElement(parameters){_classCallCheck(this,PolylineAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents),_this15=_possibleConstructorReturn(this,(PolylineAnnotationElement.__proto__||Object.getPrototypeOf(PolylineAnnotationElement)).call(this,parameters,isRenderable,!0));return _this15.containerClassName="polylineAnnotation",_this15.svgElementName="svg:polyline",_this15}return _inherits(PolylineAnnotationElement,AnnotationElement),_createClass(PolylineAnnotationElement,[{key:"render",value:function(){this.container.className=this.containerClassName;for(var data=this.data,width=data.rect[2]-data.rect[0],height=data.rect[3]-data.rect[1],svg=this.svgFactory.create(width,height),vertices=data.vertices,points=[],i=0,ii=vertices.length;i<ii;i++){var x=vertices[i].x-data.rect[0],y=data.rect[3]-vertices[i].y;points.push(x+","+y)}points=points.join(" ");var borderWidth=data.borderStyle.width,polyline=this.svgFactory.createElement(this.svgElementName);return polyline.setAttribute("points",points),polyline.setAttribute("stroke-width",borderWidth),polyline.setAttribute("stroke","transparent"),polyline.setAttribute("fill","none"),svg.appendChild(polyline),this.container.append(svg),this._createPopup(this.container,polyline,data),this.container}}]),PolylineAnnotationElement}(),PolygonAnnotationElement=function(_PolylineAnnotationEl){function PolygonAnnotationElement(parameters){_classCallCheck(this,PolygonAnnotationElement);var _this16=_possibleConstructorReturn(this,(PolygonAnnotationElement.__proto__||Object.getPrototypeOf(PolygonAnnotationElement)).call(this,parameters));return _this16.containerClassName="polygonAnnotation",_this16.svgElementName="svg:polygon",_this16}return _inherits(PolygonAnnotationElement,PolylineAnnotationElement),PolygonAnnotationElement}(),InkAnnotationElement=function(_AnnotationElement9){function InkAnnotationElement(parameters){_classCallCheck(this,InkAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents),_this17=_possibleConstructorReturn(this,(InkAnnotationElement.__proto__||Object.getPrototypeOf(InkAnnotationElement)).call(this,parameters,isRenderable,!0));return _this17.containerClassName="inkAnnotation",_this17.svgElementName="svg:polyline",_this17}return _inherits(InkAnnotationElement,AnnotationElement),_createClass(InkAnnotationElement,[{key:"render",value:function(){this.container.className=this.containerClassName;for(var data=this.data,width=data.rect[2]-data.rect[0],height=data.rect[3]-data.rect[1],svg=this.svgFactory.create(width,height),inkLists=data.inkLists,i=0,ii=inkLists.length;i<ii;i++){for(var inkList=inkLists[i],points=[],j=0,jj=inkList.length;j<jj;j++){var x=inkList[j].x-data.rect[0],y=data.rect[3]-inkList[j].y;points.push(x+","+y)}points=points.join(" ");var borderWidth=data.borderStyle.width,polyline=this.svgFactory.createElement(this.svgElementName);polyline.setAttribute("points",points),polyline.setAttribute("stroke-width",borderWidth),polyline.setAttribute("stroke","transparent"),polyline.setAttribute("fill","none"),this._createPopup(this.container,polyline,data),svg.appendChild(polyline)}return this.container.append(svg),this.container}}]),InkAnnotationElement}(),HighlightAnnotationElement=function(_AnnotationElement10){function HighlightAnnotationElement(parameters){_classCallCheck(this,HighlightAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,(HighlightAnnotationElement.__proto__||Object.getPrototypeOf(HighlightAnnotationElement)).call(this,parameters,isRenderable,!0))}return _inherits(HighlightAnnotationElement,AnnotationElement),_createClass(HighlightAnnotationElement,[{key:"render",value:function(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),HighlightAnnotationElement}(),UnderlineAnnotationElement=function(_AnnotationElement11){function UnderlineAnnotationElement(parameters){_classCallCheck(this,UnderlineAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,(UnderlineAnnotationElement.__proto__||Object.getPrototypeOf(UnderlineAnnotationElement)).call(this,parameters,isRenderable,!0))}return _inherits(UnderlineAnnotationElement,AnnotationElement),_createClass(UnderlineAnnotationElement,[{key:"render",value:function(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),UnderlineAnnotationElement}(),SquigglyAnnotationElement=function(_AnnotationElement12){function SquigglyAnnotationElement(parameters){_classCallCheck(this,SquigglyAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,(SquigglyAnnotationElement.__proto__||Object.getPrototypeOf(SquigglyAnnotationElement)).call(this,parameters,isRenderable,!0))}return _inherits(SquigglyAnnotationElement,AnnotationElement),_createClass(SquigglyAnnotationElement,[{key:"render",value:function(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),SquigglyAnnotationElement}(),StrikeOutAnnotationElement=function(_AnnotationElement13){function StrikeOutAnnotationElement(parameters){_classCallCheck(this,StrikeOutAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,(StrikeOutAnnotationElement.__proto__||Object.getPrototypeOf(StrikeOutAnnotationElement)).call(this,parameters,isRenderable,!0))}return _inherits(StrikeOutAnnotationElement,AnnotationElement),_createClass(StrikeOutAnnotationElement,[{key:"render",value:function(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),StrikeOutAnnotationElement}(),StampAnnotationElement=function(_AnnotationElement14){function StampAnnotationElement(parameters){_classCallCheck(this,StampAnnotationElement);var isRenderable=!!(parameters.data.hasPopup||parameters.data.title||parameters.data.contents);return _possibleConstructorReturn(this,(StampAnnotationElement.__proto__||Object.getPrototypeOf(StampAnnotationElement)).call(this,parameters,isRenderable,!0))}return _inherits(StampAnnotationElement,AnnotationElement),_createClass(StampAnnotationElement,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),StampAnnotationElement}(),FileAttachmentAnnotationElement=function(_AnnotationElement15){function FileAttachmentAnnotationElement(parameters){_classCallCheck(this,FileAttachmentAnnotationElement);var _this23=_possibleConstructorReturn(this,(FileAttachmentAnnotationElement.__proto__||Object.getPrototypeOf(FileAttachmentAnnotationElement)).call(this,parameters,!0)),_this23$data$file=_this23.data.file,filename=_this23$data$file.filename,content=_this23$data$file.content;return _this23.filename=(0,_dom_utils.getFilenameFromUrl)(filename),_this23.content=content,_this23.linkService.eventBus&&_this23.linkService.eventBus.dispatch("fileattachmentannotation",{source:_this23,id:(0,_util.stringToPDFString)(filename),filename:filename,content:content}),_this23}return _inherits(FileAttachmentAnnotationElement,AnnotationElement),_createClass(FileAttachmentAnnotationElement,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var trigger=document.createElement("div");return trigger.style.height=this.container.style.height,trigger.style.width=this.container.style.width,trigger.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(this.container,trigger,this.data),this.container.appendChild(trigger),this.container}},{key:"_download",value:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,_util.warn)("Download cannot be started due to unavailable download manager")}}]),FileAttachmentAnnotationElement}(),AnnotationLayer=function(){function AnnotationLayer(){_classCallCheck(this,AnnotationLayer)}return _createClass(AnnotationLayer,null,[{key:"render",value:function(parameters){for(var i=0,ii=parameters.annotations.length;i<ii;i++){var data=parameters.annotations[i];if(data){var element=AnnotationElementFactory.create({data:data,layer:parameters.div,page:parameters.page,viewport:parameters.viewport,linkService:parameters.linkService,downloadManager:parameters.downloadManager,imageResourcesPath:parameters.imageResourcesPath||"",renderInteractiveForms:parameters.renderInteractiveForms||!1,svgFactory:new _dom_utils.DOMSVGFactory});element.isRenderable&&parameters.div.appendChild(element.render())}}}},{key:"update",value:function(parameters){for(var i=0,ii=parameters.annotations.length;i<ii;i++){var data=parameters.annotations[i],element=parameters.div.querySelector('[data-annotation-id="'+data.id+'"]');element&&(element.style.transform="matrix("+parameters.viewport.transform.join(",")+")")}parameters.div.removeAttribute("hidden")}}]),AnnotationLayer}();exports.AnnotationLayer=AnnotationLayer},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SVGGraphics=void 0;var obj,_util=__w_pdfjs_require__(1),_dom_utils=__w_pdfjs_require__(130),_is_node=__w_pdfjs_require__(4),_is_node2=(obj=_is_node)&&obj.__esModule?obj:{default:obj};var SVGGraphics,SVG_DEFAULTS={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},convertImgDataToPng=function(){for(var PNG_HEADER=new Uint8Array([137,80,78,71,13,10,26,10]),CHUNK_WRAPPER_SIZE=12,crcTable=new Int32Array(256),i=0;i<256;i++){for(var c=i,h=0;h<8;h++)c=1&c?3988292384^c>>1&2147483647:c>>1&2147483647;crcTable[i]=c}function writePngChunk(type,body,data,offset){var p=offset,len=body.length;data[p]=len>>24&255,data[p+1]=len>>16&255,data[p+2]=len>>8&255,data[p+3]=255&len,data[p+=4]=255&type.charCodeAt(0),data[p+1]=255&type.charCodeAt(1),data[p+2]=255&type.charCodeAt(2),data[p+3]=255&type.charCodeAt(3),p+=4,data.set(body,p);var crc=function(data,start,end){for(var crc=-1,i=start;i<end;i++){var a=255&(crc^data[i]);crc=crc>>>8^crcTable[a]}return-1^crc}(data,offset+4,p+=body.length);data[p]=crc>>24&255,data[p+1]=crc>>16&255,data[p+2]=crc>>8&255,data[p+3]=255&crc}function deflateSyncUncompressed(literals){var len=literals.length,deflateBlocks=Math.ceil(len/65535),idat=new Uint8Array(2+len+5*deflateBlocks+4),pi=0;idat[pi++]=120,idat[pi++]=156;for(var pos=0;len>65535;)idat[pi++]=0,idat[pi++]=255,idat[pi++]=255,idat[pi++]=0,idat[pi++]=0,idat.set(literals.subarray(pos,pos+65535),pi),pi+=65535,pos+=65535,len-=65535;idat[pi++]=1,idat[pi++]=255&len,idat[pi++]=len>>8&255,idat[pi++]=255&~len,idat[pi++]=(65535&~len)>>8&255,idat.set(literals.subarray(pos),pi),pi+=literals.length-pos;var adler=function(data,start,end){for(var a=1,b=0,i=start;i<end;++i)b=(b+(a=(a+(255&data[i]))%65521))%65521;return b<<16|a}(literals,0,literals.length);return idat[pi++]=adler>>24&255,idat[pi++]=adler>>16&255,idat[pi++]=adler>>8&255,idat[pi++]=255&adler,idat}function encode(imgData,kind,forceDataSchema,isMask){var bitDepth,colorType,lineSize,width=imgData.width,height=imgData.height,bytes=imgData.data;switch(kind){case _util.ImageKind.GRAYSCALE_1BPP:colorType=0,bitDepth=1,lineSize=width+7>>3;break;case _util.ImageKind.RGB_24BPP:colorType=2,bitDepth=8,lineSize=3*width;break;case _util.ImageKind.RGBA_32BPP:colorType=6,bitDepth=8,lineSize=4*width;break;default:throw new Error("invalid format")}var y,i,literals=new Uint8Array((1+lineSize)*height),offsetLiterals=0,offsetBytes=0;for(y=0;y<height;++y)literals[offsetLiterals++]=0,literals.set(bytes.subarray(offsetBytes,offsetBytes+lineSize),offsetLiterals),offsetBytes+=lineSize,offsetLiterals+=lineSize;if(kind===_util.ImageKind.GRAYSCALE_1BPP&&isMask)for(offsetLiterals=0,y=0;y<height;y++)for(offsetLiterals++,i=0;i<lineSize;i++)literals[offsetLiterals++]^=255;var ihdr=new Uint8Array([width>>24&255,width>>16&255,width>>8&255,255&width,height>>24&255,height>>16&255,height>>8&255,255&height,bitDepth,colorType,0,0,0]),idat=function(literals){if(!(0,_is_node2.default)())return deflateSyncUncompressed(literals);try{var input;input=parseInt(process.versions.node)>=8?literals:new Buffer(literals);var output=__webpack_require__(55).deflateSync(input,{level:9});return output instanceof Uint8Array?output:new Uint8Array(output)}catch(e){(0,_util.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return deflateSyncUncompressed(literals)}(literals),pngLength=PNG_HEADER.length+3*CHUNK_WRAPPER_SIZE+ihdr.length+idat.length,data=new Uint8Array(pngLength),offset=0;return data.set(PNG_HEADER,offset),writePngChunk("IHDR",ihdr,data,offset+=PNG_HEADER.length),writePngChunk("IDATA",idat,data,offset+=CHUNK_WRAPPER_SIZE+ihdr.length),offset+=CHUNK_WRAPPER_SIZE+idat.length,writePngChunk("IEND",new Uint8Array(0),data,offset),(0,_util.createObjectURL)(data,"image/png",forceDataSchema)}return function(imgData,forceDataSchema,isMask){return encode(imgData,void 0===imgData.kind?_util.ImageKind.GRAYSCALE_1BPP:imgData.kind,forceDataSchema,isMask)}}(),SVGExtraState=function(){function SVGExtraState(){this.fontSizeScale=1,this.fontWeight=SVG_DEFAULTS.fontWeight,this.fontSize=0,this.textMatrix=_util.IDENTITY_MATRIX,this.fontMatrix=_util.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=_util.TextRenderingMode.FILL,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=SVG_DEFAULTS.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return SVGExtraState.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(x,y){this.x=x,this.y=y}},SVGExtraState}();exports.SVGGraphics=SVGGraphics=function(){function pf(value){if(Number.isInteger(value))return value.toString();var s=value.toFixed(10),i=s.length-1;if("0"!==s[i])return s;do{i--}while("0"===s[i]);return s.substring(0,"."===s[i]?i:i+1)}function pm(m){if(0===m[4]&&0===m[5]){if(0===m[1]&&0===m[2])return 1===m[0]&&1===m[3]?"":"scale("+pf(m[0])+" "+pf(m[3])+")";if(m[0]===m[3]&&m[1]===-m[2])return"rotate("+pf(180*Math.acos(m[0])/Math.PI)+")"}else if(1===m[0]&&0===m[1]&&0===m[2]&&1===m[3])return"translate("+pf(m[4])+" "+pf(m[5])+")";return"matrix("+pf(m[0])+" "+pf(m[1])+" "+pf(m[2])+" "+pf(m[3])+" "+pf(m[4])+" "+pf(m[5])+")"}function SVGGraphics(commonObjs,objs,forceDataSchema){this.svgFactory=new _dom_utils.DOMSVGFactory,this.current=new SVGExtraState,this.transformMatrix=_util.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=commonObjs,this.objs=objs,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!forceDataSchema}var XLINK_NS="http://www.w3.org/1999/xlink",LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],clipCount=0,maskCount=0;return SVGGraphics.prototype={save:function(){this.transformStack.push(this.transformMatrix);var old=this.current;this.extraStack.push(old),this.current=old.clone()},restore:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null},group:function(items){this.save(),this.executeOpTree(items),this.restore()},loadDependencies:function(operatorList){for(var _this=this,fnArray=operatorList.fnArray,fnArrayLen=fnArray.length,argsArray=operatorList.argsArray,i=0;i<fnArrayLen;i++)if(_util.OPS.dependency===fnArray[i])for(var deps=argsArray[i],n=0,nn=deps.length;n<nn;n++){var promise,obj=deps[n];promise="g_"===obj.substring(0,2)?new Promise(function(resolve){_this.commonObjs.get(obj,resolve)}):new Promise(function(resolve){_this.objs.get(obj,resolve)}),this.current.dependencies.push(promise)}return Promise.all(this.current.dependencies)},transform:function(a,b,c,d,e,f){var transformMatrix=[a,b,c,d,e,f];this.transformMatrix=_util.Util.transform(this.transformMatrix,transformMatrix),this.tgrp=null},getSVG:function(operatorList,viewport){var _this2=this;this.viewport=viewport;var svgElement=this._initialize(viewport);return this.loadDependencies(operatorList).then(function(){_this2.transformMatrix=_util.IDENTITY_MATRIX;var opTree=_this2.convertOpList(operatorList);return _this2.executeOpTree(opTree),svgElement})},convertOpList:function(operatorList){var argsArray=operatorList.argsArray,fnArray=operatorList.fnArray,fnArrayLen=fnArray.length,REVOPS=[],opList=[];for(var op in _util.OPS)REVOPS[_util.OPS[op]]=op;for(var x=0;x<fnArrayLen;x++){var fnId=fnArray[x];opList.push({fnId:fnId,fn:REVOPS[fnId],args:argsArray[x]})}return function(opList){for(var opTree=[],tmp=[],opListLen=opList.length,x=0;x<opListLen;x++)"save"!==opList[x].fn?"restore"===opList[x].fn?opTree=tmp.pop():opTree.push(opList[x]):(opTree.push({fnId:92,fn:"group",items:[]}),tmp.push(opTree),opTree=opTree[opTree.length-1].items);return opTree}(opList)},executeOpTree:function(opTree){for(var opTreeLen=opTree.length,x=0;x<opTreeLen;x++){var fn=opTree[x].fn,fnId=opTree[x].fnId,args=opTree[x].args;switch(0|fnId){case _util.OPS.beginText:this.beginText();break;case _util.OPS.dependency:break;case _util.OPS.setLeading:this.setLeading(args);break;case _util.OPS.setLeadingMoveText:this.setLeadingMoveText(args[0],args[1]);break;case _util.OPS.setFont:this.setFont(args);break;case _util.OPS.showText:case _util.OPS.showSpacedText:this.showText(args[0]);break;case _util.OPS.endText:this.endText();break;case _util.OPS.moveText:this.moveText(args[0],args[1]);break;case _util.OPS.setCharSpacing:this.setCharSpacing(args[0]);break;case _util.OPS.setWordSpacing:this.setWordSpacing(args[0]);break;case _util.OPS.setHScale:this.setHScale(args[0]);break;case _util.OPS.setTextMatrix:this.setTextMatrix(args[0],args[1],args[2],args[3],args[4],args[5]);break;case _util.OPS.setTextRise:this.setTextRise(args[0]);break;case _util.OPS.setTextRenderingMode:this.setTextRenderingMode(args[0]);break;case _util.OPS.setLineWidth:this.setLineWidth(args[0]);break;case _util.OPS.setLineJoin:this.setLineJoin(args[0]);break;case _util.OPS.setLineCap:this.setLineCap(args[0]);break;case _util.OPS.setMiterLimit:this.setMiterLimit(args[0]);break;case _util.OPS.setFillRGBColor:this.setFillRGBColor(args[0],args[1],args[2]);break;case _util.OPS.setStrokeRGBColor:this.setStrokeRGBColor(args[0],args[1],args[2]);break;case _util.OPS.setDash:this.setDash(args[0],args[1]);break;case _util.OPS.setGState:this.setGState(args[0]);break;case _util.OPS.fill:this.fill();break;case _util.OPS.eoFill:this.eoFill();break;case _util.OPS.stroke:this.stroke();break;case _util.OPS.fillStroke:this.fillStroke();break;case _util.OPS.eoFillStroke:this.eoFillStroke();break;case _util.OPS.clip:this.clip("nonzero");break;case _util.OPS.eoClip:this.clip("evenodd");break;case _util.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case _util.OPS.paintJpegXObject:this.paintJpegXObject(args[0],args[1],args[2]);break;case _util.OPS.paintImageXObject:this.paintImageXObject(args[0]);break;case _util.OPS.paintInlineImageXObject:this.paintInlineImageXObject(args[0]);break;case _util.OPS.paintImageMaskXObject:this.paintImageMaskXObject(args[0]);break;case _util.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(args[0],args[1]);break;case _util.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case _util.OPS.closePath:this.closePath();break;case _util.OPS.closeStroke:this.closeStroke();break;case _util.OPS.closeFillStroke:this.closeFillStroke();break;case _util.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case _util.OPS.nextLine:this.nextLine();break;case _util.OPS.transform:this.transform(args[0],args[1],args[2],args[3],args[4],args[5]);break;case _util.OPS.constructPath:this.constructPath(args[0],args[1]);break;case _util.OPS.endPath:this.endPath();break;case 92:this.group(opTree[x].items);break;default:(0,_util.warn)("Unimplemented operator "+fn)}}},setWordSpacing:function(wordSpacing){this.current.wordSpacing=wordSpacing},setCharSpacing:function(charSpacing){this.current.charSpacing=charSpacing},nextLine:function(){this.moveText(0,this.current.leading)},setTextMatrix:function(a,b,c,d,e,f){var current=this.current;this.current.textMatrix=this.current.lineMatrix=[a,b,c,d,e,f],this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,current.xcoords=[],current.tspan=this.svgFactory.createElement("svg:tspan"),current.tspan.setAttributeNS(null,"font-family",current.fontFamily),current.tspan.setAttributeNS(null,"font-size",pf(current.fontSize)+"px"),current.tspan.setAttributeNS(null,"y",pf(-current.y)),current.txtElement=this.svgFactory.createElement("svg:text"),current.txtElement.appendChild(current.tspan)},beginText:function(){this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.current.textMatrix=_util.IDENTITY_MATRIX,this.current.lineMatrix=_util.IDENTITY_MATRIX,this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.txtElement=this.svgFactory.createElement("svg:text"),this.current.txtgrp=this.svgFactory.createElement("svg:g"),this.current.xcoords=[]},moveText:function(x,y){var current=this.current;this.current.x=this.current.lineX+=x,this.current.y=this.current.lineY+=y,current.xcoords=[],current.tspan=this.svgFactory.createElement("svg:tspan"),current.tspan.setAttributeNS(null,"font-family",current.fontFamily),current.tspan.setAttributeNS(null,"font-size",pf(current.fontSize)+"px"),current.tspan.setAttributeNS(null,"y",pf(-current.y))},showText:function(glyphs){var current=this.current,font=current.font,fontSize=current.fontSize;if(0!==fontSize){var i,charSpacing=current.charSpacing,wordSpacing=current.wordSpacing,fontDirection=current.fontDirection,textHScale=current.textHScale*fontDirection,glyphsLength=glyphs.length,vertical=font.vertical,widthAdvanceScale=fontSize*current.fontMatrix[0],x=0;for(i=0;i<glyphsLength;++i){var glyph=glyphs[i];if(null!==glyph)if((0,_util.isNum)(glyph))x+=-glyph*fontSize*.001;else{var width=glyph.width,character=glyph.fontChar,charWidth=width*widthAdvanceScale+((glyph.isSpace?wordSpacing:0)+charSpacing)*fontDirection;glyph.isInFont||font.missingFile?(current.xcoords.push(current.x+x*textHScale),current.tspan.textContent+=character,x+=charWidth):x+=charWidth}else x+=fontDirection*wordSpacing}vertical?current.y-=x*textHScale:current.x+=x*textHScale,current.tspan.setAttributeNS(null,"x",current.xcoords.map(pf).join(" ")),current.tspan.setAttributeNS(null,"y",pf(-current.y)),current.tspan.setAttributeNS(null,"font-family",current.fontFamily),current.tspan.setAttributeNS(null,"font-size",pf(current.fontSize)+"px"),current.fontStyle!==SVG_DEFAULTS.fontStyle&&current.tspan.setAttributeNS(null,"font-style",current.fontStyle),current.fontWeight!==SVG_DEFAULTS.fontWeight&&current.tspan.setAttributeNS(null,"font-weight",current.fontWeight);var fillStrokeMode=current.textRenderingMode&_util.TextRenderingMode.FILL_STROKE_MASK;fillStrokeMode===_util.TextRenderingMode.FILL||fillStrokeMode===_util.TextRenderingMode.FILL_STROKE?(current.fillColor!==SVG_DEFAULTS.fillColor&&current.tspan.setAttributeNS(null,"fill",current.fillColor),current.fillAlpha<1&&current.tspan.setAttributeNS(null,"fill-opacity",current.fillAlpha)):current.textRenderingMode===_util.TextRenderingMode.ADD_TO_PATH?current.tspan.setAttributeNS(null,"fill","transparent"):current.tspan.setAttributeNS(null,"fill","none"),fillStrokeMode!==_util.TextRenderingMode.STROKE&&fillStrokeMode!==_util.TextRenderingMode.FILL_STROKE||this._setStrokeAttributes(current.tspan);var textMatrix=current.textMatrix;0!==current.textRise&&((textMatrix=textMatrix.slice())[5]+=current.textRise),current.txtElement.setAttributeNS(null,"transform",pm(textMatrix)+" scale(1, -1)"),current.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),current.txtElement.appendChild(current.tspan),current.txtgrp.appendChild(current.txtElement),this._ensureTransformGroup().appendChild(current.txtElement)}},setLeadingMoveText:function(x,y){this.setLeading(-y),this.moveText(x,y)},addFontStyle:function(fontObj){this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var url=(0,_util.createObjectURL)(fontObj.data,fontObj.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'+fontObj.loadedName+'"; src: url('+url+"); }\n"},setFont:function(details){var current=this.current,fontObj=this.commonObjs.get(details[0]),size=details[1];this.current.font=fontObj,this.embedFonts&&fontObj.data&&!this.embeddedFonts[fontObj.loadedName]&&(this.addFontStyle(fontObj),this.embeddedFonts[fontObj.loadedName]=fontObj),current.fontMatrix=fontObj.fontMatrix?fontObj.fontMatrix:_util.FONT_IDENTITY_MATRIX;var bold=fontObj.black?fontObj.bold?"bolder":"bold":fontObj.bold?"bold":"normal",italic=fontObj.italic?"italic":"normal";size<0?(size=-size,current.fontDirection=-1):current.fontDirection=1,current.fontSize=size,current.fontFamily=fontObj.loadedName,current.fontWeight=bold,current.fontStyle=italic,current.tspan=this.svgFactory.createElement("svg:tspan"),current.tspan.setAttributeNS(null,"y",pf(-current.y)),current.xcoords=[]},endText:function(){var current=this.current;current.textRenderingMode&_util.TextRenderingMode.ADD_TO_PATH_FLAG&&current.txtElement&&current.txtElement.hasChildNodes()&&(current.element=current.txtElement,this.clip("nonzero"),this.endPath())},setLineWidth:function(width){this.current.lineWidth=width},setLineCap:function(style){this.current.lineCap=LINE_CAP_STYLES[style]},setLineJoin:function(style){this.current.lineJoin=LINE_JOIN_STYLES[style]},setMiterLimit:function(limit){this.current.miterLimit=limit},setStrokeAlpha:function(strokeAlpha){this.current.strokeAlpha=strokeAlpha},setStrokeRGBColor:function(r,g,b){var color=_util.Util.makeCssRgb(r,g,b);this.current.strokeColor=color},setFillAlpha:function(fillAlpha){this.current.fillAlpha=fillAlpha},setFillRGBColor:function(r,g,b){var color=_util.Util.makeCssRgb(r,g,b);this.current.fillColor=color,this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[]},setDash:function(dashArray,dashPhase){this.current.dashArray=dashArray,this.current.dashPhase=dashPhase},constructPath:function(ops,args){var current=this.current,x=current.x,y=current.y;current.path=this.svgFactory.createElement("svg:path");for(var d=[],opLength=ops.length,i=0,j=0;i<opLength;i++)switch(0|ops[i]){case _util.OPS.rectangle:x=args[j++],y=args[j++];var xw=x+args[j++],yh=y+args[j++];d.push("M",pf(x),pf(y),"L",pf(xw),pf(y),"L",pf(xw),pf(yh),"L",pf(x),pf(yh),"Z");break;case _util.OPS.moveTo:x=args[j++],y=args[j++],d.push("M",pf(x),pf(y));break;case _util.OPS.lineTo:x=args[j++],y=args[j++],d.push("L",pf(x),pf(y));break;case _util.OPS.curveTo:x=args[j+4],y=args[j+5],d.push("C",pf(args[j]),pf(args[j+1]),pf(args[j+2]),pf(args[j+3]),pf(x),pf(y)),j+=6;break;case _util.OPS.curveTo2:x=args[j+2],y=args[j+3],d.push("C",pf(x),pf(y),pf(args[j]),pf(args[j+1]),pf(args[j+2]),pf(args[j+3])),j+=4;break;case _util.OPS.curveTo3:x=args[j+2],y=args[j+3],d.push("C",pf(args[j]),pf(args[j+1]),pf(x),pf(y),pf(x),pf(y)),j+=4;break;case _util.OPS.closePath:d.push("Z")}current.path.setAttributeNS(null,"d",d.join(" ")),current.path.setAttributeNS(null,"fill","none"),this._ensureTransformGroup().appendChild(current.path),current.element=current.path,current.setCurrentPoint(x,y)},endPath:function(){if(this.pendingClip){var current=this.current,clipId="clippath"+clipCount;clipCount++;var clipPath=this.svgFactory.createElement("svg:clipPath");clipPath.setAttributeNS(null,"id",clipId),clipPath.setAttributeNS(null,"transform",pm(this.transformMatrix));var clipElement=current.element.cloneNode(!0);"evenodd"===this.pendingClip?clipElement.setAttributeNS(null,"clip-rule","evenodd"):clipElement.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,clipPath.appendChild(clipElement),this.defs.appendChild(clipPath),current.activeClipUrl&&(current.clipGroup=null,this.extraStack.forEach(function(prev){prev.clipGroup=null}),clipPath.setAttributeNS(null,"clip-path",current.activeClipUrl)),current.activeClipUrl="url(#"+clipId+")",this.tgrp=null}},clip:function(type){this.pendingClip=type},closePath:function(){var current=this.current;if(current.path){var d=current.path.getAttributeNS(null,"d");d+="Z",current.path.setAttributeNS(null,"d",d)}},setLeading:function(leading){this.current.leading=-leading},setTextRise:function(textRise){this.current.textRise=textRise},setTextRenderingMode:function(textRenderingMode){this.current.textRenderingMode=textRenderingMode},setHScale:function(scale){this.current.textHScale=scale/100},setGState:function(states){for(var i=0,ii=states.length;i<ii;i++){var state=states[i],key=state[0],value=state[1];switch(key){case"LW":this.setLineWidth(value);break;case"LC":this.setLineCap(value);break;case"LJ":this.setLineJoin(value);break;case"ML":this.setMiterLimit(value);break;case"D":this.setDash(value[0],value[1]);break;case"Font":this.setFont(value);break;case"CA":this.setStrokeAlpha(value);break;case"ca":this.setFillAlpha(value);break;default:(0,_util.warn)("Unimplemented graphic state "+key)}}},fill:function(){var current=this.current;current.element&&(current.element.setAttributeNS(null,"fill",current.fillColor),current.element.setAttributeNS(null,"fill-opacity",current.fillAlpha),this.endPath())},stroke:function(){var current=this.current;current.element&&(this._setStrokeAttributes(current.element),current.element.setAttributeNS(null,"fill","none"),this.endPath())},_setStrokeAttributes:function(element){var current=this.current;element.setAttributeNS(null,"stroke",current.strokeColor),element.setAttributeNS(null,"stroke-opacity",current.strokeAlpha),element.setAttributeNS(null,"stroke-miterlimit",pf(current.miterLimit)),element.setAttributeNS(null,"stroke-linecap",current.lineCap),element.setAttributeNS(null,"stroke-linejoin",current.lineJoin),element.setAttributeNS(null,"stroke-width",pf(current.lineWidth)+"px"),element.setAttributeNS(null,"stroke-dasharray",current.dashArray.map(pf).join(" ")),element.setAttributeNS(null,"stroke-dashoffset",pf(current.dashPhase)+"px")},eoFill:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()},fillStroke:function(){this.stroke(),this.fill()},eoFillStroke:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()},closeStroke:function(){this.closePath(),this.stroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.closePath(),this.eoFillStroke()},paintSolidColorImageMask:function(){var current=this.current,rect=this.svgFactory.createElement("svg:rect");rect.setAttributeNS(null,"x","0"),rect.setAttributeNS(null,"y","0"),rect.setAttributeNS(null,"width","1px"),rect.setAttributeNS(null,"height","1px"),rect.setAttributeNS(null,"fill",current.fillColor),this._ensureTransformGroup().appendChild(rect)},paintJpegXObject:function(objId,w,h){var imgObj=this.objs.get(objId),imgEl=this.svgFactory.createElement("svg:image");imgEl.setAttributeNS(XLINK_NS,"xlink:href",imgObj.src),imgEl.setAttributeNS(null,"width",pf(w)),imgEl.setAttributeNS(null,"height",pf(h)),imgEl.setAttributeNS(null,"x","0"),imgEl.setAttributeNS(null,"y",pf(-h)),imgEl.setAttributeNS(null,"transform","scale("+pf(1/w)+" "+pf(-1/h)+")"),this._ensureTransformGroup().appendChild(imgEl)},paintImageXObject:function(objId){var imgData=this.objs.get(objId);imgData?this.paintInlineImageXObject(imgData):(0,_util.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(imgData,mask){var width=imgData.width,height=imgData.height,imgSrc=convertImgDataToPng(imgData,this.forceDataSchema,!!mask),cliprect=this.svgFactory.createElement("svg:rect");cliprect.setAttributeNS(null,"x","0"),cliprect.setAttributeNS(null,"y","0"),cliprect.setAttributeNS(null,"width",pf(width)),cliprect.setAttributeNS(null,"height",pf(height)),this.current.element=cliprect,this.clip("nonzero");var imgEl=this.svgFactory.createElement("svg:image");imgEl.setAttributeNS(XLINK_NS,"xlink:href",imgSrc),imgEl.setAttributeNS(null,"x","0"),imgEl.setAttributeNS(null,"y",pf(-height)),imgEl.setAttributeNS(null,"width",pf(width)+"px"),imgEl.setAttributeNS(null,"height",pf(height)+"px"),imgEl.setAttributeNS(null,"transform","scale("+pf(1/width)+" "+pf(-1/height)+")"),mask?mask.appendChild(imgEl):this._ensureTransformGroup().appendChild(imgEl)},paintImageMaskXObject:function(imgData){var current=this.current,width=imgData.width,height=imgData.height,fillColor=current.fillColor;current.maskId="mask"+maskCount++;var mask=this.svgFactory.createElement("svg:mask");mask.setAttributeNS(null,"id",current.maskId);var rect=this.svgFactory.createElement("svg:rect");rect.setAttributeNS(null,"x","0"),rect.setAttributeNS(null,"y","0"),rect.setAttributeNS(null,"width",pf(width)),rect.setAttributeNS(null,"height",pf(height)),rect.setAttributeNS(null,"fill",fillColor),rect.setAttributeNS(null,"mask","url(#"+current.maskId+")"),this.defs.appendChild(mask),this._ensureTransformGroup().appendChild(rect),this.paintInlineImageXObject(imgData,mask)},paintFormXObjectBegin:function(matrix,bbox){if(Array.isArray(matrix)&&6===matrix.length&&this.transform(matrix[0],matrix[1],matrix[2],matrix[3],matrix[4],matrix[5]),Array.isArray(bbox)&&4===bbox.length){var width=bbox[2]-bbox[0],height=bbox[3]-bbox[1],cliprect=this.svgFactory.createElement("svg:rect");cliprect.setAttributeNS(null,"x",bbox[0]),cliprect.setAttributeNS(null,"y",bbox[1]),cliprect.setAttributeNS(null,"width",pf(width)),cliprect.setAttributeNS(null,"height",pf(height)),this.current.element=cliprect,this.clip("nonzero"),this.endPath()}},paintFormXObjectEnd:function(){},_initialize:function(viewport){var svg=this.svgFactory.create(viewport.width,viewport.height),definitions=this.svgFactory.createElement("svg:defs");svg.appendChild(definitions),this.defs=definitions;var rootGroup=this.svgFactory.createElement("svg:g");return rootGroup.setAttributeNS(null,"transform",pm(viewport.transform)),svg.appendChild(rootGroup),this.svg=rootGroup,svg},_ensureClipGroup:function(){if(!this.current.clipGroup){var clipGroup=this.svgFactory.createElement("svg:g");clipGroup.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(clipGroup),this.current.clipGroup=clipGroup}return this.current.clipGroup},_ensureTransformGroup:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",pm(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}},SVGGraphics}(),exports.SVGGraphics=SVGGraphics},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFNodeStream=void 0;var obj,_regenerator=__w_pdfjs_require__(137),_regenerator2=(obj=_regenerator)&&obj.__esModule?obj:{default:obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_util=__w_pdfjs_require__(1),_network_utils=__w_pdfjs_require__(149);function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){return function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var fs=__webpack_require__(67),http=__webpack_require__(65),https=__webpack_require__(95),url=__webpack_require__(20),fileUriRegex=/^file:\/\/\/[a-zA-Z]:\//;var PDFNodeStream=function(){function PDFNodeStream(source){var sourceUrl,parsedUrl;_classCallCheck(this,PDFNodeStream),this.source=source,this.url=(sourceUrl=source.url,"file:"===(parsedUrl=url.parse(sourceUrl)).protocol||parsedUrl.host?parsedUrl:/^[a-z]:[\/\\]/i.test(sourceUrl)?url.parse("file:///"+sourceUrl):(parsedUrl.host||(parsedUrl.protocol="file:"),parsedUrl)),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&source.httpHeaders||{},this._fullRequest=null,this._rangeRequestReaders=[]}return _createClass(PDFNodeStream,[{key:"getFullReader",value:function(){return(0,_util.assert)(!this._fullRequest),this._fullRequest=this.isFsUrl?new PDFNodeStreamFsFullReader(this):new PDFNodeStreamFullReader(this),this._fullRequest}},{key:"getRangeReader",value:function(start,end){var rangeReader=this.isFsUrl?new PDFNodeStreamFsRangeReader(this,start,end):new PDFNodeStreamRangeReader(this,start,end);return this._rangeRequestReaders.push(rangeReader),rangeReader}},{key:"cancelAllRequests",value:function(reason){this._fullRequest&&this._fullRequest.cancel(reason),this._rangeRequestReaders.slice(0).forEach(function(reader){reader.cancel(reason)})}}]),PDFNodeStream}(),BaseFullReader=function(){function BaseFullReader(stream){_classCallCheck(this,BaseFullReader),this._url=stream.url,this._done=!1,this._storedError=null,this.onProgress=null;var source=stream.source;this._contentLength=source.length,this._loaded=0,this._filename=null,this._disableRange=source.disableRange||!1,this._rangeChunkSize=source.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!source.disableStream,this._isRangeSupported=!source.disableRange,this._readableStream=null,this._readCapability=(0,_util.createPromiseCapability)(),this._headersCapability=(0,_util.createPromiseCapability)()}var _ref;return _createClass(BaseFullReader,[{key:"read",value:(_ref=_asyncToGenerator(_regenerator2.default.mark(function _callee(){var chunk,buffer;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this._readCapability.promise;case 2:if(!this._done){_context.next=4;break}return _context.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){_context.next=6;break}throw this._storedError;case 6:if(null!==(chunk=this._readableStream.read())){_context.next=10;break}return this._readCapability=(0,_util.createPromiseCapability)(),_context.abrupt("return",this.read());case 10:return this._loaded+=chunk.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),buffer=new Uint8Array(chunk).buffer,_context.abrupt("return",{value:buffer,done:!1});case 14:case"end":return _context.stop()}},_callee,this)})),function(){return _ref.apply(this,arguments)})},{key:"cancel",value:function(reason){this._readableStream?this._readableStream.destroy(reason):this._error(reason)}},{key:"_error",value:function(reason){this._storedError=reason,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(readableStream){var _this=this;this._readableStream=readableStream,readableStream.on("readable",function(){_this._readCapability.resolve()}),readableStream.on("end",function(){readableStream.destroy(),_this._done=!0,_this._readCapability.resolve()}),readableStream.on("error",function(reason){_this._error(reason)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new _util.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),BaseFullReader}(),BaseRangeReader=function(){function BaseRangeReader(stream){_classCallCheck(this,BaseRangeReader),this._url=stream.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,_util.createPromiseCapability)();var source=stream.source;this._isStreamingSupported=!source.disableStream}var _ref2;return _createClass(BaseRangeReader,[{key:"read",value:(_ref2=_asyncToGenerator(_regenerator2.default.mark(function _callee2(){var chunk,buffer;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this._readCapability.promise;case 2:if(!this._done){_context2.next=4;break}return _context2.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){_context2.next=6;break}throw this._storedError;case 6:if(null!==(chunk=this._readableStream.read())){_context2.next=10;break}return this._readCapability=(0,_util.createPromiseCapability)(),_context2.abrupt("return",this.read());case 10:return this._loaded+=chunk.length,this.onProgress&&this.onProgress({loaded:this._loaded}),buffer=new Uint8Array(chunk).buffer,_context2.abrupt("return",{value:buffer,done:!1});case 14:case"end":return _context2.stop()}},_callee2,this)})),function(){return _ref2.apply(this,arguments)})},{key:"cancel",value:function(reason){this._readableStream?this._readableStream.destroy(reason):this._error(reason)}},{key:"_error",value:function(reason){this._storedError=reason,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(readableStream){var _this2=this;this._readableStream=readableStream,readableStream.on("readable",function(){_this2._readCapability.resolve()}),readableStream.on("end",function(){readableStream.destroy(),_this2._done=!0,_this2._readCapability.resolve()}),readableStream.on("error",function(reason){_this2._error(reason)}),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),BaseRangeReader}();function createRequestOptions(url,headers){return{protocol:url.protocol,auth:url.auth,host:url.hostname,port:url.port,path:url.path,method:"GET",headers:headers}}var PDFNodeStreamFullReader=function(_BaseFullReader){function PDFNodeStreamFullReader(stream){_classCallCheck(this,PDFNodeStreamFullReader);var _this3=_possibleConstructorReturn(this,(PDFNodeStreamFullReader.__proto__||Object.getPrototypeOf(PDFNodeStreamFullReader)).call(this,stream)),handleResponse=function(response){if(404===response.statusCode){var error=new _util.MissingPDFException('Missing PDF "'+_this3._url+'".');return _this3._storedError=error,void _this3._headersCapability.reject(error)}_this3._headersCapability.resolve(),_this3._setReadableStream(response);var getResponseHeader=function(name){return _this3._readableStream.headers[name.toLowerCase()]},_validateRangeRequest=(0,_network_utils.validateRangeRequestCapabilities)({getResponseHeader:getResponseHeader,isHttp:stream.isHttp,rangeChunkSize:_this3._rangeChunkSize,disableRange:_this3._disableRange}),allowRangeRequests=_validateRangeRequest.allowRangeRequests,suggestedLength=_validateRangeRequest.suggestedLength;_this3._isRangeSupported=allowRangeRequests,_this3._contentLength=suggestedLength||_this3._contentLength,_this3._filename=(0,_network_utils.extractFilenameFromHeader)(getResponseHeader)};return _this3._request=null,"http:"===_this3._url.protocol?_this3._request=http.request(createRequestOptions(_this3._url,stream.httpHeaders),handleResponse):_this3._request=https.request(createRequestOptions(_this3._url,stream.httpHeaders),handleResponse),_this3._request.on("error",function(reason){_this3._storedError=reason,_this3._headersCapability.reject(reason)}),_this3._request.end(),_this3}return _inherits(PDFNodeStreamFullReader,BaseFullReader),PDFNodeStreamFullReader}(),PDFNodeStreamRangeReader=function(_BaseRangeReader){function PDFNodeStreamRangeReader(stream,start,end){_classCallCheck(this,PDFNodeStreamRangeReader);var _this4=_possibleConstructorReturn(this,(PDFNodeStreamRangeReader.__proto__||Object.getPrototypeOf(PDFNodeStreamRangeReader)).call(this,stream));for(var property in _this4._httpHeaders={},stream.httpHeaders){var value=stream.httpHeaders[property];void 0!==value&&(_this4._httpHeaders[property]=value)}_this4._httpHeaders.Range="bytes="+start+"-"+(end-1);var handleResponse=function(response){if(404!==response.statusCode)_this4._setReadableStream(response);else{var error=new _util.MissingPDFException('Missing PDF "'+_this4._url+'".');_this4._storedError=error}};return _this4._request=null,"http:"===_this4._url.protocol?_this4._request=http.request(createRequestOptions(_this4._url,_this4._httpHeaders),handleResponse):_this4._request=https.request(createRequestOptions(_this4._url,_this4._httpHeaders),handleResponse),_this4._request.on("error",function(reason){_this4._storedError=reason}),_this4._request.end(),_this4}return _inherits(PDFNodeStreamRangeReader,BaseRangeReader),PDFNodeStreamRangeReader}(),PDFNodeStreamFsFullReader=function(_BaseFullReader2){function PDFNodeStreamFsFullReader(stream){_classCallCheck(this,PDFNodeStreamFsFullReader);var _this5=_possibleConstructorReturn(this,(PDFNodeStreamFsFullReader.__proto__||Object.getPrototypeOf(PDFNodeStreamFsFullReader)).call(this,stream)),path=decodeURIComponent(_this5._url.path);return fileUriRegex.test(_this5._url.href)&&(path=path.replace(/^\//,"")),fs.lstat(path,function(error,stat){if(error)return"ENOENT"===error.code&&(error=new _util.MissingPDFException('Missing PDF "'+path+'".')),_this5._storedError=error,void _this5._headersCapability.reject(error);_this5._contentLength=stat.size,_this5._setReadableStream(fs.createReadStream(path)),_this5._headersCapability.resolve()}),_this5}return _inherits(PDFNodeStreamFsFullReader,BaseFullReader),PDFNodeStreamFsFullReader}(),PDFNodeStreamFsRangeReader=function(_BaseRangeReader2){function PDFNodeStreamFsRangeReader(stream,start,end){_classCallCheck(this,PDFNodeStreamFsRangeReader);var _this6=_possibleConstructorReturn(this,(PDFNodeStreamFsRangeReader.__proto__||Object.getPrototypeOf(PDFNodeStreamFsRangeReader)).call(this,stream)),path=decodeURIComponent(_this6._url.path);return fileUriRegex.test(_this6._url.href)&&(path=path.replace(/^\//,"")),_this6._setReadableStream(fs.createReadStream(path,{start:start,end:end-1})),_this6}return _inherits(PDFNodeStreamFsRangeReader,BaseRangeReader),PDFNodeStreamFsRangeReader}();exports.PDFNodeStream=PDFNodeStream},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.validateResponseStatus=exports.validateRangeRequestCapabilities=exports.extractFilenameFromHeader=exports.createResponseStatusError=void 0;var _util=__w_pdfjs_require__(1),_content_disposition=__w_pdfjs_require__(150);exports.createResponseStatusError=function(status,url){return 404===status||0===status&&/^file:/.test(url)?new _util.MissingPDFException('Missing PDF "'+url+'".'):new _util.UnexpectedResponseException("Unexpected server response ("+status+') while retrieving PDF "'+url+'".',status)},exports.extractFilenameFromHeader=function(getResponseHeader){var contentDisposition=getResponseHeader("Content-Disposition");if(contentDisposition){var filename=(0,_content_disposition.getFilenameFromContentDispositionHeader)(contentDisposition);if(/\.pdf$/i.test(filename))return filename}return null},exports.validateRangeRequestCapabilities=function(_ref){var getResponseHeader=_ref.getResponseHeader,isHttp=_ref.isHttp,rangeChunkSize=_ref.rangeChunkSize,disableRange=_ref.disableRange;(0,_util.assert)(rangeChunkSize>0,"Range chunk size must be larger than zero");var returnValues={allowRangeRequests:!1,suggestedLength:void 0},length=parseInt(getResponseHeader("Content-Length"),10);return Number.isInteger(length)?(returnValues.suggestedLength=length,length<=2*rangeChunkSize?returnValues:disableRange||!isHttp?returnValues:"bytes"!==getResponseHeader("Accept-Ranges")?returnValues:"identity"!==(getResponseHeader("Content-Encoding")||"identity")?returnValues:(returnValues.allowRangeRequests=!0,returnValues)):returnValues},exports.validateResponseStatus=function(status){return 200===status||206===status}},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return function(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")};exports.getFilenameFromContentDispositionHeader=function(contentDisposition){var needsEncodingFixup=!0,tmp=toParamRegExp("filename\\*","i").exec(contentDisposition);if(tmp){var filename=rfc2616unquote(tmp=tmp[1]);return fixupEncoding(filename=rfc2047decode(filename=rfc5987decode(filename=unescape(filename))))}if(tmp=function(contentDisposition){for(var matches=[],match=void 0,iter=toParamRegExp("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(match=iter.exec(contentDisposition));){var _match=match,_match2=_slicedToArray(_match,4),n=_match2[1],quot=_match2[2],part=_match2[3];if((n=parseInt(n,10))in matches){if(0===n)break}else matches[n]=[quot,part]}for(var parts=[],_n=0;_n<matches.length&&_n in matches;++_n){var _matches$_n=_slicedToArray(matches[_n],2),_quot=_matches$_n[0],_part=_matches$_n[1];_part=rfc2616unquote(_part),_quot&&(_part=unescape(_part),0===_n&&(_part=rfc5987decode(_part))),parts.push(_part)}return parts.join("")}(contentDisposition))return fixupEncoding(rfc2047decode(tmp));if(tmp=toParamRegExp("filename","i").exec(contentDisposition)){var _filename2=rfc2616unquote(tmp=tmp[1]);return fixupEncoding(_filename2=rfc2047decode(_filename2))}function toParamRegExp(attributePattern,flags){return new RegExp("(?:^|;)\\s*"+attributePattern+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',flags)}function textdecode(encoding,value){if(encoding){if(!/^[\x00-\xFF]+$/.test(value))return value;try{for(var decoder=new TextDecoder(encoding,{fatal:!0}),bytes=new Array(value.length),i=0;i<value.length;++i)bytes[i]=value.charCodeAt(i);value=decoder.decode(new Uint8Array(bytes)),needsEncodingFixup=!1}catch(e){if(/^utf-?8$/i.test(encoding))try{value=decodeURIComponent(escape(value)),needsEncodingFixup=!1}catch(err){}}}return value}function fixupEncoding(value){return needsEncodingFixup&&/[\x80-\xff]/.test(value)&&(value=textdecode("utf-8",value),needsEncodingFixup&&(value=textdecode("iso-8859-1",value))),value}function rfc2616unquote(value){if('"'===value.charAt(0)){for(var parts=value.slice(1).split('\\"'),i=0;i<parts.length;++i){var quotindex=parts[i].indexOf('"');-1!==quotindex&&(parts[i]=parts[i].slice(0,quotindex),parts.length=i+1),parts[i]=parts[i].replace(/\\(.)/g,"$1")}value=parts.join('"')}return value}function rfc5987decode(extvalue){var encodingend=extvalue.indexOf("'");return-1===encodingend?extvalue:textdecode(extvalue.slice(0,encodingend),extvalue.slice(encodingend+1).replace(/^[^']*'/,""))}function rfc2047decode(value){return"=?"!==value.slice(0,2)||/[\x00-\x19\x80-\xff]/.test(value)?value:value.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(_,charset,encoding,text){if("q"===encoding||"Q"===encoding)return textdecode(charset,text=(text=text.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(_,hex){return String.fromCharCode(parseInt(hex,16))}));try{text=atob(text)}catch(e){}return textdecode(charset,text)})}return""}},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PDFFetchStream=void 0;var obj,_regenerator=__w_pdfjs_require__(137),_regenerator2=(obj=_regenerator)&&obj.__esModule?obj:{default:obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_util=__w_pdfjs_require__(1),_network_utils=__w_pdfjs_require__(149);function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){return function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}("next")})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function createFetchOptions(headers,withCredentials,abortController){return{method:"GET",headers:headers,signal:abortController&&abortController.signal,mode:"cors",credentials:withCredentials?"include":"same-origin",redirect:"follow"}}var PDFFetchStream=function(){function PDFFetchStream(source){_classCallCheck(this,PDFFetchStream),this.source=source,this.isHttp=/^https?:/i.test(source.url),this.httpHeaders=this.isHttp&&source.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(PDFFetchStream,[{key:"getFullReader",value:function(){return(0,_util.assert)(!this._fullRequestReader),this._fullRequestReader=new PDFFetchStreamReader(this),this._fullRequestReader}},{key:"getRangeReader",value:function(begin,end){var reader=new PDFFetchStreamRangeReader(this,begin,end);return this._rangeRequestReaders.push(reader),reader}},{key:"cancelAllRequests",value:function(reason){this._fullRequestReader&&this._fullRequestReader.cancel(reason),this._rangeRequestReaders.slice(0).forEach(function(reader){reader.cancel(reason)})}}]),PDFFetchStream}(),PDFFetchStreamReader=function(){function PDFFetchStreamReader(stream){var _this=this;_classCallCheck(this,PDFFetchStreamReader),this._stream=stream,this._reader=null,this._loaded=0,this._filename=null;var source=stream.source;for(var property in this._withCredentials=source.withCredentials,this._contentLength=source.length,this._headersCapability=(0,_util.createPromiseCapability)(),this._disableRange=source.disableRange||!1,this._rangeChunkSize=source.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!source.disableStream,this._isRangeSupported=!source.disableRange,this._headers=new Headers,this._stream.httpHeaders){var value=this._stream.httpHeaders[property];void 0!==value&&this._headers.append(property,value)}var url=source.url;fetch(url,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(function(response){if(!(0,_network_utils.validateResponseStatus)(response.status))throw(0,_network_utils.createResponseStatusError)(response.status,url);_this._reader=response.body.getReader(),_this._headersCapability.resolve();var getResponseHeader=function(name){return response.headers.get(name)},_validateRangeRequest=(0,_network_utils.validateRangeRequestCapabilities)({getResponseHeader:getResponseHeader,isHttp:_this._stream.isHttp,rangeChunkSize:_this._rangeChunkSize,disableRange:_this._disableRange}),allowRangeRequests=_validateRangeRequest.allowRangeRequests,suggestedLength=_validateRangeRequest.suggestedLength;_this._isRangeSupported=allowRangeRequests,_this._contentLength=suggestedLength||_this._contentLength,_this._filename=(0,_network_utils.extractFilenameFromHeader)(getResponseHeader),!_this._isStreamingSupported&&_this._isRangeSupported&&_this.cancel(new _util.AbortException("streaming is disabled"))}).catch(this._headersCapability.reject),this.onProgress=null}var _ref;return _createClass(PDFFetchStreamReader,[{key:"read",value:(_ref=_asyncToGenerator(_regenerator2.default.mark(function _callee(){var _ref2,value,done,buffer;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this._headersCapability.promise;case 2:return _context.next=4,this._reader.read();case 4:if(_ref2=_context.sent,value=_ref2.value,!(done=_ref2.done)){_context.next=9;break}return _context.abrupt("return",{value:value,done:done});case 9:return this._loaded+=value.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),buffer=new Uint8Array(value).buffer,_context.abrupt("return",{value:buffer,done:!1});case 13:case"end":return _context.stop()}},_callee,this)})),function(){return _ref.apply(this,arguments)})},{key:"cancel",value:function(reason){this._reader&&this._reader.cancel(reason),this._abortController&&this._abortController.abort()}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),PDFFetchStreamReader}(),PDFFetchStreamRangeReader=function(){function PDFFetchStreamRangeReader(stream,begin,end){var _this2=this;_classCallCheck(this,PDFFetchStreamRangeReader),this._stream=stream,this._reader=null,this._loaded=0;var source=stream.source;for(var property in this._withCredentials=source.withCredentials,this._readCapability=(0,_util.createPromiseCapability)(),this._isStreamingSupported=!source.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=new Headers,this._stream.httpHeaders){var value=this._stream.httpHeaders[property];void 0!==value&&this._headers.append(property,value)}var rangeStr=begin+"-"+(end-1);this._headers.append("Range","bytes="+rangeStr);var url=source.url;fetch(url,createFetchOptions(this._headers,this._withCredentials,this._abortController)).then(function(response){if(!(0,_network_utils.validateResponseStatus)(response.status))throw(0,_network_utils.createResponseStatusError)(response.status,url);_this2._readCapability.resolve(),_this2._reader=response.body.getReader()}),this.onProgress=null}var _ref3;return _createClass(PDFFetchStreamRangeReader,[{key:"read",value:(_ref3=_asyncToGenerator(_regenerator2.default.mark(function _callee2(){var _ref4,value,done,buffer;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this._readCapability.promise;case 2:return _context2.next=4,this._reader.read();case 4:if(_ref4=_context2.sent,value=_ref4.value,!(done=_ref4.done)){_context2.next=9;break}return _context2.abrupt("return",{value:value,done:done});case 9:return this._loaded+=value.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),buffer=new Uint8Array(value).buffer,_context2.abrupt("return",{value:buffer,done:!1});case 13:case"end":return _context2.stop()}},_callee2,this)})),function(){return _ref3.apply(this,arguments)})},{key:"cancel",value:function(reason){this._reader&&this._reader.cancel(reason),this._abortController&&this._abortController.abort()}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),PDFFetchStreamRangeReader}();exports.PDFFetchStream=PDFFetchStream},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NetworkManager=exports.PDFNetworkStream=void 0;var _regenerator2=_interopRequireDefault(__w_pdfjs_require__(137)),_util=__w_pdfjs_require__(1),_network_utils=__w_pdfjs_require__(149),_global_scope2=_interopRequireDefault(__w_pdfjs_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){return function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}("next")})}}function NetworkManager(url,args){this.url=url,args=args||{},this.isHttp=/^https?:/i.test(url),this.httpHeaders=this.isHttp&&args.httpHeaders||{},this.withCredentials=args.withCredentials||!1,this.getXhr=args.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null),this.loadedRequests=Object.create(null)}function getArrayBuffer(xhr){var data=xhr.response;return"string"!=typeof data?data:(0,_util.stringToBytes)(data).buffer}var _ref,_ref2,supportsMozChunked=function(){try{var x=new XMLHttpRequest;return x.open("GET",_global_scope2.default.location.href),x.responseType="moz-chunked-arraybuffer","moz-chunked-arraybuffer"===x.responseType}catch(e){return!1}}();function PDFNetworkStream(source){this._source=source,this._manager=new NetworkManager(source.url,{httpHeaders:source.httpHeaders,withCredentials:source.withCredentials}),this._rangeChunkSize=source.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}function PDFNetworkStreamFullRequestReader(manager,source){this._manager=manager;var args={onHeadersReceived:this._onHeadersReceived.bind(this),onProgressiveData:source.disableStream?null:this._onProgressiveData.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=source.url,this._fullRequestId=manager.requestFull(args),this._headersReceivedCapability=(0,_util.createPromiseCapability)(),this._disableRange=source.disableRange||!1,this._contentLength=source.length,this._rangeChunkSize=source.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}function PDFNetworkStreamRangeRequestReader(manager,begin,end){this._manager=manager;var args={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=manager.requestRange(begin,end,args),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}NetworkManager.prototype={requestRange:function(begin,end,listeners){var args={begin:begin,end:end};for(var prop in listeners)args[prop]=listeners[prop];return this.request(args)},requestFull:function(listeners){return this.request(listeners)},request:function(args){var xhr=this.getXhr(),xhrId=this.currXhrId++,pendingRequest=this.pendingRequests[xhrId]={xhr:xhr};for(var property in xhr.open("GET",this.url),xhr.withCredentials=this.withCredentials,this.httpHeaders){var value=this.httpHeaders[property];void 0!==value&&xhr.setRequestHeader(property,value)}if(this.isHttp&&"begin"in args&&"end"in args){var rangeStr=args.begin+"-"+(args.end-1);xhr.setRequestHeader("Range","bytes="+rangeStr),pendingRequest.expectedStatus=206}else pendingRequest.expectedStatus=200;return supportsMozChunked&&!!args.onProgressiveData?(xhr.responseType="moz-chunked-arraybuffer",pendingRequest.onProgressiveData=args.onProgressiveData,pendingRequest.mozChunked=!0):xhr.responseType="arraybuffer",args.onError&&(xhr.onerror=function(evt){args.onError(xhr.status)}),xhr.onreadystatechange=this.onStateChange.bind(this,xhrId),xhr.onprogress=this.onProgress.bind(this,xhrId),pendingRequest.onHeadersReceived=args.onHeadersReceived,pendingRequest.onDone=args.onDone,pendingRequest.onError=args.onError,pendingRequest.onProgress=args.onProgress,xhr.send(null),xhrId},onProgress:function(xhrId,evt){var pendingRequest=this.pendingRequests[xhrId];if(pendingRequest){if(pendingRequest.mozChunked){var chunk=getArrayBuffer(pendingRequest.xhr);pendingRequest.onProgressiveData(chunk)}var onProgress=pendingRequest.onProgress;onProgress&&onProgress(evt)}},onStateChange:function(xhrId,evt){var pendingRequest=this.pendingRequests[xhrId];if(pendingRequest){var xhr=pendingRequest.xhr;if(xhr.readyState>=2&&pendingRequest.onHeadersReceived&&(pendingRequest.onHeadersReceived(),delete pendingRequest.onHeadersReceived),4===xhr.readyState&&xhrId in this.pendingRequests)if(delete this.pendingRequests[xhrId],0===xhr.status&&this.isHttp)pendingRequest.onError&&pendingRequest.onError(xhr.status);else{var xhrStatus=xhr.status||200;if(200===xhrStatus&&206===pendingRequest.expectedStatus||xhrStatus===pendingRequest.expectedStatus){this.loadedRequests[xhrId]=!0;var chunk=getArrayBuffer(xhr);if(206===xhrStatus){var rangeHeader=xhr.getResponseHeader("Content-Range"),matches=/bytes (\d+)-(\d+)\/(\d+)/.exec(rangeHeader),begin=parseInt(matches[1],10);pendingRequest.onDone({begin:begin,chunk:chunk})}else pendingRequest.onProgressiveData?pendingRequest.onDone(null):chunk?pendingRequest.onDone({begin:0,chunk:chunk}):pendingRequest.onError&&pendingRequest.onError(xhr.status)}else pendingRequest.onError&&pendingRequest.onError(xhr.status)}}},hasPendingRequests:function(){for(var xhrId in this.pendingRequests)return!0;return!1},getRequestXhr:function(xhrId){return this.pendingRequests[xhrId].xhr},isStreamingRequest:function(xhrId){return!!this.pendingRequests[xhrId].onProgressiveData},isPendingRequest:function(xhrId){return xhrId in this.pendingRequests},isLoadedRequest:function(xhrId){return xhrId in this.loadedRequests},abortAllRequests:function(){for(var xhrId in this.pendingRequests)this.abortRequest(0|xhrId)},abortRequest:function(xhrId){var xhr=this.pendingRequests[xhrId].xhr;delete this.pendingRequests[xhrId],xhr.abort()}},PDFNetworkStream.prototype={_onRangeRequestReaderClosed:function(reader){var i=this._rangeRequestReaders.indexOf(reader);i>=0&&this._rangeRequestReaders.splice(i,1)},getFullReader:function(){return(0,_util.assert)(!this._fullRequestReader),this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source),this._fullRequestReader},getRangeReader:function(begin,end){var reader=new PDFNetworkStreamRangeRequestReader(this._manager,begin,end);return reader.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(reader),reader},cancelAllRequests:function(reason){this._fullRequestReader&&this._fullRequestReader.cancel(reason),this._rangeRequestReaders.slice(0).forEach(function(reader){reader.cancel(reason)})}},PDFNetworkStreamFullRequestReader.prototype={_onHeadersReceived:function(){var fullRequestXhrId=this._fullRequestId,fullRequestXhr=this._manager.getRequestXhr(fullRequestXhrId),getResponseHeader=function(name){return fullRequestXhr.getResponseHeader(name)},_validateRangeRequest=(0,_network_utils.validateRangeRequestCapabilities)({getResponseHeader:getResponseHeader,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),allowRangeRequests=_validateRangeRequest.allowRangeRequests,suggestedLength=_validateRangeRequest.suggestedLength;allowRangeRequests&&(this._isRangeSupported=!0),this._contentLength=suggestedLength||this._contentLength,this._filename=(0,_network_utils.extractFilenameFromHeader)(getResponseHeader);var networkManager=this._manager;networkManager.isStreamingRequest(fullRequestXhrId)?this._isStreamingSupported=!0:this._isRangeSupported&&networkManager.abortRequest(fullRequestXhrId),this._headersReceivedCapability.resolve()},_onProgressiveData:function(chunk){this._requests.length>0?this._requests.shift().resolve({value:chunk,done:!1}):this._cachedChunks.push(chunk)},_onDone:function(args){args&&this._onProgressiveData(args.chunk),this._done=!0,this._cachedChunks.length>0||(this._requests.forEach(function(requestCapability){requestCapability.resolve({value:void 0,done:!0})}),this._requests=[])},_onError:function(status){var url=this._url,exception=(0,_network_utils.createResponseStatusError)(status,url);this._storedError=exception,this._headersReceivedCapability.reject(exception),this._requests.forEach(function(requestCapability){requestCapability.reject(exception)}),this._requests=[],this._cachedChunks=[]},_onProgress:function(data){this.onProgress&&this.onProgress({loaded:data.loaded,total:data.lengthComputable?data.total:this._contentLength})},get filename(){return this._filename},get isRangeSupported(){return this._isRangeSupported},get isStreamingSupported(){return this._isStreamingSupported},get contentLength(){return this._contentLength},get headersReady(){return this._headersReceivedCapability.promise},read:(_ref=_asyncToGenerator(_regenerator2.default.mark(function _callee(){var chunk,requestCapability;return _regenerator2.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!this._storedError){_context.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){_context.next=5;break}return chunk=this._cachedChunks.shift(),_context.abrupt("return",{value:chunk,done:!1});case 5:if(!this._done){_context.next=7;break}return _context.abrupt("return",{value:void 0,done:!0});case 7:return requestCapability=(0,_util.createPromiseCapability)(),this._requests.push(requestCapability),_context.abrupt("return",requestCapability.promise);case 10:case"end":return _context.stop()}},_callee,this)})),function(){return _ref.apply(this,arguments)}),cancel:function(reason){this._done=!0,this._headersReceivedCapability.reject(reason),this._requests.forEach(function(requestCapability){requestCapability.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},PDFNetworkStreamRangeRequestReader.prototype={_close:function(){this.onClosed&&this.onClosed(this)},_onDone:function(data){var chunk=data.chunk;this._requests.length>0?this._requests.shift().resolve({value:chunk,done:!1}):this._queuedChunk=chunk;this._done=!0,this._requests.forEach(function(requestCapability){requestCapability.resolve({value:void 0,done:!0})}),this._requests=[],this._close()},_onProgress:function(evt){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:evt.loaded})},get isStreamingSupported(){return!1},read:(_ref2=_asyncToGenerator(_regenerator2.default.mark(function _callee2(){var chunk,requestCapability;return _regenerator2.default.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(null===this._queuedChunk){_context2.next=4;break}return chunk=this._queuedChunk,this._queuedChunk=null,_context2.abrupt("return",{value:chunk,done:!1});case 4:if(!this._done){_context2.next=6;break}return _context2.abrupt("return",{value:void 0,done:!0});case 6:return requestCapability=(0,_util.createPromiseCapability)(),this._requests.push(requestCapability),_context2.abrupt("return",requestCapability.promise);case 9:case"end":return _context2.stop()}},_callee2,this)})),function(){return _ref2.apply(this,arguments)}),cancel:function(reason){this._done=!0,this._requests.forEach(function(requestCapability){requestCapability.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},exports.PDFNetworkStream=PDFNetworkStream,exports.NetworkManager=NetworkManager}])},module.exports=factory()},function(module,exports,__webpack_require__){"use strict";var _regeneratorRuntime=__webpack_require__(0),_asyncToGenerator=__webpack_require__(3),tokenizer=__webpack_require__(600).tokenizer,createGlobalModel=__webpack_require__(1363).createModel,createLocalModel=__webpack_require__(1368).createModel,log=__webpack_require__(58).namespace("categorization");function createCategorizer(){return _createCategorizer.apply(this,arguments)}function _createCategorizer(){return(_createCategorizer=_asyncToGenerator(_regeneratorRuntime.mark(function _callee(){var classifierOptions,globalModel,localModel,modelsToApply,categorize;return _regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return classifierOptions={tokenizer:tokenizer},_context.prev=1,_context.next=4,createGlobalModel(classifierOptions);case 4:globalModel=_context.sent,_context.next=11;break;case 7:_context.prev=7,_context.t0=_context.catch(1),log("info","Failed to create global model:"),log("info",_context.t0.message);case 11:return _context.prev=11,_context.next=14,createLocalModel(classifierOptions);case 14:localModel=_context.sent,_context.next=21;break;case 17:_context.prev=17,_context.t1=_context.catch(11),log("info","Failed to create local model:"),log("info",_context.t1.message);case 21:return modelsToApply=[globalModel,localModel].filter(Boolean),categorize=function(transactions){return modelsToApply.forEach(function(model){return model.categorize(transactions)}),transactions},_context.abrupt("return",{categorize:categorize});case 24:case"end":return _context.stop()}},_callee,null,[[1,7],[11,17]])}))).apply(this,arguments)}function _categorize(){return(_categorize=_asyncToGenerator(_regeneratorRuntime.mark(function _callee2(transactions){var categorizer;return _regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,createCategorizer();case 2:return categorizer=_context2.sent,_context2.abrupt("return",categorizer.categorize(transactions));case 4:case"end":return _context2.stop()}},_callee2)}))).apply(this,arguments)}module.exports={createCategorizer:createCategorizer,categorize:function(_x){return _categorize.apply(this,arguments)}}},function(module,exports,__webpack_require__){"use strict";var createModel=__webpack_require__(1364).createModel;module.exports={createModel:createModel}},function(module,exports,__webpack_require__){"use strict";var _regeneratorRuntime=__webpack_require__(0),_asyncToGenerator=__webpack_require__(3),fetchParameters=__webpack_require__(1365).fetchParameters,createClassifier=__webpack_require__(1366).createClassifier,getLabelWithTags=__webpack_require__(600).getLabelWithTags,maxBy=__webpack_require__(275),log=__webpack_require__(58).namespace("categorization/globalModel");function _createModel(){return(_createModel=_asyncToGenerator(_regeneratorRuntime.mark(function _callee(options){var parameters,classifier,categorize;return _regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return log("info","Fetching parameters from the stack"),_context.next=3,fetchParameters();case 3:return parameters=_context.sent,log("info","Successfully fetched parameters from the stack"),log("info","Instanciating a new classifier"),classifier=createClassifier(parameters,options),categorize=function(transactions){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=transactions[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var transaction=_step.value,label=getLabelWithTags(transaction);log("info","Applying model to ".concat(label));var _maxBy=maxBy(classifier.categorize(label).likelihoods,"proba"),category=_maxBy.category,proba=_maxBy.proba;transaction.cozyCategoryId=category,transaction.cozyCategoryProba=proba,log("info","Results for ".concat(label," :")),log("info","cozyCategory: ".concat(category)),log("info","cozyProba: ".concat(proba))}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return transactions},_context.abrupt("return",{categorize:categorize});case 9:case"end":return _context.stop()}},_callee)}))).apply(this,arguments)}module.exports={createModel:function(_x){return _createModel.apply(this,arguments)}}},function(module,exports,__webpack_require__){"use strict";var _regeneratorRuntime=__webpack_require__(0),_asyncToGenerator=__webpack_require__(3),cozyClient=__webpack_require__(149);function _fetchParameters(){return(_fetchParameters=_asyncToGenerator(_regeneratorRuntime.mark(function _callee(){var parameters;return _regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,cozyClient.fetchJSON("GET","/remote/assets/bank_classifier_nb_and_voc");case 2:return parameters=_context.sent,_context.abrupt("return",parameters);case 4:case"end":return _context.stop()}},_callee)}))).apply(this,arguments)}module.exports={fetchParameters:function(){return _fetchParameters.apply(this,arguments)}}},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},bayes=__webpack_require__(1144);module.exports={createClassifier:function(parameters,options){return parameters.options=_extends({},parameters.options,options),bayes.fromJson(parameters)}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Decimal",function(){return Decimal});var inexact,quadrant,EXP_LIMIT=9e15,MAX_DIGITS=1e9,NUMERALS="0123456789abcdef",LN10="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",PI="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",DEFAULTS={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-EXP_LIMIT,maxE:EXP_LIMIT,crypto:!1},external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",precisionLimitExceeded=decimalError+"Precision limit exceeded",cryptoUnavailable=decimalError+"crypto unavailable",mathfloor=Math.floor,mathpow=Math.pow,isBinary=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,isHex=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,isOctal=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,BASE=1e7,LOG_BASE=7,LN10_PRECISION=LN10.length-1,PI_PRECISION=PI.length-1,P={name:"[object Decimal]"};function digitsToString(d){var i,k,ws,indexOfLastWord=d.length-1,str="",w=d[0];if(indexOfLastWord>0){for(str+=w,i=1;i<indexOfLastWord;i++)ws=d[i]+"",(k=LOG_BASE-ws.length)&&(str+=getZeroString(k)),str+=ws;w=d[i],(k=LOG_BASE-(ws=w+"").length)&&(str+=getZeroString(k))}else if(0===w)return"0";for(;w%10==0;)w/=10;return str+w}function checkInt32(i,min,max){if(i!==~~i||i<min||i>max)throw Error(invalidArgument+i)}function checkRoundingDigits(d,i,rm,repeating){var di,k,r,rd;for(k=d[0];k>=10;k/=10)--i;return--i<0?(i+=LOG_BASE,di=0):(di=Math.ceil((i+1)/LOG_BASE),i%=LOG_BASE),k=mathpow(10,LOG_BASE-i),rd=d[di]%k|0,null==repeating?i<3?(0==i?rd=rd/100|0:1==i&&(rd=rd/10|0),r=rm<4&&99999==rd||rm>3&&49999==rd||5e4==rd||0==rd):r=(rm<4&&rd+1==k||rm>3&&rd+1==k/2)&&(d[di+1]/k/100|0)==mathpow(10,i-2)-1||(rd==k/2||0==rd)&&0==(d[di+1]/k/100|0):i<4?(0==i?rd=rd/1e3|0:1==i?rd=rd/100|0:2==i&&(rd=rd/10|0),r=(repeating||rm<4)&&9999==rd||!repeating&&rm>3&&4999==rd):r=((repeating||rm<4)&&rd+1==k||!repeating&&rm>3&&rd+1==k/2)&&(d[di+1]/k/1e3|0)==mathpow(10,i-3)-1,r}function convertBase(str,baseIn,baseOut){for(var j,arrL,arr=[0],i=0,strL=str.length;i<strL;){for(arrL=arr.length;arrL--;)arr[arrL]*=baseIn;for(arr[0]+=NUMERALS.indexOf(str.charAt(i++)),j=0;j<arr.length;j++)arr[j]>baseOut-1&&(void 0===arr[j+1]&&(arr[j+1]=0),arr[j+1]+=arr[j]/baseOut|0,arr[j]%=baseOut)}return arr.reverse()}P.absoluteValue=P.abs=function(){var x=new this.constructor(this);return x.s<0&&(x.s=1),finalise(x)},P.ceil=function(){return finalise(new this.constructor(this),this.e+1,2)},P.comparedTo=P.cmp=function(y){var i,j,xdL,ydL,x=this,xd=x.d,yd=(y=new x.constructor(y)).d,xs=x.s,ys=y.s;if(!xd||!yd)return xs&&ys?xs!==ys?xs:xd===yd?0:!xd^xs<0?1:-1:NaN;if(!xd[0]||!yd[0])return xd[0]?xs:yd[0]?-ys:0;if(xs!==ys)return xs;if(x.e!==y.e)return x.e>y.e^xs<0?1:-1;for(i=0,j=(xdL=xd.length)<(ydL=yd.length)?xdL:ydL;i<j;++i)if(xd[i]!==yd[i])return xd[i]>yd[i]^xs<0?1:-1;return xdL===ydL?0:xdL>ydL^xs<0?1:-1},P.cosine=P.cos=function(){var pr,rm,x=this,Ctor=x.constructor;return x.d?x.d[0]?(pr=Ctor.precision,rm=Ctor.rounding,Ctor.precision=pr+Math.max(x.e,x.sd())+LOG_BASE,Ctor.rounding=1,x=function(Ctor,x){var k,y,len=x.d.length;len<32?(k=Math.ceil(len/3),y=(1/tinyPow(4,k)).toString()):(k=16,y="2.3283064365386962890625e-10");Ctor.precision+=k,x=taylorSeries(Ctor,1,x.times(y),new Ctor(1));for(var i=k;i--;){var cos2x=x.times(x);x=cos2x.times(cos2x).minus(cos2x).times(8).plus(1)}return Ctor.precision-=k,x}(Ctor,toLessThanHalfPi(Ctor,x)),Ctor.precision=pr,Ctor.rounding=rm,finalise(2==quadrant||3==quadrant?x.neg():x,pr,rm,!0)):new Ctor(1):new Ctor(NaN)},P.cubeRoot=P.cbrt=function(){var e,m,n,r,rep,s,sd,t,t3,t3plusx,x=this,Ctor=x.constructor;if(!x.isFinite()||x.isZero())return new Ctor(x);for(external=!1,(s=x.s*mathpow(x.s*x,1/3))&&Math.abs(s)!=1/0?r=new Ctor(s.toString()):(n=digitsToString(x.d),(s=((e=x.e)-n.length+1)%3)&&(n+=1==s||-2==s?"0":"00"),s=mathpow(n,1/3),e=mathfloor((e+1)/3)-(e%3==(e<0?-1:2)),(r=new Ctor(n=s==1/0?"5e"+e:(n=s.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=x.s),sd=(e=Ctor.precision)+3;;)if(t3plusx=(t3=(t=r).times(t).times(t)).plus(x),r=divide(t3plusx.plus(x).times(t),t3plusx.plus(t3),sd+2,1),digitsToString(t.d).slice(0,sd)===(n=digitsToString(r.d)).slice(0,sd)){if("9999"!=(n=n.slice(sd-3,sd+1))&&(rep||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(finalise(r,e+1,1),m=!r.times(r).times(r).eq(x));break}if(!rep&&(finalise(t,e+1,0),t.times(t).times(t).eq(x))){r=t;break}sd+=4,rep=1}return external=!0,finalise(r,e,Ctor.rounding,m)},P.decimalPlaces=P.dp=function(){var w,d=this.d,n=NaN;if(d){if(n=((w=d.length-1)-mathfloor(this.e/LOG_BASE))*LOG_BASE,w=d[w])for(;w%10==0;w/=10)n--;n<0&&(n=0)}return n},P.dividedBy=P.div=function(y){return divide(this,new this.constructor(y))},P.dividedToIntegerBy=P.divToInt=function(y){var Ctor=this.constructor;return finalise(divide(this,new Ctor(y),0,1,1),Ctor.precision,Ctor.rounding)},P.equals=P.eq=function(y){return 0===this.cmp(y)},P.floor=function(){return finalise(new this.constructor(this),this.e+1,3)},P.greaterThan=P.gt=function(y){return this.cmp(y)>0},P.greaterThanOrEqualTo=P.gte=function(y){var k=this.cmp(y);return 1==k||0===k},P.hyperbolicCosine=P.cosh=function(){var k,n,pr,rm,len,x=this,Ctor=x.constructor,one=new Ctor(1);if(!x.isFinite())return new Ctor(x.s?1/0:NaN);if(x.isZero())return one;pr=Ctor.precision,rm=Ctor.rounding,Ctor.precision=pr+Math.max(x.e,x.sd())+4,Ctor.rounding=1,(len=x.d.length)<32?n=(1/tinyPow(4,k=Math.ceil(len/3))).toString():(k=16,n="2.3283064365386962890625e-10"),x=taylorSeries(Ctor,1,x.times(n),new Ctor(1),!0);for(var cosh2_x,i=k,d8=new Ctor(8);i--;)cosh2_x=x.times(x),x=one.minus(cosh2_x.times(d8.minus(cosh2_x.times(d8))));return finalise(x,Ctor.precision=pr,Ctor.rounding=rm,!0)},P.hyperbolicSine=P.sinh=function(){var k,pr,rm,len,x=this,Ctor=x.constructor;if(!x.isFinite()||x.isZero())return new Ctor(x);if(pr=Ctor.precision,rm=Ctor.rounding,Ctor.precision=pr+Math.max(x.e,x.sd())+4,Ctor.rounding=1,(len=x.d.length)<3)x=taylorSeries(Ctor,2,x,x,!0);else{k=(k=1.4*Math.sqrt(len))>16?16:0|k,x=taylorSeries(Ctor,2,x=x.times(1/tinyPow(5,k)),x,!0);for(var sinh2_x,d5=new Ctor(5),d16=new Ctor(16),d20=new Ctor(20);k--;)sinh2_x=x.times(x),x=x.times(d5.plus(sinh2_x.times(d16.times(sinh2_x).plus(d20))))}return Ctor.precision=pr,Ctor.rounding=rm,finalise(x,pr,rm,!0)},P.hyperbolicTangent=P.tanh=function(){var pr,rm,x=this,Ctor=x.constructor;return x.isFinite()?x.isZero()?new Ctor(x):(pr=Ctor.precision,rm=Ctor.rounding,Ctor.precision=pr+7,Ctor.rounding=1,divide(x.sinh(),x.cosh(),Ctor.precision=pr,Ctor.rounding=rm)):new Ctor(x.s)},P.inverseCosine=P.acos=function(){var halfPi,x=this,Ctor=x.constructor,k=x.abs().cmp(1),pr=Ctor.precision,rm=Ctor.rounding;return-1!==k?0===k?x.isNeg()?getPi(Ctor,pr,rm):new Ctor(0):new Ctor(NaN):x.isZero()?getPi(Ctor,pr+4,rm).times(.5):(Ctor.precision=pr+6,Ctor.rounding=1,x=x.asin(),halfPi=getPi(Ctor,pr+4,rm).times(.5),Ctor.precision=pr,Ctor.rounding=rm,halfPi.minus(x))},P.inverseHyperbolicCosine=P.acosh=function(){var pr,rm,x=this,Ctor=x.constructor;return x.lte(1)?new Ctor(x.eq(1)?0:NaN):x.isFinite()?(pr=Ctor.precision,rm=Ctor.rounding,Ctor.precision=pr+Math.max(Math.abs(x.e),x.sd())+4,Ctor.rounding=1,external=!1,x=x.times(x).minus(1).sqrt().plus(x),external=!0,Ctor.precision=pr,Ctor.rounding=rm,x.ln()):new Ctor(x)},P.inverseHyperbolicSine=P.asinh=function(){var pr,rm,x=this,Ctor=x.constructor;return!x.isFinite()||x.isZero()?new Ctor(x):(pr=Ctor.precision,rm=Ctor.rounding,Ctor.precision=pr+2*Math.max(Math.abs(x.e),x.sd())+6,Ctor.rounding=1,external=!1,x=x.times(x).plus(1).sqrt().plus(x),external=!0,Ctor.precision=pr,Ctor.rounding=rm,x.ln())},P.inverseHyperbolicTangent=P.atanh=function(){var pr,rm,wpr,xsd,x=this,Ctor=x.constructor;return x.isFinite()?x.e>=0?new Ctor(x.abs().eq(1)?x.s/0:x.isZero()?x:NaN):(pr=Ctor.precision,rm=Ctor.rounding,xsd=x.sd(),Math.max(xsd,pr)<2*-x.e-1?finalise(new Ctor(x),pr,rm,!0):(Ctor.precision=wpr=xsd-x.e,x=divide(x.plus(1),new Ctor(1).minus(x),wpr+pr,1),Ctor.precision=pr+4,Ctor.rounding=1,x=x.ln(),Ctor.precision=pr,Ctor.rounding=rm,x.times(.5))):new Ctor(NaN)},P.inverseSine=P.asin=function(){var halfPi,k,pr,rm,x=this,Ctor=x.constructor;return x.isZero()?new Ctor(x):(k=x.abs().cmp(1),pr=Ctor.precision,rm=Ctor.rounding,-1!==k?0===k?((halfPi=getPi(Ctor,pr+4,rm).times(.5)).s=x.s,halfPi):new Ctor(NaN):(Ctor.precision=pr+6,Ctor.rounding=1,x=x.div(new Ctor(1).minus(x.times(x)).sqrt().plus(1)).atan(),Ctor.precision=pr,Ctor.rounding=rm,x.times(2)))},P.inverseTangent=P.atan=function(){var i,j,k,n,px,t,r,wpr,x2,x=this,Ctor=x.constructor,pr=Ctor.precision,rm=Ctor.rounding;if(x.isFinite()){if(x.isZero())return new Ctor(x);if(x.abs().eq(1)&&pr+4<=PI_PRECISION)return(r=getPi(Ctor,pr+4,rm).times(.25)).s=x.s,r}else{if(!x.s)return new Ctor(NaN);if(pr+4<=PI_PRECISION)return(r=getPi(Ctor,pr+4,rm).times(.5)).s=x.s,r}for(Ctor.precision=wpr=pr+10,Ctor.rounding=1,i=k=Math.min(28,wpr/LOG_BASE+2|0);i;--i)x=x.div(x.times(x).plus(1).sqrt().plus(1));for(external=!1,j=Math.ceil(wpr/LOG_BASE),n=1,x2=x.times(x),r=new Ctor(x),px=x;-1!==i;)if(px=px.times(x2),t=r.minus(px.div(n+=2)),px=px.times(x2),void 0!==(r=t.plus(px.div(n+=2))).d[j])for(i=j;r.d[i]===t.d[i]&&i--;);return k&&(r=r.times(2<<k-1)),external=!0,finalise(r,Ctor.precision=pr,Ctor.rounding=rm,!0)},P.isFinite=function(){return!!this.d},P.isInteger=P.isInt=function(){return!!this.d&&mathfloor(this.e/LOG_BASE)>this.d.length-2},P.isNaN=function(){return!this.s},P.isNegative=P.isNeg=function(){return this.s<0},P.isPositive=P.isPos=function(){return this.s>0},P.isZero=function(){return!!this.d&&0===this.d[0]},P.lessThan=P.lt=function(y){return this.cmp(y)<0},P.lessThanOrEqualTo=P.lte=function(y){return this.cmp(y)<1},P.logarithm=P.log=function(base){var isBase10,d,denominator,k,inf,num,sd,r,Ctor=this.constructor,pr=Ctor.precision,rm=Ctor.rounding;if(null==base)base=new Ctor(10),isBase10=!0;else{if(d=(base=new Ctor(base)).d,base.s<0||!d||!d[0]||base.eq(1))return new Ctor(NaN);isBase10=base.eq(10)}if(d=this.d,this.s<0||!d||!d[0]||this.eq(1))return new Ctor(d&&!d[0]?-1/0:1!=this.s?NaN:d?0:1/0);if(isBase10)if(d.length>1)inf=!0;else{for(k=d[0];k%10==0;)k/=10;inf=1!==k}if(external=!1,num=naturalLogarithm(this,sd=pr+5),denominator=isBase10?getLn10(Ctor,sd+10):naturalLogarithm(base,sd),checkRoundingDigits((r=divide(num,denominator,sd,1)).d,k=pr,rm))do{if(num=naturalLogarithm(this,sd+=10),denominator=isBase10?getLn10(Ctor,sd+10):naturalLogarithm(base,sd),r=divide(num,denominator,sd,1),!inf){+digitsToString(r.d).slice(k+1,k+15)+1==1e14&&(r=finalise(r,pr+1,0));break}}while(checkRoundingDigits(r.d,k+=10,rm));return external=!0,finalise(r,pr,rm)},P.minus=P.sub=function(y){var d,e,i,j,k,len,pr,rm,xd,xe,xLTy,yd,x=this,Ctor=x.constructor;if(y=new Ctor(y),!x.d||!y.d)return x.s&&y.s?x.d?y.s=-y.s:y=new Ctor(y.d||x.s!==y.s?x:NaN):y=new Ctor(NaN),y;if(x.s!=y.s)return y.s=-y.s,x.plus(y);if(xd=x.d,yd=y.d,pr=Ctor.precision,rm=Ctor.rounding,!xd[0]||!yd[0]){if(yd[0])y.s=-y.s;else{if(!xd[0])return new Ctor(3===rm?-0:0);y=new Ctor(x)}return external?finalise(y,pr,rm):y}if(e=mathfloor(y.e/LOG_BASE),xe=mathfloor(x.e/LOG_BASE),xd=xd.slice(),k=xe-e){for((xLTy=k<0)?(d=xd,k=-k,len=yd.length):(d=yd,e=xe,len=xd.length),k>(i=Math.max(Math.ceil(pr/LOG_BASE),len)+2)&&(k=i,d.length=1),d.reverse(),i=k;i--;)d.push(0);d.reverse()}else{for((xLTy=(i=xd.length)<(len=yd.length))&&(len=i),i=0;i<len;i++)if(xd[i]!=yd[i]){xLTy=xd[i]<yd[i];break}k=0}for(xLTy&&(d=xd,xd=yd,yd=d,y.s=-y.s),len=xd.length,i=yd.length-len;i>0;--i)xd[len++]=0;for(i=yd.length;i>k;){if(xd[--i]<yd[i]){for(j=i;j&&0===xd[--j];)xd[j]=BASE-1;--xd[j],xd[i]+=BASE}xd[i]-=yd[i]}for(;0===xd[--len];)xd.pop();for(;0===xd[0];xd.shift())--e;return xd[0]?(y.d=xd,y.e=getBase10Exponent(xd,e),external?finalise(y,pr,rm):y):new Ctor(3===rm?-0:0)},P.modulo=P.mod=function(y){var q,x=this,Ctor=x.constructor;return y=new Ctor(y),!x.d||!y.s||y.d&&!y.d[0]?new Ctor(NaN):!y.d||x.d&&!x.d[0]?finalise(new Ctor(x),Ctor.precision,Ctor.rounding):(external=!1,9==Ctor.modulo?(q=divide(x,y.abs(),0,3,1)).s*=y.s:q=divide(x,y,0,Ctor.modulo,1),q=q.times(y),external=!0,x.minus(q))},P.naturalExponential=P.exp=function(){return naturalExponential(this)},P.naturalLogarithm=P.ln=function(){return naturalLogarithm(this)},P.negated=P.neg=function(){var x=new this.constructor(this);return x.s=-x.s,finalise(x)},P.plus=P.add=function(y){var carry,d,e,i,k,len,pr,rm,xd,yd,x=this,Ctor=x.constructor;if(y=new Ctor(y),!x.d||!y.d)return x.s&&y.s?x.d||(y=new Ctor(y.d||x.s===y.s?x:NaN)):y=new Ctor(NaN),y;if(x.s!=y.s)return y.s=-y.s,x.minus(y);if(xd=x.d,yd=y.d,pr=Ctor.precision,rm=Ctor.rounding,!xd[0]||!yd[0])return yd[0]||(y=new Ctor(x)),external?finalise(y,pr,rm):y;if(k=mathfloor(x.e/LOG_BASE),e=mathfloor(y.e/LOG_BASE),xd=xd.slice(),i=k-e){for(i<0?(d=xd,i=-i,len=yd.length):(d=yd,e=k,len=xd.length),i>(len=(k=Math.ceil(pr/LOG_BASE))>len?k+1:len+1)&&(i=len,d.length=1),d.reverse();i--;)d.push(0);d.reverse()}for((len=xd.length)-(i=yd.length)<0&&(i=len,d=yd,yd=xd,xd=d),carry=0;i;)carry=(xd[--i]=xd[i]+yd[i]+carry)/BASE|0,xd[i]%=BASE;for(carry&&(xd.unshift(carry),++e),len=xd.length;0==xd[--len];)xd.pop();return y.d=xd,y.e=getBase10Exponent(xd,e),external?finalise(y,pr,rm):y},P.precision=P.sd=function(z){var k,x=this;if(void 0!==z&&z!==!!z&&1!==z&&0!==z)throw Error(invalidArgument+z);return x.d?(k=getPrecision(x.d),z&&x.e+1>k&&(k=x.e+1)):k=NaN,k},P.round=function(){var x=this,Ctor=x.constructor;return finalise(new Ctor(x),x.e+1,Ctor.rounding)},P.sine=P.sin=function(){var pr,rm,x=this,Ctor=x.constructor;return x.isFinite()?x.isZero()?new Ctor(x):(pr=Ctor.precision,rm=Ctor.rounding,Ctor.precision=pr+Math.max(x.e,x.sd())+LOG_BASE,Ctor.rounding=1,x=function(Ctor,x){var k,len=x.d.length;if(len<3)return taylorSeries(Ctor,2,x,x);k=(k=1.4*Math.sqrt(len))>16?16:0|k,x=x.times(1/tinyPow(5,k)),x=taylorSeries(Ctor,2,x,x);for(var sin2_x,d5=new Ctor(5),d16=new Ctor(16),d20=new Ctor(20);k--;)sin2_x=x.times(x),x=x.times(d5.plus(sin2_x.times(d16.times(sin2_x).minus(d20))));return x}(Ctor,toLessThanHalfPi(Ctor,x)),Ctor.precision=pr,Ctor.rounding=rm,finalise(quadrant>2?x.neg():x,pr,rm,!0)):new Ctor(NaN)},P.squareRoot=P.sqrt=function(){var m,n,sd,r,rep,t,x=this,d=x.d,e=x.e,s=x.s,Ctor=x.constructor;if(1!==s||!d||!d[0])return new Ctor(!s||s<0&&(!d||d[0])?NaN:d?x:1/0);for(external=!1,0==(s=Math.sqrt(+x))||s==1/0?(((n=digitsToString(d)).length+e)%2==0&&(n+="0"),s=Math.sqrt(n),e=mathfloor((e+1)/2)-(e<0||e%2),r=new Ctor(n=s==1/0?"1e"+e:(n=s.toExponential()).slice(0,n.indexOf("e")+1)+e)):r=new Ctor(s.toString()),sd=(e=Ctor.precision)+3;;)if(r=(t=r).plus(divide(x,t,sd+2,1)).times(.5),digitsToString(t.d).slice(0,sd)===(n=digitsToString(r.d)).slice(0,sd)){if("9999"!=(n=n.slice(sd-3,sd+1))&&(rep||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(finalise(r,e+1,1),m=!r.times(r).eq(x));break}if(!rep&&(finalise(t,e+1,0),t.times(t).eq(x))){r=t;break}sd+=4,rep=1}return external=!0,finalise(r,e,Ctor.rounding,m)},P.tangent=P.tan=function(){var pr,rm,x=this,Ctor=x.constructor;return x.isFinite()?x.isZero()?new Ctor(x):(pr=Ctor.precision,rm=Ctor.rounding,Ctor.precision=pr+10,Ctor.rounding=1,(x=x.sin()).s=1,x=divide(x,new Ctor(1).minus(x.times(x)).sqrt(),pr+10,0),Ctor.precision=pr,Ctor.rounding=rm,finalise(2==quadrant||4==quadrant?x.neg():x,pr,rm,!0)):new Ctor(NaN)},P.times=P.mul=function(y){var carry,e,i,k,r,rL,t,xdL,ydL,x=this,Ctor=x.constructor,xd=x.d,yd=(y=new Ctor(y)).d;if(y.s*=x.s,!(xd&&xd[0]&&yd&&yd[0]))return new Ctor(!y.s||xd&&!xd[0]&&!yd||yd&&!yd[0]&&!xd?NaN:xd&&yd?0*y.s:y.s/0);for(e=mathfloor(x.e/LOG_BASE)+mathfloor(y.e/LOG_BASE),(xdL=xd.length)<(ydL=yd.length)&&(r=xd,xd=yd,yd=r,rL=xdL,xdL=ydL,ydL=rL),r=[],i=rL=xdL+ydL;i--;)r.push(0);for(i=ydL;--i>=0;){for(carry=0,k=xdL+i;k>i;)t=r[k]+yd[i]*xd[k-i-1]+carry,r[k--]=t%BASE|0,carry=t/BASE|0;r[k]=(r[k]+carry)%BASE|0}for(;!r[--rL];)r.pop();return carry?++e:r.shift(),y.d=r,y.e=getBase10Exponent(r,e),external?finalise(y,Ctor.precision,Ctor.rounding):y},P.toBinary=function(sd,rm){return toStringBinary(this,2,sd,rm)},P.toDecimalPlaces=P.toDP=function(dp,rm){var x=this,Ctor=x.constructor;return x=new Ctor(x),void 0===dp?x:(checkInt32(dp,0,MAX_DIGITS),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8),finalise(x,dp+x.e+1,rm))},P.toExponential=function(dp,rm){var str,x=this,Ctor=x.constructor;return void 0===dp?str=finiteToString(x,!0):(checkInt32(dp,0,MAX_DIGITS),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8),str=finiteToString(x=finalise(new Ctor(x),dp+1,rm),!0,dp+1)),x.isNeg()&&!x.isZero()?"-"+str:str},P.toFixed=function(dp,rm){var str,y,x=this,Ctor=x.constructor;return void 0===dp?str=finiteToString(x):(checkInt32(dp,0,MAX_DIGITS),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8),str=finiteToString(y=finalise(new Ctor(x),dp+x.e+1,rm),!1,dp+y.e+1)),x.isNeg()&&!x.isZero()?"-"+str:str},P.toFraction=function(maxD){var d,d0,d1,d2,e,k,n,n0,n1,pr,q,r,x=this,xd=x.d,Ctor=x.constructor;if(!xd)return new Ctor(x);if(n1=d0=new Ctor(1),d1=n0=new Ctor(0),k=(e=(d=new Ctor(d1)).e=getPrecision(xd)-x.e-1)%LOG_BASE,d.d[0]=mathpow(10,k<0?LOG_BASE+k:k),null==maxD)maxD=e>0?d:n1;else{if(!(n=new Ctor(maxD)).isInt()||n.lt(n1))throw Error(invalidArgument+n);maxD=n.gt(d)?e>0?d:n1:n}for(external=!1,n=new Ctor(digitsToString(xd)),pr=Ctor.precision,Ctor.precision=e=xd.length*LOG_BASE*2;q=divide(n,d,0,1,1),1!=(d2=d0.plus(q.times(d1))).cmp(maxD);)d0=d1,d1=d2,d2=n1,n1=n0.plus(q.times(d2)),n0=d2,d2=d,d=n.minus(q.times(d2)),n=d2;return d2=divide(maxD.minus(d0),d1,0,1,1),n0=n0.plus(d2.times(n1)),d0=d0.plus(d2.times(d1)),n0.s=n1.s=x.s,r=divide(n1,d1,e,1).minus(x).abs().cmp(divide(n0,d0,e,1).minus(x).abs())<1?[n1,d1]:[n0,d0],Ctor.precision=pr,external=!0,r},P.toHexadecimal=P.toHex=function(sd,rm){return toStringBinary(this,16,sd,rm)},P.toNearest=function(y,rm){var x=this,Ctor=x.constructor;if(x=new Ctor(x),null==y){if(!x.d)return x;y=new Ctor(1),rm=Ctor.rounding}else{if(y=new Ctor(y),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8),!x.d)return y.s?x:y;if(!y.d)return y.s&&(y.s=x.s),y}return y.d[0]?(external=!1,x=divide(x,y,0,rm,1).times(y),external=!0,finalise(x)):(y.s=x.s,x=y),x},P.toNumber=function(){return+this},P.toOctal=function(sd,rm){return toStringBinary(this,8,sd,rm)},P.toPower=P.pow=function(y){var e,k,pr,r,rm,s,x=this,Ctor=x.constructor,yn=+(y=new Ctor(y));if(!(x.d&&y.d&&x.d[0]&&y.d[0]))return new Ctor(mathpow(+x,yn));if((x=new Ctor(x)).eq(1))return x;if(pr=Ctor.precision,rm=Ctor.rounding,y.eq(1))return finalise(x,pr,rm);if((e=mathfloor(y.e/LOG_BASE))>=y.d.length-1&&(k=yn<0?-yn:yn)<=9007199254740991)return r=intPow(Ctor,x,k,pr),y.s<0?new Ctor(1).div(r):finalise(r,pr,rm);if((s=x.s)<0){if(e<y.d.length-1)return new Ctor(NaN);if(0==(1&y.d[e])&&(s=1),0==x.e&&1==x.d[0]&&1==x.d.length)return x.s=s,x}return(e=0!=(k=mathpow(+x,yn))&&isFinite(k)?new Ctor(k+"").e:mathfloor(yn*(Math.log("0."+digitsToString(x.d))/Math.LN10+x.e+1)))>Ctor.maxE+1||e<Ctor.minE-1?new Ctor(e>0?s/0:0):(external=!1,Ctor.rounding=x.s=1,k=Math.min(12,(e+"").length),(r=naturalExponential(y.times(naturalLogarithm(x,pr+k)),pr)).d&&checkRoundingDigits((r=finalise(r,pr+5,1)).d,pr,rm)&&(e=pr+10,+digitsToString((r=finalise(naturalExponential(y.times(naturalLogarithm(x,e+k)),e),e+5,1)).d).slice(pr+1,pr+15)+1==1e14&&(r=finalise(r,pr+1,0))),r.s=s,external=!0,Ctor.rounding=rm,finalise(r,pr,rm))},P.toPrecision=function(sd,rm){var str,x=this,Ctor=x.constructor;return void 0===sd?str=finiteToString(x,x.e<=Ctor.toExpNeg||x.e>=Ctor.toExpPos):(checkInt32(sd,1,MAX_DIGITS),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8),str=finiteToString(x=finalise(new Ctor(x),sd,rm),sd<=x.e||x.e<=Ctor.toExpNeg,sd)),x.isNeg()&&!x.isZero()?"-"+str:str},P.toSignificantDigits=P.toSD=function(sd,rm){var Ctor=this.constructor;return void 0===sd?(sd=Ctor.precision,rm=Ctor.rounding):(checkInt32(sd,1,MAX_DIGITS),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8)),finalise(new Ctor(this),sd,rm)},P.toString=function(){var x=this,Ctor=x.constructor,str=finiteToString(x,x.e<=Ctor.toExpNeg||x.e>=Ctor.toExpPos);return x.isNeg()&&!x.isZero()?"-"+str:str},P.truncated=P.trunc=function(){return finalise(new this.constructor(this),this.e+1,1)},P.valueOf=P.toJSON=function(){var x=this,Ctor=x.constructor,str=finiteToString(x,x.e<=Ctor.toExpNeg||x.e>=Ctor.toExpPos);return x.isNeg()?"-"+str:str};var divide=function(){function multiplyInteger(x,k,base){var temp,carry=0,i=x.length;for(x=x.slice();i--;)temp=x[i]*k+carry,x[i]=temp%base|0,carry=temp/base|0;return carry&&x.unshift(carry),x}function compare(a,b,aL,bL){var i,r;if(aL!=bL)r=aL>bL?1:-1;else for(i=r=0;i<aL;i++)if(a[i]!=b[i]){r=a[i]>b[i]?1:-1;break}return r}function subtract(a,b,aL,base){for(var i=0;aL--;)a[aL]-=i,i=a[aL]<b[aL]?1:0,a[aL]=i*base+a[aL]-b[aL];for(;!a[0]&&a.length>1;)a.shift()}return function(x,y,pr,rm,dp,base){var cmp,e,i,k,logBase,more,prod,prodL,q,qd,rem,remL,rem0,sd,t,xi,xL,yd0,yL,yz,Ctor=x.constructor,sign=x.s==y.s?1:-1,xd=x.d,yd=y.d;if(!(xd&&xd[0]&&yd&&yd[0]))return new Ctor(x.s&&y.s&&(xd?!yd||xd[0]!=yd[0]:yd)?xd&&0==xd[0]||!yd?0*sign:sign/0:NaN);for(base?(logBase=1,e=x.e-y.e):(base=BASE,logBase=LOG_BASE,e=mathfloor(x.e/logBase)-mathfloor(y.e/logBase)),yL=yd.length,xL=xd.length,qd=(q=new Ctor(sign)).d=[],i=0;yd[i]==(xd[i]||0);i++);if(yd[i]>(xd[i]||0)&&e--,null==pr?(sd=pr=Ctor.precision,rm=Ctor.rounding):sd=dp?pr+(x.e-y.e)+1:pr,sd<0)qd.push(1),more=!0;else{if(sd=sd/logBase+2|0,i=0,1==yL){for(k=0,yd=yd[0],sd++;(i<xL||k)&&sd--;i++)t=k*base+(xd[i]||0),qd[i]=t/yd|0,k=t%yd|0;more=k||i<xL}else{for((k=base/(yd[0]+1)|0)>1&&(yd=multiplyInteger(yd,k,base),xd=multiplyInteger(xd,k,base),yL=yd.length,xL=xd.length),xi=yL,remL=(rem=xd.slice(0,yL)).length;remL<yL;)rem[remL++]=0;(yz=yd.slice()).unshift(0),yd0=yd[0],yd[1]>=base/2&&++yd0;do{k=0,(cmp=compare(yd,rem,yL,remL))<0?(rem0=rem[0],yL!=remL&&(rem0=rem0*base+(rem[1]||0)),(k=rem0/yd0|0)>1?(k>=base&&(k=base-1),1==(cmp=compare(prod=multiplyInteger(yd,k,base),rem,prodL=prod.length,remL=rem.length))&&(k--,subtract(prod,yL<prodL?yz:yd,prodL,base))):(0==k&&(cmp=k=1),prod=yd.slice()),(prodL=prod.length)<remL&&prod.unshift(0),subtract(rem,prod,remL,base),-1==cmp&&(cmp=compare(yd,rem,yL,remL=rem.length))<1&&(k++,subtract(rem,yL<remL?yz:yd,remL,base)),remL=rem.length):0===cmp&&(k++,rem=[0]),qd[i++]=k,cmp&&rem[0]?rem[remL++]=xd[xi]||0:(rem=[xd[xi]],remL=1)}while((xi++<xL||void 0!==rem[0])&&sd--);more=void 0!==rem[0]}qd[0]||qd.shift()}if(1==logBase)q.e=e,inexact=more;else{for(i=1,k=qd[0];k>=10;k/=10)i++;q.e=i+e*logBase-1,finalise(q,dp?pr+q.e+1:pr,rm,more)}return q}}();function finalise(x,sd,rm,isTruncated){var digits,i,j,k,rd,roundUp,w,xd,xdi,Ctor=x.constructor;out:if(null!=sd){if(!(xd=x.d))return x;for(digits=1,k=xd[0];k>=10;k/=10)digits++;if((i=sd-digits)<0)i+=LOG_BASE,j=sd,rd=(w=xd[xdi=0])/mathpow(10,digits-j-1)%10|0;else if((xdi=Math.ceil((i+1)/LOG_BASE))>=(k=xd.length)){if(!isTruncated)break out;for(;k++<=xdi;)xd.push(0);w=rd=0,digits=1,j=(i%=LOG_BASE)-LOG_BASE+1}else{for(w=k=xd[xdi],digits=1;k>=10;k/=10)digits++;rd=(j=(i%=LOG_BASE)-LOG_BASE+digits)<0?0:w/mathpow(10,digits-j-1)%10|0}if(isTruncated=isTruncated||sd<0||void 0!==xd[xdi+1]||(j<0?w:w%mathpow(10,digits-j-1)),roundUp=rm<4?(rd||isTruncated)&&(0==rm||rm==(x.s<0?3:2)):rd>5||5==rd&&(4==rm||isTruncated||6==rm&&(i>0?j>0?w/mathpow(10,digits-j):0:xd[xdi-1])%10&1||rm==(x.s<0?8:7)),sd<1||!xd[0])return xd.length=0,roundUp?(sd-=x.e+1,xd[0]=mathpow(10,(LOG_BASE-sd%LOG_BASE)%LOG_BASE),x.e=-sd||0):xd[0]=x.e=0,x;if(0==i?(xd.length=xdi,k=1,xdi--):(xd.length=xdi+1,k=mathpow(10,LOG_BASE-i),xd[xdi]=j>0?(w/mathpow(10,digits-j)%mathpow(10,j)|0)*k:0),roundUp)for(;;){if(0==xdi){for(i=1,j=xd[0];j>=10;j/=10)i++;for(j=xd[0]+=k,k=1;j>=10;j/=10)k++;i!=k&&(x.e++,xd[0]==BASE&&(xd[0]=1));break}if(xd[xdi]+=k,xd[xdi]!=BASE)break;xd[xdi--]=0,k=1}for(i=xd.length;0===xd[--i];)xd.pop()}return external&&(x.e>Ctor.maxE?(x.d=null,x.e=NaN):x.e<Ctor.minE&&(x.e=0,x.d=[0])),x}function finiteToString(x,isExp,sd){if(!x.isFinite())return nonFiniteToString(x);var k,e=x.e,str=digitsToString(x.d),len=str.length;return isExp?(sd&&(k=sd-len)>0?str=str.charAt(0)+"."+str.slice(1)+getZeroString(k):len>1&&(str=str.charAt(0)+"."+str.slice(1)),str=str+(x.e<0?"e":"e+")+x.e):e<0?(str="0."+getZeroString(-e-1)+str,sd&&(k=sd-len)>0&&(str+=getZeroString(k))):e>=len?(str+=getZeroString(e+1-len),sd&&(k=sd-e-1)>0&&(str=str+"."+getZeroString(k))):((k=e+1)<len&&(str=str.slice(0,k)+"."+str.slice(k)),sd&&(k=sd-len)>0&&(e+1===len&&(str+="."),str+=getZeroString(k))),str}function getBase10Exponent(digits,e){var w=digits[0];for(e*=LOG_BASE;w>=10;w/=10)e++;return e}function getLn10(Ctor,sd,pr){if(sd>LN10_PRECISION)throw external=!0,pr&&(Ctor.precision=pr),Error(precisionLimitExceeded);return finalise(new Ctor(LN10),sd,1,!0)}function getPi(Ctor,sd,rm){if(sd>PI_PRECISION)throw Error(precisionLimitExceeded);return finalise(new Ctor(PI),sd,rm,!0)}function getPrecision(digits){var w=digits.length-1,len=w*LOG_BASE+1;if(w=digits[w]){for(;w%10==0;w/=10)len--;for(w=digits[0];w>=10;w/=10)len++}return len}function getZeroString(k){for(var zs="";k--;)zs+="0";return zs}function intPow(Ctor,x,n,pr){var isTruncated,r=new Ctor(1),k=Math.ceil(pr/LOG_BASE+4);for(external=!1;;){if(n%2&&truncate((r=r.times(x)).d,k)&&(isTruncated=!0),0===(n=mathfloor(n/2))){n=r.d.length-1,isTruncated&&0===r.d[n]&&++r.d[n];break}truncate((x=x.times(x)).d,k)}return external=!0,r}function isOdd(n){return 1&n.d[n.d.length-1]}function maxOrMin(Ctor,args,ltgt){for(var y,x=new Ctor(args[0]),i=0;++i<args.length;){if(!(y=new Ctor(args[i])).s){x=y;break}x[ltgt](y)&&(x=y)}return x}function naturalExponential(x,sd){var denominator,guard,j,pow,sum,t,wpr,rep=0,i=0,k=0,Ctor=x.constructor,rm=Ctor.rounding,pr=Ctor.precision;if(!x.d||!x.d[0]||x.e>17)return new Ctor(x.d?x.d[0]?x.s<0?0:1/0:1:x.s?x.s<0?0:x:NaN);for(null==sd?(external=!1,wpr=pr):wpr=sd,t=new Ctor(.03125);x.e>-2;)x=x.times(t),k+=5;for(wpr+=guard=Math.log(mathpow(2,k))/Math.LN10*2+5|0,denominator=pow=sum=new Ctor(1),Ctor.precision=wpr;;){if(pow=finalise(pow.times(x),wpr,1),denominator=denominator.times(++i),digitsToString((t=sum.plus(divide(pow,denominator,wpr,1))).d).slice(0,wpr)===digitsToString(sum.d).slice(0,wpr)){for(j=k;j--;)sum=finalise(sum.times(sum),wpr,1);if(null!=sd)return Ctor.precision=pr,sum;if(!(rep<3&&checkRoundingDigits(sum.d,wpr-guard,rm,rep)))return finalise(sum,Ctor.precision=pr,rm,external=!0);Ctor.precision=wpr+=10,denominator=pow=t=new Ctor(1),i=0,rep++}sum=t}}function naturalLogarithm(y,sd){var c,c0,denominator,e,numerator,rep,sum,t,wpr,x1,x2,n=1,x=y,xd=x.d,Ctor=x.constructor,rm=Ctor.rounding,pr=Ctor.precision;if(x.s<0||!xd||!xd[0]||!x.e&&1==xd[0]&&1==xd.length)return new Ctor(xd&&!xd[0]?-1/0:1!=x.s?NaN:xd?0:x);if(null==sd?(external=!1,wpr=pr):wpr=sd,Ctor.precision=wpr+=10,c0=(c=digitsToString(xd)).charAt(0),!(Math.abs(e=x.e)<15e14))return t=getLn10(Ctor,wpr+2,pr).times(e+""),x=naturalLogarithm(new Ctor(c0+"."+c.slice(1)),wpr-10).plus(t),Ctor.precision=pr,null==sd?finalise(x,pr,rm,external=!0):x;for(;c0<7&&1!=c0||1==c0&&c.charAt(1)>3;)c0=(c=digitsToString((x=x.times(y)).d)).charAt(0),n++;for(e=x.e,c0>1?(x=new Ctor("0."+c),e++):x=new Ctor(c0+"."+c.slice(1)),x1=x,sum=numerator=x=divide(x.minus(1),x.plus(1),wpr,1),x2=finalise(x.times(x),wpr,1),denominator=3;;){if(numerator=finalise(numerator.times(x2),wpr,1),digitsToString((t=sum.plus(divide(numerator,new Ctor(denominator),wpr,1))).d).slice(0,wpr)===digitsToString(sum.d).slice(0,wpr)){if(sum=sum.times(2),0!==e&&(sum=sum.plus(getLn10(Ctor,wpr+2,pr).times(e+""))),sum=divide(sum,new Ctor(n),wpr,1),null!=sd)return Ctor.precision=pr,sum;if(!checkRoundingDigits(sum.d,wpr-10,rm,rep))return finalise(sum,Ctor.precision=pr,rm,external=!0);Ctor.precision=wpr+=10,t=numerator=x=divide(x1.minus(1),x1.plus(1),wpr,1),x2=finalise(x.times(x),wpr,1),denominator=rep=1}sum=t,denominator+=2}}function nonFiniteToString(x){return String(x.s*x.s/0)}function parseDecimal(x,str){var e,i,len;for((e=str.indexOf("."))>-1&&(str=str.replace(".","")),(i=str.search(/e/i))>0?(e<0&&(e=i),e+=+str.slice(i+1),str=str.substring(0,i)):e<0&&(e=str.length),i=0;48===str.charCodeAt(i);i++);for(len=str.length;48===str.charCodeAt(len-1);--len);if(str=str.slice(i,len)){if(len-=i,x.e=e=e-i-1,x.d=[],i=(e+1)%LOG_BASE,e<0&&(i+=LOG_BASE),i<len){for(i&&x.d.push(+str.slice(0,i)),len-=LOG_BASE;i<len;)x.d.push(+str.slice(i,i+=LOG_BASE));str=str.slice(i),i=LOG_BASE-str.length}else i-=len;for(;i--;)str+="0";x.d.push(+str),external&&(x.e>x.constructor.maxE?(x.d=null,x.e=NaN):x.e<x.constructor.minE&&(x.e=0,x.d=[0]))}else x.e=0,x.d=[0];return x}function parseOther(x,str){var base,Ctor,divisor,i,isFloat,len,p,xd,xe;if("Infinity"===str||"NaN"===str)return+str||(x.s=NaN),x.e=NaN,x.d=null,x;if(isHex.test(str))base=16,str=str.toLowerCase();else if(isBinary.test(str))base=2;else{if(!isOctal.test(str))throw Error(invalidArgument+str);base=8}for((i=str.search(/p/i))>0?(p=+str.slice(i+1),str=str.substring(2,i)):str=str.slice(2),isFloat=(i=str.indexOf("."))>=0,Ctor=x.constructor,isFloat&&(i=(len=(str=str.replace(".","")).length)-i,divisor=intPow(Ctor,new Ctor(base),i,2*i)),i=xe=(xd=convertBase(str,base,BASE)).length-1;0===xd[i];--i)xd.pop();return i<0?new Ctor(0*x.s):(x.e=getBase10Exponent(xd,xe),x.d=xd,external=!1,isFloat&&(x=divide(x,divisor,4*len)),p&&(x=x.times(Math.abs(p)<54?mathpow(2,p):Decimal.pow(2,p))),external=!0,x)}function taylorSeries(Ctor,n,x,y,isHyperbolic){var j,t,u,x2,pr=Ctor.precision,k=Math.ceil(pr/LOG_BASE);for(external=!1,x2=x.times(x),u=new Ctor(y);;){if(t=divide(u.times(x2),new Ctor(n++*n++),pr,1),u=isHyperbolic?y.plus(t):y.minus(t),y=divide(t.times(x2),new Ctor(n++*n++),pr,1),void 0!==(t=u.plus(y)).d[k]){for(j=k;t.d[j]===u.d[j]&&j--;);if(-1==j)break}j=u,u=y,y=t,t=j,0}return external=!0,t.d.length=k+1,t}function tinyPow(b,e){for(var n=b;--e;)n*=b;return n}function toLessThanHalfPi(Ctor,x){var t,isNeg=x.s<0,pi=getPi(Ctor,Ctor.precision,1),halfPi=pi.times(.5);if((x=x.abs()).lte(halfPi))return quadrant=isNeg?4:1,x;if((t=x.divToInt(pi)).isZero())quadrant=isNeg?3:2;else{if((x=x.minus(t.times(pi))).lte(halfPi))return quadrant=isOdd(t)?isNeg?2:3:isNeg?4:1,x;quadrant=isOdd(t)?isNeg?1:4:isNeg?3:2}return x.minus(pi).abs()}function toStringBinary(x,baseOut,sd,rm){var base,e,i,k,len,roundUp,str,xd,y,Ctor=x.constructor,isExp=void 0!==sd;if(isExp?(checkInt32(sd,1,MAX_DIGITS),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8)):(sd=Ctor.precision,rm=Ctor.rounding),x.isFinite()){for(isExp?(base=2,16==baseOut?sd=4*sd-3:8==baseOut&&(sd=3*sd-2)):base=baseOut,(i=(str=finiteToString(x)).indexOf("."))>=0&&(str=str.replace(".",""),(y=new Ctor(1)).e=str.length-i,y.d=convertBase(finiteToString(y),10,base),y.e=y.d.length),e=len=(xd=convertBase(str,10,base)).length;0==xd[--len];)xd.pop();if(xd[0]){if(i<0?e--:((x=new Ctor(x)).d=xd,x.e=e,xd=(x=divide(x,y,sd,rm,0,base)).d,e=x.e,roundUp=inexact),i=xd[sd],k=base/2,roundUp=roundUp||void 0!==xd[sd+1],roundUp=rm<4?(void 0!==i||roundUp)&&(0===rm||rm===(x.s<0?3:2)):i>k||i===k&&(4===rm||roundUp||6===rm&&1&xd[sd-1]||rm===(x.s<0?8:7)),xd.length=sd,roundUp)for(;++xd[--sd]>base-1;)xd[sd]=0,sd||(++e,xd.unshift(1));for(len=xd.length;!xd[len-1];--len);for(i=0,str="";i<len;i++)str+=NUMERALS.charAt(xd[i]);if(isExp){if(len>1)if(16==baseOut||8==baseOut){for(i=16==baseOut?4:3,--len;len%i;len++)str+="0";for(len=(xd=convertBase(str,base,baseOut)).length;!xd[len-1];--len);for(i=1,str="1.";i<len;i++)str+=NUMERALS.charAt(xd[i])}else str=str.charAt(0)+"."+str.slice(1);str=str+(e<0?"p":"p+")+e}else if(e<0){for(;++e;)str="0"+str;str="0."+str}else if(++e>len)for(e-=len;e--;)str+="0";else e<len&&(str=str.slice(0,e)+"."+str.slice(e))}else str=isExp?"0p+0":"0";str=(16==baseOut?"0x":2==baseOut?"0b":8==baseOut?"0o":"")+str}else str=nonFiniteToString(x);return x.s<0?"-"+str:str}function truncate(arr,len){if(arr.length>len)return arr.length=len,!0}function abs(x){return new this(x).abs()}function acos(x){return new this(x).acos()}function acosh(x){return new this(x).acosh()}function add(x,y){return new this(x).plus(y)}function asin(x){return new this(x).asin()}function asinh(x){return new this(x).asinh()}function atan(x){return new this(x).atan()}function atanh(x){return new this(x).atanh()}function atan2(y,x){y=new this(y),x=new this(x);var r,pr=this.precision,rm=this.rounding,wpr=pr+4;return y.s&&x.s?y.d||x.d?!x.d||y.isZero()?(r=x.s<0?getPi(this,pr,rm):new this(0)).s=y.s:!y.d||x.isZero()?(r=getPi(this,wpr,1).times(.5)).s=y.s:x.s<0?(this.precision=wpr,this.rounding=1,r=this.atan(divide(y,x,wpr,1)),x=getPi(this,wpr,1),this.precision=pr,this.rounding=rm,r=y.s<0?r.minus(x):r.plus(x)):r=this.atan(divide(y,x,wpr,1)):(r=getPi(this,wpr,1).times(x.s>0?.25:.75)).s=y.s:r=new this(NaN),r}function cbrt(x){return new this(x).cbrt()}function ceil(x){return finalise(x=new this(x),x.e+1,2)}function config(obj){if(!obj||"object"!=typeof obj)throw Error(decimalError+"Object expected");var i,p,v,useDefaults=!0===obj.defaults,ps=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-EXP_LIMIT,0,"toExpPos",0,EXP_LIMIT,"maxE",0,EXP_LIMIT,"minE",-EXP_LIMIT,0,"modulo",0,9];for(i=0;i<ps.length;i+=3)if(p=ps[i],useDefaults&&(this[p]=DEFAULTS[p]),void 0!==(v=obj[p])){if(!(mathfloor(v)===v&&v>=ps[i+1]&&v<=ps[i+2]))throw Error(invalidArgument+p+": "+v);this[p]=v}if(p="crypto",useDefaults&&(this[p]=DEFAULTS[p]),void 0!==(v=obj[p])){if(!0!==v&&!1!==v&&0!==v&&1!==v)throw Error(invalidArgument+p+": "+v);if(v){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(cryptoUnavailable);this[p]=!0}else this[p]=!1}return this}function cos(x){return new this(x).cos()}function cosh(x){return new this(x).cosh()}function div(x,y){return new this(x).div(y)}function exp(x){return new this(x).exp()}function floor(x){return finalise(x=new this(x),x.e+1,3)}function hypot(){var i,n,t=new this(0);for(external=!1,i=0;i<arguments.length;)if((n=new this(arguments[i++])).d)t.d&&(t=t.plus(n.times(n)));else{if(n.s)return external=!0,new this(1/0);t=n}return external=!0,t.sqrt()}function isDecimalInstance(obj){return obj instanceof Decimal||obj&&"[object Decimal]"===obj.name||!1}function ln(x){return new this(x).ln()}function log(x,y){return new this(x).log(y)}function log2(x){return new this(x).log(2)}function log10(x){return new this(x).log(10)}function max(){return maxOrMin(this,arguments,"lt")}function min(){return maxOrMin(this,arguments,"gt")}function mod(x,y){return new this(x).mod(y)}function mul(x,y){return new this(x).mul(y)}function pow(x,y){return new this(x).pow(y)}function random(sd){var d,e,k,n,i=0,r=new this(1),rd=[];if(void 0===sd?sd=this.precision:checkInt32(sd,1,MAX_DIGITS),k=Math.ceil(sd/LOG_BASE),this.crypto)if(crypto.getRandomValues)for(d=crypto.getRandomValues(new Uint32Array(k));i<k;)(n=d[i])>=429e7?d[i]=crypto.getRandomValues(new Uint32Array(1))[0]:rd[i++]=n%1e7;else{if(!crypto.randomBytes)throw Error(cryptoUnavailable);for(d=crypto.randomBytes(k*=4);i<k;)(n=d[i]+(d[i+1]<<8)+(d[i+2]<<16)+((127&d[i+3])<<24))>=214e7?crypto.randomBytes(4).copy(d,i):(rd.push(n%1e7),i+=4);i=k/4}else for(;i<k;)rd[i++]=1e7*Math.random()|0;for(k=rd[--i],sd%=LOG_BASE,k&&sd&&(n=mathpow(10,LOG_BASE-sd),rd[i]=(k/n|0)*n);0===rd[i];i--)rd.pop();if(i<0)e=0,rd=[0];else{for(e=-1;0===rd[0];e-=LOG_BASE)rd.shift();for(k=1,n=rd[0];n>=10;n/=10)k++;k<LOG_BASE&&(e-=LOG_BASE-k)}return r.e=e,r.d=rd,r}function round(x){return finalise(x=new this(x),x.e+1,this.rounding)}function sign(x){return(x=new this(x)).d?x.d[0]?x.s:0*x.s:x.s||NaN}function sin(x){return new this(x).sin()}function sinh(x){return new this(x).sinh()}function sqrt(x){return new this(x).sqrt()}function sub(x,y){return new this(x).sub(y)}function tan(x){return new this(x).tan()}function tanh(x){return new this(x).tanh()}function trunc(x){return finalise(x=new this(x),x.e+1,1)}P[Symbol.for("nodejs.util.inspect.custom")]=P.toString,P[Symbol.toStringTag]="Decimal";var Decimal=function clone(obj){var i,p,ps;function Decimal(v){var e,i,t,x=this;if(!(x instanceof Decimal))return new Decimal(v);if(x.constructor=Decimal,v instanceof Decimal)return x.s=v.s,void(external?!v.d||v.e>Decimal.maxE?(x.e=NaN,x.d=null):v.e<Decimal.minE?(x.e=0,x.d=[0]):(x.e=v.e,x.d=v.d.slice()):(x.e=v.e,x.d=v.d?v.d.slice():v.d));if("number"==(t=typeof v)){if(0===v)return x.s=1/v<0?-1:1,x.e=0,void(x.d=[0]);if(v<0?(v=-v,x.s=-1):x.s=1,v===~~v&&v<1e7){for(e=0,i=v;i>=10;i/=10)e++;return void(external?e>Decimal.maxE?(x.e=NaN,x.d=null):e<Decimal.minE?(x.e=0,x.d=[0]):(x.e=e,x.d=[v]):(x.e=e,x.d=[v]))}return 0*v!=0?(v||(x.s=NaN),x.e=NaN,void(x.d=null)):parseDecimal(x,v.toString())}if("string"!==t)throw Error(invalidArgument+v);return 45===(i=v.charCodeAt(0))?(v=v.slice(1),x.s=-1):(43===i&&(v=v.slice(1)),x.s=1),isDecimal.test(v)?parseDecimal(x,v):parseOther(x,v)}if(Decimal.prototype=P,Decimal.ROUND_UP=0,Decimal.ROUND_DOWN=1,Decimal.ROUND_CEIL=2,Decimal.ROUND_FLOOR=3,Decimal.ROUND_HALF_UP=4,Decimal.ROUND_HALF_DOWN=5,Decimal.ROUND_HALF_EVEN=6,Decimal.ROUND_HALF_CEIL=7,Decimal.ROUND_HALF_FLOOR=8,Decimal.EUCLID=9,Decimal.config=Decimal.set=config,Decimal.clone=clone,Decimal.isDecimal=isDecimalInstance,Decimal.abs=abs,Decimal.acos=acos,Decimal.acosh=acosh,Decimal.add=add,Decimal.asin=asin,Decimal.asinh=asinh,Decimal.atan=atan,Decimal.atanh=atanh,Decimal.atan2=atan2,Decimal.cbrt=cbrt,Decimal.ceil=ceil,Decimal.cos=cos,Decimal.cosh=cosh,Decimal.div=div,Decimal.exp=exp,Decimal.floor=floor,Decimal.hypot=hypot,Decimal.ln=ln,Decimal.log=log,Decimal.log10=log10,Decimal.log2=log2,Decimal.max=max,Decimal.min=min,Decimal.mod=mod,Decimal.mul=mul,Decimal.pow=pow,Decimal.random=random,Decimal.round=round,Decimal.sign=sign,Decimal.sin=sin,Decimal.sinh=sinh,Decimal.sqrt=sqrt,Decimal.sub=sub,Decimal.tan=tan,Decimal.tanh=tanh,Decimal.trunc=trunc,void 0===obj&&(obj={}),obj&&!0!==obj.defaults)for(ps=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],i=0;i<ps.length;)obj.hasOwnProperty(p=ps[i++])||(obj[p]=this[p]);return Decimal.config(obj),Decimal}(DEFAULTS);LN10=new Decimal(LN10),PI=new Decimal(PI),__webpack_exports__.default=Decimal},function(module,exports,__webpack_require__){"use strict";var createModel=__webpack_require__(1369).createModel;module.exports={createModel:createModel}},function(module,exports,__webpack_require__){"use strict";var _regeneratorRuntime=__webpack_require__(0),_asyncToGenerator=__webpack_require__(3),createClassifier=__webpack_require__(1370).createClassifier,_require2=__webpack_require__(600),getLabelWithTags=_require2.getLabelWithTags,tokenizer=_require2.tokenizer,pctOfTokensInVoc=__webpack_require__(1147).pctOfTokensInVoc,maxBy=__webpack_require__(275),logger=__webpack_require__(58),_require4=__webpack_require__(1384),LOCAL_MODEL_CATEG_FALLBACK=_require4.LOCAL_MODEL_CATEG_FALLBACK,LOCAL_MODEL_PROBA_FALLBACK=_require4.LOCAL_MODEL_PROBA_FALLBACK,LOCAL_MODEL_PCT_TOKENS_IN_VOC_THRESHOLD=_require4.LOCAL_MODEL_PCT_TOKENS_IN_VOC_THRESHOLD,log=logger.namespace("categorization/localModel/model");function _createModel(){return(_createModel=_asyncToGenerator(_regeneratorRuntime.mark(function _callee(options){var classifier,vocabulary,categorize;return _regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return log("info","Create a new classifier"),_context.next=3,createClassifier(options);case 3:return classifier=_context.sent,vocabulary=Object.keys(classifier.vocabulary),categorize=function(transactions){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=transactions[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var transaction=_step.value,label=getLabelWithTags(transaction),tokens=tokenizer(transaction.label),pctOfThisTokensInVoc=pctOfTokensInVoc(tokens,vocabulary),category=void 0,proba=void 0;if(pctOfThisTokensInVoc>LOCAL_MODEL_PCT_TOKENS_IN_VOC_THRESHOLD){log("info","Applying model to ".concat(label));var _maxBy=maxBy(classifier.categorize(label).likelihoods,"proba");category=_maxBy.category,proba=_maxBy.proba,transaction.localCategoryId=category,transaction.localCategoryProba=proba}else log("info","Giving up for ".concat(label)),category=LOCAL_MODEL_CATEG_FALLBACK,proba=LOCAL_MODEL_PROBA_FALLBACK,transaction.localCategoryId=category,transaction.localCategoryProba=proba;log("info","Results for ".concat(label," :")),log("info","localCategory: ".concat(category)),log("info","localProba: ".concat(proba))}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}},_context.abrupt("return",{categorize:categorize});case 7:case"end":return _context.stop()}},_callee)}))).apply(this,arguments)}module.exports={createModel:function(_x){return _createModel.apply(this,arguments)}}},function(module,exports,__webpack_require__){"use strict";var _regeneratorRuntime=__webpack_require__(0),_asyncToGenerator=__webpack_require__(3),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},fetchTransactionsWithManualCat=__webpack_require__(1371).fetchTransactionsWithManualCat,_require2=__webpack_require__(1147),getUniqueCategories=_require2.getUniqueCategories,getAlphaParameter=_require2.getAlphaParameter,bayes=__webpack_require__(1144),getLabelWithTags=__webpack_require__(600).getLabelWithTags,log=__webpack_require__(58).namespace("categorization/localModel/classifier"),FAKE_TRANSACTION_label="thisisafaketransaction",FAKE_TRANSACTION_manualCategoryId="0",TOKENS_TO_REWEIGHT=["tag_neg","tag_v_b_expense","tag_neg tag_v_b_expense","tag_b_expense","tag_neg tag_b_expense","tag_expense","tag_neg tag_expense","tag_noise_neg","tag_neg tag_noise_neg","tag_pos","tag_noise_pos","tag_pos tag_noise_pos","tag_income","tag_pos tag_income","tag_b_income","tag_pos tag_b_income","tag_activity_income","tag_pos tag_activity_income"],getClassifierOptions=function(transactionsWithManualCat){var nbUniqueCategories=getUniqueCategories(transactionsWithManualCat).length;log("debug","Number of unique categories in transactions with manual categories: "+nbUniqueCategories);var alpha=getAlphaParameter(nbUniqueCategories,2,4,12);log("debug","Alpha parameter value is "+alpha);var addFakeTransaction=!1;return 1===nbUniqueCategories&&(log("info","Not enough different categories, adding a fake transaction to balance the weight of the categories"),addFakeTransaction=!0),{initialization:{alpha:alpha,fitPrior:!1},configuration:{addFakeTransaction:addFakeTransaction}}},createLocalClassifier=function(transactionsToLearn,initializationOptions,configurationOptions){if(0===transactionsToLearn.length)throw new Error("Impossible to instanciate a classifier since there is no manually categorized transactions to learn from");var classifier=bayes(initializationOptions);log("info","Learning from manually categorized transactions");var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=transactionsToLearn[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var transaction=_step.value;classifier.learn(getLabelWithTags(transaction),transaction.manualCategoryId)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return configurationOptions.addFakeTransaction&&classifier.learn(FAKE_TRANSACTION_label,FAKE_TRANSACTION_manualCategoryId),classifier},reweightModel=function(classifier){for(var wordFrequencyCount=classifier.wordFrequencyCount,_loop=function(){var category=_Object$keys[_i],categoryWordsFrequencyCounts=wordFrequencyCount[category];TOKENS_TO_REWEIGHT.map(function(wordToReweight){if(categoryWordsFrequencyCounts.hasOwnProperty(wordToReweight)){var frequencyCount=categoryWordsFrequencyCounts[wordToReweight];1!==frequencyCount&&function(classifier,category,word,frequencyCount){var newFrequencyCount=1+Math.log(frequencyCount),deltaFrequencyCount=frequencyCount-newFrequencyCount;classifier.vocabulary[word]-=deltaFrequencyCount,classifier.wordCount[category]-=deltaFrequencyCount,classifier.wordFrequencyCount[category][word]=newFrequencyCount}(classifier,category,wordToReweight,frequencyCount)}})},_i=0,_Object$keys=Object.keys(wordFrequencyCount);_i<_Object$keys.length;_i++)_loop()},createClassifier=function(){var _ref=_asyncToGenerator(_regeneratorRuntime.mark(function _callee(options){var transactionsWithManualCat,classifierOptions,classifier;return _regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return log("info","Fetching manually categorized transactions"),_context.next=3,fetchTransactionsWithManualCat();case 3:return transactionsWithManualCat=_context.sent,log("info","Fetched ".concat(transactionsWithManualCat.length," manually categorized transactions")),log("info","Instanciating a new classifier"),classifierOptions=getClassifierOptions(transactionsWithManualCat),classifier=createLocalClassifier(transactionsWithManualCat,_extends({},options,classifierOptions.initialization),classifierOptions.configuration),log("info","Reweighting model to lower the impact of amount in the prediction"),reweightModel(classifier),log("info","Reweighting model to lower the impact of amount in the prediction"),reweightModel(classifier),_context.abrupt("return",classifier);case 13:case"end":return _context.stop()}},_callee)}));return function(_x){return _ref.apply(this,arguments)}}();module.exports={createClassifier:createClassifier}},function(module,exports,__webpack_require__){"use strict";var _regeneratorRuntime=__webpack_require__(0),_asyncToGenerator=__webpack_require__(3),cozyClient=__webpack_require__(149),BankTransaction=__webpack_require__(1372).BankTransaction;function _fetchTransactionsWithManualCat(){return(_fetchTransactionsWithManualCat=_asyncToGenerator(_regeneratorRuntime.mark(function _callee(){var transactionsWithManualCat;return _regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,BankTransaction.queryAll({manualCategoryId:{$exists:!0}});case 2:return transactionsWithManualCat=_context.sent,_context.abrupt("return",transactionsWithManualCat);case 4:case"end":return _context.stop()}},_callee)}))).apply(this,arguments)}BankTransaction.cozyClient||BankTransaction.registerClient(cozyClient),module.exports={fetchTransactionsWithManualCat:function(){return _fetchTransactionsWithManualCat.apply(this,arguments)}}},function(module,exports,__webpack_require__){const Account=__webpack_require__(1373),Application=__webpack_require__(1375),Document=__webpack_require__(293),BalanceHistory=__webpack_require__(1376),BankAccount=__webpack_require__(886),BankingReconciliator=__webpack_require__(1379),BankTransaction=__webpack_require__(1380),Permission=__webpack_require__(1383);module.exports={Account:Account,Application:Application,Document:Document,BalanceHistory:BalanceHistory,BankAccount:BankAccount,BankingReconciliator:BankingReconciliator,BankTransaction:BankTransaction,registerClient:Document.registerClient,Permission:Permission}},function(module,exports,__webpack_require__){const Document=__webpack_require__(293);class Account extends Document{}Account.schema={doctype:"io.cozy.accounts",attributes:{},relationships:{master:{type:"has-one",doctype:"io.cozy.accounts"}}},module.exports=Account},function(module,exports,__webpack_require__){const PromisePool=__webpack_require__(474);module.exports={parallelMap:(iterable,fn,concurrency)=>{const res=[];return new PromisePool(function*(){for(let item of iterable)yield fn(item).then(x=>res.push(x))},concurrency=concurrency||30).start().then(()=>res)}}},function(module,exports,__webpack_require__){const Document=__webpack_require__(293);class Application extends Document{}Application.schema={doctype:"io.cozy.apps",attributes:{}},module.exports=Application},function(module,exports,__webpack_require__){const Document=__webpack_require__(293),BankAccount=__webpack_require__(886);class BalanceHistory extends Document{static async getByYearAndAccount(year,accountId){const index=await Document.getIndex(this.doctype,this.idAttributes),options={selector:{year:year,"relationships.account.data._id":accountId},limit:1},[balance]=await Document.query(index,options);return balance||this.getEmptyDocument(year,accountId)}static getEmptyDocument(year,accountId){return{year:year,balances:{},metadata:{version:this.version},relationships:{account:{data:{_id:accountId,_type:BankAccount.doctype}}}}}}BalanceHistory.doctype="io.cozy.bank.balancehistories",BalanceHistory.idAttributes=["year","relationships.account.data._id"],BalanceHistory.version=1,BalanceHistory.checkedAttributes=["balances"],module.exports=BalanceHistory},function(module,exports,__webpack_require__){const sortBy=__webpack_require__(74),{eitherIncludes:eitherIncludes}=__webpack_require__(1145),{getSlugFromInstitutionLabel:getSlugFromInstitutionLabel}=__webpack_require__(1146),findExactMatch=(attr,account,existingAccounts)=>{const sameAttr=existingAccounts.filter(existingAccount=>existingAccount[attr]===account[attr]);return 1===sameAttr.length?{match:sameAttr[0],method:attr+"-exact"}:sameAttr.length>1?{matches:sameAttr,method:attr+"-exact"}:null},untrimmedAccountNumber=/^(?:[A-Za-z]+)?-?([0-9]+)-?(?:[A-Za-z]+)?$/,redactedCreditCard=/xxxx xxxx xxxx (\d{4})/,normalizeAccountNumber=(number,iban)=>{let match;return iban=iban&&iban.replace(/\s/g,""),number=number&&!number.match(redactedCreditCard)?number.replace(/\s/g,""):number,iban&&27==iban.length?iban.substr(14,11):number?number&&23==number.length?number.substr(10,11):number&&16==number.length?number.substr(5,11):number&&number.length>11&&(match=number.match(untrimmedAccountNumber))?match[1]:number:void 0},score=(account,existingAccount)=>{const methods=[],res={account:existingAccount,methods:methods};let points=0;if(((account,existingAccount)=>{const possibleSlug=getSlugFromInstitutionLabel(account.institutionLabel),possibleSlugExisting=getSlugFromInstitutionLabel(existingAccount.institutionLabel);return!possibleSlug||!possibleSlugExisting||possibleSlug===possibleSlugExisting})(account,existingAccount)||(points-=1e3),((account,existingAccount)=>existingAccount.number&&account.number&&(11===existingAccount.number.length||11===account.number.length)&&eitherIncludes(existingAccount.number,account.number))(account,existingAccount)?(points+=50,methods.push("approx-number")):points-=50,account.type===existingAccount.type&&(points+=50,methods.push("same-type")),"CreditCard"!==account.type&&"CreditCard"!==existingAccount.type||!((account,existingAccount)=>{let ccAccount,lastDigits;for(let acc of[account,existingAccount]){const match=acc.number.match(redactedCreditCard);match&&(ccAccount=acc,lastDigits=match[1])}if((ccAccount===account?existingAccount:account).number.slice(-4)===lastDigits)return!0})(account,existingAccount)||(points+=150,methods.push("credit-card-number")),account.currency){(existingAccount.rawNumber&&existingAccount.rawNumber.includes(account.currency)||existingAccount.label&&existingAccount.label.includes(account.currency)||existingAccount.originalBankLabel&&existingAccount.originalBankLabel.includes(account.currency))&&(points+=50,methods.push("currency"))}return res.points=points,res},normalizeAccount=account=>{const normalizedAccountNumber=normalizeAccountNumber(account.number,account.iban);return{...account,rawNumber:account.number,number:normalizedAccountNumber}},exactMatchAttributes=["iban","number"],eqNotUndefined=(attr1,attr2)=>attr1&&attr1===attr2,findMatch=(account,existingAccounts)=>{for(const exactAttribute of exactMatchAttributes)if(account[exactAttribute]){const result=findExactMatch(exactAttribute,account,existingAccounts);if(result&&result.match)return result}const matchOriginalNumber=existingAccounts.find(otherAccount=>eqNotUndefined(account.originalNumber,otherAccount.number)||eqNotUndefined(account.number,otherAccount.originalNumber));if(matchOriginalNumber)return{match:matchOriginalNumber,method:"originalNumber-exact"};const candidates=sortBy(existingAccounts.map(existingAccount=>score(account,existingAccount)),x=>-x.points).filter(x=>x.points>0);return candidates.length>0?{match:candidates[0].account,method:candidates[0].methods.join("-")}:void 0};module.exports={matchAccounts:(fetchedAccounts,existingAccounts)=>{fetchedAccounts=fetchedAccounts.map(normalizeAccount);const toMatch=[...existingAccounts].map(normalizeAccount),results=[];for(let fetchedAccount of fetchedAccounts){const matchResult=findMatch(fetchedAccount,toMatch);if(matchResult){const i=toMatch.indexOf(matchResult.match);toMatch.splice(i,1),results.push({account:fetchedAccount,...matchResult})}else results.push({account:fetchedAccount})}return results},normalizeAccountNumber:normalizeAccountNumber,score:score}},function(module,exports){module.exports={"AXA Banque":"axabanque102","/Banque Populaire.*/":"banquepopulaire",BforBank:"bforbank97","BNP Paribas":"bnpparibas82",BNPP:"bnpparibas82","/Boursorama.*/":"boursorama83",casden:"casden173","/Hello bank!.*/":"hellobank145",Bred:"bred",CA:"caatlantica3","Carrefour Banque":"carrefour159","/Caisse d'pargne.*/":"caissedepargne1","Compte Nickel":"comptenickel168","/^CIC.*/":"cic63","Crdit Agricole":"caatlantica3","Crdit Coopratif":"creditcooperatif148","/Crdit du Nord.*/":"cdngroup88","/Crdit Maritime.*/":"creditmaritime","/Crdit Mutuel.*/":"cic45",Fortuneo:"fortuneo84","Hello bank!":"hellobank145","HSBC France":"hsbc119",HSBC:"hsbc119","/^ING.*/":"ingdirect95","/La Banque Postale.*/":"labanquepostale44","/LCL.*/":"lcl-linxo",Milleis:"barclays136",Monabanq:"monabanq96","Socit Gnrale":"societegenerale","Socit marseillaise de crdit":"cdngroup109"}},function(module,exports,__webpack_require__){const fromPairs=__webpack_require__(92),log=__webpack_require__(58).namespace("BankingReconciliator");module.exports=class{constructor(options){this.options=options}async save(fetchedAccounts,fetchedTransactions,options={}){const{BankAccount:BankAccount,BankTransaction:BankTransaction}=this.options,stackAccounts=await BankAccount.fetchAll(),reconciliatedAccounts=BankAccount.reconciliate(fetchedAccounts,stackAccounts);log("info","Saving accounts...");const savedAccounts=await BankAccount.bulkSave(reconciliatedAccounts);options.onAccountsSaved&&options.onAccountsSaved(savedAccounts);const vendorIdToCozyId=fromPairs(savedAccounts.map(acc=>[acc[BankAccount.vendorIdAttr],acc._id]));log("info","Linking transactions to accounts..."),log("info",JSON.stringify(vendorIdToCozyId)),fetchedTransactions.forEach(tr=>{if(tr.account=vendorIdToCozyId[tr[BankTransaction.vendorAccountIdAttr]],void 0===tr.account)throw log("warn",`Transaction without account, vendorAccountIdAttr: ${BankTransaction.vendorAccountIdAttr}`),log("warn","transaction: "+JSON.stringify(tr)),new Error("Transaction without account.")});const reconciliatedAccountIds=new Set(reconciliatedAccounts.filter(acc=>acc._id).map(acc=>acc._id)),stackTransactions=(await BankTransaction.fetchAll()).filter(transaction=>reconciliatedAccountIds.has(transaction.account)),transactions=BankTransaction.reconciliate(fetchedTransactions,stackTransactions,options);log("info","Saving transactions...");let i=1;return{accounts:savedAccounts,transactions:await BankTransaction.bulkSave(transactions,30,doc=>{log("debug",`[bulkSave] ${i++} Saving ${doc.date} ${doc.label}`)})}}}},function(module,exports,__webpack_require__){const keyBy=__webpack_require__(87),groupBy=__webpack_require__(41),maxBy=__webpack_require__(275),addDays=__webpack_require__(257),isAfter=__webpack_require__(475),Document=__webpack_require__(293),log=__webpack_require__(1381),BankAccount=__webpack_require__(886),{matchTransactions:matchTransactions}=__webpack_require__(1382),maxValue=(iterable,fn)=>{const res=maxBy(iterable,fn);return res?fn(res):null},getDate=transaction=>{return(transaction.realisationDate||transaction.date).slice(0,10)},getSplitDate=stackTransactions=>maxValue(stackTransactions,getDate),ensureISOString=date=>date instanceof Date?date.toISOString():date;class Transaction extends Document{static getDate(transaction){return transaction}isAfter(minDate){if(minDate){const day=ensureISOString(this.date).slice(0,10);return"NaN"!==day?day>minDate:(log("warn","transaction date could not be parsed. transaction: "+JSON.stringify(this)),!1)}return!0}isBeforeOrSame(maxDate){if(maxDate){const day=ensureISOString(this.date).slice(0,10);return"NaN"!==day?day<=maxDate:(log("warn","transaction date could not be parsed. transaction: "+JSON.stringify(this)),!1)}return!0}getIdentifier(){return`${this.amount}-${this.originalBankLabel}-${this.date}`}static getMissedTransactions(newTransactions,stackTransactions,options={}){const oldestDate=maxValue(stackTransactions,getDate),frontierDate=addDays(oldestDate,-7),recentNewTransactions=newTransactions.filter(tr=>isAfter(getDate(tr),frontierDate)),missedTransactions=Array.from(matchTransactions(recentNewTransactions,stackTransactions)).filter(result=>!result.match).map(result=>result.transaction),trackEvent=options.trackEvent;if("function"==typeof trackEvent)try{const nbMissed=missedTransactions.length,nbExisting=stackTransactions.length;trackEvent({e_a:"ReconciliateMissing",e_n:"MissedTransactionPct",e_v:parseFloat((nbMissed/nbExisting).toFixed(2),10)}),trackEvent({e_a:"ReconciliateMissing",e_n:"MissedTransactionAbs",e_v:nbMissed})}catch(e){log("warn",`Could not send MissedTransaction event: ${e.message}`)}return missedTransactions}static reconciliate(remoteTransactions,localTransactions,options={}){const groups=groupBy(remoteTransactions,transaction=>(transaction=>localTransactions.find(t=>t.vendorId===transaction.vendorId))(transaction)?"updatedTransactions":"newTransactions");let newTransactions=groups.newTransactions||[];const updatedTransactions=groups.updatedTransactions||[],splitDate=getSplitDate(localTransactions);if(splitDate){"function"==typeof options.trackEvent&&options.trackEvent({e_a:"ReconciliateSplitDate"});const isAfterSplit=x=>Transaction.prototype.isAfter.call(x,splitDate),isBeforeSplit=x=>Transaction.prototype.isBeforeOrSame.call(x,splitDate),transactionsAfterSplit=newTransactions.filter(isAfterSplit);transactionsAfterSplit.length>0?log("info",`Found ${transactionsAfterSplit.length} transactions after ${splitDate}`):log("info",`No transaction after ${splitDate}`);const transactionsBeforeSplit=newTransactions.filter(isBeforeSplit);log("info",`Found ${transactionsBeforeSplit.length} transactions before ${splitDate}`);const missedTransactions=Transaction.getMissedTransactions(transactionsBeforeSplit,localTransactions,options);missedTransactions.length>0?log("info",`Found ${missedTransactions.length} missed transactions before ${splitDate}`):log("info",`No missed transactions before ${splitDate}`),newTransactions=[...transactionsAfterSplit,...missedTransactions]}else log("info","Can't find a split date, saving all new transactions");return log("info",`Transaction reconciliation: new ${newTransactions.length}, updated ${updatedTransactions.length}, split date ${splitDate} `),[].concat(newTransactions).concat(updatedTransactions)}static async getMostRecentForAccounts(accountIds){try{log("debug","Transaction.getLast");const index=await Document.getIndex(this.doctype,["date","account"]),options={selector:{date:{$gte:null},account:{$in:accountIds}},sort:[{date:"desc"}]},transactions=await Document.query(index,options);return log("info","last transactions length: "+transactions.length),transactions}catch(e){return log("error",e),[]}}static async deleteOrphans(){log("info","Deleting up orphan operations");const accounts=keyBy(await BankAccount.fetchAll(),"_id"),operations=await this.fetchAll(),orphanOperations=operations.filter(x=>!accounts[x.account]);if(log("info",`Total number of operations: ${operations.length}`),log("info",`Total number of orphan operations: ${orphanOperations.length}`),log("info",`Deleting ${orphanOperations.length} orphan operations...`),orphanOperations.length>0)return this.deleteAll(orphanOperations)}getVendorAccountId(){return this[this.constructor.vendorAccountIdAttr]}}Transaction.doctype="io.cozy.bank.operations",Transaction.version=1,Transaction.vendorAccountIdAttr="vendorAccountId",Transaction.vendorIdAttr="vendorId",Transaction.idAttributes=["vendorId"],Transaction.checkedAttributes=["label","originalBankLabel","automaticCategoryId","account"],module.exports=Transaction},function(module,exports,__webpack_require__){const log=__webpack_require__(58).namespace("doctypes");module.exports=log},function(module,exports,__webpack_require__){const groupBy=__webpack_require__(41),sortBy=__webpack_require__(74),{eitherIncludes:eitherIncludes}=__webpack_require__(1145),getDateTransaction=op=>op.date.substr(0,10),squash=(str,char)=>{const rx=new RegExp(String.raw`${char}{2,}`,"gi");return str&&str.replace(rx,char)},redactedNumber=/\b[0-9X]+\b/gi,dateRx=/\b\d{2}\/\d{2}\/\d{4}\b/g,cleanLabel=label=>label&&label.replace(redactedNumber,""),withoutDate=str=>str&&str.replace(dateRx,""),compacted=str=>str&&str.replace(/\s/g,"").replace(/-/g,""),scoreMatching=(newTr,existingTr,options={})=>{const methods=[],res={op:existingTr,methods:methods};if(options.maxDateDelta){if(((newTr,existingTr)=>{const nDate1=new Date(newTr.date.substr(0,10)),eDate1=new Date(existingTr.date.substr(0,10)),delta=Math.abs(eDate1-nDate1);if(newTr.realisationDate){const nDate2=new Date(newTr.realisationDate.substr(0,10)),delta2=Math.abs(eDate1-nDate2);return Math.min(delta,delta2)}return delta})(newTr,existingTr)>options.maxDateDelta)return res.points=-1e3,res;methods.push("approx-date")}const[labelPoints,labelMethod]=((newTr,existingTr)=>squash(existingTr.originalBankLabel," ")===squash(newTr.originalBankLabel," ")?[200,"originalBankLabel"]:compacted(existingTr.originalBankLabel)===compacted(newTr.originalBankLabel)?[120,"originalBankLabelCompacted"]:withoutDate(existingTr.originalBankLabel)===withoutDate(newTr.originalBankLabel)?[150,"originalBankLabelWithoutDate"]:existingTr.label===newTr.label?[100,"label"]:eitherIncludes(existingTr.label.toLowerCase(),newTr.label.toLowerCase())?[70,"eitherIncludes"]:eitherIncludes(cleanLabel(existingTr.label.toLowerCase()),cleanLabel(newTr.label.toLowerCase()))?[50,"fuzzy-eitherIncludes"]:[-1e3,"label-penalty"])(newTr,existingTr);methods.push(labelMethod);const points=(0===Math.abs(existingTr.amount-newTr.amount)?methods.push("amount")&&100:-1e3)+labelPoints;return res.points=points,res},matchTransaction=(newTr,existingTrs,options={})=>{const exactVendorId=existingTrs.find(existingTr=>existingTr.vendorId&&newTr.vendorId&&existingTr.vendorId===newTr.vendorId);if(exactVendorId)return{match:exactVendorId,method:"vendorId"};const withPoints=existingTrs.map(existingTr=>scoreMatching(newTr,existingTr,options)),candidates=sortBy(withPoints,x=>-x.points).filter(x=>x.points>0);return candidates.length>0?{match:candidates[0].op,method:candidates[0].methods.join("-")}:{candidates:candidates}},matchTransactionToGroup=function*(newTrs,existingTrs,options={}){const toMatch=Array.isArray(existingTrs)?[...existingTrs]:[];for(let newTr of newTrs){const res={transaction:newTr},result=toMatch.length>0?matchTransaction(newTr,toMatch,options):null;if(result){Object.assign(res,result);const matchIdx=toMatch.indexOf(result.match);matchIdx>-1&&toMatch.splice(matchIdx,1)}yield res}};module.exports={matchTransactions:function*(newTrs,existingTrs){const unmatchedNew=new Set(newTrs),unmatchedExisting=new Set(existingTrs);for(let[date,[newGroup,existingGroup]]of function*(iterables,grouper){const grouped=iterables.map(items=>groupBy(items,grouper));for(const key of Object.keys(grouped[0]).sort()){const groups=grouped.map(keyedGroups=>keyedGroups[key]||[]);yield[key,groups]}}([newTrs,existingTrs],getDateTransaction))for(let result of matchTransactionToGroup(newGroup,existingGroup))result.match&&(unmatchedExisting.delete(result.match),unmatchedNew.delete(result.transaction),yield result);const deltas=[3,4,5];for(let delta of deltas)for(let result of matchTransactionToGroup(Array.from(unmatchedNew),Array.from(unmatchedExisting),{maxDateDelta:864e5*delta}))result.method&&(result.method+=`-delta${delta}`),result.match&&(unmatchedExisting.delete(result.match),unmatchedNew.delete(result.transaction)),(result.match||delta===deltas[deltas.length-1])&&(yield result)},scoreMatching:scoreMatching}},function(module,exports,__webpack_require__){const Document=__webpack_require__(293);class Permission extends Document{}Permission.schema={doctype:"io.cozy.permissions",attributes:{}},module.exports=Permission},function(module,exports,__webpack_require__){"use strict";module.exports={LOCAL_MODEL_CATEG_FALLBACK:"0",LOCAL_MODEL_PROBA_FALLBACK:.1,LOCAL_MODEL_PCT_TOKENS_IN_VOC_THRESHOLD:.1}},function(module,exports,__webpack_require__){"use strict";var log=__webpack_require__(58).namespace("Error Interception");process.on("uncaughtException",function(err){log("critical",err.message,"uncaught exception"),process.exit(1)}),process.on("unhandledRejection",function(err){log("critical",err.message,"unhandled exception"),process.exit(1)}),process.on("SIGTERM",function(){log("critical","The konnector got a SIGTERM"),process.exit(143)}),process.on("SIGINT",function(){log("critical","The konnector got a SIGINT"),process.exit(130)})},function(module,exports,__webpack_require__){var Promise=__webpack_require__(277);function StopError(err){this.name="StopError",err instanceof Error?this.err=err:this.message=err||"cancelled"}function retry(func,options){var max_tries,giveup_time,interval="number"==typeof(options=options||{}).interval?options.interval:1e3;void 0!==options.max_tries&&(max_tries=options.max_tries),options.timeout&&(giveup_time=(new Date).getTime()+options.timeout),max_tries||giveup_time||(max_tries=5);var tries=0,start=(new Date).getTime(),predicate=options.predicate||function(err){return!0},stopped=!1;return function try_once(){var tryStart=(new Date).getTime();return Promise.attempt(function(){return func.apply(options.context,options.args)}).caught(StopError,function(err){return stopped=!0,err.err instanceof Error?Promise.reject(err.err):Promise.reject(err)}).caught(predicate,function(err){if(stopped)return Promise.reject(err);++tries>1&&(interval=function(interval,options){return options.backoff&&(interval*=options.backoff),options.max_interval&&(interval=Math.min(interval,options.max_interval)),interval}(interval,options));var now=(new Date).getTime();if(max_tries&&tries===max_tries||giveup_time&&now+interval>=giveup_time){if(err instanceof Error){if(options.throw_original)return Promise.reject(err)}else{var failure=err;failure&&"string"!=typeof failure&&(failure=JSON.stringify(failure)),(err=new Error("rejected with non-error: "+failure)).failure=failure}var timeout=new Error("operation timed out after "+(now-start)+" ms, "+tries+" tries with error: "+err.message);return timeout.failure=err,timeout.code="ETIMEDOUT",Promise.reject(timeout)}var delay=interval-(now-tryStart);return delay<=0?try_once():Promise.delay(delay).then(try_once)})}()}StopError.prototype=Object.create(Error.prototype),retry.StopError=StopError,module.exports=retry},function(module,exports,__webpack_require__){"use strict";const{stringToBytes:stringToBytes,readUInt64LE:readUInt64LE,tarHeaderChecksumMatches:tarHeaderChecksumMatches,uint8ArrayUtf8ByteString:uint8ArrayUtf8ByteString}=__webpack_require__(1388),xpiZipFilename=stringToBytes("META-INF/mozilla.rsa"),oxmlContentTypes=stringToBytes("[Content_Types].xml"),oxmlRels=stringToBytes("_rels/.rels"),fileType=input=>{if(!(input instanceof Uint8Array||input instanceof ArrayBuffer||Buffer.isBuffer(input)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof input}\``);const buffer=input instanceof Uint8Array?input:new Uint8Array(input);if(!(buffer&&buffer.length>1))return;const check=(header,options)=>{options=Object.assign({offset:0},options);for(let i=0;i<header.length;i++)if(options.mask){if(header[i]!==(options.mask[i]&buffer[i+options.offset]))return!1}else if(header[i]!==buffer[i+options.offset])return!1;return!0},checkString=(header,options)=>check(stringToBytes(header),options);if(check([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(check([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(check([71,73,70]))return{ext:"gif",mime:"image/gif"};if(check([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(check([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((check([73,73,42,0])||check([77,77,0,42]))&&check([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(check([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(check([73,73,42,0,16,251,134,1]))return{ext:"arw",mime:"image/x-sony-arw"};if(check([73,73,42,0,8,0,0,0,45]))return{ext:"dng",mime:"image/x-adobe-dng"};if(check([73,73,42,0,48,61,114,1,28]))return{ext:"nef",mime:"image/x-nikon-nef"};if(check([73,73,42,0])||check([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(check([66,77]))return{ext:"bmp",mime:"image/bmp"};if(check([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(check([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(check([80,75,3,4])){if(check([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(check(xpiZipFilename,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(checkString("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(checkString("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(checkString("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};const findNextZipHeaderIndex=(arr,startAt=0)=>arr.findIndex((el,i,arr)=>i>=startAt&&80===arr[i]&&75===arr[i+1]&&3===arr[i+2]&&4===arr[i+3]);let type,zipHeaderIndex=0,oxmlFound=!1;do{const offset=zipHeaderIndex+30;if(oxmlFound||(oxmlFound=check(oxmlContentTypes,{offset:offset})||check(oxmlRels,{offset:offset})),type||(checkString("word/",{offset:offset})?type={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:checkString("ppt/",{offset:offset})?type={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:checkString("xl/",{offset:offset})&&(type={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),oxmlFound&&type)return type;zipHeaderIndex=findNextZipHeaderIndex(buffer,offset)}while(zipHeaderIndex>=0);if(type)return type}if(check([80,75])&&(3===buffer[2]||5===buffer[2]||7===buffer[2])&&(4===buffer[3]||6===buffer[3]||8===buffer[3]))return{ext:"zip",mime:"application/zip"};if(check([48,48,48,48,48,48],{offset:148,mask:[248,248,248,248,248,248]})&&tarHeaderChecksumMatches(buffer))return{ext:"tar",mime:"application/x-tar"};if(check([82,97,114,33,26,7])&&(0===buffer[6]||1===buffer[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(check([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(check([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(check([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(check([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(check([102,114,101,101],{offset:4})||check([109,100,97,116],{offset:4})||check([109,111,111,118],{offset:4})||check([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(check([102,116,121,112],{offset:4})&&0!=(96&buffer[8])&&0!=(96&buffer[9])&&0!=(96&buffer[10])&&0!=(96&buffer[11])){const brandMajor=uint8ArrayUtf8ByteString(buffer,8,12);switch(brandMajor){case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt  ":return{ext:"mov",mime:"video/quicktime"};case"M4V ":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P ":return{ext:"m4p",mime:"video/mp4"};case"M4B ":return{ext:"m4b",mime:"audio/mp4"};case"M4A ":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V ":return{ext:"f4v",mime:"video/mp4"};case"F4P ":return{ext:"f4p",mime:"video/mp4"};case"F4A ":return{ext:"f4a",mime:"audio/mp4"};case"F4B ":return{ext:"f4b",mime:"audio/mp4"};default:return brandMajor.startsWith("3g")?brandMajor.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(check([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(check([26,69,223,163])){const sliced=buffer.subarray(4,4100),idPos=sliced.findIndex((el,i,arr)=>66===arr[i]&&130===arr[i+1]);if(-1!==idPos){const docTypePos=idPos+3,findDocType=type=>[...type].every((c,i)=>sliced[docTypePos+i]===c.charCodeAt(0));if(findDocType("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(findDocType("webm"))return{ext:"webm",mime:"video/webm"}}}if(check([82,73,70,70])){if(check([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(check([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(check([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(check([48,38,178,117,142,102,207,17,166,217])){let offset=30;do{const objectSize=readUInt64LE(buffer,offset+16);if(check([145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],{offset:offset})){if(check([64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43],{offset:offset+24}))return{ext:"wma",mime:"audio/x-ms-wma"};if(check([192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],{offset:offset+24}))return{ext:"wmv",mime:"video/x-ms-asf"};break}offset+=objectSize}while(offset+24<=buffer.length);return{ext:"asf",mime:"application/vnd.ms-asf"}}if(check([0,0,1,186])||check([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};for(let start=0;start<2&&start<buffer.length-16;start++){if(check([73,68,51],{offset:start})||check([255,226],{offset:start,mask:[255,230]}))return{ext:"mp3",mime:"audio/mpeg"};if(check([255,228],{offset:start,mask:[255,230]}))return{ext:"mp2",mime:"audio/mpeg"};if(check([255,248],{offset:start,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(check([255,240],{offset:start,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(check([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(check([79,103,103,83]))return check([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:check([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:check([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:check([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:check([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(check([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(check([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(check([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(check([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(check([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(check([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((67===buffer[0]||70===buffer[0])&&check([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(check([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(check([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(check([119,79,70,70])&&(check([0,1,0,0],{offset:4})||check([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(check([119,79,70,50])&&(check([0,1,0,0],{offset:4})||check([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(check([76,80],{offset:34})&&(check([0,0,1],{offset:8})||check([1,0,2],{offset:8})||check([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(check([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(check([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(check([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(check([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(check([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(check([37,33]))return{ext:"ps",mime:"application/postscript"};if(check([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(check([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(check([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(check([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(check([77,83,67,70])||check([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(check([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(check([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(check([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(check([31,160])||check([31,157]))return{ext:"Z",mime:"application/x-compress"};if(check([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(check([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(check([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(check([71],{offset:4})&&(check([71],{offset:192})||check([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(check([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(check([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(check([0,0,0,12,106,80,32,32,13,10,135,10])){if(check([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(check([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(check([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(check([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}return check([70,79,82,77])?{ext:"aif",mime:"audio/aiff"}:checkString("<?xml ")?{ext:"xml",mime:"application/xml"}:check([66,79,79,75,77,79,66,73],{offset:60})?{ext:"mobi",mime:"application/x-mobipocket-ebook"}:check([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:check([68,73,67,77],{offset:128})?{ext:"dcm",mime:"application/dicom"}:check([77,80,43])?{ext:"mpc",mime:"audio/x-musepack"}:check([77,80,67,75])?{ext:"mpc",mime:"audio/x-musepack"}:check([66,69,71,73,78,58])?{ext:"ics",mime:"text/calendar"}:check([103,108,84,70,2,0,0,0])?{ext:"glb",mime:"model/gltf-binary"}:check([212,195,178,161])||check([161,178,195,212])?{ext:"pcap",mime:"application/vnd.tcpdump.pcap"}:check([68,83,68,32])?{ext:"dsf",mime:"audio/x-dsf"}:check([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70])?{ext:"lnk",mime:"application/x.ms.shortcut"}:check([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0])?{ext:"alias",mime:"application/x.apple.alias"}:checkString("Creative Voice File")?{ext:"voc",mime:"audio/x-voc"}:check([11,119])?{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"}:void 0};module.exports=fileType,Object.defineProperty(fileType,"minimumBytes",{value:4100}),fileType.stream=readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.once("readable",()=>{const pass=new stream.PassThrough,chunk=readableStream.read(module.exports.minimumBytes)||readableStream.read();try{pass.fileType=fileType(chunk)}catch(error){reject(error)}readableStream.unshift(chunk),stream.pipeline?resolve(stream.pipeline(readableStream,pass,()=>{})):resolve(readableStream.pipe(pass))})})},function(module,exports,__webpack_require__){"use strict";exports.stringToBytes=string=>[...string].map(character=>character.charCodeAt(0));const uint8ArrayUtf8ByteString=(array,start,end)=>String.fromCharCode(...array.slice(start,end));exports.readUInt64LE=(buffer,offset=0)=>{let n=buffer[offset],mul=1,i=0;for(;++i<8;)mul*=256,n+=buffer[offset+i]*mul;return n},exports.tarHeaderChecksumMatches=buffer=>{if(buffer.length<512)return!1;let sum=256,signedBitSum=0;for(let i=0;i<148;i++){const byte=buffer[i];sum+=byte,signedBitSum+=128&byte}for(let i=156;i<512;i++){const byte=buffer[i];sum+=byte,signedBitSum+=128&byte}const readSum=parseInt(uint8ArrayUtf8ByteString(buffer,148,154),8);return readSum===sum||readSum===sum-(signedBitSum<<1)},exports.uint8ArrayUtf8ByteString=uint8ArrayUtf8ByteString},function(module,exports,__webpack_require__){"use strict";var operationsFilters=__webpack_require__(1390).operationsFilters,findNeighboringOperations=__webpack_require__(1391).findNeighboringOperations,sortedOperations=__webpack_require__(888).sortedOperations,findOperation=function(cozyClient,bill,options,allOperations){if(!options.credit||bill.isRefund)return findNeighboringOperations(cozyClient,bill,options,allOperations).then(function(operations){return operations=operationsFilters(bill,operations,options),(operations=sortedOperations(bill,operations))[0]})},findDebitOperation=findOperation;module.exports={findDebitOperation:findDebitOperation,findCreditOperation:function(cozyClient,bill,options,allOperations){var creditOptions=Object.assign({},options,{credit:!0});return findOperation(cozyClient,bill,creditOptions,allOperations)}}},function(module,exports,__webpack_require__){"use strict";var includes=__webpack_require__(488),some=__webpack_require__(483),sumBy=__webpack_require__(111),isWithinRange=__webpack_require__(945),_require=__webpack_require__(888),getIdentifiers=_require.getIdentifiers,getDateRangeFromBill=_require.getDateRangeFromBill,getAmountRangeFromBill=_require.getAmountRangeFromBill,HEALTH_VENDORS=["Ameli","Harmonie","Malakoff Mederic","MGEN","Generali","ascoreSante","EoviMCD","Humanis","Alan","lamutuellegenerale"],getCategoryId=function(o){return o.manualCategoryId||o.automaticCategoryId||"0"},isHealthOperation=function(operation){var catId=getCategoryId(operation);return operation.amount<0?"400610"===catId:"400610"===catId||"400620"===catId},isUncategorizedOperation=function(operation){return"0"==getCategoryId(operation)},isHealthBill=function(bill){return includes(HEALTH_VENDORS,bill.vendor)},filterByIdentifiers=function(identifiers){identifiers=identifiers.map(function(i){return i.toLowerCase()});return function(operation){var label=operation.label.toLowerCase();return some(identifiers,function(identifier){return includes(label,identifier)})}},filterByDates=function(_ref){var minDate=_ref.minDate,maxDate=_ref.maxDate;return function(operation){return isWithinRange(operation.date,minDate,maxDate)}},filterByAmounts=function(_ref2){var minAmount=_ref2.minAmount,maxAmount=_ref2.maxAmount;return function(operation){return operation.amount>=minAmount&&operation.amount<=maxAmount}},filterByCategory=function(bill){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},isHealth=isHealthBill(bill),categoryFilter=function(operation){return!(!0!==options.allowUncategorized||!isUncategorizedOperation(operation))||(isHealth?isHealthOperation(operation):!isHealthOperation(operation))};return categoryFilter},filterByReimbursements=function(bill){return function(operation){return sumBy(operation.reimbursements,"amount")+bill.amount<=-operation.amount}};module.exports={filterByIdentifiers:filterByIdentifiers,filterByDates:filterByDates,filterByAmounts:filterByAmounts,filterByCategory:filterByCategory,filterByReimbursements:filterByReimbursements,operationsFilters:function(bill,operations,options){var filters,fByDates=filterByDates(getDateRangeFromBill(bill,options)),fByAmounts=filterByAmounts(getAmountRangeFromBill(bill,options)),fByCategory=filterByCategory(bill,options),fByReimbursements=filterByReimbursements(bill),conditions=[fByDates,fByAmounts,fByCategory];if(options.credit||conditions.push(fByReimbursements),options.credit||!isHealthBill(bill)){var fbyIdentifiers=filterByIdentifiers(getIdentifiers(options));conditions.push(fbyIdentifiers)}return operations.filter((filters=conditions,function(op){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=filters[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0)if(!(0,_step.value)(op))return!1}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return!0}))}}},function(module,exports,__webpack_require__){"use strict";var _regeneratorRuntime=__webpack_require__(0),_asyncToGenerator=__webpack_require__(3),_require=__webpack_require__(888),getDateRangeFromBill=_require.getDateRangeFromBill,getAmountRangeFromBill=_require.getAmountRangeFromBill,createDateSelector=function(bill,options){var _getDateRangeFromBill=getDateRangeFromBill(bill,options),minDate=_getDateRangeFromBill.minDate,maxDate=_getDateRangeFromBill.maxDate;return{$gt:minDate.toISOString(),$lt:maxDate.toISOString()}},createAmountSelector=function(bill,options){var _getAmountRangeFromBi=getAmountRangeFromBill(bill,options);return{$gt:_getAmountRangeFromBi.minAmount,$lt:_getAmountRangeFromBi.maxAmount}},getQueryOptions=function(bill,options,ids){var queryOptions={selector:{date:createDateSelector(bill,options),amount:createAmountSelector(bill,options)},sort:[{date:"desc"},{amount:"desc"}],COZY_STACK_QUERY_LIMIT:100};return ids.length>0&&(queryOptions.skip=ids.length),queryOptions},and=function(conditions){return function(obj){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=conditions[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){if(!(0,_step.value)(obj))return!1}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{_iteratorNormalCompletion||null==_iterator.return||_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return!0}},findByMangoQuerySimple=function(docs,query){var selector=query.selector,filters=Object.keys(selector).map(function(attr){return function(doc){var attrSel=selector[attr],conditions=Object.keys(attrSel).map(function($operator){return function(doc){var val=doc[attr],selValue=attrSel[$operator];if("$gt"==$operator)return val>selValue;if("$lt"==$operator)return val<selValue;throw new Error("Unknown operator ".concat($operator))}});return and(conditions)(doc)}});return docs.filter(and(filters))},findNeighboringOperations=function(){var _ref=_asyncToGenerator(_regeneratorRuntime.mark(function _callee(cozyClient,bill,options,allOperations){var queryOptions,neighboringOperations;return _regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return queryOptions=getQueryOptions(bill,options,[]),neighboringOperations=findByMangoQuerySimple(allOperations,queryOptions),_context.abrupt("return",neighboringOperations);case 3:case"end":return _context.stop()}},_callee)}));return function(_x,_x2,_x3,_x4){return _ref.apply(this,arguments)}}();module.exports={findByMangoQuerySimple:findByMangoQuerySimple,findNeighboringOperations:findNeighboringOperations}},function(module,exports,__webpack_require__){exports.Geco=Object.assign(__webpack_require__(1393),__webpack_require__(1396))},function(module,exports,__webpack_require__){module.exports=function(){const balloc=Buffer.alloc,Toni=__webpack_require__(1394);return{get:function(n,k){if(!n||n<k)throw new RangeError("check input values");const buff=balloc(n,0),colex_gen=function*(n,k){0===n?yield buff:(k<n&&(buff[n-1]=0,yield*colex_gen(n-1,k)),k>0&&(buff[n-1]=1,yield*colex_gen(n-1,k-1)))},colex_gen_2=function*(n,k){0===k?yield buff:(k<n&&(buff[n-1]=0,yield*colex_gen_2(n-1,k)),buff[n-1]=1,yield*colex_gen_2(n-1,k-1),buff[n-1]=0)};return k>n/2?colex_gen(n,k):colex_gen_2(n,k)},get_bm:function(n,k){if(!n||n<k)throw new RangeError("check input values");const bmap=Toni(n),colex_gen=function*(n,k){0===n?yield bmap:(k<n&&(bmap.del(n-1),yield*colex_gen(n-1,k)),k>0&&(bmap.add(n-1),yield*colex_gen(n-1,k-1)))},colex_gen_2=function*(n,k){0===k?yield bmap:(k<n&&(bmap.del(n-1),yield*colex_gen_2(n-1,k)),bmap.add(n-1),yield*colex_gen_2(n-1,k-1),bmap.del(n-1))};return k>n/2?colex_gen(n,k):colex_gen_2(n,k)},gen:function*(n,k,set,bitmap){let result,comb,c,bm,b,list=set||0,llen=list.length,iter=null;if(!(list&&llen&&n&&n>=k&&n<=llen))throw new RangeError("check input values");if(bitmap)for(bm of iter=this.get_bm(n,k)){for(result=[],b=0;b<n;++b)bm.chk(b)&&result.push(list[b]);yield result}else for(comb of iter=this.get(n,k)){for(result=[],c=0;c<n;++c)comb[c]&&result.push(list[c]);yield result}},cnt:(n,k)=>{let p=[1,1],c=0;for(;c<k;++c)p[0]*=n-c,p[1]*=k-c;return p[0]/p[1]}}}()},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1395).Toni},function(module,exports){exports.Toni=function(){console.log;var abs=Math.abs,ceil=Math.ceil,max=Math.max,min=Math.min,bpower=new Buffer([128,64,32,16,8,4,2,1]),cbits=function(b){var v=b-(b>>>1&85);return(v=(51&v)+(v>>>2&51))+(v>>>4)&15},bctable=function(){for(var i=0,table=new Buffer(256);i<256;++i)table[i]=cbits(i);return table}(),Toni=function(range){var me=this;if(!(me instanceof Toni))return new Toni(range);var r=abs(+range)>>>0||1,bytes=max(ceil(r/8),1),bitmap=new Buffer(bytes);bitmap.fill(0),me.bitmap=bitmap,me.bmlen=bytes<<3>>>0,me.items=0,me.range=r,me.bctable=bctable},tproto=Toni.prototype;return tproto.clear=function(){return this.bitmap.fill(0),this.items=0,this},tproto.add=function(value){var v=abs(value),bitmap=this.bitmap,range=this.range;if(v>=this.bmlen||v>=range)return-1;var buck=v>>>3,mask=bpower[7&v];return mask&bitmap[buck]?-1:++this.items|(bitmap[buck]|=mask)},tproto.chk=function(value){var v=abs(value),range=this.range;return this.bmlen<=v||v>=range?0:bpower[7&v]&this.bitmap[v>>>3]?1:0},tproto.del=function(value){var v=value,range=this.range,bitmap=this.bitmap;if(this.bmlen<=v||v>=range)return-1;var buck=v>>>3,mask=bpower[7&v];return mask&bitmap[buck]?--this.items|(bitmap[buck]^=mask):-1},tproto.rank=function(i){var buck,bshift,bitmap=this.bitmap,bmlen=this.bmlen,b=0,bcnt=0,index=min(i>>>0,this.bmlen);if(index>bmlen)return-1;if(bshift=8-(index-((buck=index>>>3)<<3)+1),buck)for(b=0;b<buck;++b)bcnt+=bctable[bitmap[b]];return bcnt+=bctable[bitmap[b]>>>bshift]},Toni}()},function(module,exports){module.exports=function(){const balloc=Buffer.alloc,bfrom=Buffer.from,isBuffer=Buffer.isBuffer,isInteger=Number.isInteger,mgen=function(k,v,rep){const rlen=rep.length,total=(()=>{let[i,t]=[1,rep[0]];if(rlen>1)for(;i<rlen;++i)t+=rep[i];return t})(),buff=k>total>>1?bfrom(rep):balloc(v,0),colex_gen=function*(k,v,tot){if(0===k)yield buff;else{let c=v-1,occ=rep[c],r=tot-occ,l=k>r?k-r:0,m=occ<k?occ:k;for(;l<=m;++l)buff[c]=l,yield*colex_gen(k-l,c,r),buff[c]=0}};return k>=total&&new RangeError("k value should be lesser than total elements"),colex_gen(k,v,total)};return{mget:function(k,v,rep){let rlen=-1,b=-1,read=null,write=null,total=-1;if(!(k&&v&&rep))return new RangeError("missing or wrong input values");if(isBuffer(rep)&&(rlen=rep.length)){if(1===(b=rlen/v))return mgen(k,v,rep);if(2!==b&&4!==b)return new RangeError("repetitions buffer length should be a multiple of v");[read,write]=[`readUInt${b<<3}BE`,`writeUInt${b<<3}BE`],total=(()=>{let[i,t]=[b,rep[read](0)];if(rlen>b)for(;i<rlen;i+=b)t+=rep[read](i);return t})()}else{if(!isInteger(rep))return new RangeError("repetitions should be represented as: a buffer or an integer");if(rep<257)return mgen(k,v,balloc(v,rep));if(rep<65537)b=2;else{if(!(rep<4294967297))return new RangeError("repetitions should be < 2^32 + 1");b=4}rlen=v<<(b>>>1),total=v*rep,[read,write]=[`readUInt${b<<3}BE`,`writeUInt${b<<3}BE`],rep=balloc(rlen);for(let i=0;i<rlen;i+=b)rep[write](v)}k>=total&&new RangeError("k should be lesser than the total sum of repetitions");let buff=k>total>>1?bfrom(rep):balloc(rlen,0),colex_gen=function*(k,v,tot){if(0===k)yield buff;else{let c=v-1,occ=rep[read](c*b),r=tot-occ,l=k>r?k-r:0,m=occ<k?occ:k;for(;l<=m;++l)buff[write](l,c*b),yield*colex_gen(k-l,c,r),buff[write](0,c*b)}};return colex_gen(k,v,total)}}}()},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(1398),module.exports.utils=__webpack_require__(405),module.exports.transports=__webpack_require__(892),module.exports.parsers=__webpack_require__(1157),Error.stackTraceLimit=1/0},function(module,exports,__webpack_require__){"use strict";var stringify=__webpack_require__(891),parsers=__webpack_require__(1157),zlib=__webpack_require__(55),utils=__webpack_require__(405),uuid=__webpack_require__(276),transports=__webpack_require__(892),nodeUtil=__webpack_require__(8),events=__webpack_require__(43),domain=__webpack_require__(1403),md5=__webpack_require__(1404),instrumentor=__webpack_require__(893),extend=utils.extend;function Raven(){this.breadcrumbs={record:this.captureBreadcrumb.bind(this)}}function Client(dsn,options){if(dsn instanceof Client)return dsn;var ravenInstance=new Raven;return ravenInstance.config.apply(ravenInstance,arguments)}nodeUtil.inherits(Raven,events.EventEmitter),extend(Raven.prototype,{config:function(dsn,options){"undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator&&utils.consoleAlertOnce("This looks like a browser environment; are you sure you don't want Raven.js for browser JavaScript? https://sentry.io/for/javascript"),0===arguments.length&&(dsn=global.process.env.SENTRY_DSN,options={}),"object"==typeof dsn&&(options=dsn,dsn=global.process.env.SENTRY_DSN),options=options||{},this.raw_dsn=dsn,this.dsn=utils.parseDSN(dsn),this.name=options.name||global.process.env.SENTRY_NAME||__webpack_require__(286).hostname(),this.root=options.root||global.process.cwd(),this.transport=options.transport||transports[this.dsn.protocol],this.sendTimeout=options.sendTimeout||1,this.release=options.release||global.process.env.SENTRY_RELEASE,this.environment=options.environment||global.process.env.SENTRY_ENVIRONMENT||global.process.env.NODE_ENV,this.autoBreadcrumbs=options.autoBreadcrumbs||!1,this.maxBreadcrumbs=Math.max(0,Math.min(options.maxBreadcrumbs||30,100)),this.captureUnhandledRejections=options.captureUnhandledRejections,this.loggerName=options.logger,this.dataCallback=options.dataCallback,this.shouldSendCallback=options.shouldSendCallback,this.sampleRate=void 0===options.sampleRate?1:options.sampleRate,this.maxReqQueueCount=options.maxReqQueueCount||100,this.parseUser=options.parseUser,this.stacktrace=options.stacktrace||!1,this.dsn||utils.consoleAlert("no DSN provided, error reporting disabled"),"https"===this.dsn.protocol&&(this.ca=options.ca||null),this._enabled=!!this.dsn;var globalContext=this._globalContext={};return options.tags&&(globalContext.tags=options.tags),options.extra&&(globalContext.extra=options.extra),this.onFatalError=this.defaultOnFatalError=function(err,sendErr,eventId){console.error(err&&err.stack?err.stack:err),global.process.exit(1)},this.uncaughtErrorHandler=this.makeErrorHandler(),this.on("error",function(err){utils.consoleAlert("failed to send exception to sentry: "+err.message)}),this},install:function(cb){if(this.installed)return this;if("function"==typeof cb&&(this.onFatalError=cb),global.process.on("uncaughtException",this.uncaughtErrorHandler),this.captureUnhandledRejections){var self=this;global.process.on("unhandledRejection",function(reason,promise){var context=promise.domain&&promise.domain.sentryContext||{};context.extra=context.extra||{},context.extra.unhandledPromiseRejection=!0,self.captureException(reason,context,function(sendErr,eventId){if(!sendErr){var reasonMessage=reason&&reason.message||reason;utils.consoleAlert("unhandledRejection captured\nEvent ID: "+eventId+"\nReason: "+reasonMessage)}})})}return instrumentor.instrument(this,this.autoBreadcrumbs),this.installed=!0,this},uninstall:function(){return this.installed?(instrumentor.deinstrument(this),global.process.removeAllListeners("uncaughtException"),global.process.removeAllListeners("unhandledRejection"),this.installed=!1,this):this},makeErrorHandler:function(){var firstError,self=this,caughtFirstError=!1,caughtSecondError=!1,calledFatalError=!1;return function(err){caughtFirstError?calledFatalError?(utils.consoleAlert("uncaught exception after calling fatal error shutdown callback - this is bad! forcing shutdown"),self.defaultOnFatalError(err)):caughtSecondError||(caughtSecondError=!0,setTimeout(function(){calledFatalError||(calledFatalError=!0,self.onFatalError(firstError,err))},1e3*(self.sendTimeout+1))):(firstError=err,caughtFirstError=!0,self.captureException(err,{level:"fatal"},function(sendErr,eventId){calledFatalError||(calledFatalError=!0,self.onFatalError(err,sendErr,eventId))}))}},generateEventId:function(){return uuid().replace(/-/g,"")},process:function(eventId,kwargs,cb){"object"==typeof eventId&&(cb=kwargs,kwargs=eventId,eventId=this.generateEventId());var domainContext=domain.active&&domain.active.sentryContext||{},globalContext=this._globalContext||{};kwargs.user=extend({},globalContext.user,domainContext.user,kwargs.user),kwargs.tags=extend({},globalContext.tags,domainContext.tags,kwargs.tags),kwargs.extra=extend({},globalContext.extra,domainContext.extra,kwargs.extra),kwargs.breadcrumbs={values:domainContext.breadcrumbs&&domainContext.breadcrumbs.slice()||globalContext.breadcrumbs&&globalContext.breadcrumbs.slice()||[]};var request=this._createRequestObject(globalContext.request,domainContext.request,kwargs.request);if(delete kwargs.request,0===Object.keys(request).length&&(request=this._createRequestObject(globalContext.req,domainContext.req,kwargs.req),delete kwargs.req),Object.keys(request).length>0){var parseUser=0===Object.keys(kwargs.user).length&&this.parseUser;extend(kwargs,parsers.parseRequest(request,parseUser))}else kwargs.request={};kwargs.modules=utils.getModules(),kwargs.server_name=kwargs.server_name||this.name,void 0!==global.process.version&&(kwargs.extra.node=global.process.version),kwargs.environment=kwargs.environment||this.environment,kwargs.logger=kwargs.logger||this.loggerName,kwargs.event_id=eventId,kwargs.timestamp=(new Date).toISOString().split(".")[0],kwargs.project=this.dsn&&this.dsn.project_id,kwargs.platform="node",kwargs.release=this.release,Object.keys(kwargs).forEach(function(key){null!=kwargs[key]&&""!==kwargs[key]||delete kwargs[key]}),this.dataCallback&&(kwargs=this.dataCallback(kwargs)),this.captureBreadcrumb({category:"sentry",message:kwargs.message,event_id:kwargs.event_id,level:kwargs.level||"error"});var shouldSend=!0;this._enabled||(shouldSend=!1),this.shouldSendCallback&&!this.shouldSendCallback(kwargs)&&(shouldSend=!1),Math.random()>=this.sampleRate&&(shouldSend=!1),shouldSend?this.send(kwargs,cb):cb&&setTimeout(function(){cb(null,eventId)},0)},send:function(kwargs,cb){var self=this,skwargs=stringify(kwargs),eventId=kwargs.event_id;zlib.deflate(skwargs,function(err,buff){var message=buff.toString("base64"),timestamp=(new Date).getTime(),headers={"X-Sentry-Auth":utils.getAuthHeader(timestamp,self.dsn.public_key,self.dsn.private_key),"Content-Type":"application/octet-stream","Content-Length":message.length};self.transport.send(self,message,headers,eventId,cb)})},captureMessage:function(message,kwargs,cb){cb||"function"!=typeof kwargs?kwargs=utils.isPlainObject(kwargs)?extend({},kwargs):{}:(cb=kwargs,kwargs={});var eventId=this.generateEventId();if(this.stacktrace){var ex=new Error(message);console.log(ex),utils.parseStack(ex,function(frames){kwargs.stacktrace={frames:frames.slice(0,-1)},this.process(eventId,parsers.parseText(message,kwargs),cb)}.bind(this))}else this.process(eventId,parsers.parseText(message,kwargs),cb);return eventId},captureException:function(err,kwargs,cb){if(cb||"function"!=typeof kwargs?kwargs=utils.isPlainObject(kwargs)?extend({},kwargs):{}:(cb=kwargs,kwargs={}),!utils.isError(err))if(utils.isPlainObject(err)){var keys=Object.keys(err).sort(),message="Non-Error exception captured with keys: "+utils.serializeKeysForMessage(keys);(kwargs=extend(kwargs,{message:message,fingerprint:[md5(keys)],extra:kwargs.extra||{}})).extra.__serialized__=utils.serializeException(err),err=new Error(message)}else err=new Error(err);var self=this,eventId=this.generateEventId();return parsers.parseError(err,kwargs,function(kw){self.process(eventId,kw,cb)}),eventId},context:function(ctx,func){return func||"function"!=typeof ctx||(func=ctx,ctx={}),this.wrap(ctx,func).apply(null)},wrap:function(options,func){this.installed||utils.consoleAlertOnce("Raven has not been installed, therefore no breadcrumbs will be captured. Call `Raven.config(...).install()` to fix this."),func||"function"!=typeof options||(func=options,options={});var wrapDomain=domain.create();wrapDomain.sentryContext=options,wrapDomain.on("error",this.uncaughtErrorHandler);var wrapped=wrapDomain.bind(func);for(var property in func)({}).hasOwnProperty.call(func,property)&&(wrapped[property]=func[property]);return wrapped.prototype=func.prototype,wrapped.__raven__=!0,wrapped.__inner__=func,wrapped.__domain__=wrapDomain,wrapped},interceptErr:function(options,func){func||"function"!=typeof options||(func=options,options={});var self=this,wrapped=function(){var err=arguments[0];utils.isError(err)?self.captureException(err,options):func.apply(null,arguments)};for(var property in func)({}).hasOwnProperty.call(func,property)&&(wrapped[property]=func[property]);return wrapped.prototype=func.prototype,wrapped.__raven__=!0,wrapped.__inner__=func,wrapped},setContext:function(ctx){return domain.active?domain.active.sentryContext=ctx:this._globalContext=ctx,this},mergeContext:function(ctx){return extend(this.getContext(),ctx),this},getContext:function(){return domain.active?(domain.active.sentryContext||(domain.active.sentryContext={},utils.consoleAlert("sentry context not found on active domain")),domain.active.sentryContext):this._globalContext},setCallbackHelper:function(propertyName,callback){var original=this[propertyName];return this[propertyName]="function"==typeof callback?function(data){return callback(data,original)}:callback,this},setDataCallback:function(callback){return this.setCallbackHelper("dataCallback",callback)},setShouldSendCallback:function(callback){return this.setCallbackHelper("shouldSendCallback",callback)},requestHandler:function(){var self=this;return function(req,res,next){self.context({req:req},function(){domain.active.add(req),domain.active.add(res),next()})}},errorHandler:function(){var self=this;return function(err,req,res,next){if((err.status||err.statusCode||err.status_code||err.output&&err.output.statusCode||500)<500)return next(err);var eventId=self.captureException(err,{req:req});return res.sentry=eventId,next(err)}},captureBreadcrumb:function(breadcrumb){if(this.installed){breadcrumb=extend({timestamp:+new Date/1e3},breadcrumb);var currCtx=this.getContext();currCtx.breadcrumbs||(currCtx.breadcrumbs=[]),currCtx.breadcrumbs.push(breadcrumb),currCtx.breadcrumbs.length>this.maxBreadcrumbs&&currCtx.breadcrumbs.shift(),this.setContext(currCtx)}},_createRequestObject:function(){var sources=Array.from(arguments).filter(function(source){return"[object Object]"===Object.prototype.toString.call(source)});sources=[{}].concat(sources);var request=extend.apply(null,sources),nonEnumerables=["headers","hostname","ip","method","protocol","query","secure","url"];return nonEnumerables.forEach(function(key){sources.forEach(function(source){source[key]&&(request[key]=source[key])})}),request.hasOwnProperty("hostname")||sources.forEach(function(source){source.host&&(request.host=source.host)}),request}}),nodeUtil.inherits(Client,Raven);var defaultInstance=new Raven;defaultInstance.Client=Client,defaultInstance.version=__webpack_require__(1158).version,defaultInstance.disableConsoleAlerts=utils.disableConsoleAlerts,module.exports=defaultInstance},function(module,exports,__webpack_require__){"use strict";
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */exports.parse=function(str,options){if("string"!=typeof str)throw new TypeError("argument str must be a string");for(var obj={},opt=options||{},pairs=str.split(pairSplitRegExp),dec=opt.decode||decode,i=0;i<pairs.length;i++){var pair=pairs[i],eq_idx=pair.indexOf("=");if(!(eq_idx<0)){var key=pair.substr(0,eq_idx).trim(),val=pair.substr(++eq_idx,pair.length).trim();'"'==val[0]&&(val=val.slice(1,-1)),null==obj[key]&&(obj[key]=tryDecode(val,dec))}}return obj},exports.serialize=function(name,val,options){var opt=options||{},enc=opt.encode||encode;if("function"!=typeof enc)throw new TypeError("option encode is invalid");if(!fieldContentRegExp.test(name))throw new TypeError("argument name is invalid");var value=enc(val);if(value&&!fieldContentRegExp.test(value))throw new TypeError("argument val is invalid");var str=name+"="+value;if(null!=opt.maxAge){var maxAge=opt.maxAge-0;if(isNaN(maxAge))throw new Error("maxAge should be a Number");str+="; Max-Age="+Math.floor(maxAge)}if(opt.domain){if(!fieldContentRegExp.test(opt.domain))throw new TypeError("option domain is invalid");str+="; Domain="+opt.domain}if(opt.path){if(!fieldContentRegExp.test(opt.path))throw new TypeError("option path is invalid");str+="; Path="+opt.path}if(opt.expires){if("function"!=typeof opt.expires.toUTCString)throw new TypeError("option expires is invalid");str+="; Expires="+opt.expires.toUTCString()}opt.httpOnly&&(str+="; HttpOnly");opt.secure&&(str+="; Secure");if(opt.sameSite){var sameSite="string"==typeof opt.sameSite?opt.sameSite.toLowerCase():opt.sameSite;switch(sameSite){case!0:str+="; SameSite=Strict";break;case"lax":str+="; SameSite=Lax";break;case"strict":str+="; SameSite=Strict";break;default:throw new TypeError("option sameSite is invalid")}}return str};var decode=decodeURIComponent,encode=encodeURIComponent,pairSplitRegExp=/; */,fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function tryDecode(str,decode){try{return decode(str)}catch(e){return str}}},function(module,exports,__webpack_require__){"use strict";module.exports=function(req,time){if(req.timeoutTimer)return req;var delays=isNaN(time)?time:{socket:time,connect:time},host=req._headers?" to "+req._headers.host:"";function clear(){req.timeoutTimer&&(clearTimeout(req.timeoutTimer),req.timeoutTimer=null)}function connect(){clear(),void 0!==delays.socket&&req.setTimeout(delays.socket,function(){req.abort();var e=new Error("Socket timed out on request"+host);e.code="ESOCKETTIMEDOUT",req.emit("error",e)})}return void 0!==delays.connect&&(req.timeoutTimer=setTimeout(function(){req.abort();var e=new Error("Connection timed out on request"+host);e.code="ETIMEDOUT",req.emit("error",e)},delays.connect)),req.on("socket",function(socket){socket.connecting||socket._connecting?socket.once("connect",connect):connect()}),req.on("error",clear)}},function(module,exports,__webpack_require__){"use strict";var fs=__webpack_require__(67),path=__webpack_require__(47);fs.existsSync=fs.existsSync||path.existsSync;var mainPaths=__webpack_require__.c[__webpack_require__.s]&&__webpack_require__.c[__webpack_require__.s].paths||[];module.exports=function(){var paths=Object.keys(__webpack_require__.c||[]),infos={},seen={};return paths.forEach(function(p){var dir=p;!function updir(){var orig=dir;if(dir=path.dirname(orig),/@[^\/]+$/.test(dir)&&(dir=path.dirname(dir)),dir&&orig!==dir&&!seen[orig]){if(mainPaths.indexOf(dir)<0)return updir();var pkgfile=path.join(orig,"package.json"),exists=fs.existsSync(pkgfile);if(seen[orig]=!0,!exists)return updir();try{var info=JSON.parse(fs.readFileSync(pkgfile,"utf8"));infos[info.name]=info.version}catch(e){}}}()}),infos}},function(module,exports){function CallSite(properties){for(var property in properties)this[property]=properties[property]}exports.get=function(belowFn){var oldLimit=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var dummyObject={},v8Handler=Error.prepareStackTrace;Error.prepareStackTrace=function(dummyObject,v8StackTrace){return v8StackTrace},Error.captureStackTrace(dummyObject,belowFn||exports.get);var v8StackTrace=dummyObject.stack;return Error.prepareStackTrace=v8Handler,Error.stackTraceLimit=oldLimit,v8StackTrace},exports.parse=function(err){if(!err.stack)return[];var self=this;return err.stack.split("\n").slice(1).map(function(line){if(line.match(/^\s*[-]{4,}$/))return self._createParsedCallSite({fileName:line,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var lineMatch=line.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(lineMatch){var object=null,method=null,functionName=null,typeName=null,methodName=null,isNative="native"===lineMatch[5];if(lineMatch[1]){var methodStart=(functionName=lineMatch[1]).lastIndexOf(".");if("."==functionName[methodStart-1]&&methodStart--,methodStart>0){object=functionName.substr(0,methodStart),method=functionName.substr(methodStart+1);var objectEnd=object.indexOf(".Module");objectEnd>0&&(functionName=functionName.substr(objectEnd+1),object=object.substr(0,objectEnd))}typeName=null}method&&(typeName=object,methodName=method),"<anonymous>"===method&&(methodName=null,functionName=null);var properties={fileName:lineMatch[2]||null,lineNumber:parseInt(lineMatch[3],10)||null,functionName:functionName,typeName:typeName,methodName:methodName,columnNumber:parseInt(lineMatch[4],10)||null,native:isNative};return self._createParsedCallSite(properties)}}).filter(function(callSite){return!!callSite})};["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"].forEach(function(property){CallSite.prototype[property]=null,CallSite.prototype["get"+property[0].toUpperCase()+property.substr(1)]=function(){return this[property]}}),["topLevel","eval","native","constructor"].forEach(function(property){CallSite.prototype[property]=!1,CallSite.prototype["is"+property[0].toUpperCase()+property.substr(1)]=function(){return this[property]}}),exports._createParsedCallSite=function(properties){return new CallSite(properties)}},function(module,exports){module.exports=require("domain")},function(module,exports,__webpack_require__){var crypt,utf8,isBuffer,bin,md5;crypt=__webpack_require__(1405),utf8=__webpack_require__(1159).utf8,isBuffer=__webpack_require__(1406),bin=__webpack_require__(1159).bin,(md5=function(message,options){message.constructor==String?message=options&&"binary"===options.encoding?bin.stringToBytes(message):utf8.stringToBytes(message):isBuffer(message)?message=Array.prototype.slice.call(message,0):Array.isArray(message)||(message=message.toString());for(var m=crypt.bytesToWords(message),l=8*message.length,a=1732584193,b=-271733879,c=-1732584194,d=271733878,i=0;i<m.length;i++)m[i]=16711935&(m[i]<<8|m[i]>>>24)|4278255360&(m[i]<<24|m[i]>>>8);m[l>>>5]|=128<<l%32,m[14+(l+64>>>9<<4)]=l;var FF=md5._ff,GG=md5._gg,HH=md5._hh,II=md5._ii;for(i=0;i<m.length;i+=16){var aa=a,bb=b,cc=c,dd=d;a=FF(a,b,c,d,m[i+0],7,-680876936),d=FF(d,a,b,c,m[i+1],12,-389564586),c=FF(c,d,a,b,m[i+2],17,606105819),b=FF(b,c,d,a,m[i+3],22,-1044525330),a=FF(a,b,c,d,m[i+4],7,-176418897),d=FF(d,a,b,c,m[i+5],12,1200080426),c=FF(c,d,a,b,m[i+6],17,-1473231341),b=FF(b,c,d,a,m[i+7],22,-45705983),a=FF(a,b,c,d,m[i+8],7,1770035416),d=FF(d,a,b,c,m[i+9],12,-1958414417),c=FF(c,d,a,b,m[i+10],17,-42063),b=FF(b,c,d,a,m[i+11],22,-1990404162),a=FF(a,b,c,d,m[i+12],7,1804603682),d=FF(d,a,b,c,m[i+13],12,-40341101),c=FF(c,d,a,b,m[i+14],17,-1502002290),a=GG(a,b=FF(b,c,d,a,m[i+15],22,1236535329),c,d,m[i+1],5,-165796510),d=GG(d,a,b,c,m[i+6],9,-1069501632),c=GG(c,d,a,b,m[i+11],14,643717713),b=GG(b,c,d,a,m[i+0],20,-373897302),a=GG(a,b,c,d,m[i+5],5,-701558691),d=GG(d,a,b,c,m[i+10],9,38016083),c=GG(c,d,a,b,m[i+15],14,-660478335),b=GG(b,c,d,a,m[i+4],20,-405537848),a=GG(a,b,c,d,m[i+9],5,568446438),d=GG(d,a,b,c,m[i+14],9,-1019803690),c=GG(c,d,a,b,m[i+3],14,-187363961),b=GG(b,c,d,a,m[i+8],20,1163531501),a=GG(a,b,c,d,m[i+13],5,-1444681467),d=GG(d,a,b,c,m[i+2],9,-51403784),c=GG(c,d,a,b,m[i+7],14,1735328473),a=HH(a,b=GG(b,c,d,a,m[i+12],20,-1926607734),c,d,m[i+5],4,-378558),d=HH(d,a,b,c,m[i+8],11,-2022574463),c=HH(c,d,a,b,m[i+11],16,1839030562),b=HH(b,c,d,a,m[i+14],23,-35309556),a=HH(a,b,c,d,m[i+1],4,-1530992060),d=HH(d,a,b,c,m[i+4],11,1272893353),c=HH(c,d,a,b,m[i+7],16,-155497632),b=HH(b,c,d,a,m[i+10],23,-1094730640),a=HH(a,b,c,d,m[i+13],4,681279174),d=HH(d,a,b,c,m[i+0],11,-358537222),c=HH(c,d,a,b,m[i+3],16,-722521979),b=HH(b,c,d,a,m[i+6],23,76029189),a=HH(a,b,c,d,m[i+9],4,-640364487),d=HH(d,a,b,c,m[i+12],11,-421815835),c=HH(c,d,a,b,m[i+15],16,530742520),a=II(a,b=HH(b,c,d,a,m[i+2],23,-995338651),c,d,m[i+0],6,-198630844),d=II(d,a,b,c,m[i+7],10,1126891415),c=II(c,d,a,b,m[i+14],15,-1416354905),b=II(b,c,d,a,m[i+5],21,-57434055),a=II(a,b,c,d,m[i+12],6,1700485571),d=II(d,a,b,c,m[i+3],10,-1894986606),c=II(c,d,a,b,m[i+10],15,-1051523),b=II(b,c,d,a,m[i+1],21,-2054922799),a=II(a,b,c,d,m[i+8],6,1873313359),d=II(d,a,b,c,m[i+15],10,-30611744),c=II(c,d,a,b,m[i+6],15,-1560198380),b=II(b,c,d,a,m[i+13],21,1309151649),a=II(a,b,c,d,m[i+4],6,-145523070),d=II(d,a,b,c,m[i+11],10,-1120210379),c=II(c,d,a,b,m[i+2],15,718787259),b=II(b,c,d,a,m[i+9],21,-343485551),a=a+aa>>>0,b=b+bb>>>0,c=c+cc>>>0,d=d+dd>>>0}return crypt.endian([a,b,c,d])})._ff=function(a,b,c,d,x,s,t){var n=a+(b&c|~b&d)+(x>>>0)+t;return(n<<s|n>>>32-s)+b},md5._gg=function(a,b,c,d,x,s,t){var n=a+(b&d|c&~d)+(x>>>0)+t;return(n<<s|n>>>32-s)+b},md5._hh=function(a,b,c,d,x,s,t){var n=a+(b^c^d)+(x>>>0)+t;return(n<<s|n>>>32-s)+b},md5._ii=function(a,b,c,d,x,s,t){var n=a+(c^(b|~d))+(x>>>0)+t;return(n<<s|n>>>32-s)+b},md5._blocksize=16,md5._digestsize=16,module.exports=function(message,options){if(null==message)throw new Error("Illegal argument "+message);var digestbytes=crypt.wordsToBytes(md5(message,options));return options&&options.asBytes?digestbytes:options&&options.asString?bin.bytesToString(digestbytes):crypt.bytesToHex(digestbytes)}},function(module,exports){var base64map,crypt;base64map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",crypt={rotl:function(n,b){return n<<b|n>>>32-b},rotr:function(n,b){return n<<32-b|n>>>b},endian:function(n){if(n.constructor==Number)return 16711935&crypt.rotl(n,8)|4278255360&crypt.rotl(n,24);for(var i=0;i<n.length;i++)n[i]=crypt.endian(n[i]);return n},randomBytes:function(n){for(var bytes=[];n>0;n--)bytes.push(Math.floor(256*Math.random()));return bytes},bytesToWords:function(bytes){for(var words=[],i=0,b=0;i<bytes.length;i++,b+=8)words[b>>>5]|=bytes[i]<<24-b%32;return words},wordsToBytes:function(words){for(var bytes=[],b=0;b<32*words.length;b+=8)bytes.push(words[b>>>5]>>>24-b%32&255);return bytes},bytesToHex:function(bytes){for(var hex=[],i=0;i<bytes.length;i++)hex.push((bytes[i]>>>4).toString(16)),hex.push((15&bytes[i]).toString(16));return hex.join("")},hexToBytes:function(hex){for(var bytes=[],c=0;c<hex.length;c+=2)bytes.push(parseInt(hex.substr(c,2),16));return bytes},bytesToBase64:function(bytes){for(var base64=[],i=0;i<bytes.length;i+=3)for(var triplet=bytes[i]<<16|bytes[i+1]<<8|bytes[i+2],j=0;j<4;j++)8*i+6*j<=8*bytes.length?base64.push(base64map.charAt(triplet>>>6*(3-j)&63)):base64.push("=");return base64.join("")},base64ToBytes:function(base64){base64=base64.replace(/[^A-Z0-9+\/]/gi,"");for(var bytes=[],i=0,imod4=0;i<base64.length;imod4=++i%4)0!=imod4&&bytes.push((base64map.indexOf(base64.charAt(i-1))&Math.pow(2,-2*imod4+8)-1)<<2*imod4|base64map.indexOf(base64.charAt(i))>>>6-2*imod4);return bytes}},module.exports=crypt},function(module,exports){function isBuffer(obj){return!!obj.constructor&&"function"==typeof obj.constructor.isBuffer&&obj.constructor.isBuffer(obj)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
module.exports=function(obj){return null!=obj&&(isBuffer(obj)||function(obj){return"function"==typeof obj.readFloatLE&&"function"==typeof obj.slice&&isBuffer(obj.slice(0,0))}(obj)||!!obj._isBuffer)}},function(module,exports){module.exports=require("module")},function(module,exports,__webpack_require__){var map={"./console":1160,"./console.js":1160,"./http":1161,"./http.js":1161,"./instrumentor":893,"./instrumentor.js":893,"./pg":1162,"./pg.js":1162};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1408},function(module,exports){module.exports=require("console")},function(module,exports,__webpack_require__){"use strict";var DOMAIN_REGEXP=/^https?:\/\/([a-zA-Z0-9-.]+)(?::\d{2,5})?\/?$/;module.exports={getDomain:function(cozyUrl){return(cozyUrl=cozyUrl||process.env.COZY_URL).match(DOMAIN_REGEXP)[1].split(".").slice(-2).join(".")},getInstance:function(cozyUrl){return(cozyUrl=cozyUrl||process.env.COZY_URL).match(DOMAIN_REGEXP)[1].split(".").slice(-3).join(".")}}},function(module,exports,__webpack_require__){"use strict";var _regeneratorRuntime=__webpack_require__(0),_asyncToGenerator=__webpack_require__(3),_classCallCheck=__webpack_require__(21),_createClass=__webpack_require__(26),_possibleConstructorReturn=__webpack_require__(39),_getPrototypeOf=__webpack_require__(31),_get=__webpack_require__(936),_inherits=__webpack_require__(40),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},log=__webpack_require__(58).namespace("CookieKonnector"),BaseKonnector=__webpack_require__(1148),_requestFactory=__webpack_require__(500),_signin=__webpack_require__(894),CookieJar=__webpack_require__(437).CookieJar,CookieKonnector=function(_BaseKonnector){function CookieKonnector(requestFactoryOptions){var _this;if(_classCallCheck(this,CookieKonnector),!(_this=_possibleConstructorReturn(this,_getPrototypeOf(CookieKonnector).call(this))).testSession)throw new Error("Could not find a testSession method. CookieKonnector needs it to test if a session is valid. Please implement it");return _this._jar=_requestFactory().jar(),_this.request=_this.requestFactory(requestFactoryOptions),_this}var _signin2,_saveSession,_initSession,_resetSession,_end,_init;return _inherits(CookieKonnector,BaseKonnector),_createClass(CookieKonnector,[{key:"init",value:(_init=_asyncToGenerator(_regeneratorRuntime.mark(function _callee(){var fields;return _regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,_get(_getPrototypeOf(CookieKonnector.prototype),"init",this).call(this);case 2:return fields=_context.sent,_context.next=5,this.initSession();case 5:return _context.abrupt("return",fields);case 6:case"end":return _context.stop()}},_callee,this)})),function(){return _init.apply(this,arguments)})},{key:"end",value:(_end=_asyncToGenerator(_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.saveSession();case 2:return _context2.abrupt("return",_get(_getPrototypeOf(CookieKonnector.prototype),"end",this).call(this));case 3:case"end":return _context2.stop()}},_callee2,this)})),function(){return _end.apply(this,arguments)})},{key:"requestFactory",value:function(options){return this._jar=this._jar||_requestFactory().jar(),_requestFactory(_extends({},options,{jar:this._jar}))}},{key:"resetSession",value:(_resetSession=_asyncToGenerator(_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return log("info","Reset cookie session..."),this._jar=_requestFactory().jar(),_context3.abrupt("return",this.saveSession());case 3:case"end":return _context3.stop()}},_callee3,this)})),function(){return _resetSession.apply(this,arguments)})},{key:"initSession",value:(_initSession=_asyncToGenerator(_regeneratorRuntime.mark(function _callee4(){var accountData,jar;return _regeneratorRuntime.wrap(function(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:if(accountData=this.getAccountData(),_context4.prev=1,"RESET_SESSION"!==this._account.state){_context4.next=8;break}return log("info","RESET_SESSION state found"),_context4.next=6,this.resetSession();case 6:return _context4.next=8,this.updateAccountAttributes({state:null});case 8:_context4.next=14;break;case 10:_context4.prev=10,_context4.t0=_context4.catch(1),log("warn","Could not reset the session"),log("warn",_context4.t0.message);case 14:if(_context4.prev=14,jar=null,accountData&&accountData.auth&&(jar=JSON.parse(accountData.auth.session)),!jar){_context4.next=21;break}return log("info","found saved session, using it..."),this._jar._jar=CookieJar.fromJSON(jar,this._jar._jar.store),_context4.abrupt("return",!0);case 21:_context4.next=26;break;case 23:_context4.prev=23,_context4.t1=_context4.catch(14),log("info","Could not parse session");case 26:return log("info","Found no session"),_context4.abrupt("return",!1);case 28:case"end":return _context4.stop()}},_callee4,this,[[1,10],[14,23]])})),function(){return _initSession.apply(this,arguments)})},{key:"saveSession",value:(_saveSession=_asyncToGenerator(_regeneratorRuntime.mark(function _callee5(){var accountData;return _regeneratorRuntime.wrap(function(_context5){for(;;)switch(_context5.prev=_context5.next){case 0:return(accountData=_extends({},this._account.data,{auth:{}})).auth.session=JSON.stringify(this._jar._jar.toJSON()),_context5.next=4,this.saveAccountData(accountData);case 4:log("info","saved the session");case 5:case"end":return _context5.stop()}},_callee5,this)})),function(){return _saveSession.apply(this,arguments)})},{key:"signin",value:(_signin2=_asyncToGenerator(_regeneratorRuntime.mark(function _callee6(options){var result;return _regeneratorRuntime.wrap(function(_context6){for(;;)switch(_context6.prev=_context6.next){case 0:return _context6.next=2,_signin(_extends({},options,{requestInstance:this.request}));case 2:return result=_context6.sent,_context6.next=5,this.saveSession();case 5:return _context6.abrupt("return",result);case 6:case"end":return _context6.stop()}},_callee6,this)})),function(_x){return _signin2.apply(this,arguments)})},{key:"saveFiles",value:function(entries,fields,options){return _get(_getPrototypeOf(CookieKonnector.prototype),"saveFiles",this).call(this,entries,fields,_extends({},options,{requestInstance:this.request}))}},{key:"saveBills",value:function(entries,fields,options){return _get(_getPrototypeOf(CookieKonnector.prototype),"saveBills",this).call(this,entries,fields,_extends({},options,{requestInstance:this.request}))}}]),CookieKonnector}();module.exports=CookieKonnector},function(module,exports,__webpack_require__){var getPrototypeOf=__webpack_require__(31);module.exports=function(object,property){for(;!Object.prototype.hasOwnProperty.call(object,property)&&null!==(object=getPrototypeOf(object)););return object}},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(1414)},function(module,exports,__webpack_require__){"use strict";module.exports=__webpack_require__(952)},function(module,exports,__webpack_require__){"use strict";const util=__webpack_require__(150);exports.Document=__webpack_require__(1427),exports.Font=__webpack_require__(1452);const PDFImage=__webpack_require__(1165),JPEGImage=__webpack_require__(1454);exports.Image=class{constructor(b){const src=util.toArrayBuffer(b);switch(function(buffer){if("%PDF-"===String.fromCharCode.apply(null,new Uint8Array(buffer,0,5)))return"pdf";const view=new DataView(buffer);if(255===view.getUint8(0)||216===view.getUint8(1))return"jpeg";return null}(src)){case"pdf":return new PDFImage(src);case"jpeg":return new JPEGImage(src);default:throw new TypeError("Unsupported image type")}}},exports.ExternalDocument=__webpack_require__(1176),exports.mm=.0393700787*72,exports.cm=10*exports.mm},function(module,exports,__webpack_require__){"use strict";var zlib_inflate=__webpack_require__(1417),utils=__webpack_require__(626),strings=__webpack_require__(1422),c=__webpack_require__(1423),msg=__webpack_require__(1424),ZStream=__webpack_require__(1425),GZheader=__webpack_require__(1426),toString=Object.prototype.toString;function Inflate(options){if(!(this instanceof Inflate))return new Inflate(options);this.options=utils.assign({chunkSize:16384,windowBits:0,to:""},options||{});var opt=this.options;opt.raw&&opt.windowBits>=0&&opt.windowBits<16&&(opt.windowBits=-opt.windowBits,0===opt.windowBits&&(opt.windowBits=-15)),!(opt.windowBits>=0&&opt.windowBits<16)||options&&options.windowBits||(opt.windowBits+=32),opt.windowBits>15&&opt.windowBits<48&&0==(15&opt.windowBits)&&(opt.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var status=zlib_inflate.inflateInit2(this.strm,opt.windowBits);if(status!==c.Z_OK)throw new Error(msg[status]);if(this.header=new GZheader,zlib_inflate.inflateGetHeader(this.strm,this.header),opt.dictionary&&("string"==typeof opt.dictionary?opt.dictionary=strings.string2buf(opt.dictionary):"[object ArrayBuffer]"===toString.call(opt.dictionary)&&(opt.dictionary=new Uint8Array(opt.dictionary)),opt.raw&&(status=zlib_inflate.inflateSetDictionary(this.strm,opt.dictionary))!==c.Z_OK))throw new Error(msg[status])}function inflate(input,options){var inflator=new Inflate(options);if(inflator.push(input,!0),inflator.err)throw inflator.msg||msg[inflator.err];return inflator.result}Inflate.prototype.push=function(data,mode){var status,_mode,next_out_utf8,tail,utf8str,strm=this.strm,chunkSize=this.options.chunkSize,dictionary=this.options.dictionary,allowBufError=!1;if(this.ended)return!1;_mode=mode===~~mode?mode:!0===mode?c.Z_FINISH:c.Z_NO_FLUSH,"string"==typeof data?strm.input=strings.binstring2buf(data):"[object ArrayBuffer]"===toString.call(data)?strm.input=new Uint8Array(data):strm.input=data,strm.next_in=0,strm.avail_in=strm.input.length;do{if(0===strm.avail_out&&(strm.output=new utils.Buf8(chunkSize),strm.next_out=0,strm.avail_out=chunkSize),(status=zlib_inflate.inflate(strm,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&dictionary&&(status=zlib_inflate.inflateSetDictionary(this.strm,dictionary)),status===c.Z_BUF_ERROR&&!0===allowBufError&&(status=c.Z_OK,allowBufError=!1),status!==c.Z_STREAM_END&&status!==c.Z_OK)return this.onEnd(status),this.ended=!0,!1;strm.next_out&&(0!==strm.avail_out&&status!==c.Z_STREAM_END&&(0!==strm.avail_in||_mode!==c.Z_FINISH&&_mode!==c.Z_SYNC_FLUSH)||("string"===this.options.to?(next_out_utf8=strings.utf8border(strm.output,strm.next_out),tail=strm.next_out-next_out_utf8,utf8str=strings.buf2string(strm.output,next_out_utf8),strm.next_out=tail,strm.avail_out=chunkSize-tail,tail&&utils.arraySet(strm.output,strm.output,next_out_utf8,tail,0),this.onData(utf8str)):this.onData(utils.shrinkBuf(strm.output,strm.next_out)))),0===strm.avail_in&&0===strm.avail_out&&(allowBufError=!0)}while((strm.avail_in>0||0===strm.avail_out)&&status!==c.Z_STREAM_END);return status===c.Z_STREAM_END&&(_mode=c.Z_FINISH),_mode===c.Z_FINISH?(status=zlib_inflate.inflateEnd(this.strm),this.onEnd(status),this.ended=!0,status===c.Z_OK):_mode!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),strm.avail_out=0,!0)},Inflate.prototype.onData=function(chunk){this.chunks.push(chunk)},Inflate.prototype.onEnd=function(status){status===c.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=status,this.msg=this.strm.msg},exports.Inflate=Inflate,exports.inflate=inflate,exports.inflateRaw=function(input,options){return(options=options||{}).raw=!0,inflate(input,options)},exports.ungzip=inflate},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(626),adler32=__webpack_require__(1418),crc32=__webpack_require__(1419),inflate_fast=__webpack_require__(1420),inflate_table=__webpack_require__(1421),CODES=0,LENS=1,DISTS=2,Z_FINISH=4,Z_BLOCK=5,Z_TREES=6,Z_OK=0,Z_STREAM_END=1,Z_NEED_DICT=2,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR=-5,Z_DEFLATED=8,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,DEF_WBITS=15;function zswap32(q){return(q>>>24&255)+(q>>>8&65280)+((65280&q)<<8)+((255&q)<<24)}function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new utils.Buf16(320),this.work=new utils.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function inflateResetKeep(strm){var state;return strm&&strm.state?(state=strm.state,strm.total_in=strm.total_out=state.total=0,strm.msg="",state.wrap&&(strm.adler=1&state.wrap),state.mode=HEAD,state.last=0,state.havedict=0,state.dmax=32768,state.head=null,state.hold=0,state.bits=0,state.lencode=state.lendyn=new utils.Buf32(ENOUGH_LENS),state.distcode=state.distdyn=new utils.Buf32(ENOUGH_DISTS),state.sane=1,state.back=-1,Z_OK):Z_STREAM_ERROR}function inflateReset(strm){var state;return strm&&strm.state?((state=strm.state).wsize=0,state.whave=0,state.wnext=0,inflateResetKeep(strm)):Z_STREAM_ERROR}function inflateReset2(strm,windowBits){var wrap,state;return strm&&strm.state?(state=strm.state,windowBits<0?(wrap=0,windowBits=-windowBits):(wrap=1+(windowBits>>4),windowBits<48&&(windowBits&=15)),windowBits&&(windowBits<8||windowBits>15)?Z_STREAM_ERROR:(null!==state.window&&state.wbits!==windowBits&&(state.window=null),state.wrap=wrap,state.wbits=windowBits,inflateReset(strm))):Z_STREAM_ERROR}function inflateInit2(strm,windowBits){var ret,state;return strm?(state=new InflateState,strm.state=state,state.window=null,(ret=inflateReset2(strm,windowBits))!==Z_OK&&(strm.state=null),ret):Z_STREAM_ERROR}var lenfix,distfix,virgin=!0;function fixedtables(state){if(virgin){var sym;for(lenfix=new utils.Buf32(512),distfix=new utils.Buf32(32),sym=0;sym<144;)state.lens[sym++]=8;for(;sym<256;)state.lens[sym++]=9;for(;sym<280;)state.lens[sym++]=7;for(;sym<288;)state.lens[sym++]=8;for(inflate_table(LENS,state.lens,0,288,lenfix,0,state.work,{bits:9}),sym=0;sym<32;)state.lens[sym++]=5;inflate_table(DISTS,state.lens,0,32,distfix,0,state.work,{bits:5}),virgin=!1}state.lencode=lenfix,state.lenbits=9,state.distcode=distfix,state.distbits=5}function updatewindow(strm,src,end,copy){var dist,state=strm.state;return null===state.window&&(state.wsize=1<<state.wbits,state.wnext=0,state.whave=0,state.window=new utils.Buf8(state.wsize)),copy>=state.wsize?(utils.arraySet(state.window,src,end-state.wsize,state.wsize,0),state.wnext=0,state.whave=state.wsize):((dist=state.wsize-state.wnext)>copy&&(dist=copy),utils.arraySet(state.window,src,end-copy,dist,state.wnext),(copy-=dist)?(utils.arraySet(state.window,src,end-copy,copy,0),state.wnext=copy,state.whave=state.wsize):(state.wnext+=dist,state.wnext===state.wsize&&(state.wnext=0),state.whave<state.wsize&&(state.whave+=dist))),0}exports.inflateReset=inflateReset,exports.inflateReset2=inflateReset2,exports.inflateResetKeep=inflateResetKeep,exports.inflateInit=function(strm){return inflateInit2(strm,DEF_WBITS)},exports.inflateInit2=inflateInit2,exports.inflate=function(strm,flush){var state,input,output,next,put,have,left,hold,bits,_in,_out,copy,from,from_source,here_bits,here_op,here_val,last_bits,last_op,last_val,len,ret,opts,n,here=0,hbuf=new utils.Buf8(4),order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!strm||!strm.state||!strm.output||!strm.input&&0!==strm.avail_in)return Z_STREAM_ERROR;(state=strm.state).mode===TYPE&&(state.mode=TYPEDO),put=strm.next_out,output=strm.output,left=strm.avail_out,next=strm.next_in,input=strm.input,have=strm.avail_in,hold=state.hold,bits=state.bits,_in=have,_out=left,ret=Z_OK;inf_leave:for(;;)switch(state.mode){case HEAD:if(0===state.wrap){state.mode=TYPEDO;break}for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(2&state.wrap&&35615===hold){state.check=0,hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0),hold=0,bits=0,state.mode=FLAGS;break}if(state.flags=0,state.head&&(state.head.done=!1),!(1&state.wrap)||(((255&hold)<<8)+(hold>>8))%31){strm.msg="incorrect header check",state.mode=BAD;break}if((15&hold)!==Z_DEFLATED){strm.msg="unknown compression method",state.mode=BAD;break}if(bits-=4,len=8+(15&(hold>>>=4)),0===state.wbits)state.wbits=len;else if(len>state.wbits){strm.msg="invalid window size",state.mode=BAD;break}state.dmax=1<<len,strm.adler=state.check=1,state.mode=512&hold?DICTID:TYPE,hold=0,bits=0;break;case FLAGS:for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.flags=hold,(255&state.flags)!==Z_DEFLATED){strm.msg="unknown compression method",state.mode=BAD;break}if(57344&state.flags){strm.msg="unknown header flags set",state.mode=BAD;break}state.head&&(state.head.text=hold>>8&1),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0,state.mode=TIME;case TIME:for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.head&&(state.head.time=hold),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,hbuf[2]=hold>>>16&255,hbuf[3]=hold>>>24&255,state.check=crc32(state.check,hbuf,4,0)),hold=0,bits=0,state.mode=OS;case OS:for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.head&&(state.head.xflags=255&hold,state.head.os=hold>>8),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0,state.mode=EXLEN;case EXLEN:if(1024&state.flags){for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.length=hold,state.head&&(state.head.extra_len=hold),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0}else state.head&&(state.head.extra=null);state.mode=EXTRA;case EXTRA:if(1024&state.flags&&((copy=state.length)>have&&(copy=have),copy&&(state.head&&(len=state.head.extra_len-state.length,state.head.extra||(state.head.extra=new Array(state.head.extra_len)),utils.arraySet(state.head.extra,input,next,copy,len)),512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,state.length-=copy),state.length))break inf_leave;state.length=0,state.mode=NAME;case NAME:if(2048&state.flags){if(0===have)break inf_leave;copy=0;do{len=input[next+copy++],state.head&&len&&state.length<65536&&(state.head.name+=String.fromCharCode(len))}while(len&&copy<have);if(512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,len)break inf_leave}else state.head&&(state.head.name=null);state.length=0,state.mode=COMMENT;case COMMENT:if(4096&state.flags){if(0===have)break inf_leave;copy=0;do{len=input[next+copy++],state.head&&len&&state.length<65536&&(state.head.comment+=String.fromCharCode(len))}while(len&&copy<have);if(512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,len)break inf_leave}else state.head&&(state.head.comment=null);state.mode=HCRC;case HCRC:if(512&state.flags){for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold!==(65535&state.check)){strm.msg="header crc mismatch",state.mode=BAD;break}hold=0,bits=0}state.head&&(state.head.hcrc=state.flags>>9&1,state.head.done=!0),strm.adler=state.check=0,state.mode=TYPE;break;case DICTID:for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}strm.adler=state.check=zswap32(hold),hold=0,bits=0,state.mode=DICT;case DICT:if(0===state.havedict)return strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,Z_NEED_DICT;strm.adler=state.check=1,state.mode=TYPE;case TYPE:if(flush===Z_BLOCK||flush===Z_TREES)break inf_leave;case TYPEDO:if(state.last){hold>>>=7&bits,bits-=7&bits,state.mode=CHECK;break}for(;bits<3;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}switch(state.last=1&hold,bits-=1,3&(hold>>>=1)){case 0:state.mode=STORED;break;case 1:if(fixedtables(state),state.mode=LEN_,flush===Z_TREES){hold>>>=2,bits-=2;break inf_leave}break;case 2:state.mode=TABLE;break;case 3:strm.msg="invalid block type",state.mode=BAD}hold>>>=2,bits-=2;break;case STORED:for(hold>>>=7&bits,bits-=7&bits;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if((65535&hold)!=(hold>>>16^65535)){strm.msg="invalid stored block lengths",state.mode=BAD;break}if(state.length=65535&hold,hold=0,bits=0,state.mode=COPY_,flush===Z_TREES)break inf_leave;case COPY_:state.mode=COPY;case COPY:if(copy=state.length){if(copy>have&&(copy=have),copy>left&&(copy=left),0===copy)break inf_leave;utils.arraySet(output,input,next,copy,put),have-=copy,next+=copy,left-=copy,put+=copy,state.length-=copy;break}state.mode=TYPE;break;case TABLE:for(;bits<14;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.nlen=257+(31&hold),hold>>>=5,bits-=5,state.ndist=1+(31&hold),hold>>>=5,bits-=5,state.ncode=4+(15&hold),hold>>>=4,bits-=4,state.nlen>286||state.ndist>30){strm.msg="too many length or distance symbols",state.mode=BAD;break}state.have=0,state.mode=LENLENS;case LENLENS:for(;state.have<state.ncode;){for(;bits<3;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.lens[order[state.have++]]=7&hold,hold>>>=3,bits-=3}for(;state.have<19;)state.lens[order[state.have++]]=0;if(state.lencode=state.lendyn,state.lenbits=7,opts={bits:state.lenbits},ret=inflate_table(CODES,state.lens,0,19,state.lencode,0,state.work,opts),state.lenbits=opts.bits,ret){strm.msg="invalid code lengths set",state.mode=BAD;break}state.have=0,state.mode=CODELENS;case CODELENS:for(;state.have<state.nlen+state.ndist;){for(;here_op=(here=state.lencode[hold&(1<<state.lenbits)-1])>>>16&255,here_val=65535&here,!((here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(here_val<16)hold>>>=here_bits,bits-=here_bits,state.lens[state.have++]=here_val;else{if(16===here_val){for(n=here_bits+2;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold>>>=here_bits,bits-=here_bits,0===state.have){strm.msg="invalid bit length repeat",state.mode=BAD;break}len=state.lens[state.have-1],copy=3+(3&hold),hold>>>=2,bits-=2}else if(17===here_val){for(n=here_bits+3;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}bits-=here_bits,len=0,copy=3+(7&(hold>>>=here_bits)),hold>>>=3,bits-=3}else{for(n=here_bits+7;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}bits-=here_bits,len=0,copy=11+(127&(hold>>>=here_bits)),hold>>>=7,bits-=7}if(state.have+copy>state.nlen+state.ndist){strm.msg="invalid bit length repeat",state.mode=BAD;break}for(;copy--;)state.lens[state.have++]=len}}if(state.mode===BAD)break;if(0===state.lens[256]){strm.msg="invalid code -- missing end-of-block",state.mode=BAD;break}if(state.lenbits=9,opts={bits:state.lenbits},ret=inflate_table(LENS,state.lens,0,state.nlen,state.lencode,0,state.work,opts),state.lenbits=opts.bits,ret){strm.msg="invalid literal/lengths set",state.mode=BAD;break}if(state.distbits=6,state.distcode=state.distdyn,opts={bits:state.distbits},ret=inflate_table(DISTS,state.lens,state.nlen,state.ndist,state.distcode,0,state.work,opts),state.distbits=opts.bits,ret){strm.msg="invalid distances set",state.mode=BAD;break}if(state.mode=LEN_,flush===Z_TREES)break inf_leave;case LEN_:state.mode=LEN;case LEN:if(have>=6&&left>=258){strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,inflate_fast(strm,_out),put=strm.next_out,output=strm.output,left=strm.avail_out,next=strm.next_in,input=strm.input,have=strm.avail_in,hold=state.hold,bits=state.bits,state.mode===TYPE&&(state.back=-1);break}for(state.back=0;here_op=(here=state.lencode[hold&(1<<state.lenbits)-1])>>>16&255,here_val=65535&here,!((here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(here_op&&0==(240&here_op)){for(last_bits=here_bits,last_op=here_op,last_val=here_val;here_op=(here=state.lencode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)])>>>16&255,here_val=65535&here,!(last_bits+(here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=last_bits,bits-=last_bits,state.back+=last_bits}if(hold>>>=here_bits,bits-=here_bits,state.back+=here_bits,state.length=here_val,0===here_op){state.mode=LIT;break}if(32&here_op){state.back=-1,state.mode=TYPE;break}if(64&here_op){strm.msg="invalid literal/length code",state.mode=BAD;break}state.extra=15&here_op,state.mode=LENEXT;case LENEXT:if(state.extra){for(n=state.extra;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.length+=hold&(1<<state.extra)-1,hold>>>=state.extra,bits-=state.extra,state.back+=state.extra}state.was=state.length,state.mode=DIST;case DIST:for(;here_op=(here=state.distcode[hold&(1<<state.distbits)-1])>>>16&255,here_val=65535&here,!((here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(0==(240&here_op)){for(last_bits=here_bits,last_op=here_op,last_val=here_val;here_op=(here=state.distcode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)])>>>16&255,here_val=65535&here,!(last_bits+(here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=last_bits,bits-=last_bits,state.back+=last_bits}if(hold>>>=here_bits,bits-=here_bits,state.back+=here_bits,64&here_op){strm.msg="invalid distance code",state.mode=BAD;break}state.offset=here_val,state.extra=15&here_op,state.mode=DISTEXT;case DISTEXT:if(state.extra){for(n=state.extra;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.offset+=hold&(1<<state.extra)-1,hold>>>=state.extra,bits-=state.extra,state.back+=state.extra}if(state.offset>state.dmax){strm.msg="invalid distance too far back",state.mode=BAD;break}state.mode=MATCH;case MATCH:if(0===left)break inf_leave;if(copy=_out-left,state.offset>copy){if((copy=state.offset-copy)>state.whave&&state.sane){strm.msg="invalid distance too far back",state.mode=BAD;break}copy>state.wnext?(copy-=state.wnext,from=state.wsize-copy):from=state.wnext-copy,copy>state.length&&(copy=state.length),from_source=state.window}else from_source=output,from=put-state.offset,copy=state.length;copy>left&&(copy=left),left-=copy,state.length-=copy;do{output[put++]=from_source[from++]}while(--copy);0===state.length&&(state.mode=LEN);break;case LIT:if(0===left)break inf_leave;output[put++]=state.length,left--,state.mode=LEN;break;case CHECK:if(state.wrap){for(;bits<32;){if(0===have)break inf_leave;have--,hold|=input[next++]<<bits,bits+=8}if(_out-=left,strm.total_out+=_out,state.total+=_out,_out&&(strm.adler=state.check=state.flags?crc32(state.check,output,_out,put-_out):adler32(state.check,output,_out,put-_out)),_out=left,(state.flags?hold:zswap32(hold))!==state.check){strm.msg="incorrect data check",state.mode=BAD;break}hold=0,bits=0}state.mode=LENGTH;case LENGTH:if(state.wrap&&state.flags){for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold!==(4294967295&state.total)){strm.msg="incorrect length check",state.mode=BAD;break}hold=0,bits=0}state.mode=DONE;case DONE:ret=Z_STREAM_END;break inf_leave;case BAD:ret=Z_DATA_ERROR;break inf_leave;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR}return strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,(state.wsize||_out!==strm.avail_out&&state.mode<BAD&&(state.mode<CHECK||flush!==Z_FINISH))&&updatewindow(strm,strm.output,strm.next_out,_out-strm.avail_out)?(state.mode=MEM,Z_MEM_ERROR):(_in-=strm.avail_in,_out-=strm.avail_out,strm.total_in+=_in,strm.total_out+=_out,state.total+=_out,state.wrap&&_out&&(strm.adler=state.check=state.flags?crc32(state.check,output,_out,strm.next_out-_out):adler32(state.check,output,_out,strm.next_out-_out)),strm.data_type=state.bits+(state.last?64:0)+(state.mode===TYPE?128:0)+(state.mode===LEN_||state.mode===COPY_?256:0),(0===_in&&0===_out||flush===Z_FINISH)&&ret===Z_OK&&(ret=Z_BUF_ERROR),ret)},exports.inflateEnd=function(strm){if(!strm||!strm.state)return Z_STREAM_ERROR;var state=strm.state;return state.window&&(state.window=null),strm.state=null,Z_OK},exports.inflateGetHeader=function(strm,head){var state;return strm&&strm.state?0==(2&(state=strm.state).wrap)?Z_STREAM_ERROR:(state.head=head,head.done=!1,Z_OK):Z_STREAM_ERROR},exports.inflateSetDictionary=function(strm,dictionary){var state,dictLength=dictionary.length;return strm&&strm.state?0!==(state=strm.state).wrap&&state.mode!==DICT?Z_STREAM_ERROR:state.mode===DICT&&adler32(1,dictionary,dictLength,0)!==state.check?Z_DATA_ERROR:updatewindow(strm,dictionary,dictLength,dictLength)?(state.mode=MEM,Z_MEM_ERROR):(state.havedict=1,Z_OK):Z_STREAM_ERROR},exports.inflateInfo="pako inflate (from Nodeca project)"},function(module,exports,__webpack_require__){"use strict";module.exports=function(adler,buf,len,pos){for(var s1=65535&adler|0,s2=adler>>>16&65535|0,n=0;0!==len;){len-=n=len>2e3?2e3:len;do{s2=s2+(s1=s1+buf[pos++]|0)|0}while(--n);s1%=65521,s2%=65521}return s1|s2<<16|0}},function(module,exports,__webpack_require__){"use strict";var crcTable=function(){for(var c,table=[],n=0;n<256;n++){c=n;for(var k=0;k<8;k++)c=1&c?3988292384^c>>>1:c>>>1;table[n]=c}return table}();module.exports=function(crc,buf,len,pos){var t=crcTable,end=pos+len;crc^=-1;for(var i=pos;i<end;i++)crc=crc>>>8^t[255&(crc^buf[i])];return-1^crc}},function(module,exports,__webpack_require__){"use strict";module.exports=function(strm,start){var state,_in,last,_out,beg,end,dmax,wsize,whave,wnext,s_window,hold,bits,lcode,dcode,lmask,dmask,here,op,len,dist,from,from_source,input,output;state=strm.state,_in=strm.next_in,input=strm.input,last=_in+(strm.avail_in-5),_out=strm.next_out,output=strm.output,beg=_out-(start-strm.avail_out),end=_out+(strm.avail_out-257),dmax=state.dmax,wsize=state.wsize,whave=state.whave,wnext=state.wnext,s_window=state.window,hold=state.hold,bits=state.bits,lcode=state.lencode,dcode=state.distcode,lmask=(1<<state.lenbits)-1,dmask=(1<<state.distbits)-1;top:do{bits<15&&(hold+=input[_in++]<<bits,bits+=8,hold+=input[_in++]<<bits,bits+=8),here=lcode[hold&lmask];dolen:for(;;){if(hold>>>=op=here>>>24,bits-=op,0===(op=here>>>16&255))output[_out++]=65535&here;else{if(!(16&op)){if(0==(64&op)){here=lcode[(65535&here)+(hold&(1<<op)-1)];continue dolen}if(32&op){state.mode=12;break top}strm.msg="invalid literal/length code",state.mode=30;break top}len=65535&here,(op&=15)&&(bits<op&&(hold+=input[_in++]<<bits,bits+=8),len+=hold&(1<<op)-1,hold>>>=op,bits-=op),bits<15&&(hold+=input[_in++]<<bits,bits+=8,hold+=input[_in++]<<bits,bits+=8),here=dcode[hold&dmask];dodist:for(;;){if(hold>>>=op=here>>>24,bits-=op,!(16&(op=here>>>16&255))){if(0==(64&op)){here=dcode[(65535&here)+(hold&(1<<op)-1)];continue dodist}strm.msg="invalid distance code",state.mode=30;break top}if(dist=65535&here,bits<(op&=15)&&(hold+=input[_in++]<<bits,(bits+=8)<op&&(hold+=input[_in++]<<bits,bits+=8)),(dist+=hold&(1<<op)-1)>dmax){strm.msg="invalid distance too far back",state.mode=30;break top}if(hold>>>=op,bits-=op,dist>(op=_out-beg)){if((op=dist-op)>whave&&state.sane){strm.msg="invalid distance too far back",state.mode=30;break top}if(from=0,from_source=s_window,0===wnext){if(from+=wsize-op,op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist,from_source=output}}else if(wnext<op){if(from+=wsize+wnext-op,(op-=wnext)<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);if(from=0,wnext<len){len-=op=wnext;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist,from_source=output}}}else if(from+=wnext-op,op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist,from_source=output}for(;len>2;)output[_out++]=from_source[from++],output[_out++]=from_source[from++],output[_out++]=from_source[from++],len-=3;len&&(output[_out++]=from_source[from++],len>1&&(output[_out++]=from_source[from++]))}else{from=_out-dist;do{output[_out++]=output[from++],output[_out++]=output[from++],output[_out++]=output[from++],len-=3}while(len>2);len&&(output[_out++]=output[from++],len>1&&(output[_out++]=output[from++]))}break}}break}}while(_in<last&&_out<end);_in-=len=bits>>3,hold&=(1<<(bits-=len<<3))-1,strm.next_in=_in,strm.next_out=_out,strm.avail_in=_in<last?last-_in+5:5-(_in-last),strm.avail_out=_out<end?end-_out+257:257-(_out-end),state.hold=hold,state.bits=bits}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(626),lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];module.exports=function(type,lens,lens_index,codes,table,table_index,work,opts){var incr,fill,low,mask,next,end,here_bits,here_op,here_val,bits=opts.bits,len=0,sym=0,min=0,max=0,root=0,curr=0,drop=0,left=0,used=0,huff=0,base=null,base_index=0,count=new utils.Buf16(16),offs=new utils.Buf16(16),extra=null,extra_index=0;for(len=0;len<=15;len++)count[len]=0;for(sym=0;sym<codes;sym++)count[lens[lens_index+sym]]++;for(root=bits,max=15;max>=1&&0===count[max];max--);if(root>max&&(root=max),0===max)return table[table_index++]=20971520,table[table_index++]=20971520,opts.bits=1,0;for(min=1;min<max&&0===count[min];min++);for(root<min&&(root=min),left=1,len=1;len<=15;len++)if(left<<=1,(left-=count[len])<0)return-1;if(left>0&&(0===type||1!==max))return-1;for(offs[1]=0,len=1;len<15;len++)offs[len+1]=offs[len]+count[len];for(sym=0;sym<codes;sym++)0!==lens[lens_index+sym]&&(work[offs[lens[lens_index+sym]]++]=sym);if(0===type?(base=extra=work,end=19):1===type?(base=lbase,base_index-=257,extra=lext,extra_index-=257,end=256):(base=dbase,extra=dext,end=-1),huff=0,sym=0,len=min,next=table_index,curr=root,drop=0,low=-1,mask=(used=1<<root)-1,1===type&&used>852||2===type&&used>592)return 1;for(;;){here_bits=len-drop,work[sym]<end?(here_op=0,here_val=work[sym]):work[sym]>end?(here_op=extra[extra_index+work[sym]],here_val=base[base_index+work[sym]]):(here_op=96,here_val=0),incr=1<<len-drop,min=fill=1<<curr;do{table[next+(huff>>drop)+(fill-=incr)]=here_bits<<24|here_op<<16|here_val|0}while(0!==fill);for(incr=1<<len-1;huff&incr;)incr>>=1;if(0!==incr?(huff&=incr-1,huff+=incr):huff=0,sym++,0==--count[len]){if(len===max)break;len=lens[lens_index+work[sym]]}if(len>root&&(huff&mask)!==low){for(0===drop&&(drop=root),next+=min,left=1<<(curr=len-drop);curr+drop<max&&!((left-=count[curr+drop])<=0);)curr++,left<<=1;if(used+=1<<curr,1===type&&used>852||2===type&&used>592)return 1;table[low=huff&mask]=root<<24|curr<<16|next-table_index|0}}return 0!==huff&&(table[next+huff]=len-drop<<24|64<<16|0),opts.bits=root,0}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(626),STR_APPLY_OK=!0,STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,[0])}catch(__){STR_APPLY_OK=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(__){STR_APPLY_UIA_OK=!1}for(var _utf8len=new utils.Buf8(256),q=0;q<256;q++)_utf8len[q]=q>=252?6:q>=248?5:q>=240?4:q>=224?3:q>=192?2:1;function buf2binstring(buf,len){if(len<65534&&(buf.subarray&&STR_APPLY_UIA_OK||!buf.subarray&&STR_APPLY_OK))return String.fromCharCode.apply(null,utils.shrinkBuf(buf,len));for(var result="",i=0;i<len;i++)result+=String.fromCharCode(buf[i]);return result}_utf8len[254]=_utf8len[254]=1,exports.string2buf=function(str){var buf,c,c2,m_pos,i,str_len=str.length,buf_len=0;for(m_pos=0;m_pos<str_len;m_pos++)55296==(64512&(c=str.charCodeAt(m_pos)))&&m_pos+1<str_len&&56320==(64512&(c2=str.charCodeAt(m_pos+1)))&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++),buf_len+=c<128?1:c<2048?2:c<65536?3:4;for(buf=new utils.Buf8(buf_len),i=0,m_pos=0;i<buf_len;m_pos++)55296==(64512&(c=str.charCodeAt(m_pos)))&&m_pos+1<str_len&&56320==(64512&(c2=str.charCodeAt(m_pos+1)))&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++),c<128?buf[i++]=c:c<2048?(buf[i++]=192|c>>>6,buf[i++]=128|63&c):c<65536?(buf[i++]=224|c>>>12,buf[i++]=128|c>>>6&63,buf[i++]=128|63&c):(buf[i++]=240|c>>>18,buf[i++]=128|c>>>12&63,buf[i++]=128|c>>>6&63,buf[i++]=128|63&c);return buf},exports.buf2binstring=function(buf){return buf2binstring(buf,buf.length)},exports.binstring2buf=function(str){for(var buf=new utils.Buf8(str.length),i=0,len=buf.length;i<len;i++)buf[i]=str.charCodeAt(i);return buf},exports.buf2string=function(buf,max){var i,out,c,c_len,len=max||buf.length,utf16buf=new Array(2*len);for(out=0,i=0;i<len;)if((c=buf[i++])<128)utf16buf[out++]=c;else if((c_len=_utf8len[c])>4)utf16buf[out++]=65533,i+=c_len-1;else{for(c&=2===c_len?31:3===c_len?15:7;c_len>1&&i<len;)c=c<<6|63&buf[i++],c_len--;c_len>1?utf16buf[out++]=65533:c<65536?utf16buf[out++]=c:(c-=65536,utf16buf[out++]=55296|c>>10&1023,utf16buf[out++]=56320|1023&c)}return buf2binstring(utf16buf,out)},exports.utf8border=function(buf,max){var pos;for((max=max||buf.length)>buf.length&&(max=buf.length),pos=max-1;pos>=0&&128==(192&buf[pos]);)pos--;return pos<0?max:0===pos?max:pos+_utf8len[buf[pos]]>max?pos:max}},function(module,exports,__webpack_require__){"use strict";module.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(module,exports,__webpack_require__){"use strict";module.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(module,exports,__webpack_require__){"use strict";module.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(module,exports,__webpack_require__){"use strict";module.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(module,exports,__webpack_require__){"use strict";const Cursor=__webpack_require__(1164),Fragment=__webpack_require__(406),ops=__webpack_require__(272),PDF=__webpack_require__(151),Readable=__webpack_require__(1443),uuid=__webpack_require__(276),util=__webpack_require__(150),ContentChunk=__webpack_require__(1447),ExternalDocument=__webpack_require__(1176),Font=__webpack_require__(627),RESOLVE=Promise.resolve();class Document extends Readable{constructor(opts){opts||(opts={}),super({highWaterMark:opts.highWaterMark||16384}),this.version="1.6",this.info=Object.assign({},opts.properties,{id:uuid.v4()}),this.width=opts.width||595.296,this.height=opts.height||841.896,this._nextObjectId=1,this._xref=new PDF.Xref,this._reading=!1,this._length=0;const header=`%PDF-${this.version}\n`+"%\n\n";if(this._pending=[()=>this._write(header)],this._pending.current=null,this.defaultFont=opts.font||__webpack_require__(1448),this.defaultFontSize=opts.fontSize||11,this.defaultColor=opts.color&&util.colorToRgb(opts.color)||[0,0,0],this.defaultLineHeight=opts.lineHeight||1.15,!Font.isFont(this.defaultFont))throw new TypeError("opts.font must be set to a valid default font");this._fonts={},this._xobjects={},this._pageFonts={},this._annotations=[],this._aliases=new AliasGenerator,this._mapping=new WeakMap,this._currentContent=null,this._contents=[],this._contentObjCreator=null,this._finalize=[],this._header=this._footer=this._template=null;const padding=opts.padding>=0?opts.padding:20;this.paddingTop=util.defaults(opts.paddingTop,padding),this.paddingBottom=util.defaults(opts.paddingBottom,padding),this.paddingLeft=util.defaults(opts.paddingLeft,padding),this.paddingRight=util.defaults(opts.paddingRight,padding),this._cursor=new Cursor(this.width-this.paddingLeft-this.paddingRight,this.height-this.paddingTop-this.paddingBottom,this.paddingLeft,this.height-this.paddingTop),this._pages=new PDF.Array,this._pagesObj=new PDF.Object("Pages"),this._registerObject(this._pagesObj),this._destinations=new PDF.NameTree,this._outlines=[],this._colorSpace=new PDF.Object;const iccProfile=__webpack_require__(1450)+"~>";this._colorSpace.content="stream\n"+iccProfile+"\nendstream\n",this._colorSpace.prop("Length",iccProfile.length),this._colorSpace.prop("N",3),this._colorSpace.prop("Alternate","DeviceRGB"),this._colorSpace.prop("Filter",new PDF.Name("ASCII85Decode")),this._registerObject(this._colorSpace),this._currentColorSpace="/CS1",this._next(),Fragment.prototype._init.call(this,this,this)}_next(){if(this._pending.current)return this._pending.current;let parent=this._pending,next=parent[0];if(!next)return RESOLVE;for(;Array.isArray(next);){if(0===next.length)return parent.shift(),this._next();parent=next,next=next[0]}return parent.shift(),this._pending.current=next().then(()=>(this._pending.current=null,this._next()))}_read(){this._reading=!0,this.emit("read")}_write(chunk){return this._reading?(this.push(chunk,"binary")||(this._reading=!1),this._length+=chunk.length,RESOLVE):new Promise(resolve=>{this.once("read",()=>{resolve(this._write(chunk))})})}_useFont(font){let alias;if(this._mapping.has(font)&&(alias=this._mapping.get(font),this._aliases.isBlocked(alias)&&(this._mapping.delete(font),alias=void 0)),!alias){alias=new PDF.Name(this._aliases.next("F")),this._mapping.set(font,alias);const fontObj=new PDF.Object("Font");this._fonts[alias]={f:font.instance(),o:fontObj},this._registerObject(fontObj)}return!this._currentContent||alias in this._currentContent._fonts||(this._currentContent._fonts[alias]=this._fonts[alias].o.toReference()),alias}_fontAlias(instance){return this._useFont(instance.parent)}_fontInstance(font){return this._fonts[this._useFont(font)].f}_useXObject(xobj){let alias;if(this._mapping.has(xobj)&&(alias=this._mapping.get(xobj),this._aliases.isBlocked(alias)&&(this._mapping.delete(xobj),alias=void 0)),!alias){alias=new PDF.Name(this._aliases.next("X")),this._mapping.set(xobj,alias);const xobjObjs=[];for(let i=0;i<xobj.xobjCount;++i){const xobjObj=new PDF.Object("XObject");this._registerObject(xobjObj),xobjObjs.push(xobjObj)}this._xobjects[alias]={x:xobj,o:xobjObjs}}if(this._currentContent&&!(alias in this._currentContent._xobjects))for(let i=0;i<this._xobjects[alias].o.length;++i)this._currentContent._xobjects[alias+"."+i]=this._xobjects[alias].o[i].toReference();const aliases=[];for(let i=0;i<this._xobjects[alias].o.length;++i)aliases.push(alias+"."+i);return aliases}async _startPage(){if(this._currentPage)throw new Error("There is already a started page");const page=this._currentPage=new PDF.Object("Page");if(this._pages.push(page.toReference()),this._template){const taken={};for(const alias in this._template.colorSpaces)taken[alias]=null;let i=1;for(;"/CS"+i in taken;++i);this._currentColorSpace="/CS"+i}else this._currentColorSpace="/CS1";if(await this._startContentObject(),this._header){let chunk="";for(const i in this._header._objects){const obj=this._header._objects[i],alias=new PDF.Name(this._aliases.next("H"));this._currentContent._xobjects[alias]=obj.toReference(),chunk+=ops.Do(alias)}await this._write(chunk),await this._header._render()}if(this._footer){let chunk="";for(const i in this._footer._objects){const obj=this._footer._objects[i],alias=new PDF.Name(this._aliases.next("F"));this._currentContent._xobjects[alias]=obj.toReference(),chunk+=ops.Do(alias)}await this._write(chunk),await this._footer._render()}this._cursor.reset(),this._header&&(this._cursor.y-=this._header.height),this._footer&&(this._cursor.bottomOffset=this._footer.height)}async _endPage(){if(!this._currentPage)return;await this._endContentObject();const fonts=new PDF.Dictionary({}),xobjects=new PDF.Dictionary({});for(const content of this._contents){for(const alias in content._fonts)fonts.add(alias,content._fonts[alias]);for(const alias in content._xobjects)xobjects.add(alias,content._xobjects[alias])}const page=this._currentPage;page.prop("Parent",this._pagesObj.toReference());const colorSpace=new PDF.Dictionary({[this._currentColorSpace]:new PDF.Array([new PDF.Name("ICCBased"),this._colorSpace.toReference()])});page.prop("Resources",new PDF.Dictionary({ColorSpace:colorSpace,ProcSet:new PDF.Array([new PDF.Name("PDF"),new PDF.Name("Text"),new PDF.Name("ImageB"),new PDF.Name("ImageC"),new PDF.Name("ImageI")]),Font:fonts,XObject:xobjects})),this._annotations.length>0&&(page.prop("Annots",new PDF.Array(this._annotations)),this._annotations=[]);const contents=this._contents.map(c=>c._object.toReference());if(page.prop("Contents",new PDF.Array(contents)),this._template){contents.unshift.apply(contents,this._template.contents);for(const alias in this._template.colorSpaces)colorSpace.dictionary[alias]=this._template.colorSpaces[alias];for(const alias in this._template.fonts)fonts.dictionary[alias]=this._template.fonts[alias];for(const alias in this._template.xobjects)xobjects.dictionary[alias]=this._template.xobjects[alias]}await this._writeObject(page),this._currentContent=this._currentPage=null,this._contents.length=0}async _pageBreak(){this._currentPage||await this._startPage(),await this._cursor.reset(),await this._endPage(),await this._startPage()}async _startContentObject(obj,force){if(!force&&this._length-16==this._contentStart)return this._currentContent;this._currentContent&&await this._endContentObject(),this._contentObjCreator&&(obj=this._contentObjCreator());const content=this._currentContent=new ContentChunk(this,obj);this._contents.push(content),this._xref.add(content._object.id,{offset:this._length,obj:content._object});let chunk=content._object.id+" "+content._object.rev+" obj\n"+content._object.properties.toString()+"\nstream\n";return this._contentStart=this._length+chunk.length,chunk+=ops.CS(this._currentColorSpace)+ops.cs(this._currentColorSpace),await this._write(chunk),content}async _endContentObject(){if(!this._currentContent)return;this._currentContent._length.content=this._length-this._contentStart-1,this._currentContent._length.content<0&&(this._currentContent._length.content=0);await this._write("endstream\nendobj\n\n"),await this._writeObject(this._currentContent._length),this._currentContent=null}_registerObject(object,force){object instanceof PDF.Stream&&(object=object.object),!force&&object.id||(object.id=this._nextObjectId,this._nextObjectId++)}_writeObject(object){return object instanceof PDF.Stream&&(object=object.object),object.id||this._registerObject(object),this._xref.add(object.id,{offset:this._length,obj:object}),this._write(object.toString()+"\n\n")}_updateOutlinesCount(id){this._outlines[id].data.count<1?(this._outlines[id].data.count-=1,this._outlines[id].prop("Count",this._outlines[id].data.count)):(this._outlines[id].data.count=-1,this._outlines[id].prop("Count",this._outlines[id].data.count));const nextParent=this._outlines[id].data.parentIndex;void 0!==nextParent&&this._updateOutlinesCount(nextParent)}async end(){await Fragment.prototype.end.call(this),await this._next(),await this._endPage();for(const fn of this._finalize)await fn();this._pagesObj.prop("MediaBox",new PDF.Array([0,0,this.width,this.height])),this._pagesObj.prop("Kids",this._pages),this._pagesObj.prop("Count",this._pages.length),await this._writeObject(this._pagesObj),await this._writeObject(this._colorSpace);for(const alias in this._fonts){const font=this._fonts[alias];await font.f.write(this,font.o)}for(const alias in this._xobjects){const xobj=this._xobjects[alias];await xobj.x.write(this,xobj.o)}const catalog=new PDF.Object("Catalog");if(catalog.prop("Pages",this._pagesObj.toReference()),this._destinations.length>0){const destsObj=new PDF.Object;destsObj.prop("Dests",this._destinations),await this._writeObject(destsObj),catalog.prop("Names",destsObj.toReference())}if(this._outlines.length>0){for(let i=0;i<this._outlines.length;i+=1)await this._writeObject(this._outlines[i]);catalog.prop("Outlines",this._outlines[0].toReference())}await this._writeObject(catalog);const startxref=this._length;await this._write(this._xref.toString());const objectsCount=this._nextObjectId-1,trailer=new PDF.Trailer(objectsCount+1,catalog,this.info);await this._write(trailer.toString()+"\n"),await this._write("startxref\n"+startxref+"\n%%EOF"),this.push(null)}asBuffer(callback){let p=new Promise((resolve,reject)=>{const chunks=[];this.on("data",chunk=>chunks.push(chunk)),this.on("end",()=>resolve(Buffer.concat(chunks))),this.on("error",reject),this.end()});return"function"==typeof callback&&(p=p.then(data=>callback(null,data)).catch(callback)),p}header(){const ctx=new(__webpack_require__(899))(this,this);return this._begin(ctx),this._pending.push(()=>(this._header=ctx,ctx._start())),ctx}footer(){const ctx=new(__webpack_require__(1451))(this,this);return this._begin(ctx),this._pending.push(()=>(this._footer=ctx,ctx._start())),ctx}addPagesOf(external){if(!(external instanceof ExternalDocument))throw new TypeError("argument must be of type ExternalDocument");this._begin(null),this._pending.push(()=>external.write(this))}addPageOf(page,external){if(!(external instanceof ExternalDocument))throw new TypeError("argument must be of type ExternalDocument");if(!page||page<1||page>external.pageCount)throw new TypeError("ExternalDocument does not have page "+page);this._begin(null),this._pending.push(()=>external.write(this,page))}setTemplate(external){if(!(external instanceof ExternalDocument))throw new TypeError("argument must be of type ExternalDocument");this._begin(null),this._pending.push(()=>external.setAsTemplate(this))}outline(title,destination,parent){if(void 0===title||void 0===destination)return;let parentIndex;0===this._outlines.length&&(this._outlines[0]=new PDF.Object("Outlines"),this._outlines[0].data={type:"Outlines"},this._registerObject(this._outlines[0])),"number"==typeof parent&&parent>=0&&parent<=this._outlines.length?parentIndex=parent:void 0===parent||""===parent?parentIndex=0:-1===(parentIndex=this._outlines.findIndex((item,index)=>item.data.title===parent))&&(parentIndex=this.outline(parent,destination));let siblingsIndexes=this._outlines.reduce((result,item,index)=>(0!==index&&item.data.parentIndex===parentIndex&&result.push(index),result),[]);const outline=new PDF.Object;outline.data={title:title,destination:destination,parent:parent},outline.prop("Title",new PDF.String(title)),outline.prop("Parent",this._outlines[parentIndex].toReference()),outline.prop("A",new PDF.Dictionary({S:"GoTo",D:new PDF.String(destination)})),this._registerObject(outline);const outlineIndex=this._outlines.push(outline)-1,prevSiblingIndex=siblingsIndexes[siblingsIndexes.length-1];return prevSiblingIndex>0&&(this._outlines[prevSiblingIndex].data.nextId=outlineIndex,this._outlines[prevSiblingIndex].prop("Next",this._outlines[outlineIndex].toReference()),this._outlines[outlineIndex].data.prevId=prevSiblingIndex,this._outlines[outlineIndex].prop("Prev",this._outlines[prevSiblingIndex].toReference())),this._outlines[outlineIndex].data.parentIndex=parentIndex,0===siblingsIndexes.length&&(this._outlines[parentIndex].data.firstIndex=outlineIndex,this._outlines[parentIndex].prop("First",this._outlines[outlineIndex].toReference())),this._outlines[parentIndex].data.lastIndex=outlineIndex,this._outlines[parentIndex].prop("Last",this._outlines[outlineIndex].toReference()),this._updateOutlinesCount(parentIndex),outlineIndex}}Object.assign(Document.prototype,{_begin:Fragment.prototype._begin,_end:Fragment.prototype._end,_opts:Fragment.prototype._opts,text:Fragment.prototype.text,cell:Fragment.prototype.cell,table:Fragment.prototype.table,image:Fragment.prototype.image,pageBreak:Fragment.prototype.pageBreak,op:Fragment.prototype.op,destination:Fragment.prototype.destination});class AliasGenerator{constructor(){this.nextId={},this.blocked=new Set}next(prefix){let next;prefix in this.nextId||(this.nextId[prefix]=1);do{next=prefix+this.nextId[prefix]++}while(this.blocked.has(next));return next}block(alias){"/"===(alias=String(alias))[0]&&(alias=alias.slice(1)),this.blocked.add(alias)}isBlocked(alias){return"/"===(alias=String(alias))[0]&&(alias=alias.slice(1)),this.blocked.has(alias)}reset(prefix){this.nextId[prefix]=1}}module.exports=Document},function(module,exports,__webpack_require__){"use strict";const ops=__webpack_require__(272),PDFImage=__webpack_require__(1165),PDF=__webpack_require__(151);module.exports=async function(img,doc,parent,opts){if(!img)throw TypeError("No image provided");doc._currentContent||await doc._startPage();const aliases=doc._useXObject(img),_cursor=parent._cursor;let renderWidth,renderHeight;opts.width&&opts.height?(renderWidth=opts.width,renderHeight=opts.height):opts.width?(renderWidth=opts.width,renderHeight=img.height*(opts.width/img.width)):opts.height?(renderHeight=opts.height,renderWidth=img.width*(opts.height/img.height)):(renderWidth=Math.min(img.width,_cursor.width),(renderHeight=img.height*(renderWidth/img.width))>_cursor.height&&(renderHeight=_cursor.height,renderWidth=img.width*(renderHeight/img.height)));let x=_cursor.x,y=_cursor.y;switch(!1===opts.wrap?(void 0!==opts.x&&null!==opts.x&&(x=opts.x),void 0!==opts.y&&null!==opts.y&&(y=opts.y)):_cursor.y-=renderHeight,y-=renderHeight,opts.align){case"right":x+=_cursor.width-renderWidth;break;case"center":x+=(_cursor.width-renderWidth)/2}img instanceof PDFImage&&(renderWidth/=img.width,renderHeight/=img.height);let chunk=ops.q()+ops.cm(renderWidth,0,0,renderHeight,x,y);for(const alias of aliases)chunk+=ops.Do(alias);chunk+=ops.Q(),opts.link&&doc._annotations.push(new PDF.Dictionary({Type:"Annot",Subtype:"Link",Rect:new PDF.Array([x,y,x+renderWidth,y+renderHeight]),Border:new PDF.Array([0,0,0]),A:new PDF.Dictionary({Type:"Action",S:"URI",URI:new PDF.String(opts.link)})})),opts.goTo&&doc._annotations.push(new PDF.Dictionary({Type:"Annot",Subtype:"Link",Rect:new PDF.Array([x,y,x+renderWidth,y+renderHeight]),Border:new PDF.Array([0,0,0]),A:new PDF.Dictionary({S:"GoTo",D:new PDF.String(opts.goTo)})})),opts.destination&&doc._destinations.set(opts.destination,new PDF.Array([doc._currentPage.toReference(),new PDF.Name("XYZ"),_cursor.x,_cursor.y+renderHeight,null])),await doc._write(chunk)}},function(module,exports){exports.parse=function(xref,lexer,trial){const isTrue="true"===lexer.getString(4),isFalse=!isTrue&&"false"===lexer.getString(5);if(!isTrue&&!isFalse){if(trial)return;throw new Error("Invalid boolean")}return isTrue?lexer.shift(4):lexer.shift(5),isTrue}},function(module,exports){exports.parse=function(xref,lexer,trial){if(!("null"===lexer.getString(4))){if(trial)return;throw new Error("Invalid null")}return lexer.shift(4),null}},function(module,exports){exports.parse=function(xref,lexer,trial){const n=lexer.readNumber(!0);if(void 0===n){if(trial)return;throw new Error("Invalid number")}return n}},function(module,exports,__webpack_require__){"use strict";const PDFName=__webpack_require__(296),PDFString=__webpack_require__(295),PDFDictionary=__webpack_require__(408),PDFArray=__webpack_require__(407);module.exports=class extends PDFDictionary{constructor(dictionary){super(dictionary)}add(key,val){"string"==typeof val&&(val=new PDFName(val)),this.dictionary[key]=val}has(key){return String(key)in this.dictionary}get(key){return this.dictionary[key]}del(key){delete this.dictionary[key]}toString(){const sortedKeys=Object.keys(this.dictionary);sortedKeys.sort((lhs,rhs)=>lhs.localeCompare(rhs));const names=[];for(const key of sortedKeys)names.push(new PDFString(key),this.dictionary[key]);const dict=new PDFDictionary;return dict.set("Names",new PDFArray(names)),dict.set("Limits",new PDFArray([new PDFString(sortedKeys[0]),new PDFString(sortedKeys[sortedKeys.length-1])])),dict.toString()}}},function(module,exports,__webpack_require__){"use strict";const version=__webpack_require__(1434).version,PDFDictionary=__webpack_require__(408),PDFArray=__webpack_require__(407),PDFString=__webpack_require__(295),InfoKeys={title:"Title",author:"Author",subject:"Subject",keywords:"Keywords",creator:"Creator",producer:"Producer",creationDate:"CreationDate",modDate:"ModDate"};function formatDate(date){let str="D:"+date.getFullYear()+("00"+(date.getMonth()+1)).slice(-2)+("00"+date.getDate()).slice(-2)+("00"+date.getHours()).slice(-2)+("00"+date.getMinutes()).slice(-2)+("00"+date.getSeconds()).slice(-2),offset=date.getTimezoneOffset();const rel=0===offset?"Z":offset>0?"-":"+";offset=Math.abs(offset);const hoursOffset=Math.floor(offset/60),minutesOffset=offset-60*hoursOffset;return str+=rel+("00"+hoursOffset).slice(-2)+"'"+("00"+minutesOffset).slice(-2)+"'"}module.exports=class extends PDFDictionary{constructor(size,root,info){super(),this.set("Size",size),this.set("Root",root&&root.toReference());const id=new PDFString(info.id).toHexString();this.set("ID",new PDFArray([id,id])),info.creationDate=formatDate(info.creationDate||new Date),info.producer||(info.producer=`pdfjs v${version} (github.com/rkusa/pdfjs)`),"modDate"in info&&(info.modDate=formatDate(info.modDate));const infoDictionary={};for(const key in InfoKeys)key in info&&(infoDictionary[InfoKeys[key]]=new PDFString(info[key]));this.set("Info",new PDFDictionary(infoDictionary))}toString(){return"trailer\n"+PDFDictionary.prototype.toString.call(this)}static parse(xref,lexer){if(lexer.skipWhitespace(null,!0),"trailer"!==lexer.readString(7))throw new Error("Invalid trailer: trailer expected but not found");return lexer.skipWhitespace(null,!0),PDFDictionary.parse(xref,lexer)}}},function(module){module.exports=JSON.parse('{"name":"pdfjs","author":"Markus Ast <npm.m@rkusa.st>","version":"2.1.0","description":"A Portable Document Format (PDF) generation library targeting both the server- and client-side.","keywords":["pdf","generator"],"license":"MIT","homepage":"https://github.com/rkusa/pdfjs","bugs":"https://github.com/rkusa/pdfjs/issues","main":"lib/","scripts":{"test":"npm run test:pdfs && npm run test:types","test:pdfs":"node test/index.js","test:types":"tsc --project ./types"},"dependencies":{"@rkusa/linebreak":"^1.0.0","opentype.js":"^0.8.0","pako":"^1.0.6","readable-stream":"^2.3.6","unorm":"^1.4.1","uuid":"^3.0.1"},"devDependencies":{"@types/node":"^9.6.6","tape":"^4.6.3","typescript":"^2.8.3"},"repository":{"type":"git","url":"git://github.com/rkusa/pdfjs.git"},"engines":{"node":">=7"},"types":"./types/main.d.ts"}')},function(module,exports,__webpack_require__){"use strict";const PDFObject=__webpack_require__(409),util=(__webpack_require__(296),__webpack_require__(150));function readUint(src,pos,size){let val=0;for(let i=0;i<size;++i)val+=src[pos+size-i-1]<<8*i;return val}module.exports=class PDFXref{constructor(){this.objects=[],this.trailer=null}add(id,data){this.objects[id]=data}get(id){return this.objects[id]&&this.objects[id].obj}getOffset(id){return this.objects[id]&&this.objects[id].offset||null}toString(){let xref="xref\n",range={from:0,refs:[0]};const ranges=[range];for(let i=1;i<this.objects.length;++i){const obj=this.objects[i];obj?(range||(range={from:i,refs:[]},ranges.push(range)),range.refs.push(obj.offset)):range&&(range=null)}return ranges.forEach(function(range){xref+=range.from+" "+range.refs.length+"\n",range.refs.forEach(function(ref,i){0===range.from&&0===i?xref+="0000000000 65535 f \n":xref+="0000000000".substr(ref.toString().length)+ref+" 00000 n \n"})}),xref}static parse(_,lexer,trial){const xref=new PDFXref;if("xref"!==lexer.getString(4))return this.parseXrefObject(_,lexer,trial);let start;for(lexer.readString(4),lexer.skipEOL(1);void 0!==(start=lexer.readNumber(!0));){lexer.skipSpace(1);const count=lexer.readNumber();lexer.skipSpace(null,!0),lexer.skipEOL(1);for(let i=0,len=0+count;i<len;++i){const offset=lexer.readNumber();lexer.skipSpace(1),lexer.readNumber(),lexer.skipSpace(1);const key=lexer.readString(1);lexer.skipSpace(null,!0),lexer.skipEOL(1);const id=start+i;id>0&&"n"===key&&xref.add(id,{offset:offset})}}return xref}static parseXrefObject(_,lexer,trial){const xref=new PDFXref;let obj;try{obj=PDFObject.parse(xref,lexer,trial)}catch(_){throw new Error("Invalid xref: xref expected but not found")}let kind=obj.properties.get("Type");if(!kind||"XRef"!==kind.name)throw new Error("Invalid xref object at "+lexer.pos);const stream=util.inflate(obj);xref.trailer=obj.properties;const index=obj.properties.get("Index"),start=index?index[0]:0,w=obj.properties.get("W"),typeSize=w[0]||1,offsetSize=w[1]||2,genSize=w[2]||1,len=stream.length/(typeSize+offsetSize+genSize);let pos=0;for(let i=0;i<len;++i){const type=readUint(stream,pos,typeSize),offset=readUint(stream,pos+=typeSize,offsetSize);switch(pos+=offsetSize,type){case 0:pos+=genSize;continue;case 1:xref.add(start+i,{offset:offset}),pos+=genSize;break;case 2:xref.add(start+i,{compressed:!0,id:offset,ix:readUint(stream,pos,genSize)}),pos+=genSize;break;default:continue}}return xref}}},function(module,exports,__webpack_require__){"use strict";const UnicodeTrie=__webpack_require__(1437),{BK:BK,CR:CR,LF:LF,NL:NL,CB:CB,BA:BA,SP:SP,WJ:WJ,AI:AI,AL:AL,SA:SA,SG:SG,XX:XX,CJ:CJ,ID:ID,NS:NS,characterClasses:characterClasses}=(__webpack_require__(1168),__webpack_require__(1168)),{DI_BRK:DI_BRK,IN_BRK:IN_BRK,CI_BRK:CI_BRK,CP_BRK:CP_BRK,PR_BRK:PR_BRK,pairTable:pairTable}=__webpack_require__(1438),classTrie=new UnicodeTrie(function(hex){const view=new Uint8Array(hex.length/2);for(let i=0;i<hex.length;i+=2)view[i/2]=parseInt(hex.substring(i,i+2),16);return view}(__webpack_require__(1439).buf));class Break{constructor(position,required){this.position=position,this.required=null!=required&&required}}function mapClass(c){switch(c){case AI:return AL;case SA:case SG:case XX:return AL;case CJ:return NS;default:return c}}function mapFirst(c){switch(c){case LF:case NL:return BK;case CB:return BA;case SP:return WJ;default:return c}}module.exports=class{constructor(string){this.string=string,this.pos=0,this.lastPos=0,this.curClass=null,this.nextClass=null}nextCodePoint(){const code=this.string.charCodeAt(this.pos++),next=this.string.charCodeAt(this.pos);return 55296<=code&&code<=56319&&56320<=next&&next<=57343?(this.pos++,1024*(code-55296)+(next-56320)+65536):code}nextCharClass(first){return null==first&&(first=!1),mapClass(classTrie.get(this.nextCodePoint()))}nextBreak(){for(null==this.curClass&&(this.curClass=mapFirst(this.nextCharClass()));this.pos<this.string.length;){this.lastPos=this.pos;const lastClass=this.nextClass;if(this.nextClass=this.nextCharClass(),this.curClass===BK||this.curClass===CR&&this.nextClass!==LF)return this.curClass=mapFirst(mapClass(this.nextClass)),new Break(this.lastPos,!0);let cur=null;switch(this.nextClass){case SP:cur=this.curClass;break;case BK:case LF:case NL:cur=BK;break;case CR:cur=CR;break;case CB:cur=BA}if(null!=cur){if(this.curClass=cur,this.nextClass===CB)return new Break(this.lastPos);continue}let shouldBreak=!1;switch(pairTable[this.curClass][this.nextClass]){case DI_BRK:shouldBreak=!0;break;case IN_BRK:shouldBreak=lastClass===SP;break;case CI_BRK:if(!(shouldBreak=lastClass===SP))continue;break;case CP_BRK:if(lastClass!==SP)continue}if(this.curClass=this.nextClass,shouldBreak)return new Break(this.lastPos)}if(this.pos>=this.string.length)return this.lastPos<this.string.length?(this.lastPos=this.string.length,new Break(this.string.length)):null}}},function(module,exports,__webpack_require__){var UnicodeTrie,inflate;inflate=__webpack_require__(937),UnicodeTrie=function(){function UnicodeTrie(data){var isBuffer,uncompressedLength,view;(isBuffer="function"==typeof data.readUInt32BE&&"function"==typeof data.slice)||data instanceof Uint8Array?(isBuffer?(this.highStart=data.readUInt32BE(0),this.errorValue=data.readUInt32BE(4),uncompressedLength=data.readUInt32BE(8),data=data.slice(12)):(view=new DataView(data.buffer),this.highStart=view.getUint32(0),this.errorValue=view.getUint32(4),uncompressedLength=view.getUint32(8),data=data.subarray(12)),data=inflate(data,new Uint8Array(uncompressedLength)),data=inflate(data,new Uint8Array(uncompressedLength)),this.data=new Uint32Array(data.buffer)):(this.data=data.data,this.highStart=data.highStart,this.errorValue=data.errorValue)}return 11,5,6,32,64,63,2,32,31,2048,32,2080,2080,32,2112,4,UnicodeTrie.prototype.get=function(codePoint){var index;return codePoint<0||codePoint>1114111?this.errorValue:codePoint<55296||codePoint>56319&&codePoint<=65535?(index=(this.data[codePoint>>5]<<2)+(31&codePoint),this.data[index]):codePoint<=65535?(index=(this.data[2048+(codePoint-55296>>5)]<<2)+(31&codePoint),this.data[index]):codePoint<this.highStart?(index=this.data[2080+(codePoint>>11)],index=((index=this.data[index+(codePoint>>5&63)])<<2)+(31&codePoint),this.data[index]):this.data[this.data.length-4]},UnicodeTrie}(),module.exports=UnicodeTrie},function(module,exports){const DI_BRK=exports.DI_BRK=0,IN_BRK=exports.IN_BRK=1,CI_BRK=exports.CI_BRK=2,CP_BRK=exports.CP_BRK=3,PR_BRK=exports.PR_BRK=4;exports.pairTable=[[PR_BRK,PR_BRK,PR_BRK,PR_BRK,PR_BRK,PR_BRK,PR_BRK,PR_BRK,PR_BRK,PR_BRK,PR_BRK,PR_BRK,PR_BRK,PR_BRK,PR_BRK,PR_BRK,PR_BRK,PR_BRK,PR_BRK,PR_BRK,PR_BRK,CP_BRK,PR_BRK,PR_BRK,PR_BRK,PR_BRK,PR_BRK,PR_BRK,PR_BRK],[DI_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,PR_BRK,PR_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,IN_BRK,IN_BRK,DI_BRK,DI_BRK,PR_BRK,CI_BRK,PR_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK],[DI_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,PR_BRK,PR_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,DI_BRK,DI_BRK,IN_BRK,IN_BRK,DI_BRK,DI_BRK,PR_BRK,CI_BRK,PR_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK],[PR_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,PR_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,PR_BRK,CI_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK],[IN_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,PR_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,PR_BRK,CI_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK],[DI_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,PR_BRK,PR_BRK,PR_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,IN_BRK,IN_BRK,DI_BRK,DI_BRK,PR_BRK,CI_BRK,PR_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK],[DI_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,PR_BRK,PR_BRK,PR_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,IN_BRK,IN_BRK,DI_BRK,DI_BRK,PR_BRK,CI_BRK,PR_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK],[DI_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,PR_BRK,PR_BRK,PR_BRK,DI_BRK,DI_BRK,IN_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,IN_BRK,IN_BRK,DI_BRK,DI_BRK,PR_BRK,CI_BRK,PR_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK],[DI_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,PR_BRK,PR_BRK,PR_BRK,DI_BRK,DI_BRK,IN_BRK,IN_BRK,IN_BRK,DI_BRK,DI_BRK,IN_BRK,IN_BRK,DI_BRK,DI_BRK,PR_BRK,CI_BRK,PR_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK],[IN_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,PR_BRK,PR_BRK,PR_BRK,DI_BRK,DI_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,DI_BRK,IN_BRK,IN_BRK,DI_BRK,DI_BRK,PR_BRK,CI_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,DI_BRK],[IN_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,PR_BRK,PR_BRK,PR_BRK,DI_BRK,DI_BRK,IN_BRK,IN_BRK,IN_BRK,DI_BRK,DI_BRK,IN_BRK,IN_BRK,DI_BRK,DI_BRK,PR_BRK,CI_BRK,PR_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK],[IN_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,PR_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,DI_BRK,IN_BRK,IN_BRK,IN_BRK,DI_BRK,DI_BRK,PR_BRK,CI_BRK,PR_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK],[IN_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,PR_BRK,PR_BRK,PR_BRK,DI_BRK,DI_BRK,IN_BRK,IN_BRK,IN_BRK,DI_BRK,IN_BRK,IN_BRK,IN_BRK,DI_BRK,DI_BRK,PR_BRK,CI_BRK,PR_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK],[IN_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,PR_BRK,PR_BRK,PR_BRK,DI_BRK,DI_BRK,IN_BRK,IN_BRK,IN_BRK,DI_BRK,IN_BRK,IN_BRK,IN_BRK,DI_BRK,DI_BRK,PR_BRK,CI_BRK,PR_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK],[DI_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,PR_BRK,PR_BRK,PR_BRK,DI_BRK,IN_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,IN_BRK,IN_BRK,IN_BRK,DI_BRK,DI_BRK,PR_BRK,CI_BRK,PR_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK],[DI_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,PR_BRK,PR_BRK,PR_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,IN_BRK,IN_BRK,IN_BRK,DI_BRK,DI_BRK,PR_BRK,CI_BRK,PR_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK],[DI_BRK,PR_BRK,PR_BRK,IN_BRK,DI_BRK,IN_BRK,PR_BRK,PR_BRK,PR_BRK,DI_BRK,DI_BRK,IN_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,IN_BRK,IN_BRK,DI_BRK,DI_BRK,PR_BRK,CI_BRK,PR_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK],[DI_BRK,PR_BRK,PR_BRK,IN_BRK,DI_BRK,IN_BRK,PR_BRK,PR_BRK,PR_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,IN_BRK,IN_BRK,DI_BRK,DI_BRK,PR_BRK,CI_BRK,PR_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK],[IN_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,PR_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,PR_BRK,CI_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK],[DI_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,PR_BRK,PR_BRK,PR_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,IN_BRK,IN_BRK,DI_BRK,PR_BRK,PR_BRK,CI_BRK,PR_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK],[DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,PR_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK],[IN_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,PR_BRK,PR_BRK,PR_BRK,DI_BRK,DI_BRK,IN_BRK,IN_BRK,IN_BRK,DI_BRK,IN_BRK,IN_BRK,IN_BRK,DI_BRK,DI_BRK,PR_BRK,CI_BRK,PR_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK],[IN_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,PR_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,PR_BRK,CI_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK],[DI_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,PR_BRK,PR_BRK,PR_BRK,DI_BRK,IN_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,IN_BRK,IN_BRK,IN_BRK,DI_BRK,DI_BRK,PR_BRK,CI_BRK,PR_BRK,DI_BRK,DI_BRK,DI_BRK,IN_BRK,IN_BRK,DI_BRK],[DI_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,PR_BRK,PR_BRK,PR_BRK,DI_BRK,IN_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,IN_BRK,IN_BRK,IN_BRK,DI_BRK,DI_BRK,PR_BRK,CI_BRK,PR_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,IN_BRK,DI_BRK],[DI_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,PR_BRK,PR_BRK,PR_BRK,DI_BRK,IN_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,IN_BRK,IN_BRK,IN_BRK,DI_BRK,DI_BRK,PR_BRK,CI_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,IN_BRK,DI_BRK,DI_BRK],[DI_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,PR_BRK,PR_BRK,PR_BRK,DI_BRK,IN_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,IN_BRK,IN_BRK,IN_BRK,DI_BRK,DI_BRK,PR_BRK,CI_BRK,PR_BRK,DI_BRK,DI_BRK,DI_BRK,IN_BRK,IN_BRK,DI_BRK],[DI_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,PR_BRK,PR_BRK,PR_BRK,DI_BRK,IN_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,IN_BRK,IN_BRK,IN_BRK,DI_BRK,DI_BRK,PR_BRK,CI_BRK,PR_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,IN_BRK,DI_BRK],[DI_BRK,PR_BRK,PR_BRK,IN_BRK,IN_BRK,IN_BRK,PR_BRK,PR_BRK,PR_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,IN_BRK,IN_BRK,DI_BRK,DI_BRK,PR_BRK,CI_BRK,PR_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,DI_BRK,IN_BRK]]},function(module){module.exports=JSON.parse('{"buf":"000e0800000000000000bde0014f0cb0f3ed9c0bac5c4519c7677befeedddd7b7b6fb7f5b6827d2a6d53211a9428f8a8a0512888f880a0524042154d2a36a692580c098554638d188ba9a98d0535208a586284265aad092026522a02066dd06a82150d4134150801ff939dc94ea7f37e9d6d399bfc3273cebcbef9e69be739672f1c21e4527005f80cd80a76805bc18fc14fc1ee00f71ef05bf030d80f0e807f38a4fb3778ce10fe12181b25640acc030bc052702278e3e820dea9f09f0ece04e7810bc0c560355803d682f5e06ab0116c6269295f85ff8b70bf01773bf836b805dc01ee02bbc01e703fd8071e028f8103e0200b7f1a3ccbc2e9356912d206b3c06c703c58d2ecc7bf04ac80ffe4e620fe69f09fc1ae69f82af83f003ed2eccbf831b89f04ebc067c186665f667abd91fad9f50d70b7b2343be0de0a7e087ec2c237b2f83f63ee2f9b033d507edd1cf020e311f0078618d7c49f11f7ef52fc2771fd8c471e2e3c2fe437a345480b4c82b960616b50df65f0bf0ebca975641eab045b5889f0f780f7096929e7b374ab85fb6be05f0bd6b7fa764fb91afe07e15e077733d802bec5d27e87b9b7c1bd13ec6af5db84b207fefb14b27178fe31bada8bfc1f058f8327c053e010781134c708e9801e380ecc07278013c7fa69dfc0dcb7c07d27381b7c107c145c363628e353f0af1b5397bf5eb8bf01fe8d12d709fecde006b015ec00b7803bc05de017e03eb0173c0a1e074f80a7c02156c6f37067b4d107dbfdeb29b873dbfe3a5bc8d22c857b9247fa5302ca7aab94e65dc2f54a6663e7e0de87c045edbedd5cde76670d580bd6832f80ebc157c08dccbfdd92fe7b82ff768f726b6a6ae2e0e340d572d4d4d4d4d4d4d4d4d41c5dec1c021954dcddee9f87d8f6c83f6ff7cff2a8ff57f0ffa63d08fb5ddb9efe31c439c0e21d84fb9f91fe79cdd3f03fcbf2261d42c6c054a77f1eb8829e3dc2bfa8d34fb71ceeeb3b879f0f51de8c7b1f1ed597fd0e849f09ce02abc0d9e01cf05e706e1d5687d56175581d963cec7c7011b8a433386faf8a4f74aaa5eafad7d40c33b1ebd82bd1c7ae021b3ae1cfe9ae41da4d8af45fc6bdaf836de066709b14e747f41aec06f78207c0432cce41ac4fff58f1d843d93fb3cfea49acadc1c306664d11f27e70fdd49161f748f75ec0f5db6611b21edc3eab7fef2f70e7f730fe83756027380019167509b9146c0377033246c8ffe0ce195773c6783f8e896b11e76621de01c1bf648290cbc076b0a5f1f265ff845d8f35353535c72af3679ae7febf627e7ad2b076f897620dcfc3fe8bb017a4b42fe17aacdbf71fd2bc7bd5c3fda9ee91f9e5625e577d7f81e63e6729c257809315f14e65f74eb7e4918a952dffb5257d176c2fdcb320e379ddfef5856c2df27176fd69b89f039f67d7f4ecf15aa14e5f52d46f19e27cad3b7897f09bf0dfd4b5cb43d3ee03dfd7c4a5e1af457e3bbb87c7df255cb73a87db8ead3cca5ac319e9b1c21e479da42495ecf7331bdb67e84bbf2fd4cf86193a06fc496867ba67fb1bd3cb3fe13e53b18e9eebf6df197c51b2c5d678f5fbec2a91f534097dcc2da8139f365c08b9968193c68f0c3b45716f98390df2bedd20f3bb8f12bb34d5f15c873a98ce8f2e18efbfff7c31732f877b8590e795e3fe67525721cd3596749b58f866b85bc036709394e6bbb8fe8170ef4eda96529cdd0e3679ef51d2ce29a8fab97a953c80761e191d7cbbe0cb23c7809d4c133b3df06ab090b1c4218d2bcb00962904a2107afc86250ae9323fbd477f338430341b99c55cba651d77a4cd98106849d7b921ac0e330a9629974fdbb2c1aea749fd5bfe3247d5275fa3b99f8351d60eb4cf7704a87d2e60703f1f237a6460d33c1d8f3b5b4a2b32225d1392b7bf2dc89cffb0973f6c70fb106d805fbbea4cb62931cd6c4bda1294eab74703a381697484c810da8ef25ac5d6b655db5d2e96335df4c860cee2611da29fc3869d9ed06ed30a7f8bb9b6f97be61011dac65d01799deea35351672d527e7d5fc5d8ecbaffe90a7e59a69c756e117bdd6dfa91c35571791c577da46ed763c1a6e4f1f558c2470f13247c3f5585fde5d4899c868ecd25c655951c3af95ce295b4ed52e5a6daefe764186cdbd5d65deb93a2be3c7e8f5172dc90edb38af611ed3145fbb8f48769c53d9b8e42c775be9e55e5cdef7788bd8f0e43fba4c0d42e361962e65955bff495bba4de63f59b5a8e10fbd7d9f530cc4fa5fa7f884dcb7aa8a2dfebe44ca577930e6ce344ae75367fde50da1e7dfa6ba83ddaf4986b3c4a3d27c4d4dfb7efa5687f97f25cec3dd7782496a15ba788f1426c36e79854da267dfb9b8f1dc89c3024c8727522f39bf0d023df170dbb6e7ced42a593d912e2bd51c1df63d72d05a32c9d7c3623daa18ad4fb4ef9b90677e9af21b836b94aac4d7a0ef74bcf89ae6314ef1fa679db4597a26de99e5ff3e79f31e3a24eded87ee85abe2efd7115737cc5bcaa62aa583fc8eb34533f2abdaeb151b5ac25cba7bf86547f5f596de36428aefb18dffd5648f9bab55289f27dd7b629ca96f72355aeadb9ee9bc235b73d71bd1cba5eccd57e7cddc8e59f2ddd976d8ccfffc3227facdd945cabc9f517afb9be63d731b17b3b5ffb34edf17261d22f8f53e55e70da437fb1a41edf62f752f29aaa14bee5a7d8bff448d8da2295ee747bdfaac6d5181b4975fe906a7cb6cd5739e707d9ae7cde0bd0c99cfa7c2717ae7dc9d65eb28da518bf74f7e4f82eebd22a74cbd7763a1be38c4ad7af50e8468e37871cfe2dc408197cb737a2b816e352a604687efc1b4355bbd072bb16441968394d864e376d265b43886b8a6fb25fd18e75f3c55c455a9f7957ee072edff8f0fa89dfabc8dfb0b8a40fb55fd1fe3b06e46fc07c50a58dc98f937a8c8fd92f73fb96dbccf4fc4e444cd7714c23da8b4ffea93095adfa6e4bf5dd9f095d79bee95cea10430ebd86b499ac67535ba9c2b92b7fe7696b5b952ee43a987467b221177bf0d58fad4f84b6a94a073add98ae53d84faafc5d7516abbb58b954d09ff85c3334af49868b5cb6b262989488c92b66ded391622c4dc544601a553f4a2d978f8da7282b5406575dfae4a3ba76bd2fe7115b3f57bdbba6c9d1bf4df5b6e98de7c3c32735e5a4184f42eaa8d361a939c4a447d55832a9899342e652fab7d5bb343a5bd421f74d954d2fd0c457f507394cec773a3da9e450e5a39247258309175d95b211f17a44030dd37ddf4d7f8d0037c73c1c6aef5ca6927dc4554f5594e9eb56a9b7926597b29554762d633ad7949f91cb67aa2de2f6bcc086eb7b33ba670dba31ca86e91c5e3c3726523dc53150bca63f539f90f3e763a7ea9c5aa5a7390cddd93689d0630cbe737b6a6479f8ffeb3584384dc16f6b2722a5b5c56b0a7e319d0ddd59b52eaeea3e7f5622eb6331f3dbdcdc942ac756be4bbd6d618bc991cf389b12bc4d864dffa9eaafb2bfc5446d87a23dfab038129b4e6cebc51ceda0d38d0ddfe753317370aaf95cb7bef07d1f20e77aca05decf53e9409cab455cdb5796c5f53d899ced99a23cd767a7a1f0ef6bf87ed5654d19f2fc38e67d215bf929dea131d9b9cb78622b2fc77bfeb99ff5d332aaf8e6486e6f5dfd5dde710cb5379ebecaefbf5ce7af9cef7df88e9f72debefa776d57573da8f289a9bfad8fc7d65f661e7865414a97e7bbfe4df96da19c7715df17ca322cad989c6b0dd57c4aa1ffcd3a4dfcfec775d8fe2336167e66e2db1f72ec777ce0ebd354ebb336199c15f1ffdae56b53c2ee4f19ea1f3b17aaf699bc5c57574e67dac336049796cfcf0a789d4de5bbee93f9bba6aa3d7315b6cecb9ecb5c5e4f5956950e1b92eb73c6209f33b43cf3888504ca9eab7caedb86e4e7ef972f76a4aa315384b72f7fa75ab67ffe9f6f2e7669431c371691feb95815fd49259be9eca4aab611c7d75cf5f669bbaa6d95ebc4653f56957cdc9662f72fc3ba9ee1f5ab42afcba5f24b9c6385c8e7b29ef2cdcf345ee99e33bbf62517dbd195635a5396b247179d943e63d451625c4861dfa17dc9f739444e7b31e51fdb0ea97427cf63bedfad87ea39a54d731b10bf470db151f9fd1395ccbeed57c2fee531c47476eab3a74e69afb1e70b2132a7ec1bae65bad6df67ac48a57ffe7f7cfcb9b8fc9e6bcc78e9527fd92e7dd2e71c2f5dc6f19067dcb9c63b15e2af2120c793eff1f844133fb7cc3a3943db3b76de8f6d2fd378e72357ac6e5de60ad39a9387e5e89fa9ec27d75c12228bcfbb4d3928d96f65fdabf637c3507f5bdbe6b69fd43616d22772e65fd2d67cc799dca46e27dfbe935aafbee47ad6e15a7ecc775331e975dfaba4922f04939ee617a2f43331aef7aaca90ef4f685cd7724ad5c9b50f9ac68c547ab59133ef5c750b95ab5479a5ea138af82d9be97fd372d87c89f576aaf56e2e3b75d553c9b33317fe0f"}')},function(module,exports,__webpack_require__){!function(root){"use strict";for(var DEFAULT_FEATURE=[null,0,{}],CACHE_THRESHOLD=10,SBase=44032,LBase=4352,VBase=4449,TBase=4519,LCount=19,VCount=21,TCount=28,NCount=VCount*TCount,SCount=LCount*NCount,UChar=function(cp,feature){this.codepoint=cp,this.feature=feature},cache={},cacheCounter=[],i=0;i<=255;++i)cacheCounter[i]=0;var strategies=[function(next,cp,needFeature){return cp<60||13311<cp&&cp<42607?new UChar(cp,DEFAULT_FEATURE):next(cp,needFeature)},function(next,cp,needFeature){var ret=cache[cp];return ret||(ret=next(cp,needFeature)).feature&&++cacheCounter[cp>>8&255]>CACHE_THRESHOLD&&(cache[cp]=ret),ret},function(next,cp,needFeature){return needFeature?next(cp,needFeature):new UChar(cp,null)},function(next,cp,needFeature){var j;if(cp<LBase||LBase+LCount<=cp&&cp<SBase||SBase+SCount<cp)return next(cp,needFeature);if(LBase<=cp&&cp<LBase+LCount){var c={},base=(cp-LBase)*VCount;for(j=0;j<VCount;++j)c[VBase+j]=SBase+TCount*(j+base);return new UChar(cp,[,,c])}var SIndex=cp-SBase,TIndex=SIndex%TCount,feature=[];if(0!==TIndex)feature[0]=[SBase+SIndex-TIndex,TBase+TIndex];else for(feature[0]=[LBase+Math.floor(SIndex/NCount),VBase+Math.floor(SIndex%NCount/TCount)],feature[2]={},j=1;j<TCount;++j)feature[2][TBase+j]=cp+j;return new UChar(cp,feature)},function(next,cp,needFeature){var hash=65280&cp,f=(UChar.udata[hash]||{})[cp];return new UChar(cp,f||DEFAULT_FEATURE)}];UChar.fromCharCode=strategies.reduceRight(function(next,strategy){return function(cp,needFeature){return strategy(next,cp,needFeature)}},null),UChar.isHighSurrogate=function(cp){return cp>=55296&&cp<=56319},UChar.isLowSurrogate=function(cp){return cp>=56320&&cp<=57343},UChar.prototype.prepFeature=function(){this.feature||(this.feature=UChar.fromCharCode(this.codepoint,!0).feature)},UChar.prototype.toString=function(){if(this.codepoint<65536)return String.fromCharCode(this.codepoint);var x=this.codepoint-65536;return String.fromCharCode(Math.floor(x/1024)+55296,x%1024+56320)},UChar.prototype.getDecomp=function(){return this.prepFeature(),this.feature[0]||null},UChar.prototype.isCompatibility=function(){return this.prepFeature(),!!this.feature[1]&&256&this.feature[1]},UChar.prototype.isExclude=function(){return this.prepFeature(),!!this.feature[1]&&512&this.feature[1]},UChar.prototype.getCanonicalClass=function(){return this.prepFeature(),this.feature[1]?255&this.feature[1]:0},UChar.prototype.getComposite=function(following){if(this.prepFeature(),!this.feature[2])return null;var cp=this.feature[2][following.codepoint];return cp?UChar.fromCharCode(cp):null};var UCharIterator=function(str){this.str=str,this.cursor=0};UCharIterator.prototype.next=function(){if(this.str&&this.cursor<this.str.length){var d,cp=this.str.charCodeAt(this.cursor++);return UChar.isHighSurrogate(cp)&&this.cursor<this.str.length&&UChar.isLowSurrogate(d=this.str.charCodeAt(this.cursor))&&(cp=1024*(cp-55296)+(d-56320)+65536,++this.cursor),UChar.fromCharCode(cp)}return this.str=null,null};var RecursDecompIterator=function(it,cano){this.it=it,this.canonical=cano,this.resBuf=[]};RecursDecompIterator.prototype.next=function(){if(0===this.resBuf.length){var uchar=this.it.next();if(!uchar)return null;this.resBuf=function recursiveDecomp(cano,uchar){var decomp=uchar.getDecomp();if(!decomp||cano&&uchar.isCompatibility())return[uchar];for(var ret=[],i=0;i<decomp.length;++i){var a=recursiveDecomp(cano,UChar.fromCharCode(decomp[i]));ret=ret.concat(a)}return ret}(this.canonical,uchar)}return this.resBuf.shift()};var DecompIterator=function(it){this.it=it,this.resBuf=[]};DecompIterator.prototype.next=function(){var cc;if(0===this.resBuf.length)do{var uchar=this.it.next();if(!uchar)break;cc=uchar.getCanonicalClass();var inspt=this.resBuf.length;if(0!==cc)for(;inspt>0;--inspt){if(this.resBuf[inspt-1].getCanonicalClass()<=cc)break}this.resBuf.splice(inspt,0,uchar)}while(0!==cc);return this.resBuf.shift()};var CompIterator=function(it){this.it=it,this.procBuf=[],this.resBuf=[],this.lastClass=null};CompIterator.prototype.next=function(){for(;0===this.resBuf.length;){var uchar=this.it.next();if(!uchar){this.resBuf=this.procBuf,this.procBuf=[];break}if(0===this.procBuf.length)this.lastClass=uchar.getCanonicalClass(),this.procBuf.push(uchar);else{var composite=this.procBuf[0].getComposite(uchar),cc=uchar.getCanonicalClass();composite&&(this.lastClass<cc||0===this.lastClass)?this.procBuf[0]=composite:(0===cc&&(this.resBuf=this.procBuf,this.procBuf=[]),this.lastClass=cc,this.procBuf.push(uchar))}}return this.resBuf.shift()};var normalize=function(mode,str){for(var uchar,it=function(mode,str){switch(mode){case"NFD":return new DecompIterator(new RecursDecompIterator(new UCharIterator(str),!0));case"NFKD":return new DecompIterator(new RecursDecompIterator(new UCharIterator(str),!1));case"NFC":return new CompIterator(new DecompIterator(new RecursDecompIterator(new UCharIterator(str),!0)));case"NFKC":return new CompIterator(new DecompIterator(new RecursDecompIterator(new UCharIterator(str),!1)))}throw mode+" is invalid"}(mode,str),ret="";uchar=it.next();)ret+=uchar.toString();return ret};UChar.udata={0:{60:[,,{824:8814}],61:[,,{824:8800}],62:[,,{824:8815}],65:[,,{768:192,769:193,770:194,771:195,772:256,774:258,775:550,776:196,777:7842,778:197,780:461,783:512,785:514,803:7840,805:7680,808:260}],66:[,,{775:7682,803:7684,817:7686}],67:[,,{769:262,770:264,775:266,780:268,807:199}],68:[,,{775:7690,780:270,803:7692,807:7696,813:7698,817:7694}],69:[,,{768:200,769:201,770:202,771:7868,772:274,774:276,775:278,776:203,777:7866,780:282,783:516,785:518,803:7864,807:552,808:280,813:7704,816:7706}],70:[,,{775:7710}],71:[,,{769:500,770:284,772:7712,774:286,775:288,780:486,807:290}],72:[,,{770:292,775:7714,776:7718,780:542,803:7716,807:7720,814:7722}],73:[,,{768:204,769:205,770:206,771:296,772:298,774:300,775:304,776:207,777:7880,780:463,783:520,785:522,803:7882,808:302,816:7724}],74:[,,{770:308}],75:[,,{769:7728,780:488,803:7730,807:310,817:7732}],76:[,,{769:313,780:317,803:7734,807:315,813:7740,817:7738}],77:[,,{769:7742,775:7744,803:7746}],78:[,,{768:504,769:323,771:209,775:7748,780:327,803:7750,807:325,813:7754,817:7752}],79:[,,{768:210,769:211,770:212,771:213,772:332,774:334,775:558,776:214,777:7886,779:336,780:465,783:524,785:526,795:416,803:7884,808:490}],80:[,,{769:7764,775:7766}],82:[,,{769:340,775:7768,780:344,783:528,785:530,803:7770,807:342,817:7774}],83:[,,{769:346,770:348,775:7776,780:352,803:7778,806:536,807:350}],84:[,,{775:7786,780:356,803:7788,806:538,807:354,813:7792,817:7790}],85:[,,{768:217,769:218,770:219,771:360,772:362,774:364,776:220,777:7910,778:366,779:368,780:467,783:532,785:534,795:431,803:7908,804:7794,808:370,813:7798,816:7796}],86:[,,{771:7804,803:7806}],87:[,,{768:7808,769:7810,770:372,775:7814,776:7812,803:7816}],88:[,,{775:7818,776:7820}],89:[,,{768:7922,769:221,770:374,771:7928,772:562,775:7822,776:376,777:7926,803:7924}],90:[,,{769:377,770:7824,775:379,780:381,803:7826,817:7828}],97:[,,{768:224,769:225,770:226,771:227,772:257,774:259,775:551,776:228,777:7843,778:229,780:462,783:513,785:515,803:7841,805:7681,808:261}],98:[,,{775:7683,803:7685,817:7687}],99:[,,{769:263,770:265,775:267,780:269,807:231}],100:[,,{775:7691,780:271,803:7693,807:7697,813:7699,817:7695}],101:[,,{768:232,769:233,770:234,771:7869,772:275,774:277,775:279,776:235,777:7867,780:283,783:517,785:519,803:7865,807:553,808:281,813:7705,816:7707}],102:[,,{775:7711}],103:[,,{769:501,770:285,772:7713,774:287,775:289,780:487,807:291}],104:[,,{770:293,775:7715,776:7719,780:543,803:7717,807:7721,814:7723,817:7830}],105:[,,{768:236,769:237,770:238,771:297,772:299,774:301,776:239,777:7881,780:464,783:521,785:523,803:7883,808:303,816:7725}],106:[,,{770:309,780:496}],107:[,,{769:7729,780:489,803:7731,807:311,817:7733}],108:[,,{769:314,780:318,803:7735,807:316,813:7741,817:7739}],109:[,,{769:7743,775:7745,803:7747}],110:[,,{768:505,769:324,771:241,775:7749,780:328,803:7751,807:326,813:7755,817:7753}],111:[,,{768:242,769:243,770:244,771:245,772:333,774:335,775:559,776:246,777:7887,779:337,780:466,783:525,785:527,795:417,803:7885,808:491}],112:[,,{769:7765,775:7767}],114:[,,{769:341,775:7769,780:345,783:529,785:531,803:7771,807:343,817:7775}],115:[,,{769:347,770:349,775:7777,780:353,803:7779,806:537,807:351}],116:[,,{775:7787,776:7831,780:357,803:7789,806:539,807:355,813:7793,817:7791}],117:[,,{768:249,769:250,770:251,771:361,772:363,774:365,776:252,777:7911,778:367,779:369,780:468,783:533,785:535,795:432,803:7909,804:7795,808:371,813:7799,816:7797}],118:[,,{771:7805,803:7807}],119:[,,{768:7809,769:7811,770:373,775:7815,776:7813,778:7832,803:7817}],120:[,,{775:7819,776:7821}],121:[,,{768:7923,769:253,770:375,771:7929,772:563,775:7823,776:255,777:7927,778:7833,803:7925}],122:[,,{769:378,770:7825,775:380,780:382,803:7827,817:7829}],160:[[32],256],168:[[32,776],256,{768:8173,769:901,834:8129}],170:[[97],256],175:[[32,772],256],178:[[50],256],179:[[51],256],180:[[32,769],256],181:[[956],256],184:[[32,807],256],185:[[49],256],186:[[111],256],188:[[49,8260,52],256],189:[[49,8260,50],256],190:[[51,8260,52],256],192:[[65,768]],193:[[65,769]],194:[[65,770],,{768:7846,769:7844,771:7850,777:7848}],195:[[65,771]],196:[[65,776],,{772:478}],197:[[65,778],,{769:506}],198:[,,{769:508,772:482}],199:[[67,807],,{769:7688}],200:[[69,768]],201:[[69,769]],202:[[69,770],,{768:7872,769:7870,771:7876,777:7874}],203:[[69,776]],204:[[73,768]],205:[[73,769]],206:[[73,770]],207:[[73,776],,{769:7726}],209:[[78,771]],210:[[79,768]],211:[[79,769]],212:[[79,770],,{768:7890,769:7888,771:7894,777:7892}],213:[[79,771],,{769:7756,772:556,776:7758}],214:[[79,776],,{772:554}],216:[,,{769:510}],217:[[85,768]],218:[[85,769]],219:[[85,770]],220:[[85,776],,{768:475,769:471,772:469,780:473}],221:[[89,769]],224:[[97,768]],225:[[97,769]],226:[[97,770],,{768:7847,769:7845,771:7851,777:7849}],227:[[97,771]],228:[[97,776],,{772:479}],229:[[97,778],,{769:507}],230:[,,{769:509,772:483}],231:[[99,807],,{769:7689}],232:[[101,768]],233:[[101,769]],234:[[101,770],,{768:7873,769:7871,771:7877,777:7875}],235:[[101,776]],236:[[105,768]],237:[[105,769]],238:[[105,770]],239:[[105,776],,{769:7727}],241:[[110,771]],242:[[111,768]],243:[[111,769]],244:[[111,770],,{768:7891,769:7889,771:7895,777:7893}],245:[[111,771],,{769:7757,772:557,776:7759}],246:[[111,776],,{772:555}],248:[,,{769:511}],249:[[117,768]],250:[[117,769]],251:[[117,770]],252:[[117,776],,{768:476,769:472,772:470,780:474}],253:[[121,769]],255:[[121,776]]},256:{256:[[65,772]],257:[[97,772]],258:[[65,774],,{768:7856,769:7854,771:7860,777:7858}],259:[[97,774],,{768:7857,769:7855,771:7861,777:7859}],260:[[65,808]],261:[[97,808]],262:[[67,769]],263:[[99,769]],264:[[67,770]],265:[[99,770]],266:[[67,775]],267:[[99,775]],268:[[67,780]],269:[[99,780]],270:[[68,780]],271:[[100,780]],274:[[69,772],,{768:7700,769:7702}],275:[[101,772],,{768:7701,769:7703}],276:[[69,774]],277:[[101,774]],278:[[69,775]],279:[[101,775]],280:[[69,808]],281:[[101,808]],282:[[69,780]],283:[[101,780]],284:[[71,770]],285:[[103,770]],286:[[71,774]],287:[[103,774]],288:[[71,775]],289:[[103,775]],290:[[71,807]],291:[[103,807]],292:[[72,770]],293:[[104,770]],296:[[73,771]],297:[[105,771]],298:[[73,772]],299:[[105,772]],300:[[73,774]],301:[[105,774]],302:[[73,808]],303:[[105,808]],304:[[73,775]],306:[[73,74],256],307:[[105,106],256],308:[[74,770]],309:[[106,770]],310:[[75,807]],311:[[107,807]],313:[[76,769]],314:[[108,769]],315:[[76,807]],316:[[108,807]],317:[[76,780]],318:[[108,780]],319:[[76,183],256],320:[[108,183],256],323:[[78,769]],324:[[110,769]],325:[[78,807]],326:[[110,807]],327:[[78,780]],328:[[110,780]],329:[[700,110],256],332:[[79,772],,{768:7760,769:7762}],333:[[111,772],,{768:7761,769:7763}],334:[[79,774]],335:[[111,774]],336:[[79,779]],337:[[111,779]],340:[[82,769]],341:[[114,769]],342:[[82,807]],343:[[114,807]],344:[[82,780]],345:[[114,780]],346:[[83,769],,{775:7780}],347:[[115,769],,{775:7781}],348:[[83,770]],349:[[115,770]],350:[[83,807]],351:[[115,807]],352:[[83,780],,{775:7782}],353:[[115,780],,{775:7783}],354:[[84,807]],355:[[116,807]],356:[[84,780]],357:[[116,780]],360:[[85,771],,{769:7800}],361:[[117,771],,{769:7801}],362:[[85,772],,{776:7802}],363:[[117,772],,{776:7803}],364:[[85,774]],365:[[117,774]],366:[[85,778]],367:[[117,778]],368:[[85,779]],369:[[117,779]],370:[[85,808]],371:[[117,808]],372:[[87,770]],373:[[119,770]],374:[[89,770]],375:[[121,770]],376:[[89,776]],377:[[90,769]],378:[[122,769]],379:[[90,775]],380:[[122,775]],381:[[90,780]],382:[[122,780]],383:[[115],256,{775:7835}],416:[[79,795],,{768:7900,769:7898,771:7904,777:7902,803:7906}],417:[[111,795],,{768:7901,769:7899,771:7905,777:7903,803:7907}],431:[[85,795],,{768:7914,769:7912,771:7918,777:7916,803:7920}],432:[[117,795],,{768:7915,769:7913,771:7919,777:7917,803:7921}],439:[,,{780:494}],452:[[68,381],256],453:[[68,382],256],454:[[100,382],256],455:[[76,74],256],456:[[76,106],256],457:[[108,106],256],458:[[78,74],256],459:[[78,106],256],460:[[110,106],256],461:[[65,780]],462:[[97,780]],463:[[73,780]],464:[[105,780]],465:[[79,780]],466:[[111,780]],467:[[85,780]],468:[[117,780]],469:[[220,772]],470:[[252,772]],471:[[220,769]],472:[[252,769]],473:[[220,780]],474:[[252,780]],475:[[220,768]],476:[[252,768]],478:[[196,772]],479:[[228,772]],480:[[550,772]],481:[[551,772]],482:[[198,772]],483:[[230,772]],486:[[71,780]],487:[[103,780]],488:[[75,780]],489:[[107,780]],490:[[79,808],,{772:492}],491:[[111,808],,{772:493}],492:[[490,772]],493:[[491,772]],494:[[439,780]],495:[[658,780]],496:[[106,780]],497:[[68,90],256],498:[[68,122],256],499:[[100,122],256],500:[[71,769]],501:[[103,769]],504:[[78,768]],505:[[110,768]],506:[[197,769]],507:[[229,769]],508:[[198,769]],509:[[230,769]],510:[[216,769]],511:[[248,769]],66045:[,220]},512:{512:[[65,783]],513:[[97,783]],514:[[65,785]],515:[[97,785]],516:[[69,783]],517:[[101,783]],518:[[69,785]],519:[[101,785]],520:[[73,783]],521:[[105,783]],522:[[73,785]],523:[[105,785]],524:[[79,783]],525:[[111,783]],526:[[79,785]],527:[[111,785]],528:[[82,783]],529:[[114,783]],530:[[82,785]],531:[[114,785]],532:[[85,783]],533:[[117,783]],534:[[85,785]],535:[[117,785]],536:[[83,806]],537:[[115,806]],538:[[84,806]],539:[[116,806]],542:[[72,780]],543:[[104,780]],550:[[65,775],,{772:480}],551:[[97,775],,{772:481}],552:[[69,807],,{774:7708}],553:[[101,807],,{774:7709}],554:[[214,772]],555:[[246,772]],556:[[213,772]],557:[[245,772]],558:[[79,775],,{772:560}],559:[[111,775],,{772:561}],560:[[558,772]],561:[[559,772]],562:[[89,772]],563:[[121,772]],658:[,,{780:495}],688:[[104],256],689:[[614],256],690:[[106],256],691:[[114],256],692:[[633],256],693:[[635],256],694:[[641],256],695:[[119],256],696:[[121],256],728:[[32,774],256],729:[[32,775],256],730:[[32,778],256],731:[[32,808],256],732:[[32,771],256],733:[[32,779],256],736:[[611],256],737:[[108],256],738:[[115],256],739:[[120],256],740:[[661],256],66272:[,220]},768:{768:[,230],769:[,230],770:[,230],771:[,230],772:[,230],773:[,230],774:[,230],775:[,230],776:[,230,{769:836}],777:[,230],778:[,230],779:[,230],780:[,230],781:[,230],782:[,230],783:[,230],784:[,230],785:[,230],786:[,230],787:[,230],788:[,230],789:[,232],790:[,220],791:[,220],792:[,220],793:[,220],794:[,232],795:[,216],796:[,220],797:[,220],798:[,220],799:[,220],800:[,220],801:[,202],802:[,202],803:[,220],804:[,220],805:[,220],806:[,220],807:[,202],808:[,202],809:[,220],810:[,220],811:[,220],812:[,220],813:[,220],814:[,220],815:[,220],816:[,220],817:[,220],818:[,220],819:[,220],820:[,1],821:[,1],822:[,1],823:[,1],824:[,1],825:[,220],826:[,220],827:[,220],828:[,220],829:[,230],830:[,230],831:[,230],832:[[768],230],833:[[769],230],834:[,230],835:[[787],230],836:[[776,769],230],837:[,240],838:[,230],839:[,220],840:[,220],841:[,220],842:[,230],843:[,230],844:[,230],845:[,220],846:[,220],848:[,230],849:[,230],850:[,230],851:[,220],852:[,220],853:[,220],854:[,220],855:[,230],856:[,232],857:[,220],858:[,220],859:[,230],860:[,233],861:[,234],862:[,234],863:[,233],864:[,234],865:[,234],866:[,233],867:[,230],868:[,230],869:[,230],870:[,230],871:[,230],872:[,230],873:[,230],874:[,230],875:[,230],876:[,230],877:[,230],878:[,230],879:[,230],884:[[697]],890:[[32,837],256],894:[[59]],900:[[32,769],256],901:[[168,769]],902:[[913,769]],903:[[183]],904:[[917,769]],905:[[919,769]],906:[[921,769]],908:[[927,769]],910:[[933,769]],911:[[937,769]],912:[[970,769]],913:[,,{768:8122,769:902,772:8121,774:8120,787:7944,788:7945,837:8124}],917:[,,{768:8136,769:904,787:7960,788:7961}],919:[,,{768:8138,769:905,787:7976,788:7977,837:8140}],921:[,,{768:8154,769:906,772:8153,774:8152,776:938,787:7992,788:7993}],927:[,,{768:8184,769:908,787:8008,788:8009}],929:[,,{788:8172}],933:[,,{768:8170,769:910,772:8169,774:8168,776:939,788:8025}],937:[,,{768:8186,769:911,787:8040,788:8041,837:8188}],938:[[921,776]],939:[[933,776]],940:[[945,769],,{837:8116}],941:[[949,769]],942:[[951,769],,{837:8132}],943:[[953,769]],944:[[971,769]],945:[,,{768:8048,769:940,772:8113,774:8112,787:7936,788:7937,834:8118,837:8115}],949:[,,{768:8050,769:941,787:7952,788:7953}],951:[,,{768:8052,769:942,787:7968,788:7969,834:8134,837:8131}],953:[,,{768:8054,769:943,772:8145,774:8144,776:970,787:7984,788:7985,834:8150}],959:[,,{768:8056,769:972,787:8e3,788:8001}],961:[,,{787:8164,788:8165}],965:[,,{768:8058,769:973,772:8161,774:8160,776:971,787:8016,788:8017,834:8166}],969:[,,{768:8060,769:974,787:8032,788:8033,834:8182,837:8179}],970:[[953,776],,{768:8146,769:912,834:8151}],971:[[965,776],,{768:8162,769:944,834:8167}],972:[[959,769]],973:[[965,769]],974:[[969,769],,{837:8180}],976:[[946],256],977:[[952],256],978:[[933],256,{769:979,776:980}],979:[[978,769]],980:[[978,776]],981:[[966],256],982:[[960],256],1008:[[954],256],1009:[[961],256],1010:[[962],256],1012:[[920],256],1013:[[949],256],1017:[[931],256],66422:[,230],66423:[,230],66424:[,230],66425:[,230],66426:[,230]},1024:{1024:[[1045,768]],1025:[[1045,776]],1027:[[1043,769]],1030:[,,{776:1031}],1031:[[1030,776]],1036:[[1050,769]],1037:[[1048,768]],1038:[[1059,774]],1040:[,,{774:1232,776:1234}],1043:[,,{769:1027}],1045:[,,{768:1024,774:1238,776:1025}],1046:[,,{774:1217,776:1244}],1047:[,,{776:1246}],1048:[,,{768:1037,772:1250,774:1049,776:1252}],1049:[[1048,774]],1050:[,,{769:1036}],1054:[,,{776:1254}],1059:[,,{772:1262,774:1038,776:1264,779:1266}],1063:[,,{776:1268}],1067:[,,{776:1272}],1069:[,,{776:1260}],1072:[,,{774:1233,776:1235}],1075:[,,{769:1107}],1077:[,,{768:1104,774:1239,776:1105}],1078:[,,{774:1218,776:1245}],1079:[,,{776:1247}],1080:[,,{768:1117,772:1251,774:1081,776:1253}],1081:[[1080,774]],1082:[,,{769:1116}],1086:[,,{776:1255}],1091:[,,{772:1263,774:1118,776:1265,779:1267}],1095:[,,{776:1269}],1099:[,,{776:1273}],1101:[,,{776:1261}],1104:[[1077,768]],1105:[[1077,776]],1107:[[1075,769]],1110:[,,{776:1111}],1111:[[1110,776]],1116:[[1082,769]],1117:[[1080,768]],1118:[[1091,774]],1140:[,,{783:1142}],1141:[,,{783:1143}],1142:[[1140,783]],1143:[[1141,783]],1155:[,230],1156:[,230],1157:[,230],1158:[,230],1159:[,230],1217:[[1046,774]],1218:[[1078,774]],1232:[[1040,774]],1233:[[1072,774]],1234:[[1040,776]],1235:[[1072,776]],1238:[[1045,774]],1239:[[1077,774]],1240:[,,{776:1242}],1241:[,,{776:1243}],1242:[[1240,776]],1243:[[1241,776]],1244:[[1046,776]],1245:[[1078,776]],1246:[[1047,776]],1247:[[1079,776]],1250:[[1048,772]],1251:[[1080,772]],1252:[[1048,776]],1253:[[1080,776]],1254:[[1054,776]],1255:[[1086,776]],1256:[,,{776:1258}],1257:[,,{776:1259}],1258:[[1256,776]],1259:[[1257,776]],1260:[[1069,776]],1261:[[1101,776]],1262:[[1059,772]],1263:[[1091,772]],1264:[[1059,776]],1265:[[1091,776]],1266:[[1059,779]],1267:[[1091,779]],1268:[[1063,776]],1269:[[1095,776]],1272:[[1067,776]],1273:[[1099,776]]},1280:{1415:[[1381,1410],256],1425:[,220],1426:[,230],1427:[,230],1428:[,230],1429:[,230],1430:[,220],1431:[,230],1432:[,230],1433:[,230],1434:[,222],1435:[,220],1436:[,230],1437:[,230],1438:[,230],1439:[,230],1440:[,230],1441:[,230],1442:[,220],1443:[,220],1444:[,220],1445:[,220],1446:[,220],1447:[,220],1448:[,230],1449:[,230],1450:[,220],1451:[,230],1452:[,230],1453:[,222],1454:[,228],1455:[,230],1456:[,10],1457:[,11],1458:[,12],1459:[,13],1460:[,14],1461:[,15],1462:[,16],1463:[,17],1464:[,18],1465:[,19],1466:[,19],1467:[,20],1468:[,21],1469:[,22],1471:[,23],1473:[,24],1474:[,25],1476:[,230],1477:[,220],1479:[,18]},1536:{1552:[,230],1553:[,230],1554:[,230],1555:[,230],1556:[,230],1557:[,230],1558:[,230],1559:[,230],1560:[,30],1561:[,31],1562:[,32],1570:[[1575,1619]],1571:[[1575,1620]],1572:[[1608,1620]],1573:[[1575,1621]],1574:[[1610,1620]],1575:[,,{1619:1570,1620:1571,1621:1573}],1608:[,,{1620:1572}],1610:[,,{1620:1574}],1611:[,27],1612:[,28],1613:[,29],1614:[,30],1615:[,31],1616:[,32],1617:[,33],1618:[,34],1619:[,230],1620:[,230],1621:[,220],1622:[,220],1623:[,230],1624:[,230],1625:[,230],1626:[,230],1627:[,230],1628:[,220],1629:[,230],1630:[,230],1631:[,220],1648:[,35],1653:[[1575,1652],256],1654:[[1608,1652],256],1655:[[1735,1652],256],1656:[[1610,1652],256],1728:[[1749,1620]],1729:[,,{1620:1730}],1730:[[1729,1620]],1746:[,,{1620:1747}],1747:[[1746,1620]],1749:[,,{1620:1728}],1750:[,230],1751:[,230],1752:[,230],1753:[,230],1754:[,230],1755:[,230],1756:[,230],1759:[,230],1760:[,230],1761:[,230],1762:[,230],1763:[,220],1764:[,230],1767:[,230],1768:[,230],1770:[,220],1771:[,230],1772:[,230],1773:[,220]},1792:{1809:[,36],1840:[,230],1841:[,220],1842:[,230],1843:[,230],1844:[,220],1845:[,230],1846:[,230],1847:[,220],1848:[,220],1849:[,220],1850:[,230],1851:[,220],1852:[,220],1853:[,230],1854:[,220],1855:[,230],1856:[,230],1857:[,230],1858:[,220],1859:[,230],1860:[,220],1861:[,230],1862:[,220],1863:[,230],1864:[,220],1865:[,230],1866:[,230],2027:[,230],2028:[,230],2029:[,230],2030:[,230],2031:[,230],2032:[,230],2033:[,230],2034:[,220],2035:[,230]},2048:{2070:[,230],2071:[,230],2072:[,230],2073:[,230],2075:[,230],2076:[,230],2077:[,230],2078:[,230],2079:[,230],2080:[,230],2081:[,230],2082:[,230],2083:[,230],2085:[,230],2086:[,230],2087:[,230],2089:[,230],2090:[,230],2091:[,230],2092:[,230],2093:[,230],2137:[,220],2138:[,220],2139:[,220],2276:[,230],2277:[,230],2278:[,220],2279:[,230],2280:[,230],2281:[,220],2282:[,230],2283:[,230],2284:[,230],2285:[,220],2286:[,220],2287:[,220],2288:[,27],2289:[,28],2290:[,29],2291:[,230],2292:[,230],2293:[,230],2294:[,220],2295:[,230],2296:[,230],2297:[,220],2298:[,220],2299:[,230],2300:[,230],2301:[,230],2302:[,230],2303:[,230]},2304:{2344:[,,{2364:2345}],2345:[[2344,2364]],2352:[,,{2364:2353}],2353:[[2352,2364]],2355:[,,{2364:2356}],2356:[[2355,2364]],2364:[,7],2381:[,9],2385:[,230],2386:[,220],2387:[,230],2388:[,230],2392:[[2325,2364],512],2393:[[2326,2364],512],2394:[[2327,2364],512],2395:[[2332,2364],512],2396:[[2337,2364],512],2397:[[2338,2364],512],2398:[[2347,2364],512],2399:[[2351,2364],512],2492:[,7],2503:[,,{2494:2507,2519:2508}],2507:[[2503,2494]],2508:[[2503,2519]],2509:[,9],2524:[[2465,2492],512],2525:[[2466,2492],512],2527:[[2479,2492],512]},2560:{2611:[[2610,2620],512],2614:[[2616,2620],512],2620:[,7],2637:[,9],2649:[[2582,2620],512],2650:[[2583,2620],512],2651:[[2588,2620],512],2654:[[2603,2620],512],2748:[,7],2765:[,9],68109:[,220],68111:[,230],68152:[,230],68153:[,1],68154:[,220],68159:[,9],68325:[,230],68326:[,220]},2816:{2876:[,7],2887:[,,{2878:2891,2902:2888,2903:2892}],2888:[[2887,2902]],2891:[[2887,2878]],2892:[[2887,2903]],2893:[,9],2908:[[2849,2876],512],2909:[[2850,2876],512],2962:[,,{3031:2964}],2964:[[2962,3031]],3014:[,,{3006:3018,3031:3020}],3015:[,,{3006:3019}],3018:[[3014,3006]],3019:[[3015,3006]],3020:[[3014,3031]],3021:[,9]},3072:{3142:[,,{3158:3144}],3144:[[3142,3158]],3149:[,9],3157:[,84],3158:[,91],3260:[,7],3263:[,,{3285:3264}],3264:[[3263,3285]],3270:[,,{3266:3274,3285:3271,3286:3272}],3271:[[3270,3285]],3272:[[3270,3286]],3274:[[3270,3266],,{3285:3275}],3275:[[3274,3285]],3277:[,9]},3328:{3398:[,,{3390:3402,3415:3404}],3399:[,,{3390:3403}],3402:[[3398,3390]],3403:[[3399,3390]],3404:[[3398,3415]],3405:[,9],3530:[,9],3545:[,,{3530:3546,3535:3548,3551:3550}],3546:[[3545,3530]],3548:[[3545,3535],,{3530:3549}],3549:[[3548,3530]],3550:[[3545,3551]]},3584:{3635:[[3661,3634],256],3640:[,103],3641:[,103],3642:[,9],3656:[,107],3657:[,107],3658:[,107],3659:[,107],3763:[[3789,3762],256],3768:[,118],3769:[,118],3784:[,122],3785:[,122],3786:[,122],3787:[,122],3804:[[3755,3737],256],3805:[[3755,3745],256]},3840:{3852:[[3851],256],3864:[,220],3865:[,220],3893:[,220],3895:[,220],3897:[,216],3907:[[3906,4023],512],3917:[[3916,4023],512],3922:[[3921,4023],512],3927:[[3926,4023],512],3932:[[3931,4023],512],3945:[[3904,4021],512],3953:[,129],3954:[,130],3955:[[3953,3954],512],3956:[,132],3957:[[3953,3956],512],3958:[[4018,3968],512],3959:[[4018,3969],256],3960:[[4019,3968],512],3961:[[4019,3969],256],3962:[,130],3963:[,130],3964:[,130],3965:[,130],3968:[,130],3969:[[3953,3968],512],3970:[,230],3971:[,230],3972:[,9],3974:[,230],3975:[,230],3987:[[3986,4023],512],3997:[[3996,4023],512],4002:[[4001,4023],512],4007:[[4006,4023],512],4012:[[4011,4023],512],4025:[[3984,4021],512],4038:[,220]},4096:{4133:[,,{4142:4134}],4134:[[4133,4142]],4151:[,7],4153:[,9],4154:[,9],4237:[,220],4348:[[4316],256],69702:[,9],69759:[,9],69785:[,,{69818:69786}],69786:[[69785,69818]],69787:[,,{69818:69788}],69788:[[69787,69818]],69797:[,,{69818:69803}],69803:[[69797,69818]],69817:[,9],69818:[,7]},4352:{69888:[,230],69889:[,230],69890:[,230],69934:[[69937,69927]],69935:[[69938,69927]],69937:[,,{69927:69934}],69938:[,,{69927:69935}],69939:[,9],69940:[,9],70003:[,7],70080:[,9]},4608:{70197:[,9],70198:[,7],70377:[,7],70378:[,9]},4864:{4957:[,230],4958:[,230],4959:[,230],70460:[,7],70471:[,,{70462:70475,70487:70476}],70475:[[70471,70462]],70476:[[70471,70487]],70477:[,9],70502:[,230],70503:[,230],70504:[,230],70505:[,230],70506:[,230],70507:[,230],70508:[,230],70512:[,230],70513:[,230],70514:[,230],70515:[,230],70516:[,230]},5120:{70841:[,,{70832:70844,70842:70843,70845:70846}],70843:[[70841,70842]],70844:[[70841,70832]],70846:[[70841,70845]],70850:[,9],70851:[,7]},5376:{71096:[,,{71087:71098}],71097:[,,{71087:71099}],71098:[[71096,71087]],71099:[[71097,71087]],71103:[,9],71104:[,7]},5632:{71231:[,9],71350:[,9],71351:[,7]},5888:{5908:[,9],5940:[,9],6098:[,9],6109:[,230]},6144:{6313:[,228]},6400:{6457:[,222],6458:[,230],6459:[,220]},6656:{6679:[,230],6680:[,220],6752:[,9],6773:[,230],6774:[,230],6775:[,230],6776:[,230],6777:[,230],6778:[,230],6779:[,230],6780:[,230],6783:[,220],6832:[,230],6833:[,230],6834:[,230],6835:[,230],6836:[,230],6837:[,220],6838:[,220],6839:[,220],6840:[,220],6841:[,220],6842:[,220],6843:[,230],6844:[,230],6845:[,220]},6912:{6917:[,,{6965:6918}],6918:[[6917,6965]],6919:[,,{6965:6920}],6920:[[6919,6965]],6921:[,,{6965:6922}],6922:[[6921,6965]],6923:[,,{6965:6924}],6924:[[6923,6965]],6925:[,,{6965:6926}],6926:[[6925,6965]],6929:[,,{6965:6930}],6930:[[6929,6965]],6964:[,7],6970:[,,{6965:6971}],6971:[[6970,6965]],6972:[,,{6965:6973}],6973:[[6972,6965]],6974:[,,{6965:6976}],6975:[,,{6965:6977}],6976:[[6974,6965]],6977:[[6975,6965]],6978:[,,{6965:6979}],6979:[[6978,6965]],6980:[,9],7019:[,230],7020:[,220],7021:[,230],7022:[,230],7023:[,230],7024:[,230],7025:[,230],7026:[,230],7027:[,230],7082:[,9],7083:[,9],7142:[,7],7154:[,9],7155:[,9]},7168:{7223:[,7],7376:[,230],7377:[,230],7378:[,230],7380:[,1],7381:[,220],7382:[,220],7383:[,220],7384:[,220],7385:[,220],7386:[,230],7387:[,230],7388:[,220],7389:[,220],7390:[,220],7391:[,220],7392:[,230],7394:[,1],7395:[,1],7396:[,1],7397:[,1],7398:[,1],7399:[,1],7400:[,1],7405:[,220],7412:[,230],7416:[,230],7417:[,230]},7424:{7468:[[65],256],7469:[[198],256],7470:[[66],256],7472:[[68],256],7473:[[69],256],7474:[[398],256],7475:[[71],256],7476:[[72],256],7477:[[73],256],7478:[[74],256],7479:[[75],256],7480:[[76],256],7481:[[77],256],7482:[[78],256],7484:[[79],256],7485:[[546],256],7486:[[80],256],7487:[[82],256],7488:[[84],256],7489:[[85],256],7490:[[87],256],7491:[[97],256],7492:[[592],256],7493:[[593],256],7494:[[7426],256],7495:[[98],256],7496:[[100],256],7497:[[101],256],7498:[[601],256],7499:[[603],256],7500:[[604],256],7501:[[103],256],7503:[[107],256],7504:[[109],256],7505:[[331],256],7506:[[111],256],7507:[[596],256],7508:[[7446],256],7509:[[7447],256],7510:[[112],256],7511:[[116],256],7512:[[117],256],7513:[[7453],256],7514:[[623],256],7515:[[118],256],7516:[[7461],256],7517:[[946],256],7518:[[947],256],7519:[[948],256],7520:[[966],256],7521:[[967],256],7522:[[105],256],7523:[[114],256],7524:[[117],256],7525:[[118],256],7526:[[946],256],7527:[[947],256],7528:[[961],256],7529:[[966],256],7530:[[967],256],7544:[[1085],256],7579:[[594],256],7580:[[99],256],7581:[[597],256],7582:[[240],256],7583:[[604],256],7584:[[102],256],7585:[[607],256],7586:[[609],256],7587:[[613],256],7588:[[616],256],7589:[[617],256],7590:[[618],256],7591:[[7547],256],7592:[[669],256],7593:[[621],256],7594:[[7557],256],7595:[[671],256],7596:[[625],256],7597:[[624],256],7598:[[626],256],7599:[[627],256],7600:[[628],256],7601:[[629],256],7602:[[632],256],7603:[[642],256],7604:[[643],256],7605:[[427],256],7606:[[649],256],7607:[[650],256],7608:[[7452],256],7609:[[651],256],7610:[[652],256],7611:[[122],256],7612:[[656],256],7613:[[657],256],7614:[[658],256],7615:[[952],256],7616:[,230],7617:[,230],7618:[,220],7619:[,230],7620:[,230],7621:[,230],7622:[,230],7623:[,230],7624:[,230],7625:[,230],7626:[,220],7627:[,230],7628:[,230],7629:[,234],7630:[,214],7631:[,220],7632:[,202],7633:[,230],7634:[,230],7635:[,230],7636:[,230],7637:[,230],7638:[,230],7639:[,230],7640:[,230],7641:[,230],7642:[,230],7643:[,230],7644:[,230],7645:[,230],7646:[,230],7647:[,230],7648:[,230],7649:[,230],7650:[,230],7651:[,230],7652:[,230],7653:[,230],7654:[,230],7655:[,230],7656:[,230],7657:[,230],7658:[,230],7659:[,230],7660:[,230],7661:[,230],7662:[,230],7663:[,230],7664:[,230],7665:[,230],7666:[,230],7667:[,230],7668:[,230],7669:[,230],7676:[,233],7677:[,220],7678:[,230],7679:[,220]},7680:{7680:[[65,805]],7681:[[97,805]],7682:[[66,775]],7683:[[98,775]],7684:[[66,803]],7685:[[98,803]],7686:[[66,817]],7687:[[98,817]],7688:[[199,769]],7689:[[231,769]],7690:[[68,775]],7691:[[100,775]],7692:[[68,803]],7693:[[100,803]],7694:[[68,817]],7695:[[100,817]],7696:[[68,807]],7697:[[100,807]],7698:[[68,813]],7699:[[100,813]],7700:[[274,768]],7701:[[275,768]],7702:[[274,769]],7703:[[275,769]],7704:[[69,813]],7705:[[101,813]],7706:[[69,816]],7707:[[101,816]],7708:[[552,774]],7709:[[553,774]],7710:[[70,775]],7711:[[102,775]],7712:[[71,772]],7713:[[103,772]],7714:[[72,775]],7715:[[104,775]],7716:[[72,803]],7717:[[104,803]],7718:[[72,776]],7719:[[104,776]],7720:[[72,807]],7721:[[104,807]],7722:[[72,814]],7723:[[104,814]],7724:[[73,816]],7725:[[105,816]],7726:[[207,769]],7727:[[239,769]],7728:[[75,769]],7729:[[107,769]],7730:[[75,803]],7731:[[107,803]],7732:[[75,817]],7733:[[107,817]],7734:[[76,803],,{772:7736}],7735:[[108,803],,{772:7737}],7736:[[7734,772]],7737:[[7735,772]],7738:[[76,817]],7739:[[108,817]],7740:[[76,813]],7741:[[108,813]],7742:[[77,769]],7743:[[109,769]],7744:[[77,775]],7745:[[109,775]],7746:[[77,803]],7747:[[109,803]],7748:[[78,775]],7749:[[110,775]],7750:[[78,803]],7751:[[110,803]],7752:[[78,817]],7753:[[110,817]],7754:[[78,813]],7755:[[110,813]],7756:[[213,769]],7757:[[245,769]],7758:[[213,776]],7759:[[245,776]],7760:[[332,768]],7761:[[333,768]],7762:[[332,769]],7763:[[333,769]],7764:[[80,769]],7765:[[112,769]],7766:[[80,775]],7767:[[112,775]],7768:[[82,775]],7769:[[114,775]],7770:[[82,803],,{772:7772}],7771:[[114,803],,{772:7773}],7772:[[7770,772]],7773:[[7771,772]],7774:[[82,817]],7775:[[114,817]],7776:[[83,775]],7777:[[115,775]],7778:[[83,803],,{775:7784}],7779:[[115,803],,{775:7785}],7780:[[346,775]],7781:[[347,775]],7782:[[352,775]],7783:[[353,775]],7784:[[7778,775]],7785:[[7779,775]],7786:[[84,775]],7787:[[116,775]],7788:[[84,803]],7789:[[116,803]],7790:[[84,817]],7791:[[116,817]],7792:[[84,813]],7793:[[116,813]],7794:[[85,804]],7795:[[117,804]],7796:[[85,816]],7797:[[117,816]],7798:[[85,813]],7799:[[117,813]],7800:[[360,769]],7801:[[361,769]],7802:[[362,776]],7803:[[363,776]],7804:[[86,771]],7805:[[118,771]],7806:[[86,803]],7807:[[118,803]],7808:[[87,768]],7809:[[119,768]],7810:[[87,769]],7811:[[119,769]],7812:[[87,776]],7813:[[119,776]],7814:[[87,775]],7815:[[119,775]],7816:[[87,803]],7817:[[119,803]],7818:[[88,775]],7819:[[120,775]],7820:[[88,776]],7821:[[120,776]],7822:[[89,775]],7823:[[121,775]],7824:[[90,770]],7825:[[122,770]],7826:[[90,803]],7827:[[122,803]],7828:[[90,817]],7829:[[122,817]],7830:[[104,817]],7831:[[116,776]],7832:[[119,778]],7833:[[121,778]],7834:[[97,702],256],7835:[[383,775]],7840:[[65,803],,{770:7852,774:7862}],7841:[[97,803],,{770:7853,774:7863}],7842:[[65,777]],7843:[[97,777]],7844:[[194,769]],7845:[[226,769]],7846:[[194,768]],7847:[[226,768]],7848:[[194,777]],7849:[[226,777]],7850:[[194,771]],7851:[[226,771]],7852:[[7840,770]],7853:[[7841,770]],7854:[[258,769]],7855:[[259,769]],7856:[[258,768]],7857:[[259,768]],7858:[[258,777]],7859:[[259,777]],7860:[[258,771]],7861:[[259,771]],7862:[[7840,774]],7863:[[7841,774]],7864:[[69,803],,{770:7878}],7865:[[101,803],,{770:7879}],7866:[[69,777]],7867:[[101,777]],7868:[[69,771]],7869:[[101,771]],7870:[[202,769]],7871:[[234,769]],7872:[[202,768]],7873:[[234,768]],7874:[[202,777]],7875:[[234,777]],7876:[[202,771]],7877:[[234,771]],7878:[[7864,770]],7879:[[7865,770]],7880:[[73,777]],7881:[[105,777]],7882:[[73,803]],7883:[[105,803]],7884:[[79,803],,{770:7896}],7885:[[111,803],,{770:7897}],7886:[[79,777]],7887:[[111,777]],7888:[[212,769]],7889:[[244,769]],7890:[[212,768]],7891:[[244,768]],7892:[[212,777]],7893:[[244,777]],7894:[[212,771]],7895:[[244,771]],7896:[[7884,770]],7897:[[7885,770]],7898:[[416,769]],7899:[[417,769]],7900:[[416,768]],7901:[[417,768]],7902:[[416,777]],7903:[[417,777]],7904:[[416,771]],7905:[[417,771]],7906:[[416,803]],7907:[[417,803]],7908:[[85,803]],7909:[[117,803]],7910:[[85,777]],7911:[[117,777]],7912:[[431,769]],7913:[[432,769]],7914:[[431,768]],7915:[[432,768]],7916:[[431,777]],7917:[[432,777]],7918:[[431,771]],7919:[[432,771]],7920:[[431,803]],7921:[[432,803]],7922:[[89,768]],7923:[[121,768]],7924:[[89,803]],7925:[[121,803]],7926:[[89,777]],7927:[[121,777]],7928:[[89,771]],7929:[[121,771]]},7936:{7936:[[945,787],,{768:7938,769:7940,834:7942,837:8064}],7937:[[945,788],,{768:7939,769:7941,834:7943,837:8065}],7938:[[7936,768],,{837:8066}],7939:[[7937,768],,{837:8067}],7940:[[7936,769],,{837:8068}],7941:[[7937,769],,{837:8069}],7942:[[7936,834],,{837:8070}],7943:[[7937,834],,{837:8071}],7944:[[913,787],,{768:7946,769:7948,834:7950,837:8072}],7945:[[913,788],,{768:7947,769:7949,834:7951,837:8073}],7946:[[7944,768],,{837:8074}],7947:[[7945,768],,{837:8075}],7948:[[7944,769],,{837:8076}],7949:[[7945,769],,{837:8077}],7950:[[7944,834],,{837:8078}],7951:[[7945,834],,{837:8079}],7952:[[949,787],,{768:7954,769:7956}],7953:[[949,788],,{768:7955,769:7957}],7954:[[7952,768]],7955:[[7953,768]],7956:[[7952,769]],7957:[[7953,769]],7960:[[917,787],,{768:7962,769:7964}],7961:[[917,788],,{768:7963,769:7965}],7962:[[7960,768]],7963:[[7961,768]],7964:[[7960,769]],7965:[[7961,769]],7968:[[951,787],,{768:7970,769:7972,834:7974,837:8080}],7969:[[951,788],,{768:7971,769:7973,834:7975,837:8081}],7970:[[7968,768],,{837:8082}],7971:[[7969,768],,{837:8083}],7972:[[7968,769],,{837:8084}],7973:[[7969,769],,{837:8085}],7974:[[7968,834],,{837:8086}],7975:[[7969,834],,{837:8087}],7976:[[919,787],,{768:7978,769:7980,834:7982,837:8088}],7977:[[919,788],,{768:7979,769:7981,834:7983,837:8089}],7978:[[7976,768],,{837:8090}],7979:[[7977,768],,{837:8091}],7980:[[7976,769],,{837:8092}],7981:[[7977,769],,{837:8093}],7982:[[7976,834],,{837:8094}],7983:[[7977,834],,{837:8095}],7984:[[953,787],,{768:7986,769:7988,834:7990}],7985:[[953,788],,{768:7987,769:7989,834:7991}],7986:[[7984,768]],7987:[[7985,768]],7988:[[7984,769]],7989:[[7985,769]],7990:[[7984,834]],7991:[[7985,834]],7992:[[921,787],,{768:7994,769:7996,834:7998}],7993:[[921,788],,{768:7995,769:7997,834:7999}],7994:[[7992,768]],7995:[[7993,768]],7996:[[7992,769]],7997:[[7993,769]],7998:[[7992,834]],7999:[[7993,834]],8e3:[[959,787],,{768:8002,769:8004}],8001:[[959,788],,{768:8003,769:8005}],8002:[[8e3,768]],8003:[[8001,768]],8004:[[8e3,769]],8005:[[8001,769]],8008:[[927,787],,{768:8010,769:8012}],8009:[[927,788],,{768:8011,769:8013}],8010:[[8008,768]],8011:[[8009,768]],8012:[[8008,769]],8013:[[8009,769]],8016:[[965,787],,{768:8018,769:8020,834:8022}],8017:[[965,788],,{768:8019,769:8021,834:8023}],8018:[[8016,768]],8019:[[8017,768]],8020:[[8016,769]],8021:[[8017,769]],8022:[[8016,834]],8023:[[8017,834]],8025:[[933,788],,{768:8027,769:8029,834:8031}],8027:[[8025,768]],8029:[[8025,769]],8031:[[8025,834]],8032:[[969,787],,{768:8034,769:8036,834:8038,837:8096}],8033:[[969,788],,{768:8035,769:8037,834:8039,837:8097}],8034:[[8032,768],,{837:8098}],8035:[[8033,768],,{837:8099}],8036:[[8032,769],,{837:8100}],8037:[[8033,769],,{837:8101}],8038:[[8032,834],,{837:8102}],8039:[[8033,834],,{837:8103}],8040:[[937,787],,{768:8042,769:8044,834:8046,837:8104}],8041:[[937,788],,{768:8043,769:8045,834:8047,837:8105}],8042:[[8040,768],,{837:8106}],8043:[[8041,768],,{837:8107}],8044:[[8040,769],,{837:8108}],8045:[[8041,769],,{837:8109}],8046:[[8040,834],,{837:8110}],8047:[[8041,834],,{837:8111}],8048:[[945,768],,{837:8114}],8049:[[940]],8050:[[949,768]],8051:[[941]],8052:[[951,768],,{837:8130}],8053:[[942]],8054:[[953,768]],8055:[[943]],8056:[[959,768]],8057:[[972]],8058:[[965,768]],8059:[[973]],8060:[[969,768],,{837:8178}],8061:[[974]],8064:[[7936,837]],8065:[[7937,837]],8066:[[7938,837]],8067:[[7939,837]],8068:[[7940,837]],8069:[[7941,837]],8070:[[7942,837]],8071:[[7943,837]],8072:[[7944,837]],8073:[[7945,837]],8074:[[7946,837]],8075:[[7947,837]],8076:[[7948,837]],8077:[[7949,837]],8078:[[7950,837]],8079:[[7951,837]],8080:[[7968,837]],8081:[[7969,837]],8082:[[7970,837]],8083:[[7971,837]],8084:[[7972,837]],8085:[[7973,837]],8086:[[7974,837]],8087:[[7975,837]],8088:[[7976,837]],8089:[[7977,837]],8090:[[7978,837]],8091:[[7979,837]],8092:[[7980,837]],8093:[[7981,837]],8094:[[7982,837]],8095:[[7983,837]],8096:[[8032,837]],8097:[[8033,837]],8098:[[8034,837]],8099:[[8035,837]],8100:[[8036,837]],8101:[[8037,837]],8102:[[8038,837]],8103:[[8039,837]],8104:[[8040,837]],8105:[[8041,837]],8106:[[8042,837]],8107:[[8043,837]],8108:[[8044,837]],8109:[[8045,837]],8110:[[8046,837]],8111:[[8047,837]],8112:[[945,774]],8113:[[945,772]],8114:[[8048,837]],8115:[[945,837]],8116:[[940,837]],8118:[[945,834],,{837:8119}],8119:[[8118,837]],8120:[[913,774]],8121:[[913,772]],8122:[[913,768]],8123:[[902]],8124:[[913,837]],8125:[[32,787],256],8126:[[953]],8127:[[32,787],256,{768:8141,769:8142,834:8143}],8128:[[32,834],256],8129:[[168,834]],8130:[[8052,837]],8131:[[951,837]],8132:[[942,837]],8134:[[951,834],,{837:8135}],8135:[[8134,837]],8136:[[917,768]],8137:[[904]],8138:[[919,768]],8139:[[905]],8140:[[919,837]],8141:[[8127,768]],8142:[[8127,769]],8143:[[8127,834]],8144:[[953,774]],8145:[[953,772]],8146:[[970,768]],8147:[[912]],8150:[[953,834]],8151:[[970,834]],8152:[[921,774]],8153:[[921,772]],8154:[[921,768]],8155:[[906]],8157:[[8190,768]],8158:[[8190,769]],8159:[[8190,834]],8160:[[965,774]],8161:[[965,772]],8162:[[971,768]],8163:[[944]],8164:[[961,787]],8165:[[961,788]],8166:[[965,834]],8167:[[971,834]],8168:[[933,774]],8169:[[933,772]],8170:[[933,768]],8171:[[910]],8172:[[929,788]],8173:[[168,768]],8174:[[901]],8175:[[96]],8178:[[8060,837]],8179:[[969,837]],8180:[[974,837]],8182:[[969,834],,{837:8183}],8183:[[8182,837]],8184:[[927,768]],8185:[[908]],8186:[[937,768]],8187:[[911]],8188:[[937,837]],8189:[[180]],8190:[[32,788],256,{768:8157,769:8158,834:8159}]},8192:{8192:[[8194]],8193:[[8195]],8194:[[32],256],8195:[[32],256],8196:[[32],256],8197:[[32],256],8198:[[32],256],8199:[[32],256],8200:[[32],256],8201:[[32],256],8202:[[32],256],8209:[[8208],256],8215:[[32,819],256],8228:[[46],256],8229:[[46,46],256],8230:[[46,46,46],256],8239:[[32],256],8243:[[8242,8242],256],8244:[[8242,8242,8242],256],8246:[[8245,8245],256],8247:[[8245,8245,8245],256],8252:[[33,33],256],8254:[[32,773],256],8263:[[63,63],256],8264:[[63,33],256],8265:[[33,63],256],8279:[[8242,8242,8242,8242],256],8287:[[32],256],8304:[[48],256],8305:[[105],256],8308:[[52],256],8309:[[53],256],8310:[[54],256],8311:[[55],256],8312:[[56],256],8313:[[57],256],8314:[[43],256],8315:[[8722],256],8316:[[61],256],8317:[[40],256],8318:[[41],256],8319:[[110],256],8320:[[48],256],8321:[[49],256],8322:[[50],256],8323:[[51],256],8324:[[52],256],8325:[[53],256],8326:[[54],256],8327:[[55],256],8328:[[56],256],8329:[[57],256],8330:[[43],256],8331:[[8722],256],8332:[[61],256],8333:[[40],256],8334:[[41],256],8336:[[97],256],8337:[[101],256],8338:[[111],256],8339:[[120],256],8340:[[601],256],8341:[[104],256],8342:[[107],256],8343:[[108],256],8344:[[109],256],8345:[[110],256],8346:[[112],256],8347:[[115],256],8348:[[116],256],8360:[[82,115],256],8400:[,230],8401:[,230],8402:[,1],8403:[,1],8404:[,230],8405:[,230],8406:[,230],8407:[,230],8408:[,1],8409:[,1],8410:[,1],8411:[,230],8412:[,230],8417:[,230],8421:[,1],8422:[,1],8423:[,230],8424:[,220],8425:[,230],8426:[,1],8427:[,1],8428:[,220],8429:[,220],8430:[,220],8431:[,220],8432:[,230]},8448:{8448:[[97,47,99],256],8449:[[97,47,115],256],8450:[[67],256],8451:[[176,67],256],8453:[[99,47,111],256],8454:[[99,47,117],256],8455:[[400],256],8457:[[176,70],256],8458:[[103],256],8459:[[72],256],8460:[[72],256],8461:[[72],256],8462:[[104],256],8463:[[295],256],8464:[[73],256],8465:[[73],256],8466:[[76],256],8467:[[108],256],8469:[[78],256],8470:[[78,111],256],8473:[[80],256],8474:[[81],256],8475:[[82],256],8476:[[82],256],8477:[[82],256],8480:[[83,77],256],8481:[[84,69,76],256],8482:[[84,77],256],8484:[[90],256],8486:[[937]],8488:[[90],256],8490:[[75]],8491:[[197]],8492:[[66],256],8493:[[67],256],8495:[[101],256],8496:[[69],256],8497:[[70],256],8499:[[77],256],8500:[[111],256],8501:[[1488],256],8502:[[1489],256],8503:[[1490],256],8504:[[1491],256],8505:[[105],256],8507:[[70,65,88],256],8508:[[960],256],8509:[[947],256],8510:[[915],256],8511:[[928],256],8512:[[8721],256],8517:[[68],256],8518:[[100],256],8519:[[101],256],8520:[[105],256],8521:[[106],256],8528:[[49,8260,55],256],8529:[[49,8260,57],256],8530:[[49,8260,49,48],256],8531:[[49,8260,51],256],8532:[[50,8260,51],256],8533:[[49,8260,53],256],8534:[[50,8260,53],256],8535:[[51,8260,53],256],8536:[[52,8260,53],256],8537:[[49,8260,54],256],8538:[[53,8260,54],256],8539:[[49,8260,56],256],8540:[[51,8260,56],256],8541:[[53,8260,56],256],8542:[[55,8260,56],256],8543:[[49,8260],256],8544:[[73],256],8545:[[73,73],256],8546:[[73,73,73],256],8547:[[73,86],256],8548:[[86],256],8549:[[86,73],256],8550:[[86,73,73],256],8551:[[86,73,73,73],256],8552:[[73,88],256],8553:[[88],256],8554:[[88,73],256],8555:[[88,73,73],256],8556:[[76],256],8557:[[67],256],8558:[[68],256],8559:[[77],256],8560:[[105],256],8561:[[105,105],256],8562:[[105,105,105],256],8563:[[105,118],256],8564:[[118],256],8565:[[118,105],256],8566:[[118,105,105],256],8567:[[118,105,105,105],256],8568:[[105,120],256],8569:[[120],256],8570:[[120,105],256],8571:[[120,105,105],256],8572:[[108],256],8573:[[99],256],8574:[[100],256],8575:[[109],256],8585:[[48,8260,51],256],8592:[,,{824:8602}],8594:[,,{824:8603}],8596:[,,{824:8622}],8602:[[8592,824]],8603:[[8594,824]],8622:[[8596,824]],8653:[[8656,824]],8654:[[8660,824]],8655:[[8658,824]],8656:[,,{824:8653}],8658:[,,{824:8655}],8660:[,,{824:8654}]},8704:{8707:[,,{824:8708}],8708:[[8707,824]],8712:[,,{824:8713}],8713:[[8712,824]],8715:[,,{824:8716}],8716:[[8715,824]],8739:[,,{824:8740}],8740:[[8739,824]],8741:[,,{824:8742}],8742:[[8741,824]],8748:[[8747,8747],256],8749:[[8747,8747,8747],256],8751:[[8750,8750],256],8752:[[8750,8750,8750],256],8764:[,,{824:8769}],8769:[[8764,824]],8771:[,,{824:8772}],8772:[[8771,824]],8773:[,,{824:8775}],8775:[[8773,824]],8776:[,,{824:8777}],8777:[[8776,824]],8781:[,,{824:8813}],8800:[[61,824]],8801:[,,{824:8802}],8802:[[8801,824]],8804:[,,{824:8816}],8805:[,,{824:8817}],8813:[[8781,824]],8814:[[60,824]],8815:[[62,824]],8816:[[8804,824]],8817:[[8805,824]],8818:[,,{824:8820}],8819:[,,{824:8821}],8820:[[8818,824]],8821:[[8819,824]],8822:[,,{824:8824}],8823:[,,{824:8825}],8824:[[8822,824]],8825:[[8823,824]],8826:[,,{824:8832}],8827:[,,{824:8833}],8828:[,,{824:8928}],8829:[,,{824:8929}],8832:[[8826,824]],8833:[[8827,824]],8834:[,,{824:8836}],8835:[,,{824:8837}],8836:[[8834,824]],8837:[[8835,824]],8838:[,,{824:8840}],8839:[,,{824:8841}],8840:[[8838,824]],8841:[[8839,824]],8849:[,,{824:8930}],8850:[,,{824:8931}],8866:[,,{824:8876}],8872:[,,{824:8877}],8873:[,,{824:8878}],8875:[,,{824:8879}],8876:[[8866,824]],8877:[[8872,824]],8878:[[8873,824]],8879:[[8875,824]],8882:[,,{824:8938}],8883:[,,{824:8939}],8884:[,,{824:8940}],8885:[,,{824:8941}],8928:[[8828,824]],8929:[[8829,824]],8930:[[8849,824]],8931:[[8850,824]],8938:[[8882,824]],8939:[[8883,824]],8940:[[8884,824]],8941:[[8885,824]]},8960:{9001:[[12296]],9002:[[12297]]},9216:{9312:[[49],256],9313:[[50],256],9314:[[51],256],9315:[[52],256],9316:[[53],256],9317:[[54],256],9318:[[55],256],9319:[[56],256],9320:[[57],256],9321:[[49,48],256],9322:[[49,49],256],9323:[[49,50],256],9324:[[49,51],256],9325:[[49,52],256],9326:[[49,53],256],9327:[[49,54],256],9328:[[49,55],256],9329:[[49,56],256],9330:[[49,57],256],9331:[[50,48],256],9332:[[40,49,41],256],9333:[[40,50,41],256],9334:[[40,51,41],256],9335:[[40,52,41],256],9336:[[40,53,41],256],9337:[[40,54,41],256],9338:[[40,55,41],256],9339:[[40,56,41],256],9340:[[40,57,41],256],9341:[[40,49,48,41],256],9342:[[40,49,49,41],256],9343:[[40,49,50,41],256],9344:[[40,49,51,41],256],9345:[[40,49,52,41],256],9346:[[40,49,53,41],256],9347:[[40,49,54,41],256],9348:[[40,49,55,41],256],9349:[[40,49,56,41],256],9350:[[40,49,57,41],256],9351:[[40,50,48,41],256],9352:[[49,46],256],9353:[[50,46],256],9354:[[51,46],256],9355:[[52,46],256],9356:[[53,46],256],9357:[[54,46],256],9358:[[55,46],256],9359:[[56,46],256],9360:[[57,46],256],9361:[[49,48,46],256],9362:[[49,49,46],256],9363:[[49,50,46],256],9364:[[49,51,46],256],9365:[[49,52,46],256],9366:[[49,53,46],256],9367:[[49,54,46],256],9368:[[49,55,46],256],9369:[[49,56,46],256],9370:[[49,57,46],256],9371:[[50,48,46],256],9372:[[40,97,41],256],9373:[[40,98,41],256],9374:[[40,99,41],256],9375:[[40,100,41],256],9376:[[40,101,41],256],9377:[[40,102,41],256],9378:[[40,103,41],256],9379:[[40,104,41],256],9380:[[40,105,41],256],9381:[[40,106,41],256],9382:[[40,107,41],256],9383:[[40,108,41],256],9384:[[40,109,41],256],9385:[[40,110,41],256],9386:[[40,111,41],256],9387:[[40,112,41],256],9388:[[40,113,41],256],9389:[[40,114,41],256],9390:[[40,115,41],256],9391:[[40,116,41],256],9392:[[40,117,41],256],9393:[[40,118,41],256],9394:[[40,119,41],256],9395:[[40,120,41],256],9396:[[40,121,41],256],9397:[[40,122,41],256],9398:[[65],256],9399:[[66],256],9400:[[67],256],9401:[[68],256],9402:[[69],256],9403:[[70],256],9404:[[71],256],9405:[[72],256],9406:[[73],256],9407:[[74],256],9408:[[75],256],9409:[[76],256],9410:[[77],256],9411:[[78],256],9412:[[79],256],9413:[[80],256],9414:[[81],256],9415:[[82],256],9416:[[83],256],9417:[[84],256],9418:[[85],256],9419:[[86],256],9420:[[87],256],9421:[[88],256],9422:[[89],256],9423:[[90],256],9424:[[97],256],9425:[[98],256],9426:[[99],256],9427:[[100],256],9428:[[101],256],9429:[[102],256],9430:[[103],256],9431:[[104],256],9432:[[105],256],9433:[[106],256],9434:[[107],256],9435:[[108],256],9436:[[109],256],9437:[[110],256],9438:[[111],256],9439:[[112],256],9440:[[113],256],9441:[[114],256],9442:[[115],256],9443:[[116],256],9444:[[117],256],9445:[[118],256],9446:[[119],256],9447:[[120],256],9448:[[121],256],9449:[[122],256],9450:[[48],256]},10752:{10764:[[8747,8747,8747,8747],256],10868:[[58,58,61],256],10869:[[61,61],256],10870:[[61,61,61],256],10972:[[10973,824],512]},11264:{11388:[[106],256],11389:[[86],256],11503:[,230],11504:[,230],11505:[,230]},11520:{11631:[[11617],256],11647:[,9],11744:[,230],11745:[,230],11746:[,230],11747:[,230],11748:[,230],11749:[,230],11750:[,230],11751:[,230],11752:[,230],11753:[,230],11754:[,230],11755:[,230],11756:[,230],11757:[,230],11758:[,230],11759:[,230],11760:[,230],11761:[,230],11762:[,230],11763:[,230],11764:[,230],11765:[,230],11766:[,230],11767:[,230],11768:[,230],11769:[,230],11770:[,230],11771:[,230],11772:[,230],11773:[,230],11774:[,230],11775:[,230]},11776:{11935:[[27597],256],12019:[[40863],256]},12032:{12032:[[19968],256],12033:[[20008],256],12034:[[20022],256],12035:[[20031],256],12036:[[20057],256],12037:[[20101],256],12038:[[20108],256],12039:[[20128],256],12040:[[20154],256],12041:[[20799],256],12042:[[20837],256],12043:[[20843],256],12044:[[20866],256],12045:[[20886],256],12046:[[20907],256],12047:[[20960],256],12048:[[20981],256],12049:[[20992],256],12050:[[21147],256],12051:[[21241],256],12052:[[21269],256],12053:[[21274],256],12054:[[21304],256],12055:[[21313],256],12056:[[21340],256],12057:[[21353],256],12058:[[21378],256],12059:[[21430],256],12060:[[21448],256],12061:[[21475],256],12062:[[22231],256],12063:[[22303],256],12064:[[22763],256],12065:[[22786],256],12066:[[22794],256],12067:[[22805],256],12068:[[22823],256],12069:[[22899],256],12070:[[23376],256],12071:[[23424],256],12072:[[23544],256],12073:[[23567],256],12074:[[23586],256],12075:[[23608],256],12076:[[23662],256],12077:[[23665],256],12078:[[24027],256],12079:[[24037],256],12080:[[24049],256],12081:[[24062],256],12082:[[24178],256],12083:[[24186],256],12084:[[24191],256],12085:[[24308],256],12086:[[24318],256],12087:[[24331],256],12088:[[24339],256],12089:[[24400],256],12090:[[24417],256],12091:[[24435],256],12092:[[24515],256],12093:[[25096],256],12094:[[25142],256],12095:[[25163],256],12096:[[25903],256],12097:[[25908],256],12098:[[25991],256],12099:[[26007],256],12100:[[26020],256],12101:[[26041],256],12102:[[26080],256],12103:[[26085],256],12104:[[26352],256],12105:[[26376],256],12106:[[26408],256],12107:[[27424],256],12108:[[27490],256],12109:[[27513],256],12110:[[27571],256],12111:[[27595],256],12112:[[27604],256],12113:[[27611],256],12114:[[27663],256],12115:[[27668],256],12116:[[27700],256],12117:[[28779],256],12118:[[29226],256],12119:[[29238],256],12120:[[29243],256],12121:[[29247],256],12122:[[29255],256],12123:[[29273],256],12124:[[29275],256],12125:[[29356],256],12126:[[29572],256],12127:[[29577],256],12128:[[29916],256],12129:[[29926],256],12130:[[29976],256],12131:[[29983],256],12132:[[29992],256],12133:[[3e4],256],12134:[[30091],256],12135:[[30098],256],12136:[[30326],256],12137:[[30333],256],12138:[[30382],256],12139:[[30399],256],12140:[[30446],256],12141:[[30683],256],12142:[[30690],256],12143:[[30707],256],12144:[[31034],256],12145:[[31160],256],12146:[[31166],256],12147:[[31348],256],12148:[[31435],256],12149:[[31481],256],12150:[[31859],256],12151:[[31992],256],12152:[[32566],256],12153:[[32593],256],12154:[[32650],256],12155:[[32701],256],12156:[[32769],256],12157:[[32780],256],12158:[[32786],256],12159:[[32819],256],12160:[[32895],256],12161:[[32905],256],12162:[[33251],256],12163:[[33258],256],12164:[[33267],256],12165:[[33276],256],12166:[[33292],256],12167:[[33307],256],12168:[[33311],256],12169:[[33390],256],12170:[[33394],256],12171:[[33400],256],12172:[[34381],256],12173:[[34411],256],12174:[[34880],256],12175:[[34892],256],12176:[[34915],256],12177:[[35198],256],12178:[[35211],256],12179:[[35282],256],12180:[[35328],256],12181:[[35895],256],12182:[[35910],256],12183:[[35925],256],12184:[[35960],256],12185:[[35997],256],12186:[[36196],256],12187:[[36208],256],12188:[[36275],256],12189:[[36523],256],12190:[[36554],256],12191:[[36763],256],12192:[[36784],256],12193:[[36789],256],12194:[[37009],256],12195:[[37193],256],12196:[[37318],256],12197:[[37324],256],12198:[[37329],256],12199:[[38263],256],12200:[[38272],256],12201:[[38428],256],12202:[[38582],256],12203:[[38585],256],12204:[[38632],256],12205:[[38737],256],12206:[[38750],256],12207:[[38754],256],12208:[[38761],256],12209:[[38859],256],12210:[[38893],256],12211:[[38899],256],12212:[[38913],256],12213:[[39080],256],12214:[[39131],256],12215:[[39135],256],12216:[[39318],256],12217:[[39321],256],12218:[[39340],256],12219:[[39592],256],12220:[[39640],256],12221:[[39647],256],12222:[[39717],256],12223:[[39727],256],12224:[[39730],256],12225:[[39740],256],12226:[[39770],256],12227:[[40165],256],12228:[[40565],256],12229:[[40575],256],12230:[[40613],256],12231:[[40635],256],12232:[[40643],256],12233:[[40653],256],12234:[[40657],256],12235:[[40697],256],12236:[[40701],256],12237:[[40718],256],12238:[[40723],256],12239:[[40736],256],12240:[[40763],256],12241:[[40778],256],12242:[[40786],256],12243:[[40845],256],12244:[[40860],256],12245:[[40864],256]},12288:{12288:[[32],256],12330:[,218],12331:[,228],12332:[,232],12333:[,222],12334:[,224],12335:[,224],12342:[[12306],256],12344:[[21313],256],12345:[[21316],256],12346:[[21317],256],12358:[,,{12441:12436}],12363:[,,{12441:12364}],12364:[[12363,12441]],12365:[,,{12441:12366}],12366:[[12365,12441]],12367:[,,{12441:12368}],12368:[[12367,12441]],12369:[,,{12441:12370}],12370:[[12369,12441]],12371:[,,{12441:12372}],12372:[[12371,12441]],12373:[,,{12441:12374}],12374:[[12373,12441]],12375:[,,{12441:12376}],12376:[[12375,12441]],12377:[,,{12441:12378}],12378:[[12377,12441]],12379:[,,{12441:12380}],12380:[[12379,12441]],12381:[,,{12441:12382}],12382:[[12381,12441]],12383:[,,{12441:12384}],12384:[[12383,12441]],12385:[,,{12441:12386}],12386:[[12385,12441]],12388:[,,{12441:12389}],12389:[[12388,12441]],12390:[,,{12441:12391}],12391:[[12390,12441]],12392:[,,{12441:12393}],12393:[[12392,12441]],12399:[,,{12441:12400,12442:12401}],12400:[[12399,12441]],12401:[[12399,12442]],12402:[,,{12441:12403,12442:12404}],12403:[[12402,12441]],12404:[[12402,12442]],12405:[,,{12441:12406,12442:12407}],12406:[[12405,12441]],12407:[[12405,12442]],12408:[,,{12441:12409,12442:12410}],12409:[[12408,12441]],12410:[[12408,12442]],12411:[,,{12441:12412,12442:12413}],12412:[[12411,12441]],12413:[[12411,12442]],12436:[[12358,12441]],12441:[,8],12442:[,8],12443:[[32,12441],256],12444:[[32,12442],256],12445:[,,{12441:12446}],12446:[[12445,12441]],12447:[[12424,12426],256],12454:[,,{12441:12532}],12459:[,,{12441:12460}],12460:[[12459,12441]],12461:[,,{12441:12462}],12462:[[12461,12441]],12463:[,,{12441:12464}],12464:[[12463,12441]],12465:[,,{12441:12466}],12466:[[12465,12441]],12467:[,,{12441:12468}],12468:[[12467,12441]],12469:[,,{12441:12470}],12470:[[12469,12441]],12471:[,,{12441:12472}],12472:[[12471,12441]],12473:[,,{12441:12474}],12474:[[12473,12441]],12475:[,,{12441:12476}],12476:[[12475,12441]],12477:[,,{12441:12478}],12478:[[12477,12441]],12479:[,,{12441:12480}],12480:[[12479,12441]],12481:[,,{12441:12482}],12482:[[12481,12441]],12484:[,,{12441:12485}],12485:[[12484,12441]],12486:[,,{12441:12487}],12487:[[12486,12441]],12488:[,,{12441:12489}],12489:[[12488,12441]],12495:[,,{12441:12496,12442:12497}],12496:[[12495,12441]],12497:[[12495,12442]],12498:[,,{12441:12499,12442:12500}],12499:[[12498,12441]],12500:[[12498,12442]],12501:[,,{12441:12502,12442:12503}],12502:[[12501,12441]],12503:[[12501,12442]],12504:[,,{12441:12505,12442:12506}],12505:[[12504,12441]],12506:[[12504,12442]],12507:[,,{12441:12508,12442:12509}],12508:[[12507,12441]],12509:[[12507,12442]],12527:[,,{12441:12535}],12528:[,,{12441:12536}],12529:[,,{12441:12537}],12530:[,,{12441:12538}],12532:[[12454,12441]],12535:[[12527,12441]],12536:[[12528,12441]],12537:[[12529,12441]],12538:[[12530,12441]],12541:[,,{12441:12542}],12542:[[12541,12441]],12543:[[12467,12488],256]},12544:{12593:[[4352],256],12594:[[4353],256],12595:[[4522],256],12596:[[4354],256],12597:[[4524],256],12598:[[4525],256],12599:[[4355],256],12600:[[4356],256],12601:[[4357],256],12602:[[4528],256],12603:[[4529],256],12604:[[4530],256],12605:[[4531],256],12606:[[4532],256],12607:[[4533],256],12608:[[4378],256],12609:[[4358],256],12610:[[4359],256],12611:[[4360],256],12612:[[4385],256],12613:[[4361],256],12614:[[4362],256],12615:[[4363],256],12616:[[4364],256],12617:[[4365],256],12618:[[4366],256],12619:[[4367],256],12620:[[4368],256],12621:[[4369],256],12622:[[4370],256],12623:[[4449],256],12624:[[4450],256],12625:[[4451],256],12626:[[4452],256],12627:[[4453],256],12628:[[4454],256],12629:[[4455],256],12630:[[4456],256],12631:[[4457],256],12632:[[4458],256],12633:[[4459],256],12634:[[4460],256],12635:[[4461],256],12636:[[4462],256],12637:[[4463],256],12638:[[4464],256],12639:[[4465],256],12640:[[4466],256],12641:[[4467],256],12642:[[4468],256],12643:[[4469],256],12644:[[4448],256],12645:[[4372],256],12646:[[4373],256],12647:[[4551],256],12648:[[4552],256],12649:[[4556],256],12650:[[4558],256],12651:[[4563],256],12652:[[4567],256],12653:[[4569],256],12654:[[4380],256],12655:[[4573],256],12656:[[4575],256],12657:[[4381],256],12658:[[4382],256],12659:[[4384],256],12660:[[4386],256],12661:[[4387],256],12662:[[4391],256],12663:[[4393],256],12664:[[4395],256],12665:[[4396],256],12666:[[4397],256],12667:[[4398],256],12668:[[4399],256],12669:[[4402],256],12670:[[4406],256],12671:[[4416],256],12672:[[4423],256],12673:[[4428],256],12674:[[4593],256],12675:[[4594],256],12676:[[4439],256],12677:[[4440],256],12678:[[4441],256],12679:[[4484],256],12680:[[4485],256],12681:[[4488],256],12682:[[4497],256],12683:[[4498],256],12684:[[4500],256],12685:[[4510],256],12686:[[4513],256],12690:[[19968],256],12691:[[20108],256],12692:[[19977],256],12693:[[22235],256],12694:[[19978],256],12695:[[20013],256],12696:[[19979],256],12697:[[30002],256],12698:[[20057],256],12699:[[19993],256],12700:[[19969],256],12701:[[22825],256],12702:[[22320],256],12703:[[20154],256]},12800:{12800:[[40,4352,41],256],12801:[[40,4354,41],256],12802:[[40,4355,41],256],12803:[[40,4357,41],256],12804:[[40,4358,41],256],12805:[[40,4359,41],256],12806:[[40,4361,41],256],12807:[[40,4363,41],256],12808:[[40,4364,41],256],12809:[[40,4366,41],256],12810:[[40,4367,41],256],12811:[[40,4368,41],256],12812:[[40,4369,41],256],12813:[[40,4370,41],256],12814:[[40,4352,4449,41],256],12815:[[40,4354,4449,41],256],12816:[[40,4355,4449,41],256],12817:[[40,4357,4449,41],256],12818:[[40,4358,4449,41],256],12819:[[40,4359,4449,41],256],12820:[[40,4361,4449,41],256],12821:[[40,4363,4449,41],256],12822:[[40,4364,4449,41],256],12823:[[40,4366,4449,41],256],12824:[[40,4367,4449,41],256],12825:[[40,4368,4449,41],256],12826:[[40,4369,4449,41],256],12827:[[40,4370,4449,41],256],12828:[[40,4364,4462,41],256],12829:[[40,4363,4457,4364,4453,4523,41],256],12830:[[40,4363,4457,4370,4462,41],256],12832:[[40,19968,41],256],12833:[[40,20108,41],256],12834:[[40,19977,41],256],12835:[[40,22235,41],256],12836:[[40,20116,41],256],12837:[[40,20845,41],256],12838:[[40,19971,41],256],12839:[[40,20843,41],256],12840:[[40,20061,41],256],12841:[[40,21313,41],256],12842:[[40,26376,41],256],12843:[[40,28779,41],256],12844:[[40,27700,41],256],12845:[[40,26408,41],256],12846:[[40,37329,41],256],12847:[[40,22303,41],256],12848:[[40,26085,41],256],12849:[[40,26666,41],256],12850:[[40,26377,41],256],12851:[[40,31038,41],256],12852:[[40,21517,41],256],12853:[[40,29305,41],256],12854:[[40,36001,41],256],12855:[[40,31069,41],256],12856:[[40,21172,41],256],12857:[[40,20195,41],256],12858:[[40,21628,41],256],12859:[[40,23398,41],256],12860:[[40,30435,41],256],12861:[[40,20225,41],256],12862:[[40,36039,41],256],12863:[[40,21332,41],256],12864:[[40,31085,41],256],12865:[[40,20241,41],256],12866:[[40,33258,41],256],12867:[[40,33267,41],256],12868:[[21839],256],12869:[[24188],256],12870:[[25991],256],12871:[[31631],256],12880:[[80,84,69],256],12881:[[50,49],256],12882:[[50,50],256],12883:[[50,51],256],12884:[[50,52],256],12885:[[50,53],256],12886:[[50,54],256],12887:[[50,55],256],12888:[[50,56],256],12889:[[50,57],256],12890:[[51,48],256],12891:[[51,49],256],12892:[[51,50],256],12893:[[51,51],256],12894:[[51,52],256],12895:[[51,53],256],12896:[[4352],256],12897:[[4354],256],12898:[[4355],256],12899:[[4357],256],12900:[[4358],256],12901:[[4359],256],12902:[[4361],256],12903:[[4363],256],12904:[[4364],256],12905:[[4366],256],12906:[[4367],256],12907:[[4368],256],12908:[[4369],256],12909:[[4370],256],12910:[[4352,4449],256],12911:[[4354,4449],256],12912:[[4355,4449],256],12913:[[4357,4449],256],12914:[[4358,4449],256],12915:[[4359,4449],256],12916:[[4361,4449],256],12917:[[4363,4449],256],12918:[[4364,4449],256],12919:[[4366,4449],256],12920:[[4367,4449],256],12921:[[4368,4449],256],12922:[[4369,4449],256],12923:[[4370,4449],256],12924:[[4366,4449,4535,4352,4457],256],12925:[[4364,4462,4363,4468],256],12926:[[4363,4462],256],12928:[[19968],256],12929:[[20108],256],12930:[[19977],256],12931:[[22235],256],12932:[[20116],256],12933:[[20845],256],12934:[[19971],256],12935:[[20843],256],12936:[[20061],256],12937:[[21313],256],12938:[[26376],256],12939:[[28779],256],12940:[[27700],256],12941:[[26408],256],12942:[[37329],256],12943:[[22303],256],12944:[[26085],256],12945:[[26666],256],12946:[[26377],256],12947:[[31038],256],12948:[[21517],256],12949:[[29305],256],12950:[[36001],256],12951:[[31069],256],12952:[[21172],256],12953:[[31192],256],12954:[[30007],256],12955:[[22899],256],12956:[[36969],256],12957:[[20778],256],12958:[[21360],256],12959:[[27880],256],12960:[[38917],256],12961:[[20241],256],12962:[[20889],256],12963:[[27491],256],12964:[[19978],256],12965:[[20013],256],12966:[[19979],256],12967:[[24038],256],12968:[[21491],256],12969:[[21307],256],12970:[[23447],256],12971:[[23398],256],12972:[[30435],256],12973:[[20225],256],12974:[[36039],256],12975:[[21332],256],12976:[[22812],256],12977:[[51,54],256],12978:[[51,55],256],12979:[[51,56],256],12980:[[51,57],256],12981:[[52,48],256],12982:[[52,49],256],12983:[[52,50],256],12984:[[52,51],256],12985:[[52,52],256],12986:[[52,53],256],12987:[[52,54],256],12988:[[52,55],256],12989:[[52,56],256],12990:[[52,57],256],12991:[[53,48],256],12992:[[49,26376],256],12993:[[50,26376],256],12994:[[51,26376],256],12995:[[52,26376],256],12996:[[53,26376],256],12997:[[54,26376],256],12998:[[55,26376],256],12999:[[56,26376],256],13e3:[[57,26376],256],13001:[[49,48,26376],256],13002:[[49,49,26376],256],13003:[[49,50,26376],256],13004:[[72,103],256],13005:[[101,114,103],256],13006:[[101,86],256],13007:[[76,84,68],256],13008:[[12450],256],13009:[[12452],256],13010:[[12454],256],13011:[[12456],256],13012:[[12458],256],13013:[[12459],256],13014:[[12461],256],13015:[[12463],256],13016:[[12465],256],13017:[[12467],256],13018:[[12469],256],13019:[[12471],256],13020:[[12473],256],13021:[[12475],256],13022:[[12477],256],13023:[[12479],256],13024:[[12481],256],13025:[[12484],256],13026:[[12486],256],13027:[[12488],256],13028:[[12490],256],13029:[[12491],256],13030:[[12492],256],13031:[[12493],256],13032:[[12494],256],13033:[[12495],256],13034:[[12498],256],13035:[[12501],256],13036:[[12504],256],13037:[[12507],256],13038:[[12510],256],13039:[[12511],256],13040:[[12512],256],13041:[[12513],256],13042:[[12514],256],13043:[[12516],256],13044:[[12518],256],13045:[[12520],256],13046:[[12521],256],13047:[[12522],256],13048:[[12523],256],13049:[[12524],256],13050:[[12525],256],13051:[[12527],256],13052:[[12528],256],13053:[[12529],256],13054:[[12530],256]},13056:{13056:[[12450,12497,12540,12488],256],13057:[[12450,12523,12501,12449],256],13058:[[12450,12531,12506,12450],256],13059:[[12450,12540,12523],256],13060:[[12452,12491,12531,12464],256],13061:[[12452,12531,12481],256],13062:[[12454,12457,12531],256],13063:[[12456,12473,12463,12540,12489],256],13064:[[12456,12540,12459,12540],256],13065:[[12458,12531,12473],256],13066:[[12458,12540,12512],256],13067:[[12459,12452,12522],256],13068:[[12459,12521,12483,12488],256],13069:[[12459,12525,12522,12540],256],13070:[[12460,12525,12531],256],13071:[[12460,12531,12510],256],13072:[[12462,12460],256],13073:[[12462,12491,12540],256],13074:[[12461,12517,12522,12540],256],13075:[[12462,12523,12480,12540],256],13076:[[12461,12525],256],13077:[[12461,12525,12464,12521,12512],256],13078:[[12461,12525,12513,12540,12488,12523],256],13079:[[12461,12525,12527,12483,12488],256],13080:[[12464,12521,12512],256],13081:[[12464,12521,12512,12488,12531],256],13082:[[12463,12523,12476,12452,12525],256],13083:[[12463,12525,12540,12493],256],13084:[[12465,12540,12473],256],13085:[[12467,12523,12490],256],13086:[[12467,12540,12509],256],13087:[[12469,12452,12463,12523],256],13088:[[12469,12531,12481,12540,12512],256],13089:[[12471,12522,12531,12464],256],13090:[[12475,12531,12481],256],13091:[[12475,12531,12488],256],13092:[[12480,12540,12473],256],13093:[[12487,12471],256],13094:[[12489,12523],256],13095:[[12488,12531],256],13096:[[12490,12494],256],13097:[[12494,12483,12488],256],13098:[[12495,12452,12484],256],13099:[[12497,12540,12475,12531,12488],256],13100:[[12497,12540,12484],256],13101:[[12496,12540,12524,12523],256],13102:[[12500,12450,12473,12488,12523],256],13103:[[12500,12463,12523],256],13104:[[12500,12467],256],13105:[[12499,12523],256],13106:[[12501,12449,12521,12483,12489],256],13107:[[12501,12451,12540,12488],256],13108:[[12502,12483,12471,12455,12523],256],13109:[[12501,12521,12531],256],13110:[[12504,12463,12479,12540,12523],256],13111:[[12506,12477],256],13112:[[12506,12491,12498],256],13113:[[12504,12523,12484],256],13114:[[12506,12531,12473],256],13115:[[12506,12540,12472],256],13116:[[12505,12540,12479],256],13117:[[12509,12452,12531,12488],256],13118:[[12508,12523,12488],256],13119:[[12507,12531],256],13120:[[12509,12531,12489],256],13121:[[12507,12540,12523],256],13122:[[12507,12540,12531],256],13123:[[12510,12452,12463,12525],256],13124:[[12510,12452,12523],256],13125:[[12510,12483,12495],256],13126:[[12510,12523,12463],256],13127:[[12510,12531,12471,12519,12531],256],13128:[[12511,12463,12525,12531],256],13129:[[12511,12522],256],13130:[[12511,12522,12496,12540,12523],256],13131:[[12513,12460],256],13132:[[12513,12460,12488,12531],256],13133:[[12513,12540,12488,12523],256],13134:[[12516,12540,12489],256],13135:[[12516,12540,12523],256],13136:[[12518,12450,12531],256],13137:[[12522,12483,12488,12523],256],13138:[[12522,12521],256],13139:[[12523,12500,12540],256],13140:[[12523,12540,12502,12523],256],13141:[[12524,12512],256],13142:[[12524,12531,12488,12466,12531],256],13143:[[12527,12483,12488],256],13144:[[48,28857],256],13145:[[49,28857],256],13146:[[50,28857],256],13147:[[51,28857],256],13148:[[52,28857],256],13149:[[53,28857],256],13150:[[54,28857],256],13151:[[55,28857],256],13152:[[56,28857],256],13153:[[57,28857],256],13154:[[49,48,28857],256],13155:[[49,49,28857],256],13156:[[49,50,28857],256],13157:[[49,51,28857],256],13158:[[49,52,28857],256],13159:[[49,53,28857],256],13160:[[49,54,28857],256],13161:[[49,55,28857],256],13162:[[49,56,28857],256],13163:[[49,57,28857],256],13164:[[50,48,28857],256],13165:[[50,49,28857],256],13166:[[50,50,28857],256],13167:[[50,51,28857],256],13168:[[50,52,28857],256],13169:[[104,80,97],256],13170:[[100,97],256],13171:[[65,85],256],13172:[[98,97,114],256],13173:[[111,86],256],13174:[[112,99],256],13175:[[100,109],256],13176:[[100,109,178],256],13177:[[100,109,179],256],13178:[[73,85],256],13179:[[24179,25104],256],13180:[[26157,21644],256],13181:[[22823,27491],256],13182:[[26126,27835],256],13183:[[26666,24335,20250,31038],256],13184:[[112,65],256],13185:[[110,65],256],13186:[[956,65],256],13187:[[109,65],256],13188:[[107,65],256],13189:[[75,66],256],13190:[[77,66],256],13191:[[71,66],256],13192:[[99,97,108],256],13193:[[107,99,97,108],256],13194:[[112,70],256],13195:[[110,70],256],13196:[[956,70],256],13197:[[956,103],256],13198:[[109,103],256],13199:[[107,103],256],13200:[[72,122],256],13201:[[107,72,122],256],13202:[[77,72,122],256],13203:[[71,72,122],256],13204:[[84,72,122],256],13205:[[956,8467],256],13206:[[109,8467],256],13207:[[100,8467],256],13208:[[107,8467],256],13209:[[102,109],256],13210:[[110,109],256],13211:[[956,109],256],13212:[[109,109],256],13213:[[99,109],256],13214:[[107,109],256],13215:[[109,109,178],256],13216:[[99,109,178],256],13217:[[109,178],256],13218:[[107,109,178],256],13219:[[109,109,179],256],13220:[[99,109,179],256],13221:[[109,179],256],13222:[[107,109,179],256],13223:[[109,8725,115],256],13224:[[109,8725,115,178],256],13225:[[80,97],256],13226:[[107,80,97],256],13227:[[77,80,97],256],13228:[[71,80,97],256],13229:[[114,97,100],256],13230:[[114,97,100,8725,115],256],13231:[[114,97,100,8725,115,178],256],13232:[[112,115],256],13233:[[110,115],256],13234:[[956,115],256],13235:[[109,115],256],13236:[[112,86],256],13237:[[110,86],256],13238:[[956,86],256],13239:[[109,86],256],13240:[[107,86],256],13241:[[77,86],256],13242:[[112,87],256],13243:[[110,87],256],13244:[[956,87],256],13245:[[109,87],256],13246:[[107,87],256],13247:[[77,87],256],13248:[[107,937],256],13249:[[77,937],256],13250:[[97,46,109,46],256],13251:[[66,113],256],13252:[[99,99],256],13253:[[99,100],256],13254:[[67,8725,107,103],256],13255:[[67,111,46],256],13256:[[100,66],256],13257:[[71,121],256],13258:[[104,97],256],13259:[[72,80],256],13260:[[105,110],256],13261:[[75,75],256],13262:[[75,77],256],13263:[[107,116],256],13264:[[108,109],256],13265:[[108,110],256],13266:[[108,111,103],256],13267:[[108,120],256],13268:[[109,98],256],13269:[[109,105,108],256],13270:[[109,111,108],256],13271:[[80,72],256],13272:[[112,46,109,46],256],13273:[[80,80,77],256],13274:[[80,82],256],13275:[[115,114],256],13276:[[83,118],256],13277:[[87,98],256],13278:[[86,8725,109],256],13279:[[65,8725,109],256],13280:[[49,26085],256],13281:[[50,26085],256],13282:[[51,26085],256],13283:[[52,26085],256],13284:[[53,26085],256],13285:[[54,26085],256],13286:[[55,26085],256],13287:[[56,26085],256],13288:[[57,26085],256],13289:[[49,48,26085],256],13290:[[49,49,26085],256],13291:[[49,50,26085],256],13292:[[49,51,26085],256],13293:[[49,52,26085],256],13294:[[49,53,26085],256],13295:[[49,54,26085],256],13296:[[49,55,26085],256],13297:[[49,56,26085],256],13298:[[49,57,26085],256],13299:[[50,48,26085],256],13300:[[50,49,26085],256],13301:[[50,50,26085],256],13302:[[50,51,26085],256],13303:[[50,52,26085],256],13304:[[50,53,26085],256],13305:[[50,54,26085],256],13306:[[50,55,26085],256],13307:[[50,56,26085],256],13308:[[50,57,26085],256],13309:[[51,48,26085],256],13310:[[51,49,26085],256],13311:[[103,97,108],256]},27136:{92912:[,1],92913:[,1],92914:[,1],92915:[,1],92916:[,1]},27392:{92976:[,230],92977:[,230],92978:[,230],92979:[,230],92980:[,230],92981:[,230],92982:[,230]},42496:{42607:[,230],42612:[,230],42613:[,230],42614:[,230],42615:[,230],42616:[,230],42617:[,230],42618:[,230],42619:[,230],42620:[,230],42621:[,230],42652:[[1098],256],42653:[[1100],256],42655:[,230],42736:[,230],42737:[,230]},42752:{42864:[[42863],256],43e3:[[294],256],43001:[[339],256]},43008:{43014:[,9],43204:[,9],43232:[,230],43233:[,230],43234:[,230],43235:[,230],43236:[,230],43237:[,230],43238:[,230],43239:[,230],43240:[,230],43241:[,230],43242:[,230],43243:[,230],43244:[,230],43245:[,230],43246:[,230],43247:[,230],43248:[,230],43249:[,230]},43264:{43307:[,220],43308:[,220],43309:[,220],43347:[,9],43443:[,7],43456:[,9]},43520:{43696:[,230],43698:[,230],43699:[,230],43700:[,220],43703:[,230],43704:[,230],43710:[,230],43711:[,230],43713:[,230],43766:[,9]},43776:{43868:[[42791],256],43869:[[43831],256],43870:[[619],256],43871:[[43858],256],44013:[,9]},48128:{113822:[,1]},53504:{119134:[[119127,119141],512],119135:[[119128,119141],512],119136:[[119135,119150],512],119137:[[119135,119151],512],119138:[[119135,119152],512],119139:[[119135,119153],512],119140:[[119135,119154],512],119141:[,216],119142:[,216],119143:[,1],119144:[,1],119145:[,1],119149:[,226],119150:[,216],119151:[,216],119152:[,216],119153:[,216],119154:[,216],119163:[,220],119164:[,220],119165:[,220],119166:[,220],119167:[,220],119168:[,220],119169:[,220],119170:[,220],119173:[,230],119174:[,230],119175:[,230],119176:[,230],119177:[,230],119178:[,220],119179:[,220],119210:[,230],119211:[,230],119212:[,230],119213:[,230],119227:[[119225,119141],512],119228:[[119226,119141],512],119229:[[119227,119150],512],119230:[[119228,119150],512],119231:[[119227,119151],512],119232:[[119228,119151],512]},53760:{119362:[,230],119363:[,230],119364:[,230]},54272:{119808:[[65],256],119809:[[66],256],119810:[[67],256],119811:[[68],256],119812:[[69],256],119813:[[70],256],119814:[[71],256],119815:[[72],256],119816:[[73],256],119817:[[74],256],119818:[[75],256],119819:[[76],256],119820:[[77],256],119821:[[78],256],119822:[[79],256],119823:[[80],256],119824:[[81],256],119825:[[82],256],119826:[[83],256],119827:[[84],256],119828:[[85],256],119829:[[86],256],119830:[[87],256],119831:[[88],256],119832:[[89],256],119833:[[90],256],119834:[[97],256],119835:[[98],256],119836:[[99],256],119837:[[100],256],119838:[[101],256],119839:[[102],256],119840:[[103],256],119841:[[104],256],119842:[[105],256],119843:[[106],256],119844:[[107],256],119845:[[108],256],119846:[[109],256],119847:[[110],256],119848:[[111],256],119849:[[112],256],119850:[[113],256],119851:[[114],256],119852:[[115],256],119853:[[116],256],119854:[[117],256],119855:[[118],256],119856:[[119],256],119857:[[120],256],119858:[[121],256],119859:[[122],256],119860:[[65],256],119861:[[66],256],119862:[[67],256],119863:[[68],256],119864:[[69],256],119865:[[70],256],119866:[[71],256],119867:[[72],256],119868:[[73],256],119869:[[74],256],119870:[[75],256],119871:[[76],256],119872:[[77],256],119873:[[78],256],119874:[[79],256],119875:[[80],256],119876:[[81],256],119877:[[82],256],119878:[[83],256],119879:[[84],256],119880:[[85],256],119881:[[86],256],119882:[[87],256],119883:[[88],256],119884:[[89],256],119885:[[90],256],119886:[[97],256],119887:[[98],256],119888:[[99],256],119889:[[100],256],119890:[[101],256],119891:[[102],256],119892:[[103],256],119894:[[105],256],119895:[[106],256],119896:[[107],256],119897:[[108],256],119898:[[109],256],119899:[[110],256],119900:[[111],256],119901:[[112],256],119902:[[113],256],119903:[[114],256],119904:[[115],256],119905:[[116],256],119906:[[117],256],119907:[[118],256],119908:[[119],256],119909:[[120],256],119910:[[121],256],119911:[[122],256],119912:[[65],256],119913:[[66],256],119914:[[67],256],119915:[[68],256],119916:[[69],256],119917:[[70],256],119918:[[71],256],119919:[[72],256],119920:[[73],256],119921:[[74],256],119922:[[75],256],119923:[[76],256],119924:[[77],256],119925:[[78],256],119926:[[79],256],119927:[[80],256],119928:[[81],256],119929:[[82],256],119930:[[83],256],119931:[[84],256],119932:[[85],256],119933:[[86],256],119934:[[87],256],119935:[[88],256],119936:[[89],256],119937:[[90],256],119938:[[97],256],119939:[[98],256],119940:[[99],256],119941:[[100],256],119942:[[101],256],119943:[[102],256],119944:[[103],256],119945:[[104],256],119946:[[105],256],119947:[[106],256],119948:[[107],256],119949:[[108],256],119950:[[109],256],119951:[[110],256],119952:[[111],256],119953:[[112],256],119954:[[113],256],119955:[[114],256],119956:[[115],256],119957:[[116],256],119958:[[117],256],119959:[[118],256],119960:[[119],256],119961:[[120],256],119962:[[121],256],119963:[[122],256],119964:[[65],256],119966:[[67],256],119967:[[68],256],119970:[[71],256],119973:[[74],256],119974:[[75],256],119977:[[78],256],119978:[[79],256],119979:[[80],256],119980:[[81],256],119982:[[83],256],119983:[[84],256],119984:[[85],256],119985:[[86],256],119986:[[87],256],119987:[[88],256],119988:[[89],256],119989:[[90],256],119990:[[97],256],119991:[[98],256],119992:[[99],256],119993:[[100],256],119995:[[102],256],119997:[[104],256],119998:[[105],256],119999:[[106],256],12e4:[[107],256],120001:[[108],256],120002:[[109],256],120003:[[110],256],120005:[[112],256],120006:[[113],256],120007:[[114],256],120008:[[115],256],120009:[[116],256],120010:[[117],256],120011:[[118],256],120012:[[119],256],120013:[[120],256],120014:[[121],256],120015:[[122],256],120016:[[65],256],120017:[[66],256],120018:[[67],256],120019:[[68],256],120020:[[69],256],120021:[[70],256],120022:[[71],256],120023:[[72],256],120024:[[73],256],120025:[[74],256],120026:[[75],256],120027:[[76],256],120028:[[77],256],120029:[[78],256],120030:[[79],256],120031:[[80],256],120032:[[81],256],120033:[[82],256],120034:[[83],256],120035:[[84],256],120036:[[85],256],120037:[[86],256],120038:[[87],256],120039:[[88],256],120040:[[89],256],120041:[[90],256],120042:[[97],256],120043:[[98],256],120044:[[99],256],120045:[[100],256],120046:[[101],256],120047:[[102],256],120048:[[103],256],120049:[[104],256],120050:[[105],256],120051:[[106],256],120052:[[107],256],120053:[[108],256],120054:[[109],256],120055:[[110],256],120056:[[111],256],120057:[[112],256],120058:[[113],256],120059:[[114],256],120060:[[115],256],120061:[[116],256],120062:[[117],256],120063:[[118],256]},54528:{120064:[[119],256],120065:[[120],256],120066:[[121],256],120067:[[122],256],120068:[[65],256],120069:[[66],256],120071:[[68],256],120072:[[69],256],120073:[[70],256],120074:[[71],256],120077:[[74],256],120078:[[75],256],120079:[[76],256],120080:[[77],256],120081:[[78],256],120082:[[79],256],120083:[[80],256],120084:[[81],256],120086:[[83],256],120087:[[84],256],120088:[[85],256],120089:[[86],256],120090:[[87],256],120091:[[88],256],120092:[[89],256],120094:[[97],256],120095:[[98],256],120096:[[99],256],120097:[[100],256],120098:[[101],256],120099:[[102],256],120100:[[103],256],120101:[[104],256],120102:[[105],256],120103:[[106],256],120104:[[107],256],120105:[[108],256],120106:[[109],256],120107:[[110],256],120108:[[111],256],120109:[[112],256],120110:[[113],256],120111:[[114],256],120112:[[115],256],120113:[[116],256],120114:[[117],256],120115:[[118],256],120116:[[119],256],120117:[[120],256],120118:[[121],256],120119:[[122],256],120120:[[65],256],120121:[[66],256],120123:[[68],256],120124:[[69],256],120125:[[70],256],120126:[[71],256],120128:[[73],256],120129:[[74],256],120130:[[75],256],120131:[[76],256],120132:[[77],256],120134:[[79],256],120138:[[83],256],120139:[[84],256],120140:[[85],256],120141:[[86],256],120142:[[87],256],120143:[[88],256],120144:[[89],256],120146:[[97],256],120147:[[98],256],120148:[[99],256],120149:[[100],256],120150:[[101],256],120151:[[102],256],120152:[[103],256],120153:[[104],256],120154:[[105],256],120155:[[106],256],120156:[[107],256],120157:[[108],256],120158:[[109],256],120159:[[110],256],120160:[[111],256],120161:[[112],256],120162:[[113],256],120163:[[114],256],120164:[[115],256],120165:[[116],256],120166:[[117],256],120167:[[118],256],120168:[[119],256],120169:[[120],256],120170:[[121],256],120171:[[122],256],120172:[[65],256],120173:[[66],256],120174:[[67],256],120175:[[68],256],120176:[[69],256],120177:[[70],256],120178:[[71],256],120179:[[72],256],120180:[[73],256],120181:[[74],256],120182:[[75],256],120183:[[76],256],120184:[[77],256],120185:[[78],256],120186:[[79],256],120187:[[80],256],120188:[[81],256],120189:[[82],256],120190:[[83],256],120191:[[84],256],120192:[[85],256],120193:[[86],256],120194:[[87],256],120195:[[88],256],120196:[[89],256],120197:[[90],256],120198:[[97],256],120199:[[98],256],120200:[[99],256],120201:[[100],256],120202:[[101],256],120203:[[102],256],120204:[[103],256],120205:[[104],256],120206:[[105],256],120207:[[106],256],120208:[[107],256],120209:[[108],256],120210:[[109],256],120211:[[110],256],120212:[[111],256],120213:[[112],256],120214:[[113],256],120215:[[114],256],120216:[[115],256],120217:[[116],256],120218:[[117],256],120219:[[118],256],120220:[[119],256],120221:[[120],256],120222:[[121],256],120223:[[122],256],120224:[[65],256],120225:[[66],256],120226:[[67],256],120227:[[68],256],120228:[[69],256],120229:[[70],256],120230:[[71],256],120231:[[72],256],120232:[[73],256],120233:[[74],256],120234:[[75],256],120235:[[76],256],120236:[[77],256],120237:[[78],256],120238:[[79],256],120239:[[80],256],120240:[[81],256],120241:[[82],256],120242:[[83],256],120243:[[84],256],120244:[[85],256],120245:[[86],256],120246:[[87],256],120247:[[88],256],120248:[[89],256],120249:[[90],256],120250:[[97],256],120251:[[98],256],120252:[[99],256],120253:[[100],256],120254:[[101],256],120255:[[102],256],120256:[[103],256],120257:[[104],256],120258:[[105],256],120259:[[106],256],120260:[[107],256],120261:[[108],256],120262:[[109],256],120263:[[110],256],120264:[[111],256],120265:[[112],256],120266:[[113],256],120267:[[114],256],120268:[[115],256],120269:[[116],256],120270:[[117],256],120271:[[118],256],120272:[[119],256],120273:[[120],256],120274:[[121],256],120275:[[122],256],120276:[[65],256],120277:[[66],256],120278:[[67],256],120279:[[68],256],120280:[[69],256],120281:[[70],256],120282:[[71],256],120283:[[72],256],120284:[[73],256],120285:[[74],256],120286:[[75],256],120287:[[76],256],120288:[[77],256],120289:[[78],256],120290:[[79],256],120291:[[80],256],120292:[[81],256],120293:[[82],256],120294:[[83],256],120295:[[84],256],120296:[[85],256],120297:[[86],256],120298:[[87],256],120299:[[88],256],120300:[[89],256],120301:[[90],256],120302:[[97],256],120303:[[98],256],120304:[[99],256],120305:[[100],256],120306:[[101],256],120307:[[102],256],120308:[[103],256],120309:[[104],256],120310:[[105],256],120311:[[106],256],120312:[[107],256],120313:[[108],256],120314:[[109],256],120315:[[110],256],120316:[[111],256],120317:[[112],256],120318:[[113],256],120319:[[114],256]},54784:{120320:[[115],256],120321:[[116],256],120322:[[117],256],120323:[[118],256],120324:[[119],256],120325:[[120],256],120326:[[121],256],120327:[[122],256],120328:[[65],256],120329:[[66],256],120330:[[67],256],120331:[[68],256],120332:[[69],256],120333:[[70],256],120334:[[71],256],120335:[[72],256],120336:[[73],256],120337:[[74],256],120338:[[75],256],120339:[[76],256],120340:[[77],256],120341:[[78],256],120342:[[79],256],120343:[[80],256],120344:[[81],256],120345:[[82],256],120346:[[83],256],120347:[[84],256],120348:[[85],256],120349:[[86],256],120350:[[87],256],120351:[[88],256],120352:[[89],256],120353:[[90],256],120354:[[97],256],120355:[[98],256],120356:[[99],256],120357:[[100],256],120358:[[101],256],120359:[[102],256],120360:[[103],256],120361:[[104],256],120362:[[105],256],120363:[[106],256],120364:[[107],256],120365:[[108],256],120366:[[109],256],120367:[[110],256],120368:[[111],256],120369:[[112],256],120370:[[113],256],120371:[[114],256],120372:[[115],256],120373:[[116],256],120374:[[117],256],120375:[[118],256],120376:[[119],256],120377:[[120],256],120378:[[121],256],120379:[[122],256],120380:[[65],256],120381:[[66],256],120382:[[67],256],120383:[[68],256],120384:[[69],256],120385:[[70],256],120386:[[71],256],120387:[[72],256],120388:[[73],256],120389:[[74],256],120390:[[75],256],120391:[[76],256],120392:[[77],256],120393:[[78],256],120394:[[79],256],120395:[[80],256],120396:[[81],256],120397:[[82],256],120398:[[83],256],120399:[[84],256],120400:[[85],256],120401:[[86],256],120402:[[87],256],120403:[[88],256],120404:[[89],256],120405:[[90],256],120406:[[97],256],120407:[[98],256],120408:[[99],256],120409:[[100],256],120410:[[101],256],120411:[[102],256],120412:[[103],256],120413:[[104],256],120414:[[105],256],120415:[[106],256],120416:[[107],256],120417:[[108],256],120418:[[109],256],120419:[[110],256],120420:[[111],256],120421:[[112],256],120422:[[113],256],120423:[[114],256],120424:[[115],256],120425:[[116],256],120426:[[117],256],120427:[[118],256],120428:[[119],256],120429:[[120],256],120430:[[121],256],120431:[[122],256],120432:[[65],256],120433:[[66],256],120434:[[67],256],120435:[[68],256],120436:[[69],256],120437:[[70],256],120438:[[71],256],120439:[[72],256],120440:[[73],256],120441:[[74],256],120442:[[75],256],120443:[[76],256],120444:[[77],256],120445:[[78],256],120446:[[79],256],120447:[[80],256],120448:[[81],256],120449:[[82],256],120450:[[83],256],120451:[[84],256],120452:[[85],256],120453:[[86],256],120454:[[87],256],120455:[[88],256],120456:[[89],256],120457:[[90],256],120458:[[97],256],120459:[[98],256],120460:[[99],256],120461:[[100],256],120462:[[101],256],120463:[[102],256],120464:[[103],256],120465:[[104],256],120466:[[105],256],120467:[[106],256],120468:[[107],256],120469:[[108],256],120470:[[109],256],120471:[[110],256],120472:[[111],256],120473:[[112],256],120474:[[113],256],120475:[[114],256],120476:[[115],256],120477:[[116],256],120478:[[117],256],120479:[[118],256],120480:[[119],256],120481:[[120],256],120482:[[121],256],120483:[[122],256],120484:[[305],256],120485:[[567],256],120488:[[913],256],120489:[[914],256],120490:[[915],256],120491:[[916],256],120492:[[917],256],120493:[[918],256],120494:[[919],256],120495:[[920],256],120496:[[921],256],120497:[[922],256],120498:[[923],256],120499:[[924],256],120500:[[925],256],120501:[[926],256],120502:[[927],256],120503:[[928],256],120504:[[929],256],120505:[[1012],256],120506:[[931],256],120507:[[932],256],120508:[[933],256],120509:[[934],256],120510:[[935],256],120511:[[936],256],120512:[[937],256],120513:[[8711],256],120514:[[945],256],120515:[[946],256],120516:[[947],256],120517:[[948],256],120518:[[949],256],120519:[[950],256],120520:[[951],256],120521:[[952],256],120522:[[953],256],120523:[[954],256],120524:[[955],256],120525:[[956],256],120526:[[957],256],120527:[[958],256],120528:[[959],256],120529:[[960],256],120530:[[961],256],120531:[[962],256],120532:[[963],256],120533:[[964],256],120534:[[965],256],120535:[[966],256],120536:[[967],256],120537:[[968],256],120538:[[969],256],120539:[[8706],256],120540:[[1013],256],120541:[[977],256],120542:[[1008],256],120543:[[981],256],120544:[[1009],256],120545:[[982],256],120546:[[913],256],120547:[[914],256],120548:[[915],256],120549:[[916],256],120550:[[917],256],120551:[[918],256],120552:[[919],256],120553:[[920],256],120554:[[921],256],120555:[[922],256],120556:[[923],256],120557:[[924],256],120558:[[925],256],120559:[[926],256],120560:[[927],256],120561:[[928],256],120562:[[929],256],120563:[[1012],256],120564:[[931],256],120565:[[932],256],120566:[[933],256],120567:[[934],256],120568:[[935],256],120569:[[936],256],120570:[[937],256],120571:[[8711],256],120572:[[945],256],120573:[[946],256],120574:[[947],256],120575:[[948],256]},55040:{120576:[[949],256],120577:[[950],256],120578:[[951],256],120579:[[952],256],120580:[[953],256],120581:[[954],256],120582:[[955],256],120583:[[956],256],120584:[[957],256],120585:[[958],256],120586:[[959],256],120587:[[960],256],120588:[[961],256],120589:[[962],256],120590:[[963],256],120591:[[964],256],120592:[[965],256],120593:[[966],256],120594:[[967],256],120595:[[968],256],120596:[[969],256],120597:[[8706],256],120598:[[1013],256],120599:[[977],256],120600:[[1008],256],120601:[[981],256],120602:[[1009],256],120603:[[982],256],120604:[[913],256],120605:[[914],256],120606:[[915],256],120607:[[916],256],120608:[[917],256],120609:[[918],256],120610:[[919],256],120611:[[920],256],120612:[[921],256],120613:[[922],256],120614:[[923],256],120615:[[924],256],120616:[[925],256],120617:[[926],256],120618:[[927],256],120619:[[928],256],120620:[[929],256],120621:[[1012],256],120622:[[931],256],120623:[[932],256],120624:[[933],256],120625:[[934],256],120626:[[935],256],120627:[[936],256],120628:[[937],256],120629:[[8711],256],120630:[[945],256],120631:[[946],256],120632:[[947],256],120633:[[948],256],120634:[[949],256],120635:[[950],256],120636:[[951],256],120637:[[952],256],120638:[[953],256],120639:[[954],256],120640:[[955],256],120641:[[956],256],120642:[[957],256],120643:[[958],256],120644:[[959],256],120645:[[960],256],120646:[[961],256],120647:[[962],256],120648:[[963],256],120649:[[964],256],120650:[[965],256],120651:[[966],256],120652:[[967],256],120653:[[968],256],120654:[[969],256],120655:[[8706],256],120656:[[1013],256],120657:[[977],256],120658:[[1008],256],120659:[[981],256],120660:[[1009],256],120661:[[982],256],120662:[[913],256],120663:[[914],256],120664:[[915],256],120665:[[916],256],120666:[[917],256],120667:[[918],256],120668:[[919],256],120669:[[920],256],120670:[[921],256],120671:[[922],256],120672:[[923],256],120673:[[924],256],120674:[[925],256],120675:[[926],256],120676:[[927],256],120677:[[928],256],120678:[[929],256],120679:[[1012],256],120680:[[931],256],120681:[[932],256],120682:[[933],256],120683:[[934],256],120684:[[935],256],120685:[[936],256],120686:[[937],256],120687:[[8711],256],120688:[[945],256],120689:[[946],256],120690:[[947],256],120691:[[948],256],120692:[[949],256],120693:[[950],256],120694:[[951],256],120695:[[952],256],120696:[[953],256],120697:[[954],256],120698:[[955],256],120699:[[956],256],120700:[[957],256],120701:[[958],256],120702:[[959],256],120703:[[960],256],120704:[[961],256],120705:[[962],256],120706:[[963],256],120707:[[964],256],120708:[[965],256],120709:[[966],256],120710:[[967],256],120711:[[968],256],120712:[[969],256],120713:[[8706],256],120714:[[1013],256],120715:[[977],256],120716:[[1008],256],120717:[[981],256],120718:[[1009],256],120719:[[982],256],120720:[[913],256],120721:[[914],256],120722:[[915],256],120723:[[916],256],120724:[[917],256],120725:[[918],256],120726:[[919],256],120727:[[920],256],120728:[[921],256],120729:[[922],256],120730:[[923],256],120731:[[924],256],120732:[[925],256],120733:[[926],256],120734:[[927],256],120735:[[928],256],120736:[[929],256],120737:[[1012],256],120738:[[931],256],120739:[[932],256],120740:[[933],256],120741:[[934],256],120742:[[935],256],120743:[[936],256],120744:[[937],256],120745:[[8711],256],120746:[[945],256],120747:[[946],256],120748:[[947],256],120749:[[948],256],120750:[[949],256],120751:[[950],256],120752:[[951],256],120753:[[952],256],120754:[[953],256],120755:[[954],256],120756:[[955],256],120757:[[956],256],120758:[[957],256],120759:[[958],256],120760:[[959],256],120761:[[960],256],120762:[[961],256],120763:[[962],256],120764:[[963],256],120765:[[964],256],120766:[[965],256],120767:[[966],256],120768:[[967],256],120769:[[968],256],120770:[[969],256],120771:[[8706],256],120772:[[1013],256],120773:[[977],256],120774:[[1008],256],120775:[[981],256],120776:[[1009],256],120777:[[982],256],120778:[[988],256],120779:[[989],256],120782:[[48],256],120783:[[49],256],120784:[[50],256],120785:[[51],256],120786:[[52],256],120787:[[53],256],120788:[[54],256],120789:[[55],256],120790:[[56],256],120791:[[57],256],120792:[[48],256],120793:[[49],256],120794:[[50],256],120795:[[51],256],120796:[[52],256],120797:[[53],256],120798:[[54],256],120799:[[55],256],120800:[[56],256],120801:[[57],256],120802:[[48],256],120803:[[49],256],120804:[[50],256],120805:[[51],256],120806:[[52],256],120807:[[53],256],120808:[[54],256],120809:[[55],256],120810:[[56],256],120811:[[57],256],120812:[[48],256],120813:[[49],256],120814:[[50],256],120815:[[51],256],120816:[[52],256],120817:[[53],256],120818:[[54],256],120819:[[55],256],120820:[[56],256],120821:[[57],256],120822:[[48],256],120823:[[49],256],120824:[[50],256],120825:[[51],256],120826:[[52],256],120827:[[53],256],120828:[[54],256],120829:[[55],256],120830:[[56],256],120831:[[57],256]},59392:{125136:[,220],125137:[,220],125138:[,220],125139:[,220],125140:[,220],125141:[,220],125142:[,220]},60928:{126464:[[1575],256],126465:[[1576],256],126466:[[1580],256],126467:[[1583],256],126469:[[1608],256],126470:[[1586],256],126471:[[1581],256],126472:[[1591],256],126473:[[1610],256],126474:[[1603],256],126475:[[1604],256],126476:[[1605],256],126477:[[1606],256],126478:[[1587],256],126479:[[1593],256],126480:[[1601],256],126481:[[1589],256],126482:[[1602],256],126483:[[1585],256],126484:[[1588],256],126485:[[1578],256],126486:[[1579],256],126487:[[1582],256],126488:[[1584],256],126489:[[1590],256],126490:[[1592],256],126491:[[1594],256],126492:[[1646],256],126493:[[1722],256],126494:[[1697],256],126495:[[1647],256],126497:[[1576],256],126498:[[1580],256],126500:[[1607],256],126503:[[1581],256],126505:[[1610],256],126506:[[1603],256],126507:[[1604],256],126508:[[1605],256],126509:[[1606],256],126510:[[1587],256],126511:[[1593],256],126512:[[1601],256],126513:[[1589],256],126514:[[1602],256],126516:[[1588],256],126517:[[1578],256],126518:[[1579],256],126519:[[1582],256],126521:[[1590],256],126523:[[1594],256],126530:[[1580],256],126535:[[1581],256],126537:[[1610],256],126539:[[1604],256],126541:[[1606],256],126542:[[1587],256],126543:[[1593],256],126545:[[1589],256],126546:[[1602],256],126548:[[1588],256],126551:[[1582],256],126553:[[1590],256],126555:[[1594],256],126557:[[1722],256],126559:[[1647],256],126561:[[1576],256],126562:[[1580],256],126564:[[1607],256],126567:[[1581],256],126568:[[1591],256],126569:[[1610],256],126570:[[1603],256],126572:[[1605],256],126573:[[1606],256],126574:[[1587],256],126575:[[1593],256],126576:[[1601],256],126577:[[1589],256],126578:[[1602],256],126580:[[1588],256],126581:[[1578],256],126582:[[1579],256],126583:[[1582],256],126585:[[1590],256],126586:[[1592],256],126587:[[1594],256],126588:[[1646],256],126590:[[1697],256],126592:[[1575],256],126593:[[1576],256],126594:[[1580],256],126595:[[1583],256],126596:[[1607],256],126597:[[1608],256],126598:[[1586],256],126599:[[1581],256],126600:[[1591],256],126601:[[1610],256],126603:[[1604],256],126604:[[1605],256],126605:[[1606],256],126606:[[1587],256],126607:[[1593],256],126608:[[1601],256],126609:[[1589],256],126610:[[1602],256],126611:[[1585],256],126612:[[1588],256],126613:[[1578],256],126614:[[1579],256],126615:[[1582],256],126616:[[1584],256],126617:[[1590],256],126618:[[1592],256],126619:[[1594],256],126625:[[1576],256],126626:[[1580],256],126627:[[1583],256],126629:[[1608],256],126630:[[1586],256],126631:[[1581],256],126632:[[1591],256],126633:[[1610],256],126635:[[1604],256],126636:[[1605],256],126637:[[1606],256],126638:[[1587],256],126639:[[1593],256],126640:[[1601],256],126641:[[1589],256],126642:[[1602],256],126643:[[1585],256],126644:[[1588],256],126645:[[1578],256],126646:[[1579],256],126647:[[1582],256],126648:[[1584],256],126649:[[1590],256],126650:[[1592],256],126651:[[1594],256]},61696:{127232:[[48,46],256],127233:[[48,44],256],127234:[[49,44],256],127235:[[50,44],256],127236:[[51,44],256],127237:[[52,44],256],127238:[[53,44],256],127239:[[54,44],256],127240:[[55,44],256],127241:[[56,44],256],127242:[[57,44],256],127248:[[40,65,41],256],127249:[[40,66,41],256],127250:[[40,67,41],256],127251:[[40,68,41],256],127252:[[40,69,41],256],127253:[[40,70,41],256],127254:[[40,71,41],256],127255:[[40,72,41],256],127256:[[40,73,41],256],127257:[[40,74,41],256],127258:[[40,75,41],256],127259:[[40,76,41],256],127260:[[40,77,41],256],127261:[[40,78,41],256],127262:[[40,79,41],256],127263:[[40,80,41],256],127264:[[40,81,41],256],127265:[[40,82,41],256],127266:[[40,83,41],256],127267:[[40,84,41],256],127268:[[40,85,41],256],127269:[[40,86,41],256],127270:[[40,87,41],256],127271:[[40,88,41],256],127272:[[40,89,41],256],127273:[[40,90,41],256],127274:[[12308,83,12309],256],127275:[[67],256],127276:[[82],256],127277:[[67,68],256],127278:[[87,90],256],127280:[[65],256],127281:[[66],256],127282:[[67],256],127283:[[68],256],127284:[[69],256],127285:[[70],256],127286:[[71],256],127287:[[72],256],127288:[[73],256],127289:[[74],256],127290:[[75],256],127291:[[76],256],127292:[[77],256],127293:[[78],256],127294:[[79],256],127295:[[80],256],127296:[[81],256],127297:[[82],256],127298:[[83],256],127299:[[84],256],127300:[[85],256],127301:[[86],256],127302:[[87],256],127303:[[88],256],127304:[[89],256],127305:[[90],256],127306:[[72,86],256],127307:[[77,86],256],127308:[[83,68],256],127309:[[83,83],256],127310:[[80,80,86],256],127311:[[87,67],256],127338:[[77,67],256],127339:[[77,68],256],127376:[[68,74],256]},61952:{127488:[[12411,12363],256],127489:[[12467,12467],256],127490:[[12469],256],127504:[[25163],256],127505:[[23383],256],127506:[[21452],256],127507:[[12487],256],127508:[[20108],256],127509:[[22810],256],127510:[[35299],256],127511:[[22825],256],127512:[[20132],256],127513:[[26144],256],127514:[[28961],256],127515:[[26009],256],127516:[[21069],256],127517:[[24460],256],127518:[[20877],256],127519:[[26032],256],127520:[[21021],256],127521:[[32066],256],127522:[[29983],256],127523:[[36009],256],127524:[[22768],256],127525:[[21561],256],127526:[[28436],256],127527:[[25237],256],127528:[[25429],256],127529:[[19968],256],127530:[[19977],256],127531:[[36938],256],127532:[[24038],256],127533:[[20013],256],127534:[[21491],256],127535:[[25351],256],127536:[[36208],256],127537:[[25171],256],127538:[[31105],256],127539:[[31354],256],127540:[[21512],256],127541:[[28288],256],127542:[[26377],256],127543:[[26376],256],127544:[[30003],256],127545:[[21106],256],127546:[[21942],256],127552:[[12308,26412,12309],256],127553:[[12308,19977,12309],256],127554:[[12308,20108,12309],256],127555:[[12308,23433,12309],256],127556:[[12308,28857,12309],256],127557:[[12308,25171,12309],256],127558:[[12308,30423,12309],256],127559:[[12308,21213,12309],256],127560:[[12308,25943,12309],256],127568:[[24471],256],127569:[[21487],256]},63488:{194560:[[20029]],194561:[[20024]],194562:[[20033]],194563:[[131362]],194564:[[20320]],194565:[[20398]],194566:[[20411]],194567:[[20482]],194568:[[20602]],194569:[[20633]],194570:[[20711]],194571:[[20687]],194572:[[13470]],194573:[[132666]],194574:[[20813]],194575:[[20820]],194576:[[20836]],194577:[[20855]],194578:[[132380]],194579:[[13497]],194580:[[20839]],194581:[[20877]],194582:[[132427]],194583:[[20887]],194584:[[20900]],194585:[[20172]],194586:[[20908]],194587:[[20917]],194588:[[168415]],194589:[[20981]],194590:[[20995]],194591:[[13535]],194592:[[21051]],194593:[[21062]],194594:[[21106]],194595:[[21111]],194596:[[13589]],194597:[[21191]],194598:[[21193]],194599:[[21220]],194600:[[21242]],194601:[[21253]],194602:[[21254]],194603:[[21271]],194604:[[21321]],194605:[[21329]],194606:[[21338]],194607:[[21363]],194608:[[21373]],194609:[[21375]],194610:[[21375]],194611:[[21375]],194612:[[133676]],194613:[[28784]],194614:[[21450]],194615:[[21471]],194616:[[133987]],194617:[[21483]],194618:[[21489]],194619:[[21510]],194620:[[21662]],194621:[[21560]],194622:[[21576]],194623:[[21608]],194624:[[21666]],194625:[[21750]],194626:[[21776]],194627:[[21843]],194628:[[21859]],194629:[[21892]],194630:[[21892]],194631:[[21913]],194632:[[21931]],194633:[[21939]],194634:[[21954]],194635:[[22294]],194636:[[22022]],194637:[[22295]],194638:[[22097]],194639:[[22132]],194640:[[20999]],194641:[[22766]],194642:[[22478]],194643:[[22516]],194644:[[22541]],194645:[[22411]],194646:[[22578]],194647:[[22577]],194648:[[22700]],194649:[[136420]],194650:[[22770]],194651:[[22775]],194652:[[22790]],194653:[[22810]],194654:[[22818]],194655:[[22882]],194656:[[136872]],194657:[[136938]],194658:[[23020]],194659:[[23067]],194660:[[23079]],194661:[[23e3]],194662:[[23142]],194663:[[14062]],194664:[[14076]],194665:[[23304]],194666:[[23358]],194667:[[23358]],194668:[[137672]],194669:[[23491]],194670:[[23512]],194671:[[23527]],194672:[[23539]],194673:[[138008]],194674:[[23551]],194675:[[23558]],194676:[[24403]],194677:[[23586]],194678:[[14209]],194679:[[23648]],194680:[[23662]],194681:[[23744]],194682:[[23693]],194683:[[138724]],194684:[[23875]],194685:[[138726]],194686:[[23918]],194687:[[23915]],194688:[[23932]],194689:[[24033]],194690:[[24034]],194691:[[14383]],194692:[[24061]],194693:[[24104]],194694:[[24125]],194695:[[24169]],194696:[[14434]],194697:[[139651]],194698:[[14460]],194699:[[24240]],194700:[[24243]],194701:[[24246]],194702:[[24266]],194703:[[172946]],194704:[[24318]],194705:[[140081]],194706:[[140081]],194707:[[33281]],194708:[[24354]],194709:[[24354]],194710:[[14535]],194711:[[144056]],194712:[[156122]],194713:[[24418]],194714:[[24427]],194715:[[14563]],194716:[[24474]],194717:[[24525]],194718:[[24535]],194719:[[24569]],194720:[[24705]],194721:[[14650]],194722:[[14620]],194723:[[24724]],194724:[[141012]],194725:[[24775]],194726:[[24904]],194727:[[24908]],194728:[[24910]],194729:[[24908]],194730:[[24954]],194731:[[24974]],194732:[[25010]],194733:[[24996]],194734:[[25007]],194735:[[25054]],194736:[[25074]],194737:[[25078]],194738:[[25104]],194739:[[25115]],194740:[[25181]],194741:[[25265]],194742:[[25300]],194743:[[25424]],194744:[[142092]],194745:[[25405]],194746:[[25340]],194747:[[25448]],194748:[[25475]],194749:[[25572]],194750:[[142321]],194751:[[25634]],194752:[[25541]],194753:[[25513]],194754:[[14894]],194755:[[25705]],194756:[[25726]],194757:[[25757]],194758:[[25719]],194759:[[14956]],194760:[[25935]],194761:[[25964]],194762:[[143370]],194763:[[26083]],194764:[[26360]],194765:[[26185]],194766:[[15129]],194767:[[26257]],194768:[[15112]],194769:[[15076]],194770:[[20882]],194771:[[20885]],194772:[[26368]],194773:[[26268]],194774:[[32941]],194775:[[17369]],194776:[[26391]],194777:[[26395]],194778:[[26401]],194779:[[26462]],194780:[[26451]],194781:[[144323]],194782:[[15177]],194783:[[26618]],194784:[[26501]],194785:[[26706]],194786:[[26757]],194787:[[144493]],194788:[[26766]],194789:[[26655]],194790:[[26900]],194791:[[15261]],194792:[[26946]],194793:[[27043]],194794:[[27114]],194795:[[27304]],194796:[[145059]],194797:[[27355]],194798:[[15384]],194799:[[27425]],194800:[[145575]],194801:[[27476]],194802:[[15438]],194803:[[27506]],194804:[[27551]],194805:[[27578]],194806:[[27579]],194807:[[146061]],194808:[[138507]],194809:[[146170]],194810:[[27726]],194811:[[146620]],194812:[[27839]],194813:[[27853]],194814:[[27751]],194815:[[27926]]},63744:{63744:[[35912]],63745:[[26356]],63746:[[36554]],63747:[[36040]],63748:[[28369]],63749:[[20018]],63750:[[21477]],63751:[[40860]],63752:[[40860]],63753:[[22865]],63754:[[37329]],63755:[[21895]],63756:[[22856]],63757:[[25078]],63758:[[30313]],63759:[[32645]],63760:[[34367]],63761:[[34746]],63762:[[35064]],63763:[[37007]],63764:[[27138]],63765:[[27931]],63766:[[28889]],63767:[[29662]],63768:[[33853]],63769:[[37226]],63770:[[39409]],63771:[[20098]],63772:[[21365]],63773:[[27396]],63774:[[29211]],63775:[[34349]],63776:[[40478]],63777:[[23888]],63778:[[28651]],63779:[[34253]],63780:[[35172]],63781:[[25289]],63782:[[33240]],63783:[[34847]],63784:[[24266]],63785:[[26391]],63786:[[28010]],63787:[[29436]],63788:[[37070]],63789:[[20358]],63790:[[20919]],63791:[[21214]],63792:[[25796]],63793:[[27347]],63794:[[29200]],63795:[[30439]],63796:[[32769]],63797:[[34310]],63798:[[34396]],63799:[[36335]],63800:[[38706]],63801:[[39791]],63802:[[40442]],63803:[[30860]],63804:[[31103]],63805:[[32160]],63806:[[33737]],63807:[[37636]],63808:[[40575]],63809:[[35542]],63810:[[22751]],63811:[[24324]],63812:[[31840]],63813:[[32894]],63814:[[29282]],63815:[[30922]],63816:[[36034]],63817:[[38647]],63818:[[22744]],63819:[[23650]],63820:[[27155]],63821:[[28122]],63822:[[28431]],63823:[[32047]],63824:[[32311]],63825:[[38475]],63826:[[21202]],63827:[[32907]],63828:[[20956]],63829:[[20940]],63830:[[31260]],63831:[[32190]],63832:[[33777]],63833:[[38517]],63834:[[35712]],63835:[[25295]],63836:[[27138]],63837:[[35582]],63838:[[20025]],63839:[[23527]],63840:[[24594]],63841:[[29575]],63842:[[30064]],63843:[[21271]],63844:[[30971]],63845:[[20415]],63846:[[24489]],63847:[[19981]],63848:[[27852]],63849:[[25976]],63850:[[32034]],63851:[[21443]],63852:[[22622]],63853:[[30465]],63854:[[33865]],63855:[[35498]],63856:[[27578]],63857:[[36784]],63858:[[27784]],63859:[[25342]],63860:[[33509]],63861:[[25504]],63862:[[30053]],63863:[[20142]],63864:[[20841]],63865:[[20937]],63866:[[26753]],63867:[[31975]],63868:[[33391]],63869:[[35538]],63870:[[37327]],63871:[[21237]],63872:[[21570]],63873:[[22899]],63874:[[24300]],63875:[[26053]],63876:[[28670]],63877:[[31018]],63878:[[38317]],63879:[[39530]],63880:[[40599]],63881:[[40654]],63882:[[21147]],63883:[[26310]],63884:[[27511]],63885:[[36706]],63886:[[24180]],63887:[[24976]],63888:[[25088]],63889:[[25754]],63890:[[28451]],63891:[[29001]],63892:[[29833]],63893:[[31178]],63894:[[32244]],63895:[[32879]],63896:[[36646]],63897:[[34030]],63898:[[36899]],63899:[[37706]],63900:[[21015]],63901:[[21155]],63902:[[21693]],63903:[[28872]],63904:[[35010]],63905:[[35498]],63906:[[24265]],63907:[[24565]],63908:[[25467]],63909:[[27566]],63910:[[31806]],63911:[[29557]],63912:[[20196]],63913:[[22265]],63914:[[23527]],63915:[[23994]],63916:[[24604]],63917:[[29618]],63918:[[29801]],63919:[[32666]],63920:[[32838]],63921:[[37428]],63922:[[38646]],63923:[[38728]],63924:[[38936]],63925:[[20363]],63926:[[31150]],63927:[[37300]],63928:[[38584]],63929:[[24801]],63930:[[20102]],63931:[[20698]],63932:[[23534]],63933:[[23615]],63934:[[26009]],63935:[[27138]],63936:[[29134]],63937:[[30274]],63938:[[34044]],63939:[[36988]],63940:[[40845]],63941:[[26248]],63942:[[38446]],63943:[[21129]],63944:[[26491]],63945:[[26611]],63946:[[27969]],63947:[[28316]],63948:[[29705]],63949:[[30041]],63950:[[30827]],63951:[[32016]],63952:[[39006]],63953:[[20845]],63954:[[25134]],63955:[[38520]],63956:[[20523]],63957:[[23833]],63958:[[28138]],63959:[[36650]],63960:[[24459]],63961:[[24900]],63962:[[26647]],63963:[[29575]],63964:[[38534]],63965:[[21033]],63966:[[21519]],63967:[[23653]],63968:[[26131]],63969:[[26446]],63970:[[26792]],63971:[[27877]],63972:[[29702]],63973:[[30178]],63974:[[32633]],63975:[[35023]],63976:[[35041]],63977:[[37324]],63978:[[38626]],63979:[[21311]],63980:[[28346]],63981:[[21533]],63982:[[29136]],63983:[[29848]],63984:[[34298]],63985:[[38563]],63986:[[40023]],63987:[[40607]],63988:[[26519]],63989:[[28107]],63990:[[33256]],63991:[[31435]],63992:[[31520]],63993:[[31890]],63994:[[29376]],63995:[[28825]],63996:[[35672]],63997:[[20160]],63998:[[33590]],63999:[[21050]],194816:[[27966]],194817:[[28023]],194818:[[27969]],194819:[[28009]],194820:[[28024]],194821:[[28037]],194822:[[146718]],194823:[[27956]],194824:[[28207]],194825:[[28270]],194826:[[15667]],194827:[[28363]],194828:[[28359]],194829:[[147153]],194830:[[28153]],194831:[[28526]],194832:[[147294]],194833:[[147342]],194834:[[28614]],194835:[[28729]],194836:[[28702]],194837:[[28699]],194838:[[15766]],194839:[[28746]],194840:[[28797]],194841:[[28791]],194842:[[28845]],194843:[[132389]],194844:[[28997]],194845:[[148067]],194846:[[29084]],194847:[[148395]],194848:[[29224]],194849:[[29237]],194850:[[29264]],194851:[[149e3]],194852:[[29312]],194853:[[29333]],194854:[[149301]],194855:[[149524]],194856:[[29562]],194857:[[29579]],194858:[[16044]],194859:[[29605]],194860:[[16056]],194861:[[16056]],194862:[[29767]],194863:[[29788]],194864:[[29809]],194865:[[29829]],194866:[[29898]],194867:[[16155]],194868:[[29988]],194869:[[150582]],194870:[[30014]],194871:[[150674]],194872:[[30064]],194873:[[139679]],194874:[[30224]],194875:[[151457]],194876:[[151480]],194877:[[151620]],194878:[[16380]],194879:[[16392]],194880:[[30452]],194881:[[151795]],194882:[[151794]],194883:[[151833]],194884:[[151859]],194885:[[30494]],194886:[[30495]],194887:[[30495]],194888:[[30538]],194889:[[16441]],194890:[[30603]],194891:[[16454]],194892:[[16534]],194893:[[152605]],194894:[[30798]],194895:[[30860]],194896:[[30924]],194897:[[16611]],194898:[[153126]],194899:[[31062]],194900:[[153242]],194901:[[153285]],194902:[[31119]],194903:[[31211]],194904:[[16687]],194905:[[31296]],194906:[[31306]],194907:[[31311]],194908:[[153980]],194909:[[154279]],194910:[[154279]],194911:[[31470]],194912:[[16898]],194913:[[154539]],194914:[[31686]],194915:[[31689]],194916:[[16935]],194917:[[154752]],194918:[[31954]],194919:[[17056]],194920:[[31976]],194921:[[31971]],194922:[[32e3]],194923:[[155526]],194924:[[32099]],194925:[[17153]],194926:[[32199]],194927:[[32258]],194928:[[32325]],194929:[[17204]],194930:[[156200]],194931:[[156231]],194932:[[17241]],194933:[[156377]],194934:[[32634]],194935:[[156478]],194936:[[32661]],194937:[[32762]],194938:[[32773]],194939:[[156890]],194940:[[156963]],194941:[[32864]],194942:[[157096]],194943:[[32880]],194944:[[144223]],194945:[[17365]],194946:[[32946]],194947:[[33027]],194948:[[17419]],194949:[[33086]],194950:[[23221]],194951:[[157607]],194952:[[157621]],194953:[[144275]],194954:[[144284]],194955:[[33281]],194956:[[33284]],194957:[[36766]],194958:[[17515]],194959:[[33425]],194960:[[33419]],194961:[[33437]],194962:[[21171]],194963:[[33457]],194964:[[33459]],194965:[[33469]],194966:[[33510]],194967:[[158524]],194968:[[33509]],194969:[[33565]],194970:[[33635]],194971:[[33709]],194972:[[33571]],194973:[[33725]],194974:[[33767]],194975:[[33879]],194976:[[33619]],194977:[[33738]],194978:[[33740]],194979:[[33756]],194980:[[158774]],194981:[[159083]],194982:[[158933]],194983:[[17707]],194984:[[34033]],194985:[[34035]],194986:[[34070]],194987:[[160714]],194988:[[34148]],194989:[[159532]],194990:[[17757]],194991:[[17761]],194992:[[159665]],194993:[[159954]],194994:[[17771]],194995:[[34384]],194996:[[34396]],194997:[[34407]],194998:[[34409]],194999:[[34473]],195e3:[[34440]],195001:[[34574]],195002:[[34530]],195003:[[34681]],195004:[[34600]],195005:[[34667]],195006:[[34694]],195007:[[17879]],195008:[[34785]],195009:[[34817]],195010:[[17913]],195011:[[34912]],195012:[[34915]],195013:[[161383]],195014:[[35031]],195015:[[35038]],195016:[[17973]],195017:[[35066]],195018:[[13499]],195019:[[161966]],195020:[[162150]],195021:[[18110]],195022:[[18119]],195023:[[35488]],195024:[[35565]],195025:[[35722]],195026:[[35925]],195027:[[162984]],195028:[[36011]],195029:[[36033]],195030:[[36123]],195031:[[36215]],195032:[[163631]],195033:[[133124]],195034:[[36299]],195035:[[36284]],195036:[[36336]],195037:[[133342]],195038:[[36564]],195039:[[36664]],195040:[[165330]],195041:[[165357]],195042:[[37012]],195043:[[37105]],195044:[[37137]],195045:[[165678]],195046:[[37147]],195047:[[37432]],195048:[[37591]],195049:[[37592]],195050:[[37500]],195051:[[37881]],195052:[[37909]],195053:[[166906]],195054:[[38283]],195055:[[18837]],195056:[[38327]],195057:[[167287]],195058:[[18918]],195059:[[38595]],195060:[[23986]],195061:[[38691]],195062:[[168261]],195063:[[168474]],195064:[[19054]],195065:[[19062]],195066:[[38880]],195067:[[168970]],195068:[[19122]],195069:[[169110]],195070:[[38923]],195071:[[38923]]},64e3:{64e3:[[20999]],64001:[[24230]],64002:[[25299]],64003:[[31958]],64004:[[23429]],64005:[[27934]],64006:[[26292]],64007:[[36667]],64008:[[34892]],64009:[[38477]],64010:[[35211]],64011:[[24275]],64012:[[20800]],64013:[[21952]],64016:[[22618]],64018:[[26228]],64021:[[20958]],64022:[[29482]],64023:[[30410]],64024:[[31036]],64025:[[31070]],64026:[[31077]],64027:[[31119]],64028:[[38742]],64029:[[31934]],64030:[[32701]],64032:[[34322]],64034:[[35576]],64037:[[36920]],64038:[[37117]],64042:[[39151]],64043:[[39164]],64044:[[39208]],64045:[[40372]],64046:[[37086]],64047:[[38583]],64048:[[20398]],64049:[[20711]],64050:[[20813]],64051:[[21193]],64052:[[21220]],64053:[[21329]],64054:[[21917]],64055:[[22022]],64056:[[22120]],64057:[[22592]],64058:[[22696]],64059:[[23652]],64060:[[23662]],64061:[[24724]],64062:[[24936]],64063:[[24974]],64064:[[25074]],64065:[[25935]],64066:[[26082]],64067:[[26257]],64068:[[26757]],64069:[[28023]],64070:[[28186]],64071:[[28450]],64072:[[29038]],64073:[[29227]],64074:[[29730]],64075:[[30865]],64076:[[31038]],64077:[[31049]],64078:[[31048]],64079:[[31056]],64080:[[31062]],64081:[[31069]],64082:[[31117]],64083:[[31118]],64084:[[31296]],64085:[[31361]],64086:[[31680]],64087:[[32244]],64088:[[32265]],64089:[[32321]],64090:[[32626]],64091:[[32773]],64092:[[33261]],64093:[[33401]],64094:[[33401]],64095:[[33879]],64096:[[35088]],64097:[[35222]],64098:[[35585]],64099:[[35641]],64100:[[36051]],64101:[[36104]],64102:[[36790]],64103:[[36920]],64104:[[38627]],64105:[[38911]],64106:[[38971]],64107:[[24693]],64108:[[148206]],64109:[[33304]],64112:[[20006]],64113:[[20917]],64114:[[20840]],64115:[[20352]],64116:[[20805]],64117:[[20864]],64118:[[21191]],64119:[[21242]],64120:[[21917]],64121:[[21845]],64122:[[21913]],64123:[[21986]],64124:[[22618]],64125:[[22707]],64126:[[22852]],64127:[[22868]],64128:[[23138]],64129:[[23336]],64130:[[24274]],64131:[[24281]],64132:[[24425]],64133:[[24493]],64134:[[24792]],64135:[[24910]],64136:[[24840]],64137:[[24974]],64138:[[24928]],64139:[[25074]],64140:[[25140]],64141:[[25540]],64142:[[25628]],64143:[[25682]],64144:[[25942]],64145:[[26228]],64146:[[26391]],64147:[[26395]],64148:[[26454]],64149:[[27513]],64150:[[27578]],64151:[[27969]],64152:[[28379]],64153:[[28363]],64154:[[28450]],64155:[[28702]],64156:[[29038]],64157:[[30631]],64158:[[29237]],64159:[[29359]],64160:[[29482]],64161:[[29809]],64162:[[29958]],64163:[[30011]],64164:[[30237]],64165:[[30239]],64166:[[30410]],64167:[[30427]],64168:[[30452]],64169:[[30538]],64170:[[30528]],64171:[[30924]],64172:[[31409]],64173:[[31680]],64174:[[31867]],64175:[[32091]],64176:[[32244]],64177:[[32574]],64178:[[32773]],64179:[[33618]],64180:[[33775]],64181:[[34681]],64182:[[35137]],64183:[[35206]],64184:[[35222]],64185:[[35519]],64186:[[35576]],64187:[[35531]],64188:[[35585]],64189:[[35582]],64190:[[35565]],64191:[[35641]],64192:[[35722]],64193:[[36104]],64194:[[36664]],64195:[[36978]],64196:[[37273]],64197:[[37494]],64198:[[38524]],64199:[[38627]],64200:[[38742]],64201:[[38875]],64202:[[38911]],64203:[[38923]],64204:[[38971]],64205:[[39698]],64206:[[40860]],64207:[[141386]],64208:[[141380]],64209:[[144341]],64210:[[15261]],64211:[[16408]],64212:[[16441]],64213:[[152137]],64214:[[154832]],64215:[[163539]],64216:[[40771]],64217:[[40846]],195072:[[38953]],195073:[[169398]],195074:[[39138]],195075:[[19251]],195076:[[39209]],195077:[[39335]],195078:[[39362]],195079:[[39422]],195080:[[19406]],195081:[[170800]],195082:[[39698]],195083:[[4e4]],195084:[[40189]],195085:[[19662]],195086:[[19693]],195087:[[40295]],195088:[[172238]],195089:[[19704]],195090:[[172293]],195091:[[172558]],195092:[[172689]],195093:[[40635]],195094:[[19798]],195095:[[40697]],195096:[[40702]],195097:[[40709]],195098:[[40719]],195099:[[40726]],195100:[[40763]],195101:[[173568]]},64256:{64256:[[102,102],256],64257:[[102,105],256],64258:[[102,108],256],64259:[[102,102,105],256],64260:[[102,102,108],256],64261:[[383,116],256],64262:[[115,116],256],64275:[[1396,1398],256],64276:[[1396,1381],256],64277:[[1396,1387],256],64278:[[1406,1398],256],64279:[[1396,1389],256],64285:[[1497,1460],512],64286:[,26],64287:[[1522,1463],512],64288:[[1506],256],64289:[[1488],256],64290:[[1491],256],64291:[[1492],256],64292:[[1499],256],64293:[[1500],256],64294:[[1501],256],64295:[[1512],256],64296:[[1514],256],64297:[[43],256],64298:[[1513,1473],512],64299:[[1513,1474],512],64300:[[64329,1473],512],64301:[[64329,1474],512],64302:[[1488,1463],512],64303:[[1488,1464],512],64304:[[1488,1468],512],64305:[[1489,1468],512],64306:[[1490,1468],512],64307:[[1491,1468],512],64308:[[1492,1468],512],64309:[[1493,1468],512],64310:[[1494,1468],512],64312:[[1496,1468],512],64313:[[1497,1468],512],64314:[[1498,1468],512],64315:[[1499,1468],512],64316:[[1500,1468],512],64318:[[1502,1468],512],64320:[[1504,1468],512],64321:[[1505,1468],512],64323:[[1507,1468],512],64324:[[1508,1468],512],64326:[[1510,1468],512],64327:[[1511,1468],512],64328:[[1512,1468],512],64329:[[1513,1468],512],64330:[[1514,1468],512],64331:[[1493,1465],512],64332:[[1489,1471],512],64333:[[1499,1471],512],64334:[[1508,1471],512],64335:[[1488,1500],256],64336:[[1649],256],64337:[[1649],256],64338:[[1659],256],64339:[[1659],256],64340:[[1659],256],64341:[[1659],256],64342:[[1662],256],64343:[[1662],256],64344:[[1662],256],64345:[[1662],256],64346:[[1664],256],64347:[[1664],256],64348:[[1664],256],64349:[[1664],256],64350:[[1658],256],64351:[[1658],256],64352:[[1658],256],64353:[[1658],256],64354:[[1663],256],64355:[[1663],256],64356:[[1663],256],64357:[[1663],256],64358:[[1657],256],64359:[[1657],256],64360:[[1657],256],64361:[[1657],256],64362:[[1700],256],64363:[[1700],256],64364:[[1700],256],64365:[[1700],256],64366:[[1702],256],64367:[[1702],256],64368:[[1702],256],64369:[[1702],256],64370:[[1668],256],64371:[[1668],256],64372:[[1668],256],64373:[[1668],256],64374:[[1667],256],64375:[[1667],256],64376:[[1667],256],64377:[[1667],256],64378:[[1670],256],64379:[[1670],256],64380:[[1670],256],64381:[[1670],256],64382:[[1671],256],64383:[[1671],256],64384:[[1671],256],64385:[[1671],256],64386:[[1677],256],64387:[[1677],256],64388:[[1676],256],64389:[[1676],256],64390:[[1678],256],64391:[[1678],256],64392:[[1672],256],64393:[[1672],256],64394:[[1688],256],64395:[[1688],256],64396:[[1681],256],64397:[[1681],256],64398:[[1705],256],64399:[[1705],256],64400:[[1705],256],64401:[[1705],256],64402:[[1711],256],64403:[[1711],256],64404:[[1711],256],64405:[[1711],256],64406:[[1715],256],64407:[[1715],256],64408:[[1715],256],64409:[[1715],256],64410:[[1713],256],64411:[[1713],256],64412:[[1713],256],64413:[[1713],256],64414:[[1722],256],64415:[[1722],256],64416:[[1723],256],64417:[[1723],256],64418:[[1723],256],64419:[[1723],256],64420:[[1728],256],64421:[[1728],256],64422:[[1729],256],64423:[[1729],256],64424:[[1729],256],64425:[[1729],256],64426:[[1726],256],64427:[[1726],256],64428:[[1726],256],64429:[[1726],256],64430:[[1746],256],64431:[[1746],256],64432:[[1747],256],64433:[[1747],256],64467:[[1709],256],64468:[[1709],256],64469:[[1709],256],64470:[[1709],256],64471:[[1735],256],64472:[[1735],256],64473:[[1734],256],64474:[[1734],256],64475:[[1736],256],64476:[[1736],256],64477:[[1655],256],64478:[[1739],256],64479:[[1739],256],64480:[[1733],256],64481:[[1733],256],64482:[[1737],256],64483:[[1737],256],64484:[[1744],256],64485:[[1744],256],64486:[[1744],256],64487:[[1744],256],64488:[[1609],256],64489:[[1609],256],64490:[[1574,1575],256],64491:[[1574,1575],256],64492:[[1574,1749],256],64493:[[1574,1749],256],64494:[[1574,1608],256],64495:[[1574,1608],256],64496:[[1574,1735],256],64497:[[1574,1735],256],64498:[[1574,1734],256],64499:[[1574,1734],256],64500:[[1574,1736],256],64501:[[1574,1736],256],64502:[[1574,1744],256],64503:[[1574,1744],256],64504:[[1574,1744],256],64505:[[1574,1609],256],64506:[[1574,1609],256],64507:[[1574,1609],256],64508:[[1740],256],64509:[[1740],256],64510:[[1740],256],64511:[[1740],256]},64512:{64512:[[1574,1580],256],64513:[[1574,1581],256],64514:[[1574,1605],256],64515:[[1574,1609],256],64516:[[1574,1610],256],64517:[[1576,1580],256],64518:[[1576,1581],256],64519:[[1576,1582],256],64520:[[1576,1605],256],64521:[[1576,1609],256],64522:[[1576,1610],256],64523:[[1578,1580],256],64524:[[1578,1581],256],64525:[[1578,1582],256],64526:[[1578,1605],256],64527:[[1578,1609],256],64528:[[1578,1610],256],64529:[[1579,1580],256],64530:[[1579,1605],256],64531:[[1579,1609],256],64532:[[1579,1610],256],64533:[[1580,1581],256],64534:[[1580,1605],256],64535:[[1581,1580],256],64536:[[1581,1605],256],64537:[[1582,1580],256],64538:[[1582,1581],256],64539:[[1582,1605],256],64540:[[1587,1580],256],64541:[[1587,1581],256],64542:[[1587,1582],256],64543:[[1587,1605],256],64544:[[1589,1581],256],64545:[[1589,1605],256],64546:[[1590,1580],256],64547:[[1590,1581],256],64548:[[1590,1582],256],64549:[[1590,1605],256],64550:[[1591,1581],256],64551:[[1591,1605],256],64552:[[1592,1605],256],64553:[[1593,1580],256],64554:[[1593,1605],256],64555:[[1594,1580],256],64556:[[1594,1605],256],64557:[[1601,1580],256],64558:[[1601,1581],256],64559:[[1601,1582],256],64560:[[1601,1605],256],64561:[[1601,1609],256],64562:[[1601,1610],256],64563:[[1602,1581],256],64564:[[1602,1605],256],64565:[[1602,1609],256],64566:[[1602,1610],256],64567:[[1603,1575],256],64568:[[1603,1580],256],64569:[[1603,1581],256],64570:[[1603,1582],256],64571:[[1603,1604],256],64572:[[1603,1605],256],64573:[[1603,1609],256],64574:[[1603,1610],256],64575:[[1604,1580],256],64576:[[1604,1581],256],64577:[[1604,1582],256],64578:[[1604,1605],256],64579:[[1604,1609],256],64580:[[1604,1610],256],64581:[[1605,1580],256],64582:[[1605,1581],256],64583:[[1605,1582],256],64584:[[1605,1605],256],64585:[[1605,1609],256],64586:[[1605,1610],256],64587:[[1606,1580],256],64588:[[1606,1581],256],64589:[[1606,1582],256],64590:[[1606,1605],256],64591:[[1606,1609],256],64592:[[1606,1610],256],64593:[[1607,1580],256],64594:[[1607,1605],256],64595:[[1607,1609],256],64596:[[1607,1610],256],64597:[[1610,1580],256],64598:[[1610,1581],256],64599:[[1610,1582],256],64600:[[1610,1605],256],64601:[[1610,1609],256],64602:[[1610,1610],256],64603:[[1584,1648],256],64604:[[1585,1648],256],64605:[[1609,1648],256],64606:[[32,1612,1617],256],64607:[[32,1613,1617],256],64608:[[32,1614,1617],256],64609:[[32,1615,1617],256],64610:[[32,1616,1617],256],64611:[[32,1617,1648],256],64612:[[1574,1585],256],64613:[[1574,1586],256],64614:[[1574,1605],256],64615:[[1574,1606],256],64616:[[1574,1609],256],64617:[[1574,1610],256],64618:[[1576,1585],256],64619:[[1576,1586],256],64620:[[1576,1605],256],64621:[[1576,1606],256],64622:[[1576,1609],256],64623:[[1576,1610],256],64624:[[1578,1585],256],64625:[[1578,1586],256],64626:[[1578,1605],256],64627:[[1578,1606],256],64628:[[1578,1609],256],64629:[[1578,1610],256],64630:[[1579,1585],256],64631:[[1579,1586],256],64632:[[1579,1605],256],64633:[[1579,1606],256],64634:[[1579,1609],256],64635:[[1579,1610],256],64636:[[1601,1609],256],64637:[[1601,1610],256],64638:[[1602,1609],256],64639:[[1602,1610],256],64640:[[1603,1575],256],64641:[[1603,1604],256],64642:[[1603,1605],256],64643:[[1603,1609],256],64644:[[1603,1610],256],64645:[[1604,1605],256],64646:[[1604,1609],256],64647:[[1604,1610],256],64648:[[1605,1575],256],64649:[[1605,1605],256],64650:[[1606,1585],256],64651:[[1606,1586],256],64652:[[1606,1605],256],64653:[[1606,1606],256],64654:[[1606,1609],256],64655:[[1606,1610],256],64656:[[1609,1648],256],64657:[[1610,1585],256],64658:[[1610,1586],256],64659:[[1610,1605],256],64660:[[1610,1606],256],64661:[[1610,1609],256],64662:[[1610,1610],256],64663:[[1574,1580],256],64664:[[1574,1581],256],64665:[[1574,1582],256],64666:[[1574,1605],256],64667:[[1574,1607],256],64668:[[1576,1580],256],64669:[[1576,1581],256],64670:[[1576,1582],256],64671:[[1576,1605],256],64672:[[1576,1607],256],64673:[[1578,1580],256],64674:[[1578,1581],256],64675:[[1578,1582],256],64676:[[1578,1605],256],64677:[[1578,1607],256],64678:[[1579,1605],256],64679:[[1580,1581],256],64680:[[1580,1605],256],64681:[[1581,1580],256],64682:[[1581,1605],256],64683:[[1582,1580],256],64684:[[1582,1605],256],64685:[[1587,1580],256],64686:[[1587,1581],256],64687:[[1587,1582],256],64688:[[1587,1605],256],64689:[[1589,1581],256],64690:[[1589,1582],256],64691:[[1589,1605],256],64692:[[1590,1580],256],64693:[[1590,1581],256],64694:[[1590,1582],256],64695:[[1590,1605],256],64696:[[1591,1581],256],64697:[[1592,1605],256],64698:[[1593,1580],256],64699:[[1593,1605],256],64700:[[1594,1580],256],64701:[[1594,1605],256],64702:[[1601,1580],256],64703:[[1601,1581],256],64704:[[1601,1582],256],64705:[[1601,1605],256],64706:[[1602,1581],256],64707:[[1602,1605],256],64708:[[1603,1580],256],64709:[[1603,1581],256],64710:[[1603,1582],256],64711:[[1603,1604],256],64712:[[1603,1605],256],64713:[[1604,1580],256],64714:[[1604,1581],256],64715:[[1604,1582],256],64716:[[1604,1605],256],64717:[[1604,1607],256],64718:[[1605,1580],256],64719:[[1605,1581],256],64720:[[1605,1582],256],64721:[[1605,1605],256],64722:[[1606,1580],256],64723:[[1606,1581],256],64724:[[1606,1582],256],64725:[[1606,1605],256],64726:[[1606,1607],256],64727:[[1607,1580],256],64728:[[1607,1605],256],64729:[[1607,1648],256],64730:[[1610,1580],256],64731:[[1610,1581],256],64732:[[1610,1582],256],64733:[[1610,1605],256],64734:[[1610,1607],256],64735:[[1574,1605],256],64736:[[1574,1607],256],64737:[[1576,1605],256],64738:[[1576,1607],256],64739:[[1578,1605],256],64740:[[1578,1607],256],64741:[[1579,1605],256],64742:[[1579,1607],256],64743:[[1587,1605],256],64744:[[1587,1607],256],64745:[[1588,1605],256],64746:[[1588,1607],256],64747:[[1603,1604],256],64748:[[1603,1605],256],64749:[[1604,1605],256],64750:[[1606,1605],256],64751:[[1606,1607],256],64752:[[1610,1605],256],64753:[[1610,1607],256],64754:[[1600,1614,1617],256],64755:[[1600,1615,1617],256],64756:[[1600,1616,1617],256],64757:[[1591,1609],256],64758:[[1591,1610],256],64759:[[1593,1609],256],64760:[[1593,1610],256],64761:[[1594,1609],256],64762:[[1594,1610],256],64763:[[1587,1609],256],64764:[[1587,1610],256],64765:[[1588,1609],256],64766:[[1588,1610],256],64767:[[1581,1609],256]},64768:{64768:[[1581,1610],256],64769:[[1580,1609],256],64770:[[1580,1610],256],64771:[[1582,1609],256],64772:[[1582,1610],256],64773:[[1589,1609],256],64774:[[1589,1610],256],64775:[[1590,1609],256],64776:[[1590,1610],256],64777:[[1588,1580],256],64778:[[1588,1581],256],64779:[[1588,1582],256],64780:[[1588,1605],256],64781:[[1588,1585],256],64782:[[1587,1585],256],64783:[[1589,1585],256],64784:[[1590,1585],256],64785:[[1591,1609],256],64786:[[1591,1610],256],64787:[[1593,1609],256],64788:[[1593,1610],256],64789:[[1594,1609],256],64790:[[1594,1610],256],64791:[[1587,1609],256],64792:[[1587,1610],256],64793:[[1588,1609],256],64794:[[1588,1610],256],64795:[[1581,1609],256],64796:[[1581,1610],256],64797:[[1580,1609],256],64798:[[1580,1610],256],64799:[[1582,1609],256],64800:[[1582,1610],256],64801:[[1589,1609],256],64802:[[1589,1610],256],64803:[[1590,1609],256],64804:[[1590,1610],256],64805:[[1588,1580],256],64806:[[1588,1581],256],64807:[[1588,1582],256],64808:[[1588,1605],256],64809:[[1588,1585],256],64810:[[1587,1585],256],64811:[[1589,1585],256],64812:[[1590,1585],256],64813:[[1588,1580],256],64814:[[1588,1581],256],64815:[[1588,1582],256],64816:[[1588,1605],256],64817:[[1587,1607],256],64818:[[1588,1607],256],64819:[[1591,1605],256],64820:[[1587,1580],256],64821:[[1587,1581],256],64822:[[1587,1582],256],64823:[[1588,1580],256],64824:[[1588,1581],256],64825:[[1588,1582],256],64826:[[1591,1605],256],64827:[[1592,1605],256],64828:[[1575,1611],256],64829:[[1575,1611],256],64848:[[1578,1580,1605],256],64849:[[1578,1581,1580],256],64850:[[1578,1581,1580],256],64851:[[1578,1581,1605],256],64852:[[1578,1582,1605],256],64853:[[1578,1605,1580],256],64854:[[1578,1605,1581],256],64855:[[1578,1605,1582],256],64856:[[1580,1605,1581],256],64857:[[1580,1605,1581],256],64858:[[1581,1605,1610],256],64859:[[1581,1605,1609],256],64860:[[1587,1581,1580],256],64861:[[1587,1580,1581],256],64862:[[1587,1580,1609],256],64863:[[1587,1605,1581],256],64864:[[1587,1605,1581],256],64865:[[1587,1605,1580],256],64866:[[1587,1605,1605],256],64867:[[1587,1605,1605],256],64868:[[1589,1581,1581],256],64869:[[1589,1581,1581],256],64870:[[1589,1605,1605],256],64871:[[1588,1581,1605],256],64872:[[1588,1581,1605],256],64873:[[1588,1580,1610],256],64874:[[1588,1605,1582],256],64875:[[1588,1605,1582],256],64876:[[1588,1605,1605],256],64877:[[1588,1605,1605],256],64878:[[1590,1581,1609],256],64879:[[1590,1582,1605],256],64880:[[1590,1582,1605],256],64881:[[1591,1605,1581],256],64882:[[1591,1605,1581],256],64883:[[1591,1605,1605],256],64884:[[1591,1605,1610],256],64885:[[1593,1580,1605],256],64886:[[1593,1605,1605],256],64887:[[1593,1605,1605],256],64888:[[1593,1605,1609],256],64889:[[1594,1605,1605],256],64890:[[1594,1605,1610],256],64891:[[1594,1605,1609],256],64892:[[1601,1582,1605],256],64893:[[1601,1582,1605],256],64894:[[1602,1605,1581],256],64895:[[1602,1605,1605],256],64896:[[1604,1581,1605],256],64897:[[1604,1581,1610],256],64898:[[1604,1581,1609],256],64899:[[1604,1580,1580],256],64900:[[1604,1580,1580],256],64901:[[1604,1582,1605],256],64902:[[1604,1582,1605],256],64903:[[1604,1605,1581],256],64904:[[1604,1605,1581],256],64905:[[1605,1581,1580],256],64906:[[1605,1581,1605],256],64907:[[1605,1581,1610],256],64908:[[1605,1580,1581],256],64909:[[1605,1580,1605],256],64910:[[1605,1582,1580],256],64911:[[1605,1582,1605],256],64914:[[1605,1580,1582],256],64915:[[1607,1605,1580],256],64916:[[1607,1605,1605],256],64917:[[1606,1581,1605],256],64918:[[1606,1581,1609],256],64919:[[1606,1580,1605],256],64920:[[1606,1580,1605],256],64921:[[1606,1580,1609],256],64922:[[1606,1605,1610],256],64923:[[1606,1605,1609],256],64924:[[1610,1605,1605],256],64925:[[1610,1605,1605],256],64926:[[1576,1582,1610],256],64927:[[1578,1580,1610],256],64928:[[1578,1580,1609],256],64929:[[1578,1582,1610],256],64930:[[1578,1582,1609],256],64931:[[1578,1605,1610],256],64932:[[1578,1605,1609],256],64933:[[1580,1605,1610],256],64934:[[1580,1581,1609],256],64935:[[1580,1605,1609],256],64936:[[1587,1582,1609],256],64937:[[1589,1581,1610],256],64938:[[1588,1581,1610],256],64939:[[1590,1581,1610],256],64940:[[1604,1580,1610],256],64941:[[1604,1605,1610],256],64942:[[1610,1581,1610],256],64943:[[1610,1580,1610],256],64944:[[1610,1605,1610],256],64945:[[1605,1605,1610],256],64946:[[1602,1605,1610],256],64947:[[1606,1581,1610],256],64948:[[1602,1605,1581],256],64949:[[1604,1581,1605],256],64950:[[1593,1605,1610],256],64951:[[1603,1605,1610],256],64952:[[1606,1580,1581],256],64953:[[1605,1582,1610],256],64954:[[1604,1580,1605],256],64955:[[1603,1605,1605],256],64956:[[1604,1580,1605],256],64957:[[1606,1580,1581],256],64958:[[1580,1581,1610],256],64959:[[1581,1580,1610],256],64960:[[1605,1580,1610],256],64961:[[1601,1605,1610],256],64962:[[1576,1581,1610],256],64963:[[1603,1605,1605],256],64964:[[1593,1580,1605],256],64965:[[1589,1605,1605],256],64966:[[1587,1582,1610],256],64967:[[1606,1580,1610],256],65008:[[1589,1604,1746],256],65009:[[1602,1604,1746],256],65010:[[1575,1604,1604,1607],256],65011:[[1575,1603,1576,1585],256],65012:[[1605,1581,1605,1583],256],65013:[[1589,1604,1593,1605],256],65014:[[1585,1587,1608,1604],256],65015:[[1593,1604,1610,1607],256],65016:[[1608,1587,1604,1605],256],65017:[[1589,1604,1609],256],65018:[[1589,1604,1609,32,1575,1604,1604,1607,32,1593,1604,1610,1607,32,1608,1587,1604,1605],256],65019:[[1580,1604,32,1580,1604,1575,1604,1607],256],65020:[[1585,1740,1575,1604],256]},65024:{65040:[[44],256],65041:[[12289],256],65042:[[12290],256],65043:[[58],256],65044:[[59],256],65045:[[33],256],65046:[[63],256],65047:[[12310],256],65048:[[12311],256],65049:[[8230],256],65056:[,230],65057:[,230],65058:[,230],65059:[,230],65060:[,230],65061:[,230],65062:[,230],65063:[,220],65064:[,220],65065:[,220],65066:[,220],65067:[,220],65068:[,220],65069:[,220],65072:[[8229],256],65073:[[8212],256],65074:[[8211],256],65075:[[95],256],65076:[[95],256],65077:[[40],256],65078:[[41],256],65079:[[123],256],65080:[[125],256],65081:[[12308],256],65082:[[12309],256],65083:[[12304],256],65084:[[12305],256],65085:[[12298],256],65086:[[12299],256],65087:[[12296],256],65088:[[12297],256],65089:[[12300],256],65090:[[12301],256],65091:[[12302],256],65092:[[12303],256],65095:[[91],256],65096:[[93],256],65097:[[8254],256],65098:[[8254],256],65099:[[8254],256],65100:[[8254],256],65101:[[95],256],65102:[[95],256],65103:[[95],256],65104:[[44],256],65105:[[12289],256],65106:[[46],256],65108:[[59],256],65109:[[58],256],65110:[[63],256],65111:[[33],256],65112:[[8212],256],65113:[[40],256],65114:[[41],256],65115:[[123],256],65116:[[125],256],65117:[[12308],256],65118:[[12309],256],65119:[[35],256],65120:[[38],256],65121:[[42],256],65122:[[43],256],65123:[[45],256],65124:[[60],256],65125:[[62],256],65126:[[61],256],65128:[[92],256],65129:[[36],256],65130:[[37],256],65131:[[64],256],65136:[[32,1611],256],65137:[[1600,1611],256],65138:[[32,1612],256],65140:[[32,1613],256],65142:[[32,1614],256],65143:[[1600,1614],256],65144:[[32,1615],256],65145:[[1600,1615],256],65146:[[32,1616],256],65147:[[1600,1616],256],65148:[[32,1617],256],65149:[[1600,1617],256],65150:[[32,1618],256],65151:[[1600,1618],256],65152:[[1569],256],65153:[[1570],256],65154:[[1570],256],65155:[[1571],256],65156:[[1571],256],65157:[[1572],256],65158:[[1572],256],65159:[[1573],256],65160:[[1573],256],65161:[[1574],256],65162:[[1574],256],65163:[[1574],256],65164:[[1574],256],65165:[[1575],256],65166:[[1575],256],65167:[[1576],256],65168:[[1576],256],65169:[[1576],256],65170:[[1576],256],65171:[[1577],256],65172:[[1577],256],65173:[[1578],256],65174:[[1578],256],65175:[[1578],256],65176:[[1578],256],65177:[[1579],256],65178:[[1579],256],65179:[[1579],256],65180:[[1579],256],65181:[[1580],256],65182:[[1580],256],65183:[[1580],256],65184:[[1580],256],65185:[[1581],256],65186:[[1581],256],65187:[[1581],256],65188:[[1581],256],65189:[[1582],256],65190:[[1582],256],65191:[[1582],256],65192:[[1582],256],65193:[[1583],256],65194:[[1583],256],65195:[[1584],256],65196:[[1584],256],65197:[[1585],256],65198:[[1585],256],65199:[[1586],256],65200:[[1586],256],65201:[[1587],256],65202:[[1587],256],65203:[[1587],256],65204:[[1587],256],65205:[[1588],256],65206:[[1588],256],65207:[[1588],256],65208:[[1588],256],65209:[[1589],256],65210:[[1589],256],65211:[[1589],256],65212:[[1589],256],65213:[[1590],256],65214:[[1590],256],65215:[[1590],256],65216:[[1590],256],65217:[[1591],256],65218:[[1591],256],65219:[[1591],256],65220:[[1591],256],65221:[[1592],256],65222:[[1592],256],65223:[[1592],256],65224:[[1592],256],65225:[[1593],256],65226:[[1593],256],65227:[[1593],256],65228:[[1593],256],65229:[[1594],256],65230:[[1594],256],65231:[[1594],256],65232:[[1594],256],65233:[[1601],256],65234:[[1601],256],65235:[[1601],256],65236:[[1601],256],65237:[[1602],256],65238:[[1602],256],65239:[[1602],256],65240:[[1602],256],65241:[[1603],256],65242:[[1603],256],65243:[[1603],256],65244:[[1603],256],65245:[[1604],256],65246:[[1604],256],65247:[[1604],256],65248:[[1604],256],65249:[[1605],256],65250:[[1605],256],65251:[[1605],256],65252:[[1605],256],65253:[[1606],256],65254:[[1606],256],65255:[[1606],256],65256:[[1606],256],65257:[[1607],256],65258:[[1607],256],65259:[[1607],256],65260:[[1607],256],65261:[[1608],256],65262:[[1608],256],65263:[[1609],256],65264:[[1609],256],65265:[[1610],256],65266:[[1610],256],65267:[[1610],256],65268:[[1610],256],65269:[[1604,1570],256],65270:[[1604,1570],256],65271:[[1604,1571],256],65272:[[1604,1571],256],65273:[[1604,1573],256],65274:[[1604,1573],256],65275:[[1604,1575],256],65276:[[1604,1575],256]},65280:{65281:[[33],256],65282:[[34],256],65283:[[35],256],65284:[[36],256],65285:[[37],256],65286:[[38],256],65287:[[39],256],65288:[[40],256],65289:[[41],256],65290:[[42],256],65291:[[43],256],65292:[[44],256],65293:[[45],256],65294:[[46],256],65295:[[47],256],65296:[[48],256],65297:[[49],256],65298:[[50],256],65299:[[51],256],65300:[[52],256],65301:[[53],256],65302:[[54],256],65303:[[55],256],65304:[[56],256],65305:[[57],256],65306:[[58],256],65307:[[59],256],65308:[[60],256],65309:[[61],256],65310:[[62],256],65311:[[63],256],65312:[[64],256],65313:[[65],256],65314:[[66],256],65315:[[67],256],65316:[[68],256],65317:[[69],256],65318:[[70],256],65319:[[71],256],65320:[[72],256],65321:[[73],256],65322:[[74],256],65323:[[75],256],65324:[[76],256],65325:[[77],256],65326:[[78],256],65327:[[79],256],65328:[[80],256],65329:[[81],256],65330:[[82],256],65331:[[83],256],65332:[[84],256],65333:[[85],256],65334:[[86],256],65335:[[87],256],65336:[[88],256],65337:[[89],256],65338:[[90],256],65339:[[91],256],65340:[[92],256],65341:[[93],256],65342:[[94],256],65343:[[95],256],65344:[[96],256],65345:[[97],256],65346:[[98],256],65347:[[99],256],65348:[[100],256],65349:[[101],256],65350:[[102],256],65351:[[103],256],65352:[[104],256],65353:[[105],256],65354:[[106],256],65355:[[107],256],65356:[[108],256],65357:[[109],256],65358:[[110],256],65359:[[111],256],65360:[[112],256],65361:[[113],256],65362:[[114],256],65363:[[115],256],65364:[[116],256],65365:[[117],256],65366:[[118],256],65367:[[119],256],65368:[[120],256],65369:[[121],256],65370:[[122],256],65371:[[123],256],65372:[[124],256],65373:[[125],256],65374:[[126],256],65375:[[10629],256],65376:[[10630],256],65377:[[12290],256],65378:[[12300],256],65379:[[12301],256],65380:[[12289],256],65381:[[12539],256],65382:[[12530],256],65383:[[12449],256],65384:[[12451],256],65385:[[12453],256],65386:[[12455],256],65387:[[12457],256],65388:[[12515],256],65389:[[12517],256],65390:[[12519],256],65391:[[12483],256],65392:[[12540],256],65393:[[12450],256],65394:[[12452],256],65395:[[12454],256],65396:[[12456],256],65397:[[12458],256],65398:[[12459],256],65399:[[12461],256],65400:[[12463],256],65401:[[12465],256],65402:[[12467],256],65403:[[12469],256],65404:[[12471],256],65405:[[12473],256],65406:[[12475],256],65407:[[12477],256],65408:[[12479],256],65409:[[12481],256],65410:[[12484],256],65411:[[12486],256],65412:[[12488],256],65413:[[12490],256],65414:[[12491],256],65415:[[12492],256],65416:[[12493],256],65417:[[12494],256],65418:[[12495],256],65419:[[12498],256],65420:[[12501],256],65421:[[12504],256],65422:[[12507],256],65423:[[12510],256],65424:[[12511],256],65425:[[12512],256],65426:[[12513],256],65427:[[12514],256],65428:[[12516],256],65429:[[12518],256],65430:[[12520],256],65431:[[12521],256],65432:[[12522],256],65433:[[12523],256],65434:[[12524],256],65435:[[12525],256],65436:[[12527],256],65437:[[12531],256],65438:[[12441],256],65439:[[12442],256],65440:[[12644],256],65441:[[12593],256],65442:[[12594],256],65443:[[12595],256],65444:[[12596],256],65445:[[12597],256],65446:[[12598],256],65447:[[12599],256],65448:[[12600],256],65449:[[12601],256],65450:[[12602],256],65451:[[12603],256],65452:[[12604],256],65453:[[12605],256],65454:[[12606],256],65455:[[12607],256],65456:[[12608],256],65457:[[12609],256],65458:[[12610],256],65459:[[12611],256],65460:[[12612],256],65461:[[12613],256],65462:[[12614],256],65463:[[12615],256],65464:[[12616],256],65465:[[12617],256],65466:[[12618],256],65467:[[12619],256],65468:[[12620],256],65469:[[12621],256],65470:[[12622],256],65474:[[12623],256],65475:[[12624],256],65476:[[12625],256],65477:[[12626],256],65478:[[12627],256],65479:[[12628],256],65482:[[12629],256],65483:[[12630],256],65484:[[12631],256],65485:[[12632],256],65486:[[12633],256],65487:[[12634],256],65490:[[12635],256],65491:[[12636],256],65492:[[12637],256],65493:[[12638],256],65494:[[12639],256],65495:[[12640],256],65498:[[12641],256],65499:[[12642],256],65500:[[12643],256],65504:[[162],256],65505:[[163],256],65506:[[172],256],65507:[[175],256],65508:[[166],256],65509:[[165],256],65510:[[8361],256],65512:[[9474],256],65513:[[8592],256],65514:[[8593],256],65515:[[8594],256],65516:[[8595],256],65517:[[9632],256],65518:[[9675],256]}};var unorm={nfc:function(str){return normalize("NFC",str)},nfd:function(str){return normalize("NFD",str)},nfkc:function(str){return normalize("NFKC",str)},nfkd:function(str){return normalize("NFKD",str)}};module.exports=unorm,unorm.shimApplied=!1,String.prototype.normalize||(Object.defineProperty(String.prototype,"normalize",{enumerable:!1,configurable:!0,writable:!0,value:function(){var str=""+this,form=void 0===arguments[0]?"NFC":arguments[0];if(null==this)throw new TypeError("Cannot call method on "+Object.prototype.toString.call(this));if("NFC"===form)return unorm.nfc(str);if("NFD"===form)return unorm.nfd(str);if("NFKC"===form)return unorm.nfkc(str);if("NFKD"===form)return unorm.nfkd(str);throw new RangeError("Invalid normalization form: "+form)}}),unorm.shimApplied=!0)}()},function(module,exports,__webpack_require__){"use strict";const Fragment=__webpack_require__(406),util=__webpack_require__(150),ops=__webpack_require__(272),PDF=__webpack_require__(151);module.exports=class{constructor(doc,parent,opts){Fragment.prototype._init.call(this,doc,parent),this._cursor=this._cursor.clone(),"width"in opts&&(this._cursor.width=opts.width),this._rowCount=0,this.widths=[],function(opts){if(this.opts=opts,!("widths"in opts&&Array.isArray(opts.widths)))throw new TypeError("widths (array) option is required for tables");this.widths=opts.widths;if(this.borderVerticalWidths=null,opts.borderVerticalWidths){if(!Array.isArray(opts.borderVerticalWidths))throw new TypeError("borderVerticalWidths must be an array");if(opts.borderVerticalWidths.length!==this.widths.length+1)throw new TypeError(`wrong borderVerticalWidths length (expected ${this.widths.length+1}; got ${opts.borderVerticalWidths.length})`);this.borderVerticalWidths=opts.borderVerticalWidths}else if("number"==typeof opts.borderVerticalWidth){this.borderVerticalWidths=[];for(let i=0;i<=this.widths.length;++i)this.borderVerticalWidths.push(opts.borderVerticalWidth)}if(this.borderVerticalColors=null,opts.borderVerticalColors){if(!Array.isArray(opts.borderVerticalColors))throw new TypeError("borderVerticalColors must be an array");if(opts.borderVerticalColors.length!==this.widths.length+1)throw new TypeError(`wrong borderVerticalColors length (expected ${this.widths.length+1}; got ${opts.borderVerticalColors.length})`);this.borderVerticalColors=opts.borderVerticalColors.map(c=>util.colorToRgb(c))}else if("number"==typeof opts.borderVerticalColor){this.borderVerticalColors=[];const color=util.colorToRgb(opts.borderVerticalColor);for(let i=0;i<=this.widths.length;++i)this.borderVerticalColors.push(color)}if(this.borderHorizontalWidths=null,opts.borderHorizontalWidths){if("function"!=typeof opts.borderHorizontalWidths)throw new TypeError("borderHorizontalWidths must be a function");this.borderHorizontalWidths=opts.borderHorizontalWidths}else"number"==typeof opts.borderHorizontalWidth&&(this.borderHorizontalWidths=()=>opts.borderHorizontalWidth);if(this.borderHorizontalColors=null,opts.borderHorizontalColors){if("function"!=typeof opts.borderHorizontalColors)throw new TypeError("borderHorizontalColors must be a function");this.borderHorizontalColors=opts.borderHorizontalColors}else"number"==typeof opts.borderHorizontalColor&&(this.borderHorizontalColors=()=>opts.borderHorizontalColor);const borderWidth=opts.borderWidth||0;if(borderWidth>0){if(!this.borderVerticalWidths){this.borderVerticalWidths=[];for(let i=0;i<=this.widths.length;++i)this.borderVerticalWidths.push(borderWidth)}this.borderHorizontalWidths||(this.borderHorizontalWidths=()=>borderWidth)}const borderColor=opts.borderColor||0;if(!this.borderVerticalColors){this.borderVerticalColors=[];for(let i=0;i<=this.widths.length;++i)this.borderVerticalColors.push(util.colorToRgb(borderColor))}this.borderHorizontalColors||(this.borderHorizontalColors=()=>borderColor)}.call(this,opts),this.borderVerticalWidths&&(this._cursor.width-=this.borderVerticalWidths[0]/2,this._cursor.startX+=this.borderVerticalWidths[0]/2,this._cursor.width-=this.borderVerticalWidths[this.borderVerticalWidths.length-1]/2);let remainingWidth=this._cursor.width;const distribute=[];for(const i in this.widths){const w=this.widths[i];w&&"*"!==w?remainingWidth-=w:distribute.push(i)}if(distribute.length>0){const w=remainingWidth/distribute.length;for(const i of distribute)this.widths[i]=w}this._header=null}async _pageBreak(level,insideBreak){await Fragment.prototype._pageBreak.call(this,level),insideBreak||await this._renderHeader(!0)}async _end(){await Fragment.prototype._end.call(this)}_begin(ctx){Fragment.prototype._begin.call(this,ctx)}async _renderHeader(isPageBreak){if(!this._header)return;this._doc._currentContent||await this._doc._startPage();let chunk="";const offset=this._cursor.y-this._header.startedAtY;isPageBreak&&0!==offset&&(chunk+=ops.q()+ops.cm(1,0,0,1,0,offset));for(const obj of this._header._objects){const alias=new PDF.Name("TH"+obj.id);this._doc._currentContent._xobjects[alias]=obj.toReference(),chunk+=ops.Do(alias)}this._cursor.y-=this._header.height,isPageBreak&&0!==offset&&(chunk+=ops.Q()),await this._doc._write(chunk)}_row(opts,isHeader){opts&&"object"==typeof opts||(opts={}),opts={padding:(opts=Object.assign({font:this._doc.defaultFont,fontSize:this._doc.defaultFontSize,color:this._doc.defaultColor,lineHeight:this._doc.defaultLineHeight},this.opts,opts)).padding,paddingLeft:opts.paddingLeft,paddingRight:opts.paddingRight,paddingTop:opts.paddingTop,paddingBottom:opts.paddingBottom,backgroundColor:opts.backgroundColor,font:opts.font,fontSize:opts.fontSize,color:opts.color,lineHeight:opts.lineHeight,minHeight:opts.minHeight};const ctx=new(__webpack_require__(isHeader?1442:1170))(this._doc,this,opts);return this._begin(ctx),ctx._widths=this.widths.slice(),ctx._borderVerticalWidths=this.borderVerticalWidths&&this.borderVerticalWidths.slice(),ctx._borderVerticalColors=this.borderVerticalColors&&this.borderVerticalColors.slice(),this.borderHorizontalWidths&&(ctx._topBorderWidth=this.borderHorizontalWidths(this._rowCount),ctx._topBorderColor=util.colorToRgb(this.borderHorizontalColors(this._rowCount)),isHeader||(ctx._bottomBorderWidth=this.borderHorizontalWidths(this._rowCount+1),ctx._bottomBorderColor=util.colorToRgb(this.borderHorizontalColors(this._rowCount+1))),ctx._hasTopBorder=this._rowCount===(this._header?1:0)),ctx._pending.push(()=>ctx._start()),this._pending.push(ctx._pending),this._rowCount++,ctx}end(){return Fragment.prototype.end.call(this)}row(opts){return this._row(opts,!1)}header(opts){const ctx=this._row(opts,!0);return this._header=ctx,this._pending.push(()=>this._renderHeader()),ctx}}},function(module,exports,__webpack_require__){"use strict";__webpack_require__(151);const Row=__webpack_require__(1170),Header=__webpack_require__(899);module.exports=class extends Row{constructor(doc,parent,opts){super(doc,parent,opts),this._previousContents=null,this._hadPreviousContent=!1,this._objects=[]}async _pageBreak(level){throw new Error("Table Header is to long (tried to execute a page break inside the header)")}async _start(){await super._start(),this.startedAtY=this._cursor.y,this._hadPreviousContent=!!this._doc._currentContent,await this._doc._endContentObject(),this._previousContents=this._doc._contents,this._doc._contents=[],await Header.prototype._setup.call(this),this._cursor.y=this._y}_createObject(){return Header.prototype._createObject.call(this)}async _end(){await super._end();const height=this.startedAtY-this._cursor.y;await Header.prototype._end.call(this),this.height=height,this._doc._contents=this._previousContents,this._previousContents=null,this._hadPreviousContent&&await this._doc._startContentObject(),this._cursor.y=this.startedAtY}}},function(module,exports,__webpack_require__){var Stream=__webpack_require__(10);"disable"===process.env.READABLE_STREAM&&Stream?(module.exports=Stream,(exports=module.exports=Stream.Readable).Readable=Stream.Readable,exports.Writable=Stream.Writable,exports.Duplex=Stream.Duplex,exports.Transform=Stream.Transform,exports.PassThrough=Stream.PassThrough,exports.Stream=Stream):((exports=module.exports=__webpack_require__(1171)).Stream=Stream||exports,exports.Readable=exports,exports.Writable=__webpack_require__(1174),exports.Duplex=__webpack_require__(410),exports.Transform=__webpack_require__(1175),exports.PassThrough=__webpack_require__(1446))},function(module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)}},function(module,exports,__webpack_require__){"use strict";var Buffer=__webpack_require__(179).Buffer,util=__webpack_require__(8);module.exports=function(){function BufferList(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BufferList),this.head=null,this.tail=null,this.length=0}return BufferList.prototype.push=function(v){var entry={data:v,next:null};this.length>0?this.tail.next=entry:this.head=entry,this.tail=entry,++this.length},BufferList.prototype.unshift=function(v){var entry={data:v,next:this.head};0===this.length&&(this.tail=entry),this.head=entry,++this.length},BufferList.prototype.shift=function(){if(0!==this.length){var ret=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,ret}},BufferList.prototype.clear=function(){this.head=this.tail=null,this.length=0},BufferList.prototype.join=function(s){if(0===this.length)return"";for(var p=this.head,ret=""+p.data;p=p.next;)ret+=s+p.data;return ret},BufferList.prototype.concat=function(n){if(0===this.length)return Buffer.alloc(0);if(1===this.length)return this.head.data;for(var src,target,offset,ret=Buffer.allocUnsafe(n>>>0),p=this.head,i=0;p;)src=p.data,target=ret,offset=i,src.copy(target,offset),i+=p.data.length,p=p.next;return ret},BufferList}(),util&&util.inspect&&util.inspect.custom&&(module.exports.prototype[util.inspect.custom]=function(){var obj=util.inspect({length:this.length});return this.constructor.name+" "+obj})},function(module,exports,__webpack_require__){"use strict";module.exports=PassThrough;var Transform=__webpack_require__(1175),util=__webpack_require__(288);function PassThrough(options){if(!(this instanceof PassThrough))return new PassThrough(options);Transform.call(this,options)}util.inherits=__webpack_require__(22),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},function(module,exports,__webpack_require__){"use strict";const PDF=__webpack_require__(151);module.exports=class{constructor(doc,obj){this._doc=doc,this._fonts={},this._xobjects={},this._object=obj||new PDF.Object,this._length=new PDF.Object,doc._registerObject(this._object),doc._registerObject(this._length),this._object.prop("Length",this._length.toReference())}}},function(module,exports,__webpack_require__){const AFMFont=__webpack_require__(900);module.exports=new AFMFont(__webpack_require__(1449))},function(module){module.exports=JSON.parse('{"fontName":"Helvetica","fullName":"Helvetica","familyName":"Helvetica","italicAngle":0,"characterSet":"ExtendedRoman","fontBBox":[-166,-225,1000,931],"underlinePosition":-100,"underlineThickness":50,"capHeight":718,"xHeight":523,"ascender":718,"descender":-207,"kerning":{"44":{"146":-100,"148":-100},"46":{"146":-100,"148":-100,"160":-60},"58":{"160":-50},"59":{"160":-50},"65":{"67":-30,"71":-30,"79":-30,"81":-30,"84":-120,"85":-50,"86":-70,"87":-50,"89":-100,"117":-30,"118":-40,"119":-40,"121":-40,"199":-30,"210":-30,"211":-30,"212":-30,"213":-30,"214":-30,"216":-30,"217":-50,"218":-50,"219":-50,"220":-50,"221":-100,"249":-30,"250":-30,"251":-30,"252":-30,"253":-40,"255":-40},"66":{"44":-20,"46":-20,"85":-10,"217":-10,"218":-10,"219":-10,"220":-10},"67":{"44":-30,"46":-30},"68":{"44":-70,"46":-70,"65":-40,"86":-70,"87":-40,"89":-90,"192":-40,"193":-40,"194":-40,"195":-40,"196":-40,"197":-40,"221":-90},"70":{"44":-150,"46":-150,"65":-80,"97":-50,"101":-30,"111":-30,"114":-45,"192":-80,"193":-80,"194":-80,"195":-80,"196":-80,"197":-80,"224":-50,"225":-50,"226":-50,"227":-50,"228":-50,"229":-50,"232":-30,"233":-30,"234":-30,"235":-30,"242":-30,"243":-30,"244":-30,"245":-30,"246":-30,"248":-30},"74":{"44":-30,"46":-30,"65":-20,"97":-20,"117":-20,"192":-20,"193":-20,"194":-20,"195":-20,"196":-20,"197":-20,"224":-20,"225":-20,"226":-20,"227":-20,"228":-20,"229":-20,"249":-20,"250":-20,"251":-20,"252":-20},"75":{"79":-50,"101":-40,"111":-40,"117":-30,"121":-50,"210":-50,"211":-50,"212":-50,"213":-50,"214":-50,"216":-50,"232":-40,"233":-40,"234":-40,"235":-40,"242":-40,"243":-40,"244":-40,"245":-40,"246":-40,"248":-40,"249":-30,"250":-30,"251":-30,"252":-30,"253":-50,"255":-50},"76":{"84":-110,"86":-110,"87":-70,"89":-140,"121":-30,"146":-160,"148":-140,"221":-140,"253":-30,"255":-30},"79":{"44":-40,"46":-40,"65":-20,"84":-40,"86":-50,"87":-30,"88":-60,"89":-70,"192":-20,"193":-20,"194":-20,"195":-20,"196":-20,"197":-20,"221":-70},"80":{"44":-180,"46":-180,"65":-120,"97":-40,"101":-50,"111":-50,"192":-120,"193":-120,"194":-120,"195":-120,"196":-120,"197":-120,"224":-40,"225":-40,"226":-40,"227":-40,"228":-40,"229":-40,"232":-50,"233":-50,"234":-50,"235":-50,"242":-50,"243":-50,"244":-50,"245":-50,"246":-50,"248":-50},"81":{"85":-10,"217":-10,"218":-10,"219":-10,"220":-10},"82":{"79":-20,"84":-30,"85":-40,"86":-50,"87":-30,"89":-50,"210":-20,"211":-20,"212":-20,"213":-20,"214":-20,"216":-20,"217":-40,"218":-40,"219":-40,"220":-40,"221":-50},"83":{"44":-20,"46":-20},"84":{"44":-120,"46":-120,"58":-20,"59":-20,"65":-120,"79":-40,"97":-120,"101":-120,"111":-120,"114":-120,"117":-120,"119":-120,"121":-120,"173":-140,"192":-120,"193":-120,"194":-120,"195":-120,"196":-120,"197":-120,"210":-40,"211":-40,"212":-40,"213":-40,"214":-40,"216":-40,"224":-120,"225":-120,"226":-120,"227":-60,"228":-120,"229":-120,"232":-60,"233":-120,"234":-120,"235":-120,"242":-120,"243":-120,"244":-120,"245":-60,"246":-120,"248":-120,"249":-120,"250":-120,"251":-120,"252":-120,"253":-120,"255":-60},"85":{"44":-40,"46":-40,"65":-40,"192":-40,"193":-40,"194":-40,"195":-40,"196":-40,"197":-40},"86":{"44":-125,"46":-125,"58":-40,"59":-40,"65":-80,"71":-40,"79":-40,"97":-70,"101":-80,"111":-80,"117":-70,"173":-80,"192":-80,"193":-80,"194":-80,"195":-80,"196":-80,"197":-80,"210":-40,"211":-40,"212":-40,"213":-40,"214":-40,"216":-40,"224":-70,"225":-70,"226":-70,"227":-70,"228":-70,"229":-70,"232":-80,"233":-80,"234":-80,"235":-80,"242":-80,"243":-80,"244":-80,"245":-80,"246":-80,"248":-80,"249":-70,"250":-70,"251":-70,"252":-70},"87":{"44":-80,"46":-80,"65":-50,"79":-20,"97":-40,"101":-30,"111":-30,"117":-30,"121":-20,"173":-40,"192":-50,"193":-50,"194":-50,"195":-50,"196":-50,"197":-50,"210":-20,"211":-20,"212":-20,"213":-20,"214":-20,"216":-20,"224":-40,"225":-40,"226":-40,"227":-40,"228":-40,"229":-40,"232":-30,"233":-30,"234":-30,"235":-30,"242":-30,"243":-30,"244":-30,"245":-30,"246":-30,"248":-30,"249":-30,"250":-30,"251":-30,"252":-30,"253":-20,"255":-20},"89":{"44":-140,"46":-140,"58":-60,"59":-60,"65":-110,"79":-85,"97":-140,"101":-140,"105":-20,"111":-140,"117":-110,"173":-140,"192":-110,"193":-110,"194":-110,"195":-110,"196":-110,"197":-110,"210":-85,"211":-85,"212":-85,"213":-85,"214":-85,"216":-85,"224":-140,"225":-140,"226":-140,"227":-140,"228":-140,"229":-140,"232":-140,"233":-140,"234":-140,"235":-140,"237":-20,"242":-140,"243":-140,"244":-140,"245":-140,"246":-140,"248":-140,"249":-110,"250":-110,"251":-110,"252":-110},"97":{"118":-20,"119":-20,"121":-30,"253":-30,"255":-30},"98":{"44":-40,"46":-40,"98":-10,"108":-20,"117":-20,"118":-20,"121":-20,"249":-20,"250":-20,"251":-20,"252":-20,"253":-20,"255":-20},"99":{"44":-15,"107":-20},"101":{"44":-15,"46":-15,"118":-30,"119":-20,"120":-30,"121":-20,"253":-20,"255":-20},"102":{"44":-30,"46":-30,"97":-30,"101":-30,"111":-30,"146":50,"148":60,"224":-30,"225":-30,"226":-30,"227":-30,"228":-30,"229":-30,"232":-30,"233":-30,"234":-30,"235":-30,"242":-30,"243":-30,"244":-30,"245":-30,"246":-30,"248":-30},"103":{"114":-10},"104":{"121":-30,"253":-30,"255":-30},"107":{"101":-20,"111":-20,"232":-20,"233":-20,"234":-20,"235":-20,"242":-20,"243":-20,"244":-20,"245":-20,"246":-20,"248":-20},"109":{"117":-10,"121":-15,"249":-10,"250":-10,"251":-10,"252":-10,"253":-15,"255":-15},"110":{"117":-10,"118":-20,"121":-15,"249":-10,"250":-10,"251":-10,"252":-10,"253":-15,"255":-15},"111":{"44":-40,"46":-40,"118":-15,"119":-15,"120":-30,"121":-30,"253":-30,"255":-30},"112":{"44":-35,"46":-35,"121":-30,"253":-30,"255":-30},"114":{"44":-50,"46":-50,"58":30,"59":30,"97":-10,"105":15,"107":15,"108":15,"109":25,"110":25,"112":30,"116":40,"117":15,"118":30,"121":30,"224":-10,"225":-10,"226":-10,"227":-10,"228":-10,"229":-10,"236":15,"237":15,"238":15,"239":15,"241":25,"249":15,"250":15,"251":15,"252":15,"253":30,"255":30},"115":{"44":-15,"46":-15,"119":-30},"118":{"44":-80,"46":-80,"97":-25,"101":-25,"111":-25,"224":-25,"225":-25,"226":-25,"227":-25,"228":-25,"229":-25,"232":-25,"233":-25,"234":-25,"235":-25,"242":-25,"243":-25,"244":-25,"245":-25,"246":-25,"248":-25},"119":{"44":-60,"46":-60,"97":-15,"101":-10,"111":-10,"224":-15,"225":-15,"226":-15,"227":-15,"228":-15,"229":-15,"232":-10,"233":-10,"234":-10,"235":-10,"242":-10,"243":-10,"244":-10,"245":-10,"246":-10,"248":-10},"120":{"101":-30,"232":-30,"233":-30,"234":-30,"235":-30},"121":{"44":-100,"46":-100,"97":-20,"101":-20,"111":-20,"224":-20,"225":-20,"226":-20,"227":-20,"228":-20,"229":-20,"232":-20,"233":-20,"234":-20,"235":-20,"242":-20,"243":-20,"244":-20,"245":-20,"246":-20,"248":-20},"122":{"101":-15,"111":-15,"232":-15,"233":-15,"234":-15,"235":-15,"242":-15,"243":-15,"244":-15,"245":-15,"246":-15,"248":-15},"138":{"44":-20,"46":-20},"145":{"145":-57},"146":{"100":-50,"114":-50,"115":-50,"146":-57,"154":-50,"160":-70},"148":{"160":-40},"154":{"44":-15,"46":-15,"119":-30},"158":{"101":-15,"111":-15,"232":-15,"233":-15,"234":-15,"235":-15,"242":-15,"243":-15,"244":-15,"245":-15,"246":-15,"248":-15},"160":{"84":-50,"86":-50,"87":-40,"89":-90,"145":-60,"147":-30,"221":-90},"192":{"67":-30,"71":-30,"79":-30,"81":-30,"84":-120,"85":-50,"86":-70,"87":-50,"89":-100,"117":-30,"118":-40,"119":-40,"121":-40,"199":-30,"210":-30,"211":-30,"212":-30,"213":-30,"214":-30,"216":-30,"217":-50,"218":-50,"219":-50,"220":-50,"221":-100,"249":-30,"250":-30,"251":-30,"252":-30,"253":-40,"255":-40},"193":{"67":-30,"71":-30,"79":-30,"81":-30,"84":-120,"85":-50,"86":-70,"87":-50,"89":-100,"117":-30,"118":-40,"119":-40,"121":-40,"199":-30,"210":-30,"211":-30,"212":-30,"213":-30,"214":-30,"216":-30,"217":-50,"218":-50,"219":-50,"220":-50,"221":-100,"249":-30,"250":-30,"251":-30,"252":-30,"253":-40,"255":-40},"194":{"67":-30,"71":-30,"79":-30,"81":-30,"84":-120,"85":-50,"86":-70,"87":-50,"89":-100,"117":-30,"118":-40,"119":-40,"121":-40,"199":-30,"210":-30,"211":-30,"212":-30,"213":-30,"214":-30,"216":-30,"217":-50,"218":-50,"219":-50,"220":-50,"221":-100,"249":-30,"250":-30,"251":-30,"252":-30,"253":-40,"255":-40},"195":{"67":-30,"71":-30,"79":-30,"81":-30,"84":-120,"85":-50,"86":-70,"87":-50,"89":-100,"117":-30,"118":-40,"119":-40,"121":-40,"199":-30,"210":-30,"211":-30,"212":-30,"213":-30,"214":-30,"216":-30,"217":-50,"218":-50,"219":-50,"220":-50,"221":-100,"249":-30,"250":-30,"251":-30,"252":-30,"253":-40,"255":-40},"196":{"67":-30,"71":-30,"79":-30,"81":-30,"84":-120,"85":-50,"86":-70,"87":-50,"89":-100,"117":-30,"118":-40,"119":-40,"121":-40,"199":-30,"210":-30,"211":-30,"212":-30,"213":-30,"214":-30,"216":-30,"217":-50,"218":-50,"219":-50,"220":-50,"221":-100,"249":-30,"250":-30,"251":-30,"252":-30,"253":-40,"255":-40},"197":{"67":-30,"71":-30,"79":-30,"81":-30,"84":-120,"85":-50,"86":-70,"87":-50,"89":-100,"117":-30,"118":-40,"119":-40,"121":-40,"199":-30,"210":-30,"211":-30,"212":-30,"213":-30,"214":-30,"216":-30,"217":-50,"218":-50,"219":-50,"220":-50,"221":-100,"249":-30,"250":-30,"251":-30,"252":-30,"253":-40,"255":-40},"199":{"44":-30,"46":-30},"210":{"44":-40,"46":-40,"65":-20,"84":-40,"86":-50,"87":-30,"88":-60,"89":-70,"192":-20,"193":-20,"194":-20,"195":-20,"196":-20,"197":-20,"221":-70},"211":{"44":-40,"46":-40,"65":-20,"84":-40,"86":-50,"87":-30,"88":-60,"89":-70,"192":-20,"193":-20,"194":-20,"195":-20,"196":-20,"197":-20,"221":-70},"212":{"44":-40,"46":-40,"65":-20,"84":-40,"86":-50,"87":-30,"88":-60,"89":-70,"192":-20,"193":-20,"194":-20,"195":-20,"196":-20,"197":-20,"221":-70},"213":{"44":-40,"46":-40,"65":-20,"84":-40,"86":-50,"87":-30,"88":-60,"89":-70,"192":-20,"193":-20,"194":-20,"195":-20,"196":-20,"197":-20,"221":-70},"214":{"44":-40,"46":-40,"65":-20,"84":-40,"86":-50,"87":-30,"88":-60,"89":-70,"192":-20,"193":-20,"194":-20,"195":-20,"196":-20,"197":-20,"221":-70},"216":{"44":-40,"46":-40,"65":-20,"84":-40,"86":-50,"87":-30,"88":-60,"89":-70,"192":-20,"193":-20,"194":-20,"195":-20,"196":-20,"197":-20,"221":-70},"217":{"44":-40,"46":-40,"65":-40,"192":-40,"193":-40,"194":-40,"195":-40,"196":-40,"197":-40},"218":{"44":-40,"46":-40,"65":-40,"192":-40,"193":-40,"194":-40,"195":-40,"196":-40,"197":-40},"219":{"44":-40,"46":-40,"65":-40,"192":-40,"193":-40,"194":-40,"195":-40,"196":-40,"197":-40},"220":{"44":-40,"46":-40,"65":-40,"192":-40,"193":-40,"194":-40,"195":-40,"196":-40,"197":-40},"221":{"44":-140,"46":-140,"58":-60,"59":-60,"65":-110,"79":-85,"97":-140,"101":-140,"105":-20,"111":-140,"117":-110,"173":-140,"192":-110,"193":-110,"194":-110,"195":-110,"196":-110,"197":-110,"210":-85,"211":-85,"212":-85,"213":-85,"214":-85,"216":-85,"224":-140,"225":-140,"226":-140,"227":-70,"228":-140,"229":-140,"232":-140,"233":-140,"234":-140,"235":-140,"237":-20,"242":-140,"243":-140,"244":-140,"245":-140,"246":-140,"248":-140,"249":-110,"250":-110,"251":-110,"252":-110},"224":{"118":-20,"119":-20,"121":-30,"253":-30,"255":-30},"225":{"118":-20,"119":-20,"121":-30,"253":-30,"255":-30},"226":{"118":-20,"119":-20,"121":-30,"253":-30,"255":-30},"227":{"118":-20,"119":-20,"121":-30,"253":-30,"255":-30},"228":{"118":-20,"119":-20,"121":-30,"253":-30,"255":-30},"229":{"118":-20,"119":-20,"121":-30,"253":-30,"255":-30},"231":{"44":-15,"107":-20},"232":{"44":-15,"46":-15,"118":-30,"119":-20,"120":-30,"121":-20,"253":-20,"255":-20},"233":{"44":-15,"46":-15,"118":-30,"119":-20,"120":-30,"121":-20,"253":-20,"255":-20},"234":{"44":-15,"46":-15,"118":-30,"119":-20,"120":-30,"121":-20,"253":-20,"255":-20},"235":{"44":-15,"46":-15,"118":-30,"119":-20,"120":-30,"121":-20,"253":-20,"255":-20},"241":{"117":-10,"118":-20,"121":-15,"249":-10,"250":-10,"251":-10,"252":-10,"253":-15,"255":-15},"242":{"44":-40,"46":-40,"118":-15,"119":-15,"120":-30,"121":-30,"253":-30,"255":-30},"243":{"44":-40,"46":-40,"118":-15,"119":-15,"120":-30,"121":-30,"253":-30,"255":-30},"244":{"44":-40,"46":-40,"118":-15,"119":-15,"120":-30,"121":-30,"253":-30,"255":-30},"245":{"44":-40,"46":-40,"118":-15,"119":-15,"120":-30,"121":-30,"253":-30,"255":-30},"246":{"44":-40,"46":-40,"118":-15,"119":-15,"120":-30,"121":-30,"253":-30,"255":-30},"248":{"44":-95,"46":-95,"97":-55,"98":-55,"99":-55,"100":-55,"101":-55,"102":-55,"103":-55,"104":-55,"105":-55,"106":-55,"107":-55,"108":-55,"109":-55,"110":-55,"111":-55,"112":-55,"113":-55,"114":-55,"115":-55,"116":-55,"117":-55,"118":-70,"119":-70,"120":-85,"121":-70,"122":-55,"154":-55,"158":-55,"224":-55,"225":-55,"226":-55,"227":-55,"228":-55,"229":-55,"231":-55,"232":-55,"233":-55,"234":-55,"235":-55,"236":-55,"237":-55,"238":-55,"239":-55,"241":-55,"242":-55,"243":-55,"244":-55,"245":-55,"246":-55,"248":-55,"249":-55,"250":-55,"251":-55,"252":-55,"253":-70,"255":-70},"253":{"44":-100,"46":-100,"97":-20,"101":-20,"111":-20,"224":-20,"225":-20,"226":-20,"227":-20,"228":-20,"229":-20,"232":-20,"233":-20,"234":-20,"235":-20,"242":-20,"243":-20,"244":-20,"245":-20,"246":-20,"248":-20},"255":{"44":-100,"46":-100,"97":-20,"101":-20,"111":-20,"224":-20,"225":-20,"226":-20,"227":-20,"228":-20,"229":-20,"232":-20,"233":-20,"234":-20,"235":-20,"242":-20,"243":-20,"244":-20,"245":-20,"246":-20,"248":-20}},"widths":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,null,556,null,222,556,333,1000,556,556,333,1000,667,333,1000,null,611,null,null,222,222,333,333,350,556,1000,333,1000,500,333,944,null,500,500,278,333,556,556,556,556,260,556,333,737,370,556,584,333,737,333,400,584,333,333,333,556,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1000,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,584,611,556,556,556,556,500,556,500]}')},function(module,exports,__webpack_require__){"use strict";module.exports='!!!Djz!WW3#D/OH9;Fa%r=BSfM#MB(Z!#knQ!$hOd@:O@tzzzz!!!!"zz!!)`D!!*\'"!!(J"z\'&psr`WC#h?J?20S8TbAzzzzzzz!!!!1A7]gl!!!$f!!!"E@TZc:!!!&8!!!!5@T65m!!!&L!!!95B2hbr!!!&L!!!95E`>q(!!!&L!!!95A8Pjf!!!>`!!!"TB38;?!!!@>!!!!5CisT/!!!@R!!!!5D.R-s!!!@f!!!!E@V]q)!!!A5!!!!5E`cIJ!!!AI!!!!5FCerq!!!A]!!!!-G\'.A,!!!Ai!!!"SGB@eG!!!CG!!!!5@rQI1!!!C[!!!!X@q]:]!!!D>!!!!MA7]glz!!!!@F&GLp+A#!h2DI3M2D$[90d\'qA@:O\'qF(8WpARkc@zzzzzzzzzzzzzzzzzzzz=BSfMz!!":;!!!O_!!\'IR@s)g8z!!!-%!!!!&!"&]:!#,DN!$2+b!%7h!!&=O5!\':0G!(?l[!)ESo!*K;.!+Q"B!,V^V!-\\Ej!.b-)!/gi=!0mPQ!1s7e!3#t$!3uU6!5&<J!6,#^!71_r!8@M3!9F4H!:U!^!;cct!=&W7!>>JO!?V=g!@n1+!B:*D!C[#_!E&r$!FPq@!H%p\\!IOp#!K-uA!La%_!N?+)!P&6I!QbAi!SIM4!U0XU!Vuj"!Xo,E!Z_=h!\\XU7!^Ql\\!`T5,!bVRS!dXp$!fd>L!hoat!k&0H!m:Yq!oO.G!qcWq!t,2H"!Iau"#pBM"&B#&"(hXU"+C?0"-s%`"0Ma;"31Mm"5j:J"8N\'(";:n\\">\'a<"@rYq"ChRS"F^K4"I]Il"L\\HO"OdM4"RlQn"UtVT"Y0a;"\\Al""_S!_"bm2H"f;I2"iUYq"m#p]"pP8I"t\'U6#"Sr$#&4?h#)ibW#-S6H#13Y8#5&3+#8mas#<`;f#@RjZ#DNJO#HS0F#LWk=#P\\Q4#Tj=-#Y#)\'#]9p"#aPar#egSm#j2Kj#nRCh#s&Ag$"O?f$\',Cg$+^Gh$0;Kj$5!Um$9\\_q$>Kp!$CD1\'$H3A-$M+W5$R,s=$W.:G$\\/VP$a:#[$fMKh$k`su$ptG.%!;u=%&XNL%+u\'\\%1Nan%6tA+%<N&>%B0fS%GhQh%MK=)%S7.@%Y"tX%^lkq%dji6%j_`P%pfcm&!da4&\'kdQ&.&mp&47";&:P1[&@iA(&G6VK&MXkn&T&,=&ZQGb&a0i4&ge5[&nDW.&u-)W\'&sW-\'-e/X\'4V].\';Q;\\\'BKo4\'IOSd\'P\\>?\'Wi(p\'^uhM\'f6Y+\'mLI_\'tk@?(\'>=!(.f9X(696:(=j8t(EF;X(M+D>(TnS&(\\\\ac(dJpL(lB06(tBK")\'Bec)/C+P)7LL>)?^s.)GqDs)P.kd)XJCW)`o!K)i>T?)ql85*%Dq+*.&[#*6]Dq*?H4k*H3$e*Q&oa*Yoe^*bla\\*ki][*to_[+))g]+28o_+;H"b+D`0f+N,Dl+WMXr+a"s%+jM8.+t"R7,(_#B,2FIN,<-o[,EsFi,Ocs#,Y]P3,c`3E,mbkW-"nTk--%>+-7:-A-ANqW-Klfo-V5\\3-`\\WM-k.Rh-ugZ0.+B[M.6&bl.@hp7.KV(W.VL<$.aKUH.lJnl/"J3</-RRb/8d#5/CuH^/O:t3/ZUJ^/f$\'5/qP^b0((A<03U#k0?5aF0JtP#0VgDW0bQ350nM-k1%I(L11N)/1=S)h1Ia0M1Uo721b1Co1nHPV2%qiA22=\'+2>oEl2KC^Y2X*.G2deS72qL#\'3)DSn364)`3C5`U3P7BJ3]9$@3jLg84"WO04/tC+4=<7&4JY+"4X*$t4eY$s4s3$s5+k*t59W7"5GCC%5U/O)5c-g05q,*76**B?681`H6FB/S6TRS_6bl(l6q9Y&7*\\4679)dF7G^KX7V>2k7dro*7sdbA8-MOW8<HHp8KCB48Z>;N8iK@j9#O@292eKP9B&Vp9QEh<9`e$]9p8<,:*iYQ::F"!:J"?G:Yehp:iT=D;$Klo;4CGF;DD\'s;TD]L;dWJ\';ta0W<0(#5<@Cji<PhcI<a8\\)<qfZ`=-?YC=>*d)=Nahc=_V$K=pJ53>,GKr>=Db]>NK*I>_ZM7>pip&?--Ck?>Nr]?OpLP?aF,D?rpa9@/OG/@A73\'@S(%!@dmkpA!^]kA3a[iAEdYgAWgWfAj\'ahB\'<kjB9QumBKp0rB^BG#Bprc+C.N*3CA2L>CSttJCfbGVD$XudD7ONsDJO..D]WhADp`MSE/&>iEB8*)EU\\!AEi*mYF\'WjsF;/h9FNekUFbOtsG!:)=G5-8^GI)N+G]%cMGq+)rH09KCHDPrkHXhE>Hm*lgI,TK>IA))jIU[cCIj9GrJ)u2NJ>e#+JSTh]JhVe>K(O[sK=Z^VKRea9Kh$itL(8rYL=_2BLS\'A*LhV[jM)1!VM>iBCMTUi2MjB;!N+7ghNA6E[NW5#NNm<\\DO.MF;OD^02O["u,OqEk\'P2ha#PI?\\uP_t^tQ!]fuQ8Fo"QO9(%Qf+6)R(/P0R?3j7RV8/?RmNUJS/e&USG/RbS^O)pT!"\\+T8T?<TP:(OTgtfbU*cV#UB[K:UZS@QUrT;kV5^=1VMh>MVf&EjW)BS4WAgfUWZ8%"Wrf>EX6H]jXO+(;XgkMcY+`$7YD]UbY][28Z!aifZ:hL?ZT,:oZmE)L[1fs*[K3g^[d^b>\\)=c!\\C%iZ\\\\bp>]!].&];N:b]UQSL]oTl7^4a6#^O!Zf^i7*U_.UUE_I(17_cXh+`)4Iu`Cn1k`^[tca$Ib\\a?@VWaZ@PSauIPQb;RPPbVdVPbr*bRc8NtVcSs1[coKIad6,gjdQc0rdmV[)e4J05eP=ZBelC;Rf3HqcfOWXufkf@3g323IgOS&_gkso!h3Qn;hP/mVhlkrri4\\);iQU:[inNL\'j6PcIjS\\+mjpgI=k9&ldkVDA7ksjpal<EQ8lYu1em"Xm>m@<Smm^2FJn\'(9\'nE\'1\\nc/0=o,7.toJH3Wohb><p20O#pPS_`po+!Jq8`>5qWIa"r!3.er@.]Vr_*7Gs)%f9A7]glz!!!!O8OYuh2DI3M2D$[90d&kqAmoguF<FIO66JX6Ci=H:+B*5f@q?c7+ELFN63$uczzzzzzzzzzzzzzzzzzz=BSfMz!!$Jr!!\'K^!!!ki=BSfMzz!)NXqzD.R-sz!!!!"zzzzz!!!!#=BSfMz!!!"j!!!"p!!!"S=BSfMz!!$r3!!#"O!!!+_F(o80z6W-l+A7]glz!!!!N;IsHOEb0,uAKY#fATqj+B-9Q[DIdI\'Bl@l3Bl5%b77/1U0f_-M/M\\n4zzzzzzzzzzzzzzzzzzzz=BSfMz!!)`D!!*\'"!!(J"FCf]=z6Z6phEbT0"F<F.mFCfK1@<?4%DII?(6Z6dZEZd_fDKB`:FD5l7/0H]%0KB+5F(R3`z!!*Kr!!!2[s8V[;!!!7g!!)tYs8Vtis8W%l!!!,U!!\'fW'},function(module,exports,__webpack_require__){"use strict";const PDF=__webpack_require__(151),Header=__webpack_require__(899);module.exports=class extends Header{constructor(doc,parent){super(doc,parent)}_createObject(){const xobj=Header.prototype._createObject.call(this);return xobj.prop("Matrix",this._matrix.toReference()),xobj}async _pageBreak(level){throw new Error("Footer is to long (tried to execute a page break inside the footer)")}async _start(){this._matrix=new PDF.Object,this._doc._registerObject(this._matrix),await Header.prototype._start.call(this)}async _end(){const innerHeight=this._doc._cursor.startY-this._doc._cursor.bottom;await Header.prototype._end.call(this);const offset=innerHeight-this.height;this._matrix.content=new PDF.Array([1,0,0,1,0,-offset]),await this._doc._writeObject(this._matrix);for(const instance of this._pageNumbers)instance.y-=offset}}},function(module,exports,__webpack_require__){"use strict";const opentype=__webpack_require__(1231),FontSubset=__webpack_require__(1453),PDFObject=(__webpack_require__(296),__webpack_require__(409)),PDFDictionary=__webpack_require__(408),PDFString=__webpack_require__(295),PDFArray=__webpack_require__(407),PDFStream=__webpack_require__(897),Base=__webpack_require__(627),StringWidth=Base.StringWidth,util=__webpack_require__(150);module.exports=class extends Base{constructor(b){super();const ab=util.toArrayBuffer(b);this.font=opentype.parse(ab)}instance(){return new OTFFont(this.font,this)}};class OTFFont{constructor(font,parent){this.font=font,this.parent=parent,this.subset=new FontSubset(this.font),this.subset.use(" ")}encode(str){return this.subset.use(str),new PDFString(this.subset.encode(str)).toHexString()}stringWidth(str,size){const scale=size/this.font.unitsPerEm,glyphs=this.font.stringToGlyphs(str),kerning=[];let width=0;for(let i=0,len=glyphs.length;i<len;++i){const left=glyphs[i],right=glyphs[i+1];if(width+=left.advanceWidth,right){const offset=-this.font.getKerningValue(left,right);0!==offset&&(width+=offset,kerning.push({pos:i+1,offset:offset}))}}return new StringWidth(width*scale,kerning)}lineHeight(size,includeGap){null==includeGap&&(includeGap=!1);const gap=includeGap?this.font.tables.os2.sTypoLineGap:0;return(this.font.tables.os2.sTypoAscender+gap-this.font.tables.os2.sTypoDescender)*size/this.font.unitsPerEm}ascent(size){return this.font.tables.os2.sTypoAscender*size/this.font.unitsPerEm}descent(size){return this.font.tables.os2.sTypoDescender*size/this.font.unitsPerEm}underlinePosition(size){return this.font.tables.post.underlinePosition*size/this.font.unitsPerEm}underlineThickness(size){return this.font.tables.post.underlineThickness*size/this.font.unitsPerEm}async write(doc,fontObj){const head=this.font.tables.head,scaleFactor=1e3/this.font.unitsPerEm;let flags=0;const familyClass=(this.font.tables.os2.sFamilyClass||0)>>8,isSerif=!!~[1,2,3,4,5,6,7].indexOf(familyClass),isFixedPitch=this.font.tables.post.isFixedPitch,italicAngle=this.font.tables.post.italicAngle;isFixedPitch&&(flags|=1),isSerif&&(flags|=2),10===familyClass&&(flags|=8),0!==italicAngle&&(flags|=64),flags|=32;const descriptor=new PDFObject("FontDescriptor");descriptor.prop("FontName",this.subset.name),descriptor.prop("Flags",flags),descriptor.prop("FontBBox",new PDFArray([head.xMin*scaleFactor,head.yMin*scaleFactor,head.xMax*scaleFactor,head.yMax*scaleFactor])),descriptor.prop("ItalicAngle",italicAngle),descriptor.prop("Ascent",this.font.tables.os2.sTypoAscender*scaleFactor),descriptor.prop("Descent",this.font.tables.os2.sTypoDescender*scaleFactor),descriptor.prop("CapHeight",this.font.tables.os2.sCapHeight*scaleFactor),descriptor.prop("XHeight",this.font.tables.os2.sxHeight*scaleFactor),descriptor.prop("StemV",0);const descendant=new PDFObject("Font");descendant.prop("Subtype","CIDFontType0"),descendant.prop("BaseFont",this.font.names.postScriptName.en),descendant.prop("DW",1e3),descendant.prop("CIDToGIDMap","Identity"),descendant.prop("CIDSystemInfo",new PDFDictionary({Ordering:new PDFString("Identity"),Registry:new PDFString("Adobe"),Supplement:0})),descendant.prop("FontDescriptor",descriptor.toReference()),fontObj.prop("Subtype","Type0"),fontObj.prop("BaseFont",this.font.names.postScriptName.en),fontObj.prop("Encoding","Identity-H"),fontObj.prop("DescendantFonts",new PDFArray([descendant.toReference()]));const metrics=[],codeMap=this.subset.cmap();for(const code in codeMap){if(code<32)continue;const width=Math.round(this.subset.glyphs[code].advanceWidth*scaleFactor);metrics.push(code-31),metrics.push(new PDFArray([width]))}descendant.prop("W",new PDFArray(metrics));const cmap=new PDFStream;cmap.writeLine("/CIDInit /ProcSet findresource begin"),cmap.writeLine("12 dict begin"),cmap.writeLine("begincmap"),cmap.writeLine("/CIDSystemInfo <<"),cmap.writeLine("  /Registry (Adobe)"),cmap.writeLine("  /Ordering (Identity)"),cmap.writeLine("  /Supplement 0"),cmap.writeLine(">> def"),cmap.writeLine("/CMapName /Identity-H"),cmap.writeLine("/CMapType 2 def"),cmap.writeLine("1 begincodespacerange"),cmap.writeLine("<0000><ffff>"),cmap.writeLine("endcodespacerange");const mapping=this.subset.subset,lines=[];for(const code in mapping)if(!(code<32)){if(lines.length>=100){cmap.writeLine(lines.length+" beginbfchar");for(let i=0;i<lines.length;++i)cmap.writeLine(lines[i]);cmap.writeLine("endbfchar"),lines.length=0}lines.push("<"+("0000"+(+code-31).toString(16)).slice(-4)+"><"+("0000"+mapping[code].toString(16)).slice(-4)+">")}lines.length&&(cmap.writeLine(lines.length+" beginbfchar"),lines.forEach(function(line){cmap.writeLine(line)}),cmap.writeLine("endbfchar")),cmap.writeLine("endcmap"),cmap.writeLine("CMapName currentdict /CMap defineresource pop"),cmap.writeLine("end"),cmap.writeLine("end"),fontObj.prop("ToUnicode",cmap.toReference());const data=this.subset.save(),hex=function(ab){const view=new Uint8Array(ab);let hex="";for(let i=0,len=ab.byteLength;i<len;++i)hex+=toHex(view[i]);return hex}(data),file=new PDFStream;file.object.prop("Subtype","OpenType"),file.object.prop("Length",hex.length+1),file.object.prop("Length1",data.byteLength),file.object.prop("Filter","ASCIIHexDecode"),file.content=hex+">\n",descriptor.prop("FontFile3",file.toReference()),await doc._writeObject(file),await doc._writeObject(descriptor),await doc._writeObject(descendant),await doc._writeObject(cmap),await doc._writeObject(fontObj)}}function toHex(n){return n<16?"0"+n.toString(16):n.toString(16)}},function(module,exports,__webpack_require__){"use strict";const opentype=__webpack_require__(1231);module.exports=class{constructor(font){this.font=font,this.name="PDFJS+"+this.font.names.fontFamily.en,this.glyphs={0:this.font.charToGlyph(String.fromCharCode(0)),32:this.font.charToGlyph(String.fromCharCode(32))},this.subset={0:0,32:32},this.mapping={0:0,32:32},this.pos=33}use(chars){for(let i=0,len=chars.length;i<len;++i){const code=chars.charCodeAt(i);if(code in this.mapping||code<33)continue;const glyph=this.font.charToGlyph(chars[i]);this.subset[this.pos]=code,this.mapping[code]=this.pos,this.glyphs[this.pos]=glyph,this.pos++}}encode(str){const codes=[];for(let i=0,len=str.length;i<len;++i)codes.push(this.mapping[str.charCodeAt(i)]);return String.fromCharCode.apply(String,codes)}cmap(){return this.subset}save(){const glyphs=[];for(const pos in this.glyphs)glyphs.push(this.glyphs[pos]);return new opentype.Font({familyName:this.name,styleName:this.font.names.fontSubfamily.en,unitsPerEm:this.font.unitsPerEm,ascender:this.font.ascender,descender:this.font.descender,glyphs:glyphs}).toArrayBuffer()}}},function(module,exports,__webpack_require__){"use strict";const PDF=__webpack_require__(151);function toHex(n){return n<16?"0"+n.toString(16):n.toString(16)}module.exports=class{constructor(src){this.src=src,this.xobjCount=1;const view=new DataView(src);if(255!==view.getUint8(0)||216!==view.getUint8(1))throw new Error("Invalid JPEG image.");let blockLength=256*view.getUint8(4)+view.getUint8(5);const len=view.byteLength;let i=4;for(;i<len;){if(i+=blockLength,255!==view.getUint8(i))throw new Error("Could not read JPEG the image size");if(192===view.getUint8(i+1)||193===view.getUint8(i+1)||194===view.getUint8(i+1)||195===view.getUint8(i+1)||196===view.getUint8(i+1)||197===view.getUint8(i+1)||198===view.getUint8(i+1)||199===view.getUint8(i+1)){switch(this.height=256*view.getUint8(i+5)+view.getUint8(i+6),this.width=256*view.getUint8(i+7)+view.getUint8(i+8),view.getUint8(i+9)){case 3:this.colorSpace="DeviceRGB";break;case 1:this.colorSpace="DeviceGRAY"}break}i+=2,blockLength=256*view.getUint8(i)+view.getUint8(i+1)}}async write(doc,xobjs){const xobj=xobjs[0];xobj.prop("Subtype","Image"),xobj.prop("Width",this.width),xobj.prop("Height",this.height),xobj.prop("ColorSpace",this.colorSpace),xobj.prop("BitsPerComponent",8);const hex=function(ab){const view=new Uint8Array(ab);let hex="";for(let i=0,len=ab.byteLength;i<len;++i)hex+=toHex(view[i]);return hex}(this.src);xobj.prop("Filter",new PDF.Array(["/ASCIIHexDecode","/DCTDecode"])),xobj.prop("Length",hex.length+1),xobj.prop("Length1",this.src.byteLength),new PDF.Stream(xobj).content=hex+">\n",await doc._writeObject(xobj)}}},function(module){module.exports=JSON.parse('{"fontName":"Helvetica-Bold","fullName":"Helvetica Bold","familyName":"Helvetica","italicAngle":0,"characterSet":"ExtendedRoman","fontBBox":[-170,-228,1003,962],"underlinePosition":-100,"underlineThickness":50,"capHeight":718,"xHeight":532,"ascender":718,"descender":-207,"kerning":{"44":{"146":-120,"148":-120,"160":-40},"46":{"146":-120,"148":-120,"160":-40},"58":{"160":-40},"59":{"160":-40},"65":{"67":-40,"71":-50,"79":-40,"81":-40,"84":-90,"85":-50,"86":-80,"87":-60,"89":-110,"117":-30,"118":-40,"119":-30,"121":-30,"199":-40,"210":-40,"211":-40,"212":-40,"213":-40,"214":-40,"216":-40,"217":-50,"218":-50,"219":-50,"220":-50,"221":-110,"249":-30,"250":-30,"251":-30,"252":-30,"253":-30,"255":-30},"66":{"65":-30,"85":-10,"192":-30,"193":-30,"194":-30,"195":-30,"196":-30,"197":-30,"217":-10,"218":-10,"219":-10,"220":-10},"68":{"44":-30,"46":-30,"65":-40,"86":-40,"87":-40,"89":-70,"192":-40,"193":-40,"194":-40,"195":-40,"196":-40,"197":-40,"221":-70},"70":{"44":-100,"46":-100,"65":-80,"97":-20,"192":-80,"193":-80,"194":-80,"195":-80,"196":-80,"197":-80,"224":-20,"225":-20,"226":-20,"227":-20,"228":-20,"229":-20},"74":{"44":-20,"46":-20,"65":-20,"117":-20,"192":-20,"193":-20,"194":-20,"195":-20,"196":-20,"197":-20,"249":-20,"250":-20,"251":-20,"252":-20},"75":{"79":-30,"101":-15,"111":-35,"117":-30,"121":-40,"210":-30,"211":-30,"212":-30,"213":-30,"214":-30,"216":-30,"232":-15,"233":-15,"234":-15,"235":-15,"242":-35,"243":-35,"244":-35,"245":-35,"246":-35,"248":-35,"249":-30,"250":-30,"251":-30,"252":-30,"253":-40,"255":-40},"76":{"84":-90,"86":-110,"87":-80,"89":-120,"121":-30,"146":-140,"148":-140,"221":-120,"253":-30,"255":-30},"79":{"44":-40,"46":-40,"65":-50,"84":-40,"86":-50,"87":-50,"88":-50,"89":-70,"192":-50,"193":-50,"194":-50,"195":-50,"196":-50,"197":-50,"221":-70},"80":{"44":-120,"46":-120,"65":-100,"97":-30,"101":-30,"111":-40,"192":-100,"193":-100,"194":-100,"195":-100,"196":-100,"197":-100,"224":-30,"225":-30,"226":-30,"227":-30,"228":-30,"229":-30,"232":-30,"233":-30,"234":-30,"235":-30,"242":-40,"243":-40,"244":-40,"245":-40,"246":-40,"248":-40},"81":{"44":20,"46":20,"85":-10,"217":-10,"218":-10,"219":-10,"220":-10},"82":{"79":-20,"84":-20,"85":-20,"86":-50,"87":-40,"89":-50,"210":-20,"211":-20,"212":-20,"213":-20,"214":-20,"216":-20,"217":-20,"218":-20,"219":-20,"220":-20,"221":-50},"84":{"44":-80,"46":-80,"58":-40,"59":-40,"65":-90,"79":-40,"97":-80,"101":-60,"111":-80,"114":-80,"117":-90,"119":-60,"121":-60,"173":-120,"192":-90,"193":-90,"194":-90,"195":-90,"196":-90,"197":-90,"210":-40,"211":-40,"212":-40,"213":-40,"214":-40,"216":-40,"224":-80,"225":-80,"226":-80,"227":-80,"228":-80,"229":-80,"232":-60,"233":-60,"234":-60,"235":-60,"242":-80,"243":-80,"244":-80,"245":-80,"246":-80,"248":-80,"249":-90,"250":-90,"251":-90,"252":-90,"253":-60,"255":-60},"85":{"44":-30,"46":-30,"65":-50,"192":-50,"193":-50,"194":-50,"195":-50,"196":-50,"197":-50},"86":{"44":-120,"46":-120,"58":-40,"59":-40,"65":-80,"71":-50,"79":-50,"97":-60,"101":-50,"111":-90,"117":-60,"173":-80,"192":-80,"193":-80,"194":-80,"195":-80,"196":-80,"197":-80,"210":-50,"211":-50,"212":-50,"213":-50,"214":-50,"216":-50,"224":-60,"225":-60,"226":-60,"227":-60,"228":-60,"229":-60,"232":-50,"233":-50,"234":-50,"235":-50,"242":-90,"243":-90,"244":-90,"245":-90,"246":-90,"248":-90,"249":-60,"250":-60,"251":-60,"252":-60},"87":{"44":-80,"46":-80,"58":-10,"59":-10,"65":-60,"79":-20,"97":-40,"101":-35,"111":-60,"117":-45,"121":-20,"173":-40,"192":-60,"193":-60,"194":-60,"195":-60,"196":-60,"197":-60,"210":-20,"211":-20,"212":-20,"213":-20,"214":-20,"216":-20,"224":-40,"225":-40,"226":-40,"227":-40,"228":-40,"229":-40,"232":-35,"233":-35,"234":-35,"235":-35,"242":-60,"243":-60,"244":-60,"245":-60,"246":-60,"248":-60,"249":-45,"250":-45,"251":-45,"252":-45,"253":-20,"255":-20},"89":{"44":-100,"46":-100,"58":-50,"59":-50,"65":-110,"79":-70,"97":-90,"101":-80,"111":-100,"117":-100,"192":-110,"193":-110,"194":-110,"195":-110,"196":-110,"197":-110,"210":-70,"211":-70,"212":-70,"213":-70,"214":-70,"216":-70,"224":-90,"225":-90,"226":-90,"227":-90,"228":-90,"229":-90,"232":-80,"233":-80,"234":-80,"235":-80,"242":-100,"243":-100,"244":-100,"245":-100,"246":-100,"248":-100,"249":-100,"250":-100,"251":-100,"252":-100},"97":{"103":-10,"118":-15,"119":-15,"121":-20,"253":-20,"255":-20},"98":{"108":-10,"117":-20,"118":-20,"121":-20,"249":-20,"250":-20,"251":-20,"252":-20,"253":-20,"255":-20},"99":{"104":-10,"107":-20,"108":-20,"121":-10,"253":-10,"255":-10},"100":{"100":-10,"118":-15,"119":-15,"121":-15,"253":-15,"255":-15},"101":{"44":10,"46":20,"118":-15,"119":-15,"120":-15,"121":-15,"253":-15,"255":-15},"102":{"44":-10,"46":-10,"101":-10,"111":-20,"146":30,"148":30,"232":-10,"233":-10,"234":-10,"235":-10,"242":-20,"243":-20,"244":-20,"245":-20,"246":-20,"248":-20},"103":{"101":10,"103":-10,"232":10,"233":10,"234":10,"235":10},"104":{"121":-20,"253":-20,"255":-20},"107":{"111":-15,"242":-15,"243":-15,"244":-15,"245":-15,"246":-15,"248":-15},"108":{"119":-15,"121":-15,"253":-15,"255":-15},"109":{"117":-20,"121":-30,"249":-20,"250":-20,"251":-20,"252":-20,"253":-30,"255":-30},"110":{"117":-10,"118":-40,"121":-20,"249":-10,"250":-10,"251":-10,"252":-10,"253":-20,"255":-20},"111":{"118":-20,"119":-15,"120":-30,"121":-20,"253":-20,"255":-20},"112":{"121":-15,"253":-15,"255":-15},"114":{"44":-60,"46":-60,"99":-20,"100":-20,"103":-15,"111":-20,"113":-20,"115":-15,"116":20,"118":10,"121":10,"154":-15,"173":-20,"231":-20,"242":-20,"243":-20,"244":-20,"245":-20,"246":-20,"248":-20,"253":10,"255":10},"115":{"119":-15},"118":{"44":-80,"46":-80,"97":-20,"111":-30,"224":-20,"225":-20,"226":-20,"227":-20,"228":-20,"229":-20,"242":-30,"243":-30,"244":-30,"245":-30,"246":-30,"248":-30},"119":{"44":-40,"46":-40,"111":-20,"242":-20,"243":-20,"244":-20,"245":-20,"246":-20,"248":-20},"120":{"101":-10,"232":-10,"233":-10,"234":-10,"235":-10},"121":{"44":-80,"46":-80,"97":-30,"101":-10,"111":-25,"224":-30,"225":-30,"226":-30,"227":-30,"228":-30,"229":-30,"232":-10,"233":-10,"234":-10,"235":-10,"242":-25,"243":-25,"244":-25,"245":-25,"246":-25,"248":-25},"122":{"101":10,"232":10,"233":10,"234":10,"235":10},"145":{"145":-46},"146":{"100":-80,"108":-20,"114":-40,"115":-60,"118":-20,"146":-46,"154":-60,"160":-80},"148":{"160":-80},"154":{"119":-15},"158":{"101":10,"232":10,"233":10,"234":10,"235":10},"160":{"84":-100,"86":-80,"87":-80,"89":-120,"145":-60,"147":-80,"221":-120},"192":{"67":-40,"71":-50,"79":-40,"81":-40,"84":-90,"85":-50,"86":-80,"87":-60,"89":-110,"117":-30,"118":-40,"119":-30,"121":-30,"199":-40,"210":-40,"211":-40,"212":-40,"213":-40,"214":-40,"216":-40,"217":-50,"218":-50,"219":-50,"220":-50,"221":-110,"249":-30,"250":-30,"251":-30,"252":-30,"253":-30,"255":-30},"193":{"67":-40,"71":-50,"79":-40,"81":-40,"84":-90,"85":-50,"86":-80,"87":-60,"89":-110,"117":-30,"118":-40,"119":-30,"121":-30,"199":-40,"210":-40,"211":-40,"212":-40,"213":-40,"214":-40,"216":-40,"217":-50,"218":-50,"219":-50,"220":-50,"221":-110,"249":-30,"250":-30,"251":-30,"252":-30,"253":-30,"255":-30},"194":{"67":-40,"71":-50,"79":-40,"81":-40,"84":-90,"85":-50,"86":-80,"87":-60,"89":-110,"117":-30,"118":-40,"119":-30,"121":-30,"199":-40,"210":-40,"211":-40,"212":-40,"213":-40,"214":-40,"216":-40,"217":-50,"218":-50,"219":-50,"220":-50,"221":-110,"249":-30,"250":-30,"251":-30,"252":-30,"253":-30,"255":-30},"195":{"67":-40,"71":-50,"79":-40,"81":-40,"84":-90,"85":-50,"86":-80,"87":-60,"89":-110,"117":-30,"118":-40,"119":-30,"121":-30,"199":-40,"210":-40,"211":-40,"212":-40,"213":-40,"214":-40,"216":-40,"217":-50,"218":-50,"219":-50,"220":-50,"221":-110,"249":-30,"250":-30,"251":-30,"252":-30,"253":-30,"255":-30},"196":{"67":-40,"71":-50,"79":-40,"81":-40,"84":-90,"85":-50,"86":-80,"87":-60,"89":-110,"117":-30,"118":-40,"119":-30,"121":-30,"199":-40,"210":-40,"211":-40,"212":-40,"213":-40,"214":-40,"216":-40,"217":-50,"218":-50,"219":-50,"220":-50,"221":-110,"249":-30,"250":-30,"251":-30,"252":-30,"253":-30,"255":-30},"197":{"67":-40,"71":-50,"79":-40,"81":-40,"84":-90,"85":-50,"86":-80,"87":-60,"89":-110,"117":-30,"118":-40,"119":-30,"121":-30,"199":-40,"210":-40,"211":-40,"212":-40,"213":-40,"214":-40,"216":-40,"217":-50,"218":-50,"219":-50,"220":-50,"221":-110,"249":-30,"250":-30,"251":-30,"252":-30,"253":-30,"255":-30},"210":{"44":-40,"46":-40,"65":-50,"84":-40,"86":-50,"87":-50,"88":-50,"89":-70,"192":-50,"193":-50,"194":-50,"195":-50,"196":-50,"197":-50,"221":-70},"211":{"44":-40,"46":-40,"65":-50,"84":-40,"86":-50,"87":-50,"88":-50,"89":-70,"192":-50,"193":-50,"194":-50,"195":-50,"196":-50,"197":-50,"221":-70},"212":{"44":-40,"46":-40,"65":-50,"84":-40,"86":-50,"87":-50,"88":-50,"89":-70,"192":-50,"193":-50,"194":-50,"195":-50,"196":-50,"197":-50,"221":-70},"213":{"44":-40,"46":-40,"65":-50,"84":-40,"86":-50,"87":-50,"88":-50,"89":-70,"192":-50,"193":-50,"194":-50,"195":-50,"196":-50,"197":-50,"221":-70},"214":{"44":-40,"46":-40,"65":-50,"84":-40,"86":-50,"87":-50,"88":-50,"89":-70,"192":-50,"193":-50,"194":-50,"195":-50,"196":-50,"197":-50,"221":-70},"216":{"44":-40,"46":-40,"65":-50,"84":-40,"86":-50,"87":-50,"88":-50,"89":-70,"192":-50,"193":-50,"194":-50,"195":-50,"196":-50,"197":-50,"221":-70},"217":{"44":-30,"46":-30,"65":-50,"192":-50,"193":-50,"194":-50,"195":-50,"196":-50,"197":-50},"218":{"44":-30,"46":-30,"65":-50,"192":-50,"193":-50,"194":-50,"195":-50,"196":-50,"197":-50},"219":{"44":-30,"46":-30,"65":-50,"192":-50,"193":-50,"194":-50,"195":-50,"196":-50,"197":-50},"220":{"44":-30,"46":-30,"65":-50,"192":-50,"193":-50,"194":-50,"195":-50,"196":-50,"197":-50},"221":{"44":-100,"46":-100,"58":-50,"59":-50,"65":-110,"79":-70,"97":-90,"101":-80,"111":-100,"117":-100,"192":-110,"193":-110,"194":-110,"195":-110,"196":-110,"197":-110,"210":-70,"211":-70,"212":-70,"213":-70,"214":-70,"216":-70,"224":-90,"225":-90,"226":-90,"227":-90,"228":-90,"229":-90,"232":-80,"233":-80,"234":-80,"235":-80,"242":-100,"243":-100,"244":-100,"245":-100,"246":-100,"248":-100,"249":-100,"250":-100,"251":-100,"252":-100},"224":{"103":-10,"118":-15,"119":-15,"121":-20,"253":-20,"255":-20},"225":{"103":-10,"118":-15,"119":-15,"121":-20,"253":-20,"255":-20},"226":{"103":-10,"118":-15,"119":-15,"121":-20,"253":-20,"255":-20},"227":{"103":-10,"118":-15,"119":-15,"121":-20,"253":-20,"255":-20},"228":{"103":-10,"118":-15,"119":-15,"121":-20,"253":-20,"255":-20},"229":{"103":-10,"118":-15,"119":-15,"121":-20,"253":-20,"255":-20},"231":{"104":-10,"107":-20,"108":-20,"121":-10,"253":-10,"255":-10},"232":{"44":10,"46":20,"118":-15,"119":-15,"120":-15,"121":-15,"253":-15,"255":-15},"233":{"44":10,"46":20,"118":-15,"119":-15,"120":-15,"121":-15,"253":-15,"255":-15},"234":{"44":10,"46":20,"118":-15,"119":-15,"120":-15,"121":-15,"253":-15,"255":-15},"235":{"44":10,"46":20,"118":-15,"119":-15,"120":-15,"121":-15,"253":-15,"255":-15},"241":{"117":-10,"118":-40,"121":-20,"249":-10,"250":-10,"251":-10,"252":-10,"253":-20,"255":-20},"242":{"118":-20,"119":-15,"120":-30,"121":-20,"253":-20,"255":-20},"243":{"118":-20,"119":-15,"120":-30,"121":-20,"253":-20,"255":-20},"244":{"118":-20,"119":-15,"120":-30,"121":-20,"253":-20,"255":-20},"245":{"118":-20,"119":-15,"120":-30,"121":-20,"253":-20,"255":-20},"246":{"118":-20,"119":-15,"120":-30,"121":-20,"253":-20,"255":-20},"248":{"118":-20,"119":-15,"120":-30,"121":-20,"253":-20,"255":-20},"253":{"44":-80,"46":-80,"97":-30,"101":-10,"111":-25,"224":-30,"225":-30,"226":-30,"227":-30,"228":-30,"229":-30,"232":-10,"233":-10,"234":-10,"235":-10,"242":-25,"243":-25,"244":-25,"245":-25,"246":-25,"248":-25},"255":{"44":-80,"46":-80,"97":-30,"101":-10,"111":-25,"224":-30,"225":-30,"226":-30,"227":-30,"228":-30,"229":-30,"232":-10,"233":-10,"234":-10,"235":-10,"242":-25,"243":-25,"244":-25,"245":-25,"246":-25,"248":-25}},"widths":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,null,556,null,278,556,500,1000,556,556,333,1000,667,333,1000,null,611,null,null,278,278,500,500,350,556,1000,333,1000,556,333,944,null,500,556,278,333,556,556,556,556,280,556,333,737,370,556,584,333,737,333,400,584,333,333,333,611,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1000,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,584,611,611,611,611,611,556,611,556]}')},function(module,exports,__webpack_require__){const AFMFont=__webpack_require__(900);module.exports=new AFMFont(__webpack_require__(1457))},function(module){module.exports=JSON.parse('{"fontName":"Helvetica-Oblique","fullName":"Helvetica Oblique","familyName":"Helvetica","italicAngle":-12,"characterSet":"ExtendedRoman","fontBBox":[-170,-225,1116,931],"underlinePosition":-100,"underlineThickness":50,"capHeight":718,"xHeight":523,"ascender":718,"descender":-207,"kerning":{"44":{"146":-100,"148":-100},"46":{"146":-100,"148":-100,"160":-60},"58":{"160":-50},"59":{"160":-50},"65":{"67":-30,"71":-30,"79":-30,"81":-30,"84":-120,"85":-50,"86":-70,"87":-50,"89":-100,"117":-30,"118":-40,"119":-40,"121":-40,"199":-30,"210":-30,"211":-30,"212":-30,"213":-30,"214":-30,"216":-30,"217":-50,"218":-50,"219":-50,"220":-50,"221":-100,"249":-30,"250":-30,"251":-30,"252":-30,"253":-40,"255":-40},"66":{"44":-20,"46":-20,"85":-10,"217":-10,"218":-10,"219":-10,"220":-10},"67":{"44":-30,"46":-30},"68":{"44":-70,"46":-70,"65":-40,"86":-70,"87":-40,"89":-90,"192":-40,"193":-40,"194":-40,"195":-40,"196":-40,"197":-40,"221":-90},"70":{"44":-150,"46":-150,"65":-80,"97":-50,"101":-30,"111":-30,"114":-45,"192":-80,"193":-80,"194":-80,"195":-80,"196":-80,"197":-80,"224":-50,"225":-50,"226":-50,"227":-50,"228":-50,"229":-50,"232":-30,"233":-30,"234":-30,"235":-30,"242":-30,"243":-30,"244":-30,"245":-30,"246":-30,"248":-30},"74":{"44":-30,"46":-30,"65":-20,"97":-20,"117":-20,"192":-20,"193":-20,"194":-20,"195":-20,"196":-20,"197":-20,"224":-20,"225":-20,"226":-20,"227":-20,"228":-20,"229":-20,"249":-20,"250":-20,"251":-20,"252":-20},"75":{"79":-50,"101":-40,"111":-40,"117":-30,"121":-50,"210":-50,"211":-50,"212":-50,"213":-50,"214":-50,"216":-50,"232":-40,"233":-40,"234":-40,"235":-40,"242":-40,"243":-40,"244":-40,"245":-40,"246":-40,"248":-40,"249":-30,"250":-30,"251":-30,"252":-30,"253":-50,"255":-50},"76":{"84":-110,"86":-110,"87":-70,"89":-140,"121":-30,"146":-160,"148":-140,"221":-140,"253":-30,"255":-30},"79":{"44":-40,"46":-40,"65":-20,"84":-40,"86":-50,"87":-30,"88":-60,"89":-70,"192":-20,"193":-20,"194":-20,"195":-20,"196":-20,"197":-20,"221":-70},"80":{"44":-180,"46":-180,"65":-120,"97":-40,"101":-50,"111":-50,"192":-120,"193":-120,"194":-120,"195":-120,"196":-120,"197":-120,"224":-40,"225":-40,"226":-40,"227":-40,"228":-40,"229":-40,"232":-50,"233":-50,"234":-50,"235":-50,"242":-50,"243":-50,"244":-50,"245":-50,"246":-50,"248":-50},"81":{"85":-10,"217":-10,"218":-10,"219":-10,"220":-10},"82":{"79":-20,"84":-30,"85":-40,"86":-50,"87":-30,"89":-50,"210":-20,"211":-20,"212":-20,"213":-20,"214":-20,"216":-20,"217":-40,"218":-40,"219":-40,"220":-40,"221":-50},"83":{"44":-20,"46":-20},"84":{"44":-120,"46":-120,"58":-20,"59":-20,"65":-120,"79":-40,"97":-120,"101":-120,"111":-120,"114":-120,"117":-120,"119":-120,"121":-120,"173":-140,"192":-120,"193":-120,"194":-120,"195":-120,"196":-120,"197":-120,"210":-40,"211":-40,"212":-40,"213":-40,"214":-40,"216":-40,"224":-120,"225":-120,"226":-120,"227":-60,"228":-120,"229":-120,"232":-60,"233":-120,"234":-120,"235":-120,"242":-120,"243":-120,"244":-120,"245":-60,"246":-120,"248":-120,"249":-120,"250":-120,"251":-120,"252":-120,"253":-120,"255":-60},"85":{"44":-40,"46":-40,"65":-40,"192":-40,"193":-40,"194":-40,"195":-40,"196":-40,"197":-40},"86":{"44":-125,"46":-125,"58":-40,"59":-40,"65":-80,"71":-40,"79":-40,"97":-70,"101":-80,"111":-80,"117":-70,"173":-80,"192":-80,"193":-80,"194":-80,"195":-80,"196":-80,"197":-80,"210":-40,"211":-40,"212":-40,"213":-40,"214":-40,"216":-40,"224":-70,"225":-70,"226":-70,"227":-70,"228":-70,"229":-70,"232":-80,"233":-80,"234":-80,"235":-80,"242":-80,"243":-80,"244":-80,"245":-80,"246":-80,"248":-80,"249":-70,"250":-70,"251":-70,"252":-70},"87":{"44":-80,"46":-80,"65":-50,"79":-20,"97":-40,"101":-30,"111":-30,"117":-30,"121":-20,"173":-40,"192":-50,"193":-50,"194":-50,"195":-50,"196":-50,"197":-50,"210":-20,"211":-20,"212":-20,"213":-20,"214":-20,"216":-20,"224":-40,"225":-40,"226":-40,"227":-40,"228":-40,"229":-40,"232":-30,"233":-30,"234":-30,"235":-30,"242":-30,"243":-30,"244":-30,"245":-30,"246":-30,"248":-30,"249":-30,"250":-30,"251":-30,"252":-30,"253":-20,"255":-20},"89":{"44":-140,"46":-140,"58":-60,"59":-60,"65":-110,"79":-85,"97":-140,"101":-140,"105":-20,"111":-140,"117":-110,"173":-140,"192":-110,"193":-110,"194":-110,"195":-110,"196":-110,"197":-110,"210":-85,"211":-85,"212":-85,"213":-85,"214":-85,"216":-85,"224":-140,"225":-140,"226":-140,"227":-140,"228":-140,"229":-140,"232":-140,"233":-140,"234":-140,"235":-140,"237":-20,"242":-140,"243":-140,"244":-140,"245":-140,"246":-140,"248":-140,"249":-110,"250":-110,"251":-110,"252":-110},"97":{"118":-20,"119":-20,"121":-30,"253":-30,"255":-30},"98":{"44":-40,"46":-40,"98":-10,"108":-20,"117":-20,"118":-20,"121":-20,"249":-20,"250":-20,"251":-20,"252":-20,"253":-20,"255":-20},"99":{"44":-15,"107":-20},"101":{"44":-15,"46":-15,"118":-30,"119":-20,"120":-30,"121":-20,"253":-20,"255":-20},"102":{"44":-30,"46":-30,"97":-30,"101":-30,"111":-30,"146":50,"148":60,"224":-30,"225":-30,"226":-30,"227":-30,"228":-30,"229":-30,"232":-30,"233":-30,"234":-30,"235":-30,"242":-30,"243":-30,"244":-30,"245":-30,"246":-30,"248":-30},"103":{"114":-10},"104":{"121":-30,"253":-30,"255":-30},"107":{"101":-20,"111":-20,"232":-20,"233":-20,"234":-20,"235":-20,"242":-20,"243":-20,"244":-20,"245":-20,"246":-20,"248":-20},"109":{"117":-10,"121":-15,"249":-10,"250":-10,"251":-10,"252":-10,"253":-15,"255":-15},"110":{"117":-10,"118":-20,"121":-15,"249":-10,"250":-10,"251":-10,"252":-10,"253":-15,"255":-15},"111":{"44":-40,"46":-40,"118":-15,"119":-15,"120":-30,"121":-30,"253":-30,"255":-30},"112":{"44":-35,"46":-35,"121":-30,"253":-30,"255":-30},"114":{"44":-50,"46":-50,"58":30,"59":30,"97":-10,"105":15,"107":15,"108":15,"109":25,"110":25,"112":30,"116":40,"117":15,"118":30,"121":30,"224":-10,"225":-10,"226":-10,"227":-10,"228":-10,"229":-10,"236":15,"237":15,"238":15,"239":15,"241":25,"249":15,"250":15,"251":15,"252":15,"253":30,"255":30},"115":{"44":-15,"46":-15,"119":-30},"118":{"44":-80,"46":-80,"97":-25,"101":-25,"111":-25,"224":-25,"225":-25,"226":-25,"227":-25,"228":-25,"229":-25,"232":-25,"233":-25,"234":-25,"235":-25,"242":-25,"243":-25,"244":-25,"245":-25,"246":-25,"248":-25},"119":{"44":-60,"46":-60,"97":-15,"101":-10,"111":-10,"224":-15,"225":-15,"226":-15,"227":-15,"228":-15,"229":-15,"232":-10,"233":-10,"234":-10,"235":-10,"242":-10,"243":-10,"244":-10,"245":-10,"246":-10,"248":-10},"120":{"101":-30,"232":-30,"233":-30,"234":-30,"235":-30},"121":{"44":-100,"46":-100,"97":-20,"101":-20,"111":-20,"224":-20,"225":-20,"226":-20,"227":-20,"228":-20,"229":-20,"232":-20,"233":-20,"234":-20,"235":-20,"242":-20,"243":-20,"244":-20,"245":-20,"246":-20,"248":-20},"122":{"101":-15,"111":-15,"232":-15,"233":-15,"234":-15,"235":-15,"242":-15,"243":-15,"244":-15,"245":-15,"246":-15,"248":-15},"138":{"44":-20,"46":-20},"145":{"145":-57},"146":{"100":-50,"114":-50,"115":-50,"146":-57,"154":-50,"160":-70},"148":{"160":-40},"154":{"44":-15,"46":-15,"119":-30},"158":{"101":-15,"111":-15,"232":-15,"233":-15,"234":-15,"235":-15,"242":-15,"243":-15,"244":-15,"245":-15,"246":-15,"248":-15},"160":{"84":-50,"86":-50,"87":-40,"89":-90,"145":-60,"147":-30,"221":-90},"192":{"67":-30,"71":-30,"79":-30,"81":-30,"84":-120,"85":-50,"86":-70,"87":-50,"89":-100,"117":-30,"118":-40,"119":-40,"121":-40,"199":-30,"210":-30,"211":-30,"212":-30,"213":-30,"214":-30,"216":-30,"217":-50,"218":-50,"219":-50,"220":-50,"221":-100,"249":-30,"250":-30,"251":-30,"252":-30,"253":-40,"255":-40},"193":{"67":-30,"71":-30,"79":-30,"81":-30,"84":-120,"85":-50,"86":-70,"87":-50,"89":-100,"117":-30,"118":-40,"119":-40,"121":-40,"199":-30,"210":-30,"211":-30,"212":-30,"213":-30,"214":-30,"216":-30,"217":-50,"218":-50,"219":-50,"220":-50,"221":-100,"249":-30,"250":-30,"251":-30,"252":-30,"253":-40,"255":-40},"194":{"67":-30,"71":-30,"79":-30,"81":-30,"84":-120,"85":-50,"86":-70,"87":-50,"89":-100,"117":-30,"118":-40,"119":-40,"121":-40,"199":-30,"210":-30,"211":-30,"212":-30,"213":-30,"214":-30,"216":-30,"217":-50,"218":-50,"219":-50,"220":-50,"221":-100,"249":-30,"250":-30,"251":-30,"252":-30,"253":-40,"255":-40},"195":{"67":-30,"71":-30,"79":-30,"81":-30,"84":-120,"85":-50,"86":-70,"87":-50,"89":-100,"117":-30,"118":-40,"119":-40,"121":-40,"199":-30,"210":-30,"211":-30,"212":-30,"213":-30,"214":-30,"216":-30,"217":-50,"218":-50,"219":-50,"220":-50,"221":-100,"249":-30,"250":-30,"251":-30,"252":-30,"253":-40,"255":-40},"196":{"67":-30,"71":-30,"79":-30,"81":-30,"84":-120,"85":-50,"86":-70,"87":-50,"89":-100,"117":-30,"118":-40,"119":-40,"121":-40,"199":-30,"210":-30,"211":-30,"212":-30,"213":-30,"214":-30,"216":-30,"217":-50,"218":-50,"219":-50,"220":-50,"221":-100,"249":-30,"250":-30,"251":-30,"252":-30,"253":-40,"255":-40},"197":{"67":-30,"71":-30,"79":-30,"81":-30,"84":-120,"85":-50,"86":-70,"87":-50,"89":-100,"117":-30,"118":-40,"119":-40,"121":-40,"199":-30,"210":-30,"211":-30,"212":-30,"213":-30,"214":-30,"216":-30,"217":-50,"218":-50,"219":-50,"220":-50,"221":-100,"249":-30,"250":-30,"251":-30,"252":-30,"253":-40,"255":-40},"199":{"44":-30,"46":-30},"210":{"44":-40,"46":-40,"65":-20,"84":-40,"86":-50,"87":-30,"88":-60,"89":-70,"192":-20,"193":-20,"194":-20,"195":-20,"196":-20,"197":-20,"221":-70},"211":{"44":-40,"46":-40,"65":-20,"84":-40,"86":-50,"87":-30,"88":-60,"89":-70,"192":-20,"193":-20,"194":-20,"195":-20,"196":-20,"197":-20,"221":-70},"212":{"44":-40,"46":-40,"65":-20,"84":-40,"86":-50,"87":-30,"88":-60,"89":-70,"192":-20,"193":-20,"194":-20,"195":-20,"196":-20,"197":-20,"221":-70},"213":{"44":-40,"46":-40,"65":-20,"84":-40,"86":-50,"87":-30,"88":-60,"89":-70,"192":-20,"193":-20,"194":-20,"195":-20,"196":-20,"197":-20,"221":-70},"214":{"44":-40,"46":-40,"65":-20,"84":-40,"86":-50,"87":-30,"88":-60,"89":-70,"192":-20,"193":-20,"194":-20,"195":-20,"196":-20,"197":-20,"221":-70},"216":{"44":-40,"46":-40,"65":-20,"84":-40,"86":-50,"87":-30,"88":-60,"89":-70,"192":-20,"193":-20,"194":-20,"195":-20,"196":-20,"197":-20,"221":-70},"217":{"44":-40,"46":-40,"65":-40,"192":-40,"193":-40,"194":-40,"195":-40,"196":-40,"197":-40},"218":{"44":-40,"46":-40,"65":-40,"192":-40,"193":-40,"194":-40,"195":-40,"196":-40,"197":-40},"219":{"44":-40,"46":-40,"65":-40,"192":-40,"193":-40,"194":-40,"195":-40,"196":-40,"197":-40},"220":{"44":-40,"46":-40,"65":-40,"192":-40,"193":-40,"194":-40,"195":-40,"196":-40,"197":-40},"221":{"44":-140,"46":-140,"58":-60,"59":-60,"65":-110,"79":-85,"97":-140,"101":-140,"105":-20,"111":-140,"117":-110,"173":-140,"192":-110,"193":-110,"194":-110,"195":-110,"196":-110,"197":-110,"210":-85,"211":-85,"212":-85,"213":-85,"214":-85,"216":-85,"224":-140,"225":-140,"226":-140,"227":-70,"228":-140,"229":-140,"232":-140,"233":-140,"234":-140,"235":-140,"237":-20,"242":-140,"243":-140,"244":-140,"245":-140,"246":-140,"248":-140,"249":-110,"250":-110,"251":-110,"252":-110},"224":{"118":-20,"119":-20,"121":-30,"253":-30,"255":-30},"225":{"118":-20,"119":-20,"121":-30,"253":-30,"255":-30},"226":{"118":-20,"119":-20,"121":-30,"253":-30,"255":-30},"227":{"118":-20,"119":-20,"121":-30,"253":-30,"255":-30},"228":{"118":-20,"119":-20,"121":-30,"253":-30,"255":-30},"229":{"118":-20,"119":-20,"121":-30,"253":-30,"255":-30},"231":{"44":-15,"107":-20},"232":{"44":-15,"46":-15,"118":-30,"119":-20,"120":-30,"121":-20,"253":-20,"255":-20},"233":{"44":-15,"46":-15,"118":-30,"119":-20,"120":-30,"121":-20,"253":-20,"255":-20},"234":{"44":-15,"46":-15,"118":-30,"119":-20,"120":-30,"121":-20,"253":-20,"255":-20},"235":{"44":-15,"46":-15,"118":-30,"119":-20,"120":-30,"121":-20,"253":-20,"255":-20},"241":{"117":-10,"118":-20,"121":-15,"249":-10,"250":-10,"251":-10,"252":-10,"253":-15,"255":-15},"242":{"44":-40,"46":-40,"118":-15,"119":-15,"120":-30,"121":-30,"253":-30,"255":-30},"243":{"44":-40,"46":-40,"118":-15,"119":-15,"120":-30,"121":-30,"253":-30,"255":-30},"244":{"44":-40,"46":-40,"118":-15,"119":-15,"120":-30,"121":-30,"253":-30,"255":-30},"245":{"44":-40,"46":-40,"118":-15,"119":-15,"120":-30,"121":-30,"253":-30,"255":-30},"246":{"44":-40,"46":-40,"118":-15,"119":-15,"120":-30,"121":-30,"253":-30,"255":-30},"248":{"44":-95,"46":-95,"97":-55,"98":-55,"99":-55,"100":-55,"101":-55,"102":-55,"103":-55,"104":-55,"105":-55,"106":-55,"107":-55,"108":-55,"109":-55,"110":-55,"111":-55,"112":-55,"113":-55,"114":-55,"115":-55,"116":-55,"117":-55,"118":-70,"119":-70,"120":-85,"121":-70,"122":-55,"154":-55,"158":-55,"224":-55,"225":-55,"226":-55,"227":-55,"228":-55,"229":-55,"231":-55,"232":-55,"233":-55,"234":-55,"235":-55,"236":-55,"237":-55,"238":-55,"239":-55,"241":-55,"242":-55,"243":-55,"244":-55,"245":-55,"246":-55,"248":-55,"249":-55,"250":-55,"251":-55,"252":-55,"253":-70,"255":-70},"253":{"44":-100,"46":-100,"97":-20,"101":-20,"111":-20,"224":-20,"225":-20,"226":-20,"227":-20,"228":-20,"229":-20,"232":-20,"233":-20,"234":-20,"235":-20,"242":-20,"243":-20,"244":-20,"245":-20,"246":-20,"248":-20},"255":{"44":-100,"46":-100,"97":-20,"101":-20,"111":-20,"224":-20,"225":-20,"226":-20,"227":-20,"228":-20,"229":-20,"232":-20,"233":-20,"234":-20,"235":-20,"242":-20,"243":-20,"244":-20,"245":-20,"246":-20,"248":-20}},"widths":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,null,556,null,222,556,333,1000,556,556,333,1000,667,333,1000,null,611,null,null,222,222,333,333,350,556,1000,333,1000,500,333,944,null,500,500,278,333,556,556,556,556,260,556,333,737,370,556,584,333,737,333,400,584,333,333,333,556,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1000,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,584,611,556,556,556,556,500,556,500]}')},function(module,exports,__webpack_require__){"use strict";var _classCallCheck=__webpack_require__(21),_createClass=__webpack_require__(26),isEqualWith=__webpack_require__(1459),omit=__webpack_require__(98),maybeToISO=function(date){try{return date.toISOString?date.toISOString():date}catch(e){return date}},looseDates=function(val,otherVal){if(val instanceof Date)return maybeToISO(val)===maybeToISO(otherVal)},Document=function(){function Document(attrs){_classCallCheck(this,Document),this.validate&&this.validate(attrs),Object.assign(this,attrs,{metadata:{version:attrs.metadata&&attrs.metadata.version||this.constructor.version}})}return _createClass(Document,[{key:"toJSON",value:function(){return this}},{key:"isEqual",value:function(other){var ignoreAttrs=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["_id","_rev"],strict=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return isEqualWith(omit(this,ignoreAttrs),omit(other,ignoreAttrs),!strict&&looseDates)}}]),Document}();module.exports=Document},function(module,exports,__webpack_require__){var baseIsEqual=__webpack_require__(194);module.exports=function(value,other,customizer){var result=(customizer="function"==typeof customizer?customizer:void 0)?customizer(value,other):void 0;return void 0===result?baseIsEqual(value,other,void 0,customizer):!!result}},function(module,exports,__webpack_require__){"use strict";var log=__webpack_require__(58).namespace("scrape");module.exports=function scrape($,specs,childSelector){if("string"==typeof specs||specs.sel&&"string"==typeof specs.sel)return scrape($,{val:specs}).val;if(void 0!==childSelector)return Array.from(($.find||$)(childSelector)).map(function(e){return scrape($(e),specs)});var res={};return Object.keys(specs).forEach(function(specName){try{var _val,spec=function(spec){return"string"==typeof spec?{sel:spec}:spec}(specs[specName]),data=spec.sel?$.find(spec.sel):$;spec.index&&(data=data.get(spec.index)),_val=spec.fn?spec.fn(data):spec.attr?data.attr(spec.attr):(_val=(_val=data)&&_val.text())&&_val.trim(),spec.parse&&(_val=spec.parse(_val)),res[specName]=_val}catch(e){log("warn","Could not parse for",specName),log("warn",e)}}),res}},function(module,exports,__webpack_require__){"use strict";var _regeneratorRuntime=__webpack_require__(0),_asyncToGenerator=__webpack_require__(3),_require$posix=__webpack_require__(47).posix,basename=_require$posix.basename,dirname=_require$posix.dirname,join=_require$posix.join,cozyClient=__webpack_require__(149),log=function(){},mkdirp=fromCozy(cozyClient);function fromCozy(cozy){return function(){var _mkdirp=_asyncToGenerator(_regeneratorRuntime.mark(function _callee(){var _len,pathComponents,_key,path,pathRepr,doc,name,parentPath,parentDoc,_args=arguments;return _regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:for(_len=_args.length,pathComponents=new Array(_len),_key=0;_key<_len;_key++)pathComponents[_key]=_args[_key];return path=join.apply(void 0,["/"].concat(pathComponents)),pathRepr=JSON.stringify(path),log("debug","Checking wether directory ".concat(pathRepr," exists...")),doc=null,_context.prev=5,_context.next=8,cozy.files.statByPath(path);case 8:return doc=_context.sent,log("debug","Directory ".concat(pathRepr," found.")),_context.abrupt("return",doc);case 13:if(_context.prev=13,_context.t0=_context.catch(5),[404,409].includes(_context.t0.status)){_context.next=17;break}throw _context.t0;case 17:return log("debug","Directory ".concat(pathRepr," not found.")),name=basename(path),parentPath=dirname(path),_context.next=22,mkdirp(parentPath);case 22:return parentDoc=_context.sent,log("info","Creating directory ".concat(pathRepr,"...")),_context.prev=24,_context.next=27,cozy.files.createDirectory({name:name,dirID:parentDoc._id});case 27:return doc=_context.sent,log("info","Directory ".concat(pathRepr," created!")),_context.abrupt("return",doc);case 32:if(_context.prev=32,_context.t1=_context.catch(24),[404,409].includes(_context.t1.status)){_context.next=36;break}throw _context.t1;case 36:return log("info","Directory already exists"),_context.abrupt("return",doc);case 38:case"end":return _context.stop()}},_callee,null,[[5,13],[24,32]])}));function mkdirp(){return _mkdirp.apply(this,arguments)}return mkdirp}()}module.exports=mkdirp,mkdirp.fromCozy=fromCozy},function(module,exports,__webpack_require__){"use strict";var normalizableCharsRegExp=/[<>:"\/\\|?*\0\s]+/g;module.exports=function(basename,ext){var filename=basename.replace(normalizableCharsRegExp," ").trim();if(""===filename)throw new Error("Cannot find any filename-compatible character in "+JSON.stringify(filename)+"!");return null==ext?ext="":ext.startsWith(".")||(ext="."+ext),filename+ext}},function(module,exports,__webpack_require__){"use strict";var _regeneratorRuntime=__webpack_require__(0),_asyncToGenerator=__webpack_require__(3),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},log=__webpack_require__(58).namespace("solveCaptcha"),errors=__webpack_require__(476),request=__webpack_require__(949),sleep=__webpack_require__(8).promisify(global.setTimeout),DEFAULT_TIMEOUT=Date.now()+18e4;function checkMandatoryParams(){var params=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},mandatoryParams=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],keys=Object.keys(params),missingKeys=mandatoryParams.filter(function(key){return!keys.includes(key)});if(missingKeys.length)throw new Error("".concat(missingKeys.join(", ")," are mandatory to solve the captcha"))}function solveWithAntiCaptcha(_x){return _solveWithAntiCaptcha.apply(this,arguments)}function _solveWithAntiCaptcha(){return(_solveWithAntiCaptcha=_asyncToGenerator(_regeneratorRuntime.mark(function _callee2(taskParams){var timeout,secrets,resultAttribute,antiCaptchaApiUrl,gRecaptchaResponse,startTime,clientKey,task,resp,_args2=arguments;return _regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(timeout=_args2.length>1&&void 0!==_args2[1]?_args2[1]:DEFAULT_TIMEOUT,secrets=_args2.length>2?_args2[2]:void 0,resultAttribute=_args2.length>3&&void 0!==_args2[3]?_args2[3]:"gRecaptchaResponse",antiCaptchaApiUrl="https://api.anti-captcha.com",gRecaptchaResponse=null,startTime=Date.now(),!(clientKey=secrets.antiCaptchaClientKey)){_context2.next=39;break}return log("info","  Creating captcha resolution task..."),_context2.next=11,request.post("".concat(antiCaptchaApiUrl,"/createTask"),{body:{clientKey:clientKey,task:taskParams},json:!0});case 11:if(!(task=_context2.sent)||!task.taskId){_context2.next=36;break}log("info","    Task id : ".concat(task.taskId));case 14:if(gRecaptchaResponse){_context2.next=34;break}return _context2.next=17,request.post("".concat(antiCaptchaApiUrl,"/getTaskResult"),{body:{clientKey:clientKey,taskId:task.taskId},json:!0});case 17:if("ready"!==(resp=_context2.sent).status){_context2.next=26;break}if(!resp.errorId){_context2.next=22;break}throw log("error","Anticaptcha error: ".concat(JSON.stringify(resp))),new Error(errors.CAPTCHA_RESOLUTION_FAILED);case 22:return log("warn","  Found Recaptcha response : ".concat(JSON.stringify(resp))),_context2.abrupt("return",resp.solution[resultAttribute]);case 26:if(log("info","    ".concat(Math.round((Date.now()-startTime)/1e3),"s...")),!(Date.now()>timeout)){_context2.next=30;break}throw log("warn","  Captcha resolution timeout"),new Error(errors.CAPTCHA_RESOLUTION_FAILED+".TIMEOUT");case 30:return _context2.next=32,sleep(1e4);case 32:_context2.next=14;break;case 34:_context2.next=37;break;case 36:log("warn","Could not create anticaptcha task");case 37:_context2.next=40;break;case 39:log("warn","Could not find any anticaptcha secret key");case 40:throw new Error(errors.CAPTCHA_RESOLUTION_FAILED);case 41:case"end":return _context2.stop()}},_callee2)}))).apply(this,arguments)}module.exports=_asyncToGenerator(_regeneratorRuntime.mark(function _callee(){var params,secrets,_params,websiteKey,websiteURL,_args=arguments;return _regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(params=_args.length>0&&void 0!==_args[0]?_args[0]:{},params=_extends({},{type:"recaptcha",timeout:DEFAULT_TIMEOUT},params),secrets=JSON.parse(process.env.COZY_PARAMETERS||"{}").secret,"recaptcha"!==params.type){_context.next=10;break}return checkMandatoryParams(params,["websiteKey","websiteURL"]),websiteKey=(_params=params).websiteKey,websiteURL=_params.websiteURL,_context.abrupt("return",solveWithAntiCaptcha({websiteKey:websiteKey,websiteURL:websiteURL,type:"NoCaptchaTaskProxyless"},params.timeout,secrets,"gRecaptchaResponse"));case 10:if("image"!==params.type){_context.next=13;break}return checkMandatoryParams(params,["body"]),_context.abrupt("return",solveWithAntiCaptcha({body:params.body,type:"ImageToTextTask"},params.timeout,secrets,"text"));case 13:case"end":return _context.stop()}},_callee)}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var ExportedSet,ExportedMap,clone_buffer=__webpack_require__(1233),clone_buffer_default=__webpack_require__.n(clone_buffer),argsarray=__webpack_require__(141),argsarray_default=__webpack_require__.n(argsarray);function mangle(key){return"$"+key}function unmangle(key){return key.substring(1)}function Map$1(){this._store={}}function Set$1(array){if(this._store=new Map$1,array&&Array.isArray(array))for(var i=0,len=array.length;i<len;i++)this.add(array[i])}Map$1.prototype.get=function(key){var mangled=mangle(key);return this._store[mangled]},Map$1.prototype.set=function(key,value){var mangled=mangle(key);return this._store[mangled]=value,!0},Map$1.prototype.has=function(key){return mangle(key)in this._store},Map$1.prototype.delete=function(key){var mangled=mangle(key),res=mangled in this._store;return delete this._store[mangled],res},Map$1.prototype.forEach=function(cb){for(var keys=Object.keys(this._store),i=0,len=keys.length;i<len;i++){var key=keys[i];cb(this._store[key],key=unmangle(key))}},Object.defineProperty(Map$1.prototype,"size",{get:function(){return Object.keys(this._store).length}}),Set$1.prototype.add=function(key){return this._store.set(key,!0)},Set$1.prototype.has=function(key){return this._store.has(key)},Set$1.prototype.forEach=function(cb){this._store.forEach(function(value,key){cb(key)})},Object.defineProperty(Set$1.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var prop=Object.getOwnPropertyDescriptor(Map,Symbol.species);return prop&&"get"in prop&&Map[Symbol.species]===Map}()?(ExportedSet=Set$1,ExportedMap=Map$1):(ExportedSet=Set,ExportedMap=Map);var external_events_=__webpack_require__(43),inherits=__webpack_require__(22),inherits_default=__webpack_require__.n(inherits);function PouchError(status,error,reason){Error.call(this,reason),this.status=status,this.name=error,this.message=reason,this.error=!0}inherits_default()(PouchError,Error),PouchError.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};new PouchError(401,"unauthorized","Name or password is incorrect."),new PouchError(400,"bad_request","Missing JSON list of 'docs'"),new PouchError(404,"not_found","missing"),new PouchError(409,"conflict","Document update conflict"),new PouchError(400,"bad_request","_id field must contain a string"),new PouchError(412,"missing_id","_id is required for puts"),new PouchError(400,"bad_request","Only reserved document ids may start with underscore."),new PouchError(412,"precondition_failed","Database not open");var UNKNOWN_ERROR=new PouchError(500,"unknown_error","Database encountered an unknown error");new PouchError(500,"badarg","Some query argument is invalid"),new PouchError(400,"invalid_request","Request was invalid"),new PouchError(400,"query_parse_error","Some query parameter is invalid"),new PouchError(500,"doc_validation","Bad special document member"),new PouchError(400,"bad_request","Something wrong with the request"),new PouchError(400,"bad_request","Document must be a JSON object"),new PouchError(404,"not_found","Database not found"),new PouchError(500,"indexed_db_went_bad","unknown"),new PouchError(500,"web_sql_went_bad","unknown"),new PouchError(500,"levelDB_went_went_bad","unknown"),new PouchError(403,"forbidden","Forbidden by design doc validate_doc_update function"),new PouchError(400,"bad_request","Invalid rev format"),new PouchError(412,"file_exists","The database could not be created, the file already exists."),new PouchError(412,"missing_stub","A pre-existing attachment stub wasn't found"),new PouchError(413,"invalid_url","Provided URL is invalid");function generateErrorFromResponse(err){if("object"!=typeof err){var data=err;(err=UNKNOWN_ERROR).data=data}return"error"in err&&"conflict"===err.error&&(err.name="conflict",err.status=409),"name"in err||(err.name=err.error||"unknown"),"status"in err||(err.status=500),"message"in err||(err.message=err.message||err.reason),err}var uuid=__webpack_require__(276),uuid_default=__webpack_require__.n(uuid),external_crypto_=__webpack_require__(23),external_crypto_default=__webpack_require__.n(external_crypto_);function stringMd5(string){return external_crypto_default.a.createHash("md5").update(string,"binary").digest("hex")}var funcToString=Function.prototype.toString,objectCtorString=funcToString.call(Object);function clone$1(object){var newObject,i,len;if(!object||"object"!=typeof object)return object;if(Array.isArray(object)){for(newObject=[],i=0,len=object.length;i<len;i++)newObject[i]=clone$1(object[i]);return newObject}if(object instanceof Date)return object.toISOString();if(function(object){return object instanceof Buffer}(object))return clone_buffer_default()(object);if(!function(value){var proto=Object.getPrototypeOf(value);if(null===proto)return!0;var Ctor=proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}(object))return object;for(i in newObject={},object)if(Object.prototype.hasOwnProperty.call(object,i)){var value=clone$1(object[i]);void 0!==value&&(newObject[i]=value)}return newObject}function toPromise(func){return argsarray_default()(function(args){args=clone$1(args);var self=this,usedCB="function"==typeof args[args.length-1]&&args.pop(),promise=new Promise(function(fulfill,reject){var resp,fun,called;try{var callback=(fun=function(err,mesg){err?reject(err):fulfill(mesg)},called=!1,argsarray_default()(function(args){if(called)throw new Error("once called more than once");called=!0,fun.apply(this,args)}));args.push(callback),(resp=func.apply(self,args))&&"function"==typeof resp.then&&fulfill(resp)}catch(e){reject(e)}});return usedCB&&promise.then(function(result){usedCB(null,result)},usedCB),promise})}function pick(obj,arr){for(var res={},i=0,len=arr.length;i<len;i++){var prop=arr[i];prop in obj&&(res[prop]=obj[prop])}return res}function nextTick(fn){process.nextTick(fn)}function Changes(){external_events_.EventEmitter.call(this),this._listeners={}}function guardedConsole(method){if("undefined"!=typeof console&&"function"==typeof console[method]){var args=Array.prototype.slice.call(arguments,1);console[method].apply(console,args)}}inherits_default()(Changes,external_events_.EventEmitter),Changes.prototype.addListener=function(dbName,id,db,opts){if(!this._listeners[id]){var self=this,inprogress=!1;this._listeners[id]=eventFunction,this.on(dbName,eventFunction)}function eventFunction(){if(self._listeners[id])if(inprogress)inprogress="waiting";else{inprogress=!0;var changesOpts=pick(opts,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);db.changes(changesOpts).on("change",function(c){c.seq>opts.since&&!opts.cancelled&&(opts.since=c.seq,opts.onChange(c))}).on("complete",function(){"waiting"===inprogress&&nextTick(eventFunction),inprogress=!1}).on("error",function(){inprogress=!1})}}},Changes.prototype.removeListener=function(dbName,id){id in this._listeners&&(external_events_.EventEmitter.prototype.removeListener.call(this,dbName,this._listeners[id]),delete this._listeners[id])},Changes.prototype.notifyLocalWindows=function(dbName){0},Changes.prototype.notify=function(dbName){this.emit(dbName),this.notifyLocalWindows(dbName)};var assign$1="function"==typeof Object.assign?Object.assign:function(target){for(var to=Object(target),index=1;index<arguments.length;index++){var nextSource=arguments[index];if(null!=nextSource)for(var nextKey in nextSource)Object.prototype.hasOwnProperty.call(nextSource,nextKey)&&(to[nextKey]=nextSource[nextKey])}return to};function flatten(arrs){for(var res=[],i=0,len=arrs.length;i<len;i++)res=res.concat(arrs[i]);return res}function isRemote(db){return"boolean"==typeof db._remote?db._remote:"function"==typeof db.type&&(guardedConsole("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===db.type())}function upsert(db,docId,diffFun){return new Promise(function(fulfill,reject){db.get(docId,function(err,doc){if(err){if(404!==err.status)return reject(err);doc={}}var docRev=doc._rev,newDoc=diffFun(doc);if(!newDoc)return fulfill({updated:!1,rev:docRev});newDoc._id=docId,newDoc._rev=docRev,fulfill(function(db,doc,diffFun){return db.put(doc).then(function(res){return{updated:!0,rev:res.rev}},function(err){if(409!==err.status)throw err;return upsert(db,doc._id,diffFun)})}(db,newDoc,diffFun))})})}uuid_default.a.v4;var lib=__webpack_require__(285),fetch_cookie=__webpack_require__(1234);__webpack_require__.n(fetch_cookie)()(lib.a);var Headers=lib.a.Headers;var MIN_MAGNITUDE=-324,MAGNITUDE_DIGITS=3,SEP="";function collate(a,b){if(a===b)return 0;a=normalizeKey(a),b=normalizeKey(b);var ai=collationIndex(a),bi=collationIndex(b);if(ai-bi!=0)return ai-bi;switch(typeof a){case"number":return a-b;case"boolean":return a<b?-1:1;case"string":return function(a,b){return a===b?0:a>b?1:-1}(a,b)}return Array.isArray(a)?function(a,b){for(var len=Math.min(a.length,b.length),i=0;i<len;i++){var sort=collate(a[i],b[i]);if(0!==sort)return sort}return a.length===b.length?0:a.length>b.length?1:-1}(a,b):function(a,b){for(var ak=Object.keys(a),bk=Object.keys(b),len=Math.min(ak.length,bk.length),i=0;i<len;i++){var sort=collate(ak[i],bk[i]);if(0!==sort)return sort;if(0!==(sort=collate(a[ak[i]],b[bk[i]])))return sort}return ak.length===bk.length?0:ak.length>bk.length?1:-1}(a,b)}function normalizeKey(key){switch(typeof key){case"undefined":return null;case"number":return key===1/0||key===-1/0||isNaN(key)?null:key;case"object":var origKey=key;if(Array.isArray(key)){var len=key.length;key=new Array(len);for(var i=0;i<len;i++)key[i]=normalizeKey(origKey[i])}else{if(key instanceof Date)return key.toJSON();if(null!==key)for(var k in key={},origKey)if(origKey.hasOwnProperty(k)){var val=origKey[k];void 0!==val&&(key[k]=normalizeKey(val))}}}return key}function indexify(key){if(null!==key)switch(typeof key){case"boolean":return key?1:0;case"number":return function(num){if(0===num)return"1";var expFormat=num.toExponential().split(/e\+?/),magnitude=parseInt(expFormat[1],10),neg=num<0,result=neg?"0":"2",magString=(str=((neg?-magnitude:magnitude)-MIN_MAGNITUDE).toString(),padWith="0",upToLength=MAGNITUDE_DIGITS,function(str,padWith,upToLength){for(var padding="",targetLength=upToLength-str.length;padding.length<targetLength;)padding+=padWith;return padding}(str,padWith,upToLength)+str);var str,padWith,upToLength;result+=SEP+magString;var factor=Math.abs(parseFloat(expFormat[0]));neg&&(factor=10-factor);var factorStr=factor.toFixed(20);return factorStr=factorStr.replace(/\.?0+$/,""),result+=SEP+factorStr}(key);case"string":return key.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var isArray=Array.isArray(key),arr=isArray?key:Object.keys(key),i=-1,len=arr.length,result="";if(isArray)for(;++i<len;)result+=toIndexableString(arr[i]);else for(;++i<len;){var objKey=arr[i];result+=toIndexableString(objKey)+toIndexableString(key[objKey])}return result}return""}function toIndexableString(key){return collationIndex(key=normalizeKey(key))+SEP+indexify(key)+"\0"}function parseNumber(str,i){var num,originalIdx=i;if("1"===str[i])num=0,i++;else{var neg="0"===str[i];i++;var numAsString="",magAsString=str.substring(i,i+MAGNITUDE_DIGITS),magnitude=parseInt(magAsString,10)+MIN_MAGNITUDE;for(neg&&(magnitude=-magnitude),i+=MAGNITUDE_DIGITS;;){var ch=str[i];if("\0"===ch)break;numAsString+=ch,i++}num=1===(numAsString=numAsString.split(".")).length?parseInt(numAsString,10):parseFloat(numAsString[0]+"."+numAsString[1]),neg&&(num-=10),0!==magnitude&&(num=parseFloat(num+"e"+magnitude))}return{num:num,length:i-originalIdx}}function pop(stack,metaStack){var obj=stack.pop();if(metaStack.length){var lastMetaElement=metaStack[metaStack.length-1];obj===lastMetaElement.element&&(metaStack.pop(),lastMetaElement=metaStack[metaStack.length-1]);var element=lastMetaElement.element,lastElementIndex=lastMetaElement.index;if(Array.isArray(element))element.push(obj);else if(lastElementIndex===stack.length-2){element[stack.pop()]=obj}else stack.push(obj)}}function collationIndex(x){var idx=["boolean","number","string","object"].indexOf(typeof x);return~idx?null===x?1:Array.isArray(x)?5:idx<3?idx+2:idx+3:Array.isArray(x)?5:void 0}function getFieldFromDoc(doc,parsedField){for(var value=doc,i=0,len=parsedField.length;i<len;i++){if(!(value=value[parsedField[i]]))break}return value}function setFieldInDoc(doc,parsedField,value){for(var i=0,len=parsedField.length;i<len-1;i++){doc=doc[parsedField[i]]={}}doc[parsedField[len-1]]=value}function compare(left,right){return left<right?-1:left>right?1:0}function parseField(fieldName){for(var fields=[],current="",i=0,len=fieldName.length;i<len;i++){var ch=fieldName[i];"."===ch?i>0&&"\\"===fieldName[i-1]?current=current.substring(0,current.length-1)+".":(fields.push(current),current=""):current+=ch}return fields.push(current),fields}var combinationFields=["$or","$nor","$not"];function isCombinationalField(field){return combinationFields.indexOf(field)>-1}function getKey(obj){return Object.keys(obj)[0]}function getValue(obj){return obj[getKey(obj)]}function mergeAndedSelectors(selectors){var res={};return selectors.forEach(function(selector){Object.keys(selector).forEach(function(field){var matcher=selector[field];if("object"!=typeof matcher&&(matcher={$eq:matcher}),isCombinationalField(field))matcher instanceof Array?res[field]=matcher.map(function(m){return mergeAndedSelectors([m])}):res[field]=mergeAndedSelectors([matcher]);else{var fieldMatchers=res[field]=res[field]||{};Object.keys(matcher).forEach(function(operator){var value=matcher[operator];return"$gt"===operator||"$gte"===operator?function(operator,value,fieldMatchers){if(void 0!==fieldMatchers.$eq)return;void 0!==fieldMatchers.$gte?"$gte"===operator?value>fieldMatchers.$gte&&(fieldMatchers.$gte=value):value>=fieldMatchers.$gte&&(delete fieldMatchers.$gte,fieldMatchers.$gt=value):void 0!==fieldMatchers.$gt?"$gte"===operator?value>fieldMatchers.$gt&&(delete fieldMatchers.$gt,fieldMatchers.$gte=value):value>fieldMatchers.$gt&&(fieldMatchers.$gt=value):fieldMatchers[operator]=value}(operator,value,fieldMatchers):"$lt"===operator||"$lte"===operator?function(operator,value,fieldMatchers){if(void 0!==fieldMatchers.$eq)return;void 0!==fieldMatchers.$lte?"$lte"===operator?value<fieldMatchers.$lte&&(fieldMatchers.$lte=value):value<=fieldMatchers.$lte&&(delete fieldMatchers.$lte,fieldMatchers.$lt=value):void 0!==fieldMatchers.$lt?"$lte"===operator?value<fieldMatchers.$lt&&(delete fieldMatchers.$lt,fieldMatchers.$lte=value):value<fieldMatchers.$lt&&(fieldMatchers.$lt=value):fieldMatchers[operator]=value}(operator,value,fieldMatchers):"$ne"===operator?function(value,fieldMatchers){"$ne"in fieldMatchers?fieldMatchers.$ne.push(value):fieldMatchers.$ne=[value]}(value,fieldMatchers):"$eq"===operator?function(value,fieldMatchers){delete fieldMatchers.$gt,delete fieldMatchers.$gte,delete fieldMatchers.$lt,delete fieldMatchers.$lte,delete fieldMatchers.$ne,fieldMatchers.$eq=value}(value,fieldMatchers):void(fieldMatchers[operator]=value)})}})}),res}function massageSelector(input){var result=clone$1(input),wasAnded=!1;"$and"in result&&(result=mergeAndedSelectors(result.$and),wasAnded=!0),["$or","$nor"].forEach(function(orOrNor){orOrNor in result&&result[orOrNor].forEach(function(subSelector){for(var fields=Object.keys(subSelector),i=0;i<fields.length;i++){var field=fields[i],matcher=subSelector[field];"object"==typeof matcher&&null!==matcher||(subSelector[field]={$eq:matcher})}})}),"$not"in result&&(result.$not=mergeAndedSelectors([result.$not]));for(var fields=Object.keys(result),i=0;i<fields.length;i++){var field=fields[i],matcher=result[field];"object"!=typeof matcher||null===matcher?matcher={$eq:matcher}:"$ne"in matcher&&!wasAnded&&(matcher.$ne=[matcher.$ne]),result[field]=matcher}return result}function filterInMemoryFields(rows,requestDef,inMemoryFields){if(rows=rows.filter(function(row){return rowFilter(row.doc,requestDef.selector,inMemoryFields)}),requestDef.sort){var fieldSorter=function(sort){function getFieldValuesAsArray(doc){return sort.map(function(sorting){var parsedField=parseField(getKey(sorting));return getFieldFromDoc(doc,parsedField)})}return function(aRow,bRow){var collation=collate(getFieldValuesAsArray(aRow.doc),getFieldValuesAsArray(bRow.doc));return 0!==collation?collation:compare(aRow.doc._id,bRow.doc._id)}}(requestDef.sort);rows=rows.sort(fieldSorter),"string"!=typeof requestDef.sort[0]&&"desc"===getValue(requestDef.sort[0])&&(rows=rows.reverse())}if("limit"in requestDef||"skip"in requestDef){var skip=requestDef.skip||0,limit=("limit"in requestDef?requestDef.limit:rows.length)+skip;rows=rows.slice(skip,limit)}return rows}function rowFilter(doc,selector,inMemoryFields){return inMemoryFields.every(function(field){var matcher=selector[field],parsedField=parseField(field),docFieldValue=getFieldFromDoc(doc,parsedField);return isCombinationalField(field)?function(field,matcher,doc){if("$or"===field)return matcher.some(function(orMatchers){return rowFilter(doc,orMatchers,Object.keys(orMatchers))});if("$not"===field)return!rowFilter(doc,matcher,Object.keys(matcher));return!matcher.find(function(orMatchers){return rowFilter(doc,orMatchers,Object.keys(orMatchers))})}(field,matcher,doc):matchSelector(matcher,doc,parsedField,docFieldValue)})}function matchSelector(matcher,doc,parsedField,docFieldValue){return!matcher||Object.keys(matcher).every(function(userOperator){var userValue=matcher[userOperator];return function(userOperator,doc,userValue,parsedField,docFieldValue){if(!matchers[userOperator])throw new Error('unknown operator "'+userOperator+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return matchers[userOperator](doc,userValue,parsedField,docFieldValue)}(userOperator,doc,userValue,parsedField,docFieldValue)})}function fieldExists(docFieldValue){return null!=docFieldValue}function fieldIsNotUndefined(docFieldValue){return void 0!==docFieldValue}function arrayContainsValue(docFieldValue,userValue){return userValue.some(function(val){return docFieldValue instanceof Array?docFieldValue.indexOf(val)>-1:docFieldValue===val})}var matchers={$elemMatch:function(doc,userValue,parsedField,docFieldValue){return!!Array.isArray(docFieldValue)&&(0!==docFieldValue.length&&("object"==typeof docFieldValue[0]?docFieldValue.some(function(val){return rowFilter(val,userValue,Object.keys(userValue))}):docFieldValue.some(function(val){return matchSelector(userValue,doc,parsedField,val)})))},$allMatch:function(doc,userValue,parsedField,docFieldValue){return!!Array.isArray(docFieldValue)&&(0!==docFieldValue.length&&("object"==typeof docFieldValue[0]?docFieldValue.every(function(val){return rowFilter(val,userValue,Object.keys(userValue))}):docFieldValue.every(function(val){return matchSelector(userValue,doc,parsedField,val)})))},$eq:function(doc,userValue,parsedField,docFieldValue){return fieldIsNotUndefined(docFieldValue)&&0===collate(docFieldValue,userValue)},$gte:function(doc,userValue,parsedField,docFieldValue){return fieldIsNotUndefined(docFieldValue)&&collate(docFieldValue,userValue)>=0},$gt:function(doc,userValue,parsedField,docFieldValue){return fieldIsNotUndefined(docFieldValue)&&collate(docFieldValue,userValue)>0},$lte:function(doc,userValue,parsedField,docFieldValue){return fieldIsNotUndefined(docFieldValue)&&collate(docFieldValue,userValue)<=0},$lt:function(doc,userValue,parsedField,docFieldValue){return fieldIsNotUndefined(docFieldValue)&&collate(docFieldValue,userValue)<0},$exists:function(doc,userValue,parsedField,docFieldValue){return userValue?fieldIsNotUndefined(docFieldValue):!fieldIsNotUndefined(docFieldValue)},$mod:function(doc,userValue,parsedField,docFieldValue){return fieldExists(docFieldValue)&&function(docFieldValue,userValue){var divisor=userValue[0],mod=userValue[1];if(0===divisor)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(divisor,10)!==divisor)throw new Error("Divisor is not an integer");if(parseInt(mod,10)!==mod)throw new Error("Modulus is not an integer");return parseInt(docFieldValue,10)===docFieldValue&&docFieldValue%divisor===mod}(docFieldValue,userValue)},$ne:function(doc,userValue,parsedField,docFieldValue){return userValue.every(function(neValue){return 0!==collate(docFieldValue,neValue)})},$in:function(doc,userValue,parsedField,docFieldValue){return fieldExists(docFieldValue)&&arrayContainsValue(docFieldValue,userValue)},$nin:function(doc,userValue,parsedField,docFieldValue){return fieldExists(docFieldValue)&&!arrayContainsValue(docFieldValue,userValue)},$size:function(doc,userValue,parsedField,docFieldValue){return fieldExists(docFieldValue)&&function(docFieldValue,userValue){return docFieldValue.length===userValue}(docFieldValue,userValue)},$all:function(doc,userValue,parsedField,docFieldValue){return Array.isArray(docFieldValue)&&function(docFieldValue,userValue){return userValue.every(function(val){return docFieldValue.indexOf(val)>-1})}(docFieldValue,userValue)},$regex:function(doc,userValue,parsedField,docFieldValue){return fieldExists(docFieldValue)&&function(docFieldValue,userValue){return new RegExp(userValue).test(docFieldValue)}(docFieldValue,userValue)},$type:function(doc,userValue,parsedField,docFieldValue){return function(docFieldValue,userValue){switch(userValue){case"null":return null===docFieldValue;case"boolean":return"boolean"==typeof docFieldValue;case"number":return"number"==typeof docFieldValue;case"string":return"string"==typeof docFieldValue;case"array":return docFieldValue instanceof Array;case"object":return"[object Object]"==={}.toString.call(docFieldValue)}throw new Error(userValue+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(docFieldValue,userValue)}};var buffer_from=__webpack_require__(940),buffer_from_default=__webpack_require__.n(buffer_from);function typedBuffer(binString,buffType,type){var buff=buffer_from_default()(binString,buffType);return buff.type=type,buff}function QueryParseError(message){this.status=400,this.name="query_parse_error",this.message=message,this.error=!0;try{Error.captureStackTrace(this,QueryParseError)}catch(e){}}function NotFoundError(message){this.status=404,this.name="not_found",this.message=message,this.error=!0;try{Error.captureStackTrace(this,NotFoundError)}catch(e){}}function BuiltInError(message){this.status=500,this.name="invalid_value",this.message=message,this.error=!0;try{Error.captureStackTrace(this,BuiltInError)}catch(e){}}function promisedCallback(promise,callback){return callback&&promise.then(function(res){nextTick(function(){callback(null,res)})},function(reason){nextTick(function(){callback(reason)})}),promise}function sequentialize(queue,promiseFactory){return function(){var args=arguments,that=this;return queue.add(function(){return promiseFactory.apply(that,args)})}}function uniq(arr){var theSet=new ExportedSet(arr),result=new Array(theSet.size),index=-1;return theSet.forEach(function(value){result[++index]=value}),result}function mapToKeysArray(map){var result=new Array(map.size),index=-1;return map.forEach(function(value,key){result[++index]=key}),result}function TaskQueue(){this.promise=new Promise(function(fulfill){fulfill()})}function stringify(input){if(!input)return"undefined";switch(typeof input){case"function":case"string":return input.toString();default:return JSON.stringify(input)}}function createView(sourceDB,viewName,mapFun,reduceFun,temporary,localDocName){var cachedViews,viewSignature=function(mapFun,reduceFun){return stringify(mapFun)+stringify(reduceFun)+"undefined"}(mapFun,reduceFun);if(!temporary&&(cachedViews=sourceDB._cachedViews=sourceDB._cachedViews||{})[viewSignature])return cachedViews[viewSignature];var promiseForView=sourceDB.info().then(function(info){var depDbName=info.db_name+"-mrview-"+(temporary?"temp":stringMd5(viewSignature));return upsert(sourceDB,"_local/"+localDocName,function(doc){doc.views=doc.views||{};var fullViewName=viewName;-1===fullViewName.indexOf("/")&&(fullViewName=viewName+"/"+viewName);var depDbs=doc.views[fullViewName]=doc.views[fullViewName]||{};if(!depDbs[depDbName])return depDbs[depDbName]=!0,doc}).then(function(){return sourceDB.registerDependentDatabase(depDbName).then(function(res){var db=res.db;db.auto_compaction=!0;var view={name:depDbName,db:db,sourceDB:sourceDB,adapter:sourceDB.adapter,mapFun:mapFun,reduceFun:reduceFun};return view.db.get("_local/lastSeq").catch(function(err){if(404!==err.status)throw err}).then(function(lastSeqDoc){return view.seq=lastSeqDoc?lastSeqDoc.seq:0,cachedViews&&view.db.once("destroyed",function(){delete cachedViews[viewSignature]}),view})})})});return cachedViews&&(cachedViews[viewSignature]=promiseForView),promiseForView}inherits_default()(QueryParseError,Error),inherits_default()(NotFoundError,Error),inherits_default()(BuiltInError,Error),TaskQueue.prototype.add=function(promiseFactory){return this.promise=this.promise.catch(function(){}).then(function(){return promiseFactory()}),this.promise},TaskQueue.prototype.finish=function(){return this.promise};var persistentQueues={},tempViewQueue=new TaskQueue,CHANGES_BATCH_SIZE=50;function parseViewName(name){return-1===name.indexOf("/")?[name,name]:name.split("/")}function emitError(db,e){try{db.emit("error",e)}catch(err){guardedConsole("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),guardedConsole("error",e)}}var index_es=function(localDocName,mapper,reducer,ddocValidator){function tryMap(db,fun,doc){try{fun(doc)}catch(e){emitError(db,e)}}function tryReduce(db,fun,keys,values,rereduce){try{return{output:fun(keys,values,rereduce)}}catch(e){return emitError(db,e),{error:e}}}function sortByKeyThenValue(x,y){var keyCompare=collate(x.key,y.key);return 0!==keyCompare?keyCompare:collate(x.value,y.value)}function sliceResults(results,limit,skip){return skip=skip||0,"number"==typeof limit?results.slice(skip,limit+skip):skip>0?results.slice(skip):results}function rowToDocId(row){var val=row.value;return val&&"object"==typeof val&&val._id||row.id}function readAttachmentsAsBlobOrBuffer(res){res.rows.forEach(function(row){var atts=row.doc&&row.doc._attachments;atts&&Object.keys(atts).forEach(function(filename){var b64,type,att=atts[filename];atts[filename].data=(b64=att.data,type=att.content_type,typedBuffer(b64,"base64",type))})})}function postprocessAttachments(opts){return function(res){return opts.include_docs&&opts.attachments&&opts.binary&&readAttachmentsAsBlobOrBuffer(res),res}}function addHttpParam(paramName,opts,params,asJson){var val=opts[paramName];void 0!==val&&(asJson&&(val=encodeURIComponent(JSON.stringify(val))),params.push(paramName+"="+val))}function coerceInteger(integerCandidate){if(void 0!==integerCandidate){var asNumber=Number(integerCandidate);return isNaN(asNumber)||asNumber!==parseInt(integerCandidate,10)?integerCandidate:asNumber}}function checkQueryParseError(options,fun){var startkeyName=options.descending?"endkey":"startkey",endkeyName=options.descending?"startkey":"endkey";if(void 0!==options[startkeyName]&&void 0!==options[endkeyName]&&collate(options[startkeyName],options[endkeyName])>0)throw new QueryParseError("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(fun.reduce&&!1!==options.reduce){if(options.include_docs)throw new QueryParseError("{include_docs:true} is invalid for reduce");if(options.keys&&options.keys.length>1&&!options.group&&!options.group_level)throw new QueryParseError("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(optionName){var error=function(number){if(number){if("number"!=typeof number)return new QueryParseError('Invalid value for integer: "'+number+'"');if(number<0)return new QueryParseError('Invalid value for positive integer: "'+number+'"')}}(options[optionName]);if(error)throw error})}function defaultsTo(value){return function(reason){if(404===reason.status)return value;throw reason}}function getDocsToPersist(docId,view,docIdsToChangesAndEmits){var metaDocId="_local/doc_"+docId,defaultMetaDoc={_id:metaDocId,keys:[]},docData=docIdsToChangesAndEmits.get(docId),indexableKeysToKeyValues=docData[0];return(function(changes){return 1===changes.length&&/^1-/.test(changes[0].rev)}(docData[1])?Promise.resolve(defaultMetaDoc):view.db.get(metaDocId).catch(defaultsTo(defaultMetaDoc))).then(function(metaDoc){return function(metaDoc){return metaDoc.keys.length?view.db.allDocs({keys:metaDoc.keys,include_docs:!0}):Promise.resolve({rows:[]})}(metaDoc).then(function(kvDocsRes){return function(metaDoc,kvDocsRes){for(var kvDocs=[],oldKeys=new ExportedSet,i=0,len=kvDocsRes.rows.length;i<len;i++){var doc=kvDocsRes.rows[i].doc;if(doc&&(kvDocs.push(doc),oldKeys.add(doc._id),doc._deleted=!indexableKeysToKeyValues.has(doc._id),!doc._deleted)){var keyValue=indexableKeysToKeyValues.get(doc._id);"value"in keyValue&&(doc.value=keyValue.value)}}var newKeys=mapToKeysArray(indexableKeysToKeyValues);return newKeys.forEach(function(key){if(!oldKeys.has(key)){var kvDoc={_id:key},keyValue=indexableKeysToKeyValues.get(key);"value"in keyValue&&(kvDoc.value=keyValue.value),kvDocs.push(kvDoc)}}),metaDoc.keys=uniq(newKeys.concat(metaDoc.keys)),kvDocs.push(metaDoc),kvDocs}(metaDoc,kvDocsRes)})})}function getQueue(view){var viewName="string"==typeof view?view:view.name,queue=persistentQueues[viewName];return queue||(queue=persistentQueues[viewName]=new TaskQueue),queue}function updateView(view){return sequentialize(getQueue(view),function(){return function(view){var mapResults,doc,mapFun=mapper(view.mapFun,function(key,value){var output={id:doc._id,key:normalizeKey(key)};null!=value&&(output.value=normalizeKey(value)),mapResults.push(output)}),currentSeq=view.seq||0;function processChange(docIdsToChangesAndEmits,seq){return function(){return function(view,docIdsToChangesAndEmits,seq){return view.db.get("_local/lastSeq").catch(defaultsTo({_id:"_local/lastSeq",seq:0})).then(function(lastSeqDoc){var docIds=mapToKeysArray(docIdsToChangesAndEmits);return Promise.all(docIds.map(function(docId){return getDocsToPersist(docId,view,docIdsToChangesAndEmits)})).then(function(listOfDocsToPersist){var docsToPersist=flatten(listOfDocsToPersist);return lastSeqDoc.seq=seq,docsToPersist.push(lastSeqDoc),view.db.bulkDocs({docs:docsToPersist})})})}(view,docIdsToChangesAndEmits,seq)}}var queue=new TaskQueue;function processNextBatch(){return view.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:currentSeq,limit:CHANGES_BATCH_SIZE}).then(processBatch)}function processBatch(response){var results=response.results;if(results.length){var docIdsToChangesAndEmits=function(results){for(var docIdsToChangesAndEmits=new ExportedMap,i=0,len=results.length;i<len;i++){var change=results[i];if("_"!==change.doc._id[0]){mapResults=[],(doc=change.doc)._deleted||tryMap(view.sourceDB,mapFun,doc),mapResults.sort(sortByKeyThenValue);var indexableKeysToKeyValues=createIndexableKeysToKeyValues(mapResults);docIdsToChangesAndEmits.set(change.doc._id,[indexableKeysToKeyValues,change.changes])}currentSeq=change.seq}return docIdsToChangesAndEmits}(results);if(queue.add(processChange(docIdsToChangesAndEmits,currentSeq)),!(results.length<CHANGES_BATCH_SIZE))return processNextBatch()}}function createIndexableKeysToKeyValues(mapResults){for(var lastKey,indexableKeysToKeyValues=new ExportedMap,i=0,len=mapResults.length;i<len;i++){var emittedKeyValue=mapResults[i],complexKey=[emittedKeyValue.key,emittedKeyValue.id];i>0&&0===collate(emittedKeyValue.key,lastKey)&&complexKey.push(i),indexableKeysToKeyValues.set(toIndexableString(complexKey),emittedKeyValue),lastKey=emittedKeyValue.key}return indexableKeysToKeyValues}return processNextBatch().then(function(){return queue.finish()}).then(function(){view.seq=currentSeq})}(view)})()}function queryView(view,opts){return sequentialize(getQueue(view),function(){return function(view,opts){var totalRows,shouldReduce=view.reduceFun&&!1!==opts.reduce,skip=opts.skip||0;function fetchFromView(viewOpts){return viewOpts.include_docs=!0,view.db.allDocs(viewOpts).then(function(res){return totalRows=res.total_rows,res.rows.map(function(result){if("value"in result.doc&&"object"==typeof result.doc.value&&null!==result.doc.value){var keys=Object.keys(result.doc.value).sort(),expectedKeys=["id","key","value"];if(!(keys<expectedKeys||keys>expectedKeys))return result.doc.value}var parsedKeyAndDocId=function(str){for(var stack=[],metaStack=[],i=0;;){var collationIndex=str[i++];if("\0"!==collationIndex)switch(collationIndex){case"1":stack.push(null);break;case"2":stack.push("1"===str[i]),i++;break;case"3":var parsedNum=parseNumber(str,i);stack.push(parsedNum.num),i+=parsedNum.length;break;case"4":for(var parsedStr="";;){var ch=str[i];if("\0"===ch)break;parsedStr+=ch,i++}parsedStr=parsedStr.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),stack.push(parsedStr);break;case"5":var arrayElement={element:[],index:stack.length};stack.push(arrayElement.element),metaStack.push(arrayElement);break;case"6":var objElement={element:{},index:stack.length};stack.push(objElement.element),metaStack.push(objElement);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+collationIndex)}else{if(1===stack.length)return stack.pop();pop(stack,metaStack)}}}(result.doc._id);return{key:parsedKeyAndDocId[0],id:parsedKeyAndDocId[1],value:"value"in result.doc?result.doc.value:null}})})}function onMapResultsReady(rows){var finalResults;if(finalResults=shouldReduce?function(view,results,options){0===options.group_level&&delete options.group_level;var shouldGroup=options.group||options.group_level,reduceFun=reducer(view.reduceFun),groups=[],lvl=isNaN(options.group_level)?Number.POSITIVE_INFINITY:options.group_level;results.forEach(function(e){var last=groups[groups.length-1],groupKey=shouldGroup?e.key:null;if(shouldGroup&&Array.isArray(groupKey)&&(groupKey=groupKey.slice(0,lvl)),last&&0===collate(last.groupKey,groupKey))return last.keys.push([e.key,e.id]),void last.values.push(e.value);groups.push({keys:[[e.key,e.id]],values:[e.value],groupKey:groupKey})}),results=[];for(var i=0,len=groups.length;i<len;i++){var e=groups[i],reduceTry=tryReduce(view.sourceDB,reduceFun,e.keys,e.values,!1);if(reduceTry.error&&reduceTry.error instanceof BuiltInError)throw reduceTry.error;results.push({value:reduceTry.error?null:reduceTry.output,key:e.groupKey})}return{rows:sliceResults(results,options.limit,options.skip)}}(view,rows,opts):{total_rows:totalRows,offset:skip,rows:rows},opts.update_seq&&(finalResults.update_seq=view.seq),opts.include_docs){var docIds=uniq(rows.map(rowToDocId));return view.sourceDB.allDocs({keys:docIds,include_docs:!0,conflicts:opts.conflicts,attachments:opts.attachments,binary:opts.binary}).then(function(allDocsRes){var docIdsToDocs=new ExportedMap;return allDocsRes.rows.forEach(function(row){docIdsToDocs.set(row.id,row.doc)}),rows.forEach(function(row){var docId=rowToDocId(row),doc=docIdsToDocs.get(docId);doc&&(row.doc=doc)}),finalResults})}return finalResults}if(void 0===opts.keys||opts.keys.length||(opts.limit=0,delete opts.keys),void 0!==opts.keys){var keys=opts.keys,fetchPromises=keys.map(function(key){var viewOpts={startkey:toIndexableString([key]),endkey:toIndexableString([key,{}])};return opts.update_seq&&(viewOpts.update_seq=!0),fetchFromView(viewOpts)});return Promise.all(fetchPromises).then(flatten).then(onMapResultsReady)}var startkey,endkey,viewOpts={descending:opts.descending};if(opts.update_seq&&(viewOpts.update_seq=!0),"start_key"in opts&&(startkey=opts.start_key),"startkey"in opts&&(startkey=opts.startkey),"end_key"in opts&&(endkey=opts.end_key),"endkey"in opts&&(endkey=opts.endkey),void 0!==startkey&&(viewOpts.startkey=opts.descending?toIndexableString([startkey,{}]):toIndexableString([startkey])),void 0!==endkey){var inclusiveEnd=!1!==opts.inclusive_end;opts.descending&&(inclusiveEnd=!inclusiveEnd),viewOpts.endkey=toIndexableString(inclusiveEnd?[endkey,{}]:[endkey])}if(void 0!==opts.key){var keyStart=toIndexableString([opts.key]),keyEnd=toIndexableString([opts.key,{}]);viewOpts.descending?(viewOpts.endkey=keyStart,viewOpts.startkey=keyEnd):(viewOpts.startkey=keyStart,viewOpts.endkey=keyEnd)}return shouldReduce||("number"==typeof opts.limit&&(viewOpts.limit=opts.limit),viewOpts.skip=skip),fetchFromView(viewOpts).then(onMapResultsReady)}(view,opts)})()}function queryPromised(db,fun,opts){if("function"==typeof db._query)return function(db,fun,opts){return new Promise(function(resolve,reject){db._query(fun,opts,function(err,res){if(err)return reject(err);resolve(res)})})}(db,fun,opts);if(isRemote(db))return function(db,fun,opts){var body,ok,status,params=[],method="GET";if(addHttpParam("reduce",opts,params),addHttpParam("include_docs",opts,params),addHttpParam("attachments",opts,params),addHttpParam("limit",opts,params),addHttpParam("descending",opts,params),addHttpParam("group",opts,params),addHttpParam("group_level",opts,params),addHttpParam("skip",opts,params),addHttpParam("stale",opts,params),addHttpParam("conflicts",opts,params),addHttpParam("startkey",opts,params,!0),addHttpParam("start_key",opts,params,!0),addHttpParam("endkey",opts,params,!0),addHttpParam("end_key",opts,params,!0),addHttpParam("inclusive_end",opts,params),addHttpParam("key",opts,params,!0),addHttpParam("update_seq",opts,params),params=""===(params=params.join("&"))?"":"?"+params,void 0!==opts.keys){var keysAsString="keys="+encodeURIComponent(JSON.stringify(opts.keys));keysAsString.length+params.length+1<=2e3?params+=("?"===params[0]?"&":"?")+keysAsString:(method="POST","string"==typeof fun?body={keys:opts.keys}:fun.keys=opts.keys)}if("string"==typeof fun){var parts=parseViewName(fun);return db.fetch("_design/"+parts[0]+"/_view/"+parts[1]+params,{headers:new Headers({"Content-Type":"application/json"}),method:method,body:JSON.stringify(body)}).then(function(response){return ok=response.ok,status=response.status,response.json()}).then(function(result){if(!ok)throw result.status=status,generateErrorFromResponse(result);return result.rows.forEach(function(row){if(row.value&&row.value.error&&"builtin_reduce_error"===row.value.error)throw new Error(row.reason)}),result}).then(postprocessAttachments(opts))}return body=body||{},Object.keys(fun).forEach(function(key){Array.isArray(fun[key])?body[key]=fun[key]:body[key]=fun[key].toString()}),db.fetch("_temp_view"+params,{headers:new Headers({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(body)}).then(function(response){return ok=response.ok,status=response.status,response.json()}).then(function(result){if(!ok)throw result.status=status,generateErrorFromResponse(result);return result}).then(postprocessAttachments(opts))}(db,fun,opts);if("string"!=typeof fun)return checkQueryParseError(opts,fun),tempViewQueue.add(function(){return createView(db,"temp_view/temp_view",fun.map,fun.reduce,!0,localDocName).then(function(view){return promise=updateView(view).then(function(){return queryView(view,opts)}),finalPromiseFactory=function(){return view.db.destroy()},promise.then(function(res){return finalPromiseFactory().then(function(){return res})},function(reason){return finalPromiseFactory().then(function(){throw reason})});var promise,finalPromiseFactory})}),tempViewQueue.finish();var fullViewName=fun,parts=parseViewName(fullViewName),designDocName=parts[0],viewName=parts[1];return db.get("_design/"+designDocName).then(function(doc){var fun=doc.views&&doc.views[viewName];if(!fun)throw new NotFoundError("ddoc "+doc._id+" has no view named "+viewName);return ddocValidator(doc,viewName),checkQueryParseError(opts,fun),createView(db,fullViewName,fun.map,fun.reduce,!1,localDocName).then(function(view){return"ok"===opts.stale||"update_after"===opts.stale?("update_after"===opts.stale&&nextTick(function(){updateView(view)}),queryView(view,opts)):updateView(view).then(function(){return queryView(view,opts)})})})}var fun;return{query:function(fun,opts,callback){var db=this;"function"==typeof opts&&(callback=opts,opts={}),opts=opts?function(opts){return opts.group_level=coerceInteger(opts.group_level),opts.limit=coerceInteger(opts.limit),opts.skip=coerceInteger(opts.skip),opts}(opts):{},"function"==typeof fun&&(fun={map:fun});var promise=Promise.resolve().then(function(){return queryPromised(db,fun,opts)});return promisedCallback(promise,callback),promise},viewCleanup:(fun=function(){var db=this;return"function"==typeof db._viewCleanup?function(db){return new Promise(function(resolve,reject){db._viewCleanup(function(err,res){if(err)return reject(err);resolve(res)})})}(db):isRemote(db)?function(db){return db.fetch("_view_cleanup",{headers:new Headers({"Content-Type":"application/json"}),method:"POST"}).then(function(response){return response.json()})}(db):function(db){return db.get("_local/"+localDocName).then(function(metaDoc){var docsToViews=new ExportedMap;Object.keys(metaDoc.views).forEach(function(fullViewName){var parts=parseViewName(fullViewName),designDocName="_design/"+parts[0],viewName=parts[1],views=docsToViews.get(designDocName);views||(views=new ExportedSet,docsToViews.set(designDocName,views)),views.add(viewName)});var opts={keys:mapToKeysArray(docsToViews),include_docs:!0};return db.allDocs(opts).then(function(res){var viewsToStatus={};res.rows.forEach(function(row){var ddocName=row.key.substring(8);docsToViews.get(row.key).forEach(function(viewName){var fullViewName=ddocName+"/"+viewName;metaDoc.views[fullViewName]||(fullViewName=viewName);var viewDBNames=Object.keys(metaDoc.views[fullViewName]),statusIsGood=row.doc&&row.doc.views&&row.doc.views[viewName];viewDBNames.forEach(function(viewDBName){viewsToStatus[viewDBName]=viewsToStatus[viewDBName]||statusIsGood})})});var destroyPromises=Object.keys(viewsToStatus).filter(function(viewDBName){return!viewsToStatus[viewDBName]}).map(function(viewDBName){return sequentialize(getQueue(viewDBName),function(){return new db.constructor(viewDBName,db.__opts).destroy()})()});return Promise.all(destroyPromises).then(function(){return{ok:!0}})})},defaultsTo({ok:!0}))}(db)},argsarray_default()(function(args){var cb=args.pop(),promise=fun.apply(this,args);return"function"==typeof cb&&promisedCallback(promise,cb),promise}))}};function massageCreateIndexRequest(requestDef){return(requestDef=clone$1(requestDef)).index||(requestDef.index={}),["type","name","ddoc"].forEach(function(key){requestDef.index[key]&&(requestDef[key]=requestDef.index[key],delete requestDef.index[key])}),requestDef.fields&&(requestDef.index.fields=requestDef.fields,delete requestDef.fields),requestDef.type||(requestDef.type="json"),requestDef}function dbFetch(db,path,opts,callback){var status,ok;opts.headers=new Headers({"Content-type":"application/json"}),db.fetch(path,opts).then(function(response){return status=response.status,ok=response.ok,response.json()}).then(function(json){if(ok)callback(null,json);else{json.status=status;var err=generateErrorFromResponse(json);callback(err)}}).catch(callback)}function createIndex(db,requestDef,callback){requestDef=massageCreateIndexRequest(requestDef),dbFetch(db,"_index",{method:"POST",body:JSON.stringify(requestDef)},callback)}function find(db,requestDef,callback){dbFetch(db,"_find",{method:"POST",body:JSON.stringify(requestDef)},callback)}function index_es_explain(db,requestDef,callback){dbFetch(db,"_explain",{method:"POST",body:JSON.stringify(requestDef)},callback)}function getIndexes(db,callback){dbFetch(db,"_index",{method:"GET"},callback)}function deleteIndex(db,indexDef,callback){var ddoc=indexDef.ddoc,type=indexDef.type||"json",name=indexDef.name;return ddoc?name?void dbFetch(db,"_index/"+[ddoc,type,name].map(encodeURIComponent).join("/"),{method:"DELETE"},callback):callback(new Error("you must provide an index's name")):callback(new Error("you must provide an index's ddoc"))}function getArguments(fun){return function(){for(var len=arguments.length,args=new Array(len),i=-1;++i<len;)args[i]=arguments[i];return fun.call(this,args)}}function index_es_callbackify(fun){return getArguments(function(args){var cb=args.pop(),promise=fun.apply(this,args);return function(promise,callback){promise.then(function(res){nextTick(function(){callback(null,res)})},function(reason){nextTick(function(){callback(reason)})})}(promise,cb),promise})}var index_es_flatten=getArguments(function(args){for(var res=[],i=0,len=args.length;i<len;i++){var subArr=args[i];Array.isArray(subArr)?res=res.concat(index_es_flatten.apply(null,subArr)):res.push(subArr)}return res});function mergeObjects(arr){for(var res={},i=0,len=arr.length;i<len;i++)res=assign$1(res,arr[i]);return res}function oneArrayIsSubArrayOfOther(left,right){for(var i=0,len=Math.min(left.length,right.length);i<len;i++)if(left[i]!==right[i])return!1;return!0}function arrayEquals(arr1,arr2){if(arr1.length!==arr2.length)return!1;for(var i=0,len=arr1.length;i<len;i++)if(arr1[i]!==arr2[i])return!1;return!0}function createMapper(fields,emit){var isShallow=function(fields){for(var i=0,len=fields.length;i<len;i++)if(-1!==fields[i].indexOf("."))return!1;return!0}(fields),isSingle=1===fields.length;return isShallow?isSingle?function(field,emit){return function(doc){emit(doc[field])}}(fields[0],emit):function(fields,emit){return function(doc){for(var toEmit=[],i=0,len=fields.length;i<len;i++)toEmit.push(doc[fields[i]]);emit(toEmit)}}(fields,emit):isSingle?function(field,emit){var parsedField=parseField(field);return function(doc){for(var value=doc,i=0,len=parsedField.length;i<len;i++)if(void 0===(value=value[parsedField[i]]))return;emit(value)}}(fields[0],emit):function(fields,emit){return function(doc){for(var toEmit=[],i=0,iLen=fields.length;i<iLen;i++){for(var parsedField=parseField(fields[i]),value=doc,j=0,jLen=parsedField.length;j<jLen;j++)if(void 0===(value=value[parsedField[j]]))return;toEmit.push(value)}emit(toEmit)}}(fields,emit)}var abstractMapper=index_es("indexes",function(mapFunDef,emit){return createMapper(Object.keys(mapFunDef.fields),emit)},function(){throw new Error("reduce not supported")},function(ddoc,viewName){var view=ddoc.views[viewName];if(!view.map||!view.map.fields)throw new Error("ddoc "+ddoc._id+" with view "+viewName+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")});function massageIndexDef(indexDef){return indexDef.fields=indexDef.fields.map(function(field){if("string"==typeof field){var obj={};return obj[field]="asc",obj}return field}),indexDef}function getKeyFromDoc(doc,index){for(var res=[],i=0;i<index.def.fields.length;i++){var field=getKey(index.def.fields[i]);res.push(doc[field])}return res}function getIndexes$1(db){return db.allDocs({startkey:"_design/",endkey:"_design/",include_docs:!0}).then(function(allDocsRes){var res={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return res.indexes=index_es_flatten(res.indexes,allDocsRes.rows.filter(function(row){return"query"===row.doc.language}).map(function(row){return(void 0!==row.doc.views?Object.keys(row.doc.views):[]).map(function(viewName){var view=row.doc.views[viewName];return{ddoc:row.id,name:viewName,type:"json",def:massageIndexDef(view.options.def)}})})),res.indexes.sort(function(left,right){return compare(left.name,right.name)}),res.total_rows=res.indexes.length,res})}var COLLATE_LO=null,COLLATE_HI={"":{}};function checkFieldInIndex(index,field){for(var indexFields=index.def.fields.map(getKey),i=0,len=indexFields.length;i<len;i++){if(field===indexFields[i])return!0}return!1}function userOperatorLosesPrecision(selector,field){return"$eq"!==getKey(selector[field])}function sortFieldsByIndex(userFields,index){var indexFields=index.def.fields.map(getKey);return userFields.slice().sort(function(a,b){var aIdx=indexFields.indexOf(a),bIdx=indexFields.indexOf(b);return-1===aIdx&&(aIdx=Number.MAX_VALUE),-1===bIdx&&(bIdx=Number.MAX_VALUE),compare(aIdx,bIdx)})}function getInMemoryFields(coreInMemoryFields,index,selector,userFields){var result=index_es_flatten(coreInMemoryFields,function(index,selector,userFields){for(var needToFilterInMemory=!1,i=0,len=(userFields=sortFieldsByIndex(userFields,index)).length;i<len;i++){var field=userFields[i];if(needToFilterInMemory||!checkFieldInIndex(index,field))return userFields.slice(i);i<len-1&&userOperatorLosesPrecision(selector,field)&&(needToFilterInMemory=!0)}return[]}(index,selector,userFields),function(selector){var fields=[];return Object.keys(selector).forEach(function(field){var matcher=selector[field];Object.keys(matcher).forEach(function(operator){"$ne"===operator&&fields.push(field)})}),fields}(selector));return sortFieldsByIndex(function(arr){for(var obj={},i=0;i<arr.length;i++)obj["$"+arr[i]]=!0;return Object.keys(obj).map(function(key){return key.substring(1)})}(result),index)}function checkIndexFieldsMatch(indexFields,sortOrder,fields){if(sortOrder){var sortMatches=(right=indexFields,!((left=sortOrder).length>right.length)&&oneArrayIsSubArrayOfOther(left,right)),selectorMatches=oneArrayIsSubArrayOfOther(fields,indexFields);return sortMatches&&selectorMatches}var left,right;return function(left,right){left=left.slice();for(var i=0,len=right.length;i<len;i++){var field=right[i];if(!left.length)break;var leftIdx=left.indexOf(field);if(-1===leftIdx)return!1;left.splice(leftIdx,1)}return!0}(fields,indexFields)}var logicalMatchers=["$eq","$gt","$gte","$lt","$lte"];function isNonLogicalMatcher(matcher){return-1===logicalMatchers.indexOf(matcher)}function checkIndexMatches(index,sortOrder,fields,selector){var indexFields=index.def.fields.map(getKey);return!!checkIndexFieldsMatch(indexFields,sortOrder,fields)&&function(indexFields,selector){var matcher=selector[indexFields[0]];return void 0===matcher||!!Object.keys(matcher).some(function(matcherKey){return!isNonLogicalMatcher(matcherKey)})&&!(1===Object.keys(matcher).length&&"$ne"===getKey(matcher))}(indexFields,selector)}function findBestMatchingIndex(selector,userFields,sortOrder,indexes,useIndex){var matchingIndexes=function(selector,userFields,sortOrder,indexes){return indexes.reduce(function(res,index){return checkIndexMatches(index,sortOrder,userFields,selector)&&res.push(index),res},[])}(selector,userFields,sortOrder,indexes);if(0===matchingIndexes.length){if(useIndex)throw{error:"no_usable_index",message:"There is no index available for this selector."};var defaultIndex=indexes[0];return defaultIndex.defaultUsed=!0,defaultIndex}if(1===matchingIndexes.length&&!useIndex)return matchingIndexes[0];var userFieldsMap=function(arr){for(var res={},i=0,len=arr.length;i<len;i++)res[arr[i]]=!0;return res}(userFields);if(useIndex){var useIndexDdoc="_design/"+useIndex[0],useIndexName=2===useIndex.length&&useIndex[1],index=matchingIndexes.find(function(index){return!(!useIndexName||index.ddoc!==useIndexDdoc||useIndexName!==index.name)||index.ddoc===useIndexDdoc});if(!index)throw{error:"unknown_error",message:"Could not find that index or could not use that index for the query"};return index}return function(arr,fun){for(var max=null,maxScore=-1,i=0,len=arr.length;i<len;i++){var element=arr[i],score=fun(element);score>maxScore&&(maxScore=score,max=element)}return max}(matchingIndexes,function(index){for(var indexFields=index.def.fields.map(getKey),score=0,i=0,len=indexFields.length;i<len;i++){var indexField=indexFields[i];userFieldsMap[indexField]&&score++}return score})}function getMultiFieldCoreQueryPlan(userOperator,userValue){switch(userOperator){case"$eq":return{startkey:userValue,endkey:userValue};case"$lte":return{endkey:userValue};case"$gte":return{startkey:userValue};case"$lt":return{endkey:userValue,inclusive_end:!1};case"$gt":return{startkey:userValue,inclusive_start:!1}}}function getCoreQueryPlan(selector,index){return index.defaultUsed?function(selector){return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(selector)]}}(selector):1===index.def.fields.length?function(selector,index){var combinedOpts,field=getKey(index.def.fields[0]),matcher=selector[field]||{},inMemoryFields=[];return Object.keys(matcher).forEach(function(userOperator){if(isNonLogicalMatcher(userOperator))inMemoryFields.push(field);else{var newQueryOpts=function(userOperator,userValue){switch(userOperator){case"$eq":return{key:userValue};case"$lte":return{endkey:userValue};case"$gte":return{startkey:userValue};case"$lt":return{endkey:userValue,inclusive_end:!1};case"$gt":return{startkey:userValue,inclusive_start:!1}}}(userOperator,matcher[userOperator]);combinedOpts=combinedOpts?mergeObjects([combinedOpts,newQueryOpts]):newQueryOpts}}),{queryOpts:combinedOpts,inMemoryFields:inMemoryFields}}(selector,index):function(selector,index){var inclusiveStart,inclusiveEnd,indexFields=index.def.fields.map(getKey),inMemoryFields=[],startkey=[],endkey=[];function finish(i){!1!==inclusiveStart&&startkey.push(COLLATE_LO),!1!==inclusiveEnd&&endkey.push(COLLATE_HI),inMemoryFields=indexFields.slice(i)}for(var i=0,len=indexFields.length;i<len;i++){var matcher=selector[indexFields[i]];if(!matcher||!Object.keys(matcher).length){finish(i);break}if(i>0){if(Object.keys(matcher).some(isNonLogicalMatcher)){finish(i);break}var usingGtlt="$gt"in matcher||"$gte"in matcher||"$lt"in matcher||"$lte"in matcher,previousKeys=Object.keys(selector[indexFields[i-1]]),previousWasEq=arrayEquals(previousKeys,["$eq"]),previousWasSame=arrayEquals(previousKeys,Object.keys(matcher));if(usingGtlt&&!previousWasEq&&!previousWasSame){finish(i);break}}for(var userOperators=Object.keys(matcher),combinedOpts=null,j=0;j<userOperators.length;j++){var userOperator=userOperators[j],newOpts=getMultiFieldCoreQueryPlan(userOperator,matcher[userOperator]);combinedOpts=combinedOpts?mergeObjects([combinedOpts,newOpts]):newOpts}startkey.push("startkey"in combinedOpts?combinedOpts.startkey:COLLATE_LO),endkey.push("endkey"in combinedOpts?combinedOpts.endkey:COLLATE_HI),"inclusive_start"in combinedOpts&&(inclusiveStart=combinedOpts.inclusive_start),"inclusive_end"in combinedOpts&&(inclusiveEnd=combinedOpts.inclusive_end)}var res={startkey:startkey,endkey:endkey};return void 0!==inclusiveStart&&(res.inclusive_start=inclusiveStart),void 0!==inclusiveEnd&&(res.inclusive_end=inclusiveEnd),{queryOpts:res,inMemoryFields:inMemoryFields}}(selector,index)}function planQuery(request,indexes){var selector=request.selector,userFieldsRes=function(selector,sort){var userFields,selectorFields=Object.keys(selector),sortFields=sort?sort.map(getKey):[];return userFields=selectorFields.length>=sortFields.length?selectorFields:sortFields,0===sortFields.length?{fields:userFields}:{fields:userFields=userFields.sort(function(left,right){var leftIdx=sortFields.indexOf(left);-1===leftIdx&&(leftIdx=Number.MAX_VALUE);var rightIdx=sortFields.indexOf(right);return-1===rightIdx&&(rightIdx=Number.MAX_VALUE),leftIdx<rightIdx?-1:leftIdx>rightIdx?1:0}),sortOrder:sort.map(getKey)}}(selector,request.sort),userFields=userFieldsRes.fields,index=findBestMatchingIndex(selector,userFields,userFieldsRes.sortOrder,indexes,request.use_index),coreQueryPlan=getCoreQueryPlan(selector,index);return{queryOpts:coreQueryPlan.queryOpts,index:index,inMemoryFields:getInMemoryFields(coreQueryPlan.inMemoryFields,index,selector,userFields)}}function find$1(db,requestDef,explain){var useIndex,cleanedUseIndex;return requestDef.selector&&(requestDef.selector=massageSelector(requestDef.selector)),requestDef.sort&&(requestDef.sort=function(sort){if(!Array.isArray(sort))throw new Error("invalid sort json - should be an array");return sort.map(function(sorting){if("string"==typeof sorting){var obj={};return obj[sorting]="asc",obj}return sorting})}(requestDef.sort)),requestDef.use_index&&(requestDef.use_index=(useIndex=requestDef.use_index,cleanedUseIndex=[],"string"==typeof useIndex?cleanedUseIndex.push(useIndex):cleanedUseIndex=useIndex,cleanedUseIndex.map(function(name){return name.replace("_design/","")}))),function(requestDef){if("object"!=typeof requestDef.selector)throw new Error("you must provide a selector when you find()")}(requestDef),getIndexes$1(db).then(function(getIndexesRes){db.constructor.emit("debug",["find","planning query",requestDef]);var queryPlan=planQuery(requestDef,getIndexesRes.indexes);db.constructor.emit("debug",["find","query plan",queryPlan]);var indexToUse=queryPlan.index;!function(requestDef,index){if(index.defaultUsed&&requestDef.sort){var noneIdSorts=requestDef.sort.filter(function(sortItem){return"_id"!==Object.keys(sortItem)[0]}).map(function(sortItem){return Object.keys(sortItem)[0]});if(noneIdSorts.length>0)throw new Error('Cannot sort on field(s) "'+noneIdSorts.join(",")+'" when using the default index')}index.defaultUsed}(requestDef,indexToUse);var opts=assign$1({include_docs:!0,reduce:!1},queryPlan.queryOpts);return"startkey"in opts&&"endkey"in opts&&collate(opts.startkey,opts.endkey)>0?{docs:[]}:(requestDef.sort&&"string"!=typeof requestDef.sort[0]&&"desc"===getValue(requestDef.sort[0])&&(opts.descending=!0,opts=function(opts){var newOpts=clone$1(opts);return delete newOpts.startkey,delete newOpts.endkey,delete newOpts.inclusive_start,delete newOpts.inclusive_end,"endkey"in opts&&(newOpts.startkey=opts.endkey),"startkey"in opts&&(newOpts.endkey=opts.startkey),"inclusive_start"in opts&&(newOpts.inclusive_end=opts.inclusive_start),"inclusive_end"in opts&&(newOpts.inclusive_start=opts.inclusive_end),newOpts}(opts)),queryPlan.inMemoryFields.length||("limit"in requestDef&&(opts.limit=requestDef.limit),"skip"in requestDef&&(opts.skip=requestDef.skip)),explain?Promise.resolve(queryPlan,opts):Promise.resolve().then(function(){if("_all_docs"===indexToUse.name)return function(db,originalOpts){var opts=clone$1(originalOpts);return opts.descending?("endkey"in opts&&"string"!=typeof opts.endkey&&(opts.endkey=""),"startkey"in opts&&"string"!=typeof opts.startkey&&(opts.limit=0)):("startkey"in opts&&"string"!=typeof opts.startkey&&(opts.startkey=""),"endkey"in opts&&"string"!=typeof opts.endkey&&(opts.limit=0)),"key"in opts&&"string"!=typeof opts.key&&(opts.limit=0),db.allDocs(opts).then(function(res){return res.rows=res.rows.filter(function(row){return!/^_design\//.test(row.id)}),res})}(db,opts);var index,signature=(index=indexToUse).ddoc.substring(8)+"/"+index.name;return abstractMapper.query.call(db,signature,opts)}).then(function(res){!1===opts.inclusive_start&&(res.rows=function(rows,targetValue,index){for(var indexFields=index.def.fields,i=0,len=rows.length;i<len;i++){var docKey=getKeyFromDoc(rows[i].doc,index);if(1===indexFields.length)docKey=docKey[0];else for(;docKey.length>targetValue.length;)docKey.pop();if(Math.abs(collate(docKey,targetValue))>0)break}return i>0?rows.slice(i):rows}(res.rows,opts.startkey,indexToUse)),queryPlan.inMemoryFields.length&&(res.rows=filterInMemoryFields(res.rows,requestDef,queryPlan.inMemoryFields));var resp={docs:res.rows.map(function(row){var doc=row.doc;return requestDef.fields?function(obj,arr){for(var res={},i=0,len=arr.length;i<len;i++){var parsedField=parseField(arr[i]),value=getFieldFromDoc(obj,parsedField);void 0!==value&&setFieldInDoc(res,parsedField,value)}return res}(doc,requestDef.fields):doc})};return indexToUse.defaultUsed&&(resp.warning="no matching index found, create an index to optimize query time"),resp}))})}var createIndexAsCallback=index_es_callbackify(function(db,requestDef){var md5,originalIndexDef=clone$1((requestDef=massageCreateIndexRequest(requestDef)).index);function getMd5(){return md5||(md5=stringMd5(JSON.stringify(requestDef)))}requestDef.index=massageIndexDef(requestDef.index),function(index){var ascFields=index.fields.filter(function(field){return"asc"===getValue(field)});if(0!==ascFields.length&&ascFields.length!==index.fields.length)throw new Error("unsupported mixed sorting")}(requestDef.index);var viewName=requestDef.name||"idx-"+getMd5(),ddocName=requestDef.ddoc||"idx-"+getMd5(),ddocId="_design/"+ddocName,hasInvalidLanguage=!1,viewExists=!1;return db.constructor.emit("debug",["find","creating index",ddocId]),upsert(db,ddocId,function(doc){return doc._rev&&"query"!==doc.language&&(hasInvalidLanguage=!0),doc.language="query",doc.views=doc.views||{},!(viewExists=!!doc.views[viewName])&&(doc.views[viewName]={map:{fields:mergeObjects(requestDef.index.fields)},reduce:"_count",options:{def:originalIndexDef}},doc)}).then(function(){if(hasInvalidLanguage)throw new Error('invalid language for ddoc with id "'+ddocId+'" (should be "query")')}).then(function(){var signature=ddocName+"/"+viewName;return abstractMapper.query.call(db,signature,{limit:0,reduce:!1}).then(function(){return{id:ddocId,name:viewName,result:viewExists?"exists":"created"}})})}),findAsCallback=index_es_callbackify(find$1),explainAsCallback=index_es_callbackify(function(db,requestDef){return find$1(db,requestDef,!0).then(function(queryPlan){return{dbname:db.name,index:queryPlan.index,selector:requestDef.selector,range:{start_key:queryPlan.queryOpts.startkey,end_key:queryPlan.queryOpts.endkey},opts:{use_index:requestDef.use_index||[],bookmark:"nil",limit:requestDef.limit,skip:requestDef.skip,sort:requestDef.sort||{},fields:requestDef.fields,conflicts:!1,r:[49]},limit:requestDef.limit,skip:requestDef.skip||0,fields:requestDef.fields}})}),getIndexesAsCallback=index_es_callbackify(getIndexes$1),deleteIndexAsCallback=index_es_callbackify(function(db,index){if(!index.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!index.name)throw new Error("you must supply an index.name when deleting");var docId=index.ddoc,viewName=index.name;return upsert(db,docId,function(doc){return 1===Object.keys(doc.views).length&&doc.views[viewName]?{_id:docId,_deleted:!0}:(delete doc.views[viewName],doc)}).then(function(){return abstractMapper.viewCleanup.apply(db)}).then(function(){return{ok:!0}})}),index_es_plugin={};index_es_plugin.createIndex=toPromise(function(requestDef,callback){if("object"!=typeof requestDef)return callback(new Error("you must provide an index to create"));(isRemote(this)?createIndex:createIndexAsCallback)(this,requestDef,callback)}),index_es_plugin.find=toPromise(function(requestDef,callback){if(void 0===callback&&(callback=requestDef,requestDef=void 0),"object"!=typeof requestDef)return callback(new Error("you must provide search parameters to find()"));(isRemote(this)?find:findAsCallback)(this,requestDef,callback)}),index_es_plugin.explain=toPromise(function(requestDef,callback){if(void 0===callback&&(callback=requestDef,requestDef=void 0),"object"!=typeof requestDef)return callback(new Error("you must provide search parameters to explain()"));(isRemote(this)?index_es_explain:explainAsCallback)(this,requestDef,callback)}),index_es_plugin.getIndexes=toPromise(function(callback){(isRemote(this)?getIndexes:getIndexesAsCallback)(this,callback)}),index_es_plugin.deleteIndex=toPromise(function(indexDef,callback){if("object"!=typeof indexDef)return callback(new Error("you must provide an index to delete"));(isRemote(this)?deleteIndex:deleteIndexAsCallback)(this,indexDef,callback)});__webpack_exports__.default=index_es_plugin},,,,function(module,exports,__webpack_require__){var differenceInMilliseconds=__webpack_require__(1746);module.exports=function(dirtyDateLeft,dirtyDateRight){var diff=differenceInMilliseconds(dirtyDateLeft,dirtyDateRight)/1e3;return diff>0?Math.floor(diff):Math.ceil(diff)}},,,,,,,,,,,,,function(module,exports,__webpack_require__){var baseSlice=__webpack_require__(294),isIterateeCall=__webpack_require__(144),toInteger=__webpack_require__(146),nativeCeil=Math.ceil,nativeMax=Math.max;module.exports=function(array,size,guard){size=(guard?isIterateeCall(array,size,guard):void 0===size)?1:nativeMax(toInteger(size),0);var length=null==array?0:array.length;if(!length||size<1)return[];for(var index=0,resIndex=0,result=Array(nativeCeil(length/size));index<length;)result[resIndex++]=baseSlice(array,index,index+=size);return result}},,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){var parse=__webpack_require__(35);module.exports=function(dirtyDateLeft,dirtyDateRight){var dateLeft=parse(dirtyDateLeft),dateRight=parse(dirtyDateRight);return dateLeft.getTime()-dateRight.getTime()}},,,,,,,,,,,,,,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var regenerator=__webpack_require__(0),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(3),asyncToGenerator_default=__webpack_require__.n(asyncToGenerator),src=__webpack_require__(29),src_default=__webpack_require__.n(src),dist=__webpack_require__(490),lodash_chunk=__webpack_require__(1728),chunk_default=__webpack_require__.n(lodash_chunk),sortBy=__webpack_require__(74),sortBy_default=__webpack_require__.n(sortBy),cozy_doctypes_src=__webpack_require__(42),difference_in_seconds=__webpack_require__(1715),difference_in_seconds_default=__webpack_require__.n(difference_in_seconds),tracking=__webpack_require__(1240),helpers=__webpack_require__(99);cozy_doctypes_src.BankTransaction.registerClient(dist.cozyClient);var MAX_EXECUTION_TIME=parseInt(process.env.COZY_TIME_LIMIT,10),services_timeStart=new Date,highestTime=0,fetchChunksToCategorize=function(){var _ref=asyncToGenerator_default()(regenerator_default.a.mark(function _callee(){var toCategorize,sortedToCategorize,chunks;return regenerator_default.a.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,cozy_doctypes_src.BankTransaction.queryAll({toCategorize:!0});case 2:return toCategorize=_context.sent,sortedToCategorize=sortBy_default()(toCategorize,function(t){return t.date}).reverse(),chunks=chunk_default()(sortedToCategorize,100),_context.abrupt("return",chunks);case 6:case"end":return _context.stop()}},_callee)}));return function(){return _ref.apply(this,arguments)}}(),categorizeChunk=function(){var _ref2=asyncToGenerator_default()(regenerator_default.a.mark(function _callee2(categorizer,chunk){var timeStart,categorizedTransactions,timeEnd,timeElapsed;return regenerator_default.a.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return timeStart=new Date,(categorizedTransactions=categorizer.categorize(chunk)).forEach(function(t){return t.toCategorize=!1}),_context2.next=5,cozy_doctypes_src.BankTransaction.bulkSave(categorizedTransactions,30);case 5:return services_sendResultsToMatomo(categorizedTransactions),timeEnd=new Date,timeElapsed=difference_in_seconds_default()(timeEnd,timeStart),_context2.abrupt("return",timeElapsed);case 9:case"end":return _context2.stop()}},_callee2)}));return function(_x,_x2){return _ref2.apply(this,arguments)}}(),services_sendResultsToMatomo=function(transactions){var tracker=Object(tracking.getTracker)("services",{e_a:"LocalCategorization"}),nbTransactionsAboveThreshold=transactions.reduce(function(sum,transaction){return transaction.localCategoryProba>helpers.LOCAL_MODEL_USAGE_THRESHOLD?sum+1:sum},0);tracker.trackEvent({e_n:"TransactionsUsingLocalCategory",e_v:nbTransactionsAboveThreshold})},services_startService=function(name){var args={name:name,slug:"banks"};return dist.cozyClient.jobs.create("service",args)},log=src_default.a.namespace("service/categorization");(function(){var _ref=asyncToGenerator_default()(regenerator_default.a.mark(function _callee(){var chunks,categorizer,_iteratorNormalCompletion,_didIteratorError,_iteratorError,_iterator,_step,chunk,timeElapsed;return regenerator_default.a.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return log("info","Fetching chunks to categorize..."),_context.prev=1,_context.next=4,fetchChunksToCategorize();case 4:chunks=_context.sent,_context.next=11;break;case 7:return _context.prev=7,_context.t0=_context.catch(1),log("error","Error while fetching chunks to categorize "+_context.t0),_context.abrupt("return");case 11:return log("info","".concat(chunks.length," chunks of ").concat(100," transactions to categorize")),log("info","Creating a new categorizer..."),_context.next=15,Object(dist.createCategorizer)();case 15:categorizer=_context.sent,log("info","Categorizing chunks..."),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0,_context.prev=20,_iterator=chunks[Symbol.iterator]();case 22:if(_iteratorNormalCompletion=(_step=_iterator.next()).done){_context.next=46;break}if(chunk=_step.value,!(difference_in_seconds_default()(new Date,services_timeStart)+highestTime<MAX_EXECUTION_TIME)){_context.next=39;break}return log("info","Categorizing chunk..."),_context.prev=26,_context.next=29,categorizeChunk(categorizer,chunk);case 29:timeElapsed=_context.sent,log("info","Last chunk was categorized in ".concat(timeElapsed,"s")),time=timeElapsed,highestTime=Math.max(highestTime,time),_context.next=37;break;case 34:_context.prev=34,_context.t1=_context.catch(26),log("error","Error while categorizing transactions "+_context.t1);case 37:_context.next=43;break;case 39:return log("info","Not enough time remaining to categorize next chunk, starting a new service run."),_context.next=42,services_startService("categorization");case 42:return _context.abrupt("return");case 43:_iteratorNormalCompletion=!0,_context.next=22;break;case 46:_context.next=52;break;case 48:_context.prev=48,_context.t2=_context.catch(20),_didIteratorError=!0,_iteratorError=_context.t2;case 52:_context.prev=52,_context.prev=53,_iteratorNormalCompletion||null==_iterator.return||_iterator.return();case 55:if(_context.prev=55,!_didIteratorError){_context.next=58;break}throw _iteratorError;case 58:return _context.finish(55);case 59:return _context.finish(52);case 60:return log("info","All transactions have been successfuly categorized."),log("info","Starting onOperationOrBillCreate service..."),_context.next=64,services_startService("onOperationOrBillCreate");case 64:case"end":return _context.stop()}var time},_callee,null,[[1,7],[20,48,52,60],[26,34],[53,,55,59]])}));return function(){return _ref.apply(this,arguments)}})()()}]);