!function(e){function t(t){for(var a,c,i=t[0],l=t[1],s=t[2],d=0,m=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&m.push(r[c][0]),r[c]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(u&&u(t);m.length;)m.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,i=1;i<n.length;i++){var l=n[i];0!==r[l]&&(a=!1)}a&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={1:0},o=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var u=l;o.push([1,0,2]),n()}({"++0B":function(e,t){e.exports="/img/veepee.9d3db3d18a5534582eba5b9fdbddb8bf.png"},"+AGJ":function(e,t,n){e.exports={BackArrow:"BackArrow--2OXj1",BackIcon:"BackIcon--3EuLu","BackIcon--primary":"BackIcon--primary--i2oSh","BackIcon--inverted":"BackIcon--inverted--2bqoQ"}},"+Riz":function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-educationAndTraining_2640aa20322ddb871d3a19d748586b4f",use:"icon-cat-educationAndTraining_2640aa20322ddb871d3a19d748586b4f-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-educationAndTraining_2640aa20322ddb871d3a19d748586b4f"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#FC6D00" /><path fill="#FFFFFF" d="M16 22.04a.5.5 0 0 0 .23-.06L24 17.93v.98c0 2.3-3.04 5.5-8 5.5a9.9 9.9 0 0 1-4.53-1.04A2.97 2.97 0 0 0 10 20.4v-1.43l5.77 3a.5.5 0 0 0 .23.06zm-5.52.73l.02.23a1.99 1.99 0 0 1-2 2 1.99 1.99 0 0 1-2-2l.03-.32.02-.11.05-.19.05-.12a1.9 1.9 0 0 1 .45-.67l.07-.07.18-.14.07-.05.24-.14.03-.01c.1-.04.2-.08.31-.1v-3.15l1 .52v2.59l.3.13a2 2 0 0 1 1.18 1.6zm17.25-8.8a.5.5 0 0 1 0 .88L16 20.98 4.27 14.85a.5.5 0 0 1 0-.88l11.5-6a.5.5 0 0 1 .46 0l11.5 6z" /></g></symbol>'});c.a.add(i);t.default=i},"/KVF":function(e,t,n){var a={"./en":"7dT6","./en.json":"7dT6","./fr":"9pOX","./fr.json":"9pOX"};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id="/KVF"},"/Zau":function(e){e.exports=JSON.parse('{"amountShouldBeMoreThan":{"active":true,"options":5},"bundleSizeShouldBeMoreThan":{"active":true,"options":2},"categoryShouldBeSet":{"active":true},"deltaMeanInferiorTo":{"active":true,"options":90},"deltaMeanSuperiorTo":{"active":true,"options":15},"madInferiorTo":{"active":true,"options":5},"mergeBundles":{"active":true},"sigmaInferiorTo":{"active":false,"options":5},"addStats":{"active":true},"splitBrands":{"active":true}}')},"/lvV":function(e,t,n){e.exports={GroupPanelSummary__labelBalanceWrapper:"GroupPanelSummary__labelBalanceWrapper--1HmTy",GroupPanelSummary__figureCurrency:"GroupPanelSummary__figureCurrency--2i_wP",GroupPanelSummary__caption:"GroupPanelSummary__caption--1Irbn",GroupPanelSummary__icon:"GroupPanelSummary__icon--2I-CQ","GroupPanelSummary--unchecked":"GroupPanelSummary--unchecked--3NUhv",GroupPanelSummary__content:"GroupPanelSummary__content--3rFP6","GroupPanelSummary--lateHealthReimbursements":"GroupPanelSummary--lateHealthReimbursements--2OOz1"}},0:function(e,t){},"0CcG":function(e,t,n){e.exports={GrpsStg__table:"GrpsStg__table--Mm_4e",GrpStg__table:"GrpStg__table--RDbil",GrpsStg__label:"GrpsStg__label--3XbyG",GrpsStg__accounts:"GrpsStg__accounts--3oCzC",GrpStg__form:"GrpStg__form--2JuUN",GrpStg__accntLabel:"GrpStg__accntLabel--1mVe6",GrpStg__accntBank:"GrpStg__accntBank--29uKw",GrpStg__accntNumber:"GrpStg__accntNumber--3Wn-o",GrpStg__accntGroups:"GrpStg__accntGroups--1FI6g",GrpStg__accntToggle:"GrpStg__accntToggle--23T_R",spin:"spin--2jAsI",shake:"shake--3QZ-E"}},"0hMs":function(e,t,n){"use strict";n.d(t,"c",function(){return N}),n.d(t,"e",function(){return M}),n.d(t,"f",function(){return L}),n.d(t,"d",function(){return R}),n.d(t,"b",function(){return D}),n.d(t,"g",function(){return P}),n.d(t,"o",function(){return H}),n.d(t,"n",function(){return Q}),n.d(t,"a",function(){return K}),n.d(t,"m",function(){return J}),n.d(t,"h",function(){return Z}),n.d(t,"i",function(){return X}),n.d(t,"j",function(){return $}),n.d(t,"l",function(){return ee}),n.d(t,"k",function(){return te});n("RIqP");var a,r=n("lSNA"),o=n.n(r),c=n("mgfL"),i=n.n(c),l=n("Le8U"),s=n("AHBE"),u=n.n(s),d=(n("TYy9"),n("qPyV"),n("D1y2"),n("BJ98")),m=n.n(d),f=n("x2AN"),p=n.n(f),h=n("a9jo"),b=n.n(h),g=n("mwIZ"),v=n.n(g),y=n("SH7X"),E=n("x2ws"),C=n("J0QW"),k=n("Ev1t"),_=n.n(k),w=n("pDEI"),O=n.n(w),x=n("1CCG"),S=n.n(x),j=n("T1IG"),T=y.models.triggers.triggerStates,A=["(sans Secure Key)"],N=function(e){return e?A.reduce(function(e,t){return e.replace(t,"")},e.institutionLabel||""):e},M=function(e,t){if(null==e)return"";var n=e.shortLabel||e.label;return e.virtual?t(n):n},I=function(e){return Number.isFinite(e)?0===e?"Balance.updated-at.today":1===e?"Balance.updated-at.yesterday":"Balance.updated-at.n-days-ago":"Balance.updated-at.unknown"},B=["Business","Checkings","CreditCard","Joint","Loan","LongTermSavings","Other","Reimbursements","Savings"],F={Article83:"LongTermSavings",Asset:"Business",Bank:"Checkings",Capitalisation:"Business",Cash:"Checkings",ConsumerCredit:"Loan","Credit card":"CreditCard",Deposit:"Checkings",Liability:"Business",LifeInsurance:"LongTermSavings",Madelin:"LongTermSavings",Market:"LongTermSavings",Mortgage:"LongTermSavings",None:"Other",PEA:"LongTermSavings",PEE:"LongTermSavings",Perco:"LongTermSavings",Perp:"LongTermSavings",RevolvingCredit:"Loan",RSP:"LongTermSavings",Unkown:"Other"},L=function(e){var t=F[e.type]||e.type||"Other";return B.includes(t)?t:"Other"},R=function(e){return v()(e,"cozyMetadata.createdByApp")},D=function(e){return"CreditCard"===e.type&&e.comingBalance?e.comingBalance:e.balance},P=function(e,t){if(i()("demo"))return{translateKey:I(0),params:{nbDays:0}};var n=new Date,a=l.BankAccount.getUpdatedAt(e),r=T.getLastSuccess(t)||a,o=r?S()(n,r):null;return{translateKey:I(o),params:{nbDays:o}}},z=function(e){return function(t){var n,a=p()([e.filter,m()((n=_()(new Date,6),function(e){return O()(e,n)}),E.f),E.p].filter(Boolean)),r=t.filter(a),o=b()(r,function(e){var t=Object(E.i)(e);return-e.amount-t});return{_id:e.id,_type:j.a,id:e.id,label:"Data.virtualAccounts.".concat(e.translationKey),balance:o,type:"Reimbursements",categoryId:e.categoryId,currency:"€",virtual:!0}}},q=Object(C.a)("healthExpenses"),G=Object(C.a)("professionalExpenses"),H=(a={},o()(a,q,{id:"health_reimbursements",translationKey:"healthReimbursements",categoryId:q,filter:C.f}),o()(a,G,{id:"professional_reimbursements",translationKey:"professionalReimbursements",categoryId:G,filter:C.g}),a),V=z(H[q]),U=z(H[G]),Y=u()(Object.values(H).map(function(e){return e.filter})),Q=function(e){return!Y(e)&&Object(E.r)(e)},W=z({id:"others_reimbursements",translationKey:"othersReimbursements",filter:Q}),K=function(e){return[V(e),U(e),W(e)].filter(Boolean)},J=function(e){return"Reimbursements"===e.type},Z=function(e){return v()(e,"loan.usedAmount")||v()(e,"loan.totalAmount")},X=function(e){return Z(e)-function(e){return Math.abs(e.balance)}(e)},$=function(e){return X(e)/Z(e)*100},ee=function(e){return"CreditCard"===L(e)},te=function(e){return"Checkings"===L(e)}},"0lXt":function(e,t,n){e.exports={"List--papered":"List--papered--2-UzE","List--bordered":"List--bordered--1cu1L","List--bordered-v":"List--bordered-v--1af1m","List--bordered-h":"List--bordered-h--1wjiV","c-list-row":"c-list-row--Vws4v",Radio:"Radio--1X3Fx"}},"0mAb":function(e,t,n){"use strict";var a=n("9jFK");n("lNS+");t.a=a},1:function(e,t,n){n("55Il"),e.exports=n("7pVq")},"1SZb":function(e,t,n){"use strict";n.d(t,"e",function(){return A}),n.d(t,"d",function(){return I}),n.d(t,"k",function(){return R}),n.d(t,"j",function(){return D}),n.d(t,"b",function(){return P}),n.d(t,"i",function(){return z}),n.d(t,"a",function(){return q}),n.d(t,"f",function(){return G}),n.d(t,"h",function(){return H}),n.d(t,"g",function(){return V}),n.d(t,"m",function(){return Y}),n.d(t,"l",function(){return Q}),n.d(t,"c",function(){return W});var a=n("o0o1"),r=n.n(a),o=n("MVZn"),c=n.n(o),i=n("yXPU"),l=n.n(i),s=n("J4zp"),u=n.n(s),d=n("D1y2"),m=n.n(d),f=n("7tbW"),p=n.n(f),h=n("6ajc"),b=n.n(h),g=n("Puqe"),v=n.n(g),y=n("FyPc"),E=n.n(y),C=n("mwIZ"),k=n.n(C),_=n("bt/X"),w=n.n(_),O=n("SH7X"),x=n("ne8c"),S=n("T1IG"),j=n("6MOg"),T=n("6bKa"),A=function(e){return t=e.ops,n=function(e){return e.label},a=w()(t,n),E()(Object.entries(a),function(e){return u()(e,2)[1].length})[0];var t,n,a},N=function(e,t,n){return m()(e,["relationships",t],{data:n})},M=function(e){return k()(e,"relationships.recurrence.data._id",null)},I=function(){var e=l()(r.a.mark(function e(t){var n,a,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.queryAll(Object(O.Q)(S.i).limitBy(1e3));case 2:return n=e.sent,e.next=5,t.queryAll(Object(x.c)(n).limitBy(1e3));case 5:return a=e.sent,o=w()(a,M),e.abrupt("return",n.map(function(e){return c()({},e,{ops:o[e._id]||[]})}));case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),B=function(e){return e.map(function(e){var t=v()(e,"ops");t.accounts=p()(e.ops.map(function(e){return e.account})),Object(j.a)("info","Setting accounts to ".concat(t.accounts)),t.automaticLabel=A(e);var n=E()(e.ops,function(e){return e.date});return t.latestDate=n.date,t.latestAmount=n.amount,t})},F=function(e,t){return null==t.relationships||null==t.relationships.recurrence||t.relationships.recurrence.data._id!==e._id},L=function(e,t){return N(Object(O.dehydrate)(t),"recurrence",{_id:e._id,_type:S.i})},R=function(){var e=l()(r.a.mark(function e(t,n){var a,o,i,l,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.collection(S.i),e.next=3,a.updateAll(B(n));case 3:return o=e.sent,i=n.map(function(e,t){return c()({},e,{_id:o[t].id})}),l=b()(i,function(e){return e.ops.filter(F.bind(null,e)).map(L.bind(null,e))}),s=t.collection("io.cozy.bank.operations"),e.next=9,s.updateAll(l.map(function(e){return v()(e,"_type")}));case 9:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),D=function(){var e=l()(r.a.mark(function e(t){var n,a,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.collection(S.i),e.next=3,n.all();case 3:return a=e.sent,o=a.data,e.next=7,n.destroyAll(o);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=l()(r.a.mark(function e(t,n){var a,o,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.collection(S.l),e.next=3,t.query(Object(x.b)(n));case 3:return o=e.sent,c=o.data,e.next=7,a.updateAll(c.map(function(e){return t=v()(e,"_type"),N(t,"recurrence",{_id:T.a,_type:S.i});var t}));case 7:return e.next=9,t.destroy(n);case 9:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),z=function(){var e=l()(r.a.mark(function e(t,n,a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.save(c()({},n,{manualLabel:a})));case 1:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),q="finished",G=function(e){return e.status?e.status:"ongoing"},H=function(e){return"ongoing"===G(e)},V=function(e){return G(e)===q},U=function(){var e=l()(r.a.mark(function e(t,n,a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.save(c()({},n,{status:a}));case 1:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),Y=function(){var e=l()(r.a.mark(function e(t,n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U(t,n,"ongoing"));case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Q=function(){var e=l()(r.a.mark(function e(t,n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",U(t,n,q));case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),W=function(){var e=l()(r.a.mark(function e(t,n){var a,o,c,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.query(Object(x.b)(n));case 2:if(a=e.sent,0!==a.data.length){e.next=13;break}return o=Object(O.Q)(n._type).getById(n._id),e.next=8,t.query(o);case 8:if(c=e.sent,!(i=c.data)){e.next=13;break}return e.next=13,t.destroy(i);case 13:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},"1jk2":function(e,t,n){e.exports={CategoriesChart:"CategoriesChart--38fEq",inverted:"inverted--X2-iL",NoAccount:"NoAccount--140Dq",CategoriesChart__FigureBlockContainer:"CategoriesChart__FigureBlockContainer--1ScR9",CategoriesChart__FigureBlock:"CategoriesChart__FigureBlock--3WShs",CategoriesChart__Figure:"CategoriesChart__Figure--2CEkT"}},2:function(e,t){},"2mYB":function(e,t){e.exports="/img/timeline_mobile_fr.e42a3b60dcefcdbae40e449c49c01d83.svg"},3:function(e,t){},"3KLn":function(e,t,n){e.exports={ActionMenuHelper__menu:"ActionMenuHelper__menu--EZMib"}},"3ZVw":function(e,t,n){e.exports={"app-version":"app-version--3Y-fY"}},"3uFJ":function(e,t,n){e.exports={ColumnSizeLabel:"ColumnSizeLabel--2RFj5",ColumnSizeLastOccurence:"ColumnSizeLastOccurence--RTVxO",ColumnSizeFrequency:"ColumnSizeFrequency--ozCee",ColumnSizeAmount:"ColumnSizeAmount--jU6KV",BundleRow:"BundleRow--1kJVk",BarButtonRight:"BarButtonRight--3RSGi"}},4:function(e,t){},"4MBk":function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-pets_26c04e397312235511a35a933e51b62b",use:"icon-cat-pets_26c04e397312235511a35a933e51b62b-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-pets_26c04e397312235511a35a933e51b62b"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#FD7461" /><path fill="#FFFFFF" d="M13.2 16.65c.53-1 1.74-1.65 3.1-1.65 1.35 0 2.56.65 3.08 1.65a8.07 8.07 0 0 0 1.96 2.38 2.51 2.51 0 0 1 1.27 2.1c0 .94-.56 1.76-1.53 2.27a4.5 4.5 0 0 1-3.02.38 8.2 8.2 0 0 0-3.51 0 4.5 4.5 0 0 1-3.04-.4c-.96-.5-1.51-1.32-1.51-2.25 0-.76.4-1.49 1.11-2 .02 0 1.22-.86 2.1-2.48zm-.69-9.64c1.3-.15 2.46 1.23 2.65 2.88.1.85-.05 1.7-.43 2.35-1.23 2.12-3.79.87-4.11-1.82-.1-.85.05-1.7.43-2.35.36-.61.88-.99 1.46-1.06zM9.06 12.7c.63.3 1.18.86 1.54 1.55.37.68.5 1.44.4 2.12-.13.73-.51 1.3-1.09 1.59a2.2 2.2 0 0 1-1.94-.05 3.51 3.51 0 0 1-1.54-1.54 3.43 3.43 0 0 1-.4-2.13c.13-.73.51-1.3 1.1-1.58.57-.3 1.26-.28 1.93.04zm10.25-5.68c1.4 0 2.29 1.69 2.08 3.42-.2 1.62-1.28 2.89-2.46 2.89-1.4 0-2.3-1.7-2.08-3.42.2-1.62 1.27-2.9 2.46-2.9zm1.7 9.36a3.64 3.64 0 0 1 1.93-3.67c1.4-.68 2.78.03 3.02 1.53a3.64 3.64 0 0 1-1.93 3.67c-1.38.67-2.77-.02-3.02-1.53z" /></g></symbol>'});c.a.add(i);t.default=i},"4aFg":function(e,t){e.exports="/img/search-illu.4536cb0962f2010e397bb96aeed5b415.svg"},"4u3R":function(e,t,n){"use strict";var a;t.a=function(){return a||(a=window.cozyClient),a}},5:function(e,t){},"5a9I":function(e,t){e.exports="/img/icon-banks.9c3bc95f679ee29ae4b2b3f9fda17837.svg"},"5on0":function(e,t){},6:function(e,t){},"635Q":function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-snaksAndworkMeals_05182fe4581934e13b6e0831f6a495ea",use:"icon-cat-snaksAndworkMeals_05182fe4581934e13b6e0831f6a495ea-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-snaksAndworkMeals_05182fe4581934e13b6e0831f6a495ea"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#FD7461" /><path fill="#FFFFFF" d="M5 21c0 1.38 1.12 3 2.5 3h17c1.38 0 2.5-1.62 2.5-3H5zm6-10c.28 0 .5.23.5.5a.5.5 0 1 1-.5-.5zm2.5-1c.28 0 .5.23.5.5a.5.5 0 1 1-.5-.5zm2.5 1c.28 0 .5.23.5.5a.5.5 0 1 1-.5-.5zm2.5-1c.28 0 .5.23.5.5a.5.5 0 1 1-.5-.5zm2.5 1c.27 0 .5.23.5.5a.5.5 0 1 1-.5-.5zm6 4a7 7 0 0 0-7-7h-8a7 7 0 0 0-7 7h22zm-1 1H6c-.83 0-1.5.67-1.5 1.5v1c0 .83.67 1.5 1.5 1.5h20c.83 0 1.5-.67 1.5-1.5v-1c0-.83-.67-1.5-1.5-1.5" /></g></symbol>'});c.a.add(i);t.default=i},"68AE":function(e,t,n){e.exports={SettingCard:"SettingCard--eH5wq","SettingCard--clickable":"SettingCard--clickable--2udLm","SettingCard--disabled":"SettingCard--disabled--2MPjH"}},"6MOg":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n("Vggm"),r=n.n(a).a.namespace("recurrence")},"6MpJ":function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-check_16892e38b756155c9e5ffec908e12b17",use:"icon-cat-check_16892e38b756155c9e5ffec908e12b17-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-check_16892e38b756155c9e5ffec908e12b17"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#95999D" /><path fill="#FFFFFF" d="M25.27 13.27h-9.51a.55.55 0 0 1 0-1.09h9.51a.55.55 0 0 1 0 1.1m.14 5.98l-1.1.27a.54.54 0 0 1-.62-.3l-.65-1.47-.84 1.5a.55.55 0 0 1-.98-.08l-.62-1.69-.82 1.99a.55.55 0 0 1-.37.32l-1.1.27a.55.55 0 1 1-.26-1.05l.82-.2 1.26-3.03a.55.55 0 0 1 1.02.02l.68 1.88.78-1.4a.55.55 0 0 1 .98.03l.9 2.04.65-.16a.55.55 0 0 1 .27 1.06m-10.2-3.8c0-.3.25-.55.55-.55h2.12a.55.55 0 1 1 0 1.09h-2.12a.55.55 0 0 1-.55-.55m-2.55 3.34a3.2 3.2 0 0 1-2.4 1.01 3.32 3.32 0 0 1-3.31-2.49H6.3a.4.4 0 0 1-.4-.4c0-.28.23-.51.5-.51h.38l-.01-.4c0-.15 0-.32.02-.48h-.5a.39.39 0 0 1-.4-.39c0-.28.24-.5.52-.5h.56a3.34 3.34 0 0 1 3.24-2.44c.9-.04 1.77.3 2.4.92a.5.5 0 0 1-.08.78l-.22.15a.5.5 0 0 1-.65-.06 1.9 1.9 0 0 0-1.48-.64c-.81 0-1.45.5-1.76 1.28h2.07a.4.4 0 0 1 .38.4.5.5 0 0 1-.5.5H8.22c-.03.15-.03.3-.03.46l.01.43h2.29c.22 0 .4.17.4.4a.5.5 0 0 1-.51.5H8.4c.32.83.97 1.34 1.86 1.34.62 0 1.04-.25 1.47-.7a.5.5 0 0 1 .65-.06l.16.11c.28.2.32.56.1.79M27.46 10H4.55c-.3 0-.55.2-.55.46v11.08c0 .26.24.46.55.46h22.9c.3 0 .55-.2.55-.46V10.46c0-.26-.24-.46-.55-.46" /></g></symbol>'});c.a.add(i);t.default=i},"6TKq":function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-healthExpenses_9cac36807cb04aefbb0418088e03f195",use:"icon-cat-healthExpenses_9cac36807cb04aefbb0418088e03f195-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" id="icon-cat-healthExpenses_9cac36807cb04aefbb0418088e03f195"><g><circle cx="16" cy="16" r="16" style="fill:#F52D2D" /></g><path d="M29,17c0-2.2-1.8-4-4-4s-4,1.8-4,4c0,1.9,1.3,3.4,3,3.9V21c0,2.8-2.2,5-5,5c0,0,0,0,0,0c-2.8,0-5-2.2-5-5v-1\n\tc2.8-0.3,5-2.6,5-5.5v-2.7c1.2-0.4,2-1.5,2-2.8c0-1.7-1.3-3-3-3s-3,1.3-3,3c0,1.3,0.8,2.4,2,2.8v2.7c0,1.9-1.6,3.5-3.5,3.5h-1\n\tC10.6,18,9,16.4,9,14.5v-2.7c1.2-0.4,2-1.5,2-2.8c0-1.7-1.3-3-3-3S5,7.3,5,9c0,1.3,0.8,2.4,2,2.8v2.7c0,2.9,2.2,5.2,5,5.5v1\n\tc0,3.9,3.1,7,7,7c0,0,0,0,0,0c3.9,0,7-3.1,7-7v-0.1C27.7,20.4,29,18.9,29,17z M18,8c0.6,0,1,0.4,1,1s-0.4,1-1,1s-1-0.4-1-1\n\tS17.4,8,18,8z M8,8c0.6,0,1,0.4,1,1s-0.4,1-1,1S7,9.6,7,9S7.4,8,8,8z M25,19c-1.1,0-2-0.9-2-2c0-1.1,0.9-2,2-2s2,0.9,2,2\n\tC27,18.1,26.1,19,25,19z" style="fill:#FFFFFF" /></symbol>'});c.a.add(i);t.default=i},"6bKa":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o});var a="not-recurrent",r=864e5,o=.05},"6ly+":function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-homeCharges_0dae74c9a3ad6a37d42a3a20b7019d33",use:"icon-cat-homeCharges_0dae74c9a3ad6a37d42a3a20b7019d33-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-homeCharges_0dae74c9a3ad6a37d42a3a20b7019d33"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#FF962F" /><g transform="translate(8 3)"><path fill="#FFFFFF" d="M12.5 10a.5.5 0 0 1 0-1h1a.5.5 0 0 1 0 1h-1zm0 3a.5.5 0 0 1 0-1h1a.5.5 0 0 1 0 1h-1zm0 3a.5.5 0 0 1 0-1h1a.5.5 0 0 1 0 1h-1zm0 3a.5.5 0 0 1 0-1h1a.5.5 0 0 1 0 1h-1zm-4-3h-5a.5.5 0 0 1 0-1h5a.5.5 0 0 1 0 1m-2 3h-3a.5.5 0 0 1 0-1h3a.5.5 0 0 1 0 1m9.65-17.85L14.5 2.79l-1.65-1.64a.5.5 0 0 0-.7 0L10.5 2.79 8.85 1.15a.5.5 0 0 0-.7 0L6.5 2.79 4.85 1.15a.5.5 0 0 0-.7 0L2.5 2.79.85 1.15A.5.5 0 0 0 0 1.5v23a.5.5 0 0 0 .85.36L2.5 23.2l1.65 1.64c.2.2.5.2.7 0L6.5 23.2l1.65 1.64c.2.2.5.2.7 0l1.65-1.64 1.65 1.64c.2.2.5.2.7 0l1.65-1.64 1.65 1.64a.5.5 0 0 0 .85-.35v-23a.5.5 0 0 0-.85-.35z" /><polygon fill="#FF962F" points="1 10 6 5 11 10 10 10 10 12.999 7 12.999 7 10 5 10 5 13 2 12.999 2 10" /></g></g></symbol>'});c.a.add(i);t.default=i},"716p":function(e,t){e.exports="/img/ameli-side.7173251188c5fe0d8d54e265f8426a89.png"},"7IUd":function(e,t,n){e.exports={Padded:"Padded--2G0ky","Unpadded--vertical":"Unpadded--vertical--2Dfk0","Unpadded--horizontal":"Unpadded--horizontal--2y2qz"}},"7TMY":function(e,t,n){e.exports={HistoryChart:"HistoryChart--1XJ3I",HistoryChartTooltip:"HistoryChartTooltip--2gaGa",HistoryChart__tooltipBalance:"HistoryChart__tooltipBalance--1IblA"}},"7Zrf":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return s});n("J4zp"),n("o0o1"),n("yXPU");var a=n("lSNA"),r=n.n(a),o=n("MVZn"),c=n.n(o),i=(n("QVEU"),n("Puqe"),function(e,t,n,a){var o=a.map(function(e){return e.id});return e[t]={data:a,doctype:n,name:t,raw:o,target:c()({},e,r()({},t,o))},e}),l=function(e){return e.stackClient.oauthOptions.notification_device_token},s=function(e){return e?{_id:e._id,_type:e._type}:null}},"7dT6":function(e){e.exports=JSON.parse('{"General":{"apply":"Apply","delete":"Delete","deleting":"Deleting...","cancel":"Cancel","confirm":"Confirm","back":"Back","choose":"Choose","reload":"Reload","tag":"Tag","valid":"Confirm"},"Loading":{"loading":"Loading...","error":"An error occured while loading the data. Please try again later."},"Nav":{"analysis":"Analysis","categories":"Categories","settings":"Settings","savings":"Savings","projections":"Forecasts","my-accounts":"My accounts","recurrence":"Recurring"},"Error":{"more-information":"More information","less-information":"Less information","title":"We failed to display your bank data","retry":"You can try again by reloading the page. If the problem persists consult our FAQ.","reload-page":"Reload page","consult-faq":"Consult our FAQ","fetch-error":"Connection lost. Try again later or verify your connection and reload the page."},"AccountSwitch":{"title":"Choose account or group","account-counter":"%{smart_count} account |||| %{smart_count} accounts","all-accounts":"All accounts","some-accounts":"%{count}/%{smart_count} account |||| %{count}/%{smart_count} accounts","groups":"Groups","accounts":"Accounts"},"Search":{"title":"Search","title-results":"%{smart_count} result |||| %{smart_count} results","no-transactions-found":"No transaction could be found with this search.","input-placeholder":"Hairdresser, transfer...","type-a-search":"Type something to search a transaction","since":"Since %{date}","suggestions":"Salary, Bakery, Transfer...","search-older-transactions":"Search in older transactions"},"Balance":{"bank-name":"Bank","subtitle":{"all":"Total of all your accounts","group":"Total group %{label}","account":"Total account %{label}"},"nb-accounts":"%{nbCheckedAccounts}/%{smart_count} account |||| %{nbCheckedAccounts}/%{smart_count} accounts","title":"My accounts","solde":"Balance","account-number":"Account number","account-name":"Account name","manage-accounts":"Manage my accounts","updated-at":{"yesterday":"Yesterday","today":"Today","n-days-ago":"%{nbDays} days ago","unknown":"NC"},"delay":"This may take a few minutes…","import-accounts":"Import accounts","importing-accounts-error":"Failed to import","in-progress":"In progress","error":"Click to restart","trigger-problem":"Problem with the connection","no-accounts-in-group":{"description":"You don\'t have any accounts associated to this group.","button":"Edit the group"},"reimbursements-caption":"Last 6 months","import-in-progress":"Import in progress"},"SelectDates":{"all-year":"All year","year":"Year","month":"Month","previous-month":"Previous month","next-month":"Next month"},"Accounts":{"account":"Account","add-bank":"Add a bank","no-account":"No account","no-accounts":"You do not have any account yet.","shared-accounts":"Accounts shared to me","no-shared-accounts":"You do not have any shared account yet.","my-accounts":"My accounts","shared":"Shared","add-account":"Add an account","type":"Type","bank":"Bank","label":"Label","manage-accounts":"Manage my accounts","owner":"Owner"},"Groups":{"edit-group":"Edit Group","edit":"edit","manage-groups":"Manage my groups","create":"Create a group","new-group":"New Group","label":"Label","banks":"Banks","bank":"Bank","accounts":"Accounts","groups":"Groups","delete":"remove","no-groups":"Using groups, you can easily gather several accounts, feel free to create one.","back-to-groups":"Back to groups","rename":"Rename","save":"Save","included":"Included","account-number":"Account number","total-balance":"Total","toggle-account-error":"An error occured while adding/removing account from group, please try again later.","deletion-error":"An error occurred while group deletion.","no-account":"No account in this group","name-placeholder":"My group"},"Data":{"accountTypes":{"Business":"Business accounts","Checkings":"Checking accounts","CreditCard":"Credit card accounts","Joint":"Joint accounts","Loan":"Loan accounts","LongTermSavings":"Long term savings","Other":"Other accounts","Reimbursements":"Pending reimbursements","Savings":"Saving accounts"},"categories":{"uncategorized":"To be categorized","incomeCat":"Earnings","dailyLife":"Everyday life","transportation":"Transportation, vehicles","services":"Services","kids":"Children","tax":"Taxes","health":"Health","activities":"Leisure, sports","goingOutAndTravel":"Outings, trips","educationAndTraining":"Education, training","homeAndRealEstate":"Housing, real estate","excludeFromBudgetCat":"Out of budget"},"subcategories":{"potentialTransfer":"Potential transfers","check":"Checks","atm":"Cash withdrawal","activityIncome":"Activity income","replacementIncome":"Replacement income","interests":"Interests","dividends":"Dividends","donationsReceived":"Donations received","allocations":"Allocations","rentalIncome":"Rental income","additionalIncome":"Additional income","retirement":"Retirement","supermarket":"Supermarket","consumerLoan":"Consumer loan","dressing":"Dressing","pets":"Pets","telecom":"Telecom","snaksAndworkMeals":"Snacks and work meals","charity":"Charity","giftsOffered":"Gifts offered","personalCare":"Personal care","tobaccoPress":"Tobacco press","shoppingECommerce":"Shopping and E-commerce","vehiculePurchase":"Vehicule purchase","vehiculeLoan":"Vehicule loan","vehiculeRental":"Vehicule rental","vehiculeInsurance":"Vehicule insurance","vehiculeMaintenance":"Vehicule maintenance","vehiculeGas":"Vehicule gas","privateParking":"Private parking","parkingAndToll":"Parking and toll","publicTransportation":"Public transportation","taxi":"Taxi","post":"Post service","legalCounsel":"Legal counseling","homeAssistance":"Home assistance","bankFees":"Bank fees","financialAdvisor":"Financial advisor","kidsAllowance":"Kids allowance","schoolRestaurant":"School restaurant","childCare":"Child care","schoolInsurance":"School insurance","toysAndGifts":"Toys and gifts","pensionPaid":"Pension paid","kidsActivities":"Kids activities","incomeTax":"Income tax","socialTax":"Social tax","wealthTax":"Wealth tax","realEstateTax":"Real estate tax","healthExpenses":"Health expenses","healthInsurance":"Health insurance","activityFees":"Activity fees","activityEquipments":"Activity equipments","activityLessons":"Activity lessons","electronicsAndMultimedia":"Electronics and multimedia","booksMoviesMusic":"Books, movies, music","hobbyAndPassion":"Hobby and passion","restaurantsAndBars":"Restaurants and bars","goingOutEntertainment":"Going out entertainment","goingOutCulture":"Going out culture","travel":"Travel","journey":"Plane/train/boat...","tuition":"Tuition","eduBooksAndSupplies":"Edu books and supplies","studentLoan":"Student loan","eduLessons":"Edu lessons","realEstateLoan":"Real estate loan","rent":"Rent","homeCharges":"Home charges","homeInsurance":"Home insurance","homeImprovement":"Home improvement","homeHardware":"Home hardware","water":"Water","power":"Power","internalTransfer":"Internal transfer","creditCardPayment":"Credit card payment","loanCredit":"Loan credit","professionalExpenses":"Professional expenses","investmentBuySell":"Investment buy sell","friendBorrowing":"Friend borrowing","savings":"Savings","kids":"Others : Children","dailyLife":"Others : Everyday life","educationAndTraining":"Others : Education, training","health":"Others : Health","homeAndRealEstate":"Others : Housing, real estate","incomeCat":"Others : Earning","activities":"Others : Leisure, sports","excludeFromBudgetCat":"Others : Out of budget","services":"Others : Services","tax":"Others : Taxes","transportation":"Others : Transportation, vehicles","goingOutAndTravel":"Others : Outings, trips","uncategorized":"Others : To be categorized","awaiting":"Categorization in progress"},"virtualAccounts":{"healthReimbursements":"Health reimb","professionalReimbursements":"Professional expenses reimb","othersReimbursements":"Other reimbursements"}},"Categories":{"choice":{"title":"Update category","select-all":"Select all"},"filter":{"advancedFilters":{"hideIncomes":"Hide incomes","title":"Advanced filters"},"credit":"earnings","total":"Total","debit":"Total excl. earnings","includeIncome":"Include incomes"},"headers":{"transactions":{"single":"transaction","plural":"transactions"},"credit":"Credit","total":"Total","categories":"Category","subcategories":"Subcategory","debit":"Debit","movements":"Movements"},"board":{"debit-header":"Spent","credit-header":"Earnings","total-header":"Total"},"title":{"empty-text":"There is no transaction to analyze on this period","total":"On the period","general":"Categorization"},"noAccount":"No account","search":{"title":"Categories search","no-category":"No category found"}},"Transactions":{"title":"Movements","no-movements":"No movements to display","total":"Total","transactions":"Transactions","trigger-error":{"title":"Connection unavailable","description":"Your %{bankName} data is no longer updated.","cta":"Verify the connection"},"will-be-debited-on":"Will be debited on %{date}","debit":"Debit","credit":"Credit","header":{"date":"Date","description":"Description","amount":"Amount","action":"Action"},"actions":{"refund":"Check your refunds","comment":"Comment - available soon","app":"%{appName}","bill":"1 invoice","alert":"Create an alert","attach":"Attach a document","konnector":{"health":"My reimbursements","generic":"My invoices"},"attachedDocs":{"billWithVendor":"%{vendorName} invoice","billWithoutVendor":"Invoice"},"more":"More","healthExpenseProcessed":{"single":"1 reimbursement","plural":"%{nbReimbursements} reimbursements"},"healthExpensePending":"No reimbursement yet","healthExpenseBill":"%{vendor} Statement","vendorsGlue":"and","informativeModal":{"health":{"title":"Automatic tracking of your reimbursements","description":"Connect your %{brandName} account to your Cozy to automatically fetch your reimbursements."},"generic":{"title":"Automatic fetching of my bills","description":"Connect your %{brandName} account to your Cozy to automatically fetch your bills."},"caption":"Your Cozy is totally private: nobody but you can access its content.","cancel":"Cancel","confirm":"Connect"},"reimbursementStatus":{"pending":"No reimbursement yet","reimbursed":"Reimbursed","no-reimbursement":"No expected reimbursement","late":"Late reimbursement","modal":{"title":"Reimbursement"}}},"infos":{"modal-label":"Transaction infos","account":"Account","institution":"Bank","originalBankLabel":"Original label","date":"Date","assignedToPeriod":"Assigned to %{date}","chooseApplicationDate":"Assign to month","chooseRecurrence":"Recurrence","applicationDateChangedAlert":"Operation assigned to %{applicationDate} in the analysis tab","delete-transaction":{"row-label":"Delete transaction","confirm-modal":{"title":"Are you sure ?","content":"This removes the transaction from your history. This action cannot be undone.","confirm":"Delete the transaction","cancel":"Cancel"},"deleting-success":"Transaction deleted","deleting-error":"Cannot delete the transaction at the moment, try again later or contact the support."}},"see-more":"See more...","reimbursementStatus":{"pending":"I am waiting for a reimbursement","reimbursed":"I have already been reimbursed","no-reimbursement":"I am not waiting for a reimbursement"},"reimbursementStatusUpdateError":"An error occured while updating the reimbursement status"},"Notifications":{"title":"Notifications","description":"You will receive your notifications via email or mobile notification if you have the Cozy Banks mobile app on your device","editModal":{"title":"Configure notification"},"if-balance-lower":{"description":"You will receive a notification if your balance goes under *%{value}€* on any account","descriptionWithAccountGroup":"You will receive a notification if your balance goes under *%{value}€* on *%{accountOrGroupLabel}*","settingTitle":"Low balances","fieldLabels":{"value":"Warn me when my balance goes under","accountOrGroup":"On account/group"},"email":{"innerTitle":"Low balances notification","access-accounts":"Access my accounts"},"notification":{"one":{"title":"Balance alert: \'%{label}\' account is at %{balance}%{currency}"},"several":{"title":"%{accountsLength} accounts are below your threshold amount of %{lowerBalance}%{currency}"},"several-multi-rule":{"title":"%{accountsLength} accounts are below their threshold amount"}}},"if-balance-greater":{"description":"You will receive a notification if your balance goes above *%{value}€* on any account","descriptionWithAccountGroup":"You will receive a notification if your balance goes above *%{value}€* on *%{accountOrGroupLabel}*","settingTitle":"High balances","fieldLabels":{"value":"Warn me when my balance goes above","accountOrGroup":"On account/group"},"email":{"innerTitle":"High balances notification","access-accounts":"Access my accounts"},"notification":{"one":{"title":"Balance alert: \'%{label}\' account is at %{balance}%{currency}"},"several":{"title":"%{accountsLength} accounts are above your threshold amount of %{greaterBalance}%{currency}"},"several-multi-rule":{"title":"%{accountsLength} accounts are above their threshold amount"}}},"if-transaction-greater":{"description":"You will receive a notification if a movement is greater than *%{value}€*","descriptionWithAccountGroup":"You will receive a notification if a movement is greater than *%{value}€* on *%{accountOrGroupLabel}*","settingTitle":"Transactions","email":{"innerTitle":"Transaction notification"},"fieldLabels":{"value":"Warn me for expenses greater than","accountOrGroup":"On account/group"},"notification":{"debit":{"title":"Debit of %{amount}%{currency}"},"credit":{"title":"Credit of %{amount}%{currency}"},"others":{"title":"%{transactionsLength} transactions greater than %{maxAmount}€"},"others-multi":{"title":"%{transactionsLength} transactions greater than %{matchingRulesLength} thresholds"}}},"when-health-bill-linked":{"settingTitle":"Detected","email":{"innerTitle":"New medical expenses coverage"},"description":"You will be notified when a reimbursement is found for a medical expense.","notification":{"title":"New medical expenses coverage","content":{"title":"Health reimbursement notification","treated-by":"Treated by"}}},"when-late-health-reimbursement":{"settingTitle":"Late","description":"You will be notified when no reimbursement have been found for one of your health expenses since *%{value} days*.","unit":"days","email":{"innerTitle":"Late health reimbursement notification","accessReimbursements":"Access my reimbursements"},"fieldLabels":{"value":"Warn me when a health expense has not been reimbursed in"},"notification":{"title":"Late health reimbursements","content":{"title":"Late health reimbursements","message":"%{smart_count} late health reimbursement |||| %{smart_count} late health reimbursements"}}},"health-section":{"title":"Health reimbursement","description":"This requires to connect your Cozy to your medical insurance."},"delayed-debit":{"settingTitle":"Delayed debit alert","settingDescription":"You need a \\"credit card\\" account for this functionality","description":"You will receive a notification when the outstanding card account *%{creditCardLabel}* generates a negative balance on its associated current account *%{checkingsLabel}*, *%{value} days* before the end of the month.","fieldLabels":{"creditCardAccount":"Credit card","checkingsAccount":"Associated checking account","days":"Warn before the end of the month"},"unit":"days","email":{"innerTitle":"Delayed debit notification","accessAccounts":"Access my accounts"},"notification":{"title":"Account \'%{label}\' will be at %{balance}%{currency} after your credit card debit"}},"categoryBudgets":{"email":{"title-multi":"%{alertCount} budgets have exceeded their limit","title-single":"%{categoryLabel} budget has exceeded its limit","innerTitle":"Category budget notification","budgetOutOf":"out of"}},"konnectorAlerts":{"email":{"title-multi":"%{alertCount} connectors no longer sync your data","title-single":"%{konnectorName} no longer syncs your data","innerTitle":"Connector sync"},"push":{"content-single":"Please connect to your Cozy to fix the problem","content-multi":"%{konnectorNames}"}}},"Settings":{"title":"Settings","accounts":"Accounts","groups":"Groups","tags":"Tags","configuration":"Config.","debug":"Debug","personal-info":{"title":"Personal information","edit":"Edit personal info"},"security":{"title":"Privacy","amount-blur":{"description":"Hide amounts in the app"},"amount-in-notifications-blur":{"description":"Hide amounts in notifications"}},"rules":{"create":"Create alert","remove-modal":{"title":"Remove alert ?","desc":"Please confirm you want to remove the alert."},"saving-error":"Could not save alert, please try again later"},"budget-category-alerts":{"pane-title":"Category budget","pane-description":"Configure monthly budget notification per category","budget-inferior-to":"Monthly budget of *%{threshold}€*","for-category":"in *%{categoryName}*","for-account":"for account *%{accountOrGroupLabel}*","for-group":"for group *%{accountOrGroupLabel}*","for-all-accounts":"for all accounts","edit":{"modal-title":"Edit alert","category-label":"Category","threshold-label":"Monthly budget","account-group-label":"Account or group","create-ok":"Create alert","update-ok":"Update alert","all-category":"All « %{categoryName} »","cancel":"Cancel"}},"accounts-tab":{"import-in-progress":"Import in progress","in-maintenance":"In maintenance"}},"TOS":{"updated":{"title":"GDPR comes into reality !","detail":"In the context of the General Data Protection Regulation, [our Terms of Service have been updated](%{link}) and will apply to all our Cozy users on May 25, 2018.","cta":"Accept TOS and continue","disconnect":"Refuse and disconnect","error":"Something went wrong, please try again later"}},"BalanceHistory":{"all-accounts":"All accounts","checked-accounts":"%{nbCheckedAccounts}/%{nbAccounts} accounts"},"LogoutModal":{"message":"Logout in progress..."},"AdvancedFeaturesSettings":{"title":"Advanced features","automatic-categorization":{"title":"Automatic categorization","local-model-override":{"description":"Learn from my manual categorizations"}},"balance-history":{"title":"Balance history chart","show-chart":{"description":"Build my balance history chart"}}},"KonnectorUpdateInfo":{"title":"Update of your banking connections","content":"A latest version of our banking connection has been released. You need to sign the new terms of service. <a href=\'https://support.cozy.io/article/302-budget\' target=\'_blank\'>Learn more</a>.","cta":"Update my banks"},"Pin":{"enter-pin-restricted-area":"Please enter pin to enter restricted area","please-choose-pin":"Please choose a security code","please-enter-your-pin":"Please enter your security code","please-repeat-pin":"Please repeat the security code","errors":{"different-pins":"The two codes are different, please retry."},"logout":"Logout","successfully-changed":"Pin successfully changed","error-save":"Could not save pin, are you connected to internet ?","configure-button":"Configure PIN","attempt-count":"%{current}/%{max} attempts","settings":{"toggle-title":"Lock app","toggle-description":"Lock my app with a pin code or a fingerprint. Unlocking will be required after 1 minute of inactivity."},"fingerprint-text":"Or your fingerprint","use-fingerprint":{"yes":"Use my fingerprint","no":"No, thanks","title":"Activate fingerprint unlocking","description":"Do you want to use your smartphone\'s fingerprint security to unlock the app?"}},"Reimbursements":{"pending":"Pending reimbursements: ","alreadyReimbursed":"Already reimbursed","noPending":{"generic":"No awaiting reimbursement for expenses in %{period}","healthExpenses":"No awaiting reimbursement for health expenses in %{period}","professionalExpenses":"No awaiting reimbursement for professional expenses in %{period}"},"noReimbursed":{"generic":"Manually add some pending reimbursements on expenses to follow their reimbursements","healthExpenses":"Automatically detect your health reimbursements by connecting your health insurance to your Cozy.","professionalExpenses":"Categorize some expenses to « professional expense » to follow their reimbursements","group":"Manually add an awaiting reimbursement on expenses to follow their reimbursement, or categorize it with \\"out of budget / professional expenses\\" or \\"health expenses\\" to have an automatic tracking"}},"KonnectorChip":{"health":"My reimbursements","generic":"My invoices"},"PersonalInfo":{"birthcity":"Birth city","birthcity-placeholder":"City where you were born","birthcountry":"Birth country","birthcountry-placeholder":"Country where you were born","nationality":"Nationality","save-cta":"Save information","modal-title":"Edit personal information","info-saved-successfully":"Your personal info has been updated","info":{"title":"Why is this information necessary?","description":"To prevent money laundering and terrorism financing, Cozy has enforced strict rules on who is able to transfer money."},"validation-error":"All fields are mandatory"},"Transfer":{"nav":"Transfers","page-title":"Transfer","amount":{"page-title":"Amount","field-label":"Transfer amount","title":"How much do you want to send ?","confirm":"Confirm the amount","errors":{"too-high":"Choose an amount lower than %{maximum}€","too-low":"Choose an amount greater than %{minimum}€","incorrect-number":"%{value} is an incorrect amount."}},"category":{"page-title":"Beneficiary","title":"Where do you want to send this transfer ?","internal":"On one of your accounts","external":"On another account"},"beneficiary":{"page-title":"Beneficiary","add-beneficiary":"Add a recipient","help-add-beneficiary-title":"Adding recipients","help-add-beneficiary":"To add recipients, add them directly on the website of your bank.","help-add-beneficiary-action":"Understood !","title":"To which account do you want to send this transfer"},"sender":{"page-title":"Émetteur","title":"From which account do you want to transfer ?"},"summary":{"page-title":"Summary","send":"Send","from":"from","to":"to","for":"for","for-placeholder":"reason (optional)","confirm":"Confirm transfer","on":"on"},"password":{"page-title":"Password","title":"Enter your bank password to confirm the transfer","confirm":"Confirm the transfer","field-label":"Your bank password or pin code","field-placeholder":"******","date-placeholder":"Transfer date"},"success":{"title":"Your transfer request has been sent","description":"Your bank will execute the transfer within a business day, provided you have sufficient funds."},"error":{"title":"Your transfer request could not be sent","description":"You can retry later or contact our support.","description-login-failed":"Your password seems incorrect, please check and try again"},"no-bank":{"title":"Add a bank to be able to send money","add-bank":"Add your first bank"},"no-recipients":{"title":"No recipients found","description":"We could not find any recipients, your bank might be unsupported. See below the supported banks."},"exit":"Finish","retry":"Retry","user-blocked":{"title":"Transfers blocked","description":"Transfers are blocked on your Cozy. Please contact the support."}},"ReimbursementStatusModal":{"contact":{"actions":{"sendCareSheet":"Send my care sheet","contactComplementary":"Contact my complementary"},"phoneCallPrice":" + call price","phoneCallFree":"Not surcharged call","openApp":{"title":"Open the application","caption":"On my phone"}}},"LoanProgress":{"reimbursedAmount":"Reimbursed amount","borrowedAmount":"Borrowed amount"},"LoanDetails":{"dateGlue":"on","keyInfos":{"title":"Key information","borrowedAmount":"Borrowed amount:","remainingCapital":"Remaining capital:","interestRate":"Interest rate:"},"payments":{"title":"Payments","lastPayment":"Last payment made:","nextPayment":"Next scheduled payment:"},"characteristics":{"title":"Loan characteristics","subscriptionDate":"Subscription date:","maturityDate":"Repayment date:","nbPaymentsLeft":"No payments left:","nbPaymentsDone":"No payments done:"},"creditReserve":{"title":"Credit reserve","totalUsedAmount":"Total used amount:","availableAmount":"Available amount:"}},"AccountGroupChoice":{"nothing-selected":"Select an account","all-accounts":"All accounts"},"Confirmation":{"cancel":"Cancel","ok":"OK"},"EditionModal":{"ok":"OK","cancel":"Cancel","remove":"Remove"},"Recurrence":{"see-transaction-history":"Go to history","display-error":"We are sorry, an error happened during the display of this page. You can go to the debug page to reset the recurrences and reload the page to try to solve this problem.","go-to-debug-page":"Go to debug page","no-recurrences":{"title":"No recurring transactions","text":"No recurring transactions have been found yet. Set a transaction as recurrent to kickstart the detection algorithm."},"no-transactions":{"title":"No transactions","text":"This recurrence does not contain any transactions, you may want to delete it."},"table":{"frequency":"Frequency","label":"Label","amount":"Amount","last-occurence":"Last occurrence"},"status":{"ongoing":"Ongoing","finished":"Finished","save-success":"Status changed"},"description-amount":"%{amount}","description-amounts":"between %{minAmount} and %{maxAmount}","delete-success":"Recurrence has been deleted","delete-error":"Recurrence could not be deleted, please try again later","title":"Recurring payments","choice":{"not-recurrent":"Occasional transaction","recurrent":"Recurrent transaction","new-recurrence":"New recurrence"},"action-menu":{"open-button":"Act on recurrence","rename":"Rename","delete":"Delete","delete-caption":"Transactions will be redefined as occasional.","ongoing":"Ongoing","ongoing-caption":"A transaction will be expected in your previsional transactions.","finished":"Finished"},"rename":{"modal-title":"Rename recurrence","save":"Save","cancel":"Cancel","save-success":"Saved!","save-error":"Could not rename, try again later"},"freq-info-word":{"weekly":"every week","monthly":"every month","yearly":"every year"},"freq-info":"every %{frequency} days","show-deprecated-bundles":"Show inactive recurrences (%{number})","deprecated-bundles-help":"Recurrences below will not be considered for 30-day balance since their last occurence happened more than 4 months ago, or they have been finished manually."},"Harvest":{"modal-title":"Configure accounts","disconnected-account":"Disconnected account"},"EstimatedBudget":{"no-planned-transactions":{"title":"No planned transactions in the next 30 days","text":"You can set any operation as \\"recurrent\\" to help the prediction."},"30-day-balance":"30-day balance","page-title":"Planned transactions","numberEstimatedTransactions":"%{smart_count} planned transaction |||| %{smart_count} planned transactions"},"JobsContext":{"alerter-success":"Import of data from the bank completed.","alerter-errored":"An error occurred during the import"},"DeletingAccount":{"related-data":{"deleting":"Deleting associated data, do not close the window...","successfully-deleted":"All associated data has been deleted"}},"Categorization":{"error":"Could not categorize some operations, please try again.","success":"%{smart_count} operation has been recategorized |||| %{smart_count} operations have been recategorized"},"SelectionBar":{"selected_count":"item selected |||| items selected","close":"Close","categorize":"Categorize","selectAll":"Select all","unselectAll":"Unselect all"},"Migration":{"title":"Fresh download of your data is required","content":"Cozy Banks needs to refresh its data in order to improve its navigation performances. You only need a steady network and be patient for 1 minute (and up to several minutes in case of high volume of data) during which you cannot use your app. No data will be lost.","confirm":"Ok, let\'s do it!","cancel":"No, not now"},"Tag":{"add-tag":"Add a tag","add-new-tag":"Add a new tag","filter-tag":"Filter by tags","tag-name":"Name of the tag","transactions":"%{smart_count} tagged transaction |||| %{smart_count} tagged transactions","search-tag":"Search for a tag","sortLabelAsc":"A-Z","sortLabelDesc":"Z-A","sortCountAsc":"Least used first","sortCountDesc":"Most used first","sortDateAsc":"Least common first","sortDateDesc":"Most common first","addingTagToTransaction":"Adding the tag |||| Adding tags","addModal":{"actions":{"cancel":"Cancel","submit":"Add"}},"renameModal":{"title":"Rename","label":"Name of the tag","actions":{"cancel":"Cancel","submit":"Rename"}},"deleteModal":{"title":"Delete","content":"Deleting this tag will prevent it to be applied on your transactions and it will be removed from %{smart_count} transaction that has it. |||| Deleting this tag will prevent it to be applied on your transactions and it will be removed from %{smart_count} transactions that have it","actions":{"cancel":"Cancel","submit":"Delete"}}}}')},"7pVq":function(e,t,n){"use strict";n.r(t);var a=n("o0o1"),r=n.n(a),o=n("yXPU"),c=n.n(o),i=(n("kFXk"),n("bZMm"),n("JYM9"),n("/8/d"),n("llna"),n("q1tI")),l=n.n(i),s=n("i8i4"),u=n("oAJy"),d=n.n(u),m=function(){var e=c()(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.getItem("state");case 3:if(null!==(t=e.sent)){e.next=6;break}return e.abrupt("return",void 0);case 6:return e.abrupt("return",t);case 9:return e.prev=9,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return",void 0);case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}}(),f=function(){var e=c()(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{d.a.setItem("state",t)}catch(n){console.warn(n)}case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),p=function(e){e.subscribe(function(){return f({filters:{filteringDoc:e.getState().filters.filteringDoc}})})},h=n("ANjH"),b=n("sINF"),g=(n("1mXj"),n("mgfL")),v=n.n(g),y=n("4kcP"),E=n("eF/w"),C=n("nDne"),k=function(e,t){var n=h.compose,a=[b.default];return Object(y.c)()&&Object(y.b)()&&a.push(Object(y.a)()),v()("logs"),Object(E.b)()&&a.push(Object(E.a)(e)),Object(h.createStore)(Object(h.combineReducers)({filters:C.b,cozy:e.reducer()}),t,n(h.applyMiddleware.apply(null,a)))},_=(n("ztWL"),n("/jzl")),w=n.n(_),O=n("OJmh"),x=n("snfs"),S=n("V2U0"),j=n("sDS3"),T=n("P422"),A=n("oJ5p"),N=n("lwsE"),M=n.n(N),I=n("W8MJ"),B=n.n(I),F=function(){function e(t,n){var a=n.store;M()(this,e),this.client=t,this.store=a,t.on("logout",this.handleLogout.bind(this))}return B()(e,[{key:"handleLogout",value:function(){this.store.dispatch(Object(C.p)())}}]),e}();F.pluginName="store";var L=F,R=n("AG+T"),D=n.n(R),P=n("EKl+"),z=n("T1IG"),q=n("qXZZ"),G={"never-executed":function(e){return!P.triggerStates.getLastExecution(e)}},H=function(){function e(t,n){var a=this;M()(this,e),this.client=t,this.options=n,this.doChecks=this.doChecks.bind(this),t.isLogged&&this.doChecks(),t.on("login",function(){return a.doChecks()})}var t,n,a;return B()(e,[{key:"checkToLaunchJob",value:(a=c()(r.a.mark(function e(t,n){var a,o,c,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=G[n.policy]){e.next=3;break}throw new Error("".concat(n.policy," is not a valid policy"));case 3:if(o={type:n.type,message:{slug:n.slug,name:n.name}},c=t&&t.find(D()({attributes:o}))){e.next=8;break}return console.warn("Trigger with attributes ".concat(JSON.stringify(o)," has not been found")),e.abrupt("return");case 8:i=c.attributes,a(i)&&this.client.collection("io.cozy.triggers").launch(i);case 10:case"end":return e.stop()}},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"checkToLaunchJobs",value:(n=c()(r.a.mark(function e(){var t,n,a,o,c,i,l,s,u;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.client,!(a=t.getQueryFromState(z.r.as))){e.next=6;break}n=a.data,e.next=9;break;case 6:return e.next=8,t.query(z.r.query(t));case 8:n=e.sent.data;case 9:o=!0,c=!1,i=void 0,e.prev=12,l=(this.options.launchTriggers||[])[Symbol.iterator]();case 14:if(o=(s=l.next()).done){e.next=21;break}return u=s.value,e.next=18,this.checkToLaunchJob(n,u);case 18:o=!0,e.next=14;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(12),c=!0,i=e.t0;case 27:e.prev=27,e.prev=28,o||null==l.return||l.return();case 30:if(e.prev=30,!c){e.next=33;break}throw i;case 33:return e.finish(30);case 34:return e.finish(27);case 35:case"end":return e.stop()}},e,this,[[12,23,27,35],[28,,30,34]])})),function(){return n.apply(this,arguments)})},{key:"doChecks",value:(t=c()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.options.delay){e.next=3;break}return e.next=3,Object(q.a)(this.options.delay);case 3:return e.next=5,this.checkToLaunchJobs();case 5:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})}]),e}();H.pluginName="startupChecks";var V,U=H,Y=(n("7Zrf"),n("ZlFf")),Q=function(){var e=c()(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!V){e.next=2;break}return e.abrupt("return",V);case 2:return e.next=4,Y.getClient();case 4:return V=e.sent,t=new T.Intents({client:V}),V.intents=t,V.registerPlugin(A.RealtimePlugin),window.cozyClient=V,e.abrupt("return",V);case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),W=n("J4zp"),K=n.n(W),J=n("MJIl"),Z=n.n(J),X=n("5aXk");!function(){var e=v.a.list().map(function(e){return[e,v()(e)]}).filter(function(e){return e[1]});v.a.reset();var t=!0,n=!1,a=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var c=K()(r.value,2),i=c[0],l=c[1];v()(i,l)}}catch(s){n=!0,a=s}finally{try{t||null==o.return||o.return()}finally{if(n)throw a}}}();var $,ee=["stephaniedurand.cozy.rocks","isabelledurand.cozy.rocks","genevievedurand.cozy.rocks","isabelledurand.mycozy.cloud"];$=window.location.href,Z()(ee.map(function(e){return function(e,t){var n=t.split("."),a=n[0],r=n.slice(1).join(".");return new RegExp(a+".*"+r.replace(".","\\.")).exec(e)}($,e)}))&&v()("demo",!0),X.a.defaultProps=Object.assign({},X.a.defaultProps,{blurred:!!v()("amount-blur")}),v.a.store.on("change",function(e){"amount-blur"===e&&(X.a.defaultProps.blurred=v()("amount-blur"))}),window.flag=v.a;n("fupu"),n("4v8u"),n("a4+5");var te=n("9qU6"),ne=function e(t){M()(this,e),this.client=t,t.on("beforeLogout",function(){Object(te.a)()})};ne.pluginName="pin";var ae=ne,re=n("0mAb"),oe=n("YcbG"),ce=n("btPC"),ie=n.n(ce);window.minilog=ie.a;ie()("banks");var le,se,ue,de,me=n("dukY");var fe=function(){if(Object(j.c)())Object(s.render)(l.a.createElement(S.a,{size:"xxlarge",middle:!0}),document.querySelector("[role=application]"));else{var e=n("I00Q").default;de=Object(s.render)(l.a.createElement(e,{store:le,client:se,lang:ue}),document.querySelector("[role=application]",de))}},pe=function(){var e=c()(r.a.mark(function e(t){var n,a,o,i,l,s,u;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.querySelector("[role=application]"),ue=Object(oe.a)(n),Object(O.n)(ue),e.next=5,Q(t);case 5:se=e.sent,le=k(se,t),se.registerPlugin(L,{store:le}),se.registerPlugin(ae),se.registerPlugin(v.a.plugin),se.registerPlugin(U,{launchTriggers:[{slug:"banks",name:"autogroups",type:"@event",policy:"never-executed"}],delay:5e3}),a=function(){var e=c()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!se.plugins.flags.refresh){e.next=5;break}return e.next=3,se.plugins.flags.refresh();case 3:e.next=7;break;case 5:return e.next=7,v.a.initializeFromRemote(se);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),document.addEventListener("resume",function(){a()}),document.addEventListener("visibilitychange",function(){"visible"===document.visibilityState&&a()}),se.setStore(le),p(le),o=Object(me.a)(n),i=o.app,l=i.icon,s=i.name,u=o.locale,!v()("authentication")&&re.a.init({appName:s,cozyClient:se,iconPath:l,lang:u,replaceTitleOnMobile:!0}),fe();case 18:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();document.addEventListener("DOMContentLoaded",function(){m().then(pe),Object(x.isIOSApp)()&&w.a.attach(document.body)})},"86fo":function(e,t,n){e.exports={SelectDates:"SelectDates--1JS-v","prev-button":"prev-button--OOpIR","next-button":"next-button--3dY2f",SelectDatesColor_default:"SelectDatesColor_default--1TyJC",SelectDates__separator:"SelectDates__separator--2eEMc",SelectDates__chip:"SelectDates__chip--1QEMF",SelectDatesColor_inverted:"SelectDatesColor_inverted--DOW8w",SelectDatesButtonDisabled:"SelectDatesButtonDisabled--1k5zs",SelectDates__Button:"SelectDates__Button--1um7t",SelectDatesButtonColor:"SelectDatesButtonColor--ZulzM",SelectDates__Select:"SelectDates__Select--2aVLs",SelectDates__month:"SelectDates__month--13175",SelectDates__DateYearSelector:"SelectDates__DateYearSelector--3XBO-",SelectDates__SelectYearContainer:"SelectDates__SelectYearContainer--zhofq",SelectDates__SelectMonthContainer:"SelectDates__SelectMonthContainer--3Fj0-",SelectDates__buttons:"SelectDates__buttons--1DCj5","SelectDates__Button--disabled":"SelectDates__Button--disabled--2ajcE"}},"8VJ5":function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-charity_a31c2d640ac4dadcf014df8195191fd2",use:"icon-cat-charity_a31c2d640ac4dadcf014df8195191fd2-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-charity_a31c2d640ac4dadcf014df8195191fd2"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#FD7461" /><g fill="#FFFFFF" transform="translate(4.5 7.5)"><path d="M10.55 13.31l-1.3 1.08a.74.74 0 0 1-.51.18h-.02a.77.77 0 0 1-.48-.18c-.21-.17-5.18-4.22-6.86-6.09a4.94 4.94 0 0 1 .02-6.87c1.9-1.9 5-1.9 6.9 0l.44.44.44-.44c1.9-1.9 5-1.9 6.9 0a4.77 4.77 0 0 1 1.35 4.07 6.94 6.94 0 0 0-6.88 7.81z" /><path d="M17.52 18.54a5.52 5.52 0 1 1 0-11.04 5.52 5.52 0 0 1 0 11.04zm2.53-3.12a.47.47 0 0 0-.1-.72l-.15-.1a.46.46 0 0 0-.6.05 1.78 1.78 0 0 1-3.06-.59h1.8c.27 0 .48-.2.48-.47 0-.2-.17-.36-.37-.36h-2.1l-.01-.4c0-.14 0-.28.02-.42h1.99c.26 0 .47-.2.47-.46 0-.2-.16-.36-.36-.36h-1.9c.29-.73.87-1.18 1.62-1.18.6 0 .99.2 1.36.59.16.16.41.18.6.05l.2-.14a.47.47 0 0 0 .07-.72 2.94 2.94 0 0 0-2.2-.85 3.07 3.07 0 0 0-2.99 2.25h-.51a.47.47 0 0 0-.47.46c0 .2.16.36.36.36h.46c-.02.15-.02.3-.02.44v.37h-.33a.47.47 0 0 0-.47.47c0 .2.17.37.37.37h.58a3.06 3.06 0 0 0 3.06 2.3 3 3 0 0 0 2.2-.94z" /></g></g></symbol>'});c.a.add(i);t.default=i},"90fL":function(e,t,n){"use strict";n.d(t,"e",function(){return x}),n.d(t,"g",function(){return S}),n.d(t,"d",function(){return j}),n.d(t,"c",function(){return T}),n.d(t,"a",function(){return A}),n.d(t,"i",function(){return B}),n.d(t,"h",function(){return F}),n.d(t,"f",function(){return R}),n.d(t,"b",function(){return D});var a=n("MVZn"),r=n.n(a),o=n("J4zp"),c=n.n(o),i=n("Jlc5"),l=n.n(i),s=n("mwIZ"),u=n.n(s),d=n("a9jo"),m=n.n(d),f=n("TKrE"),p=n.n(f),h=n("xweI"),b=n.n(h),g=n("bt/X"),v=n.n(g),y=n("mgfL"),E=n.n(y),C=n("SH7X"),k=n("T1IG"),_=n("7Zrf"),w=n("0hMs"),O=n("CnsS"),x=function(e){return void 0!==e.accountType},S=function(e){return Boolean(e.virtual&&"Reimbursements"===e._id)},j=function(e,t){return null==e?"":S(e)?t("Data.accountTypes.Reimbursements",{_:"other"}):e.virtual?t("Data.accountTypes.".concat(e.accountType),{_:"other"})+(E()("debug-groups")?" (virtual)":""):x(e)&&!function(e){return null===e.accountType}(e)?t("Data.accountTypes.".concat(e.accountType))+(E()("debug-groups")?" (auto)":""):e.label},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=u()(e,"accounts.data");if(!n)return 0;var a=n.filter(Boolean).filter(function(e){return!t.includes(e._id)});return m()(a,w.b)},A=function(e,t){var n=v()(e,w.f);return Object.entries(n).map(function(e){var n=c()(e,2);return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.virtual,r=void 0===a||a,o=n.client,c=void 0===o?null:o,i={_type:k.d,label:e,accountType:e};return r&&(i.virtual=!0,i._id=e),Object(_.a)(i,"accounts",k.a,t),c?(i.accounts=t.map(function(e){return e._id}),c.hydrateDocument(i)):(Object(_.a)(i,"accounts",k.a,t),i)}(n[0],n[1],t)})},N=function(e){return S(e)?"virtualReimbursements":function(e){return e.virtual&&"Other"===e.label}(e)?"virtualOther":"normal"},M={normal:0,virtualOther:1,virtualReimbursements:function(e){var t=T(e);return(E()("demo")||E()("balance.reimbursements-top-position"))&&t>0?-1:2}},I=function(e){return Object(O.a)(M,e.category,[e.group])},B=function(e,t){var n=e.map(function(e){return{group:e,category:N(e),label:j(e,t)}});return b()(n,function(e){return[I(e),p()(e.label).toLowerCase()]})},F=function(e,t){var n=r()({},e,{label:t});return e.accountType&&(n.accountType=null),n},L=function(e){return!!e&&"Loan"==Object(w.f)(e)},R=function(e){return!(!e.accounts||!e.accounts.data)&&l()(e.accounts.data,L)},D=function(e){return e.accounts?e.accounts instanceof C.HasManyInPlace?e.accounts.raw:e.accounts:[]}},"9pOX":function(e){e.exports=JSON.parse('{"General":{"apply":"Appliquer","delete":"Supprimer","deleting":"Suppression...","cancel":"Annuler","confirm":"Confirmer","back":"Revenir","choose":"Choisir","reload":"Recharger","tag":"Tag","valid":"Valider"},"Loading":{"loading":"Chargement...","error":"Il y a eu une erreur pendant le chargement des données. Merci de réessayer plus tard."},"Error":{"more-information":"More information","less-information":"Less information","title":"L\'affichage de vos données bancaires a échoué","retry":"Vous pouvez essayer de nouveau en rechargeant la page. Si le problème persiste consultez notre FAQ.","reload-page":"Recharger la page","consult-faq":"Consulter notre FAQ","fetch-error":"Connexion perdue. Réessayez plus tard ou vérifiez votre connexion et rechargez la page."},"AccountSwitch":{"title":"Choisir un compte / groupe","some-accounts":"%{count}/%{smart_count} compte |||| %{count}/%{smart_count} comptes","all-accounts":"Tous les comptes","accounts":"Comptes","groups":"Groupes","account-counter":"%{smart_count} compte |||| %{smart_count} comptes"},"Search":{"title":"Recherche","title-results":"%{smart_count} résultat |||| %{smart_count} résultats","no-transactions-found":"Aucune opération n\'a pu être trouvée avec cette recherche.","input-placeholder":"Rechercher...","type-a-search":"Saisir du texte pour lancer une recherche","since":"Depuis le %{date}","suggestions":"Salaire, EDF, Virement...","search-older-transactions":"Chercher dans les transactions plus anciennes"},"Nav":{"my-accounts":"Mes comptes","analysis":"Analyse","categories":"Catégorisation","projections":"Prévisions","savings":"Economiser","settings":"Paramètres","recurrence":"Récurrences"},"Accounts":{"account":"Compte ","add-account":"Ajouter un compte","add-bank":"Ajouter une banque","no-account":"Aucun compte","bank":"Banque","label":"Libellé","my-accounts":"Mes comptes","no-accounts":"Vous n\'avez pas encore de compte.","no-shared-accounts":"Vous n\'avez pas encore de compte partagé.","shared":"Partagé","shared-accounts":"Comptes que l\'on m\'a partagé","type":"Type","manage-accounts":"Gérer mes comptes","owner":"Titulaire"},"Balance":{"title":"Mes comptes","nb-accounts":"%{nbCheckedAccounts}/%{smart_count} compte |||| %{nbCheckedAccounts}/%{smart_count} comptes","subtitle":{"all":"Total de tous vos comptes","group":"Total du groupe %{label}","account":"Total du compte %{label}"},"account-name":"Nom du compte","solde":"Solde","bank-name":"Nom de la banque","account-number":"Numéro du compte","manage-accounts":"Organiser mes comptes","updated-at":{"yesterday":"Hier","today":"Aujourd\'hui","n-days-ago":"Il y a %{nbDays} jours","unknown":"NC"},"delay":"Cela peut prendre quelques minutes…","import-accounts":"Import des comptes","importing-accounts-error":"Échec de l\'import","in-progress":"En cours","error":"Cliquez pour relancer","trigger-problem":"Problème avec la connexion","no-accounts-in-group":{"description":"Vous n\'avez pas de compte associé à ce groupe.","button":"Éditer le groupe"},"reimbursements-caption":"6 derniers mois","import-in-progress":"Import en cours"},"Transactions":{"title":"Mouvements","no-movements":"Pas de mouvements à afficher","total":"Total","trigger-error":{"title":"Connexion impossible","description":"Vos données %{bankName} ne sont plus mises à jour.","cta":"Régler la connexion"},"transactions":"Opérations","will-be-debited-on":"Sera débitée le %{date}","debit":"Débit","credit":"Crédit","header":{"date":"Date","description":"Libellé","amount":"Montant","action":"Action"},"actions":{"more":"Plus","bill":"1 facture","app":"Application %{appName}","refund":"Vérifier vos remboursements","attach":"Attacher un document","konnector":{"health":"Mes remboursements","generic":"Mes factures"},"alert":"Ajouter une alerte","comment":"Commentaire - Bientôt disponible","attachedDocs":{"billWithVendor":"Facture %{vendorName}","billWithoutVendor":"Facture"},"healthExpenseProcessed":{"single":"1 remboursement","plural":"%{nbReimbursements} remboursements"},"healthExpensePending":"Remboursements en attente","healthExpenseBill":"Relevé %{vendor}","vendorsGlue":"et","informativeModal":{"health":{"title":"Suivi automatique de mes remboursements","description":"Connectez votre compte %{brandName} à votre Cozy pour récupérer vos remboursements automatiquement."},"generic":{"title":"Récupération automatique de mes factures","description":"Connectez votre compte %{brandName} à votre Cozy pour récupérer vos factures automatiquement."},"caption":"Votre Cozy est totalement privé : personne d\'autre que vous ne peut accéder à son contenu.","cancel":"Annuler","confirm":"Connecter"},"reimbursementStatus":{"pending":"Remboursement en attente","reimbursed":"Remboursé","no-reimbursement":"Aucun remboursement attendu","late":"Rembours. en retard","modal":{"title":"Remboursement"}}},"infos":{"modal-label":"Détails de la transaction","account":"Compte","institution":"Banque","originalBankLabel":"Libellé original","date":"Date","assignedToPeriod":"Affectée à %{date}","chooseApplicationDate":"Affecter au mois","applicationDateChangedAlert":"Operation affectée à %{applicationDate} dans l\'onglet Analyse","chooseRecurrence":"Récurrence","delete-transaction":{"row-label":"Supprimer l\'opération","confirm-modal":{"title":"Êtes-vous sûr(e) ?","content":"La transaction va être supprimée de votre historique. Cette opération ne peut pas être annulée.","confirm":"Supprimer l\'opération","cancel":"Annuler"},"deleting-success":"Opération supprimée","deleting-error":"Impossible de supprimer l\'opération pour le moment, réessayez plus tard ou contactez le support."}},"see-more":"Voir plus...","reimbursementStatus":{"pending":"J\'attends un remboursement","reimbursed":"J\'ai déjà été remboursé","no-reimbursement":"Je n\'attends pas de remboursement"},"reimbursementStatusUpdateError":"Une erreur est survenue lors de la mise à jour du statut de remboursement"},"Categories":{"choice":{"title":"Modifier la catégorie","select-all":"Sélectionner tout"},"board":{"debit-header":"Dépense","credit-header":"Revenu","total-header":"Total"},"filter":{"advancedFilters":{"hideIncomes":"Masquer les revenus","title":"Filtres avancés"},"debit":"Total hors categ. revenus","credit":"Revenus","total":"Total","includeIncome":"Inclure les revenus"},"title":{"general":"Catégorisation","total":"Sur la période","empty-text":"Aucun mouvement à analyser sur cette période"},"headers":{"categories":"Catégorie","subcategories":"Sous-catégorie","transactions":{"single":"opération","plural":"opérations"},"debit":"Débit","credit":"Crédit","total":"Total","movements":"Mouvements"},"noAccount":"Aucun compte","search":{"title":"Recherche de catégories","no-category":"Aucune catégorie trouvée"}},"Data":{"accountTypes":{"Business":"Comptes professionnels","Checkings":"Comptes courants","CreditCard":"Cartes de crédit","Joint":"Comptes joints","Loan":"Emprunts","LongTermSavings":"Épargne long terme","Other":"Autres comptes","Reimbursements":"Remboursements en attente","Savings":"Épargne"},"categories":{"uncategorized":"A catégoriser","incomeCat":"Revenus","dailyLife":"Dépenses vie courante","transportation":"Transports, véhicules","services":"Services","kids":"Enfants","tax":"Impôts","health":"Santé, prévoyance","activities":"Sports, loisirs","goingOutAndTravel":"Sorties, voyages","educationAndTraining":"Education, formation","homeAndRealEstate":"Logement, immobilier","excludeFromBudgetCat":"Hors budget"},"subcategories":{"potentialTransfer":"Virements à catégoriser","check":"Chèques","atm":"Retraits d\'espèces","activityIncome":"Salaire/Revenus d\'activité","replacementIncome":"Revenus de remplacement","interests":"Intérêts","dividends":"Dividendes","donationsReceived":"Cadeaux, dons reçus","allocations":"Aides et allocations","rentalIncome":"Revenus locatifs","additionalIncome":"Revenus complémentaires","retirement":"Retraite","supermarket":"Alimentation, supermarché","consumerLoan":"Remb. prêt conso","dressing":"Habillement","pets":"Animaux","telecom":"Internet, TV, télécom","snaksAndworkMeals":"Snacks, repas au travail","charity":"Dons caritatifs","giftsOffered":"Cadeaux offerts","personalCare":"Coiffeur, esthétique, cosmétique, soins","tobaccoPress":"Tabac/Presse","shoppingECommerce":"Shopping/e-Commerce","vehiculePurchase":"Achat véhicule","vehiculeLoan":"Remb. prêt véhicule","vehiculeRental":"Location véhicule","vehiculeInsurance":"Assurance véhicule","vehiculeMaintenance":"Entretien, équipements véhicules","vehiculeGas":"Carburant","privateParking":"Garage, parking privé","parkingAndToll":"Parking, péages, PV","publicTransportation":"Transports en commun","taxi":"Taxi et VTC","post":"Poste, courrier","legalCounsel":"Conseil juridique","homeAssistance":"Aide-à-domicile","bankFees":"Frais bancaires","financialAdvisor":"Conseil financier","kidsAllowance":"Argent de poche","schoolRestaurant":"Restauration scolaire","childCare":"Garde d\'enfants","schoolInsurance":"Assurance scolaire","toysAndGifts":"Jouets, cadeaux","pensionPaid":"Pension versée","kidsActivities":"Activités enfants","incomeTax":"Impôts sur le revenu","socialTax":"Contributions sociales","wealthTax":"ISF","realEstateTax":"Taxes foncières, d\'habitation","healthExpenses":"Frais, remb santé","healthInsurance":"Cotis mutuelle, prévoyance","activityFees":"Cotis. sports, loisirs","activityEquipments":"Equipement sports, loisirs","activityLessons":"Cours sports, loisirs","electronicsAndMultimedia":"Electronique, multimédia","booksMoviesMusic":"Musique, livres, films","hobbyAndPassion":"Passion, hobby","restaurantsAndBars":"Restaurants, soirées","goingOutEntertainment":"Sorties détente","goingOutCulture":"Sorties culturelles","travel":"Voyages","journey":"Avion/train/bateau...","tuition":"Inscription, scolarité","eduBooksAndSupplies":"Livres, fournitures (éducation)","studentLoan":"Remb. prêt étudiant","eduLessons":"Cours, soutien scolaire","realEstateLoan":"Remb. prêt immobilier","rent":"Loyer","homeCharges":"Charges logement","homeInsurance":"Assurance logement","homeImprovement":"Travaux, déco, jardin","homeHardware":"Meubles, équipement","water":"Eau","power":"Electricité, gaz, chauffage","internalTransfer":"Virements internes","creditCardPayment":"Prél. carte débit différé","loanCredit":"Déblocage prêt, crédits, réserves","professionalExpenses":"Notes de frais (+/-)","investmentBuySell":"Achats, ventes de titres","friendBorrowing":"Avances, remboursements","savings":"Virements d\'épargne","kids":"Autres : Enfants","dailyLife":"Autres : Dépenses vie courante","educationAndTraining":"Autres : Education, formation","health":"Autres : Santé, prévoyance","homeAndRealEstate":"Autres : Logement, immobilier","incomeCat":"Autres : Revenus","activities":"Autres : Sports, loisirs","excludeFromBudgetCat":"Autres : Hors budget","services":"Autres : Services","tax":"Autres : Impôts","transportation":"Autres : Transports, véhicules","goingOutAndTravel":"Autres : Sorties, voyages","uncategorized":"Autres : A catégoriser","awaiting":"Catégorisation en cours"},"virtualAccounts":{"healthReimbursements":"Remb santé","professionalReimbursements":"Remb notes de frais","othersReimbursements":"Autres remboursements"}},"Groups":{"groups":"Groupes","label":"Libellé","banks":"Banques","bank":"Banque","accounts":"Comptes","new-group":"Nouveau groupe","create":"Créer un groupe","edit":"éditer","manage-groups":"Gérer mes groupes","delete":"supprimer","edit-group":"Editer le groupe","no-groups":"Avec les groupes, vous pouvez facilement rassembler plusieurs comptes, n\'hésitez pas à en créer un !","back-to-groups":"Revenir aux groupes","rename":"Renommer","save":"Sauvegarder","included":"Inclus","account-number":"Numéro du compte","total-balance":"Total","toggle-account-error":"Impossible d\'ajouter/supprimer le compte au groupe, merci de réessayer plus tard","deletion-error":"Une erreur est survenue lors de la suppression du groupe.","no-account":"Aucun compte n\'est présent dans ce groupe","name-placeholder":"Mon groupe"},"SelectDates":{"all-year":"Toute l\'année","year":"Année","month":"Mois","previous-month":"Mois précédent","next-month":"Mois suivant"},"Notifications":{"title":"Notifications","description":"Vous recevrez les notifications par email ou par notification mobile si vous installez l\'app Cozy Banks sur votre mobile","editModal":{"title":"Configurer la notification"},"if-balance-lower":{"settingTitle":"Solde bas","fieldLabels":{"value":"Me prévenir quand mon solde passe sous","accountOrGroup":"sur"},"email":{"innerTitle":"Notification de solde bas","access-accounts":"Accéder à mes comptes"},"description":"Vous recevrez une notification si votre solde est inférieur à *%{value}*€ sur l\'un de vos comptes","descriptionWithAccountGroup":"Vous recevrez une notification si votre solde est inférieur à *%{value}*€ sur *%{accountOrGroupLabel}*","notification":{"one":{"title":"Solde bas : le compte \'%{label}\' est à %{balance}%{currency}"},"several":{"title":"%{accountsLength} comptes sont en dessous de votre seuil de %{lowerBalance}%{currency}"},"several-multi-rule":{"title":"%{accountsLength} comptes sont en dessous de leur seuil limite"}}},"if-balance-greater":{"description":"Vous recevrez une notification si votre solde est supérieur à *%{value}*€ sur l\'un de vos comptes","descriptionWithAccountGroup":"Vous recevrez une notification si votre solde est supérieur à *%{value}*€ sur *%{accountOrGroupLabel}*","settingTitle":"Solde haut","fieldLabels":{"value":"Me prévenir quand mon solde passe au-dessus","accountOrGroup":"sur"},"email":{"innerTitle":"Notification de solde haut","access-accounts":"Accéder à mes comptes"},"notification":{"one":{"title":"Solde haut : le compte \'%{label}\' est à %{balance}%{currency}"},"several":{"title":"%{accountsLength} comptes sont au-dessus de votre seuil de %{greaterBalance}%{currency}"},"several-multi-rule":{"title":"%{accountsLength} comptes sont au-dessus de leur seuil limite"}}},"if-transaction-greater":{"settingTitle":"Mouvements","description":"Vous recevrez une notification si un mouvement est supérieur à *%{value}*€","descriptionWithAccountGroup":"Vous recevrez une notification si un mouvement est supérieur à *%{value}*€ sur *%{accountOrGroupLabel}*","email":{"innerTitle":"Notification de mouvement"},"fieldLabels":{"value":"Me prévenir pour les dépenses dépassant","accountOrGroup":"sur"},"notification":{"debit":{"title":"Dépense de %{amount}%{currency}"},"credit":{"title":"Versement de %{amount}%{currency}"},"others":{"title":"%{transactionsLength} mouvements de plus de %{maxAmount}€"},"others-multi":{"title":"%{transactionsLength} mouvements au dessus de %{matchingRulesLength} seuils"}}},"when-health-bill-linked":{"settingTitle":"Detecté","description":"Vous recevrez une notification lorsqu\'un remboursement a été trouvé pour une de vos dépenses de santé","email":{"innerTitle":"Remboursements de santé"},"notification":{"title":"Nouveaux remboursements de santé","content":{"title":"Remboursement de santé","treated-by":"Traité par"}}},"when-late-health-reimbursement":{"settingTitle":"En retard","description":"Vous recevrez une notification lorsqu\'un remboursement n\'a pas été trouvé pour une de vos dépenses de santé depuis *%{value}* jours.","unit":"jours","email":{"innerTitle":"Notification de remboursement(s) en retard","accessReimbursements":"Accéder à mes remboursements"},"fieldLabels":{"value":"Me prévenir quand une dépense de santé n\'est pas remboursée depuis"},"notification":{"title":"Remboursements de santé en retard","content":{"title":"Remboursements de santé en retard","message":"%{smart_count} remboursement de santé en retard |||| %{smart_count} remboursements de santé en retard"}}},"health-section":{"title":"Remboursement de santé","description":"Cela nécessite d\'avoir connecté une assurance santé à votre Cozy."},"delayed-debit":{"settingTitle":"Paiement de l\'encours carte à débit différé","settingDescription":"Cela nécessite d\'avoir connecté un compte de type \\"carte de crédit\\"","fieldLabels":{"creditCardAccount":"Carte de crédit","checkingsAccount":"Compte courant de l\'encours","days":"Me prévenir avant la fin du mois"},"description":"Vous recevrez une notification lorque l\'encours carte du compte *%{creditCardLabel}* engendre un solde négatif sur son compte courant associé *%{checkingsLabel}*, *%{value}* jour(s) avant la fin du mois","unit":"jours","email":{"innerTitle":"Notification de paiement de l\'encours carte à débit différé","accessAccounts":"Accéder à mes comptes"},"notification":{"title":"Le compte \'%{label}\' sera à %{balance}%{currency} après le débit de l\'encours de votre carte de crédit"}},"categoryBudgets":{"email":{"title-multi":"%{alertCount} budgets ont dépassé leur limite","title-single":"Le budget %{categoryLabel} a dépassé sa limite","innerTitle":"Notification d\'alerte par catégorie","budgetOutOf":"sur"}},"konnectorAlerts":{"email":{"title-multi":"%{alertCount} connecteurs ne synchronisent plus vos données","title-single":"Le connecteur %{konnectorName} ne synchronise plus vos données","innerTitle":"Synchronisation des connecteurs"},"push":{"content-single":"Connectez-vous à votre Cozy pour régler le problème","content-multi":"%{konnectorNames}"}}},"Settings":{"title":"Paramètres","accounts":"Comptes","groups":"Groupes","tags":"Tags","configuration":"Config.","debug":"Debug","personal-info":{"title":"Informations personnelles","edit":"Compléter mes informations personnelles"},"security":{"title":"Confidentialité","amount-blur":{"description":"Masquer les montants dans l\'application"},"amount-in-notifications-blur":{"description":"Masquer les montants dans les notifications"}},"rules":{"create":"Créer une alerte","remove-modal":{"title":"Supprimer l\'alerte ?","desc":"Merci de confirmer vouloir supprimer l\'alerte."},"saving-error":"Impossible de sauvegarder l\'alerte, merci de réessayer plus tard."},"budget-category-alerts":{"pane-title":"Budget par catégorie","pane-description":"Configurer les alertes de budget par catégorie","budget-inferior-to":"Budget mensuel de *%{threshold}€*","for-account":"pour le compte *%{accountOrGroupLabel}*","for-group":"pour le groupe *%{accountOrGroupLabel}*","for-all-accounts":"pour tous les comptes","for-category":"en *%{categoryName}*","edit":{"modal-title":"Configurer la notification","category-label":"Catégorie","threshold-label":"Budget mensuel","account-group-label":"Compte ou groupe","create-ok":"Créer","update-ok":"Mettre à jour","all-category":"Tout « %{categoryName} »","cancel":"Annuler"}},"accounts-tab":{"import-in-progress":"Import en cours","in-maintenance":"En maintenance"}},"TOS":{"updated":{"title":"Du nouveau avec le RGPD !","detail":"Dans le cadre du Règlement Général de la Protection des Données (RGPD), [nos CGU sont actualisées](%{link}) et s’appliquent pour vous à partir du 25 mai 2018.","cta":"Accepter les CGU et continuer","disconnect":"Refuser et se déconnecter","error":"Une erreur est survenue, merci de réessayer plus tard"}},"BalanceHistory":{"all-accounts":"Tous les comptes","checked-accounts":"%{nbCheckedAccounts}/%{nbAccounts} comptes"},"LogoutModal":{"message":"Déconnexion en cours..."},"AdvancedFeaturesSettings":{"title":"Fonctions avancées","automatic-categorization":{"title":"Catégorisation automatique","local-model-override":{"description":"Apprendre de mes catégorisations manuelles"}},"balance-history":{"title":"Courbe d\'historique de soldes","show-chart":{"description":"Voir mon historique de soldes"}}},"KonnectorUpdateInfo":{"title":"Nouveaux connecteurs bancaires","content":"De nouvelles versions des connecteurs sont disponibles et nécessitent une mise à jour de leurs CGUs. <a href=\'https://support.cozy.io/article/302-budget\' target=\'_blank\'>En savoir plus</a>.","cta":"Mettre à jour mes banques"},"Pin":{"enter-pin-restricted-area":"Merci d\'entrer votre code pin courant pour accéder à cette fonctionnalité","please-choose-pin":"Choisir un code de sécurité","please-enter-your-pin":"Entrez votre code de sécurité","please-repeat-pin":"Confirmez le code de sécurité","errors":{"different-pins":"Les deux codes sont différents, merci de recommencer."},"logout":"Quitter","successfully-changed":"Code changé avec succès","error-save":"Erreur de la sauvegarde du pin, êtes vous connecté à internet ?","configure-button":"Configurer un code PIN","attempt-count":"%{current}/%{max} essais","settings":{"toggle-title":"Verrouillage de l\'application","toggle-description":"Verrouiller mon app par code pin ou empreinte digitale. Le déverrouillage sera demandé après 30 secondes d\'inactivité dans l\'application."},"fingerprint-text":"Ou votre empreinte digitale","use-fingerprint":{"yes":"Utiliser mon empreinte","no":"Non, merci","title":"Activer le déverrouillage par empreinte digitale","description":"Souhaitez vous utiliser la sécurité par empreinte proposée par votre téléphone ?"}},"Reimbursements":{"pending":"Remboursements en attente : ","alreadyReimbursed":"Déjà remboursés","noPending":{"generic":"Aucun remboursement attendu pour des dépenses en %{period}.","healthExpenses":"Aucun remboursement attendu pour des dépenses de santé en %{period}","professionalExpenses":"Aucun remboursement attendu pour des notes de frais en %{period}"},"noReimbursed":{"generic":"Ajoutez un remboursement en attente manuellement sur des dépenses pour suivre leur remboursement.","healthExpenses":"Détecter automatiquement vos remboursements en connectant votre assurance santé à votre Cozy.","professionalExpenses":"Categorisez des dépenses en « note de frais » pour suivre leur remboursement.","group":"Ajoutez un remboursement en attente manuellement sur des dépenses pour suivre leur remboursement, ou catégorizez les en \\"hors budget / notes de frais\\" ou \\"frais de santé\\" pour avoir un suivi automatique."}},"KonnectorChip":{"health":"Mes remboursements","generic":"Mes factures"},"PersonalInfo":{"birthcity":"Commune de naissance","birthcity-placeholder":"Ville où vous êtes né(e)","birthcountry":"Pays de naissance","birthcountry-placeholder":"Pays où vous êtes né(e)","nationality":"Nationalité","save-cta":"Sauvegarder","modal-title":"Modifier mes infos personnelles","info-saved-successfully":"Vos informations ont bien été mises à jour","info":{"title":"Pourquoi ces informations vous sont demandées ?","description":"Afin de prévenir le blanchiment d\'argent et le financement du terrorisme, Cozy s\'est dotée d\'une réglementation stricte."},"validation-error":"Tous les champs sont obligatoires"},"Transfer":{"nav":"Virements","page-title":"Virement","amount":{"page-title":"Montant","field-label":"Montant du virement","title":"Quel montant souhaitez-vous envoyer ?","confirm":"Confirmer le montant","errors":{"too-high":"Choisissez un montant inférieur à %{maximum}€","too-low":"Choisissez un montant supérieur à %{minimum}€","incorrect-number":"%{value} est un montant incorrect."}},"category":{"page-title":"Virement","title":"A qui souhaitez-vous envoyer ce virement ?","internal":"L\'un de mes comptes","external":"Un compte tiers"},"beneficiary":{"page-title":"Bénéficiaire","add-beneficiary":"Ajouter un bénéficiaire","help-add-beneficiary-title":"Ajout de bénéficiaires","help-add-beneficiary-action":"Compris !","help-add-beneficiary":"Pour rajouter des bénéficiaires, ajoutez les directement depuis le site de votre banque.","title":"Vers quel compte souhaitez-vous effectuer un virement ?"},"sender":{"page-title":"Émetteur","title":"Depuis quel compte ?"},"summary":{"page-title":"Récapitulatif","send":"Envoyer","from":"depuis","to":"à","for":"pour","for-placeholder":"motif (facultatif)","confirm":"Confirmer le virement","on":"le"},"password":{"page-title":"Mot de passe","title":"Merci de ressaisir le mot de passe de la banque émettrice du virement.","confirm":"Confirmer le virement","field-label":"Votre mot de passe bancaire","field-placeholder":"******","date-placeholder":"Date du virement"},"success":{"title":"Votre demande de virement a été prise en compte","description":"Votre banque procédera au virement sous 1 jour ouvré, sous réserve de solde suffisant."},"error":{"title":"Votre demande de virement n\'a pas été prise en compte","description":"Votre demande de virement n\'a pas pu être envoyée, merci de réessayer plus tard ou contactez notre support.","description-login-failed":"Votre mot de passe semble incorrect, merci de réessayer."},"no-bank":{"title":"Ajoutez une banque pour pouvoir effectuer un virement","add-bank":"Ajouter une banque"},"no-recipients":{"title":"Pas de bénéficiaires trouvés","description":"Nous n\'avons pas pu trouver de bénéficiaires, il se peut que votre banque ne soit pas supportée pour les virements. Ci-dessous la liste des banques supportées pour les virements."},"exit":"Terminer","retry":"Réessayer","user-blocked":{"title":"Virements bloqués","description":"Les virements sont bloqués sur votre Cozy, merci de contacter le support."}},"ReimbursementStatusModal":{"contact":{"actions":{"sendCareSheet":"Envoyer ma feuile de soin","contactComplementary":"Contacter ma complémentaire"},"phoneCallPrice":" + prix appel","phoneCallFree":"Appel non surtaxé","openApp":{"title":"Ouvrir l\'application","caption":"Depuis mon téléphone"}}},"LoanProgress":{"reimbursedAmount":"Montant remboursé","borrowedAmount":"Montant emprunté"},"LoanDetails":{"dateGlue":"le","keyInfos":{"title":"Informations clées","borrowedAmount":"Montant emprunté :","remainingCapital":"Capital restant dû :","interestRate":"Taux d\'intérêt :"},"payments":{"title":"Paiements","lastPayment":"Dernier paiement effectué :","nextPayment":"Prochain paiement prévu :"},"characteristics":{"title":"Caractéristiques du prêt","subscriptionDate":"Date de souscription :","maturityDate":"Date de remboursement :","nbPaymentsLeft":"Nb d\'échéances encore prévues :","nbPaymentsDone":"Nb d\'échéances payées :"},"creditReserve":{"title":"Réserve crédit","totalUsedAmount":"Montant total utilisé :","availableAmount":"Réserve disponible :"}},"AccountGroupChoice":{"nothing-selected":"Sélectionner un compte","all-accounts":"Tous les comptes"},"Confirmation":{"cancel":"Annuler","ok":"OK"},"EditionModal":{"ok":"OK","cancel":"Annuler","remove":"Supprimer"},"Recurrence":{"see-transaction-history":"Voir l\'historique","display-error":"Nous sommes désolés, une erreur a empêché l\'affichage de cette page. Vous pouvez aller sur la page de debug pour réinitialiser les récurrences, et rechargez la page pour essayer de résoudre le problème.","go-to-debug-page":"Aller sur la page de debug","no-recurrences":{"title":"Aucune opération récurrente","text":"Aucune opération récurrente n\'a encore été trouvée. Indiquez une opération comme récurrente pour aider l\'algorithme de détection à démarrer."},"no-transactions":{"title":"Aucune opération","text":"Cette récurrence ne contient aucune opération, vous pouvez la supprimer."},"table":{"frequency":"Fréquence","label":"Libellé","amount":"Montant","last-occurence":"Dernière occurence"},"status":{"ongoing":"En cours","finished":"Terminé","save-success":"Statut changé"},"description-amount":"%{amount}","description-amounts":"entre %{minAmount} et %{maxAmount}","delete-success":"La récurrence a bien été supprimée","delete-error":"La récurrence n\'a pas pu été supprimée, merci de réessayer plus tard","title":"Paiements récurrents","choice":{"not-recurrent":"Opération occasionnelle","recurrent":"Opération récurrente","new-recurrence":"Nouvelle récurrence"},"action-menu":{"open-button":"Actions sur la récurrence","rename":"Renommer","delete":"Supprimer","delete-caption":"Les opérations seront redéfinies en opérations occasionnelles.","ongoing":"En cours","ongoing-caption":"Une transaction sera attendue dans votre budget prévisionnel","finished":"Terminé"},"rename":{"modal-title":"Renommer le groupe de récurrence","save":"Sauvegarder","cancel":"Annuler","save-success":"Groupe de récurrence correctement sauvé","save-error":"Impossible de renommer, merci de réessayer plus tard"},"freq-info-word":{"weekly":"toutes les semaines","monthly":"tous les mois","yearly":"tous les ans"},"freq-info":"tous les %{frequency} jours","show-deprecated-bundles":"Voir les récurrences inactives (%{number})","deprecated-bundles-help":"Les récurrences ci-dessous ne sont pas comptées dans le solde à venir car leur dernière occurrence date de plus de 4 mois, ou elles ont été terminées manuellement"},"Harvest":{"modal-title":"Configurer les comptes","disconnected-account":"Compte déconnecté"},"EstimatedBudget":{"no-planned-transactions":{"title":"Pas d\'opérations prévues à 30 jours","text":"Vous pouvez désigner toute opération d\'un compte comme \\"récurrente\\" pour aider la prévision"},"30-day-balance":"Solde à 30 jours","page-title":"Dépenses prévues","numberEstimatedTransactions":"%{smart_count} opération prévue |||| %{smart_count} opérations prévues"},"JobsContext":{"alerter-success":"Import des données de la banque terminé.","alerter-errored":"Une erreur s\'est produite lors de l\'import"},"DeletingAccount":{"related-data":{"deleting":"Suppression des données associées, ne pas fermer la fenêtre...","successfully-deleted":"Toutes les données associées ont bien été supprimées"}},"Categorization":{"error":"Impossible de catégoriser certaines opérations, merci de réessayer plus tard.","success":"%{smart_count} operation a été recatégorisée |||| %{smart_count} operations ont été recatégorisées"},"SelectionBar":{"selected_count":"élément sélectionné |||| éléments sélectionnés","close":"Fermer","categorize":"Catégorisation","selectAll":"Tout sélectionner","unselectAll":"Tout désélectionner"},"Migration":{"title":"Rechargement des données nécessaire","content":"Vos données vont être re-téléchargées dans votre application afin d\'améliorer les performances de navigation. Cela nécessite une connexion réseau stable et de patienter environ une minute (parfois plus si vous avez un historique très important). Aucune donnée ne sera supprimée. Merci de patienter jusqu\'à ce que l\'app ait retéléchargée toutes vos données.","confirm":"Ok, c\'est parti !","cancel":"Non, pas maintenant"},"Tag":{"add-tag":"Ajouter un tag","add-new-tag":"Ajouter un nouveau tag","filter-tag":"Filtrer par tags","tag-name":"Nom du tag","transactions":"%{smart_count} opération taguée |||| %{smart_count} opérations taguées","search-tag":"Rechercher un tag","sortLabelAsc":"A-Z","sortLabelDesc":"Z-A","sortCountAsc":"Les moins utilisés en premier","sortCountDesc":"Les plus utilisés en premier","sortDateAsc":"Les moins fréquents en premier","sortDateDesc":"Les plus fréquents en premier","addingTagToTransaction":"Ajout du tag |||| Ajout des tags","addModal":{"actions":{"cancel":"Annuler","submit":"Ajouter"}},"renameModal":{"title":"Renommer","label":"Nom du tag","actions":{"cancel":"Annuler","submit":"Renommer"}},"deleteModal":{"title":"Supprimer","content":"En supprimant ce tag, il ne sera plus applicable à vos opérations et il sera effacé de %{smart_count} opération le portant. |||| En supprimant ce tag, il ne sera plus applicable à vos opérations et il sera effacé des %{smart_count} opérations le portant.","actions":{"cancel":"Annuler","submit":"Supprimer"}}}}')},"9qU6":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return c});var a=function(e,t,n){return{load:function(){var t=localStorage.getItem(e);if(!t)return t;try{return n(t)}catch(a){return null}},save:function(n){void 0!==n&&localStorage.setItem(e,t(n))},remove:function(){localStorage.removeItem(e)}}},r=a("cozy.pin-last-interaction",function(e){var t=parseInt(e);return isNaN(t)?null:t},function(e){return e.toString()}),o=a("cozy.pin-doc",JSON.stringify,JSON.parse),c=function(){o.remove(),r.remove()}},AZ9U:function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-health_61367a34dbeead6c4a1b70892d938597",use:"icon-cat-health_61367a34dbeead6c4a1b70892d938597-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-health_61367a34dbeead6c4a1b70892d938597"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#F52D2D" /><g fill="#FFFFFF" transform="translate(4 6)"><path d="M16.04 17.38a1.5 1.5 0 0 1-1.34.83 1.51 1.51 0 0 1-1.44-1.1l-.94-3.28-.78 1.55a1.5 1.5 0 0 1-2.59.16l-.82-1.24-.23.3c-.28.38-.73.6-1.2.5H4.06c1.56 2.8 5.35 6.25 7.86 7.92a.5.5 0 0 0 .59-.02c2.2-1.7 5.79-5.25 7.36-7.9h-2.74l-1.09 2.28zM2.32 12.1h3.63L7 10.8c.28-.37.73-.6 1.21-.6.51.02.97.27 1.24.68l.56.84 1.35-2.68a1.5 1.5 0 0 1 1.34-.83c.75.03 1.27.5 1.44 1.08l.97 3.28c.28-.3.67-.47 1.09-.47h5.53a11.4 11.4 0 0 0 1.47-5.32c0-4.32-2.81-6.57-5.6-6.57-2.06 0-4.33 1.26-5.4 4.02C11.15 1.5 8.93.27 6.92.27 3.17.27 1.2 3.84 1.2 7.37c0 1.85.58 3.79 1.12 4.73" /><path d="M23.7 13.1h-7.5a.5.5 0 0 0-.45.28l-.92 1.95-1.65-5.76a.5.5 0 0 0-.5-.36.5.5 0 0 0-.43.27l-2.11 4.23-1.52-2.28a.5.5 0 0 0-.42-.22.5.5 0 0 0-.4.2L6.45 13.1H.7a.5.5 0 0 0 0 1h6a.5.5 0 0 0 .4-.2l1.08-1.33 1.6 2.41a.5.5 0 0 0 .47.22.5.5 0 0 0 .4-.27l1.92-3.85 1.65 5.76c.05.2.23.36.49.37a.5.5 0 0 0 .44-.28l1.36-2.83h7.19a.5.5 0 0 0 0-1" /></g></g></symbol>'});c.a.add(i);t.default=i},B7Jb:function(e,t,n){e.exports={ToggleRow__body:"ToggleRow__body--1rtsq",ToggleRow__description:"ToggleRow__description--wUP8k"}},BK5s:function(e,t,n){e.exports={AccountIconContainer:"AccountIconContainer--_dX2T","AccountIconContainer--large":"AccountIconContainer--large--19VGC","AccountIconContainer--small":"AccountIconContainer--small--3hWAf"}},Bwi5:function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-bankFees_ad4972ab9f74d8d77bbc962f27aa1f7c",use:"icon-cat-bankFees_ad4972ab9f74d8d77bbc962f27aa1f7c-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-bankFees_ad4972ab9f74d8d77bbc962f27aa1f7c"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#7F6BEE" /><path fill="#FFFFFF" d="M11.5 20.32a2 2 0 1 0 0-2.64 2 2 0 1 0 0 2.64zM24 23H8a2 2 0 0 1-2-2V11c0-1.1.9-2 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2zM7 15h18v-3H7v3z" /></g></symbol>'});c.a.add(i);t.default=i},"C/RP":function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-kids_7c62858bc6c0b4455cb2d6fc09efa2a4",use:"icon-cat-kids_7c62858bc6c0b4455cb2d6fc09efa2a4-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-kids_7c62858bc6c0b4455cb2d6fc09efa2a4"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#1FA8F1" /><path fill="#FFFFFF" d="M13 12a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm-6 1h12v.5c0 4.83-2.08 6.92-3.5 7.79V28h-5v-6.71C9.08 20.42 7 18.33 7 13.5V13zm15 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm0 .5c1.68 0 3 2.2 3 5v.25h-1.75V28h-2.5v-2.25H19v-.25c0-2.8 1.32-5 3-5z" /></g></symbol>'});c.a.add(i);t.default=i},CEWS:function(e,t,n){e.exports={BalancePanels:"BalancePanels--2JHQ9",BalancePanels__actions:"BalancePanels__actions--2DN2_"}},Cn7x:function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-tobaccoPress_19c5e6709b2f35f0be43b0e9c252cefd",use:"icon-cat-tobaccoPress_19c5e6709b2f35f0be43b0e9c252cefd-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-tobaccoPress_19c5e6709b2f35f0be43b0e9c252cefd"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#FD7461" /><path fill="#FFFFFF" d="M21 22H6a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1h15v4zm1 0v-4h2v4h-2zm3 0v-4h1a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-1zm-4.5-10a3.5 3.5 0 0 1 3.5 3.5 1 1 0 1 1-2 0c0-.83-.67-1.5-1.5-1.5h-2a3.5 3.5 0 0 1 0-7 1 1 0 1 1 0 2 1.5 1.5 0 0 0 0 3h2zm3.92-2.57A4.5 4.5 0 0 1 27 13.5v2a1 1 0 1 1-2 0v-2a2.5 2.5 0 0 0-2.5-2.5h-1a1 1 0 1 1 0-2 1.5 1.5 0 0 0 0-3 1 1 0 1 1 0-2 3.5 3.5 0 0 1 2.92 5.43z" /></g></symbol>'});c.a.add(i);t.default=i},CnsS:function(e,t,n){"use strict";t.a=function(e,t,n){var a=e[t];return"function"==typeof a?a.apply(e,n):a}},EmiK:function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-dressing_78a8b056ee3bd52b7623b3ff0ec12a85",use:"icon-cat-dressing_78a8b056ee3bd52b7623b3ff0ec12a85-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-dressing_78a8b056ee3bd52b7623b3ff0ec12a85"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#FD7461" /><path fill="#FFFFFF" d="M16 10a2.5 2.5 0 0 1-2.45-2h4.9A2.5 2.5 0 0 1 16 10m11.85 2.65L23.82 8.6a5.54 5.54 0 0 0-3.9-1.6h-7.85c-1.47 0-2.85.57-3.89 1.61l-4.03 4.04a.5.5 0 0 0 0 .7l3 3c.2.2.5.2.7 0L10 14.71V25.5c0 .28.22.5.5.5h11a.5.5 0 0 0 .5-.5V14.7l2.15 1.65c.2.2.5.2.7 0l3-3a.5.5 0 0 0 0-.7" /></g></symbol>'});c.a.add(i);t.default=i},FZ5e:function(e,t,n){e.exports={Radio:"Radio--1y_BY",ReimbursementStatusModal__contact:"ReimbursementStatusModal__contact--1eF7G"}},"Fz7/":function(e,t,n){e.exports={AddAccountLink:"AddAccountLink--1zdMT","AddAccountLink--absolute":"AddAccountLink--absolute--Ik2yL"}},"G0/2":function(e,t,n){var a={"./en.json":"6wRk","./fr.json":"wNxD"};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id="G0/2"},"GB3/":function(e,t,n){e.exports={"bnk-loading":"bnk-loading--2OIRM"}},Gkw2:function(e,t,n){e.exports={InProgress:"InProgress--2DJkk",error:"error--1gSl8",pointer:"pointer--2EIF-"}},GoL8:function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-services_ea7c3abd43f0e3adc2ed83220bade158",use:"icon-cat-services_ea7c3abd43f0e3adc2ed83220bade158-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-services_ea7c3abd43f0e3adc2ed83220bade158"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#7F6BEE" /><path fill="#FFFFFF" d="M21.5 11h-1a.5.5 0 0 1 0-1h1a.5.5 0 0 1 0 1m0 3h-1a.5.5 0 0 1 0-1h1a.5.5 0 0 1 0 1m0 3h-1a.5.5 0 0 1 0-1h1a.5.5 0 0 1 0 1m0 3h-1a.5.5 0 0 1 0-1h1a.5.5 0 0 1 0 1m-4-9h-6a.5.5 0 0 1 0-1h6a.5.5 0 0 1 0 1M11 13.5c0-.28.22-.5.5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5m5.5 3.5h-5a.5.5 0 0 1 0-1h5a.5.5 0 0 1 0 1m-2 3h-3a.5.5 0 0 1 0-1h3a.5.5 0 0 1 0 1M24.7 4.04a.5.5 0 0 0-.55.1L22.5 5.8l-1.65-1.64a.5.5 0 0 0-.7 0L18.5 5.79l-1.65-1.64a.5.5 0 0 0-.7 0L14.5 5.79l-1.65-1.64a.5.5 0 0 0-.7 0L10.5 5.79 8.85 4.15A.5.5 0 0 0 8 4.5v23a.5.5 0 0 0 .85.36l1.65-1.65 1.65 1.64c.2.2.5.2.7 0l1.65-1.64 1.65 1.64c.2.2.5.2.7 0l1.65-1.64 1.65 1.64c.2.2.5.2.7 0l1.65-1.64 1.65 1.64a.5.5 0 0 0 .85-.35v-23a.5.5 0 0 0-.3-.46" /></g></symbol>'});c.a.add(i);t.default=i},HCsy:function(e,t,n){e.exports={TransactionsHeader__chart:"TransactionsHeader__chart--Ft9Oy",TransactionsHeader__selectDatesContainer:"TransactionsHeader__selectDatesContainer--3z-rP",TransactionHeader__accountSwitchContainer:"TransactionHeader__accountSwitchContainer--1axCO"}},HsJB:function(e){e.exports=JSON.parse('[{"name":"Alan","regexp":"\\\\balan\\\\b","konnectorSlug":"alan","health":true,"contact":[{"type":"web","href":"https://alan.eu/login","action":"sendCareSheet"},{"type":"app","platform":"android","href":"https://alan.eu/open-or-download-mobile-app?origin=alanweb_landing_footer&os=android"},{"type":"app","platform":"ios","href":"https://alan.eu/open-or-download-mobile-app?origin=alanweb_landing_footer&os=ios"}]},{"name":"Amazon","regexp":"\\\\bamazo?n\\\\b","konnectorSlug":"amazon"},{"name":"Ameli","regexp":"(cpam|c\\\\.p\\\\.a\\\\.m|caisse primaire)","konnectorSlug":"ameli","health":true,"contact":[{"type":"phone","number":"36 46","price":"0,06 €/min"},{"type":"web","href":"https://www.ameli.fr/assure/adresses-et-contacts","action":"sendCareSheet"}]},{"name":"APRR","regexp":"\\\\baprr\\\\b","konnectorSlug":"aprr"},{"name":"Ascore Santé Prévoyance","regexp":"\\\\baxiome\\\\b","konnectorSlug":"ascoresante","health":true},{"name":"Auchan Drive","regexp":"\\\\bauchan\\\\b","konnectorSlug":"auchandrive"},{"name":"Audible","regexp":"\\\\baudible\\\\.[a-z]{1,5}\\\\b"},{"name":"Autolib","regexp":"\\\\bautolib\\\\b","konnectorSlug":"autolib","maintenance":true},{"name":"Bipandgo","regexp":"\\\\bbipandgo\\\\b","konnectorSlug":"bipandgo"},{"name":"Bitiba","regexp":"\\\\bbitiba\\\\b","konnectorSlug":"bitiba"},{"name":"Booking.com","regexp":"\\\\bbooking.com\\\\b","konnectorSlug":"bookingdotcom","maintenance":true},{"name":"Boulanger","regexp":"\\\\bboulanger\\\\b","konnectorSlug":"boulanger"},{"name":"Bouygues Box","regexp":"\\\\bbouyg","konnectorSlug":"bouyguesbox"},{"name":"Bouygues Telecom","regexp":"\\\\bbouyg","konnectorSlug":"bouyguestelecom"},{"name":"CAF","regexp":"\\\\bcaf\\\\b","konnectorSlug":"caf"},{"name":"Cdiscount","regexp":"\\\\bcdiscount\\\\b","konnectorSlug":"cdiscount"},{"name":"CESML","regexp":"\\\\bcesml\\\\b","konnectorSlug":"cesml"},{"name":"CESU","regexp":"\\\\bcncesu\\\\b","konnectorSlug":"cesu"},{"name":"Cultura","regexp":"\\\\bcultura\\\\b","konnectorSlug":"cultura","maintenance":true},{"name":"Darty","regexp":"\\\\bdarty\\\\b","konnectorSlug":"darty"},{"name":"Deezer","regexp":"\\\\bdeezer\\\\b","konnectorSlug":"deezer"},{"name":"Deliveroo","regexp":"\\\\bdeliveroo\\\\b","konnectorSlug":"deliveroo","maintenance":true},{"name":"Direct Energie","regexp":"\\\\bdirect energie\\\\b","konnectorSlug":"directenergie"},{"name":"Eau du Grand Lyon","regexp":"\\\\bsoc eau gd lyon\\\\b","konnectorSlug":"eaudugrandlyon"},{"name":"EDF","regexp":"\\\\bedf\\\\b","konnectorSlug":"edf"},{"name":"Ekwateur","regexp":"\\\\bekwateur\\\\b","konnectorSlug":"ekwateur"},{"name":"Electricité de Strabourg","regexp":"es energies strasbourg\\\\b","konnectorSlug":"electricitestrasbourg","maintenance":true},{"name":"Enercoop","regexp":"\\\\benercoop\\\\b","konnectorSlug":"enercoop"},{"name":"Engie","regexp":"\\\\bengie\\\\b","konnectorSlug":"engie"},{"name":"Eovi MCD Particuliers","regexp":"\\\\beovi mcd mutuelle\\\\b","konnectorSlug":"eovimcdparticuliers"},{"name":"eTicket","regexp":"\\\\betickets\\\\b","konnectorSlug":"eticket"},{"name":"Free","regexp":"\\\\bfree (telecom|hautdebit)\\\\b","konnectorSlug":"free"},{"name":"Free Mobile","regexp":"\\\\bfree mobile\\\\b","konnectorSlug":"freemobile"},{"name":"GEG","regexp":"\\\\bgaz et electricite de grenoble\\\\b","konnectorSlug":"geg"},{"name":"Generali","regexp":"\\\\bgenerali\\\\b","konnectorSlug":"generali","health":true},{"name":"Github","regexp":"\\\\bgithub\\\\b","konnectorSlug":"github"},{"name":"Glisshop","regexp":"\\\\bglisshop\\\\b","konnectorSlug":"glisshop","maintenance":true},{"name":"Harmonie","regexp":"\\\\bharmonie\\\\b","konnectorSlug":"harmonie","health":true},{"name":"Humanis","regexp":"\\\\bhumanis\\\\b","konnectorSlug":"humanis","health":true},{"name":"Impôts","regexp":"(impot|impots|dgfip|d\\\\.g\\\\.f\\\\.i\\\\.p|ddfip|d\\\\.d\\\\.f\\\\.i\\\\.p|drfip|d\\\\.r\\\\.f\\\\.i\\\\.p|tresor public|finances pub|finances publiques)","konnectorSlug":"impots"},{"name":"Inulogic","regexp":"\\\\binulogic\\\\b","konnectorSlug":"inulogic"},{"name":"JustEat","regexp":"\\\\bjust eat\\\\b","konnectorSlug":"justeat"},{"name":"La mutuelle générale","regexp":"\\\\bla mutuelle gen","konnectorSlug":"lamutuellegenerale","health":true,"contact":[{"type":"web","action":"contactComplementary","href":"https://www.lamutuellegenerale.fr/mobile/mon-espace-adherent#modalContact"},{"type":"phone","number":"09 69 39 39 39"},{"type":"app","platform":"android","href":"https://play.google.com/store/apps/details?id=fr.lamutuellegenerale.mamutuelle"},{"type":"app","platform":"ios","href":"https://apps.apple.com/fr/app/m-mutuelle/id582194132"}],"maintenance":true},{"name":"LDLC","regexp":"\\\\bldlc\\\\b","konnectorSlug":"ldlc","maintenance":true},{"name":"Le Monde Diplomatique","regexp":"\\\\bmonde[\\\\-\\\\s]diplomatique\\\\b","konnectorSlug":"mondediplo"},{"name":"Leclerc Drive","regexp":"\\\\bleclerc\\\\b","konnectorSlug":"leclercdrive"},{"name":"Ma lentille","regexp":"\\\\bdigital eyewear\\\\b","konnectorSlug":"malentille"},{"name":"Maif - Echeancier","regexp":"\\\\bmaif\\\\b","konnectorSlug":"maifecheancier"},{"name":"Macif","regexp":"\\\\bmacif\\\\b","konnectorSlug":"macif","maintenance":true},{"name":"Malakoff Mederic","regexp":"\\\\bmalakoff\\\\b","konnectorSlug":"malakoffmederic","health":true},{"name":"Médecins sans frontières","regexp":"\\\\b(medecins sans frontieres|msf)\\\\b","konnectorSlug":"msf"},{"name":"Mediapart","regexp":"\\\\bmediapart\\\\b","konnectorSlug":"mediapart"},{"name":"MGEN","regexp":"\\\\bmgen\\\\b","konnectorSlug":"mgen","health":true},{"name":"Mister Auto","regexp":"\\\\bmister auto\\\\b","konnectorSlug":"misterauto"},{"name":"Nespresso","regexp":"\\\\bnespresso\\\\b","konnectorSlug":"nespresso"},{"name":"Netflix","regexp":"\\\\bnetflix\\\\b","konnectorSlug":"netflix"},{"name":"Net-Entreprise (Micro-Entrepreneur)","regexp":"\\\\bUrssaf\\\\b","konnectorSlug":"net-entreprise-micro","maintenance":true},{"name":"Numéricable","regexp":"\\\\bnumericable\\\\b","konnectorSlug":"numericable"},{"name":"O2","regexp":"^o2\\\\b","konnectorSlug":"o2","maintenance":true},{"name":"OCS","regexp":"\\\\bocs\\\\b"},{"name":"Opngo","regexp":"\\\\bopngo\\\\b","konnectorSlug":"opngo"},{"name":"Orange","regexp":"\\\\borange\\\\b","konnectorSlug":"orange"},{"name":"OVH","regexp":"\\\\bovh\\\\b","konnectorSlug":"ovh"},{"name":"Planete OUI","regexp":"\\\\boui energy\\\\b","konnectorSlug":"planeteoui"},{"name":"Pole Emploi","regexp":"\\\\bpole emploi\\\\b","konnectorSlug":"poleemploi","maintenance":true},{"name":"Probikeshop","regexp":"\\\\bprobikeshop\\\\b","konnectorSlug":"probikeshop"},{"name":"ProductBoard","regexp":"\\\\bproductboard\\\\b","konnectorSlug":"productboard","maintenance":true},{"name":"SAUR","regexp":"\\\\bsaur\\\\b","konnectorSlug":"saur"},{"name":"Scaleway","regexp":"\\\\bscaleway\\\\b","konnectorSlug":"scaleway"},{"name":"SFR","regexp":"\\\\bsfr\\\\b","konnectorSlug":"sfr"},{"name":"Showroom Privé","regexp":"\\\\bshowroomprive\\\\b","konnectorSlug":"showroomprive"},{"name":"SNCF","regexp":"\\\\bsncf\\\\b","konnectorSlug":"sncf"},{"name":"Sosh","regexp":"\\\\bsosh\\\\b","konnectorSlug":"sosh"},{"name":"Spartoo","regexp":"\\\\bspartoo\\\\b","konnectorSlug":"spartoo"},{"name":"Spotify","regexp":"\\\\bspotify\\\\b"},{"name":"Stickers Discount","regexp":"\\\\bakoufen angers\\\\b","konnectorSlug":"stickersdiscount"},{"name":"Tag&Pass","regexp":"\\\\bsemitag\\\\b","konnectorSlug":"tagandpass"},{"name":"The Old Reader","regexp":"\\\\btheoldreader\\\\b","konnectorSlug":"theoldreader"},{"name":"Thomann","regexp":"\\\\bthomann\\\\b","konnectorSlug":"thomann"},{"name":"Trainline","regexp":"\\\\btrainline\\\\b","konnectorSlug":"trainline"},{"name":"Unibet","regexp":"\\\\bunibet\\\\b","konnectorSlug":"unibet"},{"name":"Veepee","regexp":"\\\\b(Vente\\\\-privee\\\\.com|veepee)\\\\b","konnectorSlug":"venteprivee"},{"name":"Veolia Eau","regexp":"\\\\bveolia\\\\b","konnectorSlug":"veoliaeau"},{"name":"Viasanté","regexp":"\\\\bVIASANTE\\\\b","konnectorSlug":"viasante"},{"name":"Vinci autoroute télépéage","regexp":"\\\\b(vinci|escota)\\\\b","konnectorSlug":"vinciautoroute"},{"name":"Wanimo","regexp":"\\\\bwanimo\\\\b","konnectorSlug":"wanimo"},{"name":"Zalando","regexp":"\\\\bzalando\\\\b","konnectorSlug":"zalando","maintenance":true},{"name":"ZooPlus","regexp":"\\\\bzooplus\\\\b","konnectorSlug":"zooplus"}]')},I00Q:function(e,t,n){"use strict";n.r(t);var a,r,o=n("q1tI"),c=n.n(o),i=n("/MKj"),l=n("qvEe"),s=n("/rgc"),u=n("QCzH"),d=n("buk/"),m=n("xIbs"),f=n("SH7X"),p=n.n(f),h=n("1I/2"),b=n("oXSe"),g=n("vX1d"),v=n("mgfL"),y=n.n(v),E={trackPage:function(){},trackEvent:function(){},name:"shim"},C=function(){return E},k=function(e){C().trackEvent(e)},_=Object(o.createContext)(),w=function(e){var t=e.children,n=C();return c.a.createElement(_.Provider,{value:n},t)},O=function(){return Object(o.useContext)(_)},x=function(e,t){var n=function(e){if(!e)return null;var t=e.lastIndexOf(":");return e.substring(0,t)}(a),o="function"==typeof t?t(a,n):t;if(!1!==o){var c=Date.now();r&&a===o&&c-r<300||(r=c,a=o,e.trackPage(o))}},S=function(e){var t=C();x(t,e)},j=function(){var e=C();x(e,function(e,t){return t})},T=function(e){var t=O();Object(o.useEffect)(function(){e&&t&&x(t,e)},[])},A=function(e,t){return e?"".concat(e.split(":").slice(0,-1).join(":"),":").concat(t):e},N=function(e){if(!e)return null;var t=e.lastIndexOf(":");return e.substring(t+1)},M=n("pVnL"),I=n.n(M),B=n("RIqP"),F=n.n(B),L=n("J4zp"),R=n.n(L),D=n("T1IG"),P=n("Vggm"),z=n.n(P),q=n("lSCD"),G=n.n(q),H=n("17x9"),V=n.n(H),U=n("lwsE"),Y=n.n(U),Q=n("W8MJ"),W=n.n(Q),K=3e5,J=function(){function e(t){var n=t.setter,a=t.duration,r=void 0===a?K:a;Y()(this,e),this.setter=n,this.queue=[],this.duration=r,this.setIntervalId=null}return W()(e,[{key:"checkWaitJobQueue",value:function(){var e=Date.now(),t=!0,n=!1,a=void 0;try{for(var r,o=this.queue[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var c=r.value;e>c.timeout&&this.removeWaitJob({slug:c.konnector})}}catch(i){n=!0,a=i}finally{try{t||null==o.return||o.return()}finally{if(n)throw a}}}},{key:"addWaitJob",value:function(e){var t=e.slug,n=F()(this.queue),a=n.findIndex(function(e){return e.konnector===t}),r=Date.now()+K;-1!==a?n[a].timeout=r:(n.push({konnector:t,timeout:r,wait:!0}),this.setter(n)),this.queue=n,null===this.setIntervalId&&this.initInterval()}},{key:"removeWaitJob",value:function(e){var t=e.slug,n=F()(this.queue),a=n.findIndex(function(e){return e.konnector===t});-1!==a&&(n.splice(a,1),this.queue=n),this.setter(this.queue),0===this.queue.length&&this.clearInterval()}},{key:"initInterval",value:function(){this.setIntervalId=setInterval(this.checkWaitJobQueue.bind(this),1e4)}},{key:"clearInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){null!==this.setIntervalId&&(clearInterval(this.setIntervalId),this.setIntervalId=null)})}]),e}(),Z=z.a.namespace("import.context"),X=Object(o.createContext)({}),$=function(){return Object(o.useContext)(X)},ee=function(e){var t=e.children,n=e.client,a=e.options,r=void 0===a?{}:a,i=Object(o.useState)([]),l=R()(i,2),s=l[0],u=l[1],d=Object(o.useState)([]),m=R()(d,2),f=m[0],p=m[1],h=Object(o.useRef)(!1),b=Object(o.useRef)([]),g=null;Object(o.useEffect)(function(){return g=new J({setter:p,duration:15e3}),function(){return g.clearInterval()}},[]);var v=n.plugins.realtime,y=function(e){var t=e.data.slug;t&&(-1===b.current.findIndex(function(e){return e.konnector===t})&&g.addWaitJob({slug:t}))},E=function(e){var t=e.worker,n=e.state,a=e.message,o=b.current,c=o.findIndex(function(e){return e.account===a.account}),i=-1!==c,l=r.onSuccess,s=r.onError,d=a.account,m="CONNECTION_SYNCED"===(null==a?void 0:a.event),f=Boolean(null==a?void 0:a.bi_webhook),p=!0===(null==a?void 0:a.account_deleted),h=F()(o);"konnector"!==t||!d||f&&!m||p||("running"!==n&&"done"!==n||i?"done"===n&&i?(h.splice(c,1),G()(l)&&l()):"errored"===n&&i&&(h.splice(c,1),G()(s)&&s()):(g.removeWaitJob({slug:a.konnector}),"done"!==n&&h.push(a)),b.current=h,u(h))};Object(o.useEffect)(function(){return h.current||(Z("info","Start Jobs Realtime"),h.current=!0,v.subscribe("created",D.f,E),v.subscribe("updated",D.f,E),v.subscribe("deleted",D.f,E),v.subscribe("notified",D.f,y)),function(){h.current&&(Z("info","Stop Jobs Realtime"),h.current=!1,v.unsubscribe("created",D.f,E),v.unsubscribe("updated",D.f,E),v.unsubscribe("deleted",D.f,E),v.unsubscribe("notified",D.f,y))}},[]);var C=[].concat(F()(s),F()(f));return c.a.createElement(X.Provider,{value:{jobsInProgress:C,hasJobsInProgress:C.length>0}},t)},te=ee;ee.propTypes={client:V.a.object.isRequired,options:V.a.shape({onSuccess:V.a.func,onError:V.a.func})};var ne=n("o0o1"),ae=n.n(ne),re=n("yXPU"),oe=n.n(re),ce=function(){var e=Object(f.useClient)(),t=Object(o.useState)([]),n=R()(t,2),a=n[0],r=n[1],c=Object(o.useState)(!0),i=R()(c,2),l=i[0],s=i[1];Object(o.useEffect)(function(){var t;(t=oe()(ae.a.mark(function t(){var n,a;return ae.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.queryAll(Object(f.Q)(D.g).where({categories:{$elemMatch:{$eq:"banking"}}}).indexFields(["categories"]),{as:"io.cozy.konnectors/categories_banking",fetchPolicy:p.a.fetchPolicies.olderThan(3e4)});case 2:n=t.sent,a=null==n?void 0:n.map(function(e){return e.slug}),r(a),s(!1);case 6:case"end":return t.stop()}},t)})),function(){return t.apply(this,arguments)})()},[e]);return{bankingSlugs:a,isBankTrigger:function(e){var t;return a.includes(null==e?void 0:null===(t=e.message)||void 0===t?void 0:t.konnector)},isBankKonnector:function(e){return a.includes(null==e?void 0:e.konnector)},isFetchingBankSlugs:l}},ie=Object(o.createContext)({}),le=function(){return Object(o.useContext)(ie)},se=[],ue=function(e){var t=e.children,n=e.client,a=$().jobsInProgress,r=void 0===a?[]:a,i=Object(o.useState)([]),l=R()(i,2),s=l[0],u=l[1],d=ce(),m=d.isFetchingBankSlugs,h=d.isBankKonnector,b=d.bankingSlugs,g=d.isBankTrigger,v=Object(o.useMemo)(function(){return r.filter(h)},[r,m]);return Object(o.useEffect)(function(){v.length>0?function(){var e=oe()(ae.a.mark(function e(){var t,a,o;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.map(function(e){var t=e.konnector;return"".concat(D.g,"/").concat(t)}),e.next=3,n.fetchQueryAndGetFromState({definition:Object(f.Q)(D.g).getByIds(t),options:{as:"io.cozy.konnectors/in-progress",fetchPolicy:p.a.fetchPolicies.olderThan(3e4)}});case 3:return a=e.sent,o=a.data.map(function(e){var t=e.slug,n=r.find(function(e){return e.konnector===t});return{konnector:t,account:n.account,institutionLabel:e.name}}),e.abrupt("return",o);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()().then(function(e){u(e)}):u(se)},[r,m]),c.a.createElement(ie.Provider,{value:{jobsInProgress:s,hasJobsInProgress:s.length>0,isFetchingBankSlugs:m,isBankKonnector:h,bankingSlugs:b,isBankTrigger:g}},t)},de=ue;ue.propTypes={client:V.a.object.isRequired};var me=Object(o.createContext)(),fe=function(){var e=Object(o.useContext)(me);if(!e)throw new Error("SelectionContext is unavailable. There is no Selection provider, or it is not loaded yet.");return e},pe=function(e){var t=e.children,n=Object(h.b)().isDesktop,a=Object(o.useState)([]),r=R()(a,2),i=r[0],l=r[1],s=Object(o.useState)(!1),u=R()(s,2),d=u[0],m=u[1],f=Object(o.useCallback)(function(e){return i.includes(e)},[i]),p=Object(o.useCallback)(function(){return l([])},[l]),b=Object(o.useCallback)(function(){p(),m(!1)},[p]),g=Object(o.useCallback)(function(e){return l(e)},[l]),v=Object(o.useCallback)(function(e){return!d&&m(!0),l(function(t){var a=t.includes(e),r=a?t.filter(function(t){return t!==e}):[].concat(F()(t),[e]);return n&&a&&1===t.length&&m(!1),r})},[n,d]),y=Object(o.useMemo)(function(){return{selected:i,isSelectionModeActive:d,setIsSelectionModeActive:m,isSelected:f,emptySelection:p,emptyAndDeactivateSelection:b,toggleSelection:v,fillSelectionWith:g}},[i,d,f,p,b,v,g]);return c.a.createElement(me.Provider,{value:y},t)},he=n("Agxq"),be=n("BJ98"),ge=n.n(be),ve=n("DzJC"),ye=n.n(ve),Ee=n("WUds"),Ce=n.n(Ee),ke=n("67rm"),_e=n("jDpt"),we=n("9VR2"),Oe=n("tr08"),xe=n("TSYQ"),Se=n.n(xe),je=n("fSd/"),Te=n("4BeY"),Ae=n.n(Te),Ne=n("IaFt"),Me=n.n(Ne),Ie=new Ae.a({id:"icon-gear_9146bd42efe861a873528fb6168b9902",use:"icon-gear_9146bd42efe861a873528fb6168b9902-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-gear_9146bd42efe861a873528fb6168b9902">\n  <g fill-rule="evenodd" transform="translate(-224 -32)">\n    <path d="M238.249356,39.0782973 C238.301407,39.3371436 238.327432,39.6459602 238.327432,40.0037478 C238.327432,40.3615353 238.301407,40.6693526 238.249356,40.9291983 L239.869946,42.2624067 C240.000074,42.3483557 240.032105,42.4652862 239.968042,42.6141978 C239.642723,43.5646335 239.109199,44.4401137 238.36647,45.2416378 C238.262368,45.3655642 238.137246,45.3965458 237.995106,45.335582 L235.964113,44.6679784 C235.443602,45.0637434 234.884053,45.37256 234.284464,45.5944283 L233.875062,47.5932415 C233.849037,47.7401543 233.757948,47.8271027 233.601794,47.8520878 C233.041244,47.9520285 232.507721,48 232.000222,48 C231.492724,48 230.9582,47.9510291 230.398651,47.8520878 C230.242497,47.8281021 230.151408,47.7411537 230.125382,47.5932415 L229.715981,45.5944283 C229.077354,45.3605672 228.517805,45.0507511 228.036332,44.6679784 L226.005339,45.335582 C225.861197,45.3975452 225.738077,45.3655642 225.633974,45.2416378 C224.892246,44.4401137 224.358723,43.5646335 224.032403,42.6141978 C223.967339,42.4662856 224.000371,42.3483557 224.130499,42.2624067 L225.751089,40.9291983 C225.699038,40.6693526 225.673013,40.3625347 225.673013,40.0037478 C225.673013,39.6459602 225.699038,39.3371436 225.751089,39.0782973 L224.130499,37.7460883 C224.000371,37.6601393 223.967339,37.5422093 224.032403,37.3942971 C224.357722,36.4448609 224.891245,35.5683813 225.633974,34.7668572 C225.738077,34.6439302 225.862198,34.6129486 226.005339,34.6739124 L228.036332,35.3405166 C228.516804,34.9577438 229.077354,34.6499266 229.715981,34.4150661 L230.125382,32.4162528 C230.151408,32.2683407 230.242497,32.1823917 230.398651,32.1574065 C231.465698,31.9475312 232.533746,31.9475312 233.600793,32.1574065 C233.756947,32.1813923 233.848036,32.2683407 233.874061,32.4162528 L234.283463,34.4150661 C234.883052,34.6379337 235.442601,34.945751 235.963112,35.3405166 L237.994105,34.6739124 C238.137246,34.6119492 238.261367,34.6439302 238.36547,34.7668572 C239.107197,35.5693807 239.640721,36.4448609 239.967041,37.3942971 C240.031104,37.5422093 239.999073,37.6601393 239.868945,37.7460883 L238.249356,39.0782973 L238.249356,39.0782973 Z M232,36.5 C230.067125,36.5 228.5,38.067125 228.5,40 C228.5,41.932875 230.067125,43.5 232,43.5 C233.932875,43.5 235.5,41.932875 235.5,40 C235.5,38.067125 233.932875,36.5 232,36.5 L232,36.5 Z" />\n    <path d="M238.249356,39.0782973 C238.301407,39.3371436 238.327432,39.6459602 238.327432,40.0037478 C238.327432,40.3615353 238.301407,40.6693526 238.249356,40.9291983 L239.869946,42.2624067 C240.000074,42.3483557 240.032105,42.4652862 239.968042,42.6141978 C239.642723,43.5646335 239.109199,44.4401137 238.36647,45.2416378 C238.262368,45.3655642 238.137246,45.3965458 237.995106,45.335582 L235.964113,44.6679784 C235.443602,45.0637434 234.884053,45.37256 234.284464,45.5944283 L233.875062,47.5932415 C233.849037,47.7401543 233.757948,47.8271027 233.601794,47.8520878 C233.041244,47.9520285 232.507721,48 232.000222,48 C231.492724,48 230.9582,47.9510291 230.398651,47.8520878 C230.242497,47.8281021 230.151408,47.7411537 230.125382,47.5932415 L229.715981,45.5944283 C229.077354,45.3605672 228.517805,45.0507511 228.036332,44.6679784 L226.005339,45.335582 C225.861197,45.3975452 225.738077,45.3655642 225.633974,45.2416378 C224.892246,44.4401137 224.358723,43.5646335 224.032403,42.6141978 C223.967339,42.4662856 224.000371,42.3483557 224.130499,42.2624067 L225.751089,40.9291983 C225.699038,40.6693526 225.673013,40.3625347 225.673013,40.0037478 C225.673013,39.6459602 225.699038,39.3371436 225.751089,39.0782973 L224.130499,37.7460883 C224.000371,37.6601393 223.967339,37.5422093 224.032403,37.3942971 C224.357722,36.4448609 224.891245,35.5683813 225.633974,34.7668572 C225.738077,34.6439302 225.862198,34.6129486 226.005339,34.6739124 L228.036332,35.3405166 C228.516804,34.9577438 229.077354,34.6499266 229.715981,34.4150661 L230.125382,32.4162528 C230.151408,32.2683407 230.242497,32.1823917 230.398651,32.1574065 C231.465698,31.9475312 232.533746,31.9475312 233.600793,32.1574065 C233.756947,32.1813923 233.848036,32.2683407 233.874061,32.4162528 L234.283463,34.4150661 C234.883052,34.6379337 235.442601,34.945751 235.963112,35.3405166 L237.994105,34.6739124 C238.137246,34.6119492 238.261367,34.6439302 238.36547,34.7668572 C239.107197,35.5693807 239.640721,36.4448609 239.967041,37.3942971 C240.031104,37.5422093 239.999073,37.6601393 239.868945,37.7460883 L238.249356,39.0782973 L238.249356,39.0782973 Z M232,36.5 C230.067125,36.5 228.5,38.067125 228.5,40 C228.5,41.932875 230.067125,43.5 232,43.5 C233.932875,43.5 235.5,41.932875 235.5,40 C235.5,38.067125 233.932875,36.5 232,36.5 L232,36.5 Z" />\n  </g>\n</symbol>'}),Be=(Me.a.add(Ie),Ie),Fe=new Ae.a({id:"icon-wallet_a86a6195755e18b84420c391dfba9abd",use:"icon-wallet_a86a6195755e18b84420c391dfba9abd-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-wallet_a86a6195755e18b84420c391dfba9abd"><path fill-rule="evenodd" d="M2 0h18a1 1 0 0 1 1 1v5h2a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a2 2 0 0 1-2-2V2C0 .9.9 0 2 0zm2 3a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1h14V3H4zm12.5 13.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z" /></symbol>'}),Le=(Me.a.add(Fe),Fe),Re=new Ae.a({id:"icon-graph_5d9db4390ea634ff8574581ddace078b",use:"icon-graph_5d9db4390ea634ff8574581ddace078b-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-graph_5d9db4390ea634ff8574581ddace078b"><g fill-rule="evenodd" transform="translate(-224 -224)"><path d="M231,240 C227.134007,240 224,236.865993 224,233 C224,229.134007 227.134007,226 231,226 L231,233 L238,233 C238,236.865993 234.865993,240 231,240 Z M233,231 C233,231 233,224 233,224 C236.865993,224 240,227.134007 240,231 C238,231 233,231 233,231 Z" /></g></symbol>'}),De=(Me.a.add(Re),Re),Pe=new Ae.a({id:"icon-transfers_76472ca5aac7ddfe1bfdb3a795510092",use:"icon-transfers_76472ca5aac7ddfe1bfdb3a795510092-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-transfers_76472ca5aac7ddfe1bfdb3a795510092">\n    <path fill-rule="nonzero" d="M5 6.994v2.01L.967 5.545a1.086 1.086 0 0 1 0-1.527L5 0v1.993h3.696c.72 0 1.304.584 1.304 1.304V5.69c0 .72-.584 1.304-1.304 1.304H5zm6 7H7.305A1.304 1.304 0 0 1 6 12.69v-2.393c0-.72.584-1.304 1.305-1.304H11V7l4.033 4.02c.195.198.315.467.315.763 0 .295-.12.565-.315.763L11 16.003v-2.009z" />\n</symbol>'}),ze=(Me.a.add(Pe),Pe),qe=/\/transfers(\/.*)?/,Ge=/\/settings(\/.*)?/,He=/\/balances(\/.*)?/,Ve=/\/(categories|recurrence).*?/,Ue=/\/categories(\/.*)?/,Ye=/\/recurrence(\/.*)?/,Qe=function(e){return[{to:"/balances",icon:Le,label:e("Nav.my-accounts"),rx:He},{to:"/analysis/categories",icon:De,label:e("Nav.analysis"),rx:Ve},{to:"/analysis/categories",label:e("Nav.categories"),rx:Ue,secondary:!0},{to:"/analysis/recurrence",label:e("Nav.recurrence"),rx:Ye,secondary:!0},y()("banks.transfers")?{to:"/transfers",icon:ze,label:e("Transfer.nav"),rx:qe}:null,{to:"/settings",icon:Be,label:e("Nav.settings"),rx:Ge}]},We=function(e){var t=e.children,n=e.to,a=e.rx,r=R()(e.clickState,2),o=r[0],i=r[1],l=Object(he.z)(),s=o||l.pathname,u=function(e,t,n){return e?e.test(n):n.slice(1)===t}(a,n,s);return c.a.createElement("a",{style:{outline:"none"},onClick:function(){return i(n)},href:"#".concat(n),className:Se()(je.c.className,u?je.c.activeClassName:null)},t)},Ke=function(e){var t=e.items,n=Object(o.useState)(null);return c.a.createElement(c.a.Fragment,null,t.map(function(e,t){return e?c.a.createElement(je.b,{key:t,secondary:e.secondary},c.a.createElement(We,{to:e.to,rx:e.rx,clickState:n},e.icon?c.a.createElement(je.a,{icon:e.icon}):null,c.a.createElement(je.d,null,e.label))):null}))},Je=function e(){var t=Object(d.useI18n)().t;return c.a.createElement(je.e,null,c.a.createElement(Ke,{items:Qe(t)}),e.renderExtra())};Je.renderExtra=function(){return null};var Ze=c.a.memo(Je),Xe=Object(o.createContext)(),$e=function(e){var t=e.children,n=Object(o.useState)([]),a=R()(n,2),r=a[0],i=a[1],l=Object(he.z)();Object(o.useEffect)(function(){l.pathname.startsWith("/analysis/categories")||i([])},[l]);var s=Object(o.useMemo)(function(){return[r,i]},[r]);return c.a.createElement(Xe.Provider,{value:s},t)},et=n("a1gu"),tt=n.n(et),nt=n("Nsbk"),at=n.n(nt),rt=n("PJYZ"),ot=n.n(rt),ct=n("7W2i"),it=n.n(ct),lt=n("lSNA"),st=n.n(lt),ut=function(e){function t(){var e,n;Y()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=tt()(this,(e=at()(t)).call.apply(e,[this].concat(r))),st()(ot()(n),"state",{warnings:null}),st()(ot()(n),"checkWarnings",function(){(function(e){return e.stackClient.fetchJSON&&e.stackClient.fetchJSON("GET","/settings/warnings").then(function(){return null}).catch(function(e){if(402!==e.status)return null;try{var t=JSON.parse(e.message),n=t.errors;return n}catch(e){return null}})})(n.props.client).then(function(e){n.setState({warnings:e})})}),n}return it()(t,e),W()(t,[{key:"componentDidMount",value:function(){0}},{key:"componentWillUnmount",value:function(){0}},{key:"render",value:function(){var e=this.state.warnings;return e?c.a.createElement("div",null,e.map(function(e){return c.a.createElement(yt,{key:e.code,code:e.code,title:e.title,detail:e.detail,links:e.links})})):null}}]),t}(o.Component),dt=Object(f.withClient)(ut),mt=new Ae.a({id:"icon-tos_24b00cf17712f9567ddbfa3324804ca1",use:"icon-tos_24b00cf17712f9567ddbfa3324804ca1-usage",viewBox:"0 0 70.58 66.63",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 70.58 66.63" id="icon-tos_24b00cf17712f9567ddbfa3324804ca1"><path d="M41.2 9.05a15 15 0 0 0-2.69-4.68c-2-2.2-4.82-1.85-7.64-.7a30.66 30.66 0 0 0-3.63 1.75C21.9 8.23 2.75 18 2.17 18.42c-2.8 1.87-2.5 4.23-1.28 6.74.11.42 16.46 35.33 17.45 37.14 1.36 2.47 3.19 4.56 5.75 4.31s31.44-14.89 32.76-15.69C58.46 50 59 48.81 59 47.59a4.3 4.3 0 0 0-.43-2.27C57.71 43 43.69 12.93 41.2 9.05z" style="fill:#cbf7d8" /><path d="M51.46 8.47a14.84 14.84 0 0 0-1.83-5.07C48 .87 45.21.74 42.22 1.38a32.44 32.44 0 0 0-3.88 1.09C32.6 4.31 12 10.64 11.4 10.92c-3.09 1.36-3.19 3.73-2.4 6.42C9 17.77 19 55 19.71 57c.9 2.66 2.34 5 4.91 5.24s33.55-9.21 35-9.76c1.75-.68 2.52-1.71 2.68-2.92a4.43 4.43 0 0 0 0-2.31c-.47-2.47-9.06-34.53-10.84-38.78z" style="fill:#35ce68" /><path d="M61.21 8.6a15 15 0 0 0-.93-5.31C59.11.52 56.39-.1 53.34 0a30.7 30.7 0 0 0-4 .41c-6 .81-27.32 3.47-28 3.64-3.27.8-3.79 3.12-3.51 5.89 0 .45 3.38 38.83 3.7 40.88.43 2.78 1.43 5.37 3.93 6s34.63-3.22 36.14-3.51c1.84-.36 2.78-1.24 3.14-2.41a4.32 4.32 0 0 0 .37-2.28c0-2.46-2.88-35.52-3.9-40.02z" style="fill:#cbf7d8" /><path d="M32.25 24.76l.41 5-5 .41-.41-5 5-.42m.46-1.54h-.08l-6 .49a1 1 0 0 0-.92 1.08l.5 6a1 1 0 0 0 1 .92h.08l6-.49a1 1 0 0 0 .92-1.08l-.5-6a1 1 0 0 0-1-.92z" style="fill:#35ce68" /><path d="M39.93 29.64a3 3 0 0 1-.25-6l16.2-1.34a3 3 0 1 1 .49 6l-16.19 1.33zM38.94 17.68a3 3 0 0 1-.24-6l16.19-1.34a3 3 0 1 1 .49 6l-16.19 1.33z" style="fill:#9fe6a2" /><path d="M31.51 15.79l.16 2-5 .41-.41-5 2-.17-.12-1.49-2.49.2a1 1 0 0 0-.92 1.08l.5 6a1 1 0 0 0 1 .92h.09l6-.5a1 1 0 0 0 .91-1.08L33 15.67z" style="fill:#35ce68" /><path d="M28.89 16.92l-1.81-1.54.97-1.14.67.57 3.03-3.58 1.15.97-4.01 4.72z" style="fill:#35ce68" /><path d="M62.58 64.44c1.78 4.51 1.34-.48 1.77-3.67 1.72.7 8 3.26 4.38.41s-5.29-8.49-6.41-10.42c-.32-.53-.36-1.2-1-1.27a4.57 4.57 0 0 0-2.8.61c-.86.47-1.74 1.17-2.87.75a.55.55 0 0 0-.8.31 1.24 1.24 0 0 0-.1 1.73c2.4 3.42 6.04 7.04 7.83 11.55z" style="fill:#288afc" /><path d="M59.53 52.89a1.23 1.23 0 0 0-.09-1.73.56.56 0 0 0-.81-.31c-1.12.42-2-.28-2.87-.75a4.52 4.52 0 0 0-2.76-.61c-.62.07-.67.74-1 1.27-1.12 1.93-2.76 7.57-6.42 10.42s2.67.29 4.38-.41c.44 3.19 0 8.18 1.78 3.67s5.41-8.13 7.79-11.55z" style="fill:#288afc" /><path d="M69.62 44.36a3 3 0 0 0 .42-4 2.55 2.55 0 0 0-1.42-1.13c-1.86-.4-2.4-1.8-3-3.62s-2.8-1.16-3.94-.62c-2.69 1.28-2.11-3-4.7-2.35a5.92 5.92 0 0 0-2.14 1.66c-.26.25-2-1.3-2.48-1.55-1.46-.78-2.27 2-2.5 3.07-.32 1.49-3.18.38-4.18 2.21-.87 1.59 0 3.69.52 5.56-1.31 1.9-3.15 2.27-2.67 5.48a4.22 4.22 0 0 0 1.12 2.7c.79 1.11 3-.21 3 2.26 0 2.07.87 3.28 2.45 3.53 1.18.18 3.5-2.35 4.46-1 .6.86 1 2 2.07 2.06 2.44.21 3.17-2.48 5.74-1.49 1.65.63 2.47-.17 3.23-2.06.65-1.59.29-2.36 2-2.9a2.88 2.88 0 0 0 1.76-1.74c1.41-2.66-2.36-3.98.26-6.07z" fill="#bbd9fd" /><path d="M49.34 48.9a9.15 9.15 0 0 0 4 4.78c3.93 2 9.27.72 11.42-3.17s2.07-9.77-3.88-12.51c-5.07-2.34-10.75 1.32-11.81 6.58a8.38 8.38 0 0 0 .27 4.32z" style="fill:#288afc" /><path d="M64.07 46.84a3.21 3.21 0 0 0-.87-1.9 3.49 3.49 0 0 0-2.13-1.13 3.41 3.41 0 0 0-2.51-2.89 2.84 2.84 0 0 0-.81-.12 2.84 2.84 0 0 0-.81.12 3.4 3.4 0 0 0-2.51 2.89 3.49 3.49 0 0 0-2.13 1.13 3.21 3.21 0 0 0-.87 1.9 2.56 2.56 0 0 0 0 .73 3.75 3.75 0 0 0 .41 1.19 3.56 3.56 0 0 0 2.72 1.59 16.81 16.81 0 0 0 3.09.18h.12a16.81 16.81 0 0 0 3.09-.18 3.56 3.56 0 0 0 2.72-1.59 3.75 3.75 0 0 0 .42-1.19 2.56 2.56 0 0 0 .07-.73z" fill="#fff" /><path d="M57.75 50.83h-.06a17.17 17.17 0 0 1-3.14-.19 3.51 3.51 0 0 1-3.37-3 3.15 3.15 0 0 1 0-.81 3.47 3.47 0 0 1 1-2.07 3.85 3.85 0 0 1 2.08-1.19 3.69 3.69 0 0 1 2.69-2.92 5 5 0 0 1 .86-.13h.06a4.71 4.71 0 0 1 .85.13 3.69 3.69 0 0 1 2.7 2.92 3.85 3.85 0 0 1 2.08 1.19 3.47 3.47 0 0 1 1 2.07 3.15 3.15 0 0 1 0 .81 3.51 3.51 0 0 1-3.37 3 17.17 17.17 0 0 1-3.14.19h-.06zm0-9.74a2.93 2.93 0 0 0-.73.11 3.1 3.1 0 0 0-2.3 2.65.3.3 0 0 1-.27.25 3.2 3.2 0 0 0-1.93 1 2.89 2.89 0 0 0-.8 1.72 2.1 2.1 0 0 0 0 .66 2.93 2.93 0 0 0 2.89 2.53 15.15 15.15 0 0 0 3 .18h.12a15.3 15.3 0 0 0 3-.18 2.93 2.93 0 0 0 2.89-2.53 2.1 2.1 0 0 0 0-.66 2.89 2.89 0 0 0-.8-1.72 3.2 3.2 0 0 0-1.93-1 .3.3 0 0 1-.27-.25 3.1 3.1 0 0 0-2.3-2.65 2.93 2.93 0 0 0-.57-.11zm0-.3z" style="fill:#288afc" /><path d="M60 47c-.13-.09-.29-.29-.28-.38a.25.25 0 0 0-.12-.24.3.3 0 0 0-.29 0 .29.29 0 0 0-.15.23.76.76 0 0 0 .1.37 3.15 3.15 0 0 1-3-.06.7.7 0 0 0 .07-.39.3.3 0 0 0-.32-.25.24.24 0 0 0-.22.28c0 .17-.12.28-.3.42a.29.29 0 0 0-.11.26.27.27 0 0 0 .16.22.15.15 0 0 0 .09 0 .3.3 0 0 0 .16-.05l.15-.12a3.6 3.6 0 0 0 1.86.5 3.64 3.64 0 0 0 1.75-.44l.12.11a.3.3 0 0 0 .16 0 .24.24 0 0 0 .2-.11A.29.29 0 0 0 60 47z" style="fill:#288afc" /></symbol>'}),ft=(Me.a.add(mt),mt),pt=n("y6ex"),ht=n("KXWi"),bt=n("nKAI"),gt=n.n(bt),vt=function(e){function t(){return Y()(this,t),tt()(this,at()(t).apply(this,arguments))}return it()(t,e),W()(t,[{key:"render",value:function(){var e=this.props,t=e.code,n=e.title,a=e.detail,r=e.links,o=e.t,i="tos-updated"===t;return c.a.createElement("div",{className:gt.a.WarningsModal},i&&c.a.createElement(pt.default,{icon:ft,width:96,height:96}),c.a.createElement("h2",{className:gt.a.WarningsModal__title},i?o("Warnings.gdpr.title"):n),c.a.createElement("p",null,i?o("Warnings.gdpr.detail"):a),c.a.createElement(ht.c,{extension:"full",label:i?o("Warnings.gdpr.cta"):"OK",tag:"a",href:r.self}))}}]),t}(o.Component);st()(vt,"propTypes",{code:V.a.string.isRequired,title:V.a.string.isRequired,detail:V.a.string.isRequired,links:V.a.object.isRequired});var yt=Object(d.translate)()(vt);var Et=n("nM41"),Ct={color:"white",background:"crimson",borderRadius:4,position:"fixed",top:0,zIndex:1e5},kt=function(e){return c.a.createElement("div",{style:Ct},e.children)},_t=function(e){function t(e){var n;return Y()(this,t),(n=tt()(this,at()(t).call(this,e))).update=n.update.bind(ot()(n)),n}return it()(t,e),W()(t,[{key:"componentDidMount",value:function(){this.interval=setInterval(this.update,1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"update",value:function(){this.setState({})}},{key:"render",value:function(){var e=this.props,t=e.duration,n=e.start,a=((t-(Date.now()-n))/1e3).toFixed(0);return c.a.createElement("span",null,a,"s")}}]),t}(c.a.Component),wt=function(e){return c.a.createElement(kt,null,c.a.createElement(_t,{start:e.start,duration:e.duration}))},Ot=n("sEfC"),xt=n.n(Ot),St=n("ufaa"),jt=n("LNIv"),Tt=n("N1rN"),At=n("nTK/"),Nt=n.n(At),Mt=function(){var e=document.scrollingElement,t=e&&e.scrollLeft,n=e&&e.scrollTop,a=document.createElement("style");return document.head.appendChild(a),a.sheet.insertRule("html { position: fixed; overflow: hidden !important; }",0),function(){document.head.removeChild(a),requestAnimationFrame(function(){e.scrollTo(t,n)})}},It=function(){Object(o.useEffect)(Mt,[])},Bt=n("8+s/"),Ft=n.n(Bt),Lt=n("zlOS"),Rt={},Dt=n("0mAb"),Pt=function(e){function t(){return Y()(this,t),tt()(this,at()(t).apply(this,arguments))}return it()(t,e),W()(t,[{key:"render",value:function(){return null}}]),t}(c.a.Component);Pt.propTypes={theme:V.a.string.isRequired},Pt.setBarTheme=function(e){if(Dt.a&&Dt.a.setTheme){var t=Rt[e];Dt.a.setTheme(e,t)}};var zt=Ft()(function(e){var t=e[e.length-1];return t?t.theme:"default"},function(e){Pt.setBarTheme(e)})(Pt),qt=n("lPIK"),Gt=function(e){var t=e.children,n=e.className;return It(),c.a.createElement(c.a.Fragment,null,c.a.createElement(zt,{theme:"primary"}),c.a.createElement(qt.a,{into:"body"},c.a.createElement("div",{className:Se()(Nt.a.PinWrapper,"u-fx-from-bottom",n)},t)))},Ht=n("WjpJ"),Vt=n.n(Ht),Ut=n("QILm"),Yt=n.n(Ut),Qt=n("snfs"),Wt=Object(Qt.isIOS)(),Kt=function(e){var t,n=e.className,a=e.isText,r=Yt()(e,["className","isText"]);return c.a.createElement("button",I()({},r,{className:Se()(Nt.a.Pin__button,(t={},st()(t,Nt.a["Pin__button--text"],a),st()(t,Nt.a["Pin__button--ios"],Wt),t),n)}))},Jt=new Ae.a({id:"icon-back-text_118c27a5d6152c1511428c95e82bb690",use:"icon-back-text_118c27a5d6152c1511428c95e82bb690-usage",viewBox:"0 0 48 48",content:'<symbol viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-back-text_118c27a5d6152c1511428c95e82bb690">\n    <g id="icon-back-text_118c27a5d6152c1511428c95e82bb690_back-text" stroke="none" stroke-width="1" fill-rule="nonzero">\n        <path d="M16.5079289,12 L38,12 C39.1045695,12 40,12.8954305 40,14 L40,34 C40,35.1045695 39.1045695,36 38,36 L16.5079289,36 C15.967702,35.9999616 15.450467,35.7813811 15.0739254,35.3939965 L5.35392887,25.394 C4.59945188,24.6177967 4.59945188,23.3822033 5.35392544,22.6060035 L15.0739289,12.606 C15.450467,12.2186189 15.967702,12.0000384 16.5079289,12 Z M38,34 L38,13.9999965 L16.508,14 L6.78807456,24.0000035 L16.5080711,34 L38,34 Z" id="icon-back-text_118c27a5d6152c1511428c95e82bb690_Path" fill-rule="nonzero" />\n        <path d="M21.0157864,20.43 L22.43,19.0157864 L31.0142136,27.6 L29.6,29.0142136 L21.0157864,20.43 Z M29.57,19.0157864 L30.9842136,20.43 L22.4,29.0142136 L20.9857864,27.6 L29.57,19.0157864 Z" id="icon-back-text_118c27a5d6152c1511428c95e82bb690_Shape" fill-rule="nonzero" />\n    </g>\n</symbol>'}),Zt=(Me.a.add(Jt),Jt),Xt=n("qXZZ"),$t=function(){var e=oe()(ae.a.mark(function e(t){return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.classList.remove("u-shake"),requestAnimationFrame(function(){t.classList.add("u-shake")}),e.next=4,Object(Xt.a)(820);case 4:t.classList.remove("u-shake");case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),en={opacity:0},tn={2:"abc",3:"def",4:"ghi",5:"jkl",6:"mno",7:"prqs",8:"tuv",9:"wxyz"},nn=c.a.forwardRef(function(e,t){var n=e.max,a=e.value;return c.a.createElement("div",{ref:t,className:Nt.a.Pin__dots},Vt()(1,n+1).map(function(e){return c.a.createElement("span",{className:Nt.a.Pin__dot,key:e},e<=a.length?"●":"_")}))});nn.propTypes={value:V.a.string.isRequired};var an=function(e){function t(e){var n;return Y()(this,t),n=tt()(this,at()(t).call(this,e)),st()(ot()(n),"state",{value:""}),n.handleConfirm=n.handleConfirm.bind(ot()(n)),n.handleClickNumber=n.handleClickNumber.bind(ot()(n)),n.handleRemoveCharacter=n.handleRemoveCharacter.bind(ot()(n)),n.dotsRef=c.a.createRef(),n}return it()(t,e),W()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.shake;t!==e.shake&&t&&this.shakeDots()}},{key:"handleConfirm",value:function(){this.props.onConfirm(this.getValue())}},{key:"getValue",value:function(){return this.props.value||this.state.value}},{key:"handleClickNumber",value:function(e){var t=(this.getValue()+e).substr(0,this.props.pinMaxLength);this.handleNewValue(t)}},{key:"handleRemoveCharacter",value:function(){var e=this.state.value.substr(0,this.state.value.length-1);this.handleNewValue(e)}},{key:"handleNewValue",value:function(e){this.props.onChange?this.props.onChange(e):this.setState({value:e})}},{key:"shakeDots",value:function(){this.dotsRef.current&&$t(this.dotsRef.current)}},{key:"render",value:function(){var e=this,t=this.props,n=t.topMessage,a=t.bottomMessage,r=this.getValue();return c.a.createElement("div",{className:Nt.a.PinKeyboard},c.a.createElement("div",{className:Nt.a.PinKeyboard__top},c.a.createElement("div",{className:Nt.a.PinKeyboard__topMessage},n),c.a.createElement(nn,{ref:this.dotsRef,max:this.props.pinMaxLength,value:r}),c.a.createElement("div",{className:Nt.a.PinKeyboard__bottomMessage},a)),c.a.createElement("div",{className:Nt.a.PinKeyboard__bottom},c.a.createElement("div",{className:Nt.a.PinKeyboard__keyboard},Vt()(1,10).map(function(t){return c.a.createElement(Kt,{onClick:e.handleClickNumber.bind(null,t.toString()),key:t},t,c.a.createElement("div",{className:Nt.a.Pin__letters},tn[t]))}),this.props.leftButton||c.a.createElement(Kt,{style:en}),c.a.createElement(Kt,{onClick:this.handleClickNumber.bind(null,"0")},"0"),c.a.createElement(Kt,{isText:!0,onClick:this.handleRemoveCharacter},c.a.createElement(pt.default,{size:"3rem",icon:Zt})))))}}]),t}(c.a.PureComponent);an.propTypes={value:V.a.string,onChange:V.a.func,topMessage:V.a.node,bottomMessage:V.a.node,dotsRef:V.a.object},an.defaultProps={pinMaxLength:6};var rn=an,on=function(e){function t(e){var n;return Y()(this,t),(n=tt()(this,at()(t).call(this,e))).state={},n.setFingerprintWindowShowing=n.setFingerprintWindowShowing.bind(ot()(n)),n.handleSuccess=n.handleSuccess.bind(ot()(n)),n.handleError=n.handleError.bind(ot()(n)),n.handleResume=n.handleResume.bind(ot()(n)),n}return it()(t,e),W()(t,[{key:"componentDidMount",value:function(){this.checkForFingerprintSystem(),document.addEventListener("resume",this.handleResume)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("resume",this.handleResume)}},{key:"checkForFingerprintSystem",value:function(){var e=this;"undefined"!=typeof Fingerprint&&Fingerprint.isAvailable(function(t){e.setState({method:t}),e.props.autoLaunch&&e.setFingerprintWindowShowing()},function(){})}},{key:"launchFingerprintWindow",value:function(){Fingerprint.show({clientId:"cozy-banks",clientSecret:"cozy-banks"},this.handleSuccess,this.handleError)}},{key:"setFingerprintWindowShowing",value:function(){var e=this;this.setState({showing:!0},function(){e.launchFingerprintWindow()})}},{key:"handleResume",value:function(){this.checkToShowFingerprintWindow()}},{key:"checkToShowFingerprintWindow",value:function(){this.state.showing&&this.launchFingerprintWindow()}},{key:"handleSuccess",value:function(){var e=this;this.setState({showing:!1},function(){e.props.onSuccess()})}},{key:"handleError",value:function(e){var t=this;!function(e){return e.includes("Canceled by user")}(e)?function(e){return e.includes("UI canceled by system.")}(e)||this.setState({showing:!1},function(){t.props.onError(e)}):this.setState({showing:!1},function(){t.props.onCancel(e)})}},{key:"render",value:function(){return this.props.children(this.state.method,this.setFingerprintWindowShowing)}}]),t}(c.a.PureComponent),cn=n("noZS"),ln=n.n(cn),sn={doctype:D.j,id:"pin"},un={query:Object(f.Q)(sn.doctype).getById(sn.id),fetchPolicy:p.a.fetchPolicies.olderThan(3e4),as:"io.cozy.bank.settings/pin"},dn=new Ae.a({id:"icon-lock-open_8830998405aee7494c6b1a87f5c94aad",use:"icon-lock-open_8830998405aee7494c6b1a87f5c94aad-usage",viewBox:"0 0 16 16",content:'<symbol viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-lock-open_8830998405aee7494c6b1a87f5c94aad">\n    <path d="M4,4.5 L4,4 C4,1.794 5.794,0 8,0 C10.205,0 12,1.794 12,4 L12,6 L13,6 C13.2647557,5.99866955 13.5191242,6.10291197 13.7068057,6.28965507 C13.8944872,6.47639816 14.0000033,6.730241 14,6.995 L14,15.005 C14,15.544 13.551,16 12.998,16 L3.002,16 C2.456,16 2,15.555 2,15.005 L2,6.995 C2,6.456 2.448,6 3,6 L4,6 L8,6 L10,6 L10,4.5 C10,3.122 9.103,2 8,2 C6.897,2 6,3.122 6,4.5 L4,4.5 Z M8,8.5 C7.17157288,8.5 6.5,9.17157288 6.5,10 C6.50116442,10.5332239 6.78718422,11.025178 7.25,11.29 L7.25,13.75 C7.27062026,14.1491765 7.60029122,14.4622573 8,14.4622573 C8.39970878,14.4622573 8.72937974,14.1491765 8.75,13.75 L8.75,11.29 C9.195,11.032 9.5,10.552 9.5,10 C9.5,9.172 8.826,8.5 8,8.5 Z" id="icon-lock-open_8830998405aee7494c6b1a87f5c94aad_Shape" fill-rule="evenodd" />\n</symbol>'}),mn=(Me.a.add(dn),dn),fn=new Ae.a({id:"icon-fingerprint_22982de7e0b569c80a6682bc75f94823",use:"icon-fingerprint_22982de7e0b569c80a6682bc75f94823-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="icon-fingerprint_22982de7e0b569c80a6682bc75f94823">\n    <path fill="#FFF" fill-rule="evenodd" d="M23.856 5.933a.77.77 0 0 1-.184 1.08.768.768 0 0 1-1.081-.186 12.312 12.312 0 0 0-4.438-3.85C14.4 1.056 9.566 1.06 5.835 2.992A12.436 12.436 0 0 0 1.382 6.87c-.113.198-.34.322-.606.322a.8.8 0 0 1-.444-.136.756.756 0 0 1-.32-.494.788.788 0 0 1 .131-.59 13.78 13.78 0 0 1 4.995-4.354c4.17-2.152 9.558-2.155 13.723-.013a13.811 13.811 0 0 1 4.995 4.329zM11.954 3.137c6.072 0 11.011 4.69 11.011 10.458 0 2.202-1.876 3.994-4.18 3.994-2.306 0-4.18-1.792-4.18-3.994 0-1.353-1.184-2.453-2.638-2.453-1.453 0-2.637 1.1-2.637 2.453a8.22 8.22 0 0 0 2.438 5.877c1.246 1.233 2.443 1.912 4.272 2.416a.758.758 0 0 1 .462.353.776.776 0 0 1 .078.59.748.748 0 0 1-.728.586.87.87 0 0 1-.2-.03c-2.116-.585-3.508-1.373-4.966-2.804a9.762 9.762 0 0 1-2.9-6.976c0-2.202 1.876-3.996 4.181-3.996 2.306 0 4.18 1.794 4.18 3.996 0 1.351 1.184 2.451 2.638 2.451 1.455 0 2.637-1.1 2.637-2.451 0-4.914-4.248-8.912-9.468-8.912-3.719 0-7.107 2.064-8.633 5.26-.51 1.061-.77 2.29-.77 3.652 0 1.026.092 2.631.88 4.73a.761.761 0 0 1-.02.6.738.738 0 0 1-.432.39.75.75 0 0 1-.588-.022.762.762 0 0 1-.399-.429c-.652-1.746-.97-3.47-.97-5.27 0-1.597.306-3.055.909-4.328 1.779-3.73 5.712-6.141 10.023-6.141zM7.176 18.639c.825 1.482 1.4 2.133 2.427 3.174a.794.794 0 0 1 .001 1.092.847.847 0 0 1-.57.234.731.731 0 0 1-.546-.237c-1.147-1.146-1.774-1.888-2.668-3.508-.918-1.634-1.403-3.635-1.403-5.787 0-3.989 3.405-7.233 7.59-7.233 4.185 0 7.59 3.244 7.59 7.233a.764.764 0 0 1-.772.772.765.765 0 0 1-.773-.772c0-3.137-2.712-5.688-6.045-5.688-3.333 0-6.045 2.551-6.045 5.688 0 1.884.419 3.625 1.214 5.032zm12.687.368c.2-.036.402.006.57.123a.788.788 0 0 1 .326.507.775.775 0 0 1-.635.897 9.036 9.036 0 0 1-1.617.16c-1.603 0-3.001-.401-4.16-1.195-1.997-1.356-3.193-3.558-3.193-5.892 0-.433.34-.772.773-.772s.772.339.772.772c0 1.83.94 3.554 2.514 4.611.915.62 1.994.92 3.294.92.28 0 .803-.035 1.356-.13z" opacity=".64" />\n</symbol>'}),pn=(Me.a.add(fn),fn),hn=Object(d.translate)()(function(e){var t=e.current,n=e.max,a=Object(d.useI18n)().t;return c.a.createElement("div",{className:Nt.a.Pin__error},t>0?a("Pin.attempt-count",{current:t,max:n}):" ")}),bn=function(e){var t=e.onClick;return c.a.createElement("div",{className:Nt.a.Pin__BackButton,onClick:t},c.a.createElement(pt.default,{icon:Tt.a}))},gn="biometric",vn="keyboard",yn={keyboard:{successClassName:Nt.a["PinWrapper--success"],successDelay:500},biometric:{successClassName:null,successDelay:null}},En=Object(d.translate)()(function(e){var t=e.t,n=e.onSuccess,a=e.onError,r=e.onCancel;return c.a.createElement(on,{autoLaunch:!0,onSuccess:n,onError:a,onCancel:r},function(e,n){return e?c.a.createElement(jt.c,{style:{display:"inline-flex"},onClick:n,className:"u-mv-half"},c.a.createElement(jt.b,{className:"u-pr-half"},c.a.createElement(pt.default,{size:"1.5rem",icon:pn})),c.a.createElement(jt.a,null,c.a.createElement("p",null,t("Pin.fingerprint-text")))):null})}),Cn=function(e){function t(e){var n;return Y()(this,t),(n=tt()(this,at()(t).call(this,e))).handleBiometricSuccess=n.handleBiometricSuccess.bind(ot()(n)),n.handleBiometricError=n.handleBiometricError.bind(ot()(n)),n.handleBiometricCancel=n.handleBiometricCancel.bind(ot()(n)),n.handleEnteredPin=n.handleEnteredPin.bind(ot()(n)),n.handleLogout=n.handleLogout.bind(ot()(n)),n.handleBadAttempt=n.handleBadAttempt.bind(ot()(n)),n.state={attempt:0,pinValue:"",success:!1,authMethod:null},n.dots=c.a.createRef(),n.clearPinWithAnimation=xt()(n.clearPinWithAnimation,100,{leading:!1,trailing:!0}),n}var n,a;return it()(t,e),W()(t,[{key:"handleBiometricSuccess",value:function(){this.handleAuthSuccess(gn)}},{key:"handleAuthSuccess",value:function(e){var t=this;yn[e]&&(this.setState({success:!0,authMethod:e}),yn[e].successDelay?setTimeout(function(){t.props.onSuccess()},yn[e].successDelay):this.props.onSuccess())}},{key:"handleBiometricError",value:function(){var e=this.props.t;ke.a.info(e("Pin.bad-pin"))}},{key:"handleBiometricCancel",value:function(){}},{key:"handleLogout",value:function(){this.logout()}},{key:"onMaxAttempt",value:function(){this.logout()}},{key:"logout",value:(a=oe()(ae.a.mark(function e(){var t;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.client,e.next=3,t.logout();case 3:window.location.reload();case 4:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)})},{key:"handleEnteredPin",value:function(e){if(!this.cleaning){var t=this.props,n=t.pinSetting,a=t.t,r=n.data;if(!r)return ke.a.info(a("Pin.no-pin-configured")),this.props.onSuccess();if(this.setState({pinValue:e}),e!==r.pin)return e.length===this.props.maxLength?this.state.attempt+1>=this.props.maxAttempt?this.onMaxAttempt():this.handleBadAttempt():void 0;this.handleAuthSuccess(vn)}}},{key:"handleBadAttempt",value:(n=oe()(ae.a.mark(function e(){return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.clearPinWithAnimation(),this.setState({attempt:this.state.attempt+1});case 2:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"clearPinWithAnimation",value:function(){var e=this.state.pinValue;""!==e?(this.cleaning=!0,this.setState({pinValue:e.substr(0,e.length-1)},this.clearPinWithAnimation)):this.cleaning=!1}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.breakpoints.largeEnough,a=e.pinSetting,r=e.onClickBackButton,o=this.state,i=o.attempt,l=o.pinValue,s=o.success,u=o.authMethod,d=a.data,m=c.a.createElement(c.a.Fragment,null,n?c.a.createElement(pt.default,{icon:s?mn:"lock",size:"48px",className:"u-mb-half"}):null,c.a.createElement("h2",{className:"u-mv-half"},this.props.message||t("Pin.please-enter-your-pin")),d&&d.fingerprint?c.a.createElement(En,{onSuccess:this.handleBiometricSuccess,onError:this.handleBiometricError,onCancel:this.handleBiometricCancel}):null),f=yn[u]&&yn[u].successClassName;return c.a.createElement(Gt,{className:Se()(s&&f)},r?c.a.createElement(bn,{onClick:r}):null,c.a.createElement(rn,{leftButton:void 0!==this.props.leftButton?this.props.leftButton:c.a.createElement(Kt,{isText:!0,onClick:this.handleLogout},t("Pin.logout")),topMessage:m,bottomMessage:c.a.createElement(hn,{max:this.props.maxAttempt,current:i}),shake:i,value:l,onChange:this.handleEnteredPin}))}}]),t}(c.a.Component);st()(Cn,"propTypes",{onSuccess:V.a.func.isRequired}),st()(Cn,"defaultProps",{maxAttempt:5,maxLength:6});var kn=ge()(Object(St.a)({largeEnough:[375]}),f.withClient,Object(i.connect)(),Object(d.translate)())(Cn),_n=Object(f.queryConnect)({pinSetting:un})(kn),wn=n("9qU6"),On=function(e){return Boolean(e&&e.pin)},xn=function(e){function t(e){var n;return Y()(this,t),(n=tt()(this,at()(t).call(this,e))).state=n.getInitialState(),n.handleInteraction=n.handleInteraction.bind(ot()(n)),n.handlePinSuccess=n.handlePinSuccess.bind(ot()(n)),n.handleResume=n.handleResume.bind(ot()(n)),n}return it()(t,e),W()(t,[{key:"getInitialState",value:function(){return{last:wn.b.load()||Date.now(),showPin:!0,cachedPinSetting:wn.c.load(),hasBeenShownOnce:!1}}},{key:"componentDidMount",value:function(){document.addEventListener("touchstart",this.handleInteraction),document.addEventListener("click",this.handleInteraction),document.addEventListener("resume",this.handleResume),document.addEventListener("visibilitychange",this.handleResume),this.restartTimeout()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("touchstart",this.handleInteraction),document.removeEventListener("click",this.handleInteraction),document.removeEventListener("resume",this.handleResume),document.removeEventListener("visibilitychange",this.handleResume),this.stopTimeout()}},{key:"checkToUpdateLocalPinDoc",value:function(e){var t=this.props.pinSetting;t.data!==e.data&&(wn.c.save(t.data),this.restartTimeout(),!On(e.data)&&On(t.data)&&this.markInteraction())}},{key:"componentDidUpdate",value:function(e){this.checkToUpdateLocalPinDoc(e.pinSetting)}},{key:"isTooLate",value:function(e){return Date.now()-this.props.timeout>e}},{key:"checkToShowPin",value:function(){var e=Date.now();this.isTooLate(e)&&this.showPin()}},{key:"handleResume",value:function(){this.checkToShowPin(),this.reloadSetting()}},{key:"reloadSetting",value:function(){this.props.pinSetting.fetch()}},{key:"showPin",value:function(){this.setState({showPin:!0})}},{key:"hidePin",value:function(){var e=this;this.setState({showPin:!1,hasBeenShownOnce:!0},function(){e.handleInteraction()})}},{key:"markInteraction",value:function(){var e=Date.now();this.setState({last:e}),wn.b.save(e)}},{key:"handleInteraction",value:function(){this.state.showPin||(this.markInteraction(),this.restartTimeout())}},{key:"startTimeout",value:function(){var e=this;this.timeout=setTimeout(function(){e.showPin()},this.props.timeout)}},{key:"stopTimeout",value:function(){clearTimeout(this.timeout)}},{key:"restartTimeout",value:function(){this.stopTimeout(),this.startTimeout()}},{key:"handlePinSuccess",value:function(){this.restartTimeout(),this.hidePin()}},{key:"render",value:function(){var e=this.props,t=e.pinSetting,n=e.children,a=e.showTimeout,r=e.timeout,o=this.state,i=o.cachedPinSetting,l=o.showPin,s=o.hasBeenShownOnce,u=o.last,d=Object(f.isQueryLoading)(t)?i:t.data;return d&&d.pin?c.a.createElement(c.a.Fragment,null,s?n:null,l?c.a.createElement(_n,{onSuccess:this.handlePinSuccess}):null,a?c.a.createElement(wt,{start:u,duration:r}):null):n}}]),t}(c.a.Component);st()(xn,"defaultProps",{timeout:3e4});Object(f.queryConnect)({pinSetting:un})(xn);var Sn=function(){return function(e){return e}},jn=n("eF/w"),Tn=n("GoJ1"),An=new Ae.a({id:"icon-broken_89ece596f98cf4aa0cdaa622ec29c28b",use:"icon-broken_89ece596f98cf4aa0cdaa622ec29c28b-usage",viewBox:"0 0 64 64",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 64 64" id="icon-broken_89ece596f98cf4aa0cdaa622ec29c28b">\n  <defs>\n    <polygon id="icon-broken_89ece596f98cf4aa0cdaa622ec29c28b_a" points="0 .003 64 .003 64 26.8 0 26.8" />\n    <polygon id="icon-broken_89ece596f98cf4aa0cdaa622ec29c28b_c" points="0 0 64 0 64 26.795 0 26.795" />\n  </defs>\n  <g fill="none" fill-rule="evenodd" transform="translate(0 10)">\n    <g transform="translate(0 17.2)">\n      <mask id="icon-broken_89ece596f98cf4aa0cdaa622ec29c28b_b" fill="white">\n        <use xlink:href="#icon-broken_89ece596f98cf4aa0cdaa622ec29c28b_a" />\n      </mask>\n      <path fill="#FFB3B3" d="M47.84 14L16.04 0 0 7.78v15.04a4 4 0 0 0 4 3.98h56c2.22 0 4-1.78 4-3.98V6.1L47.84 14z" mask="url(#icon-broken_89ece596f98cf4aa0cdaa622ec29c28b_b)" />\n    </g>\n    <mask id="icon-broken_89ece596f98cf4aa0cdaa622ec29c28b_d" fill="white">\n      <use xlink:href="#icon-broken_89ece596f98cf4aa0cdaa622ec29c28b_c" />\n    </mask>\n    <path fill="#FFB3B3" d="M15.96 12.8l31.8 14L64 18.86V3.98A4 4 0 0 0 60 0H4C1.78 0 0 1.78 0 3.98v16.56l15.96-7.74z" mask="url(#icon-broken_89ece596f98cf4aa0cdaa622ec29c28b_d)" />\n    <polygon fill="#FFF2F2" points="15.96 12.797 47.756 26.795 60 20.812 60 4 4 4 4 18.596" />\n    <polygon fill="#FFF2F2" points="47.844 31.205 16.04 17.203 4 23.041 4 40 60 40 60 25.264" />\n    <path fill="#FFB3B3" d="M49.47 25.96L53.45 24a4 4 0 1 0-3.98 1.94m-7.7-1.8A10.01 10.01 0 0 0 32 12a9.99 9.99 0 0 0-8.18 4.26l17.94 7.9zM14.37 18l-3.73 1.8A3.98 3.98 0 0 0 14 26a4 4 0 0 0 .38-8m7.84 1.92a10 10 0 0 0 17.92 7.89l-17.92-7.89z" />\n  </g>\n</symbol>'}),Nn=(Me.a.add(An),An),Mn=n("7IUd"),In=n.n(Mn),Bn=function(e){var t=e.className,n=Yt()(e,["className"]);return c.a.createElement("div",I()({className:Se()(In.a.Padded,t)},n))};Bn.propTypes={children:V.a.node.isRequired,className:V.a.string};var Fn=c.a.memo(function(e){var t,n=e.horizontal,a=e.vertical,r=e.className,o=Yt()(e,["horizontal","vertical","className"]),i=void 0===n&&void 0===a;return c.a.createElement("div",I()({className:Se()((t={},st()(t,In.a["Unpadded--horizontal"],n||i),st()(t,In.a["Unpadded--vertical"],a||i),t),r)},o))}),Ln=c.a.memo(Bn);Ln.Unpadded=Fn;var Rn=Ln,Dn=n("c8ah"),Pn=n("K4CQ"),zn=n.n(Pn),qn=c.a.memo(function(e){var t=e.faqURL,n=e.emptyIcon,a=Object(d.useI18n)(),r=a.t,o=a.lang,i=Object(h.b)().isMobile,l=t||"https://cozy.io/".concat("fr"===o?"fr":"en","/support/"),s=i?"u-pos-fixed u-bottom-xxl u-left-0 u-right-0 u-stack-s u-mr-1-half u-ml-1 u-mb-2":"u-stack-s ".concat(zn.a["Error--buttons"]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Rn,{className:"u-flex u-flex-column u-flex-items-center u-mt-3"},c.a.createElement(Tn.a,{layout:!1,icon:n,className:"u-p-0",title:r("Error.title"),text:c.a.createElement(Dn.default,{component:"span",variant:"body1",className:"u-mt-1 u-ta-center"},r("Error.retry"))})),c.a.createElement("div",{className:s},c.a.createElement(ht.a,{className:"u-w-100",onClick:function(){return window.location.reload(!0)},theme:"primary",label:r("Error.reload-page")}),c.a.createElement(ht.b,{className:"u-w-100",href:l,target:"_blank",theme:"secondary",label:r("Error.consult-faq"),"data-testid":"consult-button"})))});qn.displayName="Error",qn.propTypes={emptyIcon:V.a.object},qn.defaultProps={emptyIcon:Nn};var Gn=qn,Hn=function(e){function t(e){var n;return Y()(this,t),(n=tt()(this,at()(t).call(this,e))).state={hasError:!1},n}return it()(t,e),W()(t,[{key:"componentDidCatch",value:function(e,t){Object(jn.c)({error:e,info:t})}},{key:"componentDidUpdate",value:function(e){var t=e.location.pathname,n=this.props.location.pathname;this.state.hasError&&t!==n&&this.setState({hasError:!1})}},{key:"render",value:function(){return this.state.hasError?c.a.createElement(Gn,null):this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),t}(c.a.Component),Vn=function(e){var t=e.children,n=Yt()(e,["children"]),a=Object(he.z)();return c.a.createElement(Hn,I()({location:a},n),t)},Un=n("X4HY"),Yn=n.n(Un),Qn=(n("w+SE"),Yn()(c.a)),Wn=n("yFc8"),Kn=function(e,t){return function(n){var a=n.children,r=Object(h.b)().isMobile;return c.a.createElement(e,null,c.a.createElement(Wn.default,{className:Se()("u-flex u-flex-items-center",t),variant:r?"inverted":"normal"},a))}},Jn=Kn(Dt.a.BarCenter,"u-ellipsis"),Zn=Kn(Dt.a.BarRight),Xn=Kn(Dt.a.BarLeft),$n=Kn(Dt.a.BarSearch,"u-flex-grow"),ea=n("lEaz"),ta=n("zA8p"),na=n("ixex"),aa=n.n(na),ra=n("BHCG"),oa=n("Kcqv"),ca=function(e){var t=e.onClick,n=e.children,a=e.className;return c.a.createElement("span",{className:Se()(aa.a.Icon,a),onClick:t},n)},ia=function(e){var t=e.onChange,n=e.onClick,a=e.placeholder,r=e.value,i=e.defaultValue,l=e.autofocus,s=e.onReset,u=Object(o.useRef)(),d=Object(o.useCallback)(function(){s&&s(u.current)},[s]);return c.a.createElement("div",{onClick:n,className:aa.a.InputWrapper},c.a.createElement(ca,{className:aa.a.SearchIcon},c.a.createElement(ea.a,{className:"u-ml-half",size:"medium"},c.a.createElement(pt.default,{icon:ra.a}))),c.a.createElement(ta.a,{fullwidth:!0,ref:u,type:"text",onChange:t,placeholder:a,value:r,defaultValue:void 0===r&&i?i:void 0,autoFocus:l}),c.a.createElement(ca,{onClick:d,className:aa.a.ResetIcon},c.a.createElement(pt.default,{icon:oa.a})))};ia.defaultProps={defaultValue:""};var la=ia,sa=function(){var e=Object(h.b)().isMobile,t=Object(d.useI18n)().t,n=Object(he.C)(),a=Object(he.z)(),r=Object(o.useCallback)(function(){n("/search")},[n]);return e||"/search"===a.pathname?null:c.a.createElement($n,null,c.a.createElement(la,{placeholder:t("Search.input-placeholder"),onClick:r}))},ua=function(){var e=Object(o.useState)(!1),t=R()(e,2),n=t[0],a=t[1];return Object(o.useEffect)(function(){var e=function(){return a(!0)},t=function(){return a(!1)};return window.Keyboard&&"undefined"!=typeof cordova&&(window.addEventListener("keyboardDidShow",e),window.addEventListener("keyboardDidHide",t)),function(){window.removeEventListener("keyboardDidShow",e),window.removeEventListener("keyboardDidHide",t)}},[a]),n},da=n("N9UO"),ma=function(){var e=oe()(ae.a.mark(function e(t,n){var a,r,o,c;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.collection("io.cozy.jobs"),e.next=3,a.create("service",{name:n,slug:y()("banking.banking-app-slug")||"banks"});case 3:return r=e.sent,o=r.data,e.next=7,a.waitFor(o.id);case 7:return"errored"===(c=e.sent).state?ke.a.error("Job finished with error. Error is ".concat(c.error)):"done"===c.state?ke.a.success("Job finished successfully"):ke.a.error("Job finished with state ".concat(c.state)),e.abrupt("return",c);case 10:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),fa=function(e){var t=e.name,n=e.client,a=Object(o.useState)(!1),r=R()(a,2),i=r[0],l=r[1],s=function(){var e=oe()(ae.a.mark(function e(){return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,ma(n,t);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),ke.a.error("Something wrong happened, see console.");case 10:return e.prev=10,l(!1),e.finish(10);case 13:case"end":return e.stop()}},e,null,[[0,6,10,13]])}));return function(){return e.apply(this,arguments)}}();return c.a.createElement(ht.c,{busy:i,label:"Run ".concat(t," service"),onClick:function(){return s(t)}})},pa=function(){var e=Object(f.useClient)();return c.a.createElement(Ee.PanelContent,null,c.a.createElement(Dn.default,{variant:"subtitle1",gutterBottom:!0},"Services"),c.a.createElement(fa,{client:e,name:"autogroups"}),c.a.createElement(fa,{client:e,name:"categorization"}),c.a.createElement(fa,{client:e,name:"onOperationOrBillCreate"}),c.a.createElement(fa,{client:e,name:"budgetAlerts"}))},ha=n("7Zrf"),ba=function(e){var t=e.client,n=Object(ha.c)(t);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Dn.default,{variant:"h5"},"Device token"),c.a.createElement("p",null,n||"⚠️ Cannot receive notifications"))},ga=function(){var e=oe()(ae.a.mark(function e(t,n,a){var r;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n,e.prev=1,"/balances/details"===r&&a&&(r="/balances/".concat(a,"/details")),e.next=5,t.stackClient.fetchJSON("POST","/notifications",{data:{type:"io.cozy.notifications",attributes:{category:"transaction-greater",title:"Test notification",message:"It should redirect to ".concat(r),preferred_channels:["mobile","mail"],content:"This is a test notification text content",content_html:"This is a test notification HTML content",data:{route:r}}}});case 5:ke.a.success("Notification sent"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),ke.a.error("Failed to send notification: "+e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t,n,a){return e.apply(this,arguments)}}(),va=function(){var e=Object(f.useClient)(),t=Object(f.useQuery)(D.n.query,D.n),n=Object(o.useState)("/balances/details"),a=R()(n,2),r=a[0],i=a[1],l=Object(o.useState)(null),s=R()(l,2),u=s[0],d=s[1];return c.a.createElement(Ee.PanelContent,null,c.a.createElement(Dn.default,{variant:"subtitle1",gutterBottom:!0},"Notifications"),Object(Qt.isMobileApp)()&&c.a.createElement(ba,{client:e}),c.a.createElement("div",null,"Route :"," ",c.a.createElement("select",{value:r,onChange:function(e){return i(e.target.value)}},c.a.createElement("option",{value:"/balances/details"},"transactions"),c.a.createElement("option",{value:"/balances"},"balance"),c.a.createElement("option",{value:"/analysis/categories"},"categories"),c.a.createElement("option",{value:"/analysis/recurrence"},"recurrence"),c.a.createElement("option",{value:"/settings/accounts"},"konnector alerts"))),"/balances/details"===r&&c.a.createElement("div",{className:"u-mt-half"},"Sur le compte :"," ",c.a.createElement("select",{value:u,onChange:function(e){return d(e.target.value)}},c.a.createElement("option",{value:""},"-"),t.data&&t.data.map(function(e){return c.a.createElement("option",{key:e._id,value:e._id},e.label)}))),c.a.createElement(ht.c,{className:"u-mt-1",label:"Send notification",onClick:function(){return ga(e,r,u)}}))},ya=function(){return c.a.createElement(Ee.PanelContent,null,c.a.createElement(Dn.default,{variant:"subtitle1",gutterBottom:!0},"pin"),"Setting doc cache",c.a.createElement("br",null),c.a.createElement("pre",null,JSON.stringify(wn.c.load(),null,2)),"Last interaction cache",c.a.createElement("br",null),c.a.createElement("pre",null,JSON.stringify(wn.b.load(),null,2)))},Ea=function(){var e=Object(f.useClient)();return c.a.createElement(Ee.PanelContent,null,c.a.createElement(Dn.default,{variant:"subtitle1",gutterBottom:!0},"Client info"),c.a.createElement(Dn.default,{variant:"h5"},"URI"),c.a.createElement("p",null,e.stackClient.uri),e.stackClient.oauthOptions?c.a.createElement(c.a.Fragment,null,c.a.createElement(Dn.default,{variant:"h5"},"OAuth document id"),c.a.createElement("p",null,e.stackClient.oauthOptions.clientID)):null)},Ca=n("m0K1"),ka=function(){var e=!!y()("balance.no-account"),t=!!y()("banks.balance.account-loading");return c.a.createElement(Ee.PanelContent,null,c.a.createElement(Dn.default,{variant:"subtitle1",gutterBottom:!0},"Misc"),c.a.createElement(Ca.a,{defaultChecked:e,label:"Display no account page",onClick:function(){var e=!y()("balance.no-account");y()("balance.no-account",e),e&&y()("banks.balance.account-loading",!1)}}),c.a.createElement(Ca.a,{defaultChecked:t,label:"Display accounts loading",onClick:function(){var e=!y()("banks.balance.account-loading");y()("banks.balance.account-loading",e),e&&y()("balance.no-account",!1)}}))},_a=function(){return c.a.createElement(Ee.PanelContent,null,c.a.createElement(Dn.default,{variant:"subtitle1",gutterBottom:!0},"Hidden pages"),c.a.createElement("a",{href:"#/recurrencedebug"},"Recurrence debug"),c.a.createElement("br",null),c.a.createElement("a",{href:"#/transfers"},"Transfers"),c.a.createElement("br",null),c.a.createElement("a",{href:"#/search"},"Search"))},wa=n("lGSM"),Oa=[{id:"services",Component:pa},{id:"notifications",Component:va},{id:"pin",Component:ya},{id:"client",Component:Ea},{id:"misc",Component:ka},{id:"hidden pages",Component:_a},{id:"pouch",Component:n.n(wa).a}],xa=n("d6uY"),Sa=n.n(xa),ja=function(e){var t=e.children;return ua()?null:c.a.createElement(we.a,null,t)},Ta=function(e){var t=e.showBottomNav,n=e.settingsCollection,a=Object(d.useI18n)().t,r=Object(f.useClient)(),i=Object(Et.c)(n),s=Object(l.useWebviewIntent)(),u=Object(Oe.a)();Object(o.useEffect)(function(){s&&u&&s.call("setFlagshipUI",{topBackground:u.palette.primary.main,topTheme:"light"})},[u,s]);var m=function(){ke.a.info(a("Error.fetch-error"),{buttonText:a("General.reload"),buttonAction:function(){return window.location.reload()}})},p=Object(o.useMemo)(function(){return ye()(m,3e4,{trailing:!1})},[]);return Object(o.useEffect)(function(){r.setOnError(function(e){Object(da.b)()||"Failed to fetch"!==e.message||p()})},[]),Object(o.useEffect)(function(){y()("local-model-override",i.community.localModelOverride.enabled)},[i.community.localModelOverride.enabled]),c.a.createElement($e,null,c.a.createElement(sa,null),c.a.createElement(_e.b,null,t&&c.a.createElement(ja,null,c.a.createElement(Ze,null)),c.a.createElement(_e.c,null,c.a.createElement(_e.a,{className:Sa.a.Main},c.a.createElement(Vn,null,c.a.createElement(he.d,null)))),c.a.createElement(Qn,null),c.a.createElement(dt,null),c.a.createElement(ke.a,null)),y()("debug")?c.a.createElement(Ce.a,{panels:Oa}):null)};Ta.defaultProps={showBottomNav:!0};var Aa=ge()(Sn({timeout:y()("pin.debug")?1e4:void 0,showTimeout:y()("pin.debug")}),Object(f.queryConnect)({settingsCollection:D.A}))(Ta),Na=n("ijCd"),Ma=n.n(Na),Ia=n("FyPc"),Ba=n.n(Ia),Fa=n("MJIl"),La=n.n(Fa),Ra=n("xweI"),Da=n.n(Ra),Pa=n("V2U0"),za=n("GB3/"),qa=n.n(za),Ga=function(e){var t=e.color,n=e.loadingType,a=e.noMargin,r=e.spinnerSize,o=Object(d.useI18n)().t;return c.a.createElement("div",{className:qa.a["bnk-loading"]},c.a.createElement(Pa.a,{size:r,noMargin:a,color:t}),n&&c.a.createElement("p",null,o("Loading.loading")))};Ga.defaultProps={spinnerSize:"xxlarge"};var Ha=Ga,Va=Ha,Ua=function(e){var t=e.fallback,n=e.children;return function(e){var t=Object(o.useState)(0===e),n=R()(t,2),a=n[0],r=n[1];return Object(o.useEffect)(function(){var t=0===e?null:setTimeout(function(){r(!0)},e);return function(){clearTimeout(t)}},[]),a}(e.delay)?n:t};Ua.defaultProps={fallback:null},Ua.propTypes={fallback:V.a.element};var Ya=Ua,Qa=n("nDne"),Wa=n("x2ws"),Ka=n("4UjE"),Ja=n("MVZn"),Za=n.n(Ja),Xa=n("UfWW"),$a=n.n(Xa),er=n("mVx/"),tr=n.n(er),nr=n("J2m7"),ar=n.n(nr),rr=n("qPyV"),or=n.n(rr),cr=n("yNUO"),ir=n.n(cr),lr=n("cPJV"),sr=n.n(lr),ur=n("tNlo"),dr=n("QaI8"),mr=n("86fo"),fr=n.n(mr),pr=n("lchd"),hr=n("xjMU"),br=n("iskF"),gr=n.n(br),vr=n("7jrE"),yr=n.n(vr),Er=function(e,t){return t?function(){return Za()({},e.apply(this,arguments),t.apply(this,arguments))}:e},Cr=function(){for(var e={},t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];for(var r=0,o=n;r<o.length;r++){var c=o[r];if(c)for(var i=0,l=Object.entries(c);i<l.length;i++){var s=R()(l[i],2),u=s[0],d=s[1];e[u]?e[u]=Er(e[u],d):e[u]=d}}return e},kr=n("oCl1"),_r={paddingLeft:"0.25rem"},wr={DropdownIndicator:function(){return c.a.createElement(pt.default,{className:gr.a.Select__Icon,style:_r,icon:kr.a,width:12,height:12})},IndicatorSeparator:function(){return null}},Or=function(e){return Za()({},e,{color:yr.a.slateGrey})},xr=function(e){return Za()({},e,{paddingLeft:0})},Sr=function(e){return Za()({},e,{minWidth:"9.375rem"})},jr=function(e){return e.fixed},Tr=function(e){function t(e){var n;return Y()(this,t),(n=tt()(this,at()(t).call(this,e))).updateComponent(e),n.updateControlStyle(e),n}return it()(t,e),W()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.options!==e.options&&this.updateComponent(e),this.props.width!==e.width&&this.updateControlStyle(e)}},{key:"updateControlStyle",value:function(e){this.controlStyle=function(e){return function(t){return Za()({},t,{border:0,background:"transparent",width:e.width||"10rem",boxShadow:"none","&:focus":{border:0,boxShadow:"none"},flexGrow:1})}}(e)}},{key:"updateComponent",value:function(e){this.Component=ar()(e.options,jr)?pr.a:hr.a}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.value,a=e.options,r=e.onChange,o=e.styles,i=void 0===o?{}:o,l=e.placeholder,s=this.Component;return c.a.createElement(s,{value:n?ar()(a,function(e){return e.value==n}):a[0],isSearchable:!1,getOptionLabel:function(e){return e.name},components:wr,classNamePrefix:"needsclick cz",formatOptionLabel:function(e){return c.a.createElement("span",{className:"needsclick"},e.name)},styles:Cr({singleValue:Or,control:this.controlStyle,valueContainer:xr,menu:Sr},i),name:t,placeholder:l,onChange:function(e){r(e.value,a.indexOf(e.value),t)},options:a})}}]),t}(c.a.Component),Ar=n("lCuP"),Nr=n.n(Ar),Mr=n("ZmXw"),Ir=n.n(Mr),Br=n("/Tkk"),Fr=n.n(Br),Lr=function(e){return e.value},Rr=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Dr=function(e){function t(){return Y()(this,t),tt()(this,at()(t).apply(this,arguments))}return it()(t,e),W()(t,[{key:"render",value:function(){return c.a.createElement(ur.a.Separator,{className:fr.a.SelectDates__separator})}}]),t}(o.PureComponent),Pr=function(e,t,n){return Math.min(Math.max(e,t),n)},zr=function(e){return Za()({},e,{flexGrow:1,flexBasis:"5.5rem",flexShrink:0,padding:0})},qr=function(e){return Za()({},e,{flexGrow:3,padding:0})},Gr=function(){return{paddingLeft:"0.875rem"}},Hr=function(e){return Za()({},e,{marginLeft:"0.5rem",marginRight:"0.5rem",width:"90%",minWidth:"auto"})},Vr=function(){return{color:"var(--primaryColor)"}},Ur=function(e,t,n){var a=e?{container:"Month"===n?qr:zr,control:Gr,menu:Hr}:{},r=t?{control:function(){return{paddingLeft:"0.875rem",minHeight:"2rem"}},indicatorsContainer:function(e){return Za()({},e,{height:"2rem"})},valueContainer:function(e){return Za()({},e,{padding:"inherit"})},singleValue:Vr,placeholder:Vr}:{};return Za()({},a,r)},Yr=function(e){function t(){return Y()(this,t),tt()(this,at()(t).apply(this,arguments))}return it()(t,e),W()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.disabled,a=e.className,r=Yt()(e,["children","disabled","className"]);return c.a.createElement(ur.a.Round,I()({},r,{"aria-disabled":n,onClick:n?null:r.onClick,className:Se()(fr.a.SelectDates__Button,fr.a.SelectDates__chip,a,st()({},fr.a["SelectDates__Button--disabled"],n))}),t)}}]),t}(o.PureComponent),Qr=function(e){return e&&4===e.length},Wr=function(e){return e&&(Qr(e)||e.includes("allyear"))},Kr=function(e){return e&&!e.isDisabled},Jr=function(e,t){return!function(e,t,n,a){var r=Math.max(n,0),o=Math.min(a,e.length),c=r>o?-1:1;if(!e||0===e.length)return!1;for(var i=r;i!==o;i+=c)if(t(e[i]))return!0;return!1}(e,Kr,t,-1)},Zr=function(e){function t(){var e,n;Y()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=tt()(this,(e=at()(t)).call.apply(e,[this].concat(r))),st()(ot()(n),"getSelectedIndex",function(){var e=n.props,t=e.options,a=e.value;return $a()(t,function(e){return e.yearMonth===a})}),st()(ot()(n),"getOptions",function(){var e=n.props,t=e.f;return e.options.map(function(e){var n=ir()(e.yearMonth,"YYYY-MM"),a=sr()(n,"YYYY");return{value:e.yearMonth,year:a,disabled:e.disabled,month:sr()(n,"MM"),yearF:a,monthF:Rr(t(n,"MMMM"))}})}),st()(ot()(n),"handleChooseNext",function(){n.chooseOption(-1)}),st()(ot()(n),"handleChoosePrev",function(){n.chooseOption(1)}),st()(ot()(n),"handleChangeMonth",function(e){var t=n.getSelected();n.onChangeYearMonth(t.year,e)}),st()(ot()(n),"handleChangeYear",function(e){var t=n.getSelected();n.onChangeYearMonth(e,t.month)}),st()(ot()(n),"onChangeYearMonth",function(e,t){t?n.handleChangeSelector(e+"-"+t):n.handleChangeSelector(e)}),st()(ot()(n),"onChange",function(e){var t=e,a=Wr(t),r=n.getSelected(),o=n.getOptions(),c=ar()(o,function(e){return Lr(e)===t});if(!a&&!c){var i=function(e){return e.value<t},l=function(e){return e.value>t},s=function(e){return e?ar()(o,i):tr()(o,l)},u=t<r.value,d=s(u);d||(d=s(!u)),d&&(t=d.value)}a&&(t=t.substr(0,4)),t&&n.props.value!==t&&n.props.onChange(t)}),st()(ot()(n),"chooseOption",function(e){var t=Math.max(0,n.getSelectedIndex()),a=n.getOptions(),r=n.props.value;if(Qr(r)){var o=n.getAvailableYears(),c=o.indexOf(r),i=Pr(c+e,0,o.length-1);n.props.onChange(o[i])}else{var l=t+e;if(l>-1&&t<a.length){var s=a[l].value;n.props.onChange(s)}}}),st()(ot()(n),"handleChangeSelector",function(e){n.onChange(e)}),n}return it()(t,e),W()(t,[{key:"getSelected",value:function(){var e=this.getSelectedIndex(),t=this.getOptions(),n=t[e];return n||(this.props.value?{year:this.props.value,month:"allyear"}:t[0])}},{key:"componentDidUpdate",value:function(e){this.props.options!==e.options&&this.props.value&&this.onChange(this.props.value)}},{key:"getAvailableYears",value:function(){var e=this.getOptions();return or()(e.map(function(e){return e.year}))}},{key:"render",value:function(){var e=this.props,t=e.showFullYear,n=e.value,a=e.t,r=e.breakpoints.isMobile,o=e.className,i=e.theme,l=this.getSelectedIndex(),s=this.getOptions(),u=this.getSelected(),d=or()(s,function(e){return e.year}),m=u&&u.year,f=u&&u.month,p=s.map(function(e){return{value:e.month,name:e.monthF,isDisabled:e.disabled,year:e.year}}),h=p.filter(function(e){return!m||e.year===m});t&&h.push({value:"allyear",name:a("SelectDates.all-year"),fixed:!0});var b,g,v=Qr(n);v&&(g=(b=this.getAvailableYears()).indexOf(n));var y=v?g===b.length-1:l===s.length-1,E=v?0===g:0===l||Jr(p,l-1),C=Ur(r,"inverted"===i,"Month"),k=Ur(r,"inverted"===i,"Year");return c.a.createElement("div",{className:Se()(fr.a.SelectDates,fr.a["SelectDatesColor_".concat(i)],o)},c.a.createElement("span",{className:fr.a.SelectDates__DateYearSelector},c.a.createElement(ur.a,{className:Se()(fr.a.SelectDates__chip)},c.a.createElement("div",{className:fr.a.SelectDates__SelectYearContainer},c.a.createElement(Tr,{name:"year",placeholder:a("SelectDates.year"),className:fr.a.SelectDates__SelectYear,searchable:!1,width:r?"auto":"6rem",value:m,options:d.map(function(e){return{value:e.year,name:e.yearF}}),onChange:this.handleChangeYear,styles:k})),c.a.createElement(Dr,null),c.a.createElement("div",{className:fr.a.SelectDates__SelectMonthContainer},c.a.createElement(Tr,{searchable:!1,name:"month",placeholder:a("SelectDates.month"),width:r?"auto":"10rem",className:fr.a.SelectDates__SelectMonth,value:f,options:h,onChange:this.handleChangeMonth,styles:C})))),c.a.createElement("span",{className:fr.a.SelectDates__buttons},r&&"primary"!==i&&c.a.createElement(Dr,null),c.a.createElement(Yr,{"aria-label":a("SelectDates.previous-month"),onClick:this.handleChoosePrev,disabled:y,className:Se()(fr.a["SelectDates__Button--prev"],st()({},fr.a.SelectDatesButtonDisabled,y))},c.a.createElement(pt.default,{icon:Tt.a,className:fr.a.SelectDatesButtonColor})),c.a.createElement(Yr,{"aria-label":a("SelectDates.next-month"),onClick:this.handleChooseNext,disabled:E,className:Se()(fr.a["SelectDates__Button--next"],st()({},fr.a.SelectDatesButtonDisabled,E))},c.a.createElement(pt.default,{icon:dr.default,className:fr.a.SelectDatesButtonColor}))))}}]),t}(o.PureComponent);Zr.defaultProps={options:[]},Zr.propTypes={options:V.a.arrayOf(V.a.shape({yearMonth:V.a.string,disabled:V.a.bool})),onChange:V.a.func.isRequired};var Xr=ge()(Object(d.translate)(),Object(St.a)(),function(e){return function(t){var n=Object(Wn.useCozyTheme)();return c.a.createElement(e,I()({},t,{theme:n}))}})(Zr),$r=Object(i.connect)(function(e){return{value:Object(Qa.m)(e)}},function(e){return{onChange:function(t){e(Object(Qa.a)(t))}}})(Xr),eo=(n("RBan"),n("7tbW")),to=n.n(eo),no=n("pDEI"),ao=n.n(no),ro=n("sunR"),oo=n.n(ro),co=n("Ev1t"),io=n.n(co),lo=n("1vin"),so=n.n(lo),uo=n("pLeS"),mo=n.n(uo),fo=n("2XXS"),po=n.n(fo),ho=n("QkVN"),bo=n.n(ho),go=n("YaAl"),vo=function(e){var t=e.filteringDoc,n=e.groups,a=e.accounts,r=e.dateAttribute,o=void 0===r?"date":r,c=!0;n.lastUpdate&&a.lastUpdate||(c=!1);var i,l=["account",o],s=[{account:"desc"},st()({},o,"desc")];if(c)if(t)if(t._type===D.d){var u=function(e,t){var n;if(e.virtual){var a;n=(null===(a=e.accounts)||void 0===a?void 0:a.raw)||[]}else{var r,o=t.data.find(function(t){return t._id===e._id});n=(null==o?void 0:null===(r=o.accounts)||void 0===r?void 0:r.raw)||[]}return n}(t,n);l=[o,"account"],i={account:{$in:u}},s=[st()({},o,"desc"),{account:"desc"}]}else if(t._type===D.a)i={account:t._id};else{if(!Array.isArray(t))throw new Error("Unsupported filtering doc to create transaction query");i={account:{$in:t}}}else l=[o],i={_id:{$gt:null}},s=[st()({},o,"desc")];return{query:function(){return D.C.query().where(i).indexFields(l).sortBy(s).limitBy(100)},fetchPolicy:D.C.fetchPolicy,as:"transactions-by-".concat(o,"-").concat(t?t._id:"all"),enabled:c}},yo=function(e){var t,n,a=Object.keys(e.selector);a.includes("account")?(t=a).push("date"):(n=t=["date"]).push.apply(n,F()(a));var r=[],o=[];t.map(function(e){r.push(st()({},e,"desc")),o.push(st()({},e,"asc"))});var c=Object(f.Q)("io.cozy.bank.operations").limitBy(1).where(Za()({},e.selector,{date:{$gt:null}})).indexFields(t).sortBy(r);return[Object(f.Q)("io.cozy.bank.operations").limitBy(1).where(Za()({},e.selector,{date:{$gt:null}})).indexFields(t).sortBy(o),c]},Eo=function(e){var t=e.baseConn,n=e.period,a=e.dateAttribute,r=void 0===a?"date":a,o=t.query,c=t.as,i=Yt()(t,["query","as"]),l=new Date(n),s=7===n.length?Nr()(l):mo()(l),u=7===n.length?so()(l):po()(l),d=r===go.a?"YYYY-MM-DD":"YYYY-MM-DD[T]HH:mm",m=o(),p=Object(f.Q)(m.doctype).where(bo()(st()({},r,{$lte:sr()(u,d),$gte:sr()(s,d)}),m.selector)).indexFields(m.indexedFields||["account",r]).sortBy(m.sort||[{account:"desc"},st()({},r,"desc")]).limitBy(500),h="".concat(c,"-by-").concat(r,"-").concat(sr()(s,"YYYY-MM"),"-").concat(sr()(u,"YYYY-MM"));return Za()({query:p,as:h},i)},Co=function(){var e=Object(o.useRef)();return Object(o.useEffect)(function(){return e.current=!0,function(){e.current=!1}},[]),e},ko=function(e){var t=Co(),n=Object(o.useState)(e),a=R()(n,2),r=a[0],c=a[1];return[r,Object(o.useCallback)(function(e){t.current&&c(e)},[])]},_o={update:!0,add:!1,remove:!1},wo=function(e){return Object(f.useQuery)(e.query,e)},Oo=function(){var e=Object(f.useClient)(),t=wo(D.n),n=wo(D.s),a=ko(!0),r=R()(a,2),c=r[0],l=r[1],s=Object(i.useSelector)(Qa.j),u=vo({filteringDoc:s,accounts:t,groups:n}),d=Object(o.useState)([]),m=R()(d,2),h=m[0],b=m[1];return Object(o.useEffect)(function(){var t,n=(t=oe()(ae.a.mark(function t(){var n,a,r,o,c,i,s,d,m;return ae.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.query(),a=yo(n),r=R()(a,2),o=r[0],c=r[1],l(!0),t.prev=3,t.next=6,Promise.all([o,c].map(function(){var t=oe()(ae.a.mark(function t(n,a){var r;return ae.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="".concat(u.as,"-").concat(0===a?"earliest":"latest"),t.next=3,e.query(n,{fetchPolicy:p.a.fetchPolicies.olderThan(3e4),as:r,autoUpdate:_o});case 3:return t.abrupt("return",e.getQueryFromState(r));case 4:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()));case 6:i=t.sent,s=R()(i,2),d=s[0],m=s[1],b([d.data[0],m.data[0]]),t.next=15;break;case 13:t.prev=13,t.t0=t.catch(3);case 15:return t.prev=15,l(!1),t.finish(15);case 18:case"end":return t.stop()}},t,null,[[3,13,15,18]])})),function(){return t.apply(this,arguments)});u.enabled&&n()},[u.enabled,u.as]),[h[0],h[1],c]},xo=function(e){return e.date.slice(0,7)},So=function(e){var t=e.onExtentLoad,n=Yt()(e,["onExtentLoad"]),a=Oo(),r=R()(a,3),i=r[0],l=r[1],s=r[2];Object(o.useEffect)(function(){!s&&t&&t(i&&l?[i,l].map(xo):[])},[i,l,s,t]);var u=Object(o.useMemo)(function(){if(!i||!l)return[];var e=i.date,t=l.date;return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=[],r=e;if(Fr()(e,t))return[e];for(;r<t;){a.push(r);var o=Nr()(r);r=Ir()(o,n)}return a}(new Date(e),new Date(t)).map(function(e){return{yearMonth:sr()(e,"YYYY-MM"),disabled:!1}}).reverse()},[i,l]);return c.a.createElement(Xr,I()({options:u},n))};So.propTypes={onExtentLoad:V.a.func};var jo=c.a.memo(So),To=n("JvX5"),Ao=n.n(To),No=n("UDbo");function Mo(e,t,n,a,r,o,c){e.save(),e.translate(n,a),o+=Math.PI/2,c+=Math.PI/2;var i=e.measureText(t);o+=(c-(i.width/r+o))/2,e.rotate(o);for(var l=0;l<t.length;l++){var s=t.charAt(l);i=e.measureText(s),e.save(),e.translate(0,-1*r),e.fillText(s,0,0),e.restore(),e.rotate(i.width/r)}e.restore()}var Io={afterDraw:function(e){if(e.options.pieceLabel){var t=e.chart.ctx,n=e.config.options,a=e.options.pieceLabel.arcText,r=e.options.pieceLabel.labelFormater,o=e.options.pieceLabel.precision||0,c=e.options.pieceLabel.fontSize||n.defaultFontSize,i=e.options.pieceLabel.fontColor||"#fff",l=e.options.pieceLabel.fontStyle||n.defaultFontStyle,s=e.options.pieceLabel.fontFamily||n.defaultFontFamily,u=e.tooltip._active&&e.tooltip._active.length;e.config.data.datasets.forEach(function(d){for(var m=d._meta[Object.keys(d._meta)[0]],f=0,p=0;p<m.data.length;p++){var h=m.data[p],b=h._view;u&&h.draw();var g=void 0,v=void 0,y=void 0;switch(e.options.pieceLabel.mode){case"value":v=d.data[p],r&&(v=r(v)),g=v.toString();break;case"label":g=e.config.data.labels[p];break;case"percentage":default:y=b.circumference/n.circumference*100,(f+=y=parseFloat(y.toFixed(o)))>100&&(y-=f-100,y=parseFloat(y.toFixed(o))),g=y+"%"}t.save(),t.beginPath(),t.font=Chart.helpers.fontString(c,l,s);var E=t.measureText(g),C=h.tooltipPosition(),k=C.x-E.width/2,_=C.x+E.width/2,w=C.y-c/2,O=C.y+c/2;h.inRange(k,w)&&h.inRange(k,O)&&h.inRange(_,w)&&h.inRange(_,O)&&(t.fillStyle=i,a?(t.textBaseline="middle",Mo(t,g,b.x,b.y,(b.innerRadius+b.outerRadius)/2,b.startAngle,b.endAngle)):(t.textBaseline="top",t.textAlign="center",t.fillText(g,C.x,C.y-c/2))),t.restore()}}),u&&e.tooltip.draw()}}};y()("analysis.no-animation")&&(No.c.global.animation=!1);var Bo=function(e){function t(){var e,n;Y()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=tt()(this,(e=at()(t)).call.apply(e,[this].concat(r))),st()(ot()(n),"state",{data:{labels:n.props.labels,datasets:[{data:n.props.data,backgroundColor:n.props.colors,borderWidth:0}]},options:{cutoutPercentage:74,legend:{display:!1},responsive:!1,maintainAspectRatio:!1,tooltips:{callbacks:{label:function(e,t){var n=t.labels[e.index];return"".concat(n)},afterLabel:function(e,t){var n=t.datasets[0].data[e.index];return"".concat(n," €")}},bodySpacing:4,xPadding:8}}}),st()(ot()(n),"click",function(e){var t=n.props.onClick;t&&(e.length>0?t(e[0]._index):t(void 0))}),n}return it()(t,e),W()(t,[{key:"UNSAFE_componentWillMount",value:function(){No.a.pluginService.register(Io)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({data:{labels:e.labels,datasets:[{data:e.data,backgroundColor:e.colors,borderWidth:0}]}})}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,a=this.state,r=a.data,o=a.options;return c.a.createElement("div",{className:Ao.a["bnk-chart"]},c.a.createElement(No.b,{data:r,options:o,onElementsClick:this.click,width:t,height:n}))}}]),t}(o.Component),Fo=n("1jk2"),Lo=n.n(Fo),Ro=n("qZb1"),Do={EUR:"€",USD:"$",GBP:"£"},Po=function(e){return"string"==typeof e?Do[e]||e:"object"==typeof e&&e&&(e.symbol||Do[e.id])||"€"},zo=function(e,t){if(void 0===t)return e.map(function(e){return e.color});var n=.7/e.length;return e.map(function(e,a){return r=t.color,o=1-n*a,c=r.substring(1),i=parseInt(c.substring(0,2),16),l=parseInt(c.substring(2,4),16),s=parseInt(c.substring(4,6),16),"rgba(".concat(i,", ").concat(l,", ").concat(s,", ").concat(o,")");var r,o,c,i,l,s})},qo=function(e){var t,n=e.categories,a=e.selectedCategory,r=e.width,i=e.height,l=e.total,s=e.currency,u=e.hasAccount,m=e.className,f=e.label,p=Object(d.useI18n)().t,h=Object(Wn.useCozyTheme)(),b=Object(o.useMemo)(function(){return function(e){return Da()(e,function(e){return Math.abs(e.amount)}).reverse()}(n)},[n]),g=Object(o.useMemo)(function(){return zo(b,a)},[a,b]),v=b.map(function(e){return p("Data.".concat(a?"subcategories":"categories",".").concat(e.name))}),y=b.map(function(e){return Math.abs(e.amount).toFixed(2)});return 0===n.length?null:c.a.createElement("div",{className:Se()(Lo.a.CategoriesChart,Lo.a[h],(t={},st()(t,Lo.a.NoAccount,!u),st()(t,m,m),t))},c.a.createElement(Wn.default,{variant:"normal"},c.a.createElement("div",{className:Lo.a.CategoriesChart__FigureBlockContainer},c.a.createElement(Ro.a,{label:f,total:l,symbol:Po(s),signed:!0,className:Lo.a.CategoriesChart__FigureBlock,figureClassName:Lo.a.CategoriesChart__Figure,withCurrencySpacing:!1}))),u&&c.a.createElement(Bo,{labels:v,data:y,colors:g,width:r,height:i}))},Go=n("J0QW"),Ho=n("zOsL"),Vo=n.n(Ho),Uo=function(e){return Boolean(e.subcategoryName)},Yo=n("+iqp"),Qo=c.a.memo(function(e){var t=e.withIncome,n=e.onToggle,a=Object(Wn.useCozyTheme)(),r=Object(d.useI18n)().t,i=Object(o.useCallback)(function(e){n(e.target.checked)},[n]);return c.a.createElement("div",{className:Se()(Vo.a.CategoriesHeader__Toggle,Vo.a[a])},c.a.createElement(Yo.a,{id:"withIncome",disableRipple:!0,checked:t,color:"secondary",onChange:i}),c.a.createElement("label",{htmlFor:"withIncome"},r("Categories.filter.includeIncome")))}),Wo=n("X+Uv"),Ko=n("Eskg"),Jo=n("qRca"),Zo=n("pJWm"),Xo=n.n(Zo),$o=function(e){var t=e.nav,n=Yt()(e,["nav"]);return c.a.createElement("tr",I()({role:"row"},n,{className:Se()(Xo.a.Table__Row,t&&Xo.a["Table__Row--nav"])}),n.children)},ec=function(e){var t=e.main,n=e.children,a=Yt()(e,["main","children"]);return c.a.createElement("td",I()({role:"cell"},a,{className:Se()(a.className,Xo.a.Table__Cell,t&&Xo.a["Table__Cell--main"])}),n)},tc=function(e){var t=e.children,n=e.className,a=Yt()(e,["children","className"]),r=Object(Wn.useCozyTheme)();return c.a.createElement("table",I()({className:Se()(Xo.a.Table,r&&Xo.a[r],n)},a),t)},nc=function(e){var t=e.children,n=e.className,a=Yt()(e,["children","className"]);return c.a.createElement("td",I()({className:Se()(Xo.a["Table-td-secondary"],n)},a),t)},ac=tc,rc=n("Un6S"),oc=n.n(rc),cc=function(e){function t(){return Y()(this,t),tt()(this,at()(t).apply(this,arguments))}return it()(t,e),W()(t,[{key:"render",value:function(){var e,t=this.props,n=t.children,a=t.className,r=t.theme,o=t.fixed,i=t.paper,l=t.style;return c.a.createElement(Wn.default,{variant:r},c.a.createElement("div",{role:"header",className:Se()(oc.a["HeaderColor_".concat(r)],(e={},st()(e,oc.a["Header--fixed"],o),st()(e,oc.a["Header--paper"],i),e),a),style:l},n))}}]),t}(c.a.PureComponent);cc.propTypes={children:V.a.node.isRequired,className:V.a.string,theme:V.a.oneOf(["normal","inverted"])},cc.defaultProps={theme:"normal",fixed:!1,paper:!0};var ic=cc,lc=n("4fnF"),sc=n("WVRf"),uc=function(e){var t=e.isFetching;return c.a.createElement(sc.a,{minHeight:"8px",marginBottom:-1},t?c.a.createElement(lc.a,null):null)};uc.propTypes={isFetching:V.a.bool.isRequired};var dc=uc,mc=n("d8FT"),fc=n.n(mc),pc=c.a.createContext();function hc(e){var t=e.children,n=Object(o.useState)(),a=R()(n,2),r=a[0],i=a[1];return c.a.createElement(pc.Provider,{value:{url:r,setUrl:i}},t)}var bc=function(e,t){var n=t.type,a=t.category,r=t.pendingUpdate,c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Object(f.useClient)(),l=Object(o.useContext)(pc),s=l.url,u=l.setUrl,d=Object(o.useCallback)(oe()(ae.a.mark(function e(){var t;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.intents.getRedirectionURL("io.cozy.apps",fc()({type:n,category:a,pendingUpdate:r},Boolean));case 3:t=e.sent,u(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn("useRedirectionURL: Could not get redirection url for type: ".concat(n,", category: ").concat(a,"."));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),[i.intents,n,a,r]);return Object(o.useEffect)(function(){c&&(s||d())},[d,c]),[s,d]},gc=function(e){var t=e.type,n=e.category,a=e.children,r=bc("io.cozy.apps",{type:t,category:n}),i=R()(r,2),l=i[0],s=i[1],u=Object(o.useCallback)(oe()(ae.a.mark(function e(){return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=3;break}return e.next=3,s();case 3:window.location=l;case 4:case"end":return e.stop()}},e)})),[l,s]);return c.a.cloneElement(a,{onClick:u})};gc.propTypes={type:V.a.oneOf(["konnector","webapp"]),category:V.a.string};var vc=gc,yc=function(e){return c.a.createElement(vc,{type:"konnector",category:"banking"},e.children)},Ec=n("Fz7/"),Cc=n.n(Ec),kc=n("/T4a"),_c=function(e){return new Promise(function(t){return setTimeout(t,e)})},wc=function(e){var t=e.label,n=e.buttonTheme,a=e.className,r=e.absolute,o=e.onClick,i=Yt()(e,["label","buttonTheme","className","absolute","onClick"]);return c.a.createElement(yc,null,c.a.createElement(ht.c,I()({theme:n,icon:c.a.createElement(pt.default,{icon:kc.a}),size:"large",className:Se()(Cc.a.AddAccountLink,r?Cc.a["AddAccountLink--absolute"]:null,a),label:t,onClick:function(){var e=oe()(ae.a.mark(function e(t){return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return k({name:"ajouter_une_banque"}),e.next=3,_c(100);case 3:o(t);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},i)))};wc.defaultProps={buttonTheme:"highlight"};var Oc=Object(o.memo)(wc),xc=n("bF4N"),Sc=n.n(xc),jc=Sc.a["bnk-table-amount"],Tc=Sc.a["bnk-table-category-category"],Ac=Sc.a["bnk-table-percentage"],Nc=Sc.a["bnk-table-total"],Mc=function(e){var t=e.selectedCategory,n=Object(h.b)(),a=n.isDesktop,r=n.isTablet,o=Object(d.useI18n)().t;return c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("td",{className:Tc},o(t?"Categories.headers.subcategories":"Categories.headers.categories")),(a||r)&&c.a.createElement("td",{className:Sc.a["bnk-table-operation"]},o("Categories.headers.transactions.plural")),a&&c.a.createElement("td",{className:jc},o("Categories.headers.credit")),a&&c.a.createElement("td",{className:jc},o("Categories.headers.debit")),c.a.createElement("td",{className:Nc},o("Categories.headers.total")),c.a.createElement("td",{className:Ac},"%")))};Mc.propTypes={selectedCategory:V.a.object};var Ic=Mc,Bc=n("cbAs"),Fc=n("gPjO"),Lc=n("JeaN"),Rc=n("aN1g"),Dc=n("vEVt"),Pc=n("aR52"),zc=n("Ratv"),qc=n("UNFo"),Gc=n("R/WZ"),Hc=Object(Gc.a)({badge:{top:"50%",right:"2.2rem"}}),Vc=function(e){var t=e.onClick,n=e.selectedTagsLength,a=e.className,r=Object(h.b)().isMobile,o=Object(d.useI18n)().t,i=Hc();return r?c.a.createElement(Bc.default,null,c.a.createElement(Fc.default,{onClick:t},c.a.createElement(Rc.a,null,c.a.createElement(pt.default,{icon:zc.a})),c.a.createElement(Dc.default,{primary:o("Categories.filter.advancedFilters.title")}),c.a.createElement(Lc.a,{className:"u-mr-1"},c.a.createElement(qc.a,{badgeContent:n,classes:{badge:i.badge},showZero:!1,color:"primary",variant:"standard",size:"medium"},c.a.createElement(ea.a,{"data-testid":"SwitchButton",size:"small"},c.a.createElement(pt.default,{icon:dr.default,color:"var(--secondaryTextColor)"})))))):c.a.createElement(Pc.a,{label:o("Categories.filter.advancedFilters.title"),variant:"text",onClick:t,startIcon:c.a.createElement(pt.default,{icon:zc.a}),className:a})};Vc.prototype={onClick:V.a.func,hasSelectedTags:V.a.bool,className:V.a.string};var Uc=Vc,Yc=n("3r7G"),Qc=n("eBdR"),Wc=n("2HD0"),Kc=n("SEY5"),Jc=n("Y+p1"),Zc=n.n(Jc),Xc=n("H2TA"),$c=n("5aXk"),ei=n("Le8U"),ti=n("0hMs"),ni=n("oHY+"),ai=n("Ol9T"),ri=n.n(ai),oi=n("AZ9U"),ci=n("TBWg"),ii=n.n(ci),li=n("O7iK"),si=n.n(li),ui=n("fvBA"),di=function(e){return e.slice(11,-4)},mi=si()(ui.keys().map(function(e){return[di(e),ui(e).default]})),fi=n("h2fu"),pi=n("r0xu"),hi=n.n(pi),bi=function(e){var t=e.size,n=void 0===t?32:t,a={width:n,height:n};return c.a.createElement("span",{className:hi.a.PendingCategoryIcon,style:a},c.a.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 100 100",enableBackground:"new 0 0 0 0",xmlSpace:"preserve"},c.a.createElement("circle",{fill:"#fff",stroke:"none",cx:"25",cy:"50",r:"6"},c.a.createElement("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.1"})),c.a.createElement("circle",{fill:"#fff",stroke:"none",cx:"50",cy:"50",r:"6"},c.a.createElement("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.2"})),c.a.createElement("circle",{fill:"#fff",stroke:"none",cx:"75",cy:"50",r:"6"},c.a.createElement("animate",{attributeName:"opacity",dur:"1s",values:"0;1;0",repeatCount:"indefinite",begin:"0.3"}))))};bi.propTypes={size:V.a.number};var gi=bi,vi=function(e){var t=e.categoryId,n=e.size,a=Yt()(e,["categoryId","size"]);if(!t)return c.a.createElement(gi,I()({size:n},a));var r=function(e){var t=Object(fi.e)(e),n=mi[t];if(n)return n;var a=Object(fi.f)(e),r=mi[a];return r||mi.uncategorized}(t);return r?c.a.createElement(pt.default,I()({icon:r,size:n},a)):null};vi.propTypes={categoryId:V.a.string,size:V.a.number},vi.defaultProps={size:32};var yi=vi,Ei=n("jbrR"),Ci={400610:oi.default};function ki(e){var t=e.className,n=e.account,a=e.size,r=Ci[n.categoryId];return c.a.createElement("span",{className:Se()(ii.a.ReimbursementsIcon,t)},r?c.a.createElement(pt.default,{icon:r,size:a}):c.a.createElement(yi,{categoryId:n.categoryId||"100",size:a}),c.a.createElement("span",{className:Se()(ii.a.ReimbursementsIcon__hourglass)},c.a.createElement(pt.default,{icon:Ei.a,size:8,color:Object(Lt.a)("coolGrey")})))}ki.propTypes={size:V.a.number},ki.defaultProps={size:24};var _i=n("EKHm"),wi=n("BK5s"),Oi=n.n(wi),xi=function(e){var t,n=e.size,a=e.children;return c.a.createElement("span",{className:Se()(Oi.a.AccountIconContainer,(t={},st()(t,Oi.a["AccountIconContainer--small"],"small"===n),st()(t,Oi.a["AccountIconContainer--large"],"large"===n),t))},a)},Si=c.a.memo(function(e){var t=e.account,n=e.className,a=e.size,r=Object(ti.d)(t);return r?c.a.createElement(xi,{size:a},c.a.createElement(_i.a,{konnectorSlug:r,className:n})):null}),ji=n("mwIZ"),Ti=n.n(ji),Ai=n("iZIm"),Ni=f.models.trigger,Mi=Ni.triggerStates.isErrored,Ii=c.a.memo(function(e){var t=e.account,n=e.trigger,a=Object(d.useI18n)().t,r=Object(ti.g)(t,n);return c.a.createElement("span",{className:r.params.nbDays>1?"u-warning":null},c.a.createElement(pt.default,{icon:Ai.a,width:"10",color:"currentColor",className:ri.a.AccountRow__updatedAtIcon}),a(r.translateKey,r.params))}),Bi=c.a.memo(function(){var e=Object(d.useI18n)();return c.a.createElement("span",{className:"u-error"},e("Balance.trigger-problem"))}),Fi=c.a.memo(function(e){var t=Object(d.useI18n)().t,n=e.account,a=e.className,r=e.triggers,i=Yt()(e,["account","className","triggers"]),l=Object(o.useMemo)(function(){return r&&r.find(function(e){var t;return Ni.triggers.getAccountId(e.attributes)===(t=n,Ti()(t,"relationships.connection.data._id"))})},[r,n]),s=l&&Mi(l.attributes);return Object(ti.m)(n)?c.a.createElement(Dn.default,I()({variant:"caption",color:"textSecondary",className:a},i),t("Balance.reimbursements-caption")):c.a.createElement(Dn.default,I()({variant:"caption",color:"textSecondary",className:a},i),s&&!y()("demo")&&y()("balance-account-errors")?c.a.createElement(Bi,{trigger:l}):c.a.createElement(Ii,{account:n,trigger:l}))}),Li=(n("Wr5T"),function(e,t){var n=Object(o.useState)(null),a=R()(n,2),r=a[0],c=a[1],i=Object(o.useRef)();i.current=t;var l=Object(o.useCallback)(function(e){c(e)},[]);return Object(o.useEffect)(function(){if(r){var t=new IntersectionObserver(function(e){i.current(e)},e);return t.observe(r),function(){return t.unobserve(r)}}},[e,r]),l}),Ri={threshold:[0,1]},Di=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ri,n=Object(o.useState)(e),a=R()(n,2),r=a[0],c=a[1],i=Object(o.useCallback)(function(e){e[0].intersectionRatio>0&&!r&&c(!0)},[c,r]),l=Li(t,i);return[l,r]},Pi=c.a.memo(function(e){var t=e.owners;return c.a.createElement(c.a.Fragment,null,c.a.createElement(pt.default,{icon:t.length>1?"team":"people",size:10,className:ri.a.AccountRow__ownersIcon}),t.map(ei.Contact.getDisplayName).join(" - "))}),zi=function(e){var t=e.account;return Object(ti.m)(t)?c.a.createElement(ki,{account:t}):c.a.createElement(Si,{account:t})},qi=Object(Xc.a)({root:{flexBasis:"100%",paddingRight:"1rem"}})(Dc.default),Gi=Object(Xc.a)({root:{flexBasis:"200%"}})(qi),Hi=Object(Xc.a)(function(e){return{root:st()({justifyContent:"flex-end",display:"flex",alignItems:"center",marginRight:"-0.5rem",paddingRight:0},e.breakpoints.down("sm"),{flexGrow:0,flexShrink:0,flexBasis:"auto"})}})(qi),Vi={color:"textSecondary",variant:"body2",className:"u-ellipsis"},Ui=function(e){return c.a.createElement(qi,I()({primaryTypographyProps:Vi},e))},Yi=Object(Xc.a)({root:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}})(Dn.default),Qi={threshold:[0,1]},Wi=function(e){var t,n=e.account,a=e.onClick,r=e.hasWarning,i=e.checked,l=e.disabled,s=e.onSwitchChange,u=e.id,m=e.initialVisible,f=e.triggers,p=Di(!y()("banks.balance.account-row-skeleton")||m,Qi),b=R()(p,2),g=b[0],v=b[1],E=Object(d.useI18n)().t,C=Object(h.b)().isMobile,k=n.owners.data.filter(Boolean).filter(function(e){return!e.me}),_=k.length>0,w=n.balance<0,O=Object(ti.e)(n,E),x=Object(o.useCallback)(function(e){e.stopPropagation()},[]),S=Object(o.useCallback)(function(e){return a(e,n)},[n,a]),j={root:Se()((t={"u-pr-half":C},st()(t,ri.a["AccountRow--hasWarning"],r),st()(t,ri.a["AccountRow--hasAlert"],w),st()(t,ri.a["AccountRow--disabled"],(!i||l)&&!0!==n.loading),t))};return v?c.a.createElement(Fc.default,{ref:g,button:!0,classes:j,onClick:S},c.a.createElement(Rc.a,null,c.a.createElement(zi,{account:n})),c.a.createElement(Gi,{disableTypography:!0},c.a.createElement(Yi,{variant:"body1",color:l?"textSecondary":"textPrimary"},O),c.a.createElement(Fi,{gutterBottom:C&&_,account:n,triggers:f}),C&&_?c.a.createElement(Dn.default,{variant:"caption",color:"textSecondary"},c.a.createElement(Pi,{owners:k})):null),!C&&_?c.a.createElement(Ui,null,c.a.createElement(Pi,{variant:"body2",owners:k})):null,C?null:c.a.createElement(Ui,null,n.number?"N°".concat(n.number):null),C?null:c.a.createElement(Ui,null,Object(ti.c)(n)),c.a.createElement(Hi,{disableTypography:!0},c.a.createElement($c.a,{symbol:"€",total:Object(ti.b)(n),className:Se()(ri.a.AccountRow__figure),totalClassName:ri.a.AccountRow__figure,currencyClassName:ri.a.AccountRow__figure}),c.a.createElement(Yo.a,{disableRipple:!0,checked:i,color:l?"default":"primary",onClick:x,id:u,onChange:s}))):c.a.createElement(Fc.default,{ref:g,classes:j,onClick:S},c.a.createElement(Rc.a,null),c.a.createElement(Dc.default,{primary:E("Loading.loading"),secondary:" "}))};Wi.propTypes={account:V.a.object.isRequired,onClick:V.a.func.isRequired,hasWarning:V.a.bool.isRequired,checked:V.a.bool.isRequired,disabled:V.a.bool.isRequired,onSwitchChange:V.a.func.isRequired,id:V.a.string.isRequired};var Ki=c.a.memo(function(e){return c.a.createElement(Wi,e)},Zc.a),Ji=ge()(Object(i.connect)(function(e,t){var n=t.account,a=Object(ni.i)(e)[n._id];return{hasWarning:!!a&&a>n.balance}}))(Ki),Zi=n("6CTP"),Xi=n("Qscq"),$i=n("mB6O"),el=n("WjxJ"),tl=function(e){var t=e.title,n=e.content,a=e.onClose,r=Object($i.a)(e),o=r.dialogProps,i=r.dialogTitleProps;return c.a.createElement(Zi.a,I()({},o,{onClose:a}),c.a.createElement(el.a,{onClick:a}),c.a.createElement(Xi.a,i,t),n)},nl=n("d66v"),al=n.n(nl),rl=function(e){var t,n=e.to,a=e.from;return c.a.createElement("i",{className:Se()(al.a["sharing-icon"],(t={},st()(t,al.a["sharing-icon--to"],n),st()(t,al.a["sharing-icon--from"],a),t))})};rl.propTypes={to:V.a.string,from:V.a.string};var ol=rl,cl=n("tFCn"),il=n.n(cl),ll=/\((.*)\)/,sl=function(e){function t(){return Y()(this,t),tt()(this,at()(t).apply(this,arguments))}return it()(t,e),W()(t,[{key:"render",value:function(){var e=this.props,t=e.sharingInfo,n=e.withText,a=e.tooltip,r=t&&t.info||{},o=r.recipients&&r.recipients.length>0,i={};r.owner?i.to=!0:r.recipients&&r.recipients.length&&(i.from=!0);var l=function(e){if(e){var t=ll.exec(e.label);return t?t[1]:e.label.split(" ").slice(-1)[0]}}(r.account),s=a?{"data-rh-cls":il.a["account-sharing-tooltip"],"data-rh-at":"top","data-rh":"Partagé par ".concat(l)}:{};return o?c.a.createElement(jt.c,s,c.a.createElement(jt.b,null,c.a.createElement(ol,i)),c.a.createElement(jt.a,null,n&&c.a.createElement("span",null,"Partagé par ",l))):null}}]),t}(o.Component),ul=n("xaB5"),dl=n.n(ul),ml=function(e){var t=e.children,n=e.className,a=e.style;return c.a.createElement("div",{className:Se()(dl.a.BarItem,n),style:a},t)},fl=n("of69"),pl=n.n(fl),hl=n("90fL"),bl=V.a.oneOfType([V.a.array,V.a.object]),gl=function(e,t,n,a){return null==n||0===n.length?a("Categories.noAccount"):null==t?a("AccountSwitch.all-accounts"):Array.isArray(t)?function(e,t,n){return n("AccountSwitch.some-accounts",{count:e.length,smart_count:t.length})}(e,n,a):function(e,t){return e._type===D.a?Object(ti.e)(e,t):e._type===D.d?Object(hl.d)(e,t):void 0}(t,a)},vl=function(e){var t=e.accounts,n=e.filteredAccounts,a=e.filteringDoc,r=e.onClick,o=e.t,i=e.typographyProps;return c.a.createElement("div",{className:pl.a.AccountSwitch__Select,onClick:r},c.a.createElement(Kc.a,{noWrap:!0,innerTextProps:Za()({variant:"h1"},i)},gl(n,a,t,o)))};vl.propTypes={t:V.a.func.isRequired};var yl={variant:"caption",color:"textSecondary"},El=function(e){var t=e.primary,n=e.secondary;return c.a.createElement(Dc.default,{primary:t,secondary:n,secondaryTypographyProps:yl})},Cl=function(e){return c.a.createElement(Fc.default,e,e.children,c.a.createElement(Lc.a,{className:"u-pr-1"},c.a.createElement(Wc.a,{onClick:e.onClick,checked:e.selected,readOnly:!0})))},kl=function(e){var t=e.accounts,n=e.virtualAccounts,a=e.groups,r=e.virtualGroups,i=e.filteringDoc,l=e.filterByDoc,s=e.resetFilterByDoc,u=Object(d.useI18n)().t,m=Object(o.useCallback)(function(e){return t.find(function(t){return t.id===e})},[t]),f=Object(o.useMemo)(function(){return Da()([].concat(F()(a),F()(r)),function(e){return Object(hl.d)(e,u).toLowerCase()})},[a,r,u]),p=Object(o.useMemo)(function(){return Da()([].concat(F()(t),F()(n)),["institutionLabel",function(e){return Object(ti.e)(e,u).toLowerCase()}])},[t,n,u]);return c.a.createElement(Wn.default,{theme:"normal"},c.a.createElement(Bc.default,null,c.a.createElement(Qc.a,null,u("AccountSwitch.groups")),c.a.createElement(Cl,{dense:!0,button:!0,disableRipple:!0,divider:!0,onClick:function(){s()},selected:!i},c.a.createElement(El,{primary:u("AccountSwitch.all-accounts"),secondary:c.a.createElement(c.a.Fragment,null,u("AccountSwitch.account-counter",t.length))})),f.map(function(e){return c.a.createElement(Cl,{dense:!0,key:e._id,button:!0,disableRipple:!0,selected:i&&e._id===i._id,onClick:function(){l(e)}},c.a.createElement(El,{primary:Object(hl.d)(e,u),secondary:c.a.createElement(c.a.Fragment,null,u("AccountSwitch.account-counter",e.accounts.data.filter(function(e){return e&&m(e.id)}).length))}))})),c.a.createElement(Yc.default,{component:"a",href:"#/settings/groups",className:"u-m-half",color:"primary"},u("Groups.manage-groups")),c.a.createElement(Bc.default,null,c.a.createElement(Qc.a,null,u("AccountSwitch.accounts")),p.map(function(e,t){return c.a.createElement(Cl,{key:t,button:!0,disableRipple:!0,dense:!0,onClick:function(){l(e)},selected:i&&e._id===i._id},c.a.createElement(Rc.a,null,c.a.createElement(zi,{account:e})),c.a.createElement(El,{primary:Object(ti.e)(e,u),secondary:Object(ti.c)(e)}),c.a.createElement(Lc.a,null,c.a.createElement(sl,{tooltip:!0,account:e})))})),c.a.createElement(Yc.default,{component:"a",href:"#/settings/accounts",className:"u-m-half",color:"primary"},u("Accounts.manage-accounts")))};kl.propTypes={filterByDoc:V.a.func.isRequired,resetFilterByDoc:V.a.func.isRequired,filteringDoc:bl};var _l=function(e){var t=e.children;return c.a.createElement("div",{className:Se()(pl.a["account-switch"])},t)},wl={overflow:"hidden",paddingRight:"1rem"},Ol={normal:{typographyProps:{variant:"body1"}},large:{typographyProps:{variant:"h4"}},small:{typographyProps:{variant:"caption"}}},xl=function(e){var t=e.size,n=e.insideBar,a=Object(f.useQuery)(D.n.query,D.n),r=Object(f.useQuery)(D.s.query,D.s),l=Object(o.useState)(),s=R()(l,2),u=s[0],m=s[1],p=Object(d.useI18n)().t,b=Object(h.b)().isMobile,g=Object(i.useSelector)(Qa.j),v=Object(i.useSelector)(Qa.h),y=Object(i.useSelector)(ni.g),E=Object(i.useSelector)(ni.h),C=Object(o.useCallback)(function(e){e.preventDefault(),m(function(e){return!e})},[m]),k=Object(o.useCallback)(function(e){e&&e.preventDefault(),m(!1)},[m]),_=Object(i.useDispatch)(),w=Object(o.useCallback)(function(e){_(Object(Qa.d)(e)),k()},[_,k]),O=Object(o.useCallback)(function(){_(Object(Qa.p)()),k()},[_,k]),x=a.data||[],S=r.data||[],j=Ol[t],T=c.a.createElement(vl,I()({accounts:x,filteredAccounts:v,filteringDoc:g,onClick:C,t:p},j));return c.a.createElement(_l,null,b&&!1!==n?c.a.createElement(Jn,null,c.a.createElement(ml,{style:wl},T)):T,u&&c.a.createElement(Wn.default,{variant:"normal"},c.a.createElement(tl,{open:!0,onClose:k,title:p("AccountSwitch.title"),content:c.a.createElement(kl,{filteringDoc:g,filterByDoc:w,resetFilterByDoc:O,close:k,groups:S,virtualGroups:E,accounts:x,virtualAccounts:y})})))};xl.propTypes={insideBar:V.a.bool},xl.defaultProps={size:"large",insideBar:!0};var Sl=Object(o.memo)(xl),jl=n("+AGJ"),Tl=n.n(jl),Al=n("yLV6"),Nl=n.n(Al),Ml=function(e){function t(){var e,n;Y()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=tt()(this,(e=at()(t)).call.apply(e,[this].concat(r))),st()(ot()(n),"onSwipeRight",function(e){if(!e.defaultPrevented){var t=n.props.getLocation(n.props);t&&(n.props.navigate(t),e.preventDefault())}}),n}return it()(t,e),W()(t,[{key:"componentDidMount",value:function(){var e=document.body;this.hammer=new Nl.a.Manager(e,{recognizers:[[Nl.a.Swipe,{direction:Nl.a.DIRECTION_RIGHT}]]}),this.hammer.on("swiperight",this.onSwipeRight)}},{key:"componentWillUnmount",value:function(){this.hammer.destroy()}},{key:"render",value:function(){return this.props.children}}]),t}(o.Component),Il=function(e){var t=e.getLocation,n=e.children,a=Object(he.C)();return c.a.createElement(Ml,{getLocation:t,navigate:a},n)},Bl=new Ae.a({id:"icon-arrow-left_b6e94c0b579a94bcd0c25a895615d579",use:"icon-arrow-left_b6e94c0b579a94bcd0c25a895615d579-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-arrow-left_b6e94c0b579a94bcd0c25a895615d579"><g fill-rule="evenodd" transform="translate(-224 -160)"><path d="M227.414214,167 L238.993155,167 C239.54922,167 240,167.443865 240,168 C240,168.552285 239.550051,169 238.993155,169 L227.414214,169 L232.707107,174.292893 C233.097631,174.683418 233.097631,175.316582 232.707107,175.707107 C232.316582,176.097631 231.683418,176.097631 231.292893,175.707107 L224.292893,168.707107 C223.902369,168.316582 223.902369,167.683418 224.292893,167.292893 L231.292893,160.292893 C231.683418,159.902369 232.316582,159.902369 232.707107,160.292893 C233.097631,160.683418 233.097631,161.316582 232.707107,161.707107 L227.414214,167 Z" /></g></symbol>'}),Fl=(Me.a.add(Bl),Bl),Ll=function(){var e=Object(Wn.useCozyTheme)();return c.a.createElement(pt.default,{className:Se()(e?Tl.a["BackIcon--".concat(e)]:null,Tl.a.BackIcon),icon:Fl})},Rl=function(e){var t=e.className,n=e.onClick,a=Yt()(e,["className","onClick"]);return c.a.createElement(ea.a,I()({className:Se()(Tl.a.BackArrow,t),size:"medium",onClick:n},a),c.a.createElement(Ll,null))},Dl=function(e){var t=e.onClick;return Object(h.b)().isMobile?c.a.createElement(Xn,null,c.a.createElement("div",{className:"u-pl-half"},c.a.createElement(Rl,{onClick:t}))):null},Pl=function(e){var t=e.onClick,n=e.to,a=e.arrow,r=void 0!==a&&a,o=Object(h.b)().isMobile,i=Object(he.z)(),l=Object(he.C)(),s=n;t||s||(s=i.pathname.split("/").slice(0,-1).join("/"));var u=t||function(){return s&&l(s)};return o?c.a.createElement(Dl,{onClick:u}):r&&c.a.createElement(Rl,{onClick:u})};Pl.propTypes={to:V.a.string,onClick:V.a.func};var zl=function(e){var t=e.to,n=e.onClick;return c.a.createElement(Il,{getLocation:function(e){return e.to}},c.a.createElement(Pl,{to:t,onClick:n}))},ql=function(e){var t=e.selectedCategory,n=e.breadcrumbItems,a=e.insideBar,r=n.slice(-2,1),i=R()(r,1)[0];return c.a.createElement(o.Fragment,null,c.a.createElement(Sl,{small:void 0!==t,insideBar:a}),t&&c.a.createElement(zl,{onClick:i&&i.onClick?i.onClick:void 0,theme:"primary"}))},Gl=Sc.a["bnk-table-category"],Hl=c.a.memo(function(e){var t=e.breadcrumbItems,n=e.chart,a=e.dateSelector,r=e.emptyIcon,o=e.hasAccount,i=e.hasData,l=e.isFetching,s=e.isFetchingNewData,u=e.selectedCategory,m=e.showAdvancedFilter,f=Object(d.useI18n)().t;return c.a.createElement(c.a.Fragment,null,c.a.createElement(ic,{theme:"inverted",fixed:!0},c.a.createElement(Rn,{className:Se()(Vo.a.CategoriesHeader,st()({},Vo.a.NoAccount,!o))},o?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,c.a.createElement(Wo.a,{spacing:"m"},c.a.createElement(ql,{selectedCategory:u,breadcrumbItems:t}),a),t.length>1&&c.a.createElement(Ko.a,{in:!0},c.a.createElement(Jo.a,{className:"u-mt-1",items:t})),c.a.createElement(Uc,{onClick:m,className:"u-mt-1"})),n):c.a.createElement(Oc,{label:f("Accounts.add-bank")})),o?c.a.createElement(ac,{className:Gl},c.a.createElement(Ic,{selectedCategory:u})):null),c.a.createElement(dc,{isFetching:!!s&&!l}),i||l||s?null:c.a.createElement(Tn.a,{className:Vo.a.NoAccount_empty,icon:r,text:f("Categories.title.empty-text")}))});Hl.displayName="Desktop Fragment",Hl.propTypes={breadcrumbItems:V.a.array.isRequired,chart:V.a.node.isRequired,dateSelector:V.a.node.isRequired,emptyIcon:V.a.node.isRequired,hasAccount:V.a.bool.isRequired,hasData:V.a.bool.isRequired,incomeToggle:V.a.node.isRequired,isFetching:V.a.bool.isRequired,isFetchingNewData:V.a.bool.isRequired,selectedCategory:V.a.object,showAdvancedFilter:V.a.func};var Vl=Hl,Ul=function(){return null};Ul.propTypes={className:V.a.string},Ul.active=!1;var Yl=Ul,Ql=c.a.memo(function(e){var t=e.dateSelector,n=e.selectedCategory,a=e.breadcrumbItems;return c.a.createElement(c.a.Fragment,null,c.a.createElement(ic,{theme:"inverted",fixed:!0,className:Vo.a.CategoriesHeader},t),c.a.createElement("div",{style:{height:"3rem"}}),c.a.createElement(ql,{selectedCategory:n,breadcrumbItems:a}))}),Wl=c.a.memo(function(e){var t=Object(d.useI18n)().t,n=Object(h.b)().isMobile,a=e.breadcrumbItems,r=e.chart,i=e.classes,l=e.dateSelector,s=e.emptyIcon,u=e.hasAccount,m=e.hasData,f=e.incomeToggle,p=e.isFetching,b=e.isFetchingNewData,g=e.selectedCategory,v=e.showAdvancedFilter,y=e.selectedTags;return c.a.createElement(o.Fragment,null,c.a.createElement(Ql,{dateSelector:l,selectedCategory:g,breadcrumbItems:a}),u?c.a.createElement(ic,{className:Se()(Vo.a.CategoriesHeader,i.header,st()({},Vo.a.NoAccount,!u)),theme:n?"normal":"inverted"},c.a.createElement(Uc,{onClick:v,selectedTagsLength:y.length}),c.a.createElement(dc,{isFetching:!!b&&!p}),!m&&!p&&!b&&c.a.createElement(Tn.a,{className:Se()("u-mt-3",Vo.a.NoAccount_empty),icon:s,text:t("Categories.title.empty-text")}),f&&r?c.a.createElement(Rn,null,r):null):c.a.createElement("div",{className:Se()(Vo.a.NoAccount_container)},c.a.createElement(Yl,{className:"u-mt-3 u-pt-1 u-mr-1"}),c.a.createElement(Rn,{className:Vo.a.NoAccount_box},r,c.a.createElement(Oc,{absolute:!0,label:t("Accounts.add-bank")}))))});Wl.displayName="Mobile Fragment",Wl.propTypes={breadcrumbItems:V.a.array.isRequired,chart:V.a.node.isRequired,classes:V.a.object,dateSelector:V.a.node.isRequired,emptyIcon:V.a.node.isRequired,hasAccount:V.a.bool.isRequired,hasData:V.a.bool.isRequired,incomeToggle:V.a.node.isRequired,isFetching:V.a.bool.isRequired,isFetchingNewData:V.a.bool.isRequired,selectedCategory:V.a.object,showAdvancedFilter:V.a.func};var Kl=Wl,Jl=n("e5eR"),Zl=n("MSWZ"),Xl=n("B9Y0"),$l=n("M5wr"),es=n("L2cZ"),ts=function(e){var t=e.onChange,n=e.value,a=Object(d.useI18n)().t;return c.a.createElement(Fc.default,{button:!0,disableGutters:!0,onClick:t},c.a.createElement(Rc.a,null,c.a.createElement(pt.default,{icon:n?es.a:$l.a})),c.a.createElement(Dc.default,{primary:a("Categories.filter.advancedFilters.hideIncomes")}),c.a.createElement(Lc.a,{className:"u-pr-half"},c.a.createElement(Ca.a,{checked:n,onChange:t})))};ts.prototype={onChange:V.a.func,value:V.a.bool};var ns=ts,as=n("ktli"),rs=n.n(as),os=n("G2uu"),cs=n("eOsy"),is=function(e){var t=e.tag,n=e.className,a=e.onDelete,r=e.onClick;return c.a.createElement(cs.a,{style:{marginBottom:"0.25rem",marginRight:"0.25rem"},className:n,label:t.label,clickable:!0,onDelete:function(){return a(t)},onClick:r})},ls=function(e){var t=e.tags,n=e.onDelete,a=e.className;return t.map(function(e){return c.a.createElement(is,{key:e._id,tag:e,className:a,onDelete:n})})},ss=function(e){var t=e.className,n=e.disabled,a=e.onClick,r=Object(d.useI18n)().t;return c.a.createElement(cs.a,{style:{marginBottom:"0.25rem",marginRight:"0.25rem"},className:t,variant:"ghost",icon:c.a.createElement(pt.default,{className:"u-ml-half",icon:kc.a}),label:r("General.tag"),clickable:!0,disabled:n,onClick:a})},us=function(e){var t=e.transactionTags,n=e.selectedTagIds,a=e.allTags;return n.filter(function(e){return!t.some(function(t){return t._id===e})}).map(function(e){return a.find(function(t){return t._id===e})})},ds=function(e){var t=e.transactionTags,n=e.selectedTagIds,a=e.allTags;return t.filter(function(e){return!n.some(function(t){return t===e._id})}).map(function(e){return a.find(function(t){return t._id===e._id})})},ms=function(e){var t;return(null===(t=e.transactions)||void 0===t?void 0:t.count)||0},fs=c.a.memo(function(e){var t=e.tag,n=e.checked,a=e.onClick,r=e.disabled,o=e.isSaving,i=Object(d.useI18n)().t;return c.a.createElement(Fc.default,{button:!0,onClick:function(){return a(t)},disabled:!n&&r||o},c.a.createElement(Rc.a,null,c.a.createElement(Ca.a,{checked:n})),c.a.createElement(Dc.default,{primary:t.label,secondary:i("Tag.transactions",{smart_count:ms(t)})}))}),ps=function(e){var t=e.tags,n=e.toggleAddNewTagModal,a=e.selectedTagIds,r=e.onClick,i=e.isSaving,l=Object(d.useI18n)().t;return c.a.createElement(Bc.default,null,t.map(function(e,t){return c.a.createElement(o.Fragment,{key:"".concat(e.label," ").concat(t)},c.a.createElement(fs,{tag:e,checked:a.some(function(t){return t===e._id}),onClick:r,disabled:n&&a.length>=5,isSaving:i}),c.a.createElement(Zl.a,{component:"li",variant:"inset"}))}),n&&c.a.createElement(Fc.default,{button:!0,onClick:n,disabled:i},c.a.createElement(Rc.a,null,c.a.createElement(pt.default,{icon:kc.a})),c.a.createElement(Dc.default,{primary:l("Tag.add-new-tag")})))},hs=function(e){var t=e.toggleAddNewTagModal,n=e.selectedTagIds,a=e.tags,r=e.onClick,o=e.isSaving,i=Object(d.useI18n)().t;return 0===a.length&&t?c.a.createElement(Bc.default,null,c.a.createElement(Fc.default,{button:!0,onClick:t,disabled:o},c.a.createElement(Rc.a,null,c.a.createElement(pt.default,{icon:kc.a})),c.a.createElement(Dc.default,null,i("Tag.add-new-tag")))):c.a.createElement(ps,{tags:a,toggleAddNewTagModal:t,selectedTagIds:n,onClick:r,isSaving:o})},bs=function(e){var t=e.tags,n=e.selectedTagIds,a=e.isSaving,r=e.isLoading,o=e.toggleAddNewTagModal,i=e.onClick,l=e.onClose,s=e.onConfirm,u=e.title,m=e.disabled,f=Object(d.useI18n)().t;return c.a.createElement(Jl.a,{size:"small",open:!0,disableGutters:!0,title:c.a.createElement("div",{className:"u-mt-1-half"},u),content:r?c.a.createElement(Pa.a,{size:"xlarge",className:"u-flex u-flex-justify-center u-mv-1"}):c.a.createElement(c.a.Fragment,null,c.a.createElement(hs,{toggleAddNewTagModal:o,selectedTagIds:n,tags:t,onClick:i,isSaving:a}),c.a.createElement("div",{className:"u-p-1"},c.a.createElement(Pc.a,{fullWidth:!0,onClick:s,label:a?f("Tag.addingTagToTransaction",{smart_count:n.length}):f("General.valid"),disabled:m,busy:a}))),onClose:a?void 0:l})},gs=n("k4gI"),vs=n("9xVj"),ys=n("bmBL"),Es={crossButton:{position:"absolute",top:"0.5rem",right:"0.25rem"}},Cs=function(e){var t=e.tags,n=e.selectedTagIds,a=e.isSaving,r=e.isLoading,o=e.toggleAddNewTagModal,i=e.onClick,l=e.onClose,s=e.onConfirm,u=e.title,m=e.disabled,f=e.withCloseBtn,p=Object(d.useI18n)().t;return a||r?c.a.createElement(Xl.a,{className:"u-flex u-flex-items-center u-flex-justify-center"},c.a.createElement(Pa.a,{size:"xlarge",color:"white"})):c.a.createElement(gs.a,{backdrop:!0,onClose:l,settings:{mediumHeightRatio:1}},c.a.createElement(vs.a,{disableGutters:!0,disableElevation:!0},f&&c.a.createElement(ea.a,{size:"medium",onClick:l,style:Es.crossButton},c.a.createElement(pt.default,{icon:ys.default,size:12})),c.a.createElement(Dn.default,{variant:"h6",align:"center",paragraph:!0},u),c.a.createElement(Zl.a,null),c.a.createElement("div",{style:{maxHeight:"20rem",overflowY:"auto",margin:"0.5rem 0"},onTouchStart:function(e){return e.stopPropagation()}},c.a.createElement(hs,{toggleAddNewTagModal:o,selectedTagIds:n,tags:t,onClick:i})),c.a.createElement(Zl.a,null),c.a.createElement("div",{className:"u-p-1"},c.a.createElement(Pc.a,{fullWidth:!0,onClick:s,label:p("General.valid"),disabled:m}))))};Cs.defaultProps={withCloseBtn:!1};var ks=Cs,_s=function(e){var t=e.tags,n=e.tagListSelected,a=e.onClose,r=e.onConfirm,i=Object(h.b)().isMobile,l=Object(d.useI18n)().t,s=Object(o.useState)(n.map(function(e){return e._id})),u=R()(s,2),m=u[0],f=u[1];T("analyse:filtres:labels-saisie");var p=i?ks:bs;return c.a.createElement(p,{tags:t,title:l("Tag.filter-tag"),selectedTagIds:m,onClick:function(e){!function(e,t){return e.some(function(e){return e===t._id})}(m,e)?f(function(t){return[].concat(F()(t),[e._id])}):f(function(t){return t.filter(function(t){return t!==e._id})})},onClose:a,onConfirm:function(){S("analyse:filtres:labels-confirmation");var e=t.filter(function(e){return m.some(function(t){return t===e._id})});r(e),a()},disabled:0===m.length})},ws=function(e){var t=e.tags,n=e.tagListSelected,a=e.onConfirm,r=Object(o.useState)(!1),i=R()(r,2),l=i[0],s=i[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(ss,{onClick:function(){return s(!0)},disabled:0===t.length}),l&&c.a.createElement(_s,{tags:t,tagListSelected:n,onConfirm:a,onClose:function(){return s(!1)}}))},Os=function(e){var t=e.tags,n=e.tagListSelected,a=e.onDelete,r=e.onConfirm,o=Yt()(e,["tags","tagListSelected","onDelete","onConfirm"]);return c.a.createElement(Fc.default,o,c.a.createElement(Rc.a,null,c.a.createElement(pt.default,{icon:os.a})),c.a.createElement(Dc.default,{ellipsis:!1,primary:c.a.createElement(c.a.Fragment,null,c.a.createElement(ls,{tags:n,onDelete:a}),c.a.createElement(ws,{tags:t,tagListSelected:n,onConfirm:r}))}))},xs=function(e){var t=e.onClose,n=e.onConfirm,a=e.withIncome,r=e.setSelectedTags,i=e.selectedTags,l=Object(o.useState)(a),s=R()(l,2),u=s[0],m=s[1],p=Object(o.useState)(i),h=R()(p,2),b=h[0],g=h[1],v=Object(d.useI18n)().t,y=Object(f.useQueryAll)(D.B.query,D.B),E=y.data,C=Yt()(y,["data"]),_=Object(f.isQueryLoading)(C)||C.hasMore;T("analyse:filtres-avances-saisie");return _?c.a.createElement(Xl.a,{className:"u-flex u-flex-items-center u-flex-justify-center"},c.a.createElement(Pa.a,{size:"xlarge",color:"white"})):c.a.createElement(Jl.a,{open:!0,onClose:t,className:rs.a.no_padding,title:v("Categories.filter.advancedFilters.title"),content:c.a.createElement(Bc.default,{style:{margin:"0 -1rem"}},c.a.createElement(ns,{onChange:function(){m(function(e){return e&&k({name:"masquer-revenus"}),!e})},value:!u}),c.a.createElement(Zl.a,{variant:"inset",component:"li",style:{marginLeft:"3rem"}}),c.a.createElement(Os,{tags:E,tagListSelected:b,disableGutters:!0,onDelete:function(e){var t=b.filter(function(t){return t._id!==e._id});g(t)},onConfirm:function(e){g(e)}})),actions:c.a.createElement(c.a.Fragment,null,c.a.createElement(Pc.a,{variant:"secondary",onClick:t,label:v("General.cancel")}),c.a.createElement(Pc.a,{label:v("General.apply"),onClick:function(){S("analyse:filtres-avances-confirmation"),n(u),r(b),t()}}))})};xs.prototype={onClose:V.a.func,onConfirm:V.a.func,withIncome:V.a.bool};var Ss=xs,js=function(e){var t=Object(d.useI18n)().t,n=Object(h.b)().isMobile,a=Object(o.useState)(!1),r=R()(a,2),l=r[0],s=r[1],u=e.emptyIcon,m=e.hasAccount,f=e.selectedCategory,p=e.withIncome,b=e.onWithIncomeToggle,g=e.categories,v=e.chartSize,y=e.isFetching,E=e.isFetchingNewData,C=e.categoryName,k=e.subcategoryName,_=e.classes,w=e.setSelectedTags,O=e.selectedTags,x=g.length>0&&(f?f.transactionsNumber>0:g[0].transactionsNumber>0),S=x&&void 0===f,j=Object(Go.b)(g),T=Object(Go.d)(g),A=Object(he.H)(),N=Uo(A),M=Object(he.C)(),I=Object(o.useMemo)(function(){return function(e,t,n,a){var r=[{name:a("Categories.title.general"),onClick:function(){return e("/analysis/categories")}}];return t&&r.push({name:a("Data.categories.".concat(t)),onClick:function(){return e("/analysis/categories/".concat(t))}}),n&&r.push({name:a("Data.subcategories.".concat(n))}),r}(M,C,k,t)},[M,C,k,t]),B=Object(i.useDispatch)(),F=Object(i.useSelector)(Qa.m),L=Object(o.useCallback)(function(e){B(Object(Qa.a)(e))},[B]),D=S?c.a.createElement(Qo,{withIncome:p,onToggle:b}):null,P=y||N?null:c.a.createElement(qo,{width:v,height:v,categories:f?f.subcategories:g,selectedCategory:f,total:f?f.amount:T,currency:j,label:t("Categories.title.total"),hasAccount:m,className:Se()(m?null:Vo.a.NoAccount_chart,f?Vo.a.SubcategoryChart:null)}),z=c.a.createElement(jo,{onChange:L,value:F,showFullYear:!0,className:_.selectDates}),q=n?Kl:Vl;return c.a.createElement(c.a.Fragment,null,c.a.createElement(q,{breadcrumbItems:I,chart:P,classes:_,dateSelector:z,emptyIcon:u,hasAccount:m,hasData:x,selectedCategory:f,incomeToggle:D,isFetching:y,isFetchingNewData:E,showAdvancedFilter:function(){s(!0)},selectedTags:O}),l&&c.a.createElement(Ss,{onClose:function(){s(!1)},onConfirm:b,withIncome:p,setSelectedTags:w,selectedTags:O}))};js.defaultProps={chartSize:182,emptyIcon:Ka.a,classes:{header:"",legalMention:"u-mt-2 u-pt-1",selectDates:"u-pt-half"}},js.propTypes={categoryName:V.a.string,subcategoryName:V.a.string,selectedCategory:V.a.object,withIncome:V.a.bool.isRequired,onWithIncomeToggle:V.a.func.isRequired,chartSize:V.a.number,hasAccount:V.a.bool.isRequired,categories:V.a.array.isRequired};var Ts=c.a.memo(js),As=n("Njho"),Ns=n.n(As),Ms=function(e){var t=e.value,n=e.color,a=e.className,r=e.style;return c.a.createElement("div",{className:Se()(a,Ns.a.PercentageLine),style:Za()({transform:"scaleX(".concat(t/100,")"),backgroundColor:n},r)})},Is=Sc.a["bnk-table-amount"],Bs=Sc.a["bnk-table-category-category"],Fs=Sc.a["bnk-table-percentage"],Ls=Sc.a["bnk-table-row"],Rs=Sc.a["bnk-table-category"],Ds=Sc.a["bnk-table-total"],Ps=Sc.a["bnk-table-row--uncollapsed"],zs=Sc.a["bnk-category-total-mobile"],qs=function(e){function t(){var e,n;Y()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=tt()(this,(e=at()(t)).call.apply(e,[this].concat(r))),st()(ot()(n),"toggle",function(e){var t=n.props,a=t.selectedCategory,r=t.selectCategory;r(a?void 0:e)}),st()(ot()(n),"handleClick",function(e,t){var a=n.props.navigate;t?a("/analysis/categories/".concat(e.name,"/").concat(t.name)):n.toggle(e.name)}),n}return it()(t,e),W()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.categories,a=t.selectedCategory,r=n||[];a&&(r=[a]);var o=r.length>0&&r[0].transactionsNumber>0;return c.a.createElement(c.a.Fragment,null,o&&c.a.createElement(tc,{className:Rs},c.a.createElement("tbody",null,r.map(function(t){return e.renderCategory(t,a&&a.name)}))))}},{key:"renderCategory",value:function(e){var t=this.props,n=t.selectedCategory,a=t.breakpoints,r=a.isDesktop,o=a.isTablet,c=n&&n.name,i=c!==e.name;if(void 0===c||!i)return this[r||o?"renderCategoryDesktopTablet":"renderCategoryMobile"](e)}},{key:"renderCategoryDesktopTablet",value:function(e,t){var n=this,a=this.props,r=a.t,o=a.selectedCategory,i=a.breakpoints.isDesktop,l=t||e,s=l.name,u=l.subcategories,d=l.credit,m=l.debit,f=l.percentage,p=l.currency,h=l.transactionsNumber,b=o&&o.name,g=b!==e.name,v=t?"subcategories":"categories",y=Ls,E=t||g?this.handleClick:function(){},C=(t||e).name,k=d+m;return[(t||g)&&c.a.createElement("tr",{key:C,className:y,onClick:function(){return E(e,t)}},c.a.createElement(Ms,{value:f,color:e.color}),c.a.createElement(nc,{className:Se()(Bs)},c.a.createElement(jt.c,{className:Sc.a["bnk-table-category-name-icon"]},c.a.createElement(jt.b,{className:"u-mr-1"},c.a.createElement(yi,{categoryId:(t||e).id})),c.a.createElement(jt.a,null,r("Data.".concat(v,".").concat(s))))),c.a.createElement(nc,{className:Sc.a["bnk-table-operation"]},h),i&&c.a.createElement(nc,{className:Is},d?c.a.createElement($c.a,{total:d,symbol:Po(p),signed:!0,default:"-",className:Sc.a["bnk-table-amount-figure"],totalClassName:Sc.a["bnk-table-amount-figure-total"]}):"－"),i&&c.a.createElement(nc,{className:Is},m?c.a.createElement($c.a,{total:m,symbol:Po(p),signed:!0,default:"-",className:Sc.a["bnk-table-amount-figure"],totalClassName:Sc.a["bnk-table-amount-figure-total"]}):"－"),c.a.createElement(nc,{className:Ds},c.a.createElement($c.a,{total:k||"－",symbol:Po(p),coloredPositive:!0,signed:!0})),c.a.createElement(nc,{className:Fs},!t&&b?"100":"".concat(f),c.a.createElement("span",{className:Sc.a["bnk-table-percentage-sign"]},"%")))].concat(F()(g||t?[]:u.map(function(t){return n.renderCategoryDesktopTablet(e,t)})))}},{key:"renderCategoryMobile",value:function(e,t){var n=this,a=this.props,r=a.t,o=a.selectedCategory,i=t||e,l=i.name,s=i.subcategories,u=i.credit,d=i.debit,m=i.currency,f=i.percentage,p=i.transactionsNumber,h=o&&o.name,b=h!==e.name,g=t?"subcategories":"categories",v=(t||e).name,y=u+d;return[(t||b)&&c.a.createElement("tr",{key:v,className:b?Ls:Ps,onClick:function(){return n.handleClick(e,t)}},c.a.createElement("td",{className:"u-ph-1"},c.a.createElement(jt.c,null,c.a.createElement(jt.b,{className:"u-pr-half"},c.a.createElement(yi,{categoryId:(t||e).id})),c.a.createElement(jt.a,{className:Se()("u-ph-half",Bs)},c.a.createElement(Dc.default,null,c.a.createElement(Dn.default,{variant:"body1"},r("Data.".concat(g,".").concat(l))),c.a.createElement(Dn.default,{className:Sc.a["bnk-table-row-caption"],variant:"caption",color:"textSecondary"},c.a.createElement("span",{className:Sc.a["bnk-table-percentage-caption"]},!t&&h?"100%":"".concat(f,"%")),c.a.createElement("span",null,"· ".concat(p," ").concat(r("Categories.headers.transactions.".concat(p>1?"plural":"single"))))))),c.a.createElement(jt.b,{className:Se()("u-pl-half",Is)},c.a.createElement($c.a,{className:zs,total:y||"－",symbol:Po(m),coloredPositive:!0,signed:!0}))),c.a.createElement(Ms,{className:Sc.a.PercentageLine,value:f,color:e.color})))].concat(F()(b||t?[]:s.map(function(t){return n.renderCategoryMobile(e,t)})))}}]),t}(o.Component),Gs=ge()(Object(St.a)(),Object(d.translate)())(function(e){var t=e.children,n=Yt()(e,["children"]),a=Object(he.C)();return c.a.createElement(qs,I()({navigate:a},n),t)}),Hs=function(e){return e?document.querySelector(".".concat("js-scrolling-element")):window},Vs=n("i8i4"),Us=n.n(Vs),Ys=n("bt/X"),Qs=n.n(Ys),Ws=n("9UKM"),Ks=n.n(Ws),Js=n("QVEU"),Zs=n.n(Js),Xs=n("M2p0"),$s=n("MmAb"),eu=n("Bkvo"),tu=n("Klmi"),nu=n("NSF3"),au=n("v0Ij"),ru=n("BPCX"),ou=function(e){var t=e.accountId,n=e.triggers,a=e.konnector,r=e.accountsAndTriggers,o=e.onDismiss,i=Yt()(e,["accountId","triggers","konnector","accountsAndTriggers","onDismiss"]);return c.a.createElement(ru.a,I()({initialActiveTab:"configuration",accountId:t,triggers:n,konnector:a,accountsAndTriggers:r,onDismiss:o,showAccountSelection:!1,showNewAccountButton:!1},i))},cu=n("Dtiv"),iu=/\((.*?)\)/g,lu=/(\(\?)?:\w+/g,su=/\*\w+/g,uu=/[\-{}\[\]+?.,\\\^$|#\s]/g,du=function(e){var t=e.replace(uu,"\\$&").replace(iu,"(?:$1)?").replace(lu,function(e,t){return t?e:"([^/?]+)"}).replace(su,"([^?]*?)");return new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},mu=function(e,t){var n=e.exec(t).slice(1);return n.map(function(e,t){return t===n.length-1?e||null:e?decodeURIComponent(e):null})},fu=function(e){function t(e,n){var a;return Y()(this,t),(a=tt()(this,at()(t).call(this,e,n))).routes=e.routes.map(function(e){var t=R()(e,2),n=t[0],a=t[1];return[du(n),a]}),a.state={fragment:e.initialFragment},a.pushHistory=a.pushHistory.bind(ot()(a)),a.mountPointContext={pushHistory:a.pushHistory,replaceHistory:a.pushHistory},a}return it()(t,e),W()(t,[{key:"pushHistory",value:function(e){this.setState({fragment:e})}},{key:"render",value:function(){var e=this.state.fragment,t=!0,n=!1,a=void 0;try{for(var r,o=this.routes[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var i=R()(r.value,2),l=i[0],s=i[1];if(e.match(l)){var u=mu(l,e),d=s.apply(void 0,F()(u));return c.a.createElement(cu.a.Provider,{value:this.mountPointContext},d)}}}catch(m){n=!0,a=m}finally{try{t||null==o.return||o.return()}finally{if(n)throw a}}return c.a.createElement("div",null,"No match for ",e)}}]),t}(c.a.Component);fu.propTypes={routes:V.a.array.isRequired};var pu=fu,hu=function(){return c.a.createElement("div",{className:"u-m-2 u-ta-center"},c.a.createElement(Pa.a,{size:"xxlarge"}))},bu=function(){var e=Object(d.useI18n)().t;return c.a.createElement("div",{className:"u-m-2 u-error"},e("Loading.error"))},gu=p.a.fetchPolicies.olderThan(3e4),vu=function(e){var t=e.connectionId,n=e.children;return c.a.createElement(f.Query,{query:function(){return Object(f.Q)(D.c).getById(t)},as:"accounts/".concat(t),fetchPolicy:gu},function(e){var a=e.data,r=e.fetchStatus,o=e.lastUpdate;if(!a)return null;if(Object(f.isQueryLoading)(e)&&!o)return c.a.createElement(hu,null);if("error"===r)return c.a.createElement(bu,null);var i=a.account_type;return c.a.createElement(f.Query,{query:Object(f.Q)(D.g).getById("".concat(D.g,"/").concat(i)),as:"konnectors/".concat(t),fetchPolicy:gu},function(e){var t=e.data,r=e.fetchStatus,o=e.lastUpdate;if(Object(f.isQueryLoading)(e)&&!o)return c.a.createElement(hu,null);if("error"===r)return c.a.createElement(bu,null);var i=t.attributes;return c.a.createElement(f.Query,{query:D.r.query,as:D.r.as,fetchPolicy:D.r.fetchPolicy},function(e){var t=e.data,r=e.fetchStatus,o=e.lastUpdate,l=t.filter(function(e){return e.message&&e.message.account===a._id});if(Object(f.isQueryLoading)(e)&&!o)return c.a.createElement(hu,null);if("error"===r)return c.a.createElement(bu,null);var s=[a].map(function(e){return{account:e,trigger:l[0]}}).filter(function(e){return e.trigger});return n({triggers:l,konnector:i,accountsAndTriggers:s})})})})},yu=function(e){var t=e.children,n=O(),a=Object(o.useMemo)(function(){return function(e){return{trackPage:function(t){var n="parametres:comptes:".concat(t);e.trackPage(n)},trackEvent:function(t){return e.trackEvent(t)}}}(n)},[n]);return c.a.createElement(au.a.Provider,{value:a},t)},Eu=c.a.memo(function(e){var t=e.reconnect,n=e.connectionId,a=e.intentsApi;return c.a.createElement(vu,{connectionId:n},function(e){var r=e.konnector,o=e.accountsAndTriggers;return c.a.createElement(tu.a,{konnector:r,intentsApi:a,accountId:n,accounts:o,reconnect:t})})});Eu.displayName="EditAccountModalBanks";var Cu=function(e){var t=e.connectionId,n=e.onDismiss,a=e.intentsApi,r=Object($i.a)({open:!0,size:"medium"}).dialogProps;return c.a.createElement(nu.a,null,c.a.createElement(eu.g,null,c.a.createElement(yu,null,c.a.createElement(pu,{initialFragment:"/accounts/".concat(t),routes:[["/accounts/:connectionId",function(e){return c.a.createElement(Zi.a,I()({},r,{onClose:n}),c.a.createElement(el.a,{onClick:n}),c.a.createElement(vu,{connectionId:e},function(t){var r=t.triggers,o=t.konnector,i=t.accountsAndTriggers;return c.a.createElement(ou,{accountId:e,triggers:r,intentsApi:a,konnector:o,accountsAndTriggers:i,onDismiss:function(){n()}})}))}],["/accounts",function(){return null}],["/accounts/:connectionId/edit?reconnect",function(e){return c.a.createElement(Eu,{connectionId:e,reconnect:!0,intentsApi:a})}],["/accounts/:connectionId/edit",function(e){return c.a.createElement(Eu,{connectionId:e,reconnect:!1,intentsApi:a})}]]})),c.a.createElement(eu.f,null)))},ku=function(e){var t=e.trigger,n=e.label,a=Object(d.useI18n)().t,r=Object(o.useState)(),i=R()(r,2),l=i[0],s=i[1],u=Object(o.useCallback)(function(){s(t.message.account)},[t]),m=Object(h.b)().isMobile;return c.a.createElement(c.a.Fragment,null,c.a.createElement(ht.b,{theme:"secondary",extension:m?"full":"narrow",className:"u-mh-0",label:n||a("Transactions.trigger-error.cta"),onClick:u}),l?c.a.createElement(Cu,{connectionId:l,onDismiss:function(){return s(null)}}):null)};ku.propTypes={trigger:V.a.object.isRequired,error:V.a.object.isRequired,label:V.a.string};var _u=ku,wu=n("s2wB"),Ou=function(e){var t=e.index,n=e.count,a=e.error,r=e.className,o=Object(d.useI18n)(),i=o.t,l=o.lang,s=a.bankName,u=a.trigger,m=new $s.a(u.current_state.last_error),f={slug:u.message.slug,name:s},p=Object($s.g)(m,f,l,"title");return c.a.createElement(Xs.a,{theme:"danger",className:"u-bdrs-0 u-maw-none u-p-1-half "+(r||""),action:c.a.createElement(_u,{trigger:u,error:a}),description:c.a.createElement(c.a.Fragment,null,c.a.createElement(Dn.default,{className:"u-error",variant:"h5"},p+(n>1?" (".concat(t+1,"/").concat(n,")"):"")),c.a.createElement(Dn.default,{variant:"body1"},c.a.createElement(pt.default,{icon:wu.a,className:"u-mr-half"}),i("Transactions.trigger-error.description",{bankName:s})))})},xu=Ou,Su=n("7VIw"),ju=n.n(Su),Tu={visibility:"hidden"},Au=c.a.memo(function(e){var t=e.children,n=e.className,a=function(e,t){var n=Object(o.useState)(e),a=R()(n,2),r=a[0],c=a[1],i=Object(o.useCallback)(function(e){c(e)},[c]),l=Object(o.useCallback)(function(){c(Math.max(e,r-1))},[r,e]),s=Object(o.useCallback)(function(){c(Math.min(t-1,r+1))},[t,r]);return[r,i,l,s]}(0,t.length),r=R()(a,4),i=r[0],l=r[1],s=r[2],u=r[3],d=Object(h.b)().isMobile;return c.a.createElement(jt.c,{className:n},c.a.createElement(jt.b,{style:0===i?Tu:null,className:"u-c-pointer u-slateGrey",onClick:s,"data-testid":"carrousel-previous"},c.a.createElement(pt.default,{className:d?"u-mh-half":"u-mh-1",icon:Tt.a})),c.a.createElement(jt.a,null,c.a.createElement(ju.a,{animateHeight:!0,disabled:!0,index:i},c.a.Children.map(t,function(e,t){return c.a.cloneElement(e,{active:t===i})})),c.a.createElement("div",{className:"u-ta-center u-slateGrey u-c-pointer"},Vt()(t.length).map(function(e,t){return c.a.createElement("span",{key:t,onClick:function(){return l(t)}},t===i?"●":"○")}))),c.a.createElement(jt.b,{style:i===t.length-1?Tu:null,className:"u-c-pointer u-slateGrey",onClick:u,"data-testid":"carrousel-next"},c.a.createElement(pt.default,{className:d?"u-mh-half":"u-mh-1",icon:dr.default})))}),Nu=n("7L+3"),Mu=Nu.trigger.triggers,Iu=Nu.trigger.triggerStates,Bu=function(e){var t=function(t){var n=ce(),a=n.bankingSlugs,r=n.isBankTrigger,o=n.isBankKonnector;return c.a.createElement(e,I()({},t,{bankingSlugs:a,isBankTrigger:r,isBankKonnector:o}))};return t.displayName="withBankingSlugs(".concat(e.displayName||e.name,")"),t},Fu=function e(t){var n,a,r,o,i,l,s,u,d=(a=(n=t).triggerCol,r=n.accounts,o=n.isBankTrigger,i=Zs()(r,Nu.utils.getCreatedByApp),l=ln()(i,function(e){return e&&e.institutionLabel}),s=a.data.filter(Mu.isKonnectorWorker).filter(o),!(u=Da()(s.filter(Iu.isErrored).filter(Mu.hasActionableError).filter(function(e){return i[e.message.konnector]}),function(e){return e.message.konnector})).length>0&&y()("banks.debug.force-trigger-error")&&(u.push(s[0]),u.push(s[0])),u.map(function(e){return{trigger:e,type:"errored-trigger",bankName:l[e.message.konnector],_id:e._id}})),m=d.length,f=m>1?Au:c.a.Fragment,p=m>1?{className:"u-bg-errorBackground"}:null;return y()("demo")?null:c.a.createElement(f,p,d.map(function(t,n){var a=e.errorTypeToComponent[t.type];if(!a)throw new Error("No component available for error ".concat(t.type));return c.a.createElement(a,{className:"u-flex-shrink-0",error:t,key:t._id,index:n,count:m})}))};Fu.errorTypeToComponent={"errored-trigger":xu},Fu.propTypes={triggerCol:V.a.object.isRequired,accounts:V.a.array.isRequired};var Lu=ge()(Object(i.connect)(function(e){return{accounts:Object(Qa.h)(e)}}),Object(f.queryConnect)({triggerCol:Za()({},D.r,{fetchPolicy:p.a.fetchPolicies.noFetch})}),c.a.memo,Bu)(Fu),Ru=n("uah0"),Du=n.n(Ru),Pu=function(e){return e===window?window.pageYOffset||document.documentElement.scrollTop:e.scrollTop},zu=function(e){if(e===window)return(window.document.scrollingElement||window.document.documentElement).getBoundingClientRect().height;if(e)return e.scrollHeight;throw new Error("getScrollHeight: no scrolling element !")};c.a.Component;function qu(e,t){if(!e)return!1;var n=e.getBoundingClientRect().top+t,a=0+window.innerHeight;return n>=0&&n<=a}var Gu=function(e){function t(e){var n;return Y()(this,t),n=tt()(this,at()(t).call(this,e)),st()(ot()(n),"getScroll",function(){var e=n.getScrollingElement();return Pu(e)}),st()(ot()(n),"handleScroll",function(){n.unmounted||(n.props.onScroll&&n.props.onScroll(n.getScrollInfo),n.checkForLimits())}),st()(ot()(n),"getScrollInfo",function(){return{scroll:n.getScroll(),scrollHeight:n.getScrollHeight()}}),n.checkForLimits=ye()(n.checkForLimits.bind(ot()(n)),100,{leading:!1}),n.onWindowResize=xt()(n.onWindowResize.bind(ot()(n)),500),n}return it()(t,e),W()(t,[{key:"componentDidMount",value:function(){this.scrollingElement=this.getScrollingElement(),this.listenToScroll(),this.checkForLimits(),window.addEventListener("resize",this.onWindowResize)}},{key:"componentWillUnmount",value:function(){this.stopListeningToScroll(),window.removeEventListener("resize",this.onWindowResize),this.unmounted=!0}},{key:"onWindowResize",value:function(){this.stopListeningToScroll(),this.listenToScroll()}},{key:"getScrollingElement",value:function(){return this.props.getScrollingElement.apply(this)}},{key:"componentDidUpdate",value:function(e){e.children!==this.props.children&&this.checkForLimits()}},{key:"listenToScroll",value:function(){if(!this.scrollingElement)throw new Error("getScrollingElement returned null, make sure it returns a node.");this.scrollingElement.addEventListener("scroll",this.handleScroll,{passive:!0})}},{key:"stopListeningToScroll",value:function(){this.scrollingElement&&this.scrollingElement.removeEventListener("scroll",this.handleScroll)}},{key:"getScrollHeight",value:function(){return zu(this.scrollingElement)}},{key:"checkForLimits",value:function(){if(!this.props.manual){var e=qu(this.limitMinRef,-this.props.thresoldTop),t=qu(this.limitMaxRef,this.props.thresoldBottom),n=this.props.canLoadAtTop,a=this.props.canLoadAtBottom;e&&n?this.props.onReachTop():t&&a&&this.props.onReachBottom()}}},{key:"render",value:function(){var e=this;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{ref:function(t){return e.limitMinRef=t}}),this.props.children,c.a.createElement("div",{ref:function(t){return e.limitMaxRef=t}}))}}]),t}(c.a.Component);Gu.defaultProps={thresoldTop:100,thresoldBottom:-100,thresoldForInfiniteScrollTop:150,getScrollingElement:function(){return Us.a.findDOMNode(this)}};var Hu=Gu,Vu=function(){function e(t){Y()(this,e),this.getScrollingElement=t,this.nodes={}}return W()(e,[{key:"addNode",value:function(e,t){this.nodes[e]=t}},{key:"getTopMostVisibleNodeId",value:function(){var e=this.getScrollingElement(),t=e===window?0:e.getBoundingClientRect().top,n=Da()(Object.entries(this.nodes).map(function(e){var t=R()(e,2),n=t[0],a=t[1],r=a?a.getBoundingClientRect():null;return[n,r?r.top:1/0]}),function(e){return e[1]}),a=ar()(n,function(e){return e[1]-t>=0});return a?a[0]:null}}]),e}(),Uu=n("k4Da"),Yu=n.n(Uu),Qu=new Ae.a({id:"icon-link-out_51f66518fb596ade772c1b52743c1466",use:"icon-link-out_51f66518fb596ade772c1b52743c1466-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-link-out_51f66518fb596ade772c1b52743c1466">\n  <g fill-rule="evenodd" transform="translate(-128 -160)">\n    <path d="M137,160 L137,162 L140.5,162 L134,168.5 L135.5,170 L142,163.5 L142,167 L144,167 L144,161.002929 C144,160.449027 143.562119,160 142.997071,160 L137,160 Z M135,162 L135,160 L129.002929,160 C128.449027,160 128,160.444631 128,161.000872 L128,174.999128 C128,175.551894 128.444631,176 129.000872,176 L142.999128,176 C143.551894,176 144,175.562119 144,174.997071 L144,169 L142,169 L142,174 L130,174 L130,162 L135,162 Z" />\n  </g>\n</symbol>'}),Wu=(Me.a.add(Qu),Qu),Ku=n("pI/q"),Ju=new Ae.a({id:"icon-collect-account_5a578bc1cccf26c7239b38203942b771",use:"icon-collect-account_5a578bc1cccf26c7239b38203942b771-usage",viewBox:"0 0 192 112",content:'<symbol viewBox="0 0 192 112" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771">\x3c!--Generator: Sketch 50.2 (55047) - http://www.bohemiancoding.com/sketch--\x3e<title>Group 5</title><desc>Created with Sketch.</desc><defs><polygon id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_path-1" points="0 0.000275226654 45.5542014 0.000275226654 45.5542014 45.8257088 0 45.8257088" /></defs><g id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_📱fusion-app-connecteur---1---201806" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_430-mobile---interapp-1-connecteur---pedagogic-modal" transform="translate(-69.000000, -102.000000)"><g id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Group-5" transform="translate(69.000000, 102.000000)"><path d="M82.7643965,30.251519 C82.1849776,28.1337009 80.5777198,23.0381732 80.4912269,22.7954891 C80.1729663,21.9129249 79.5616374,21.7424581 79.1417686,21.8734572 C78.6295286,22.0271292 78.3305821,22.577997 78.4615811,23.1297046 L78.4615811,23.1305444 C78.6177723,23.7855397 78.7622072,24.4413747 78.9091613,25.0988892 C78.9603852,25.3306568 79.0107695,25.5615847 79.0628332,25.7925125 C76.2387957,22.1505706 71.0038717,20.8095097 69.2185896,20.446743 C68.8768164,20.3770448 68.5316842,20.315744 68.2176224,20.2670392 C67.6113318,20.1217646 67.0042016,20.0000026 66.4155455,19.905952 C64.1012287,19.5364675 61.7894312,19.5196727 59.4751144,19.8639652 C57.8166327,20.110848 55.2982597,20.4786531 54.6961678,22.443639 C54.6054762,22.8542707 54.6869307,23.2203963 54.9119804,23.4219333 C55.0614537,23.5546118 55.2638304,23.595759 55.4930788,23.5176634 C55.9137873,23.374908 56.8987995,23.0373335 58.0400029,22.834117 C61.3704021,22.2337046 64.7100385,22.2916465 67.9631819,23.0087824 C70.1389419,23.4874328 72.2273693,24.2499145 74.173881,25.2718752 C75.1588932,25.7899933 76.4613262,26.5264431 77.6369588,27.5013785 C76.6939335,27.0504394 75.7307545,26.5860645 74.801165,26.0964975 C74.3132775,25.8386981 73.8245502,25.8252623 73.4651425,26.0620683 C73.1678754,26.2560476 73.0066458,26.5902632 73.0318379,26.9547093 C73.0671069,27.4459558 73.4164377,27.8817796 73.991658,28.1513354 C74.2931238,28.293251 74.5937498,28.4393653 74.8926964,28.5846399 C75.5350956,28.8970223 76.1993281,29.2194816 76.8333299,29.4789605 C78.3944021,30.3623644 80.0243328,31.0148405 81.8415249,31.7151817 C81.9775624,31.7689249 82.1211575,31.7790017 82.2555155,31.7504506 C82.375598,31.7252585 82.4872831,31.6681563 82.580494,31.5841826 C82.782031,31.4002801 82.9785296,31.0207187 82.7643965,30.251519" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-52" fill="#3281EE" transform="translate(68.758519, 25.691435) rotate(-16.000000) translate(-68.758519, -25.691435) " /><g id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Group-14" transform="translate(0.000000, 14.000000)"><g id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Group-49-Copy"><mask id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_mask-2" fill="white"><use xlink:href="#icon-collect-account_5a578bc1cccf26c7239b38203942b771_path-1" /></mask><g id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Clip-48"></g><path d="M0.604571429,28.8104571 C2.10121429,34.7469214 6.45971429,40.0944214 10.07975,42.3492429 C19.9705714,48.4992786 34.3578929,46.4194214 40.92275,36.6666 C47.5442857,26.8423143 48.6351429,11.3945286 33.5906786,2.74488571 C20.7878929,-4.61757857 4.93432143,3.70595714 0.924107143,17.3309929 C-0.156892857,20.9822429 -0.323642857,25.1140286 0.604571429,28.8104571" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-47" fill="#BBD9FD" mask="url(#icon-collect-account_5a578bc1cccf26c7239b38203942b771_mask-2)" /></g><path d="M12,29.2502068 C12,27.8748966 14.7497932,23.7506203 17.4995865,23.7506203 C20.2502068,23.7506203 18.8748966,25.1251034 23,25.1251034 C27.1251034,25.1251034 25.7497932,23.7506203 28.4995865,23.7506203 C31.2493797,23.7506203 34,27.8748966 34,29.2502068 C34,30.6246899 34,32 32.6246899,32 L13.3753101,32 C12,32 12,30.6246899 12,29.2502068 M23,22.3753101 C19.9624088,22.3753101 17.4995865,19.6048417 17.4995865,16.1876551 C17.4995865,12.7704684 19.9624088,10 23,10 C26.0375912,10 28.4995865,12.7704684 28.4995865,16.1876551 C28.4995865,19.6048417 26.0375912,22.3753101 23,22.3753101" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-50-Copy" fill="#3281EE" /></g><g id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Group-4" transform="translate(91.000000, 0.000000)"><path d="M13.9534046,107.867231 C16.3139069,109.402272 22.3658957,110.734935 27.2414121,111.269008 C40.5529322,112.729312 59.1606773,111.964311 67.0416145,109.304862 C74.9872115,106.626099 75.340741,102.561769 55.1383343,100.527085 C37.9388291,98.7930272 17.8674214,101.219029 13.5763624,104.855093 C12.4242424,105.828349 12.489742,106.914129 13.9534046,107.867231" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-1" fill="#BBD9FD" /><path d="M27.1218334,69.2778467 C26.9648025,69.2560135 26.84472,69.2954812 26.7397528,69.3551025 C25.7900096,69.2518148 24.7940808,69.6019854 24.022362,70.4408832 C22.5796928,72.0011157 22.7165701,74.7235449 24.4203976,75.98735 C26.0007838,77.1571044 28.8365776,76.1939254 29.8157116,74.4917773 C31.1282214,72.2169282 29.3160677,69.5952675 27.1218334,69.2778467" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-3" fill="#FF9300" /><path d="M62.8615688,15.1517211 C62.4123092,12.6148739 61.766551,10.1754362 60.5699249,8.19533496 C58.4521067,4.71126373 54.6724479,4.42827216 50.6005603,5.18235651 C48.7447403,5.46786729 46.8931189,6.05232465 45.2942585,6.51502006 C37.5602754,8.75460019 9.57602049,16.4827052 8.42809922,16.9386827 C4.18994364,18.6710613 3.95481712,21.8914549 4.87097082,25.5611082 C4.95830353,26.1514437 17.1000692,77.0168682 17.9305697,79.705708 C19.059177,83.3484896 20.9208752,86.6377417 24.3957093,87.0021878 C27.8772614,87.3809095 70.2630158,75.7874924 72.230521,75.0989076 C74.6405678,74.2516124 75.7179511,72.8845196 75.9849877,71.2445121 C76.3527928,70.3661466 76.2142361,69.3643396 76.0261348,68.1097717 C75.5382473,64.8121222 65.1204629,20.9912562 62.8615688,15.1517211" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-5" fill="#FFB15C" /><path d="M70.8218612,43.1492439 C68.6696137,37.4541436 66.7894413,31.6733901 65.1460749,25.8296562 C63.7202004,21.5050077 62.4555556,17.1282954 61.3899286,12.6902823 C60.6383635,9.98632727 59.9766503,7.25885961 59.436699,4.49528322 C59.1318743,4.06953627 58.7859024,3.75211546 58.3702323,3.64378932 C58.0267796,3.54805923 57.7001217,3.59088585 57.3810214,3.66982118 C57.3331564,3.67318013 57.2852913,3.65806485 57.2340674,3.67653908 C57.1047478,3.73364124 56.9939024,3.77898707 56.8629033,3.82769185 C56.6890777,3.89235164 56.5076943,3.95533196 56.3271508,4.00067779 C56.2893626,4.01579306 56.259132,4.06701706 56.2230233,4.0947284 C47.5594507,7.65185679 26.0630083,14.2782261 16.8359718,18.1065897 C16.3825135,18.3257612 15.891267,18.4811127 15.5301798,18.9337312 C15.0045041,19.4568877 14.6736475,20.2621961 14.7928902,21.4806553 C14.9028958,22.6856787 15.3462773,23.830241 15.6687365,24.9882392 C15.702326,25.1032832 15.7644666,25.1906159 15.8123316,25.2880255 C20.9775575,41.8216187 26.1511808,58.3501736 31.3273232,74.8720105 C31.3667909,75.0055288 31.4247328,75.0895025 31.4734376,75.1927903 C31.4734376,75.1927903 31.4742773,75.1961492 31.4734376,75.2028671 C31.5943598,75.6244154 31.7169614,76.0409252 31.8521592,76.4465185 C32.16958,77.5281005 32.5483017,78.5441829 33.081535,79.2974276 C33.2469633,79.5963741 33.4283466,79.8835644 33.6332426,80.1245691 C34.60146,81.2548559 35.9693926,81.0256075 37.0551733,80.4806178 C46.0176925,76.7362279 66.1067346,67.2564304 74.876954,63.5666234 C75.8099024,63.3096637 76.7881967,62.7831483 77.1946297,61.5621698 C77.4767815,60.6980799 77.4339549,59.744138 77.2441742,58.7641642 C74.6317506,53.7509308 72.7473794,48.2372139 70.8218612,43.1492439" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-7" fill="#BBD9FD" /><path d="M20.0210124,8.10413946 C19.8421483,9.20587516 20.0999478,11.5512622 20.1175823,12.6605556 C20.1226207,12.7730804 20.1562102,12.8713297 20.1780434,12.9662201 C20.8775448,27.491161 21.5778859,42.0186212 22.2899834,56.5444019 C22.3605213,58.006385 23.0163564,64.6881769 23.2833929,66.3256652 C23.2850724,66.3315434 23.2909506,66.3399408 23.2943095,66.3500176 C23.3102645,66.4801769 23.3514117,66.6170542 23.4672955,66.7396559 C24.2675654,67.6180214 24.8385869,68.6660139 25.7337472,69.4503288 C25.9755916,70.0347861 27.0479365,70.0171516 27.1772561,69.2210804 C27.3040565,68.4342463 27.6718615,67.7288667 28.0438653,67.0243269 C28.1060059,67.017609 28.1765438,67.0050129 28.2428831,66.9957758 C28.7055785,67.6121432 29.1573573,68.2352285 29.7426544,68.7483082 C29.9777809,69.3336052 31.056004,69.3109323 31.1811249,68.5148611 C31.3096047,67.7557383 31.6538972,67.0747112 32.0091062,66.3945237 C32.0561315,66.3886455 32.0997978,66.3810879 32.1426244,66.37437 C32.591884,66.9731029 33.0285476,67.574355 33.5987294,68.0714797 C33.8355354,68.6534178 34.9129187,68.6349436 35.0397191,67.8388724 C35.1598016,67.0957046 35.4973761,66.4197158 35.8492261,65.7512847 C35.9063283,65.7437271 35.9592317,65.7353297 36.0188531,65.7202144 C36.4630743,66.3122294 36.8972186,66.9034047 37.4564838,67.3912922 C37.6932898,67.9799483 38.7664745,67.9581151 38.8966338,67.1586849 C39.017556,66.4272735 39.3492524,65.7588424 39.6943845,65.0971291 C39.782557,65.0786549 39.8707294,65.0652191 39.9597416,65.0501038 C40.3964051,65.6328817 40.8271905,66.2156596 41.382257,66.7018677 C41.6232617,67.2880045 42.6964464,67.2678508 42.8257659,66.4692604 C42.9450087,65.7386887 43.2725063,65.0727768 43.619318,64.4119033 C43.6722214,64.4043456 43.7259646,64.3942688 43.7797078,64.3833522 C44.2188906,64.9661301 44.6488362,65.5497477 45.1988644,66.0309173 C45.4407088,66.6220926 46.5138934,66.5943813 46.6415335,65.7999895 C46.7599365,65.0702575 47.0907931,64.4077046 47.4317266,63.7468311 C47.5501296,63.7258377 47.6710518,63.7031648 47.7902945,63.68637 C48.2244389,64.2641095 48.6543845,64.8452079 49.2077716,65.328057 C49.4420584,65.9150336 50.515243,65.8932004 50.6479215,65.0946099 C50.7654848,64.3707561 51.091303,63.7065237 51.4364351,63.0523681 C51.5069731,63.0422913 51.5791905,63.0254965 51.6488887,63.0145799 C52.086392,63.5956784 52.5104595,64.1725781 53.0621671,64.649549 C53.2998128,65.2365256 54.3721577,65.2163719 54.5031568,64.4203007 C54.6223995,63.6998058 54.9456985,63.0397721 55.2824332,62.3931741 C55.3622083,62.3746999 55.4436629,62.3663025 55.5158803,62.352027 C55.9466657,62.924728 56.3724126,63.4991085 56.9174023,63.971041 C57.1558878,64.5588574 58.2307519,64.5370242 58.3609112,63.740953 C58.476795,63.0322144 58.7916966,62.3856165 59.1217135,61.7507749 C59.2325588,61.7264225 59.353481,61.7096277 59.4710443,61.6903138 C59.8909131,62.2512585 60.3107819,62.8164019 60.8465345,63.2807768 C61.0808212,63.8669136 62.1573648,63.8484394 62.2908831,63.0523681 C62.4017285,62.3705012 62.6939571,61.7457365 63.0155766,61.1285293 C63.142377,61.1041769 63.2674979,61.0915809 63.3900996,61.068908 C63.8024107,61.6138977 64.204645,62.1521694 64.7202439,62.6039483 C64.9604089,63.1892454 66.0361127,63.1682519 66.1620734,62.3721807 C66.3526938,61.2234197 67.0538747,60.2358883 67.5165701,59.1954534 C67.9733873,58.3632735 67.2461746,57.295967 66.9396704,55.3880832 C66.2107781,50.8241095 65.6918203,46.1602069 65.222407,41.759982 C64.6245138,36.1589323 64.291138,30.5570429 64.1794529,24.9417177 C63.9149356,20.7413503 63.8024107,16.5359445 63.884705,12.3145837 C63.8427182,9.71979456 63.884705,7.1308836 64.0476141,4.52937657 C64.0249412,4.46807573 63.9879928,4.42189016 63.9636404,4.36898669 C63.9376085,4.30264742 63.9191343,4.23126973 63.8679103,4.16493046 C63.8460771,4.13805886 63.8343208,4.11286673 63.8124876,4.09103355 C63.7679815,4.01041874 63.718437,3.93316289 63.6655335,3.86514414 C63.0659609,2.98761837 62.6057847,2.02611884 61.8693348,1.24600262 C61.6879515,0.638872352 60.6181258,0.554058857 60.4098709,1.33501481 C60.1898597,2.16635501 59.6994529,2.88349091 59.2317191,3.60398575 C58.7950555,2.89860619 58.3919815,2.16887423 57.814242,1.56174396 C57.6328587,0.950414995 56.5638728,0.873159138 56.3572973,1.6499164 C56.1482027,2.43255183 55.7014623,3.11357901 55.2564014,3.79460619 C54.8466094,3.12113664 54.4578109,2.44178894 53.9094623,1.85901106 C53.7339571,1.25356026 52.659093,1.17462493 52.4525176,1.95558088 C52.2434229,2.73485736 51.798362,3.41420506 51.3549806,4.09607198 C50.9451886,3.41756401 50.5513517,2.74073552 50.0046825,2.16635501 C49.8258184,1.55502605 48.7559928,1.47441125 48.5477378,2.25704667 C48.3344445,3.06319475 47.8658709,3.76017694 47.4124126,4.45547966 C46.9908644,3.76521537 46.5936685,3.06319475 46.0327238,2.46950028 C45.8513405,1.86488922 44.7798353,1.78259494 44.5732599,2.56103168 C44.3708831,3.33191078 43.9333798,4.00286111 43.4908381,4.67045248 C43.0902833,4.00538032 42.700645,3.34282737 42.1657322,2.77348529 C41.9877078,2.16131659 40.9153629,2.08238126 40.710467,2.86333721 C40.4887763,3.6921582 39.9958503,4.4092941 39.5272767,5.13062868 C39.0914529,4.41853121 38.6875391,3.6921582 38.1123189,3.08334845 C37.9334548,2.47705792 36.8602702,2.39728285 36.6545345,3.17320037 C36.4496385,3.95751528 35.9961802,4.63938219 35.5536385,5.3187299 C35.1438465,4.64274114 34.7525288,3.96003449 34.2058597,3.38733346 C34.0269956,2.77852371 32.9571699,2.6979089 32.7514342,3.4755059 C32.5431793,4.25562212 32.0964389,4.94000825 31.6505382,5.61683674 C31.2432655,4.9433672 30.8494286,4.26401949 30.3027594,3.68628004 C30.1272542,3.08082924 29.0540696,2.99601575 28.8466544,3.78117038 C28.6375598,4.58563899 28.1639478,5.28346092 27.7079703,5.98212259 C27.2881015,5.28765961 26.8867069,4.59067741 26.3308006,3.99446373 C26.1510968,3.38733346 25.0762327,3.30419944 24.8738559,4.0876746 C24.7260621,4.63182455 24.464064,5.12559025 24.1693161,5.60592015 C23.9123564,5.19948716 23.6428006,4.80565023 23.3102645,4.4496015 C23.1305607,3.84834939 22.0582158,3.7635359 21.8508006,4.53777395 C21.5560527,5.66470178 20.7633405,6.58253496 20.1973573,7.57594452 C20.1906394,7.59777769 20.1914792,7.61037376 20.1780434,7.62968772 C20.1125438,7.73549466 20.0537622,7.87825005 20.0210124,8.10413946" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-9" fill="#FFE2A1" /><path d="M77.3995256,22.0245533 C77.6329727,19.7169545 77.6699211,17.4379067 77.1182136,15.4443696 C76.1424385,11.9099142 72.9405191,10.7267239 69.2263598,10.384111 C67.5426859,10.1716574 65.8035894,10.2287595 64.3063373,10.2354774 C56.9359605,10.2766246 30.6555331,10.13135 29.8132764,10.2254006 C25.7212351,10.6838973 24.7236269,13.4164034 24.6228584,16.8165008 C24.5556794,17.3539329 22.5932126,64.3859554 22.6570327,66.9160847 C22.7468846,70.3472525 23.5479943,73.6482609 26.4677618,74.8280922 C29.3850102,75.9986864 68.9366503,76.3572544 70.8210214,76.2438898 C73.1025884,76.0994549 74.3773101,75.180782 75.0012351,73.8229263 C75.5420261,73.1460978 75.6612689,72.2542965 75.81746,71.1223303 C76.2003804,68.1446208 77.9277206,27.6298017 77.3995256,22.0245533" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-11" fill="#B7F6F7" /><path d="M80.0171556,57.6641919 C80.1489944,51.5760945 80.566344,45.5115097 81.225538,39.4788349 C81.5211256,34.9341751 81.9838211,30.3995921 82.6556111,25.8851629 C82.9688332,23.0972341 83.372747,20.3185425 83.9068201,17.5558058 C83.7808595,17.0477646 83.5784827,16.6228574 83.2341903,16.3684169 C82.950359,16.1509248 82.6329382,16.0669511 82.3079598,16.022445 C82.2617742,16.0081694 82.2231463,15.9754197 82.1694031,15.9737402 C82.0274874,15.9779389 81.9074049,15.9754197 81.769688,15.9754197 C81.5815868,15.9695415 81.3926458,15.9619839 81.2070638,15.9367918 C81.1650769,15.9325931 81.1188913,15.9720607 81.0743853,15.9812978 C71.7079523,16.0425987 49.292837,14.1548686 39.3058379,14.2564769 C38.8036749,14.2909061 38.288076,14.249759 37.7842334,14.53443 C37.1023665,14.82246 36.4943965,15.4480645 36.1492644,16.6228574 C35.7999335,17.7808555 35.7806196,19.0085518 35.6504602,20.2018189 C35.6378642,20.3193822 35.6630563,20.4251891 35.6697742,20.5335153 C34.278329,37.7993597 32.9011594,55.0635246 31.5273487,72.3226512 C31.5122334,72.4612079 31.5332269,72.5619764 31.542464,72.6761807 C31.542464,72.6761807 31.542464,72.6786999 31.5382653,72.6812191 C31.4920797,73.1204019 31.4500928,73.5537065 31.4215418,73.9828124 C31.3148951,75.1021826 31.2846645,76.1846043 31.4987976,77.081444 C31.542464,77.4223775 31.6020853,77.7565931 31.7028539,78.0563794 C32.1764659,79.465459 33.5301228,79.7660851 34.7418642,79.6653166 C44.4551088,79.5443944 66.6300591,78.2612754 76.1451256,78.1168405 C77.1057854,78.2285256 78.2108801,78.1050842 79.0422203,77.1234309 C79.6291969,76.4298077 79.9449382,75.5270898 80.1372381,74.5462763 C79.5863703,68.918355 79.8995924,63.1031723 80.0171556,57.6641919" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-13" fill="#FF8E8E" /><path d="M72.3783148,28.3316544 C72.2280017,25.7419037 71.871953,23.2302485 70.9079343,21.1141098 C69.2041067,17.3848352 65.4681142,16.6576225 61.3105734,16.9271783 C59.4203241,16.9918381 57.5057225,17.3579636 55.8522792,17.6317181 C47.7286578,18.9778174 18.7216025,23.4435419 17.8054488,23.6870658 C17.2848115,23.8323404 15.8287065,24.3034332 15.4096775,24.5007715 C12.2564629,25.9770302 12.8132089,28.5499861 13.2397956,31.8761867 C13.2549108,32.4782785 19.3740786,84.7049177 19.8846391,87.4894875 C20.5874994,91.2599093 22.054521,94.7607753 25.48149,95.539212 C28.915177,96.3302448 72.6117618,89.7534201 74.6548434,89.3016412 C77.1597806,88.7373376 78.3983935,87.4995644 78.8585697,85.8914669 C79.3338612,85.059287 79.3078293,84.0432045 79.2700411,82.7726815 C79.174311,79.4170902 73.9461048,34.4281492 72.3783148,28.3316544" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-15" fill="#FEC267" /><path d="M22.8985412,70.0126171 C20.4204756,55.2836199 17.7165206,40.4992 15.6180164,25.724857 C15.5961832,25.5459929 15.4903763,24.9287858 15.404723,24.8011456 C15.4290754,24.3476873 13.9939639,24.9615355 12.6596209,24.841453 C12.6184737,24.841453 12.096157,24.7725946 12.0550098,24.7725946 C11.6183463,24.6877811 11.1900801,24.5954099 10.7441794,24.4366995 C8.57849622,23.6523846 7.71020756,21.8343528 7.73623943,19.8147839 C7.76395077,18.0043097 9.18310728,17.206559 9.12852434,16.7237098 C9.09913352,16.4633912 7.53218319,17.2728982 7.35079988,17.3350388 C7.10475676,17.4139741 5.44375583,18.4871588 4.68715226,19.8114249 C3.92635002,21.1457679 4.16567523,23.0385365 4.20934158,24.7154924 C4.35797513,30.3686058 9.08905667,65.2504652 10.0043706,72.5469451 C9.98841562,72.6384765 10.2227024,74.4346752 10.3377465,75.2374643 C10.5678346,77.0059516 10.8071598,78.7761185 11.0574016,80.5437661 C11.2513809,81.9276536 12.0650867,89.7775205 12.2330342,90.1394474 C14.2996284,94.6244858 20.089619,96.1544877 24.7333678,95.830349 C24.9970454,95.846304 25.2523256,95.8202722 25.6612779,95.7690482 C26.176037,95.7035486 26.8948524,95.7892019 27.7043594,95.625453 C27.6153472,94.1273612 24.0850904,77.0571756 22.8985412,70.0126171" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-17" fill="#FF9300" /><path d="M45.7650154,62.336072 C45.6776827,62.0791123 45.8153997,61.8339089 46.095872,61.7826849 L55.8267511,59.999922 C56.0979864,59.9478583 56.329754,60.1367993 56.329754,60.4055153 C56.329754,60.4055153 56.8117633,65.3566081 51.9429648,66.2509286 C47.0716471,67.1402107 45.7650154,62.336072 45.7650154,62.336072" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-19" fill="#3281EE" /><path d="M45.1892913,43.7716574 C42.9648265,39.855961 38.1976362,37.7011944 34.0048265,39.3764709 C33.0189746,39.5956424 32.112058,40.0482609 31.3478968,40.6747052 C31.2765191,40.7192112 31.2135388,40.7796724 31.1463598,40.8283771 C31.0867384,40.8804409 31.0254376,40.9325046 30.9700149,40.9828888 C30.1999755,41.5665065 29.5827684,42.3138729 29.1351883,43.2392637 C29.049535,43.3870575 28.9605228,43.5331719 28.8857862,43.6851644 C28.8681517,43.7372281 28.8278443,43.7682984 28.8135688,43.8195224 C28.7589858,43.9614381 28.7354732,44.1016742 28.6859286,44.2461091 C28.441565,44.8700341 28.2794957,45.5183115 28.2072782,46.2035374 C27.9645941,47.6646808 27.9956644,49.1275037 28.492789,50.6952937 C29.3652764,53.4445946 32.6805603,54.8209245 35.2358818,55.2441522 C37.1017787,55.5514962 39.2263148,55.1114737 41.0535838,54.3204409 C43.6660074,53.1859554 44.4721555,51.7180941 45.1557018,49.7682234 C45.8543635,47.7730069 46.3011039,45.7257267 45.1892913,43.7716574" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-21" fill="#BBD9FD" /><path d="M69.7861288,39.8157376 C68.7507324,37.7902905 67.0947699,36.5147291 65.0961944,35.7816382 C65.0516883,35.7522474 65.023977,35.7169784 64.9752722,35.6833889 C63.7341401,34.7991453 62.0462675,34.4649297 60.4658814,34.6832615 C56.7643182,34.9259456 53.3961307,38.1219869 52.2843182,41.7756851 C51.7200145,43.6373833 51.7871935,45.9357451 52.7402957,47.6622455 C54.1686893,50.2519963 56.5426274,51.523359 59.3582675,52.1128547 C64.0599583,53.1037451 69.219306,49.8673964 70.3899002,45.2765511 C70.8433585,43.5055445 70.6216677,41.4423093 69.7861288,39.8157376" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-23" fill="#BBD9FD" /><path d="M40.0229738,49.9015738 C39.1462878,49.9998231 38.355255,49.3649814 38.2561659,48.4840967 C38.1654743,47.7904735 37.7657592,46.6257575 36.1601809,46.8046216 C34.4093281,46.995242 34.4328407,48.4580649 34.479866,48.9006066 C34.5781153,49.7831708 33.9441135,50.5708446 33.0665877,50.6699336 C32.1882222,50.764824 31.3963496,50.1341811 31.2981003,49.2524566 C31.0747301,47.2152532 32.0908126,44.035167 35.8100104,43.6211764 C39.5275286,43.2139037 41.2137217,46.0975625 41.4362522,48.1314069 C41.5353412,49.0114519 40.9038585,49.8050039 40.0229738,49.9015738" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-25" fill="#3281EE" /><path d="M64.8534263,46.3277346 C63.9717018,46.4268236 63.1831883,45.7928217 63.0874582,44.9127768 C62.9934076,44.220833 62.5945322,43.0569567 60.9881142,43.2333016 C59.2372614,43.4289604 59.260774,44.8884244 59.3077993,45.3318058 C59.4035294,46.2093316 58.7728865,47.0012041 57.8920017,47.0986137 C57.0169952,47.1918246 56.2242829,46.5603419 56.1268734,45.6811366 C55.9026634,43.648132 56.9162267,40.4646868 60.6362642,40.0548948 C64.3563017,39.6400645 66.0408152,42.5262425 66.2667047,44.5617664 C66.364954,45.4426512 65.7309521,46.2311648 64.8534263,46.3277346" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-27" fill="#3281EE" /><path d="M44.4357108,44.073459 C44.3777689,44.0650617 44.3307436,44.0835359 44.2921157,44.112087 C43.9251504,44.0944525 43.5523069,44.2540026 43.276873,44.5932566 C42.7671523,45.2280982 42.8889142,46.2676933 43.5691017,46.7043569 C44.2031035,47.1133091 45.2645318,46.6732866 45.5953884,45.9964581 C46.0404494,45.0979389 45.2838458,44.1406381 44.4357108,44.073459" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-29" fill="#FF9300" /><path d="M53.609676,42.8753215 C53.5525738,42.870283 53.507228,42.8853983 53.4727988,42.9156289 C53.1016347,42.8971546 52.7313105,43.0575445 52.4558765,43.3976382 C51.9444764,44.0324799 52.0653986,45.0678763 52.7472655,45.5062193 C53.3812674,45.9151715 54.4426957,45.4768285 54.7735523,44.8 C55.2169337,43.8989616 54.4628494,42.9433402 53.609676,42.8753215" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-31" fill="#FF9300" /><path d="M54.4026402,43.3402842 C53.8442147,41.3114782 51.120106,40.1081342 49.190389,40.2416525 C46.8962259,40.4045616 43.9563047,42.3720667 43.5372756,44.7829533 C43.3105465,46.0845466 45.4888257,46.3028784 45.7029588,45.0684641 C46.1799298,42.3435157 51.1226252,41.0377237 52.2243609,43.8474857 C52.2461941,44.0649777 52.3620779,44.2824697 52.6358323,44.4588146 C52.6492681,44.4730902 52.6669026,44.4798081 52.6794987,44.4890452 C53.5393899,45.0499899 54.684792,44.3664435 54.4026402,43.3402842" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-33" fill="#FFB15C" /><path d="M22.499162,32.7402767 C22.3228171,32.7058474 22.1825809,32.7436356 22.0624985,32.8057762 C20.9884741,32.6395082 19.8388734,32.9905185 18.9168415,33.900794 C17.2004179,35.5987434 17.2214113,38.7015738 19.0889877,40.2214988 C20.8264047,41.6314182 24.0929839,40.681675 25.2938087,38.7981436 C26.9002267,36.2806103 24.9755481,33.2122092 22.499162,32.7402767" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-35" fill="#FF9300" /><path d="M24.6862585,51.5991033 C24.5317468,51.5705522 24.4091451,51.6016225 24.3024985,51.6562054 C23.3577937,51.5100911 22.3475894,51.8191145 21.5380823,52.6210639 C20.0282342,54.1132776 20.0441892,56.8390658 21.6883954,58.179287 C23.2150383,59.4195794 26.08946,58.5848802 27.1450102,56.9263985 C28.5582885,54.7120105 26.867057,52.0130939 24.6862585,51.5991033" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-37" fill="#FF9300" /><path d="M27.6862585,69.5991033 C27.5317468,69.5705522 27.4091451,69.6016225 27.3024985,69.6562054 C26.3577937,69.5100911 25.3475894,69.8191145 24.5380823,70.6210639 C23.0282342,72.1132776 23.0441892,74.8390658 24.6883954,76.179287 C26.2150383,77.4195794 29.08946,76.5848802 30.1450102,74.9263985 C31.5582885,72.7120105 29.867057,70.0130939 27.6862585,69.5991033" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-37" fill="#FF9300" /><path d="M17.5665435,37.2374073 C17.324699,40.8507981 12.2661198,41.0934823 9.17084711,40.1588544 C8.91472715,40.0631243 8.65692771,39.9665545 8.42096145,39.8506707 C8.16904017,39.7272292 7.8768115,39.5450062 7.5753457,39.3199565 C7.52580119,39.2838478 6.96905517,38.8177934 6.88424167,38.7388581 C6.22168872,38.1250099 5.62631478,37.3742845 5.41218169,36.6470718 C5.26186867,35.3841065 5.1174338,34.1564101 4.98895395,33.0227644 C4.41961187,33.1655198 3.8662248,33.3981271 3.38589491,33.7163876 C2.52936257,34.28489 2.0003279,34.8987381 1.61656782,35.8551993 C1.56282462,35.9853586 1.5401517,36.1213961 1.5132801,36.2599528 C1.31090334,36.630277 1.17570559,37.0358703 1.17402612,37.4565788 C0.229321337,40.8827082 2.75861093,43.4371899 6.4022323,44.7127513 C6.38375808,44.5649575 6.36612359,44.4230418 6.34764936,44.2760877 C6.35268779,44.2786069 6.35856595,44.2828056 6.36444411,44.2853248 C6.37620044,44.4272405 6.38375808,44.5649575 6.4022323,44.7127513 C12.8169877,46.9607288 22.6956606,45.2359078 23.2305734,37.2374073 C23.4522642,33.9515142 17.7873944,33.9515142 17.5665435,37.2374073" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-39" fill="#BBD9FD" /><path d="M22.8370724,52.7938819 L22.6027856,52.7913627 C20.5681015,52.7569335 19.6586657,54.3532746 19.8996704,55.7589953 C19.4008662,57.6089372 15.7975523,58.2454583 14.3019796,58.5318088 C12.2740134,58.9197676 10.5206413,58.6166223 9.46509116,57.4980918 C9.45837326,57.4896945 9.45081562,57.4804574 9.44325798,57.4712202 C9.33577157,57.3553365 9.2425607,57.2226579 9.15018957,57.0899794 C8.56237326,56.2124536 8.1366263,55.2803449 7.63614271,54.3717488 C7.51018207,53.395134 7.38422143,52.4176795 7.25490184,51.4200712 C6.61754102,51.4267891 2.72115864,51.9868941 2.74215208,54.5195426 C2.77994027,59.0264142 5.24876876,61.8093046 8.75971159,62.9899756 C8.75383343,62.9437901 8.74795526,62.8942455 8.74123736,62.84806 C8.75047448,62.8505792 8.75719238,62.8530984 8.76642949,62.8564574 L8.75971159,62.9899756 C10.2930724,63.5047348 12.0363676,63.7180281 13.8972261,63.6264967 C18.4267706,63.404806 25.7904295,60.9460544 25.6291999,55.3634789 C25.5855335,53.8611884 24.2940171,52.8173946 22.8370724,52.7938819" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-41" fill="#BBD9FD" /><path d="M10.0040347,72.5466092 C9.98807973,72.6381406 10.2232062,74.4343393 10.3374106,75.2371284 C10.5683384,77.0064555 10.8068239,78.7757826 11.0579054,80.5434302 C11.0830975,80.7256532 11.120046,81.0262793 11.1645521,81.4024817 C11.420672,81.4713402 11.6784715,81.5443974 11.9362709,81.6006598 C17.9890994,82.9517976 26.4074687,80.2201312 28.2859616,73.6920112 C29.1298979,70.7529297 24.7884546,69.5210347 23.2408182,71.5389241 C21.2590376,73.3687123 19.3561922,74.1446298 16.7043009,74.5770947 C15.2935418,74.8071828 10.8605671,75.2925511 10.5288707,73.9666054 L10.0040347,72.5466092 Z" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-43" fill="#BBD9FD" /><path d="M10.3377465,75.2372124 C10.2227024,74.4344232 9.98841562,72.6382246 10.0043706,72.5466932 C9.91787766,71.8522302 9.79527598,70.9066857 9.64580269,69.7612836 C8.77583455,69.1877428 7.60440062,69.0416285 6.65381768,69.6663933 C4.19926473,71.2778497 3.44266117,73.4729237 4.50157026,76.2692499 C5.59238938,79.1461908 8.34756838,80.6434429 11.1640482,81.4025657 C11.1203819,81.0263633 11.0834334,80.7257372 11.0574016,80.5435142 C10.8071598,78.7758665 10.5678346,77.0056997 10.3377465,75.2372124" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-45" fill="#BBD9FD" /><path d="M67.8116823,88.9652829 C68.8924245,93.2605406 72.0464789,97.1300514 74.6681396,98.7608218 C81.8235436,103.21311 92.2320909,101.707461 96.9833261,94.651146 C101.77151,87.5410879 102.560863,76.3675397 91.6778641,70.1098152 C82.4130393,64.78252 70.9481021,70.8042782 68.0417704,80.6619577 C67.2624939,83.3062913 67.1398922,86.2923981 67.8116823,88.9652829" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-54" fill="#CBF7D8" /><g id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Group-3" transform="translate(74.302405, 75.051546)" fill="#35CE68"><path d="M18.4040816,8.2676346 C18.4211347,8.18792612 18.4398932,8.1090656 18.4398932,8.02342139 L18.4398932,3.43933599 C18.4398932,2.80590799 17.9240359,2.29289066 17.2871014,2.29289066 C16.7678335,2.29289066 16.3449158,2.64140326 16.2016695,3.1111745 C14.4852718,1.19986697 11.9784613,0 9.22011711,0 C5.60058975,0 2.32468301,2.07581226 0.80098563,5.25227987 C0.527282855,5.82380661 0.770289992,6.50811236 1.34498056,6.78030833 C1.91967112,7.0525043 2.60776501,6.81083498 2.88146779,6.23930824 C4.02488032,3.85738152 6.49332124,2.29289066 9.22011711,2.29289066 C10.9927902,2.29289066 12.6264803,2.95006162 13.8696537,4.03121383 C13.5260331,4.01934236 13.1815598,4.14144896 12.9453739,4.42466844 C12.5369514,4.91055097 12.6026059,5.633863 13.0928835,6.03834112 L16.5495534,8.90360649 C16.55808,8.91123815 16.5683119,8.91378204 16.5759858,8.92056574 C16.6007128,8.93922091 16.6288505,8.95109239 16.6544302,8.96720368 C16.7490751,9.0299529 16.8454253,9.07828677 16.9468914,9.10966138 C16.9767344,9.11983693 17.0057247,9.12662063 17.037273,9.13340433 C17.1643189,9.16223506 17.290512,9.17156265 17.4158526,9.15714728 C17.4260844,9.15629932 17.434611,9.16053913 17.4448429,9.15884321 C17.4482535,9.15884321 17.4508115,9.15629932 17.4542221,9.15629932 C17.5889419,9.13510026 17.7168403,9.08761436 17.8370649,9.0231692 C17.8677606,9.00536199 17.8941929,8.98670682 17.9231833,8.96720368 C18.0161228,8.90615038 18.0988305,8.8332256 18.1713063,8.74673342 C18.1849488,8.72977417 18.202002,8.71535881 18.2147918,8.69839956 C18.2940889,8.59070832 18.3563328,8.47029764 18.3938497,8.33377567 C18.400671,8.31257661 18.3989656,8.28883366 18.4040816,8.2676346" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-19" /><path d="M17.0667749,11.6047911 C16.495495,11.3249635 15.8048431,11.5581532 15.5234665,12.1262881 C14.3510636,14.4912555 11.8979705,16.0464188 9.22062871,16.0464188 C7.51446281,16.0464188 5.9106157,15.3909438 4.66658969,14.3174232 C4.9769567,14.3030079 5.28050246,14.1707257 5.49537193,13.914641 C5.90294179,13.4279105 5.83728723,12.7054465 5.34786233,12.3001204 L1.89033973,9.43485501 C1.87840254,9.42467946 1.86305472,9.42128761 1.85026487,9.41111206 C1.82127454,9.38906503 1.78972625,9.37380171 1.75903061,9.35514653 C1.66609104,9.29663712 1.57229881,9.25254307 1.4742433,9.22371234 C1.44354766,9.21523272 1.41455734,9.20675309 1.38215638,9.19996939 C1.10504298,9.14400386 0.82537161,9.19233773 0.587480412,9.32631581 C0.556784774,9.34412302 0.528647105,9.36193023 0.498804124,9.38312929 C0.402453925,9.44927037 0.31548295,9.52813089 0.243007137,9.62140676 C0.234480571,9.63327824 0.222543378,9.64175786 0.214016812,9.65278138 C0.137277716,9.76132058 0.0792970658,9.88427515 0.0434854877,10.0199491 C0.0349589215,10.0496278 0.0358115781,10.0810025 0.0306956384,10.1115291 C0.0187584457,10.1785181 0,10.2438113 0,10.3150401 L0,14.8999735 C0,15.5334015 0.516709913,16.0464188 1.15279175,16.0464188 C1.7001973,16.0464188 2.13590484,15.6597479 2.25442411,15.1526663 C3.98361174,17.0987403 6.49468549,18.3384615 9.22062871,18.3384615 C12.785586,18.3384615 16.0350604,16.2796085 17.5903061,13.1396033 C17.8716828,12.5723163 17.6380549,11.8846187 17.0667749,11.6047911" id="icon-collect-account_5a578bc1cccf26c7239b38203942b771_Fill-21" /></g></g></g></g></g></symbol>'}),Zu=(Me.a.add(Ju),Ju),Xu=function(e){var t=e.onCancel,n=e.onConfirm,a=e.title,r=e.description,o=e.caption,i=e.cancelText,l=e.confirmText;return c.a.createElement(Ku.a,{open:!0,size:"small",onClose:t,title:c.a.createElement(Wo.a,{spacing:"m",className:"u-ta-center"},c.a.createElement(pt.default,{icon:Zu,width:192,height:112,className:"u-m-auto"}),c.a.createElement(Dn.default,{variant:"h4"},a)),content:c.a.createElement(c.a.Fragment,null,c.a.createElement(Dn.default,{tag:"p"},r),c.a.createElement(Dn.default,{variant:"caption",tag:"p",color:"textSecondary"},o)),actions:c.a.createElement(c.a.Fragment,null,c.a.createElement(ht.c,{className:"u-flex-grow-1",onClick:t,theme:"secondary",label:i}),c.a.createElement(ht.c,{className:"u-flex-grow-1",onClick:n,label:l}))})};Xu.propTypes={onCancel:V.a.func.isRequired,onConfirm:V.a.func.isRequired,title:V.a.string.isRequired,description:V.a.string.isRequired,caption:V.a.string.isRequired,cancelText:V.a.string.isRequired,confirmText:V.a.string.isRequired};var $u=Xu,ed=n("MpqP"),td=function(e){function t(){return Y()(this,t),tt()(this,at()(t).apply(this,arguments))}return it()(t,e),W()(t,[{key:"render",value:function(){var e=this.props,t=e.client,n=e.slug,a=Yt()(e,["client","slug"]);return c.a.createElement(ed.a,I()({action:"INSTALL",doctype:"io.cozy.apps",mobileFullscreen:!0},a,{options:{slug:n},create:t.intents.create.bind(t.intents)}))}}]),t}(c.a.Component),nd=Object(f.withClient)(td),ad=function(e){function t(){return Y()(this,t),tt()(this,at()(t).apply(this,arguments))}var n;return it()(t,e),W()(t,[{key:"componentDidMount",value:(n=oe()(ae.a.mark(function e(){var t;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.client,e.next=3,t.intents.redirect("io.cozy.apps",{slug:this.props.slug,type:"konnector"},open);case 3:e.sent.addEventListener("exit",this.props.onComplete);case 5:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"render",value:function(){return null}}]),t}(c.a.Component),rd=(Object(f.withClient)(ad),function(e){return c.a.createElement(nd,e)});rd.propTypes={dismissAction:V.a.func.isRequired,onComplete:V.a.func.isRequired,slug:V.a.string.isRequired};var od=rd,cd=n("G4qV"),id=n("HsJB"),ld=function(e){return e?id.filter(e):id},sd=function(e,t){return function(e){return new RegExp(e.regexp,"i")}(e).test(t)},ud=function(e,t){return ar()(e,function(e){return sd(e,t)})},dd=Nu.trigger.triggers,md=dd.getKonnector,fd=dd.isKonnectorWorker,pd=ld(),hd=function(e){var t=function(e){return Object(f.isQueryLoading)(e)&&!Object(f.hasQueryBeenLoaded)(e)?[]:e.data.filter(fd).map(md).filter(Boolean)}(e);return pd.map(function(e){return Za()({},e,{hasTrigger:Ma()(t,e.konnectorSlug)})})},bd=Object(cd.a)([function(e){return e}],function(e){return e.filter(function(e){return!e.hasTrigger})}),gd=function(e,t){var n=bd(t);if(!n||0===n.length)return null;var a=ud(n,e);return!a||a.maintenance?null:a},vd=function(e){return Object(cd.a)([Object(ni.k)(e)],hd)},yd=(Object(cd.a)([vd],bd),function(e,t){var n=t.brands;if(!function(e){return e&&(e.COLLECT||e.HOME)}(t.urls))return!1;var a=gd(e.label,n);return!(!a||!a.konnectorSlug)&&a}),Ed=function(e){var t=Object(d.useI18n)().t,n=e.konnectorType,a=Yt()(e,["konnectorType"]);return c.a.createElement(ur.a,I()({className:"u-mb-0",size:"small",variant:"dashed",theme:"primary"},a),c.a.createElement(pt.default,{icon:kc.a,className:"u-mr-half"}),t("KonnectorChip.".concat(n)))};Ed.propTypes={konnectorType:V.a.oneOf(["health","generic"])},Ed.defaultProps={konnectorType:"generic"};var Cd=Ed,kd={color:yr.a.dodgerBlue},_d=function(e){function t(){var e,n;Y()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=tt()(this,(e=at()(t)).call.apply(e,[this].concat(r))),st()(ot()(n),"state",{showInformativeDialog:!1,showIntentModal:!1}),st()(ot()(n),"showInformativeDialog",function(e){e&&e.preventDefault(),n.setState({showInformativeDialog:!0})}),st()(ot()(n),"hideInformativeDialog",function(e){e&&e.preventDefault(),n.setState({showInformativeDialog:!1})}),st()(ot()(n),"showIntentModal",function(e){e&&e.preventDefault(),n.setState({showIntentModal:!0})}),st()(ot()(n),"hideIntentModal",function(e){e&&e.preventDefault(),n.setState({showIntentModal:!1})}),st()(ot()(n),"onInformativeDialogConfirm",oe()(ae.a.mark(function e(){return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.hideInformativeDialog(),n.showIntentModal();case 2:case"end":return e.stop()}},e)}))),st()(ot()(n),"onIntentComplete",function(){n.props.fetchTriggers(),n.hideIntentModal()}),n}return it()(t,e),W()(t,[{key:"renderModalItem",value:function(e){return c.a.createElement(Fc.default,{divider:!0,button:!0,style:kd,onClick:this.showInformativeDialog},c.a.createElement(Rc.a,null,c.a.createElement(pt.default,{icon:kc.a})),c.a.createElement(Dc.default,null,e))}},{key:"renderTransactionRow",value:function(e,t){return c.a.createElement(Cd,{onClick:this.showInformativeDialog,konnectorType:t.health?"health":"generic"})}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.isModalItem,a=this.props.brand;if(a){var r=a.health?"health":"generic",o=t("Transactions.actions.konnector.".concat(r));return c.a.createElement(c.a.Fragment,null,n?this.renderModalItem(o):this.renderTransactionRow(o,a),this.state.showInformativeDialog&&c.a.createElement($u,{onCancel:this.hideInformativeDialog,onConfirm:this.onInformativeDialogConfirm,title:t("Transactions.actions.informativeModal.".concat(r,".title")),description:t("Transactions.actions.informativeModal.".concat(r,".description"),{brandName:a.name}),caption:t("Transactions.actions.informativeModal.caption"),cancelText:t("Transactions.actions.informativeModal.cancel"),confirmText:t("Transactions.actions.informativeModal.confirm")}),this.state.showIntentModal&&c.a.createElement(od,{dismissAction:this.hideIntentModal,onComplete:this.onIntentComplete,slug:a.konnectorSlug}))}}}]),t}(c.a.Component);_d.propTypes={t:V.a.func.isRequired,transaction:V.a.object.isRequired,actionProps:V.a.object.isRequired,compact:V.a.bool,isModalItem:V.a.bool,fetchTriggers:V.a.func.isRequired};var wd={name:"konnector",icon:Wu,match:yd,Component:ge()(Object(d.translate)(),function(e){var t=function(t,n){return c.a.createElement(e,I()({},t,{fetchTriggers:(a=n.client,function(){return a.query(D.r.query(a),{as:D.r.as})})}));var a};return t.contextTypes={client:V.a.object.isRequired},t.displayName="withAddTrigger(".concat(e.displayName,")"),t},Object(i.connect)(function(e,t){var n=t.actionProps,a=t.transaction;return{brand:gd(a.label,n.brands)}}))(_d)},Od=n("C1Al"),xd={color:yr.a.dodgerBlue},Sd={name:"refund",icon:Wu,color:yr.a.dodgerBlue,match:function(e,t){var n=t.urls;return Object(Go.e)(e)&&n&&n.HEALTH},Component:function(e){var t=e.actionProps.urls,n=e.isModalItem,a=Object(d.useI18n)().t,r="".concat(t.HEALTH,"#/remboursements"),i=a("Transactions.actions.".concat("refund")),l=Object(o.useCallback)(function(e){e&&e.preventDefault(),open(r)},[r]),s=Object(o.useCallback)(function(e){e&&e.preventDefault(),open(r,"_blank")},[r]);return n?c.a.createElement(Fc.default,{divider:!0,button:!0,onClick:s,style:xd},c.a.createElement(Rc.a,null,c.a.createElement(pt.default,{icon:Od.a})),c.a.createElement(Dc.default,null,i)):c.a.createElement(ur.a,{size:"small",variant:"outlined",onClick:l},i,c.a.createElement(ur.a.Separator,null),c.a.createElement(pt.default,{icon:Od.a}))}},jd=n("Puqe"),Td=n.n(jd),Ad=n("dMi0"),Nd=n.n(Ad),Md=n("6acW"),Id=n.n(Md),Bd=function(e,t){var n=Td()(e,["COLLECT","HOME"]),a=t.label.toLowerCase();return Nd()(n,function(e,t){return e&&-1!==a.indexOf(t.toLowerCase())})},Fd=function(e){return"edf"===e.toLowerCase()?"EDF":Id()(e)},Ld={color:yr.a.dodgerBlue},Rd={name:"app",icon:Wu,match:function(e,t){var n=t.urls;return Bd(n,e)},Component:function(e){var t=e.transaction,n=e.actionProps.urls,a=e.isModalItem,r=Object(d.useI18n)().t,i=Bd(n,t),l=r("Transactions.actions.".concat("app"),{appName:Fd(i)}),s=n[i],u=Object(o.useCallback)(function(e){e&&e.preventDefault(),open(s)},[s]);return a?c.a.createElement(Fc.default,{button:!0,divider:!0,onClick:u,style:Ld},c.a.createElement(Rc.a,null,c.a.createElement(pt.default,{icon:Od.a})),c.a.createElement(Dc.default,null,l)):c.a.createElement(ur.a,{size:"small",variant:"outlined",onClick:function(){return open(s)}},l,c.a.createElement(ur.a.Separator,null),c.a.createElement(pt.default,{icon:Od.a}))}},Dd={color:yr.a.dodgerBlue},Pd={name:"url",icon:Wu,match:function(e){return e.action&&e.action.type&&"url"===e.action.type},Component:function(e){var t=e.transaction,n=e.isModalItem,a=t.action,r=Object(o.useCallback)(function(e){e&&e.preventDefault(),open(a.url,a.target)},[a.target,a.url]);return n?c.a.createElement(Fc.default,{divider:!0,button:!0,onClick:r,style:Dd},c.a.createElement(Rc.a,null,c.a.createElement(pt.default,{icon:Od.a})),c.a.createElement(Dc.default,null,a.trad)):c.a.createElement(ur.a,{size:"small",variant:"outlined",onClick:r},a.trad,c.a.createElement(ur.a.Separator,null),c.a.createElement(pt.default,{icon:Od.a}))}},zd=function(e){var t=e.className;return c.a.createElement(pt.default,{className:t,icon:dr.default,color:"var(--coolGrey)"})},qd=n("DMTX"),Gd=new Ae.a({id:"icon-reimbursement-detailed_1a5fe0d389c12c280ec1cb51c130648e",use:"icon-reimbursement-detailed_1a5fe0d389c12c280ec1cb51c130648e-usage",viewBox:"0 0 56 56",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 56 56" id="icon-reimbursement-detailed_1a5fe0d389c12c280ec1cb51c130648e">\n    <g fill-rule="evenodd">\n        <path d="M28 0C18.59 0 9.81 4.809 4.667 12.523V9.667a2.331 2.331 0 0 0-2.334-2.333A2.331 2.331 0 0 0 0 9.667v14.667a2.334 2.334 0 0 0 3.829 1.792l10.997-9.165a2.337 2.337 0 0 0 .299-3.29 2.34 2.34 0 0 0-3.288-.299l-4.368 3.645C11.508 9.497 19.418 4.667 28 4.667c12.866 0 23.333 10.467 23.333 23.333 0 12.866-10.467 23.333-23.333 23.333-8.941 0-17.21-5.215-21.065-13.286-.56-1.162-1.953-1.661-3.11-1.101a2.332 2.332 0 0 0-1.102 3.11C7.348 49.742 17.269 56 28 56c15.44 0 28-12.56 28-28S43.44 0 28 0" />\n        <path d="M30.333 37.333c-3.441 0-6.416-1.892-8.033-4.666h8.033v-3.5H21.12C21.068 28.779 21 28.399 21 28s.068-.78.119-1.167h9.214v-3.5H22.3c1.617-2.774 4.592-4.666 8.033-4.666 2.492 0 4.837.97 6.599 2.734l3.3-3.299A13.889 13.889 0 0 0 30.332 14c-6.08 0-11.253 3.906-13.183 9.333h-5.483v3.5h4.725c-.03.385-.059.773-.059 1.167s.028.782.059 1.167h-4.725v3.5h5.483C19.08 38.094 24.253 42 30.333 42c3.743 0 7.257-1.456 9.898-4.102l-3.299-3.3a9.266 9.266 0 0 1-6.599 2.735" />\n    </g>\n</symbol>'}),Hd=(Me.a.add(Gd),Gd),Vd=n("FZ5e"),Ud=n.n(Vd),Yd=n("xrMM"),Qd=n("UEjL"),Wd=n("v+ad"),Kd=n.n(Wd),Jd=new Ae.a({id:"icon-phone_0f84b3b6efce03e58119635034f3a660",use:"icon-phone_0f84b3b6efce03e58119635034f3a660-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-phone_0f84b3b6efce03e58119635034f3a660">\n    <path fill-rule="evenodd" d="M5.88 4.655a1.68 1.68 0 0 0 .001-2.377L4.097.492a1.685 1.685 0 0 0-2.38 0l-.98.979A2.521 2.521 0 0 0 .42 4.646 39.038 39.038 0 0 0 11.356 15.58c.999.662 2.328.53 3.175-.316l.979-.979a1.681 1.681 0 0 0 0-2.379l-1.785-1.784a1.679 1.679 0 0 0-2.379 0l-.594.593A40.017 40.017 0 0 1 5.285 5.25l.595-.595z" />\n</symbol>'}),Zd=(Me.a.add(Jd),Jd),Xd=new Ae.a({id:"icon-email_34447bf58052b702a1d7e744c198299f",use:"icon-email_34447bf58052b702a1d7e744c198299f-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-email_34447bf58052b702a1d7e744c198299f">\n    <path fill-rule="evenodd" d="M0 2.999A.998.998 0 0 1 1 2h14c.552 0 1 .443 1 .999V5L8 8 0 5V2.999zM0 7l8 3 8-3v7.003c0 .55-.445.997-1 .997H1c-.552 0-1-.453-1-.997V7z" />\n</symbol>'}),$d=(Me.a.add(Xd),Xd),em=function(e){var t=e.title,n=e.caption,a=e.icon,r=e.className,o=Yt()(e,["title","caption","icon","className"]);return c.a.createElement(Yd.b,I()({className:Se()(Kd.a.Card,r)},o),c.a.createElement(pt.default,{icon:a,size:16,color:"var(--coolGrey)"}),c.a.createElement("div",{className:"u-ml-1"},c.a.createElement(Dn.default,{variant:"body1"},t),c.a.createElement(Dn.default,{variant:"caption",color:"textSecondary"},n)))};em.propTypes={icon:pt.iconPropType.isRequired,title:V.a.string.isRequired,caption:V.a.node.isRequired};var tm=function(e){var t=Object(d.useI18n)().t,n=e.contact,a=Yt()(e,["contact"]),r="tel:".concat(n.number),o=n.price?c.a.createElement(c.a.Fragment,null,n.price,t("ReimbursementStatusModal.contact.phoneCallPrice")):t("ReimbursementStatusModal.contact.phoneCallFree");return c.a.createElement(em,I()({href:r,title:n.number,caption:o,icon:Zd,tag:"a"},a))},nm=V.a.shape({price:V.a.string,number:V.a.string.isRequired});tm.propTypes={contact:nm.isRequired};var am=tm,rm=function(e){var t=Object(d.useI18n)().t,n=e.contact,a=Yt()(e,["contact"]),r=new URL(n.href).hostname;return c.a.createElement(em,I()({href:n.href,title:t("ReimbursementStatusModal.contact.actions.".concat(n.action)),caption:r,icon:$d,target:"_blank",tag:"a"},a))},om=V.a.shape({href:V.a.string.isRequired,action:V.a.string.isRequired});rm.propTypes={contact:om.isRequired};var cm=rm,im=function(e){var t=Object(d.useI18n)().t,n=e.contact,a=Yt()(e,["contact"]);return Object(Qt.getPlatform)()!==n.platform?null:c.a.createElement(em,I()({href:n.href,title:t("ReimbursementStatusModal.contact.openApp.title"),caption:t("ReimbursementStatusModal.contact.openApp.caption"),icon:Qd.a,target:"_blank",tag:"a"},a))},lm=V.a.shape({platform:V.a.oneOf(["android","ios"]).isRequired,href:V.a.string.isRequired});im.propTypes={contact:lm.isRequired};var sm=im,um=function(e){var t=e.type,n=Yt()(e,["type"]);switch(t){case"phone":return c.a.createElement(am,n);case"web":return c.a.createElement(cm,n);case"app":return c.a.createElement(sm,n);default:return null}};um.propTypes={type:V.a.oneOf(["phone","web","app"]).isRequired,contact:V.a.object.isRequired};var dm=function(e){var t=e.brand,n=Yt()(e,["brand"]);return c.a.createElement("div",n,c.a.createElement(Dn.default,{className:"u-mb-half",variant:"h5"},"Contacter ",t.name),t.contact.map(function(e,n){var a=n===t.contact.length-1;return c.a.createElement(um,{key:n,className:Se()({"u-mb-half":!a}),type:e.type,contact:e})}))};dm.propTypes={brand:V.a.shape({name:V.a.string.isRequired,contact:V.a.arrayOf(V.a.object).isRequired})};var mm=dm,fm=Object(o.memo)(function(e){var t=Object(h.b)().isMobile,n=Object(d.useI18n)().t,a=e.transaction,r=e.onChange,o=e.brands,i=e.onClose,l=Yt()(e,["transaction","onChange","brands","onClose"]),s=Object(Wa.j)(a),u=y()("reimbursements-contacts")&&Object(Go.f)(a);T(function(e){return A(e,"depense-remboursement")});return c.a.createElement(tl,I()({size:"small",open:!0,title:c.a.createElement("div",{className:"u-ta-center"},c.a.createElement(pt.default,{icon:Hd,size:56,color:"var(--slateGrey)"}),c.a.createElement(Dn.default,{variant:"h4"},n("Transactions.actions.reimbursementStatus.modal.title")),c.a.createElement(Dn.default,{variant:"caption",color:"textSecondary"},Object(Wa.h)(a))),onClose:function(){S(function(e){return A(e,"depense")}),i()},content:c.a.createElement(c.a.Fragment,null,c.a.createElement("form",null,c.a.createElement(Bc.default,null,["pending","reimbursed","no-reimbursement"].map(function(e){return c.a.createElement(Fc.default,{divider:!0,button:!0,disableRipple:!0,onClick:function(){return r(e)},key:e},c.a.createElement(Rc.a,null,c.a.createElement(qd.a,{value:e,control:c.a.createElement(Wc.a,{key:e,name:"reimbursementStatus",checked:s===e,onChange:function(e){return r(e.target.value)},className:"u-ml-1"})})),c.a.createElement(Dc.default,null,n("Transactions.reimbursementStatus.".concat(e))))}))),u?c.a.createElement("div",{className:Se()(Ud.a.ReimbursementStatusModal__contact,"u-pt-2",{"u-mt-auto":t})},o.filter(function(e){return e.health&&e.hasTrigger&&e.contact}).map(function(e,t){return c.a.createElement(mm,{brand:e,key:e.name,className:Se()({"u-mt-1-half":0!==t})})})):null)},l))}),pm=new Ae.a({id:"icon-reimbursement_3488ccda8085fd99199a0849237c3a74",use:"icon-reimbursement_3488ccda8085fd99199a0849237c3a74-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 16 16" id="icon-reimbursement_3488ccda8085fd99199a0849237c3a74">\n    <defs>\n        <path id="icon-reimbursement_3488ccda8085fd99199a0849237c3a74_a" d="M8 0c4.411 0 8 3.589 8 8s-3.589 8-8 8a8.039 8.039 0 0 1-7.229-4.571 1 1 0 1 1 1.806-.858A6.031 6.031 0 0 0 8 14c3.309 0 6-2.691 6-6s-2.691-6-6-6c-1.482 0-2.866.571-3.938 1.507a.989.989 0 0 1 .706.353 1 1 0 0 1-.128 1.408l-3 2.5A1 1 0 0 1 0 7V3a1 1 0 0 1 1-1c.481 0 .865.348.96.801C3.452 1.08 5.636 0 8 0zm1 10c.551 0 1.052-.225 1.413-.586l1.415 1.415A3.987 3.987 0 0 1 5.142 9H4V7h1.142a3.99 3.99 0 0 1 6.686-1.829l-1.414 1.415A1.996 1.996 0 0 0 9 6c-.737 0-1.375.405-1.722 1H9v2H7.278c.347.595.985 1 1.722 1z" />\n    </defs>\n    <use xlink:href="#icon-reimbursement_3488ccda8085fd99199a0849237c3a74_a" />\n</symbol>'}),hm=(Me.a.add(pm),pm),bm=Object(ni.j)("settings"),gm=function(e){var t=Qs()(e,Wa.j),n=t.reimbursed,a=void 0===n?[]:n,r=t.pending;return{reimbursed:a,pending:void 0===r?[]:r}},vm=(Object(cd.a)([Qa.l],gm),Object(cd.a)([Qa.k],gm)),ym=Object(cd.a)([ni.f,Qa.j],function(e,t){var n;return"io.cozy.bank.accounts"===t._type?n=t.categoryId?ti.o[t.categoryId].filter:ti.n:"io.cozy.bank.groups"===t._type&&(n=Wa.r),e.filter(n)}),Em=Object(cd.a)([ym,Qa.m,Qa.f],function(e,t,n){return Object(Qa.e)(e,t,n)}),Cm=Object(cd.a)([Em],gm),km=Object(cd.a)([bm],function(e){return Object(Et.d)(e)}),_m=Object(cd.a)([vm,km],function(e,t){return e.pending.filter(function(e){return Object(Wa.s)(e,t)})}),wm=function(e){var t=e.transaction,n=e.healthReimbursementLateLimit,a=e.onClick,r=Object(d.useI18n)().t,o=Object(Wa.j)(t),i=Object(Wa.s)(t,n);if(o===Wa.a.noReimbursement)return null;var l=i?"late":o;return c.a.createElement(ur.a,{size:"small",variant:"outlined",theme:i?"error":"normal",onClick:a,className:Se()({"u-success":"reimbursed"===o})},r("Transactions.actions.reimbursementStatus.".concat(l)),"pending"===o&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ur.a.Separator,null),c.a.createElement(pt.default,{icon:Ei.a,size:12})))},Om=function(e){var t=e.transaction,n=e.healthReimbursementLateLimit,a=e.onClick,r=Object(d.useI18n)().t,o=Object(Wa.j)(t),i=Object(Wa.s)(t,n),l=r("Transactions.actions.reimbursementStatus.".concat(i?"late":o));return c.a.createElement(Fc.default,{divider:!0,button:!0,disableRipple:!0,onClick:a},c.a.createElement(Rc.a,null,c.a.createElement(pt.default,{icon:hm})),c.a.createElement(Dc.default,null,l),c.a.createElement(zd,null))},xm={pending:"attente_remboursement",reimbursed:"rembourse","no-reimbursement":"pas_attente_remboursement "},Sm=function(e){function t(){var e,n;Y()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=tt()(this,(e=at()(t)).call.apply(e,[this].concat(r))),st()(ot()(n),"state",{showModal:!1}),st()(ot()(n),"showModal",function(e){e&&e.preventDefault(),n.setState({showModal:!0})}),st()(ot()(n),"hideModal",function(e){e&&e.preventDefault(),n.setState({showModal:!1})}),st()(ot()(n),"handleChange",function(){var e=oe()(ae.a.mark(function e(t){var a,r,o,c;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props,r=a.transaction,o=a.client,c=a.t,r.reimbursementStatus=t,n.hideModal(),e.prev=3,e.next=6,o.save(r);case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(3),Object(jn.c)(e.t0),ke.a.error(c("Transactions.reimbursementStatusUpdateError"));case 12:k({name:xm[t]});case 13:case"end":return e.stop()}},e,null,[[3,8]])}));return function(t){return e.apply(this,arguments)}}()),n}return it()(t,e),W()(t,[{key:"render",value:function(){var e=this.props,t=e.isModalItem,n=e.transaction,a=e.healthReimbursementLateLimit,r=t?Om:wm;return c.a.createElement(c.a.Fragment,null,c.a.createElement(r,{transaction:n,healthReimbursementLateLimit:a,onClick:this.showModal}),this.state.showModal&&c.a.createElement(fm,{onClose:this.hideModal,transaction:n,onChange:this.handleChange,brands:this.props.actionProps.brands}))}}]),t}(c.a.PureComponent),jm={name:"ReimbursementStatus",match:function(e){return Object(Wa.r)(e)},Component:ge()(Object(d.translate)(),f.withClient,Object(i.connect)(function(e){return{healthReimbursementLateLimit:km(e)}}))(Sm)},Tm=n("29dR"),Am={appId:"io.cozy.drive.mobile",uri:"cozydrive://"},Nm=function(){var e=oe()(ae.a.mark(function e(t){var n;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=void 0,o=void 0,r=(a=t).appId,o=a.uri,n=Object(Qt.isAndroidApp)()?{package:r}:o,e.abrupt("return",new Promise(function(e,t){startApp?startApp.set(n).check(function(t){e("OK"===t||t)},function(n){!1===n||0===n.indexOf("NameNotFoundException")?e(!1):t(n)}):t(new Error("Cordova plugin 'com.lampa.startapp' is not installed."))}));case 2:case"end":return e.stop()}var a,r,o},e)}));return function(t){return e.apply(this,arguments)}}(),Mm=function(e){function t(){var e,n;Y()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=tt()(this,(e=at()(t)).call.apply(e,[this].concat(r))),st()(ot()(n),"state",{isInstalled:!1}),st()(ot()(n),"updateIsInstalled",oe()(ae.a.mark(function e(){var t;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Nm(Am);case 3:t=e.sent,n.setState({isInstalled:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn("Could not check if app is installed. error: "+e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}))),n}return it()(t,e),W()(t,[{key:"componentDidMount",value:function(){0}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.fileId,a=e.client,r=(this.state.isInstalled,a.intents.create.bind(a.intents));return c.a.createElement(Tm.a,{fullScreen:!0,showCloseButton:!1,action:"OPEN",create:r,doctype:"io.cozy.files",options:{id:n},iframeProps:{wrapperProps:{style:{backgroundColor:"var(--charcoalGrey)"}},spinnerProps:{color:"white"}}},t)}}]),t}(o.Component);Mm.propTypes={children:V.a.element.isRequired,fileId:V.a.string.isRequired};var Im=Object(f.withClient)(Mm),Bm=n("oyDC"),Fm=function(e){var t=e.className,n=Yt()(e,["className"]);return c.a.createElement(pt.default,I()({icon:Bm.a,className:Se()("u-mr-half",t)},n))},Lm=function(e){return e&&["Vente-Privée","Veepee.fr"].includes(e.label)},Rm=n("6HsW"),Dm=n("WjOY"),Pm=n("ZrI/"),zm=n.n(Pm),qm=n("++0B"),Gm=n.n(qm),Hm=n("MHBw"),Vm=n.n(Hm),Um=n("QYnG"),Ym=n.n(Um),Qm=n("716p"),Wm=n.n(Qm),Km={ventePrivee:{Header:function(){return c.a.createElement(Xi.a,{className:zm.a.FakeVeePeeHeader},c.a.createElement("img",{src:Gm.a,alt:"",width:"200px"}))},Side:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("a",{href:"https://secure.fr.vente-privee.com/authentication/portal/FR",className:zm.a.FakeInfosLinkVendor,target:"_blank",rel:"noreferrer noopener"}),c.a.createElement("a",{href:"https://isabelledurand-drive.mycozy.cloud/#/folder/7aadd73f48591c0df263640687052a2d",className:zm.a.FakeInfosLinkDrive,target:"_blank",rel:"noreferrer noopener"}),c.a.createElement("img",{src:Vm.a,srcSet:"".concat(Ym.a," 2x"),alt:""}))}},ameli:{Side:function(){return c.a.createElement("img",{width:"100%",src:Wm.a,alt:""})}}},Jm=Object(Xc.a)(function(){return{paper:{height:"100%"}}})(Zi.a),Zm=function(e){function t(){return Y()(this,t),tt()(this,at()(t).apply(this,arguments))}return it()(t,e),W()(t,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.fileId,a=function(e){return Lm(e)?"ventePrivee":"ameli"}(e.transaction),r=Km[a],o=r.Header,i=r.Side;return c.a.createElement(Jm,{open:!0,fullWidth:!0,maxWidth:"lg",onClose:t},c.a.createElement(el.a,{onClick:t}),o&&c.a.createElement(o,null),c.a.createElement(Rm.a,{className:zm.a.ContainerIntentSide},c.a.createElement("main",{className:zm.a.IntentIframeContainer},c.a.createElement(Dm.a,{action:"OPEN",type:"io.cozy.files",data:{id:n}})),c.a.createElement("aside",{className:zm.a.FakeInfos},c.a.createElement(i,null))))}}]),t}(o.Component),Xm=Object(f.withClient)(Zm),$m=function(e){function t(){var e,n;Y()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=tt()(this,(e=at()(t)).call.apply(e,[this].concat(r))),st()(ot()(n),"state",{isOpen:!1}),st()(ot()(n),"handleOpen",function(e){e&&e.preventDefault(),n.setState({isOpen:!0})}),st()(ot()(n),"handleClose",function(e){e&&e.preventDefault(),n.setState({isOpen:!1})}),n}return it()(t,e),W()(t,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.cloneElement(this.props.children,{onClick:this.handleOpen}),this.state.isOpen&&c.a.createElement(Xm,{onClose:this.handleClose,fileId:this.props.fileId,transaction:this.props.transaction}))}}]),t}(c.a.PureComponent);st()($m,"propTypes",{children:V.a.node.isRequired});var ef=$m,tf=function(e){var t,n=Object(d.useI18n)().t,a=e.bill,r=e.transaction;try{t=function(e){if(!e.invoice)throw new Error("Bill without invoice");var t=e.invoice.split(":"),n=R()(t,2),a=n[0],r=n[1];if(!a||!r)throw new Error("Invoice is malformed. invoice: "+e.invoice);return[a,r]}(a)[1]}catch(u){return console.warn(u),null}var o=y()("demo")&&function(e){return function(e){return"venteprivee"===e.vendor}(e)||function(e){return"bill_cpam_demo"===e._id}(e)}(a)?ef:Im,i=ld(function(e){return e.name===a.vendor||e.konnectorSlug&&e.konnectorSlug===a.vendor}),l=R()(i,1)[0],s=l&&l.name;return c.a.createElement(o,{fileId:t,key:t,transaction:r},c.a.createElement(ur.a,{component:"button",size:"small",variant:"outlined"},c.a.createElement(Fm,{color:a.isRefund?"var(--successColor)":void 0,className:"u-flex-shrink-0"}),a.isRefund?c.a.createElement(c.a.Fragment,null,s&&c.a.createElement("span",{className:"u-success u-mr-half"},s),c.a.createElement($c.a,{total:a.amount,coloredPositive:!0,signed:!0,symbol:"€"})):function(e,t){return t?e("Transactions.actions.attachedDocs.billWithVendor",{vendorName:t}):e("Transactions.actions.attachedDocs.billWithoutVendor")}(n,s)))};tf.propTypes={bill:V.a.object.isRequired};var nf=tf,af=new Ae.a({id:"icon-attachment_8d1da11c29668bec4b096389651af092",use:"icon-attachment_8d1da11c29668bec4b096389651af092-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-attachment_8d1da11c29668bec4b096389651af092">\n    <path fill-rule="evenodd" d="M2.43 14.43C.457 12.457.337 9.385 2.16 7.56l6.3-6.3c1.327-1.325 3.563-1.237 4.997.197 1.434 1.434 1.522 3.67.196 4.996l-5.1 5.1c-.828.828-2.227.773-3.123-.123-.895-.895-.95-2.294-.122-3.122l4.5-4.5 1.298 1.298L6.552 9.66c-.33.33.319.979.649.649l5.154-5.154c.66-.66.616-1.784-.098-2.498-.714-.714-1.838-.758-2.498-.098l-6.3 6.3c-1.158 1.158-1.081 3.119.171 4.371 1.253 1.253 3.214 1.33 4.372.172l5.7-5.7L15 9l-5.7 5.7c-1.824 1.824-4.897 1.703-6.87-.27z" />\n</symbol>'}),rf=(Me.a.add(af),af),of=function(){return c.a.createElement("div",{className:"u-mt-half"},c.a.createElement(pt.default,{icon:rf}))},cf=[["AttachedDocsAction",{name:"AttachedDocs",match:function(e){return Object(Wa.o)(e)||Object(Wa.q)(e)},Component:function(e){function t(){return Y()(this,t),tt()(this,at()(t).apply(this,arguments))}return it()(t,e),W()(t,[{key:"renderTransactionRow",value:function(){var e=this.props.transaction;return or()([].concat(F()(Object(Wa.d)(e)),F()(Object(Wa.k)(e)))).map(function(t){return c.a.createElement(nf,{transaction:e,bill:t,key:t._id})})}},{key:"renderModalItem",value:function(){var e=this.props.transaction;return c.a.createElement(Fc.default,{divider:!0,alignItems:"flex-start"},c.a.createElement(Rc.a,null,c.a.createElement(pt.default,{icon:c.a.createElement(of,null)})),c.a.createElement(Dc.default,null,Object(Wa.o)(e)&&this.renderModalItemBills(),Object(Wa.q)(e)&&this.renderModalItemReimbursements()))}},{key:"renderModalItemBills",value:function(){var e=this.props.transaction;return Object(Wa.d)(e).map(function(t){return c.a.createElement(nf,{key:t._id,bill:t,transaction:e})})}},{key:"renderModalItemReimbursements",value:function(){var e=this.props.transaction;return Object(Wa.k)(e).map(function(t){return c.a.createElement(nf,{key:t._id,bill:t,transaction:e})})}},{key:"render",value:function(){return this.props.isModalItem?this.renderModalItem():this.renderTransactionRow()}}]),t}(c.a.PureComponent)}],["HealthLinkAction",Sd],["AppLinkAction",Rd],["KonnectorAction",wd],["UrlLinkAction",Pd],["ReimbursementStatusAction",jm]],lf=function(){var e=oe()(ae.a.mark(function e(t,n){var a,r,o,c,i,l,s,u,d,m;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=[],r=!0,o=!1,c=void 0,e.prev=4,i=cf[Symbol.iterator]();case 6:if(r=(l=i.next()).done){e.next=21;break}return s=R()(l.value,2),s[0],u=s[1],e.prev=8,e.next=11,u.match(t,n);case 11:e.sent&&a.push(u),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8);case 18:r=!0,e.next=6;break;case 21:e.next=27;break;case 23:e.prev=23,e.t1=e.catch(4),o=!0,c=e.t1;case 27:e.prev=27,e.prev=28,r||null==i.return||i.return();case 30:if(e.prev=30,!o){e.next=33;break}throw c;case 33:return e.finish(30);case 34:return e.finish(27);case 35:return d=ar()(a,function(e){return!1!==e.defaultAction&&!0!==e.disabled}),m=Yu()(a,function(e){return e!==d}),e.abrupt("return",{default:d,others:m});case 38:case"end":return e.stop()}},e,null,[[4,23,27,35],[8,15],[28,,30,34]])}));return function(t,n){return e.apply(this,arguments)}}(),sf=c.a.createContext(),uf=function(e){function t(){return Y()(this,t),tt()(this,at()(t).apply(this,arguments))}return it()(t,e),W()(t,[{key:"render",value:function(){var e=Td()(this.props,"children");return c.a.createElement(sf.Provider,{value:e},this.props.children)}}]),t}(c.a.Component),df=function(e){return function(t){var n=function(n){function a(){return Y()(this,a),tt()(this,at()(a).apply(this,arguments))}return it()(a,n),W()(a,[{key:"render",value:function(){var n=this;return c.a.createElement(e.Consumer,null,function(e){return c.a.createElement(t,I()({},e,n.props))})}}]),a}(c.a.Component);return n.displayName="withContext[".concat(e.name,"](").concat(t.displayName||t.name,")"),n}},mf=yr.a.dodgerBlue,ff=function(e){var t=e.action,n=e.transaction,a=e.actionProps,r=e.compact,o=void 0!==r&&r,i=e.menuPosition,l=e.isModalItem,s=t.Component,u=t.disabled?yr.a.charcoalGrey:t.color||a.color||mf;return c.a.createElement(s,{action:t,transaction:n,actionProps:a,color:u,compact:o,menuPosition:i,isModalItem:l})};ff.propTypes={actionProps:V.a.object.isRequired};var pf=function(e){var t=e.transaction,n=e.actions,a=e.actionProps,r=e.displayDefaultAction,o=e.onlyDefault,i=e.menuPosition,l=void 0===i?"left":i,s=e.isModalItem,u=e.compact,d=e.children;return c.a.createElement(c.a.Fragment,null,(r||o)&&n.default&&c.a.createElement(ff,{action:n.default,isDefault:!0,transaction:t,actionProps:a,menuPosition:l,isModalItem:s,compact:u}),!o&&n.others.map(function(e,n){return c.a.createElement(ff,{key:n,action:e,transaction:t,actionProps:a,isModalItem:s})}),d)},hf=function(e){function t(){var e,n;Y()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=tt()(this,(e=at()(t)).call.apply(e,[this].concat(r))),st()(ot()(n),"state",{actions:!1,actionProps:!1}),n}var n;return it()(t,e),W()(t,[{key:"findMatchingActions",value:(n=oe()(ae.a.mark(function e(){var t,n,a,r;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.props.transaction)){e.next=8;break}return n=this.props.bill,a={bill:n,brands:this.props.brands,urls:this.props.urls},e.next=6,lf(t,a);case 6:r=e.sent,this.unmounted||this.setState({actions:r,actionProps:a});case 8:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"componentDidMount",value:function(){this.findMatchingActions()}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.transaction!==this.props.transaction&&this.setState({actions:!1})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.transaction,a=t.brands,r=t.urls,o=t.bill;e.transaction===n&&e.urls===r&&e.brands===a&&e.bill===o||this.findMatchingActions()}},{key:"render",value:function(){var e=this.state,t=e.actions,n=e.actionProps;return t?c.a.createElement(pf,I()({actions:t,actionProps:n},this.props)):null}}]),t}(o.Component);hf.propTypes={transaction:V.a.object.isRequired};var bf=df(sf)(hf),gf=n("KGD5"),vf=function(e,t){var n=Object(f.useClient)(),a=Object(i.useSelector)(function(n){return Object(gf.getDocumentFromState)(n,e,t)});return Object(o.useMemo)(function(){return n.hydrateDocument(a)},[n,a])},yf=n("R9Yk");var Ef=function(e){return c.a.createElement("svg",I()({width:16,height:16},e),c.a.createElement("path",{d:"M13 1h3v2H0V1h3V0h2v1h6V0h2v1zM0 4h16v10.998A1 1 0 0115 16H1c-.552 0-1-.456-1-1.002V4zm2 2v8h12V6H2zm6 3h5v4H8V9z"}))};var Cf=function(e){return c.a.createElement("svg",I()({width:16,height:16},e),c.a.createElement("g",{fill:"#32363F",fillRule:"evenodd"},c.a.createElement("path",{fillRule:"nonzero",d:"M3.414 10H11a1 1 0 010 2H3.414l1.293 1.293a1 1 0 01-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 1.414L3.414 10z",opacity:.5}),c.a.createElement("path",{d:"M12.586 4l-1.293-1.293a1 1 0 111.414-1.414l3 3a1 1 0 010 1.414l-3 3a1 1 0 01-1.414-1.414L12.586 6H5a1 1 0 110-2h7.586z"})))},kf=function(e,t,n){var a=Object(Wa.c)(e)||Object(Wa.f)(e);ke.a.success(t("Transactions.infos.applicationDateChangedAlert",{applicationDate:n(a,"MMMM")}))},_f=function(e){return e.stopPropagation()},wf=function(e,t){var n=Object(o.useRef)(null);return t(n.current,e)&&(n.current=e),n.current},Of=n("MFCw"),xf=n.n(Of),Sf=function(e){var t=e.width;return c.a.createElement("div",{className:Se()(xf.a.skeleton,xf.a["skeleton--".concat(t)])})};Sf.defaultProps={width:"medium"};var jf=Sf,Tf=function(e){var t=e.elevation,n=e.radius,a=e.children,r=e.className,o=Yt()(e,["elevation","radius","children","className"]);return c.a.createElement("div",I()({className:"".concat(r||""," u-c-pointer u-elevation-").concat(t," u-bdrs-").concat(n)},o),a)};Tf.defaultProps={elevation:1,radius:4};var Af=Tf,Nf=n("a9jo"),Mf=n.n(Nf),If=n("iUbB"),Bf=n.n(If),Ff=n("O8cK"),Lf=n.n(Ff),Rf=n("k8Y/"),Df=n.n(Rf),Pf=n("GTsY"),zf=n.n(Pf),qf=n("uM7l"),Gf=n.n(qf),Hf=n("drUz"),Vf=n("/Zau"),Uf=n("1SZb"),Yf=function(){return c.a.createElement("details",null,c.a.createElement("summary",null,"How rules work"),c.a.createElement("ol",null,c.a.createElement("li",null,"First operations are grouped into bundles based on their ",c.a.createElement("b",null,"amount")," ","and their ",c.a.createElement("b",null,"category"),"."),c.a.createElement("li",null,"Filtering according to the ",c.a.createElement("b",null,"preStat")," rules."),c.a.createElement("li",null,"Then stats are computed on those bundles to compute intervals in days between operations, their standard deviation and mean. The idea is to be able to remove bundles where operations are not evenly spaced in time."),c.a.createElement("li",null,"Filtering according to the ",c.a.createElement("b",null,"postStat")," rules."),c.a.createElement("li",null,"Merging of similar bundles.")))},Qf=n("6bKa"),Wf={width:"500px"},Kf=function(e){var t=e.date,n=e.onChange,a=Object(o.useCallback)(function(e){var t=parseInt(e.target.value,10);n(Bf()(Date.now(),t).toISOString().slice(0,10))},[n]),r=Math.floor((new Date(t)-Date.now())/Qf.b);return c.a.createElement("span",null,t," ",c.a.createElement("input",{type:"range",value:r,min:-780,max:0,step:1,onChange:a,style:Wf}))},Jf=n("0YDr"),Zf=n.n(Jf),Xf=n("JBE3"),$f=n.n(Xf),ep=n("Z0cm"),tp=n.n(ep),np=n("4qC0"),ap=n.n(np),rp=n("E+oP"),op=n.n(rp),cp=n("RlsE"),ip=n("50DI"),lp=n.n(ip),sp=n("AE40"),up=n.n(sp),dp=n("q92V"),mp=n.n(dp),fp=n("6MOg"),pp=n("6ajc"),hp=n.n(pp),bp=n("oSXT"),gp=n.n(bp),vp=function(e,t){Object(fp.a)("info","Creating new bundle...");var n=Qs()(e,function(e){return Object(cp.a)(e)}),a=hp()(Object.entries(n),function(e){var t=R()(e,2),n=t[0],a=t[1],r=Qs()(a,function(e){return e.amount});return Object.entries(r).map(function(e){var t=R()(e,2),a=t[0],r=t[1];return{categoryIds:[n],amounts:[parseInt(a,10)],ops:r,automaticLabel:Object(Wa.h)(r[0])}})});Ep({prefix:"Should create ".concat(a.length," bundles before filtering them:"),recurrences:a});var r=Qs()(t,function(e){return e.stage}),o=Object.keys(r).sort(),c=!0,i=!1,l=void 0;try{for(var s,u=function(){var e=s.value,t=r[e];!function(e,t){if(!e)throw new Error(t)}(1===to()(t.map(function(e){return e.type})).length,"Cannot have multiple types per stage");var n=t[0].type,o=t.map(function(e){return e.rule});if("filter"===n)a=a.filter(function(e){var n=!0,a=!1,r=void 0;try{for(var o,c=t[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var i=o.value;if(!i.rule(e))return Ep({prefix:"❗ Excluding bundle from creation. Reason: ".concat(i.description,". Excluded bundle:"),recurrences:[e]}),!1}}catch(l){a=!0,r=l}finally{try{n||null==c.return||c.return()}finally{if(a)throw r}}return!0});else if("map"===n)a=a.map(ge()(o));else if("group"===n)a=Bp(a,o);else if("split"===n){if(o.length>1)throw new Error("Cannot have multiple split rules in one stage");a=hp()(a,o[0])}},d=o[Symbol.iterator]();!(c=(s=d.next()).done);c=!0)u()}catch(m){i=!0,l=m}finally{try{c||null==d.return||d.return()}finally{if(i)throw l}}return Ep({prefix:"⭐ Created: ".concat(a.length," new bundles:"),recurrences:a}),a},yp=function(e,t,n){if(!t.length)return e;var a,r=[],o=Sp(e,t),c=o.updatedBundles,i=o.transactionsForUpdatedBundles;a=c;var l=gp()(t,i);return Object(fp.a)("info","".concat(l.length," remaining transactions to consider for creating new bundles")),l.length>0&&(r=vp(l,n)),[].concat(F()(a),F()(r)).map(Lp)},Ep=function(e){var t=e.prefix,n=e.recurrences,a=e.suffix,r=n.map(function(e){if(e.ops)return"".concat(Cp(e),": ").concat(e.ops.length," operations, category: ").concat(Hf[e.categoryIds[0]])});Object(fp.a)("info",[t,r.join("\n"),a].filter(Boolean).join("\n"))},Cp=function(e){return e.manualLabel?e.manualLabel:(t=e.automaticLabel)?lp()(t.toLowerCase()):"";var t},kp=function(e){return e.categoryIds},_p=function(e,t){var n,a=Math.floor(function(e){return e.stats.deltas.median}(t)),r=(n=a)>5&&n<=8?"weekly":n>26&&n<=40?"monthly":n>300&&n<=400?"yearly":void 0;return r?e("Recurrence.freq-info-word.".concat(r)):e("Recurrence.freq-info",{frequency:a})},wp=Number(y()("banks.recurrency.percentage-amounts-accepted"))||Qf.c,Op=function(e){var t=e.account;return{_type:"io.cozy.bank.recurrence",automaticLabel:Object(Wa.h)(e),stats:{deltas:{median:30}},latestDate:e.date,latestAmount:e.amount,accounts:[t],amounts:[e.amount],categoryIds:[Object(Wa.e)(e)]}},xp=function(e){try{var t=e.latestDate,n=e.stats.deltas.median,a=ir()(t),r=new Date(Date.now()),o=Lf()(r,a)/n,c=Math.ceil(o),i=Bf()(a,c*n);return Lf()(i,r)<=0?new Date(r):i}catch(l){return console.error("Error while computing next date",l),null}},Sp=function(e,t){var n=[],a=F()(e).map(function(e){var a=Za()({},e),r=function(e){var t=Math.abs(up()(e.amounts));return t-t*wp}(a),o=function(e){var t=Math.abs(mp()(e.amounts));return t+t*wp}(a),c=t.filter(function(e){var t,n,c,i,l,s=a.categoryIds.some(function(t){return Object(Wa.e)(e)===t}),u=(n={value:Math.abs(e.amount),min:r,max:o},c=n.value,i=n.min,l=n.max,i<=c&&c<=l),d=null===(t=a.accounts)||void 0===t?void 0:t.some(function(t){return t===e.account});return s&&u&&d});return(null==c?void 0:c.length)>0&&(a.ops=or()([].concat(F()(a.ops),F()(c)),function(e){return e._id}),n=n.concat(c)),a});return Ep({prefix:"⭐ Updated: ".concat(a.length," existing bundles:"),recurrences:a}),{updatedBundles:a,transactionsForUpdatedBundles:n}},jp=function(e){var t=Da()(F()(e));if(t.length%2==0){var n=t.length/2;return(t[n-1]+t[n])/2}return t[Math.floor(t.length/2)]},Tp=function(e){var t,n=Da()(e,function(e){return e.date}).map(function(e){return+new Date(e.date)}),a=n.map(function(e,t){return 0===t?null:(e-n[t-1])/Qf.b}).slice(1),r=(t=a,Zf()(t)/t.length),o=e.length<3?30:jp(a),c=a.map(function(e){return Math.pow(e,2)-Math.pow(r,2)}),i=Math.sqrt(Zf()(c)/a.length),l=jp(a.map(function(e){return Math.abs(e-o)}));return{deltas:{sigma:i,mean:r,median:o,mad:l}}},Ap=function(e){return e.date},Np=function(e,t){if(op()(e.ops)||op()(t.ops))return[];var n=Ba()(e.ops,Ap),a=Ba()(t.ops,Ap),r=Ba()([n,a],Ap),o=Object(cp.a)(r),c=to()([].concat(F()(e.categoryIds),F()(t.categoryIds)).filter(function(e){return e!==o}));return[o].concat(F()(c))};function Mp(e,t,n,a,r){return"categoryIds"===n?Np(a,r):"ops"==n?or()(e.concat(t),function(e){return e._id}):ap()(e)?e:tp()(e)?e.concat(t):void 0}var Ip=function(e){return e.length<2?e[0]:$f.a.apply(void 0,[e[0]].concat(F()(e.slice(1)),[Mp]))},Bp=function(e,t){var n=ge()(t),a=Qs()(e,n);return Object.values(a).map(Ip)},Fp=function(e){return e.ops&&e.ops.length>0?e.ops[0].label:Cp(e)},Lp=function(e){return Za()({},e,{stats:Tp(e.ops)})},Rp={categoryShouldBeSet:{rule:function(){return function(e){return"0"!==e.categoryIds[0]}},description:"Filter out bundles where the category is not set",stage:0,type:"filter"},bundleSizeShouldBeMoreThan:{rule:function(e){return function(t){return t.ops.length>e}},description:"Filter out bundles where the size is below",stage:0,type:"filter"},amountShouldBeMoreThan:{rule:function(e){var t=function(t){return Math.abs(t)>e};return function(e){return La()(e.amounts,t)}},description:"Amount of bundle should be more than",stage:0,type:"filter"},splitBrands:{rule:function(){return function(e){var t=Qs()(e.ops,function(e){var t=ud(id,e.label);return t?t.name:null});return Object.values(t).map(function(t){var n=ud(id,t[0].label);return Za()({},e,{ops:t,brand:n?n.name:null,categoryIds:to()(t.map(function(e){return Object(cp.a)(e)})),amounts:to()(t.map(function(e){return e.amount}))})})}},description:"Make sure two brands cannot be in the same bundle",stage:1,type:"split"},addStats:{rule:function(){return Lp},description:"Add stats",stage:2,type:"map"},deltaMeanSuperiorTo:{rule:function(e){return function(t){return t.stats.deltas.mean>e}},description:"Mean interval in days between operations should be more than",stage:3,type:"filter"},deltaMeanInferiorTo:{rule:function(e){return function(t){return t.stats.deltas.mean<e}},description:"Mean interval in days between operations should be less than",stage:3,type:"filter"},sigmaInferiorTo:{rule:function(e){return function(t){return t.stats.deltas.sigma<e}},description:"Standard deviation of bundle's date intervals should be less than",stage:3,type:"filter"},madInferiorTo:{rule:function(e){return function(t){return t.stats.deltas.mad<e}},description:"Median absolute deviation of bundle's date intervals should be less than",stage:3,type:"filter"},mergeBundles:{rule:function(){return Fp},description:"Merge similar bundles",stage:4,type:"group"}},Dp=function(e){return Object.entries(e).map(function(e){var t=R()(e,2),n=t[0],a=t[1];if(!a.active)return null;if(!Rp[n])return console.warn("Unknown rule ".concat(n)),null;var r=Rp[n],o=r.rule,c=Yt()(r,["rule"]);return Za()({rule:o(a.options)},c)}).filter(Boolean)},Pp=function(e,t){if(!t)throw new Error("Must pass a localStorageKey to useStickyState");var n=Object(o.useMemo)(function(){var e=localStorage.getItem(t);return e?JSON.parse(e):null},[t]),a=Object(o.useState)(n||e),r=R()(a,2),c=r[0],i=r[1];return[c,function(e){localStorage.setItem(t,JSON.stringify(e)),i(e)},function(){localStorage.removeItem(t)}]},zp=function(e){var t=e.ruleName,n=e.config,a=e.onChange,r=Rp[t];return r?c.a.createElement("div",{key:t,className:"u-m-half u-miw-6"},t," (",c.a.createElement("em",null,r.type," - ",r.stage),")",c.a.createElement(Dn.default,{variant:"caption",color:"textSecondary"},r.description),c.a.createElement("input",{type:"checkbox",onChange:function(){a("".concat(t,".active"),!n.active)},checked:n.active}),void 0!==n.options?c.a.createElement("input",{type:"text",onChange:function(e){var n=parseInt(e.target.value,10);isNaN(n)||a("".concat(t,".options"),n)},value:n.options}):null):null},qp=function(e){var t=e.rulesConfig,n=e.onChangeConfig,a=e.onResetConfig,r=Object(o.useCallback)(function(e,a){var r=function(e,t,n){return zf()(Gf()(e),t,n,Gf.a)}(t,e,a);n(r)},[t,n]),i=Object(o.useMemo)(function(){return Da()(Object.entries(t),function(e){var t=R()(e,1)[0];return Rp[t].stage})},[t]);return c.a.createElement(Yd.b,{className:"u-mv-1"},c.a.createElement(Yf,null),c.a.createElement("div",{className:"u-flex u-flex-wrap"},i.map(function(e){var t=R()(e,2),n=t[0],a=t[1];return c.a.createElement(zp,{key:n,ruleName:n,config:a,onChange:r})}),c.a.createElement("button",{onClick:a},"Reset")))},Gp=["#71c554","#d67cd3","#c5d65b","#8e87e7","#d3a336","#6ba5de","#ec5f62","#69cc8e","#e2779d","#5ccec4","#de8251","#bab16c"],Hp=function(e){var t=Math.abs(function(e){var t,n=0;for(t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n}(Object(Uf.e)(e)));return Gp[t%(Gp.length-1)]},Vp=function(e){var t=e.bundle;return c.a.createElement("div",null,t.categoryIds.map(function(e,t){return c.a.createElement("div",{key:t,className:"u-flex u-flex-align-center"},c.a.createElement(yi,{className:"u-ml-0 u-mr-half",size:16,style:{width:"1rem"},categoryId:e})," ",Hf[e])}))},Up={color:"var(--malachite)"},Yp=function(e){var t=e.bundle,n=t.stats?t.stats.deltas:null;return c.a.createElement(c.a.Fragment,null,"mean frequency: ",n.mean.toFixed(0)," days",c.a.createElement("br",null),"median frequency: ",n.median?n.median.toFixed(0):null," days",c.a.createElement("br",null),"sigma: ",n.sigma.toFixed(2),c.a.createElement("br",null),"mad: ",n.mad.toFixed(2))},Qp=function(e){var t=e.bundle,n=Object(o.useMemo)(function(){return JSON.stringify(t.ops.map(function(e){return Object(f.dehydrate)(e)}))},[t]);return c.a.createElement(Yd.b,{className:"u-m-half",style:{border:"2px solid ".concat(Hp(t))}},c.a.createElement(Dn.default,{variant:"h5"},Object(Uf.e)(t)),c.a.createElement("input",{type:"text",value:n}),c.a.createElement("p",null,"categories: ",c.a.createElement(Vp,{bundle:t}),"amounts: ",t.amounts,c.a.createElement("br",null),"#operations: ",t.ops.length,c.a.createElement("br",null),t.stats?c.a.createElement(Yp,{bundle:t}):null),c.a.createElement("table",{style:{fontSize:"small"}},Da()(t.ops,function(e){return e.date}).map(function(e){return c.a.createElement("tr",{key:e._id,style:e.new?Up:null},c.a.createElement("td",null,c.a.createElement(yi,{categoryId:Object(cp.a)(e),size:8})),c.a.createElement("td",null,e.label),c.a.createElement("td",null,e.date.slice(0,10)),c.a.createElement("td",null,e.amount))})))},Wp=function(){var e=Object(f.useQuery)(D.C.query,D.C),t=e.data,n=Object(f.isQueryLoading)(e)&&t&&0===t.length,a=Pp(Vf,"banks.recurrence-config"),r=R()(a,3),i=r[0],l=r[1],s=r[2],u=Object(o.useCallback)(function(){s(),l(Vf)},[s,l]),d=Date.now(),m=Object(o.useMemo)(function(){return Dp(i)},[i]),p=Pp("2020-03-01","banks.recurrence.bundleDate"),h=R()(p,2),b=h[0],g=h[1],v=Pp("2020-04-01","banks.recurrence.currentDate"),y=R()(v,2),E=y[0],C=y[1],k=Pp(!1,"banks.recurrence.locked"),_=R()(k,2),w=_[0],O=_[1],x=Object(o.useMemo)(function(){return t?t.filter(function(e){return null==b||e.date<b}):[]},[t,b]),S=Object(o.useMemo)(function(){return vp(x,m)},[x,m]),j=Object(o.useMemo)(function(){return t?t.filter(function(e){return e.date<E&&e.date>=b}).map(function(e){return Za()({},e,{new:!0})}):[]},[t,E,b]),T=Pp("","banks.recurrence.bundleFilter"),A=R()(T,2),N=A[0],M=A[1],I=Object(o.useMemo)(function(){var e=S,t=Qs()(j,function(e){return e.date.slice(0,10)}),n=Da()(Object.keys(t),function(e){return e}),a=!0,r=!1,o=void 0;try{for(var c,i=n[Symbol.iterator]();!(a=(c=i.next()).done);a=!0){var l=t[c.value];e=yp(S,l,m)}}catch(s){r=!0,o=s}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return e},[S,j,m]),B=Object(o.useMemo)(function(){var e,t,n=I.filter((e=function(e){return e.ops[0].label},t=N.toLowerCase(),function(n){return""===t||e(n).toLowerCase().includes(t)}));return Da()(n,function(e){return e.ops[0].label})},[I,N]),F=Object(f.useClient)(),L=Object(o.useState)(),P=R()(L,2),z=P[0],q=P[1],G=Object(o.useState)(),H=R()(G,2),V=H[0],U=H[1],Y=Object(o.useCallback)(oe()(ae.a.mark(function e(){return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),e.prev=1,e.next=4,Object(Uf.k)(F,B);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),ke.a.error(e.t0.message);case 9:return e.prev=9,q(!1),e.finish(9);case 12:case"end":return e.stop()}},e,null,[[1,6,9,12]])})),[B,F]),Q=Object(o.useCallback)(oe()(ae.a.mark(function e(){return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),e.prev=1,e.next=4,Object(Uf.j)(F);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),ke.a.error(e.t0.message);case 9:return e.prev=9,U(!1),e.finish(9);case 12:case"end":return e.stop()}},e,null,[[1,6,9,12]])})),[F]),W=Object(o.useCallback)(function(e){M(e.target.value)},[M]),K=Object(o.useCallback)(function(e){if(w){var t=new Date(E),n=new Date(b),a=new Date(e),r=new Date(a-(t-n));g(r.toISOString().slice(0,10))}C(e)},[C,g,E,b,w]),J=Object(o.useCallback)(function(e){if(w){var t=new Date(E),n=new Date(b),a=new Date(e),r=new Date(t-n+ +a);C(r.toISOString().slice(0,10))}g(e)},[C,g,E,b,w]),Z=Object(o.useCallback)(function(){O(!w)},[w,O]),X=Date.now();return c.a.createElement(Rn,{className:"u-ov-scroll"},c.a.createElement(qp,{rulesConfig:i,onResetConfig:u,onChangeConfig:function(e){return l(e)}}),c.a.createElement(ht.c,{onClick:Y,label:"save bundles",busy:z}),c.a.createElement(ht.c,{onClick:Q,label:"reset bundles",busy:V}),c.a.createElement("p",null,"transactions: ",t?t.length:0,c.a.createElement("br",null),"bundleTransactions: ",x.length,c.a.createElement("br",null),"newTransactions: ",j.length,c.a.createElement("br",null),"elapsed time: ",(X-d)/1e3,"s",c.a.createElement("br",null),"bundle date:"," ",c.a.createElement(Kf,{date:b,onChange:J}),c.a.createElement("br",null),"current date:"," ",c.a.createElement(Kf,{date:E,onChange:K}),c.a.createElement("br",null),"isLocked:"," ",c.a.createElement("input",{type:"checkbox",checked:w,onChange:Z}),c.a.createElement("br",null),"bundle filter:"," "),c.a.createElement("input",{type:"text",value:N,onChange:W}),c.a.createElement("br",null),n?c.a.createElement(Ha,null):null,c.a.createElement("div",{className:"u-flex",style:{flexWrap:"wrap"}},B.map(function(e,t){return c.a.createElement(Qp,{key:t,bundle:e})})))},Kp=n("SOjZ"),Jp=n("zCkG"),Zp=n.n(Jp),Xp=function(e){var t=e.children,n=e.className;return c.a.createElement(Dn.default,{variant:"h4",className:Se()(Zp.a.Title,n)},t)};Xp.propTypes={children:V.a.node.isRequired};var $p=Xp,eh=function(e){var t=e.children,n=e.className;return c.a.createElement(Jn,null,c.a.createElement($p,{className:n},t))},th=function(e){var t=e.children,n=e.className;return Object(h.b)().isMobile?c.a.createElement(eh,{className:n},t):c.a.createElement($p,{className:n},t)};th.propTypes={children:V.a.node};var nh=th,ah=function(e,t){var n=function(n){function a(e,t){var n;return Y()(this,a),(n=tt()(this,at()(a).call(this,e,t))).state={error:null},n}return it()(a,n),W()(a,[{key:"componentDidCatch",value:function(e){this.setState({error:e})}},{key:"render",value:function(){var n=this.state.error;return this.state.error?c.a.createElement(t,{error:n,componentProps:this.props}):c.a.createElement(e,this.props)}}]),a}(c.a.Component);return n.displayName="withError(".concat(e.name||e.displayName,")"),n},rh=n("NmtT"),oh=n.n(rh),ch=n("Is78"),ih=n("LKA2"),lh=n.n(ih),sh=n("Us+F"),uh=n.n(sh),dh=n("/S0t"),mh=n.n(dh),fh=n("3uFJ"),ph=n.n(fh),hh=function(e){var t=e.bundle,n=Object(d.useI18n)().t;return c.a.createElement(c.a.Fragment,null,_p(n,t))},bh={en:uh.a,fr:lh.a,es:mh.a},gh=function(e){var t=e.bundle,n=Object(d.useI18n)().lang,a=Object(o.useMemo)(function(){return oh()(Date.now(),t.latestDate,{addSuffix:!0,locale:bh[n]||bh.en})},[t,n]);return c.a.createElement(c.a.Fragment,null,a)},vh=function(e){var t=e.bundle,n=Object(he.C)(),a=kp(t)[0];return c.a.createElement(ch.a,{onClick:function(){return n("/analysis/recurrence/".concat(t._id))},image:c.a.createElement(yi,{categoryId:a}),className:Se()("u-pv-half u-ph-1 u-c-pointer",ph.a.BundleRow),key:t._id,primaryText:Cp(t),secondaryText:c.a.createElement(c.a.Fragment,null,c.a.createElement(gh,{bundle:t})," -"," ",c.a.createElement(hh,{bundle:t})),right:c.a.createElement(yh,{bundle:t})})},yh=function(e){var t=e.bundle,n=function(e){return e.amounts[0]}(t);return c.a.createElement($c.a,{total:n,symbol:"€",coloredPositive:!0})},Eh=function(e){var t=e.bundle,n=Object(he.C)(),a=kp(t)[0];return c.a.createElement("tr",{className:"u-c-pointer",onClick:function(){return n("analysis/recurrence/".concat(t._id))}},c.a.createElement("td",{className:ph.a.ColumnSizeLabel},c.a.createElement(jt.c,null,c.a.createElement(jt.b,{className:"u-mr-1"},c.a.createElement(yi,{categoryId:a})),c.a.createElement(jt.a,null,Cp(t)))),c.a.createElement(nc,{className:ph.a.ColumnSizeLastOccurence},c.a.createElement(gh,{bundle:t})),c.a.createElement(nc,{className:ph.a.ColumnSizeFrequency},c.a.createElement(hh,{bundle:t})),c.a.createElement(nc,{className:ph.a.ColumnSizeAmount},c.a.createElement(yh,{bundle:t})))},Ch=function(e){var t=e.bundle;return Object(h.b)().isMobile?c.a.createElement(vh,{bundle:t}):c.a.createElement(Eh,{bundle:t})},kh=function(){var e=Object(d.useI18n)().t;return c.a.createElement(ac,{color:"primary"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("td",{className:ph.a.ColumnSizeLabel},e("Recurrence.table.label")),c.a.createElement("td",{className:ph.a.ColumnSizeLastOccurence},e("Recurrence.table.last-occurence")),c.a.createElement("td",{className:ph.a.ColumnSizeFrequency},e("Recurrence.table.frequency")),c.a.createElement("td",{className:ph.a.ColumnSizeAmount},e("Recurrence.table.amount")))))},_h=function(e){var t=e.children;return c.a.createElement("div",{className:"u-pt-3"},t)},wh=function(e){var t=e.children;return c.a.createElement(ac,null,c.a.createElement("tbody",null,t))},Oh=Object(Xc.a)(function(e){return{root:st()({textTransform:"none",justifyContent:"center",fontWeight:"normal",textIndent:"0",height:"auto",padding:".5rem 2rem"},e.breakpoints.down("sm"),{textAlign:"center",padding:".5rem 1rem",top:"6rem",zIndex:1})}})(Qc.a),xh=function(e){var t=e.emptyIcon,n=e.showTitle,a=Object(he.C)(),r=Object(h.b)().isMobile,i=Object(o.useState)(!1),l=R()(i,2),s=l[0],u=l[1],m=Object(f.useQuery)(D.y.query,D.y),p=m.data,b=Object(o.useMemo)(function(){var e,t=(e=p,Df()(e,[function(e){return e.latestDate},function(e){return kp(e)[0]}],["desc","desc"]));return Qs()(t,function(e){return vb(e)?"deprecated":"live"})},[p]),g=b.live,v=b.deprecated,E=void 0!==g&&g.length||void 0!==v&&v.length,C=Object(d.useI18n)().t,k=r?_h:wh;return T("recurrences"),c.a.createElement(c.a.Fragment,null,c.a.createElement(zt,{theme:"primary"}),c.a.createElement(ic,{fixed:!0,theme:"inverted"},r?null:c.a.createElement(c.a.Fragment,null,c.a.createElement(Rn,null,c.a.createElement(Jo.a,{items:[{name:C("Recurrence.title"),onClick:function(){return a("/analysis/recurrence")}}],theme:"primary"}),y()("debug")?c.a.createElement(Kp.Link,{to:"/recurrencedebug"},"Go to debug"):null),c.a.createElement(zl,{theme:"primary"}),r?null:c.a.createElement(kh,null)),r?c.a.createElement(c.a.Fragment,null,c.a.createElement(nh,null,n&&C("Recurrence.title"))):null),Object(f.isQueryLoading)(m)&&!Object(f.hasQueryBeenLoaded)(m)?c.a.createElement(Rn,null,c.a.createElement(Va,null)):E?c.a.createElement(k,null,c.a.createElement(Yl,{className:"u-m-1"}),void 0!==g&&g.map(function(e){return c.a.createElement(Ch,{key:e._id,bundle:e})}),void 0!==v&&v.length&&c.a.createElement(c.a.Fragment,null,!s&&c.a.createElement(Pc.a,{className:"u-mh-1 u-mv-half u-flex-self-start",variant:"text",label:C("Recurrence.show-deprecated-bundles",{number:v.length}),size:"small",onClick:function(){return u(!0)}}),s&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Oh,null,C("Recurrence.deprecated-bundles-help")),v.map(function(e){return c.a.createElement(Ch,{key:e._id,bundle:e})})))):c.a.createElement(Rn,null,c.a.createElement(Yl,{className:"u-mt-3",style:{marginBottom:"-3rem"}}),c.a.createElement(Tn.a,{icon:t,title:C("Recurrence.no-recurrences.title"),text:C("Recurrence.no-recurrences.text")})))};xh.defaultProps={emptyIcon:"cozy",showTitle:!0};var Sh=ah(xh,function(e){var t=e.error,n=Object(d.useI18n)().t;return c.a.createElement(Rn,null,c.a.createElement("p",null,n("Recurrence.display-error")),c.a.createElement(ht.b,{href:"#/recurrencedebug",label:n("Recurrence.go-to-debug-page")}),c.a.createElement("pre",null,t.message,t.stack))}),jh=n("SQLq"),Th=c.a.memo(function(e){var t=e.transaction,n=Object(d.useI18n)().f,a=Object(Wa.c)(t);return c.a.createElement(Dn.default,{variant:"caption",color:"textSecondary"},c.a.createElement(pt.default,{size:10,icon:jh.a})," ",n(a,"MMMM"))}),Ah=c.a.memo(function(e){var t=e.account,n=Object(d.useI18n)().t,a=Object(ti.c)(t);return c.a.createElement(Dn.default,{className:"u-ellipsis",variant:"caption",color:"textSecondary"},Object(ti.e)(t,n),a&&" - ".concat(a))}),Nh=c.a.memo(function(e){var t=e.isExtraLarge,n=e.transaction,a=Object(d.useI18n)(),r=a.t,o=a.f;return c.a.createElement("span",{title:n.realisationDate&&n.date!==n.realisationDate?r("Transactions.will-be-debited-on",{date:o(n.date,"D MMMM YYYY")}):null},o(Object(Wa.f)(n),"D ".concat(t?"MMMM":"MMM"," YYYY")))}),Mh=new Ae.a({id:"icon-recurrence_86d379638c1a28ffca1ec4d8ceeeaa16",use:"icon-recurrence_86d379638c1a28ffca1ec4d8ceeeaa16-usage",viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="icon-recurrence_86d379638c1a28ffca1ec4d8ceeeaa16">\n    <path fill-rule="evenodd" d="M8 0C3.589 0 0 3.589 0 8s3.589 8 8 8c3.073 0 5.911-1.794 7.229-4.571.237-.499.025-1.095-.474-1.332-.497-.237-1.096-.025-1.332.474C12.434 12.654 10.305 14 8 14c-3.309 0-6-2.691-6-6s2.691-6 6-6c1.482 0 2.866.571 3.938 1.507-.265.016-.523.133-.706.353-.354.424-.296 1.055.128 1.408l3 2.5c.651.543 1.64.08 1.64-.768V3c0-.552-.448-1-1-1-.481 0-.865.348-.96.801C12.548 1.08 10.364 0 8 0z" />\n</symbol>'}),Ih=(Me.a.add(Mh),Mh),Bh=c.a.memo(function(e){var t=e.recurrence,n=Object(d.useI18n)().t,a=_p(n,t);return c.a.createElement(Dn.default,{variant:"caption",color:"textSecondary"},a," ",c.a.createElement(pt.default,{icon:Ih,size:"10"}))}),Fh=function(e){var t=e.className,n=e.transaction,a=e.tag,r=e.clickable,o=e.deletable,i=e.withIcon,l=vf(D.k,a._id),s=Object(he.C)(),u=o?function(){k({name:"retrait-label"}),Object(Wa.u)(n,l)}:void 0;return c.a.createElement(cs.a,I()({style:{marginBottom:"0.25rem",marginRight:"0.25rem"},className:t},i&&{icon:c.a.createElement(pt.default,{className:"u-ml-half",icon:os.a})},{label:a.label,clickable:!0,onDelete:u,onClick:function(e){null==e||e.preventDefault(),r&&s("/tag/".concat(a._id))}}))};Fh.defaultProps={withIcon:!0};var Lh=Fh,Rh=function(e){var t=e.className,n=e.transaction,a=e.clickable,r=e.deletable,o=e.withIcon,i=Object(Wa.l)(n);return c.a.createElement(c.a.Fragment,null,null==i?void 0:i.map(function(e){return c.a.createElement(Lh,{className:t,key:e._id,transaction:n,tag:e,clickable:a,deletable:r,withIcon:o})}))},Dh=function(e){var t=e.transaction,n=e.isExtraLarge,a=e.filteringOnAccount,r=e.onRef,i=e.showRecurrence,l=e.isSelected,s=e.isSelectionModeActive,u=e.toggleSelection,m=Object(d.useI18n)().t,f=Object(o.useMemo)(function(){return r?r.bind(null,t._id):null},[r,t]),p=Object(Wa.e)(t),h=Object(fi.e)(p),b=m("Data.subcategories.".concat(h)),g=t.account.data,v=t.recurrence?t.recurrence.data:null,E=y()("show-transactions-ids")?{id:t._id}:{},C=Object(Wa.c)(t),k=GE(t),_=R()(k,3),w=_[0],O=_[2],x=HE({transactions:[t]}),S=R()(x,3),j=S[0],T=S[2],A=Object(o.useCallback)(function(e){e.preventDefault(),s?u(t):j()},[s,j,u,t]),N=Object(o.useCallback)(function(e){e.preventDefault(),u(t)},[u,t]),M=Object(o.useCallback)(function(e){e.defaultPrevented||e.currentTarget.contains(e.target)&&(s?u(t):w())},[s,w,u,t]),B=t._id;return c.a.createElement(c.a.Fragment,null,c.a.createElement("tr",I()({ref:f},E,{className:Se()(Du.a.TransactionRow,B?Du.a["TransactionRow--editable"]:null,st()({},Du.a["TransactionRow--selected"],l)),onClick:B&&M}),B&&c.a.createElement(nc,{className:Se()(Du.a.ColumnSizeCheckbox,"u-pl-0 u-ta-center"),onClick:N},c.a.createElement(Ca.a,{"data-testid":"TransactionRow-checkbox-".concat(t._id),checked:l,readOnly:!0})),c.a.createElement("td",{className:Se()(Du.a.ColumnSizeDesc,"u-pv-half",B?"u-pl-0":"u-pl-1")},c.a.createElement(jt.c,null,c.a.createElement(jt.b,{title:b},c.a.createElement(ea.a,{disabled:!B,className:Du.a.CategoryIconButton,onClick:B&&A,size:"medium"},c.a.createElement(yi,{categoryId:p,className:Du.a["bnk-op-caticon"]}))),c.a.createElement(jt.a,{className:"u-pl-1"},c.a.createElement(Dc.default,{className:"u-pv-half",disableTypography:!0},c.a.createElement(Dn.default,{variant:"body1"},Object(Wa.h)(t)),!a&&c.a.createElement(Ah,{account:g}),C&&c.a.createElement(Th,{transaction:t}),v&&i&&c.a.createElement(Bh,{recurrence:v}))))),c.a.createElement(nc,{className:Du.a.ColumnSizeDate},c.a.createElement(Nh,{isExtraLarge:n,transaction:t})),c.a.createElement(nc,{className:Du.a.ColumnSizeAmount},c.a.createElement($c.a,{total:t.amount||0,symbol:Po(t.currency),coloredPositive:!0,signed:!0})),c.a.createElement(nc,{className:Du.a.ColumnSizeAction},qE&&c.a.createElement(bf,{transaction:t,onlyDefault:!0}),c.a.createElement(Rh,{transaction:t,clickable:!0}))),T,O)};Dh.defaultProps={showRecurrence:!0};var Ph=c.a.memo(Dh),zh=n("ne8c"),qh=function(e){var t=e.transaction,n=Object(d.useI18n)().f,a=t.date;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Qc.a,null,n(a,"dddd D MMMM")),c.a.createElement(JE,{showRecurrence:!1,transaction:t}))},Gh=function(e){var t=e.children;return c.a.createElement("div",{className:"u-mt-3"},t)},Hh=function(e){var t=e.children;return c.a.createElement(ac,null,c.a.createElement("tbody",null,t))},Vh=c.a.memo(function(e){var t=e.bundle,n=Object(zh.a)({bundle:t}),a=Object(h.b)().isMobile,r=Object(d.useI18n)().t,o=Object(f.useQuery)(n.query,n);if(Object(f.isQueryLoading)(o)&&!Object(f.hasQueryBeenLoaded)(o))return c.a.createElement(Va,null);var i=o.data,l=o.fetchStatus,s=o.lastError,u=a?qh:Ph,m=a?Gh:Hh;return c.a.createElement(c.a.Fragment,null,c.a.createElement(m,null,c.a.createElement(Yl,{className:"u-m-1"}),0===i.length&&c.a.createElement(Rn,null,"failed"===l?c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,r("Loading.error")),c.a.createElement("p",null,s&&s.message)):c.a.createElement(Tn.a,{icon:{},title:r("Recurrence.no-transactions.title"),text:r("Recurrence.no-transactions.text")})),i.map(function(e){return c.a.createElement(u,{showRecurrence:!1,transaction:e,key:e._id})})))}),Uh=n("Pxjx"),Yh=function(e){var t=Object(o.useState)(e),n=R()(t,2),a=n[0],r=n[1];return[a,Object(o.useCallback)(function(){return r(!0)},[r]),Object(o.useCallback)(function(){return r(!1)},[r])]},Qh=n("3KLn"),Wh=n.n(Qh),Kh=function(e){var t=e.opener,n=e.menu,a=Yh(!1),r=R()(a,3),i=r[0],l=r[1],s=r[2],u=Object(o.useRef)();return c.a.createElement("div",{className:"u-inline-flex"},c.a.cloneElement(t,{onClick:l,ref:u}),i?c.a.cloneElement(n,{autoclose:!0,onClose:s,placement:"bottom-end",className:Wh.a.ActionMenuHelper__menu}):null)},Jh=function(e){var t=e.isSubcategory,n=Object(d.useI18n)().t;return Object(h.b)().isDesktop?c.a.createElement(tc,null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("td",{className:Se()(Du.a.ColumnSizeCheckbox,"u-pl-0")}),c.a.createElement("td",{className:Du.a.ColumnSizeDesc},n(t?"Categories.headers.movements":"Transactions.header.description")),c.a.createElement("td",{className:Du.a.ColumnSizeDate},n("Transactions.header.date")),c.a.createElement("td",{className:Du.a.ColumnSizeAmount},n("Transactions.header.amount")),c.a.createElement("td",{className:Du.a.ColumnSizeAction},n("Transactions.header.action"))))):null};Jh.defaultProps={isSubcategory:!1};var Zh=Jh,Xh=n("UxX4"),$h=n("qVrW"),eb=n("Am8Z"),tb=c.a.memo(function(e){var t=e.recurrence,n=e.onClick,a=Object(d.useI18n)().t;return c.a.createElement($h.a,{onClick:n,left:c.a.createElement(eb.a,{readOnly:!0,checked:Object(Uf.h)(t)})},a("Recurrence.action-menu.ongoing"),c.a.createElement("br",null),c.a.createElement(Dn.default,{variant:"caption",color:"textSecondary"},a("Recurrence.action-menu.ongoing-caption")))}),nb=c.a.memo(function(e){var t=e.recurrence,n=e.onClick,a=Object(d.useI18n)().t;return c.a.createElement($h.a,{onClick:n,left:c.a.createElement(eb.a,{readOnly:!0,checked:Object(Uf.g)(t)})},a("Recurrence.action-menu.finished"))}),ab=n("y6be"),rb=c.a.memo(function(e){var t=e.onClick,n=Object(d.useI18n)().t;return c.a.createElement($h.a,{onClick:t,left:c.a.createElement(pt.default,{icon:ab.a})},n("Recurrence.action-menu.rename"))}),ob=n("46CF"),cb=c.a.memo(function(e){var t=e.onClick,n=Object(d.useI18n)().t;return c.a.createElement($h.a,{onClick:t,left:c.a.createElement(pt.default,{icon:ob.a})},n("Recurrence.action-menu.delete"),c.a.createElement("br",null),c.a.createElement(Dn.default,{variant:"caption",color:"textSecondary"},n("Recurrence.action-menu.delete-caption")))}),ib=function(e){return e},lb=function(e){return Us.a.createPortal(e,document.body)},sb=c.a.memo(function(e){var t=e.recurrence,n=e.onClickRename,a=e.onClickOngoing,r=e.onClickFinished,o=e.onClickDelete,i=Yt()(e,["recurrence","onClickRename","onClickOngoing","onClickFinished","onClickDelete"]),l=Object(h.b)().isMobile;return(l?lb:ib)(c.a.createElement(Wn.default,{variant:"normal"},c.a.createElement(Xh.a,i,c.a.createElement(rb,{onClick:n}),c.a.createElement(cb,{onClick:o}),l&&c.a.createElement(c.a.Fragment,null,c.a.createElement("hr",null),c.a.createElement(tb,{recurrence:t,onClick:a}),c.a.createElement(nb,{recurrence:t,onClick:r})))))}),ub=c.a.memo(function(e){var t=e.recurrence,n=e.onClickOngoing,a=e.onClickFinished,r=Yt()(e,["recurrence","onClickOngoing","onClickFinished"]);return c.a.createElement(Wn.default,{variant:"normal"},c.a.createElement(Xh.a,r,c.a.createElement(tb,{recurrence:t,onClick:n}),c.a.createElement(nb,{recurrence:t,onClick:a})))}),db=n("qFRD"),mb=n("jLsa"),fb=c.a.memo(function(e){var t=e.bundle,n=e.dismissAction,a=Object(f.useClient)(),r=Object(d.useI18n)().t,i=Object(o.useRef)(),l=(s=oe()(ae.a.mark(function e(){return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Uf.i)(a,t,i.current.value);case 3:n(),ke.a.success(r("Recurrence.rename.save-success")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ke.a.error(r("Recurrence.rename.save-error"));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),function(){return s.apply(this,arguments)});var s;return c.a.createElement(db.a,{open:!0,size:"small",title:r("Recurrence.rename.modal-title"),content:c.a.createElement(mb.b,{className:"u-m-0",labelProps:{className:"u-pt-0"},fieldProps:{defaultValue:Cp(t)},inputRef:i,label:r("Recurrence.table.label")}),actions:c.a.createElement(c.a.Fragment,null,c.a.createElement(ht.c,{theme:"primary",onClick:l,label:r("Recurrence.rename.save")}),c.a.createElement(ht.c,{theme:"secondary",onClick:n,label:r("Recurrence.rename.cancel")}))})}),pb={lineHeight:1},hb=c.a.memo(function(e){var t=e.bundle,n=Object(he.C)(),a=Object(d.useI18n)().t,r=Object(f.useClient)(),i=Object(h.b)().isMobile,l=Yh(!1),s=R()(l,3),u=s[0],m=s[1],p=s[2],b=Yh(!1),g=R()(b,3),v=g[0],y=g[1],E=g[2],C=Object(o.useCallback)(function(){return n("/analysis/recurrence")},[n]),k=Object(o.useCallback)(function(){y()},[y]),_=Object(o.useCallback)(oe()(ae.a.mark(function e(){return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C(),e.next=4,Object(Uf.b)(r,t);case 4:ke.a.success(a("Recurrence.delete-success")),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ke.a.error(a("Recurrence.delete-error"));case 10:case"end":return e.stop()}},e,null,[[0,7]])})),[t,r,C,a]),w=Object(o.useCallback)(oe()(ae.a.mark(function e(){return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Uf.m)(r,t);case 3:ke.a.success(a("Recurrence.status.save-success")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),ke.a.error(a("Recurrence.status.save-error"));case 9:case"end":return e.stop()}},e,null,[[0,6]])})),[t,r,a]),O=Object(o.useCallback)(oe()(ae.a.mark(function e(){return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Uf.l)(r,t);case 3:ke.a.success(a("Recurrence.status.save-success")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),ke.a.error(a("Recurrence.status.save-error"));case 9:case"end":return e.stop()}},e,null,[[0,6]])})),[t,r,a]);return t?c.a.createElement(ic,{fixed:!0,theme:"inverted"},i?c.a.createElement(c.a.Fragment,null,c.a.createElement(zl,{theme:"primary",onClick:C}),c.a.createElement(eh,null,Cp(t)),c.a.createElement(Zn,null,c.a.createElement(ea.a,{className:"u-mr-half",onClick:m,size:"medium"},c.a.createElement(pt.default,{icon:Uh.a}))),u&&c.a.createElement(sb,{onClose:p,recurrence:t,onClickOngoing:w,onClickFinished:O,onClickRename:k,onClickDelete:_})):c.a.createElement(c.a.Fragment,null,c.a.createElement(Rn,null,c.a.createElement(jt.c,null,c.a.createElement(jt.a,{className:"u-ov-visible"},c.a.createElement(Ko.a,{in:!0},c.a.createElement(Dn.default,{variant:"h5"},c.a.createElement(Jo.a,{items:[{name:a("Recurrence.title"),onClick:C},{name:Cp(t)}],theme:"primary"}),c.a.createElement(zl,{theme:"primary"})))),c.a.createElement(jt.b,{className:"u-flex",style:pb},c.a.createElement(Kh,{opener:c.a.createElement(ht.c,{extension:"narrow",theme:"secondary",label:a("Recurrence.status.".concat(Object(Uf.f)(t))),extraRight:c.a.createElement(pt.default,{className:"u-ml-half",icon:kr.a})}),menu:c.a.createElement(ub,{recurrence:t,onClickRename:k,onClickOngoing:w,onClickFinished:O})}),c.a.createElement(Kh,{opener:c.a.createElement(ht.c,{iconOnly:!0,label:a("Recurrence.action-menu.open-button"),extension:"narrow",icon:c.a.createElement(pt.default,{icon:Uh.a}),theme:"secondary"}),menu:c.a.createElement(sb,{recurrence:t,onClickRename:k,onClickOngoing:w,onClickFinished:O,onClickDelete:_})})))),c.a.createElement(Zh,null)),v&&c.a.createElement(Wn.default,{variant:"normal"},c.a.createElement(fb,{bundle:t,onSuccess:E,dismissAction:E}))):null}),bb=function(){var e=Object(he.H)(),t=Object(he.C)(),n=Object(f.useQuery)(D.y.query,D.y),a=e.bundleId,r=vf(D.i,a),i=Object(f.isQueryLoading)(n)&&!Object(f.hasQueryBeenLoaded)(n);return T("recurrences:details"),Object(o.useEffect)(function(){i||r||t("/analysis/recurrence")},[i,r,t]),i?c.a.createElement(Va,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(zt,{theme:"primary"}),r&&c.a.createElement(c.a.Fragment,null,c.a.createElement(hb,{bundle:r}),c.a.createElement(Vh,{bundle:r})))},gb=n("4u3R"),vb=function(e){if(Object(Uf.g)(e))return!0;var t=Date.now(),n=ir()(e.latestDate);return Lf()(t,n)>=120},yb=Object(cd.a)([ni.e,Qa.g,function(){return Bf()(new Date(Date.now()),30).toISOString().slice(0,10)}],function(e,t,n){var a=Object(gb.a)(),r=[],o=new Date,c=new Date(n),i=!0,l=!1,s=void 0;try{for(var u,d=e[Symbol.iterator]();!(i=(u=d.next()).done);i=!0){var m=u.value;if(m.status!==Uf.a&&m.latestDate){var f=m.accounts&&m.accounts[0];if(!(t&&-1===t.indexOf(f)||vb(m))){var p=Ti()(m,"stats.deltas.median");if(p&&!(p<15)){var h=xp(m);if(!ao()(o,h)&&!ao()(h,c)){var b=a.hydrateDocument({_type:D.l,label:m.manualLabel||m.automaticLabel,date:h.toISOString(),amount:m.latestAmount||m.amounts[0],account:f,manualCategoryId:m.categoryIds[0],automaticCategoryId:m.categoryIds[0]});r.push(b)}}}}}}catch(g){l=!0,s=g}finally{try{i||null==d.return||d.return()}finally{if(l)throw s}}return Df()(r,["date"],["desc"])}),Eb=function(){var e=Object(f.useQuery)(D.y.query,D.y),t=Object(f.useQuery)(D.n.query,D.n),n=Object(i.useSelector)(yb),a=Object(i.useSelector)(Qa.h),r=Object(o.useMemo)(function(){return Mf()(n,function(e){return e.amount})},[n]),c=Object(o.useMemo)(function(){return Mf()(a,function(e){return e.balance})},[a]),l=Object(f.isQueryLoading)(e)||Object(f.isQueryLoading)(t);return{isLoading:l,estimatedBalance:l?null:c+r,sumTransactions:r,currency:a&&a.length?a[0].currency:null,transactions:n}},Cb=function(){var e=Object(d.useI18n)().t,t=Object(h.b)().isMobile,n=Eb(),a=n.isLoading,r=n.estimatedBalance,i=n.currency,l=n.transactions,s=Object(he.C)(),u=Object(o.useCallback)(function(){s("/balances/future")},[s]);return c.a.createElement(Af,{onClick:u,className:"".concat(t?"u-mv-1 u-mh-half":"u-m-1"," u-p-1")},c.a.createElement(jt.c,null,c.a.createElement(jt.a,null,c.a.createElement(Dn.default,{variant:"body1"},e("EstimatedBudget.30-day-balance")),c.a.createElement(Dn.default,{variant:"caption",color:"textSecondary"},a?c.a.createElement(jf,{variant:"text"}):e("EstimatedBudget.numberEstimatedTransactions",{smart_count:l.length}))),c.a.createElement(jt.b,null,a?c.a.createElement(jf,{variant:"text",width:"small"}):c.a.createElement($c.a,{className:"u-mr-1 u-slateGrey",total:r,symbol:Po(i)})),c.a.createElement(jt.b,null,c.a.createElement(pt.default,{icon:dr.default,size:16,className:"u-coolGrey"}))))},kb=n("tP7f"),_b=n.n(kb),wb=n("D1y2"),Ob=n.n(wb),xb=function(e,t){var n=Object(f.useQuery)(e,t),a=ko(!1),r=R()(a,2),c=r[0],i=r[1];return Object(o.useEffect)(function(){var e;(e=oe()(ae.a.mark(function e(){return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("loaded"!==n.fetchStatus||!n.hasMore||c){e.next=5;break}return i(!0),e.next=4,n.fetchMore();case 4:i(!1);case 5:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[n.hasMore,n.fetchStatus,c]),n},Sb=n("s2q6"),jb=n.n(Sb),Tb=function(e){return function(t){return t.categories&&t.categories.includes(e)}},Ab={type:"konnector",category:"banking",pendingUpdate:!0},Nb=c.a.memo(function(){var e=Object(d.useI18n)().t,t=Object(h.b)().isMobile,n=xb(D.w.query,D.w),a=n.data?n.data.filter(Tb("banking")):[],r=bc("io.cozy.apps",Ab,!Object(f.isQueryLoading)(n)&&0!==a.length),o=R()(r,1)[0];return Object(f.isQueryLoading)(n)?null:0===a.length?null:o?c.a.createElement(Wn.default,{variant:"normal"},c.a.createElement(Rn,{className:jb.a.KonnectorUpdateInfo},c.a.createElement(Xs.a,{className:"u-ta-left",action:c.a.createElement(ht.b,{theme:"secondary",extension:t?"full":"narrow",className:"u-mh-0",label:e("KonnectorUpdateInfo.cta"),icon:Od.a,href:o}),description:c.a.createElement(c.a.Fragment,null,c.a.createElement(Dn.default,{variant:"h5",className:"u-error",gutterBottom:!0},e("KonnectorUpdateInfo.title")),c.a.createElement(Dn.default,{variant:"body1"},c.a.createElement("span",{dangerouslySetInnerHTML:{__html:e("KonnectorUpdateInfo.content")}}))),isImportant:!0}))):null}),Mb=n("iQJf"),Ib=n.n(Mb),Bb=n("44Ds"),Fb=n.n(Bb),Lb=n("7TMY"),Rb=n.n(Lb),Db=n("OJmh"),Pb=(n("Dae+"),n("ye/S")),zb=n("gPaA"),qb=n.n(zb),Gb=n("OP+2"),Hb=n.n(Gb),Vb=Fb()(function(e){return getComputedStyle(document.body).getPropertyValue(e)}),Ub=5,Yb=20,Qb=[5,5],Wb=11,Kb=Fb()(function(e){return Zs()(e,function(e){return e.x.getTime()})}),Jb=function(e){function t(e){var n;return Y()(this,t),n=tt()(this,at()(t).call(this,e)),st()(ot()(n),"getSelectedItem",function(){var e=n.props.data,t=n.state.itemKey;return Kb(e)[t]}),st()(ot()(n),"onLineClick",function(){var e=Db.j(n.clickLine.node()),t=R()(e,1)[0];n.setItemFromMouseX(t)}),st()(ot()(n),"startPointDrag",function(){n.dragging=!0}),st()(ot()(n),"pointDrag",function(){if(n.dragging){var e=Db.j(n.svg.node()),t=R()(e,1)[0];n.setItemFromMouseX(t)}}),st()(ot()(n),"setItemFromMouseX",function(e){var t=Math.min(e,n.getInnerWidth()-1),a=n.getItemAt(t).x.getTime();n.setState({itemKey:a})}),st()(ot()(n),"stopPointDrag",function(){n.dragging=!1}),n.createScales(),n.updateDomains(),n.dragging=!1,n.state={itemKey:null,prevData:null},n}return it()(t,e),W()(t,[{key:"componentDidMount",value:function(){this.createElements(),this.props.animation&&this.enterAnimation(),this.updateElements(),this.movePointToItem()}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.itemKey!==t.itemKey,a=this.props.width!==e.width,r=this.props.margin!==e.margin,o=this.props.data!==e.data;r&&this.updateRoot(),a||o?(this.updateScales(),this.updateGradient(),this.updateAxis(),this.updateLine(),this.movePointToItem()):n&&this.movePointToItem()}},{key:"createElements",value:function(){this.createRoot(),this.createGradient(),this.createPointLine(),this.createLine(),this.createPoint(),this.createTooltip(),this.createAxis()}},{key:"updateElements",value:function(){this.updateRoot(),this.updateScales(),this.updateGradient(),this.updateAxis(),this.updateLine(),this.updateTooltip()}},{key:"createScales",value:function(){var e=this.props,t=e.xScale,n=e.yScale;this.x=t().range([0,this.getInnerWidth()]),this.y=n().range([this.getInnerHeight(),0])}},{key:"updateScales",value:function(){this.x.range([0,this.getInnerWidth()]),this.y.range([this.getInnerHeight(),0]),this.updateDomains()}},{key:"getInnerWidth",value:function(){var e=this.props,t=e.width,n=e.margin;return t-n.left-n.right}},{key:"getInnerHeight",value:function(){var e=this.props,t=e.height,n=e.margin;return t-n.top-n.bottom}},{key:"updateDomains",value:function(){var e=this.props.data;this.x.domain(Db.h(e,function(e){return e.x}));var t=Db.h(e,function(e){return e.y});t[0]===t[1]&&(t[0]=0),this.y.domain(t)}},{key:"createRoot",value:function(){this.svg=Db.m(this.root).append("g")}},{key:"updateRoot",value:function(){var e=this.props.margin;this.svg.attr("transform","translate(".concat(e.left,", ").concat(e.top,")"))}},{key:"createGradient",value:function(){var e=this;this.props.gradient&&(this.areaGenerator=Db.a().x(function(t){return e.x(t.x)}).y1(function(t){return e.y(t.y)}),this.mask=this.svg.append("mask").attr("id","maskurl").append("path").attr("fill","white"),this.rect=this.svg.append("rect").attr("id","gradient-rect").attr("x",0).attr("y",0).attr("mask","url(#maskurl)").attr("fill","url(#gradient)"))}},{key:"updateGradient",value:function(){var e=this;if(this.rect){var t=this.props,n=t.data,a=t.showAxis,r=t.margin,o=this.getDataMin(),c=this.getInnerHeight();this.areaGenerator.y0(function(){var t=e.y(o.y);return 0===t&&(t+=c),a||(t+=r.bottom),t});var i=c+(a?0:r.bottom);this.rect.attr("width",this.getInnerWidth()).attr("height",i),this.mask.datum(n).attr("d",this.areaGenerator)}}},{key:"createLine",value:function(){var e=this,t=this.props,n=t.lineColor,a=t.lineWidth;this.lineGenerator=Db.i().x(function(t){return e.x(t.x)}).y(function(t){return e.y(t.y)}),this.line=this.svg.append("path").attr("id","line").attr("stroke",n).attr("fill","none").attr("stroke-width",a),this.clickLine=this.svg.append("path").attr("id","clickLine").attr("stroke","transparent").attr("stroke-width",64).style("cursor","pointer").attr("fill","none").on("click",this.onLineClick),this.updateLine()}},{key:"updateLine",value:function(){var e=this.props.data;this.line.datum(e).attr("d",this.lineGenerator),this.clickLine.datum(e).attr("d",this.lineGenerator)}},{key:"createPoint",value:function(){var e=this.props,t=e.pointRadius,n=e.pointFillColor,a=e.pointStrokeColor,r=e.pointStrokeWidth,o=Db.d();this.point=this.svg.append("circle").attr("r",t).attr("fill",n).attr("stroke-width",r).attr("stroke",a);this.clickPoint=this.svg.append("circle").attr("r",24).attr("fill","transparent").call(o.on("start",this.startPointDrag)).call(o.on("drag",this.pointDrag)).call(o.on("end",this.stopPointDrag))}},{key:"createTooltip",value:function(){var e=Yb,t=Ub,n=Wb;this.tooltip=this.svg.append("g"),this.tooltipBg=this.tooltip.append("rect").attr("fill",Vb("--historyTooltipBackgroundColor")).attr("y",-e).attr("height",e);var a,r,o,c,i,l=(a=[0,0],r=t,o=R()(a,2),c=o[0],i=o[1],[[c-r/2,i],[c+r/2,i],[c,i+Math.sqrt(Math.pow(r,2)-Math.pow(r/2,2))]]).map(function(e){return e.join(",")}).join(" ");this.tooltipArrow=this.tooltip.append("polygon").attr("points",l).attr("fill",Vb("--historyTooltipBackgroundColor")),this.tooltipText=this.tooltip.append("text").attr("fill",Vb("--historyTooltipTextColor")).attr("style","font-size: ".concat(n,"px; font-family: Lato")).attr("x",0).attr("y",-n/2)}},{key:"updateTooltip",value:function(){var e=this,t=Qb,n=Ub,a=this.getSelectedItem();if(a){var r=this.x(a.x),o=-n;this.tooltip.attr("transform","translate(".concat(r,", ").concat(o,")"));var c=this.props.getTooltipContent(a);this.tooltipText.selectAll("*").remove(),c.forEach(function(t){e.tooltipText.append("tspan").text(t.content+" ").attr("style",t.style)});var i=this.tooltipText.node().getComputedTextLength(),l=r<i,s=R()(t,1)[0];this.tooltipBg.attr("x",l?-s:-i-s).attr("width",i+2*s),this.tooltipText.attr("text-anchor",l?"start":"end")}}},{key:"updatePoint",value:function(){var e=this.getSelectedItem();if(e){var t=this.x(e.x),n=this.y(e.y);this.point.attr("cx",t).attr("cy",n),this.clickPoint.attr("cx",t).attr("cy",n)}}},{key:"createPointLine",value:function(){this.pointLine=this.svg.append("line").attr("stroke-width",1).attr("stroke",this.props.lineColor).attr("stroke-dasharray","3,2")}},{key:"updatePointLine",value:function(){var e=this.getSelectedItem();if(e){var t=this.props,n=t.height,a=t.margin,r=t.tickPadding,o=t.showAxis,c=this.x(e.x),i=n-a.top+r;o&&(i-=a.bottom),this.pointLine.attr("x1",c).attr("y1",0).attr("x2",c).attr("y2",i)}}},{key:"createAxis",value:function(){var e=this.props,t=e.tickSizeOuter,n=e.tickSizeInner,a=e.tickPadding,r=e.nbTicks,o=e.tickFormat,c=e.showAxis;this.xAxisGenerator=Db.b(this.x).tickSizeOuter(t).tickSizeInner(n).tickPadding(a),void 0!==r&&this.xAxisGenerator.ticks(r),o&&this.xAxisGenerator.tickFormat(o),c&&(this.axis=this.svg.append("g"))}},{key:"updateAxis",value:function(){var e=this.props,t=e.axisColor,n=e.labelsColor,a=e.showAxis,r=e.axisMargin;a&&(this.axis.attr("transform","translate(0, ".concat(this.getInnerHeight()+r,")")),this.axis.call(this.xAxisGenerator),this.axis.selectAll(".domain").attr("stroke",t),this.axis.selectAll(".tick line").attr("stroke",t),this.axis.selectAll(".tick text").attr("fill",n).attr("font-family","Lato, sans-serif").attr("font-size","0.75rem").attr("style","text-transform: uppercase"))}},{key:"getDataMin",value:function(){return qb()(this.props.data,function(e){return e.y})}},{key:"enterAnimation",value:function(){var e=this,t=this.line.node().getTotalLength();this.tooltip.attr("style","opacity: 0"),this.point.attr("r",0).attr("stroke-width",0),this.pointLine.attr("opacity",0),this.mask&&this.mask.attr("opacity",0);this.line.attr("stroke-dasharray",t).attr("stroke-dashoffset",t+-60).transition().duration(this.props.enterAnimationDuration).ease(Db.f).attr("stroke-dashoffset",0).on("end",function(){e.mask&&(e.mask.transition().duration(250).ease(Db.g).attr("opacity",1),e.point.transition().duration(200).ease(Db.g).attr("r",e.props.pointRadius).attr("stroke-width",e.props.pointStrokeWidth),e.pointLine.transition().duration(400).ease(Db.e).attr("opacity",1),e.tooltip.transition().duration(200).ease(Db.g).style("opacity",1)),e.line.attr("stroke-dasharray",null)})}},{key:"getItemAt",value:function(e){var t=this.props.data,n=this.x.invert(e);return t[(0,Db.c(function(e){return e.x}).right)(t,n)]}},{key:"movePointToItem",value:function(){this.point&&(this.updatePoint(),this.updatePointLine(),this.updateTooltip())}},{key:"render",value:function(){var e=this,t=this.props,n=t.width,a=t.height,r=t.gradient;return c.a.createElement("div",{className:Hb.a.LineChart},c.a.createElement("svg",{ref:function(t){return e.root=t},width:n,height:a,className:Hb.a.LineChartSVG},r&&c.a.createElement("defs",null,c.a.createElement("linearGradient",{id:"gradient",x2:"0%",y2:"100%"},Object.entries(r).map(function(e){var t=R()(e,2),n=t[0],a=t[1];return c.a.createElement("stop",{key:n,offset:n,stopColor:a})})))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data;if(!t||t.prevData!==n){var a=Kb(n);return{prevData:n,itemKey:mp()(Object.keys(a))}}return null}}]),t}(o.Component);Jb.propTypes={data:V.a.arrayOf(V.a.shape({x:V.a.any,y:V.a.any})).isRequired,width:V.a.number.isRequired,height:V.a.number.isRequired,margin:V.a.shape({top:V.a.number,bottom:V.a.number,left:V.a.number,right:V.a.number}),lineWidth:V.a.number,lineColor:V.a.string,nbTicks:V.a.number,tickFormat:V.a.func,tickPadding:V.a.number,xScale:V.a.func,yScale:V.a.func,axisColor:V.a.string,axisMargin:V.a.number,gradient:V.a.object,enterAnimationDuration:V.a.number,showAxis:V.a.bool,pointRadius:V.a.number,pointFillColor:V.a.string,pointStrokeWidth:V.a.number,pointStrokeColor:V.a.string,getTooltipContent:V.a.func},Jb.defaultProps={margin:{top:0,bottom:0,left:0,right:0},lineWidth:2,lineColor:"black",xScale:Db.k,yScale:Db.k,axisColor:"black",labelsColor:"black",axisMargin:0,enterAnimationDuration:1e3,showAxis:!1,tickPadding:8,tickSizeOuter:0,tickSizeInner:5,pointRadius:4,pointFillColor:"black",pointStrokeWidth:10,pointStrokeColor:"rgba(0, 0, 0, 0.3)",animation:!0};var Zb=Jb,Xb=n("TYy9"),$b=n.n(Xb),eg=n("fupu"),tg=n.n(eg),ng=n("4v8u"),ag=n.n(ng),rg=n("q9S1"),og=n.n(rg),cg=n("GoQk"),ig=n.n(cg),lg=function(e,t,n,a){var r=a,o=Qs()(t,function(e){return sr()(e.date,"YYYY-MM-DD")});if(!r){var c=ig.a.apply(void 0,F()(Object.keys(o)));r=tg()(c)?c:n}for(var i={},l=n,s=Object(ti.b)(e);ao()(l,r)||og()(l,r);l=ag()(l,1)){var u=sr()(l,"YYYY-MM-DD"),d=o[u];s=d?s-Mf()(d,function(e){return e.amount}):s,i[u]=s}return i},sg=function(e,t,n,a){return 0===e.length?{__no_accounts__:lg({_id:"__no_accounts__",balance:0},[],n,a)}:e.reduce(function(e,r){return e[r._id]=lg(r,function(e,t){return t.filter(function(t){var n=t.account.data?t.account.data._id:t.account;return e===n})}(r._id,t),n,a),e},{})},ug=function(e){return to()($b()(e.map(Object.keys)))},dg=function(e){var t=ug(e),n={},a=!0,r=!1,o=void 0;try{for(var c,i=function(){var t=c.value;n[t]=Mf()(e,function(e){return e[t]})},l=t[Symbol.iterator]();!(a=(c=l.next()).done);a=!0)i()}catch(s){r=!0,o=s}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return n},mg=function(e){return ug([e]).sort().map(function(t){return{x:ir()(t),y:e[t]}})},fg=function(e){return function(t,n){return n[e]}},pg=fg("params"),hg=Object(cd.a)([pg],function(e){return e.subcategoryName}),bg=Object(cd.a)([function(e){return e},hg],function(e,t){return t?Object(Qa.i)(e):Object(Qa.n)(e)}),gg=Object(cd.a)([ni.a,ni.f,bg,Qa.h,fg("currentMonth")],function(e,t,n,a,r){var o=new Date,c=r?new Date(r):o,i=ag()(Nr()(c),1),l=so()(c);if(ao()(l,o)&&(l=o,i=io()(l,1)),Object(f.isQueryLoading)(t)&&!Object(f.hasQueryBeenLoaded)(t)||Object(f.isQueryLoading)(e)&&!Object(f.hasQueryBeenLoaded)(e))return null;var s,u=(s=sg(a,n,l,i),dg(Object.values(s)));return mg(u)}),vg=Object(Lt.a)("historyGradientColor")||"#297ef2",yg={"0%":Object(Pb.j)(vg,.48),"100%":vg},Eg=function(e){var t=Object(d.useI18n)().f,n=Object(o.useRef)(),a=e.data,r=e.height,i=e.minWidth,l=e.className,s=e.animation,u=Math.max(i,2*a.length),m=Object(o.useCallback)(function(e){return function(e,t){var n=t(e.x,"D MMM"),a=e.y.toLocaleString("fr-FR",{minimumFractionDigits:2,maximumFractionDigits:2});return[{content:n},{content:y()("amount-blur")?"XXX":a,style:"font-weight: bold"},{content:"€"}]}(e,t)},[t]);return Object(o.useEffect)(function(){var e=n.current;e.scrollTo(e.scrollWidth,0)},[]),c.a.createElement("div",{className:Se()(Rb.a.HistoryChart,l),ref:n},c.a.createElement(Zb,I()({animation:s,xScale:Db.l,lineColor:"white",axisColor:"white",labelsColor:"rgba(255, 255, 255, 0.64)",gradient:yg,pointFillColor:"white",pointStrokeColor:"rgba(255, 255, 255, 0.3)",getTooltipContent:m,data:a,width:u,height:r},e)))},Cg=Eg,kg=ge()(Object(i.connect)(function(e,t){return{data:gg(e,t)}}))(Eg),_g=function(e){var t=e.children,n=Yt()(e,["children"]),a=Object(he.H)();return c.a.createElement(kg,I()({params:a},n),t)},wg=Cg,Og=function(){return function(e){var t=function(t){function n(e,t){var a;return Y()(this,n),(a=tt()(this,at()(n).call(this,e,t))).handleResize=ye()(a.handleResize.bind(ot()(a)),200),a.state={size:{}},a}return it()(n,t),W()(n,[{key:"componentDidMount",value:function(){this.handleResize(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"handleResize",value:function(){var e=Us.a.findDOMNode(this);this.setState({size:e.getBoundingClientRect()})}},{key:"render",value:function(){return c.a.createElement(e,I()({},this.props,{size:this.state.size}))}}]),n}(o.Component);return t.displayName="withSize(".concat(e.displayName||e.name,")"),t}},xg=new Date,Sg=Ib()(xg,1),jg=function(){var e=Object(h.b)().isMobile?95:141;return c.a.createElement("div",{className:Rb.a.History,style:{height:e}})},Tg=function(e){function t(e,n){var a;return Y()(this,t),(a=tt()(this,at()(t).call(this,e,n))).getTransactionsFilteredHelper=Fb()(a.getTransactionsFilteredHelper),a}return it()(t,e),W()(t,[{key:"getBalanceHistory",value:function(e,t){var n=sg(e,t,xg,Sg);return dg(Object.values(n))}},{key:"getTransactionsFiltered",value:function(){var e=this.props.transactions;return this.getTransactionsFilteredHelper(e)}},{key:"getTransactionsFilteredHelper",value:function(e){var t=e.data.filter(function(e){return e&&e.date&&ao()(new Date(e.date),Sg)});return Za()({},e,{data:t})}},{key:"getChartData",value:function(){var e=this.props.accounts,t=this.getTransactionsFiltered(),n=this.getBalanceHistory(e,t.data);return mg(n)}},{key:"getChartProps",value:function(){var e=this.props,t=e.breakpoints.isMobile,n=e.size.width,a=e.animation,r=this.getChartData(),o=to()(Object.keys(Qs()(r,function(e){return sr()(e.x,"YYYY-MM")}))).length,c=t?52:89,i=Db.o("%b");return{data:r,nbTicks:o,width:mp()([n,o*c]),height:t?95:141,margin:{top:26,bottom:35,left:0,right:t?16:32},showAxis:!0,axisMargin:10,tickFormat:i,animation:a}}},{key:"render",value:function(){var e=this.props,t=e.transactions,n=e.className,a=void 0!==e.size.width,r=Object(f.isQueryLoading)(t)&&!Object(f.hasQueryBeenLoaded)(t);return c.a.createElement("div",{className:Se()(Rb.a.History,n)},r||!a?c.a.createElement(Pa.a,{size:"xxlarge",color:"white"}):c.a.createElement(wg,this.getChartProps()))}}]),t}(o.Component);Tg.propTypes={accounts:V.a.array.isRequired,className:V.a.string,transactions:V.a.object.isRequired};var Ag=ge()(Object(St.a)(),Og())(Tg),Ng=n("ebKs"),Mg=n.n(Ng),Ig=function(e){var t=e.balance,n=e.subtitle,a=e.onClickBalance,r=e.className;return c.a.createElement("div",{className:Se()(Mg.a.HeaderTitle,r)},void 0!==t&&c.a.createElement($c.a,{onClick:a,className:Mg.a.HeaderTitle_balance,total:t,symbol:"€"}),c.a.createElement("div",{className:Mg.a.HeaderTitle_subtitle},n))};Ig.propTypes={balance:V.a.number,onClickBalance:V.a.func,subtitle:V.a.string.isRequired},Ig.defaultProps={onClickBalance:void 0,balance:void 0,className:void 0};var Bg=Object(o.memo)(Ig),Fg=n("TI+C"),Lg=n.n(Fg),Rg=function(e){var t=e.className;return c.a.createElement(ea.a,{component:"a",href:"#/search",className:Se()("u-mr-half",t),size:"medium"},c.a.createElement(pt.default,{icon:ra.a}))},Dg=function(){return Object(h.b)().isMobile?c.a.createElement(Zn,null,c.a.createElement(Rg,null)):null},Pg=Rg,zg=c.a.memo(function(){var e=Object(d.useI18n)().t,t=Object(h.b)().isMobile,n=t?"u-p-0":"u-pb-0";return c.a.createElement(c.a.Fragment,null,c.a.createElement(Dg,null),t&&c.a.createElement(Rn,{className:n},c.a.createElement(nh,null,e("Balance.title"))))}),qg=Object(o.memo)(function(e){var t=e.accountsBalance,n=e.accounts,a=e.subtitleParams,r=e.onClickBalance,o=Object(D.t)(),i=Object(f.useQuery)(o.query,o),l=Object(d.useI18n)().t,s=a?l("BalanceHistory.checked-accounts",a):l("BalanceHistory.all-accounts");return c.a.createElement(ic,{className:Lg.a.BalanceHeader,theme:"inverted"},c.a.createElement(zg,null),c.a.createElement(Bg,{balance:t,subtitle:s,onClickBalance:r}),n&&c.a.createElement(Ya,{fallback:c.a.createElement(jg,null),delay:y()("balance.no-delay-history")?0:1e3},c.a.createElement(Ag,{animation:!y()("balance.no-history-animation"),accounts:n,transactions:i})),c.a.createElement(Nb,null),Yl.active?c.a.createElement(Rn,{className:"u-pb-0"},c.a.createElement(Yl,null)):null)}),Gg=n("ymXe"),Hg=n.n(Gg),Vg=function(e){var t=e.children,n=e.className;return c.a.createElement("div",{className:Se()(Hg.a.container,st()({},n,n))},t)};Vg.propTypes={children:V.a.node.isRequired,className:V.a.string},Vg.defaultProps={className:void 0};var Ug=Object(o.memo)(Vg),Yg=function(e){var t,n=e.children,a=e.top,r=e.center,o=e.bottom,i=e.className;return c.a.createElement("div",{className:Se()(Hg.a.content,(t={},st()(t,Hg.a.top,a),st()(t,Hg.a.center,r),st()(t,Hg.a.bottom,o),st()(t,i,i),t))},n)};Yg.propTypes={children:V.a.node.isRequired,className:V.a.string,top:V.a.bool,center:V.a.bool,bottom:V.a.bool},Yg.defaultProps={className:void 0,top:!1,center:!1,bottom:!1};var Qg=Object(o.memo)(Yg),Wg=function(e){var t=e.children,n=e.className,a=e.top,r=e.center,o=e.bottom;return c.a.createElement(Ug,{className:n},c.a.createElement(Qg,{top:a,center:r,bottom:o},t))};Wg.propTypes={children:V.a.node.isRequired,className:V.a.string,top:V.a.bool,center:V.a.bool,bottom:V.a.bool},Wg.defaultProps={className:void 0,top:!1,center:!1,bottom:!1};var Kg=Object(o.memo)(Wg),Jg=n("LQnD"),Zg=n.n(Jg),Xg=function(e){var t=e.buttonTheme,a=e.children,r=Object(h.b)().isMobile,o=Object(d.useI18n)(),i=o.t,l=o.lang,s=n("Vgir")("./timeline_".concat(r?"mobile":"desktop","_").concat("fr"===l?"fr":"en",".svg")),u=r?{center:!0}:{bottom:!0};return c.a.createElement(Wn.default,{variant:"inverted"},r&&c.a.createElement(nh,null,i("Balance.title")),c.a.createElement(Ug,{className:Zg.a.NoAccount},c.a.createElement(zt,{theme:"primary"}),c.a.createElement(Qg,u,c.a.createElement(Bg,{balance:0,subtitle:i("Accounts.no-account")})),c.a.createElement("div",{className:Zg.a.NoAccount_bottom},c.a.createElement("div",{className:Zg.a.NoAccount_chart}),c.a.createElement("img",{src:s,alt:"",className:Zg.a.NoAccount_timeline})),c.a.createElement(Yl,{className:"u-mb-3 u-mr-1"}),c.a.createElement(yc,null,c.a.createElement(ht.c,{theme:t,icon:c.a.createElement(pt.default,{icon:kc.a}),size:"large",className:Zg.a.NoAccount_addButton,label:i("Accounts.add-bank")}))),a)};Xg.defaultProps={buttonTheme:"highlight"};var $g=Object(o.memo)(Xg),ev=n("5dsd"),tv=n("tZD8"),nv=n("1v8c"),av=function(e){return{filterByDoc:function(t){return e(Object(Qa.d)(t))},addFilterByPeriod:function(t){return e(Object(Qa.a)(t))},resetFilterByDoc:function(){return e(Object(Qa.p)())}}},rv=function(){var e=Object(i.useDispatch)();return Object(o.useMemo)(function(){return av(e)},[e])},ov=Object(i.connect)(function(e){return{filteringDoc:Object(Qa.j)(e)}},av),cv=n("Gkw2"),iv=n.n(cv),lv=n("P422"),sv=n("i+Yv"),uv={height:32},dv=function(e){function t(e,n){var a;return Y()(this,t),a=tt()(this,at()(t).call(this,e,n)),st()(ot()(a),"intents",new lv.Intents({client:a.props.client})),a.redirect=a.redirect.bind(ot()(a)),a}var n;return it()(t,e),W()(t,[{key:"redirect",value:(n=oe()(ae.a.mark(function e(){var t,n,a;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.konnector,a=t.account,e.next=3,this.intents.redirect("io.cozy.accounts",{konnector:n,account:a});case 3:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var e=this.props,t=e.t,n=e.konnectorSlug,a="errored"===e.status;return c.a.createElement(Fc.default,{className:ri.a.AccountRow,button:a,onClick:a?this.redirect:null},c.a.createElement(Rc.a,{style:uv},n&&c.a.createElement(_i.a,{konnectorSlug:n,className:ri.a.KonnectorIcon})),c.a.createElement(Dc.default,{disableTypography:!0},c.a.createElement(Dn.default,{variant:"body1"},t(a?"Balance.importing-accounts-error":"Balance.import-accounts")),c.a.createElement(Dn.default,{variant:"caption"},a?c.a.createElement(c.a.Fragment,null,c.a.createElement(pt.default,{size:"12",icon:wu.a}),c.a.createElement("span",{className:iv.a.error},t("Balance.error"))):c.a.createElement(c.a.Fragment,null,c.a.createElement(pt.default,{size:"12",icon:sv.a,color:"var(--primaryColor)",spin:!0}),c.a.createElement("span",{className:iv.a.InProgress},t("Balance.in-progress"))))))}}]),t}(c.a.PureComponent);dv.propTypes={t:V.a.func.isRequired,konnectorSlug:V.a.string.isRequired,account:V.a.string,status:V.a.string.isRequired};var mv=ge()(Object(d.translate)(),f.withClient)(dv),fv=function(e){var t=e.group,n=e.switches,a=e.onSwitchChange,r=e.initialVisibleAccounts,i=Object(f.useClient)(),l=Object(he.C)(),s=rv().filterByDoc,u=Object(o.useMemo)(function(){return i.hydrateDocuments(D.a,t.accounts.data)},[t,i]),d=Object(o.useCallback)(function(e,t){s(t),l("/balances/details")},[s,l]),m=Object(o.useMemo)(function(){return function(e,t){var n=t.filter(Boolean);return Object(hl.g)(e)?n:Da()(n,ti.b)}(t,u).filter(function(e){return"done"!==e.status})},[t,u]),p=Object(f.useQuery)(D.r.query,D.r).data;return c.a.createElement(Bc.default,null,m.map(function(e,o){var i=n[e._id],l=e.loading?c.a.createElement(mv,{key:o+"_"+e._id,konnectorSlug:e._id,account:e.account,status:e.status}):c.a.createElement(Ji,{key:e._id,account:e,group:t,onClick:d,checked:i.checked,disabled:i.disabled,id:"".concat(t._id,".accounts.").concat(e._id),onSwitchChange:a,initialVisible:r,triggers:p});return c.a.createElement(c.a.Fragment,{key:o},l,o!==u.length-1?c.a.createElement(Zl.a,{variant:"inset"}):null)}))};fv.propTypes={group:V.a.object.isRequired,switches:V.a.object.isRequired,onSwitchChange:V.a.func};var pv=c.a.memo(function(e){return c.a.createElement(fv,e)}),hv=n("/lvV"),bv=n.n(hv),gv=Object(Xc.a)(function(e){return{root:{},expandIcon:{marginLeft:e.spacing(2),marginRight:e.spacing(0),color:e.palette.grey[400]},expanded:{},content:{marginTop:0,marginBottom:0,paddingRight:0,alignItems:"stretch",alignSelf:"stretch","&$expanded":{marginTop:0,marginBottom:0,paddingRight:0}}}})(ev.a),vv=function(e){var t=e.in,n=e.children;return t?n:null},yv=function(e){var t=e.group,n=e.groupLabel,a=e.onChange,r=e.expanded,l=e.switches,s=e.onSwitchChange,u=e.checked,m=e.withBalance,p=e.className,b=e.initialVisibleAccounts,g=Object(he.C)(),v=Object(f.useClient)(),y=Object(o.useState)(!1),E=R()(y,2),C=E[0],k=E[1],_=Object(o.useState)(r),w=R()(_,2),O=w[0],x=w[1],S=Object(d.useI18n)().t,j=Object(h.b)().isMobile,T=rv().filterByDoc,A=Object(i.useSelector)(function(e){return function(e,t){if(Object(hl.g)(e)){var n=_m(t).length>0,a=bm(t),r=Object(Et.f)(a,"lateHealthReimbursement");return n&&r&&r.enabled?{root:bv.a["GroupPanelSummary--lateHealthReimbursements"]}:void 0}}(t,e)}),N=Object(o.useCallback)(function(){T(t),g("/balances/details")},[t,T,g]),M=Object(o.useCallback)(function(e){t.loading||(e.stopPropagation(),N())},[N,t.loading]),I=Object(o.useCallback)(function(e){e.stopPropagation()},[]),B=Object(o.useCallback)(function(){var e=oe()(ae.a.mark(function e(n,r){return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(x(r),!a){e.next=4;break}return e.next=4,a(t._id,n,r);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),[a,t,x]),F=Object(o.useCallback)(oe()(ae.a.mark(function e(){return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.prev=1,e.next=4,v.destroy(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),k(!1);case 9:case"end":return e.stop()}},e,null,[[1,6]])})),[v,t]),L=t.accounts.data.filter(Boolean),D=L.length,P=Object.values(l).filter(function(e){return e.checked}).length,z=Object.keys(l).filter(function(e){return!l[e].checked}),q=void 0!==O?O:r,G=!t.loading;return c.a.createElement(nv.a,{className:p,expanded:q,onChange:B,TransitionComponent:vv},c.a.createElement(gv,{className:Se()(st()({},bv.a["GroupPanelSummary--unchecked"],!u&&G)),classes:A},c.a.createElement("div",{className:bv.a.GroupPanelSummary__labelBalanceWrapper,onClick:M},c.a.createElement("div",{className:bv.a.GroupPanelSummary__label},n,c.a.createElement("br",null),P<D&&c.a.createElement(Dn.default,{className:bv.a.GroupPanelSummary__caption,variant:"caption",color:"textSecondary"},S("Balance.nb-accounts",{nbCheckedAccounts:P,smart_count:D}))),m&&c.a.createElement($c.a,{className:"u-ml-half",symbol:"€",total:Object(hl.c)(t,z),currencyClassName:bv.a.GroupPanelSummary__figureCurrency})),c.a.createElement(sc.a,{display:"flex",alignItems:"center"},s&&c.a.createElement(Yo.a,{disableRipple:!0,className:j?null:"u-mr-half",checked:u,color:"primary",onClick:I,id:"[".concat(t._id,"]"),onChange:s}))),c.a.createElement(tv.a,null,c.a.createElement("div",{className:"u-flex-grow-1 u-maw-100"},L&&L.length>0?c.a.createElement(pv,{group:t,switches:l,onSwitchChange:s,initialVisibleAccounts:b}):c.a.createElement(Wo.a,{className:"u-m-1"},c.a.createElement(Dn.default,{variant:"body1"},S("Balance.no-accounts-in-group.description")),c.a.createElement(jt.c,null,c.a.createElement(jt.a,null,c.a.createElement(ht.b,{className:"u-ml-0",href:"#/settings/groups/".concat(t._id)},S("Balance.no-accounts-in-group.button"))),c.a.createElement(jt.b,null,c.a.createElement(ht.c,{theme:"text",busy:C,label:S("Groups.delete"),onClick:F})))))))};yv.propTypes={group:V.a.object.isRequired,switches:V.a.object,checked:V.a.bool,expanded:V.a.bool.isRequired,onSwitchChange:V.a.func,onChange:V.a.func,withBalance:V.a.bool},yv.defaultProps={withBalance:!0};var Ev=c.a.memo(yv),Cv=n("CEWS"),kv=n.n(Cv),_v=function(e){var t=e.groups,n=e.panelsState,a=e.onSwitchChange,r=e.onPanelChange,i=e.withBalance,l=Object(d.useI18n)().t,s=Object(he.C)(),u=Object(o.useCallback)(function(){s("/settings/groups")},[s]),m=Object(hl.i)(t,l),f=y()("balance.no-delay-groups")?0:150;return c.a.createElement("div",{className:kv.a.BalancePanels},m.map(function(e,t){var o=e.group,l=e.label;return c.a.createElement(Ya,{key:o._id,delay:t*f},c.a.createElement(Ev,{className:y()("balance.no-delay-groups")?"":"u-fx-from-bottom",group:o,groupLabel:l,expanded:n[o._id].expanded,checked:n[o._id].checked,switches:n[o._id].accounts,onSwitchChange:a,onChange:r,withBalance:i,initialVisibleAccounts:t<2}))}),c.a.createElement(Ya,{delay:150*m.length},c.a.createElement("div",{className:kv.a.BalancePanels__actions},c.a.createElement(yc,null,c.a.createElement(wv,null)),c.a.createElement(ht.c,{onClick:u,theme:"secondary",label:l("Balance.manage-accounts")}))))};_v.propTypes={groups:V.a.arrayOf(V.a.object).isRequired,panelsState:V.a.object.isRequired,onSwitchChange:V.a.func,onPanelChange:V.a.func,withBalance:V.a.bool},_v.defaultProps={withBalance:!0,onSwitchChange:void 0,onPanelChange:void 0};var wv=function(e){var t=e.theme,n=e.onClick,a=Object(d.useI18n)().t;return c.a.createElement(ht.c,{onClick:n,theme:t,label:a("Accounts.add-bank")})};wv.defaultProps={theme:"ghost"};var Ov=c.a.memo(_v),xv=n("gofQ"),Sv=n.n(xv),jv=function(e){var t=e.konnectorInfos,n=["Checkings","Savings"],a=function(e,t){var n=t.map(function(e){return{_id:e.konnector,account:e.account,status:e.status,loading:!0}});return e.map(function(e){return{_id:e,virtual:!0,loading:!0,label:e,accountType:e,accounts:{data:n}}})}(n,t),r=function(e){var t={};return e.forEach(function(e){t[e]={expanded:!0,accounts:{fake1:{checked:!0},fake2:{checked:!0}}}}),t}(n),i=t.some(function(e){return"running"===e.status});return c.a.createElement(o.Fragment,null,c.a.createElement(zt,{theme:"primary"}),c.a.createElement(ic,{className:Sv.a.content,theme:"inverted"},c.a.createElement(Kg,{center:!0,className:Sv.a.header},c.a.createElement(Rn,null,c.a.createElement($c.a,{className:Mg.a.HeaderTitle_balance,currencyClassName:Mg.a.BalanceHeader__currentBalanceCurrency,total:0,symbol:"€"}),i&&c.a.createElement(Av,null)))),c.a.createElement(Rn,{className:"u-pt-0"},c.a.createElement(Ov,{groups:a,panelsState:r,withBalance:!1})))},Tv=y()("balance.no-delay-groups")?0:150,Av=function(){var e=Object(d.useI18n)().t;return c.a.createElement(Ya,{delay:Tv},c.a.createElement(lc.a,{className:"u-mv-1 u-mh-auto"}),c.a.createElement(Dn.default,null,e("Balance.import-accounts")),c.a.createElement(Dn.default,null,e("Balance.delay")))};jv.propTypes={konnectorInfos:V.a.arrayOf(V.a.object)};var Nv=Object(o.memo)(jv),Mv=c.a.memo(function(){var e=Object(f.useQuery)(D.r.query,D.r),t=le(),n=t.isBankTrigger,a=t.isFetchingBankSlugs;if("loaded"!==e.fetchStatus||a)return null;var r=e.data.map(function(e){return e.attributes}).filter(n).map(function(e){return{konnector:Ti()(e,"message.konnector"),account:Ti()(e,"message.account"),status:Ti()(e,"current_state.status")}});return y()("banks.balance.account-loading")&&0===r.length&&(r=[{konnector:"creditcooperatif148",status:"done"},{konnector:"labanquepostale44",account:"fakeId",status:"errored"}]),r.some(function(e){return"running"===e.status})?c.a.createElement(Nv,{konnectorInfos:r}):c.a.createElement($g,null)}),Iv=n("yYpB"),Bv=n.n(Iv),Fv=Object(Xc.a)(function(e){return{root:{},expandIcon:{marginLeft:e.spacing(2),marginRight:e.spacing(0),color:e.palette.grey[400]},expanded:{},content:{marginTop:0,marginBottom:0,paddingRight:0,justifyContent:"space-between",alignItems:"center","&$expanded":{marginTop:0,marginBottom:0,paddingRight:0}}}})(ev.a),Lv=Object(Xc.a)({root:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}})(Dn.default),Rv=Object(Xc.a)({root:{flexBasis:"100%",paddingRight:"1rem"}})(Dc.default),Dv=Object(Xc.a)({root:{flexBasis:"200%"}})(Rv),Pv=c.a.memo(function(e){var t=e.account,n=e.t,a=t.institutionLabel,r=t.konnector;return c.a.createElement(Fc.default,{disabled:!0,onClick:function(e){e.stopPropagation()}},c.a.createElement(Rc.a,null,c.a.createElement(Si,{account:{cozyMetadata:{createdByApp:r}}})),c.a.createElement(Dv,{disableTypography:!0},c.a.createElement(Lv,{variant:"body1",color:"textPrimary"},a),c.a.createElement(Dn.default,{variant:"caption",color:"textSecondary"},n("Balance.import-in-progress"))))});Pv.displayName="Import Group Panel Row";var zv=function(){var e=Object(d.useI18n)().t,t=le(),n=t.jobsInProgress,a=void 0===n?[]:n,r=t.hasJobsInProgress,i=Object(o.useState)(!0),l=R()(i,2),s=l[0],u=l[1];return r?c.a.createElement(nv.a,{expanded:s,onClick:function(){return u(!s)}},c.a.createElement(Fv,{className:Se()(st()({},bv.a["GroupPanelSummary--unchecked"],!1))},c.a.createElement("div",{className:bv.a.GroupPanelSummary__content},c.a.createElement("div",{className:bv.a.GroupPanelSummary__labelBalanceWrapper},c.a.createElement("div",{className:bv.a.GroupPanelSummary__label},e("Balance.import-accounts")))),c.a.createElement("div",{className:"u-flex u-flex-items-center u-mr-1"},c.a.createElement(Pa.a,{size:"large"}))),c.a.createElement(tv.a,null,c.a.createElement("div",{className:"u-flex-grow-1 u-maw-100"},c.a.createElement(Bc.default,null,a.map(function(t,n){return c.a.createElement(Pv,{key:n,account:t,t:e})}))))):null},qv=function(e){return[e.accounts,e.groups,e.settings].some(function(e){return Object(f.isQueryLoading)(e)&&!Object(f.hasQueryBeenLoaded)(e)})},Gv=function(e){var t=e.groups,n=e.virtualGroups;return[].concat(F()(t.data),F()(n))},Hv=function(e){return e.accounts.data},Vv=function(e){function t(e){var n;return Y()(this,t),n=tt()(this,at()(t).call(this,e)),st()(ot()(n),"handleSwitchChange",function(e,t){var a=e.target.id+".checked";n.setState(function(e){var n=Za()({},e);return Ob()(n.panels,a,t),n},n.savePanelState)}),n.state={panels:null},n.handleClickBalance=n.handleClickBalance.bind(ot()(n)),n.handlePanelChange=n.handlePanelChange.bind(ot()(n)),n.debouncedHandlePanelChange=xt()(n.handlePanelChange,3e3,{leading:!1,trailing:!0}).bind(ot()(n)),n.handleResume=n.handleResume.bind(ot()(n)),n.updateQueries=n.updateQueries.bind(ot()(n)),n.realtime=null,n}return it()(t,e),W()(t,[{key:"handlePanelChange",value:function(e,t,n){var a=e+".expanded";this.setState(function(e){var t=Za()({},e);return Ob()(t.panels,a,n),t},this.savePanelState)}},{key:"handleClickBalance",value:function(){var e=this.props,t=e.navigate;(0,e.filterByAccounts)(this.getCheckedAccounts()),t("/balances/details")}},{key:"savePanelState",value:function(){var e=this.state.panels,t=this.props,n=t.settings,a=t.client,r=Object(Et.c)(n),o=Za()({},r,{panelsState:e});return a.save(o)}},{key:"getAccountOccurrencesInState",value:function(e){var t=this.state.panels;return t?Object.values(t).map(function(t){return t.accounts[e._id]}).filter(Boolean):[]}},{key:"getCheckedAccounts",value:function(){var e=this;return Hv(this.props).filter(function(t){return e.getAccountOccurrencesInState(t).some(function(e){return e.checked&&!e.disabled})})}},{key:"updateQueries",value:function(){var e=this;this.props.accounts.fetch().then(function(t){t.meta.count>0&&e.props.groups.fetch()}),this.props.transactions.fetch()}},{key:"handleResume",value:function(){this.updateQueries()}},{key:"startResumeListeners",value:function(){0}},{key:"stopResumeListeners",value:function(){0}},{key:"componentDidMount",value:function(){this.startResumeListeners(),S("moncompte:home")}},{key:"componentWillUnmount",value:function(){this.stopResumeListeners()}},{key:"render",value:function(){var e=this.props.hasJobsInProgress;if(qv(this.props))return c.a.createElement(o.Fragment,null,c.a.createElement(zt,{theme:"primary"}),c.a.createElement(qg,null),c.a.createElement(Va,null));var t=Hv(this.props);if(0===t.length&&!e||y()("balance.no-account")||y()("banks.balance.account-loading"))return c.a.createElement(Mv,null);var n=this.getCheckedAccounts(),a=Mf()(n,ti.b),r=n.length===t.length?void 0:{nbCheckedAccounts:n.length,nbAccounts:t.length},i=Gv(this.props);return c.a.createElement(o.Fragment,null,c.a.createElement(zt,{theme:"primary"}),c.a.createElement(qg,{onClickBalance:this.handleClickBalance,accountsBalance:a,accounts:n,subtitleParams:r}),c.a.createElement(Ya,{delay:this.props.delayContent},c.a.createElement(Rn,{className:Se()(st()({},Bv.a.Balance__panelsContainer,!0))},c.a.createElement(zv,null),c.a.createElement(Ov,{groups:i,panelsState:this.state.panels,onSwitchChange:this.handleSwitchChange,onPanelChange:this.debouncedHandlePanelChange}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(qv(e))return null;var n=e.settings,a=Object(Et.c)(n),r=function(e,t){return e.reduce(function(e,n){var a=Ti()(t,"[".concat(n._id,"].checked"),!Object(hl.g)(n)),r=Ti()(t,"[".concat(n._id,"].expanded"),!0);return e[n._id]={checked:a,expanded:r,accounts:Ti()(n,"accounts.data",[]).reduce(function(e,r){return r?(e[r._id]={checked:Ti()(t,"[".concat(n._id,"].accounts[").concat(r._id,"].checked"),!0),disabled:!a},e):e},{})},e},{})}(Gv(e),t.panels||a.panelsState||{});return Zc()(t.panels,r)?{panels:t.panels}:{panels:r}}}]),t}(o.PureComponent);Vv.defaultProps={delayContent:0};var Uv,Yv={filterByAccounts:Qa.c},Qv=ge()(Object(i.connect)(null,Yv),Object(f.queryConnect)({accounts:D.n,groups:D.s,settings:D.A}),Object(i.connect)(Object(cd.c)({virtualAccounts:ni.g,virtualGroups:ni.h})),f.withClient,function(e){var t=function(t){var n=Object(D.t)(),a=xb(n.query,n);return c.a.createElement(e,I()({},t,{transactions:a}))};return t.displayName="withTransactions(".concat(e.displayName||e.name,")"),t})(function(e){var t=e.children,n=Yt()(e,["children"]),a=Object(he.C)();return c.a.createElement(Vv,I()({navigate:a},n),t)}),Wv=function(){var e=le().hasJobsInProgress;return c.a.createElement(Qv,{hasJobsInProgress:e})},Kv=c.a.memo(function(e){var t=e.accountSwitchSize;return c.a.createElement(Sl,{size:t,theme:"inverted"})}),Jv=n("9gqn"),Zv=c.a.memo(function(e){var t=e.isSelectionModeActive,n=e.setIsSelectionModeActive,a=Object(o.useCallback)(function(){t||n(!0)},[t,n]);return c.a.createElement(ea.a,{className:"u-mr-half",onClick:a,size:"medium"},c.a.createElement(pt.default,{icon:Jv.a}))}),Xv=Object(i.connect)(function(e){return{filteredAccounts:Object(Qa.h)(e)}})(function(e){var t=Object(h.b)().isMobile,n=e.accountSwitchSize,a=e.children,r=e.showLegalMention,o=fe(),i=o.isSelectionModeActive,l=o.setIsSelectionModeActive;return c.a.createElement(ic,{theme:"inverted",fixed:!0},c.a.createElement(Rn,{className:Se()({"u-p-0":t,"u-pb-half":!t&&a})},c.a.createElement("div",{className:"u-flex u-flex-items-center"},c.a.createElement(zl,{theme:"primary",arrow:!0}),c.a.createElement(Kv,{accountSwitchSize:n})),!1!==r?c.a.createElement(Yl,{className:t?"u-mr-1 u-mb-half":""}):null),t&&c.a.createElement(Zn,null,c.a.createElement(Pg,null),c.a.createElement(Zv,{isSelectionModeActive:i,setIsSelectionModeActive:l})),a)}),$v=n("AXZd"),ey=n("rwLL"),ty=n.n(ey),ny=function(e){var t=e.className,n=e.children,a=Yt()(e,["className","children"]);return c.a.createElement(Rn,{className:"u-pv-0"},c.a.createElement(Dn.default,I()({variant:"h5",gutterBottom:!0,className:Se()("u-pt-half",t)},a),n))},ay=function(e){var t=e.className,n=e.children,a=Yt()(e,["className","children"]);return c.a.createElement("section",I()({className:Se()(ty.a.Section,t)},a),n)},ry=n("Q76G"),oy=n.n(ry),cy=n("w6eh"),iy=function(e){var t=Object(d.useI18n)().t,n=e.account,a=Object(ti.j)(n),r=Object(ti.i)(n),o=Object(ti.h)(n);return r||o?c.a.createElement(c.a.Fragment,null,c.a.createElement(cy.a,{value:a,color:"var(--successColor)"}),c.a.createElement("div",{className:"u-flex u-mt-half"},c.a.createElement("div",{className:"u-flex-grow-1"},c.a.createElement($c.a,{total:r,symbol:"€",coloredPositive:!0}),c.a.createElement(Dn.default,{variant:"caption",color:"textSecondary"},t("LoanProgress.reimbursedAmount"))),c.a.createElement("div",{className:"u-flex-grow-1 u-ta-right"},c.a.createElement($c.a,{total:o,symbol:"€"}),c.a.createElement(Dn.default,{variant:"caption",color:"textSecondary"},t("LoanProgress.borrowedAmount"))))):null},ly=function(e){var t,n=Object(h.b)().isMobile,a=Object(d.useI18n)().f,r=e.type,o=e.title,i=e.value,l=e.caption,s=e.className,u=Yt()(e,["type","title","value","caption","className"]);if(!i)return null;switch(r){case"amount":t=c.a.createElement($c.a,{total:i,symbol:"€"});break;case"date":t=a(i,"DD/MM/YY");break;case"rate":t=i+"%";break;case"nb-payments":t="x"+i;break;default:t=i}var m=c.a.createElement("span",{className:oy.a.LoanDetailsRow__value},t);return c.a.createElement("div",{className:Se()(oy.a.LoanDetailsRow,s)},c.a.createElement($v.a,null,c.a.createElement(ch.a,I()({className:Se()({"u-pl-2":!n}),primaryText:o,secondaryText:l,right:m},u))))},sy=function(e){var t=e.title,n=e.children;return c.a.createElement(ay,{title:t},n)},uy=function(e){return null!=e},dy=function(e){var t=Object(d.useI18n)().t,n=e.account,a=Object(ti.h)(n),r=Ti()(n,"balance"),o=Ti()(n,"loan.rate");return[a,r,o].some(uy)?c.a.createElement(sy,{title:t("LoanDetails.keyInfos.title")},c.a.createElement(ly,{type:"amount",title:t("LoanDetails.keyInfos.borrowedAmount"),value:a}),c.a.createElement(ly,{type:"amount",title:t("LoanDetails.keyInfos.remainingCapital"),value:Math.abs(r)}),c.a.createElement(ly,{type:"rate",title:t("LoanDetails.keyInfos.interestRate"),value:o})):null},my=function(e){var t=Object(d.useI18n)(),n=t.t,a=t.f,r=e.account;if(![Ti()(r,"loan.lastPaymentAmount"),Ti()(r,"loan.nextPaymentAmount")].some(uy))return null;var o=Ti()(r,"loan.lastPaymentDate"),i=Ti()(r,"loan.nextPaymentDate");return c.a.createElement(sy,{title:n("LoanDetails.payments.title")},c.a.createElement(ly,{type:"amount",title:n("LoanDetails.payments.lastPayment"),value:Ti()(r,"loan.lastPaymentAmount"),caption:o?"".concat(n("LoanDetails.dateGlue")," ").concat(a(o,"DD/MM/YY")):void 0}),c.a.createElement(ly,{type:"amount",title:n("LoanDetails.payments.nextPayment"),value:Ti()(r,"loan.nextPaymentAmount"),caption:i?"".concat(n("LoanDetails.dateGlue")," ").concat(a(i,"DD/MM/YY")):void 0}))},fy=function(e){var t=Object(d.useI18n)().t,n=e.account,a=Ti()(n,"loan.subscriptionDate"),r=Ti()(n,"loan.maturityDate"),o=Ti()(n,"loan.nbPaymentsLeft"),i=Ti()(n,"loan.nbPaymentsDone");return[a,r,o,i].some(uy)?c.a.createElement(sy,{title:t("LoanDetails.characteristics.title")},c.a.createElement(ly,{type:"date",title:t("LoanDetails.characteristics.subscriptionDate"),value:a}),c.a.createElement(ly,{type:"date",title:t("LoanDetails.characteristics.maturityDate"),value:r}),c.a.createElement(ly,{type:"nb-payments",title:t("LoanDetails.characteristics.nbPaymentsLeft"),value:o}),c.a.createElement(ly,{type:"nb-payments",title:t("LoanDetails.characteristics.nbPaymentsDone"),value:i})):null},py=function(e){var t=Object(d.useI18n)().t,n=e.account,a=Ti()(n,"loan.totalAmount"),r=Ti()(n,"loan.availableAmount");return"RevolvingCredit"===n.type&&[a,r].some(uy)?c.a.createElement(sy,{title:t("LoanDetails.creditReserve.title")},c.a.createElement(ly,{type:"amount",title:t("LoanDetails.creditReserve.totalUsedAmount"),value:a}),c.a.createElement(ly,{type:"amount",title:t("LoanDetails.creditReserve.availableAmount"),value:r})):null},hy=Object(d.translate)()(function(e){var t=e.account;return c.a.createElement(c.a.Fragment,null,c.a.createElement(dy,{account:t}),c.a.createElement(my,{account:t}),c.a.createElement(fy,{account:t}),c.a.createElement(py,{account:t}))}),by=function(e){var t=Object(h.b)().isMobile,n=e.filteringDoc;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Xv,{showBalance:!0}),c.a.createElement(ay,null,c.a.createElement($v.a,null,c.a.createElement(Rn,{className:Se()({"u-pr-1":!t})},c.a.createElement(iy,{account:n})))),c.a.createElement(hy,{account:n}))},gy=function(e){var t=Object(h.b)().isDesktop,n=e.children;return t?c.a.createElement(Rn,null,n):n},vy=ge()(ov,Object(f.queryConnect)({accounts:D.n}))(function(e){var t=e.filteringDoc,n=e.filterByDoc,a=e.accounts;if(Object(f.isQueryLoading)(a)&&!Object(f.hasQueryBeenLoaded)(a))return c.a.createElement(c.a.Fragment,null,c.a.createElement(Xv,{showBalance:!0}),c.a.createElement(Rn,{className:"u-flex u-flex-justify-center"},c.a.createElement(Pa.a,{size:"xxlarge"})));var r=t.accounts.data;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Xv,{showBalance:!0}),r.map(function(e){return c.a.createElement(ay,{key:e._id},c.a.createElement($v.a,null,c.a.createElement(gy,null,c.a.createElement(ch.a,{primaryText:c.a.createElement("div",{className:"u-flex u-flex-items-center"},c.a.createElement(Si,{account:e}),c.a.createElement(Dn.default,{className:"u-ml-1",variant:"h6"},e.label)),right:c.a.createElement(pt.default,{icon:dr.default,color:"var(--coolGrey)"}),actions:c.a.createElement(iy,{account:e}),className:"u-c-pointer",onClick:function(){n(e)}}))))}))}),yy=n("jaQ5"),Ey=n.n(yy),Cy=n("EMgV"),ky=n.n(Cy),_y=function(e){return e&&e.links&&e.links.related?e.links.related:null},wy=Object(ni.j)("apps"),Oy=Object(cd.a)([wy],function(e){return Zs()(e,function(e){return e._id})});Uv="io.cozy.apps/home",Object(cd.a)([Oy],function(e){var t=e[Uv];return t?_y(t):null});var xy=function(e){var t=function(t){Object(f.useQuery)(D.o.query,D.o);var n=Object(i.useSelector)(Oy),a=Object(o.useMemo)(function(){return function(e){return{MAIF:_y(e["io.cozy.apps/maif"]),HEALTH:_y(e["io.cozy.apps/sante"]),EDF:_y(e["io.cozy.apps/edf"]),COLLECT:_y(e["io.cozy.apps/collect"]),HOME:_y(e["io.cozy.apps/home"])}}(n)},[n]);return c.a.createElement(e,I()({},t,{urls:a}))};return t.displayName="withAppsUrls<".concat(e.name||e.displayName,">"),t},Sy=function(e){return function(t){return{brands:vd(e)(t)}}},jy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{queryName:"triggers"};return Object(i.connect)(Sy(e.queryName))},Ty=ge()(xy,jy())(uf),Ay=function(e){var t=e.className,n=Yt()(e,["className"]);return c.a.createElement("p",I()({className:Se()(Ey.a.Caption,t)},n))},Ny=function(e){var t=e.period,n=e.doc,a=Object(d.useI18n)().t,r=n.categoryId?Object(fi.e)(n.categoryId):null,o=a(r?"Reimbursements.noPending.".concat(r):"Reimbursements.noPending.generic",{period:t});return c.a.createElement(Rn,{className:"u-pv-0"},c.a.createElement(Ay,null,o))},My=function(e){var t=e.hasHealthBrands,n=e.doc,a=Object(d.useI18n)().t,r=Object(o.useMemo)(function(){return n.categoryId?Object(fi.e)(n.categoryId):null},[n.categoryId]),i=Object(o.useMemo)(function(){return function(e){var t=e.doc,n=e.categoryName,a=e.t;return t._type===D.d?a("Reimbursements.noReimbursed.group"):a(n?"Reimbursements.noReimbursed.".concat(n):"Reimbursements.noReimbursed.generic")}({doc:n,categoryName:r,t:a})},[r,n,a]);return c.a.createElement(Rn,{className:"u-pv-0"},c.a.createElement(Ay,null,i),!t&&"healthExpenses"===r&&c.a.createElement(vc,{type:"konnector",category:"insurance"},c.a.createElement(Cd,{konnectorType:"health"})))},Iy=function(e){var t=e.triggers,n=e.addFilterByPeriod,a=e.groupedExpenses,r=e.currentPeriod,i=e.filteringDoc,l=e.transactions,s=e.brands,u=Object(d.useI18n)(),m=u.t,p=u.f;if(Object(o.useEffect)(function(){n(ky()(new Date).toString())},[n]),Object(f.isQueryLoading)(l)&&!Object(f.hasQueryBeenLoaded)(l)||Object(f.isQueryLoading)(t)&&!Object(f.hasQueryBeenLoaded)(t))return c.a.createElement(Va,{loadingType:!0});var h=a.reimbursed,b=a.pending,g=Mf()(b,function(e){return-e.amount}),v=s.filter(function(e){return e.hasTrigger&&e.health}).length>0,y=p(Object(Qa.o)(r),4===r.length?"YYYY":"MMMM YYYY"),E=b&&b.length>0,C=h&&h.length>0;return c.a.createElement(Ty,null,c.a.createElement("div",{className:"".concat(Ey.a.Reimbursements," ").concat("js-scrolling-element")},c.a.createElement(ay,null,c.a.createElement(ny,null,m("Reimbursements.pending"),c.a.createElement($c.a,{symbol:"€",total:g,className:Ey.a.Reimbursements__figure,signed:!0})," "),E?c.a.createElement(uC,{transactions:b,className:Ey.a.Reimbursements__transactionsList,showTriggerErrors:!1}):c.a.createElement(c.a.Fragment,null,c.a.createElement(Zl.a,null),c.a.createElement(Ny,{period:y,doc:i}))),c.a.createElement(ay,null,c.a.createElement(ny,null,m("Reimbursements.alreadyReimbursed")),C?c.a.createElement(uC,{transactions:h,className:Ey.a.Reimbursements__transactionsList,showTriggerErrors:!1}):c.a.createElement(c.a.Fragment,null,c.a.createElement(Zl.a,null),c.a.createElement(My,{hasHealthBrands:v,doc:i})))))},By=function(e){var t=rv().addFilterByPeriod,n=Object(i.useSelector)(Cm),a=Object(i.useSelector)(Qa.m),r=Object(i.useSelector)(Qa.j),o=Object(f.useQuery)(D.C.query,D.C),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{queryName:"triggers"},t=Object(i.useStore)();return Sy(e.queryName)(t)}({queryName:"reimbursementsPageTriggers"}).brands;return c.a.createElement(Iy,I()({addFilterByPeriod:t,groupedExpenses:n,currentPeriod:a,filteringDoc:r,transactions:o,brands:l},e))},Fy=n("l0SJ"),Ly=n.n(Fy),Ry=new Date(2015,11,31),Dy=function(){var e=Object(h.b)().isMobile,t=Object(o.useMemo)(function(){return function(){for(var e=[],t=Ly()(new Date),n=0;n<oo()(t,Ry);n++){var a=sr()(io()(t,n),"YYYY-MM");e.push({yearMonth:a})}return e}()},[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Xv,{showBalance:!0},c.a.createElement(Rn,{className:Se()({"u-ph-half":e,"u-pv-0":e,"u-pb-half":e,"u-pt-half":!e})},c.a.createElement($r,{showFullYear:!0,color:"primary",options:t}))),c.a.createElement(By,null))};var Py=Object(i.connect)(function(e){return{filteringDoc:Object(Qa.j)(e)}})(function(e){var t=function(e){if(e&&e._type===D.a){var t=Object(ti.f)(e);return"Loan"===t?by:"Reimbursements"===t?Dy:Zy}return e&&e._type===D.d?Object(hl.f)(e)?vy:Object(hl.g)(e)?Dy:Zy:Zy}(e.filteringDoc);return c.a.createElement(c.a.Fragment,null,c.a.createElement(zt,{theme:"primary"}),c.a.createElement(t,e))}),zy=n("HCsy"),qy=n.n(zy),Gy=function(e){var t=e.transactions,n=e.handleChangeMonth,a=e.currentMonth;return c.a.createElement(jo,{transactions:t,value:a,onChange:n,color:"primary",className:"u-p-0"})},Hy=function(e){var t=e.size,n=e.currentMonth,a=Object(h.b)().isMobile,r=a?66:96,i=Object(o.useMemo)(function(){return a?48:64},[a]),l=Object(o.useMemo)(function(){return{top:26,bottom:i,left:0,right:a?16:32}},[a,i]);return t&&t.width?c.a.createElement(_g,{animation:!1,margin:l,currentMonth:n,height:r+i,minWidth:t.width,className:qy.a.TransactionsHeader__chart}):c.a.createElement("div",{style:{height:r}})},Vy=function(e){var t=e.transactions,n=e.currentMonth,a=e.handleChangeMonth,r=e.size,o=Object(h.b)().isMobile;return c.a.createElement(Xv,{showLegalMention:!1},c.a.createElement(Hy,{currentMonth:n,size:r}),c.a.createElement(Rn,{className:Se()({"u-ph-half":o,"u-pv-0":o,"u-pb-half":o},qy.a.TransactionsHeader__selectDatesContainer)},c.a.createElement(Gy,{transactions:t,handleChangeMonth:a,currentMonth:n}),c.a.createElement(Yl,{className:"u-mt-1"})),c.a.createElement(Wn.default,{variant:"inverted"},t.length>0&&c.a.createElement(Zh,null)))};Vy.propTypes={showBackButton:V.a.bool};var Uy=Og()(Object(o.memo)(Vy)),Yy=function(e){function t(e){var n;return Y()(this,t),(n=tt()(this,at()(t).call(this,e))).renderTransactions=n.renderTransactions.bind(ot()(n)),n.handleChangeTopmostTransaction=n.handleChangeTopmostTransaction.bind(ot()(n)),n.handleHeaderRef=n.handleHeaderRef.bind(ot()(n)),n.handleListRef=n.handleListRef.bind(ot()(n)),n.handleResize=xt()(n.handleResize.bind(ot()(n)),500,{trailing:!0,leading:!1}),n.handleFetchMoreBecomeVisible=n.handleFetchMoreBecomeVisible.bind(ot()(n)),n.handleChangeMonth=n.handleChangeMonth.bind(ot()(n)),n.state={currentMonth:null},n}var n;return it()(t,e),W()(t,[{key:"componentDidMount",value:function(){this.trackPage(),window.addEventListener("resize",this.handleResize),this.handleResize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"handleResize",value:function(){!function(e,t){var n=Us.a.findDOMNode(t);if(n||(n=document.querySelector('[role="header"]')),n){var a=n.firstChild,r=Us.a.findDOMNode(e);document.body.getBoundingClientRect().width<1024?r.style.paddingTop=a.getBoundingClientRect().height+"px":r.style.paddingTop=0,r.style.opacity=1}}(this.listRef,this.headerRef)}},{key:"trackPage",value:function(){var e=this.props.params,t=e.categoryName,n=e.subcategoryName;S(t&&n?"analyse:".concat(t||"home").concat(n?":details":""):"mon_compte:compte")}},{key:"handleChangeTopmostTransaction",value:function(e){var t;this.setState({currentMonth:(t=Object(Wa.g)(e),t.slice(0,7))})}},{key:"handleChangeMonth",value:function(e){this.setState({currentMonth:e}),this.props.onChangeMonth(e);var t=this.props.breakpoints.isDesktop;Hs(t).scrollTo({top:0})}},{key:"renderTransactions",value:function(){var e=this.props,t=e.t,n=e.transactions,a=e.filteringDoc,r=e.showTriggerErrors,o=a&&a._type===D.a;return Object(f.isQueryLoading)(n)&&!Object(f.hasQueryBeenLoaded)(n)?c.a.createElement(Va,{loadingType:"movements"}):0===n.data?c.a.createElement(Rn,{className:"u-pt-0"},c.a.createElement(Dn.default,{variant:"body1"},t("Transactions.no-movements"))):c.a.createElement(uC,{showTriggerErrors:r,onChangeTopMostTransaction:this.handleChangeTopmostTransaction,transactions:n.data,canFetchMore:n.hasMore,filteringOnAccount:o,manualLoadMore:Object(Qt.isMobileApp)(),onReachBottom:this.handleFetchMoreBecomeVisible})}},{key:"handleFetchMoreBecomeVisible",value:(n=oe()(ae.a.mark(function e(){var t;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.props.transactions).hasMore||"loaded"!==t.fetchStatus||this.fetchingMore){e.next=9;break}return e.prev=2,this.fetchingMore=!0,e.next=6,t.fetchMore();case 6:return e.prev=6,this.fetchingMore=!1,e.finish(6);case 9:case"end":return e.stop()}},e,this,[[2,,6,9]])})),function(){return n.apply(this,arguments)})},{key:"handleListRef",value:function(e){this.listRef=e}},{key:"handleHeaderRef",value:function(e){this.headerRef=e}},{key:"render",value:function(){var e=this.props,t=e.showHeader,n=e.showFutureBalance,a=e.className,r=e.transactions,o=e.isFetchingNewData;return c.a.createElement(Ty,null,c.a.createElement(zt,{theme:"primary"}),t?c.a.createElement(Uy,{ref:this.handleHeaderRef,transactions:r.data||[],handleChangeMonth:this.handleChangeMonth,currentMonth:this.state.currentMonth,showBackButton:this.props.showBackButton}):null,c.a.createElement(dc,{isFetching:o||!!this.fetchingMore}),c.a.createElement("div",{ref:this.handleListRef,style:{opacity:0},className:Se()(_b.a.TransactionPage__transactions,a,"js-scrolling-element")},y()("banks.future-balance")&&n?c.a.createElement(Cb,null):null,this.renderTransactions()))}}]),t}(o.Component);Yy.defaultProps={showHeader:!0,showFutureBalance:!0};var Qy={add:!1,remove:!0,update:!0},Wy=function(e){return Za()({},e,{autoUpdate:Qy})},Ky=ge()(Object(d.translate)(),Object(St.a)())(function(e){var t=e.children,n=Yt()(e,["children"]),a=Object(he.H)();return c.a.createElement(Yy,I()({params:a},n),t)}),Jy=ge()(Object(f.queryConnect)({accounts:D.n,groups:D.s,triggers:D.r}),function(e){var t=function(t){var n=Object(o.useState)(null),a=R()(n,2),r=a[0],i=a[1],l=vo(t),s=Object(o.useMemo)(function(){return Wy(r?function(e,t){var n=e.query,a=e.as,r=Yt()(e,["query","as"]),o=so()(new Date(t)).toISOString(),c=n(),i=c.where(Za()({date:{$lt:o}},c.selector)),l="".concat(a,"-").concat(t);return Za()({query:i,as:l},r)}(l,r):l)},[l,r]),u=Object(f.useQuery)(s.query,s),d=wf(u,function(e,t){return!e||t.lastUpdate}),m=Object(o.useCallback)(function(e){i(e)},[i]);return c.a.createElement(e,I()({},t,{transactions:d,onChangeMonth:m,isFetchingNewData:u!==d}))};return t.displayName="withTransactions(".concat(e.displayName||e.name,")"),t},Object(i.connect)(function(e){return{filteringDoc:Object(Qa.j)(e)}}))(Ky),Zy=function(e){return c.a.createElement(Jy,I()({},e,{showBackButton:!0}))},Xy=c.a.memo(function(e){var t=e.transaction,n=Object(Wa.h)(t);return c.a.createElement("a",{href:"#/search/".concat(encodeURIComponent(n))},c.a.createElement(pt.default,{className:"u-ml-half u-coolGrey",icon:ra.a}))}),$y=c.a.memo(function(e){var t=e.transaction,n=Object(Wa.h)(t);return c.a.createElement("div",{className:"u-flex"},c.a.createElement(Dn.default,{variant:"h6",gutterBottom:!0,className:"u-ellipsis",title:n},n),c.a.createElement(c.a.Fragment,null," ",c.a.createElement(Xy,{transaction:t})))}),eE=n("gh5H"),tE=n.n(eE),nE=function(e){var t=e.label,n=e.value;return c.a.createElement("div",{className:tE.a.TransactionInfo},c.a.createElement("span",{className:tE.a.TransactionInfoLabel},t," :"),n)},aE=c.a.memo(function(e){var t=e.infos;return c.a.createElement("div",null,t.map(function(e){var t=e.label,n=e.value;return c.a.createElement(nE,{key:t,label:t,value:n})}))});var rE=function(e){return c.a.createElement("svg",I()({width:16,height:16},e),c.a.createElement("path",{fillRule:"evenodd",d:"M8 0C3.589 0 0 3.589 0 8s3.589 8 8 8a8.039 8.039 0 007.229-4.571 1 1 0 10-1.806-.858A6.031 6.031 0 018 14c-3.309 0-6-2.691-6-6s2.691-6 6-6c1.482 0 2.866.571 3.938 1.507a.989.989 0 00-.706.353 1 1 0 00.128 1.408l3 2.5A1 1 0 0016 7V3a1 1 0 00-1-1 .987.987 0 00-.96.801C12.548 1.08 10.364 0 8 0z"}))},oE=c.a.memo(function(e){var t=e.transaction,n=e.onClick,a=Object(he.z)(),r=t.recurrence&&t.recurrence.data,o=Object(d.useI18n)().t,i=r?"/analysis/recurrence/".concat(r._id):null,l=Boolean(r);return c.a.createElement(Fc.default,{divider:!0,button:!0,disableRipple:!0,alignItems:l?"flex-start":void 0,onClick:n},c.a.createElement(Rc.a,null,c.a.createElement(pt.default,{icon:rE,className:l?"u-mt-1-half":null})),c.a.createElement(Dc.default,null,c.a.createElement("div",null,o(r?"Recurrence.choice.recurrent":"Recurrence.choice.not-recurrent"),r?c.a.createElement(c.a.Fragment,null,c.a.createElement("br",null),c.a.createElement(Dn.default,{variant:"caption",color:"textSecondary"},_p(o,r)),a.pathname!==i?c.a.createElement(Kp.Link,{to:i,className:"u-link"},c.a.createElement("div",{className:"u-mh-1"},c.a.createElement(ur.a,{onClick:_f,variant:"outlined",size:"small",className:"u-w-100 u-ph-2 u-mt-half u-flex-justify-center"},o("Recurrence.see-transaction-history")))):null):null)),c.a.createElement(zd,{className:l?"u-mt-1-half":null}))}),cE=function(e,t){var n=Object(f.useClient)(),a=Object(i.useSelector)(function(n){return t.map(function(t){return Object(gf.getDocumentFromState)(n,e,t)})});return Object(o.useMemo)(function(){return n.hydrateDocuments(e,a)},[n,a,e])},iE=c.a.memo(function(e){var t=e.transaction,n=Object(d.useI18n)().t,a=Object(f.useClient)(),r=Object(o.useState)(!1),i=R()(r,2),l=i[0],s=i[1],u=Object(o.useState)(!1),m=R()(u,2),p=m[0],h=m[1],b=Object(Wa.l)(t),g=b?b.map(function(e){return e._id}):[],v=cE(D.k,g),y=function(){s(!1)},E=(C=oe()(ae.a.mark(function e(){return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,Object(Wa.v)(a,t,v);case 4:ke.a.success(n("Transactions.infos.delete-transaction.deleting-success")),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn("Error while deleting transaction"),console.error(e.t0),ke.a.error(n("Transactions.infos.delete-transaction.deleting-error"));case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}},e,null,[[0,7,12,15]])})),function(){return C.apply(this,arguments)});var C;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Fc.default,{button:!0,onClick:function(){s(!0)}},c.a.createElement(Rc.a,null,c.a.createElement(pt.default,{className:"u-error",icon:ob.a})),c.a.createElement(Dc.default,{primary:c.a.createElement("span",{className:"u-error"},n("Transactions.infos.delete-transaction.row-label"))})),l?c.a.createElement(Jl.a,{open:!0,title:n("Transactions.infos.delete-transaction.confirm-modal.title"),content:n("Transactions.infos.delete-transaction.confirm-modal.content"),onClose:y,actions:c.a.createElement(c.a.Fragment,null,c.a.createElement(ht.c,{theme:"secondary",onClick:y,label:n("Transactions.infos.delete-transaction.confirm-modal.cancel"),disabled:p}),c.a.createElement(ht.c,{theme:"danger",onClick:E,label:n("Transactions.infos.delete-transaction.confirm-modal.confirm"),disabled:p,busy:p}))}):null)}),lE=n("/+cc"),sE=n.n(lE),uE=n("c6Mf"),dE=n("4QIb"),mE={keys:["title"],threshold:.2},fE=function(e,t){return t.map(function(e){return e.item}).map(function(t){var n=Object(fi.f)(t.id);return Za()({description:e("Data.categories.".concat(n))},t)})},pE=function(e,t,n){var a=Object(fi.f)(t.id)===e.name&&e.children,r=t.id===e.id&&(e.isParent?t.isParent:!t.isParent);return Boolean(0===n?a:r)},hE=function(e){return function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0;return Object.keys(t).map(function(r){var o=t[r],i=n?"subcategories":"categories";return o.title=a("Data.".concat(i,".").concat(o.name)),o.icon=c.a.createElement(yi,{categoryId:o.id}),n||(o.children=Da()(e(o.children,!0,a),[function(e){return e.id===o.id},function(e){return e.title}])),o})}(Object(fi.c)(),!1,e)},bE=function(e){function t(e){var n;Y()(this,t),n=tt()(this,at()(t).call(this,e)),st()(ot()(n),"transformParentItem",function(e){var t=n.props.t;return Za()({},e,{isParent:!0,title:t("Categories.choice.select-all")})}),st()(ot()(n),"isSelected",function(e,t){var a=n.props,r=a.categoryId,o=a.categoryIsParent;return pE(e,{id:r,isParent:o},t)}),st()(ot()(n),"onSearch",function(e){var t=n.props.t,a=n.fuse.search(e);return n.setState({searchValue:e}),fE(t,a)});var a=e.t,r=hE(a);return n.options={children:r,title:a("Categories.choice.title")},n.fuse=new sE.a($b()(r.map(function(e){return e.children})),mE),n.searchOptions={placeholderSearch:a("Categories.search.title"),noDataLabel:a("Categories.search.no-category"),onSearch:n.onSearch},n.state={value:""},n}return it()(t,e),W()(t,[{key:"render",value:function(){var e=this.props,t=e.t,n=e.onCancel,a=e.onSelect,r=e.modal,o=e.canSelectParent,i=r?uE.a:dE.a;return c.a.createElement(i,{closeBtnClassName:tE.a.TransactionModalCross,title:t("Categories.choice.title"),options:this.options,isSelected:this.isSelected,canSelectParent:o,transformParentItem:this.transformParentItem,onSelect:function(e){return a(e)},onCancel:n,onClose:n,searchOptions:this.searchOptions})}}]),t}(o.Component);bE.propTypes={categoryId:V.a.string.isRequired,onCancel:V.a.func.isRequired,onSelect:V.a.func.isRequired,modal:V.a.bool},bE.defaultProps={modal:!0};var gE=Object(d.translate)()(bE),vE=function(e){var t=e.transactions,n=e.beforeUpdates,a=e.afterUpdates,r=e.onError,i=e.onCancel,l=Object(f.useClient)(),s=Object(o.useMemo)(function(){return Object(Wa.e)(t[0])},[t]),u=Object(o.useCallback)(function(){var e=oe()(ae.a.mark(function e(o){var c,i;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=3;break}return e.next=3,n();case 3:return c=t.map(function(e){return Object(Wa.w)(e,o)}),e.prev=4,e.next=7,l.saveAll(c);case 7:e.next=16;break;case 9:return e.prev=9,e.t0=e.catch(4),i=Object(f.Q)(D.l).getByIds(c.map(function(e){return e._id})),console.error("Error while batch saving, requerying operations to mitigate conflicts in the future",e.t0),l.query(i),r&&r(e.t0),e.abrupt("return");case 16:a&&a(c);case 17:case"end":return e.stop()}},e,null,[[4,9]])}));return function(t){return e.apply(this,arguments)}}(),[a,n,l,r,t]),d=Object(o.useCallback)(oe()(ae.a.mark(function e(){return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:case"end":return e.stop()}},e)})),[i]);return c.a.createElement(gE,{modal:!0,categoryId:s,onSelect:u,onCancel:d})};vE.defaultProps={modal:!1};var yE=c.a.memo(vE),EE=c.a.memo(function(e){var t=e.transaction,n=e.onClose;T(function(e){return A(e,"depense-categorie")});var a=Object(o.useCallback)(function(){S(function(e){return A(e,"depense")}),n()},[n]);return c.a.createElement(yE,{beforeUpdates:a,afterUpdates:function(e){k({name:Object(fi.e)(e[0].manualCategoryId)})},onCancel:a,transactions:[t]})}),CE=n("KXRJ"),kE=Object(f.withClient)(function(e){var t=e.client,n=e.transaction,a=e.beforeUpdate,r=e.afterUpdate,o=function(){var o=oe()(ae.a.mark(function o(c){var i;return ae.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,a(e);case 2:return o.next=4,Object(Wa.x)(t,n,c);case 4:return i=o.sent,o.next=7,r(i);case 7:case"end":return o.stop()}},o)}));return function(e){return o.apply(this,arguments)}}(),i=Object(Wa.f)(n),l=Object(Wa.c)(n);return c.a.createElement("div",{className:"u-p-half"},c.a.createElement(CE.a,{initialValue:(l||i).slice(0,10),onSelect:o}))}),_E=c.a.memo(function(e){var t=e.transaction,n=e.beforeUpdate,a=e.afterUpdate,r=e.onClose,i=Object(d.useI18n)().t;T(function(e){return A(e,"depense-affectation_mois")});var l=Object(o.useCallback)(function(){S(function(e){return A(e,"depense")}),r()},[r]);return c.a.createElement(tl,{open:!0,size:"small",title:i("Transactions.infos.chooseApplicationDate"),onClose:l,content:c.a.createElement(kE,{beforeUpdate:function(){n(),l()},afterUpdate:a,transaction:t})})}),wE=n("k27I"),OE=n.n(wE),xE=function(e,t){return t.currency?"".concat(Math.abs(e)).concat(t.currency):"".concat(Math.abs(e)).concat("€")},SE=function(){return c.a.createElement(pt.default,{icon:kc.a,className:OE.a.FakeCategoryIcon})},jE=function(e){return{_id:"new-recurrence",_type:D.i,title:e("Recurrence.choice.new-recurrence"),icon:c.a.createElement(SE,null)}},TE=function(e){var t=e.transaction,n=e.beforeUpdate,a=e.afterUpdate,r=Object(d.useI18n)().t,i=Object(f.useClient)(),l=t.recurrence.data,s=l&&l._id,u=Object(f.useQuery)(D.y.query,D.y),m=Object(f.useQuery)(D.n.query,D.n).data,p=Object(o.useMemo)(function(){return Zs()(m,function(e){return e._id})},[m]),h=u.data,b=Object(o.useMemo)(function(){return h?[jE(r)].concat(Da()(h,Cp).map(function(e){return function(e,t,n){var a=up()(e.amounts),r=mp()(e.amounts),o=_p(t,e),i=a===r?t("Recurrence.description-amount",{amount:xE(a,e)}):t("Recurrence.description-amounts",{minAmount:xE(a,e),maxAmount:xE(r,e)}),l=e.accounts?e.accounts.map(function(e){var t=n[e];return t?t.label:null}).filter(Boolean).join(" · "):null;return{_id:e._id,_type:D.i,key:e._id,title:Cp(e),icon:c.a.createElement(yi,{categoryId:kp(e)[0]}),description:[o,i,l].filter(Boolean).join(" · ")}}(e,r,p)})):null},[p,h,r]),g=(v=oe()(ae.a.mark(function e(r){var o,c,l,s;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r,!n){e.next=4;break}return e.next=4,n();case 4:if("new-recurrence"!==o._id){e.next=10;break}return e.next=7,i.save(Op(Object(f.dehydrate)(t)));case 7:c=e.sent,l=c.data,o={_id:l._id,_type:D.i};case 10:return e.next=12,Object(Wa.z)(i,t,o);case 12:if(s=e.sent,!a){e.next=16;break}return e.next=16,a(s);case 16:case"end":return e.stop()}},e)})),function(e){return v.apply(this,arguments)});var v;if(Object(f.isQueryLoading)(u)&&!Object(f.hasQueryBeenLoaded)(u))return c.a.createElement(Va,{spinnerSize:"xlarge"});return c.a.createElement(dE.a,{radioPosition:"left",isSelected:function(e){return function(e,t){return e._id===Qf.a&&!t||!("recurrent"!==e._id||!t)||e._id===t}(e,s)},onSelect:g,options:{children:[{_id:Qf.a,_type:D.i,title:r("Recurrence.choice.not-recurrent")},{_id:"recurrent",title:r("Recurrence.choice.recurrent"),description:l&&c.a.createElement("div",{className:"u-ellipsis"},Cp(l)),children:b}]}})},AE=c.a.memo(function(e){var t=e.transaction,n=e.onClose,a=Object(d.useI18n)().t;T(function(e){return A(e,"depense-affectation_recurrence")});var r=Object(o.useCallback)(function(){S(function(e){return A(e,"depense")}),n()},[n]);return c.a.createElement(tl,{size:"small",open:!0,onClose:r,title:a("Transactions.infos.chooseRecurrence"),content:c.a.createElement(TE,{onSelect:function(e){return e},beforeUpdate:r,onCancel:r,transaction:t})})}),NE=n("ERmx"),ME=function(e){var t=e.onClick,n=e.onClose,a=e.withLabel,r=Object(f.useClient)(),i=Object(d.useI18n)().t,l=Object(he.z)(),s=Object(o.useState)(""),u=R()(s,2),m=u[0],p=u[1],h=Object(o.useReducer)(function(e){return!e},!1),b=R()(h,2),g=b[0],v=b[1],y=l.pathname.startsWith("/settings");T(y?"parametres:labels:creation-label-saisie":"mon_compte:depense:creation-label-saisie");var E=function(){var e=oe()(ae.a.mark(function e(){var a,o;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S(y?"parametres:labels:creation-label-confirmation":"mon_compte:depense:creation-label-confirmation"),v(),e.next=4,r.save({_type:D.k,label:m.trim()});case 4:a=e.sent,o=a.data,t&&t(o),n();case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return c.a.createElement(Jl.a,{open:!0,onClose:n,title:i("Tag.add-new-tag"),content:c.a.createElement(NE.a,I()({fullWidth:!0,value:m,margin:"normal"},a&&{label:i("Tag.tag-name")},{variant:"outlined",inputProps:{maxLength:30,"data-testid":"TagAddNewTagModal-TextField"},autoFocus:!0,onChange:function(e){var t=e.target.value;t.match(/^\S.*/)?p(t.substring(0,30)):p("")}})),actions:c.a.createElement(c.a.Fragment,null,c.a.createElement(Pc.a,{fullWidth:!0,variant:"secondary",label:i("Tag.addModal.actions.cancel"),onClick:n}),c.a.createElement(Pc.a,{fullWidth:!0,label:i("Tag.addModal.actions.submit"),busy:g,disabled:0===m.length,onClick:E,"data-testid":"TagAddNewTagModal-Button-submit"}))})};ME.defaultProps={withLabel:!0},ME.propTypes={onClose:V.a.func.isRequired,onClick:V.a.func,withLabel:V.a.bool};var IE=ME,BE=function(e){var t=e.transaction,n=e.onClose,a=Object(h.b)().isMobile,r=Object(d.useI18n)().t,i=Object(f.useClient)(),l=Object(o.useState)(!1),s=R()(l,2),u=s[0],m=s[1],p=Object(o.useState)(!1),b=R()(p,2),g=b[0],v=b[1],y=Object(o.useState)(function(){return Object(Wa.m)(t)}),E=R()(y,2),C=E[0],k=E[1],_=Object(o.useState)(!1),w=R()(_,2),O=w[0],x=w[1];T("mon_compte:depense:ajout-label-saisie");var j=function(){return m(function(e){return!e})},A=Object(f.useQueryAll)(D.B.query,D.B),N=A.data,M=Yt()(A,["data"]),I=Object(f.isQueryLoading)(M)||M.hasMore;Object(o.useEffect)(function(){k(Object(Wa.m)(t))},[t]);var B=function(e){C.some(function(t){return t===e._id})?k(function(t){return t.filter(function(t){return t!==e._id})}):C.length<5&&k(function(t){return[].concat(F()(t),[e._id])}),x(!0)},L=(z=oe()(ae.a.mark(function e(){var a,r;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(S("mon_compte:depense:ajout-label-confirmation"),!O){e.next=10;break}return v(!0),a=ds({transactionTags:Object(Wa.l)(t),selectedTagIds:C,allTags:N}),r=us({transactionTags:Object(Wa.l)(t),selectedTagIds:C,allTags:N}),e.next=7,Object(Wa.y)({client:i,transaction:t,tagsToRemove:a,tagsToAdd:r});case 7:n(),e.next=11;break;case 10:n();case 11:case"end":return e.stop()}},e)})),function(){return z.apply(this,arguments)}),P=a?ks:bs;var z;return c.a.createElement(c.a.Fragment,null,c.a.createElement(P,{tags:N,title:r("Tag.add-tag"),selectedTagIds:C,isSaving:g,isLoading:I,toggleAddNewTagModal:j,onClick:B,onClose:n,onConfirm:L}),u&&c.a.createElement(IE,{onClose:j,onClick:B}))},FE=function(e){var t=e.transaction,n=e.disabled,a=Object(o.useState)(!1),r=R()(a,2),i=r[0],l=r[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(ss,{disabled:n,onClick:function(){!n&&l(!0)}}),i&&c.a.createElement(BE,{transaction:t,onClose:function(){return l(!1)}}))},LE=function(e){var t=e.transaction,n=e.withIcon;return c.a.createElement(Fc.default,{divider:!0},c.a.createElement(Rc.a,null,c.a.createElement(pt.default,{icon:os.a})),c.a.createElement(Dc.default,{ellipsis:!1,primary:c.a.createElement(c.a.Fragment,null,c.a.createElement(Rh,{transaction:t,deletable:!0,withIcon:n}),c.a.createElement(FE,{transaction:t,disabled:Object(Wa.n)(t)}))}))},RE=c.a.memo(function(e){var t=Object(d.useI18n)(),n=t.t,a=t.f,r=Object(f.useClient)(),i=e.transactionId,l=e.requestClose,s=vf(D.l,i),u=c.a.createElement(pt.default,{icon:Cf,width:16,className:"".concat(s.amount<0?tE.a["TransactionModalRowIcon-reversed"]:""," u-mt-1-half")}),m=Object(Wa.e)(s),p=s.account.data,h=Object(o.useState)(null),b=R()(h,2),g=b[0],v=b[1],E=Object(o.useState)(!1),C=R()(E,2),_=C[0],w=C[1],O=(T=oe()(ae.a.mark(function e(t){var o;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),e.prev=2,w(!0),e.next=6,Object(Wa.x)(r,s,null);case 6:o=e.sent,kf(o,n,a);case 8:return e.prev=8,w(!1),e.finish(8);case 11:case"end":return e.stop()}},e,null,[[2,,8,11]])})),function(e){return T.apply(this,arguments)}),x=Object(Wa.c)(s)&&!_,S=function(e){v(e)},j=function(){v(null)};var T;return c.a.createElement(Bc.default,null,c.a.createElement(Fc.default,{divider:!0,button:!1,alignItems:"flex-start"},c.a.createElement(Rc.a,null,u),c.a.createElement(Dc.default,null,c.a.createElement($y,{transaction:s}),c.a.createElement(aE,{infos:[{label:n("Transactions.infos.account"),value:Object(ti.e)(p,n)},{label:n("Transactions.infos.institution"),value:Object(ti.c)(p)},{label:n("Transactions.infos.originalBankLabel"),value:y()("originalBankLabel")&&s.originalBankLabel},{label:n("Transactions.infos.date"),value:a(Object(Wa.f)(s),"dddd D MMMM")}].filter(function(e){return e.value})}))),c.a.createElement(Fc.default,{divider:!0,button:!0,disableRipple:!0,onClick:function(){return S("category")}},c.a.createElement(Rc.a,null,c.a.createElement(yi,{categoryId:m})),c.a.createElement(Dc.default,null,n("Data.subcategories.".concat(Object(fi.e)(Object(Wa.e)(s))))),c.a.createElement(zd,null)),c.a.createElement(Fc.default,{divider:!0,button:!0,disableRipple:!0,onClick:function(){return S("application-date")}},c.a.createElement(Rc.a,null,c.a.createElement(pt.default,{icon:Ef})),c.a.createElement(Dc.default,null,n("Transactions.infos.assignedToPeriod",{date:a(Object(Wa.c)(s)||Object(Wa.f)(s),"MMM YYYY")})),x&&c.a.createElement(ea.a,{onClick:O,size:"medium"},c.a.createElement(pt.default,{color:"var(--slateGrey)",icon:yf.a})),_&&c.a.createElement(Pa.a,null),c.a.createElement(zd,null)),c.a.createElement(oE,{transaction:s,onClick:function(){return S("recurrence")}}),c.a.createElement(bf,{transaction:s,displayDefaultAction:!0,isModalItem:!0}),c.a.createElement(LE,{transaction:s,withIcon:!1}),c.a.createElement(iE,{transaction:s,onDelete:l}),"category"===g&&c.a.createElement(EE,{transaction:s,onClose:j}),"application-date"===g&&c.a.createElement(_E,{beforeUpdate:function(){return w(!0)},afterUpdate:function(e){w(!1),kf(e,n,a);var t=Object(Wa.c)(e)||Object(Wa.f)(e);k({name:t})},transaction:s,onClose:j}),"recurrence"===g&&c.a.createElement(AE,{transaction:s,onClose:j}))}),DE=function(e){var t=e.requestClose,n=e.transactionId,a=Yt()(e,["requestClose","transactionId"]),r=vf(D.l,n),i=Object(he.z)();T(function(e){return"mon_compte:compte"==e?"mon_compte:depense":A(e,"depense")});var l=Object(o.useCallback)(function(e){i.pathname.startsWith("/balances/details")?S("mon_compte:compte"):i.pathname.startsWith("/analysis/categories")?S(function(e){return A(e,"details")}):j(),e.preventDefault(),t()},[i,t]);return r?c.a.createElement(tl,{size:"medium",open:!0,onClose:l,title:c.a.createElement("div",{className:"u-ta-center"},c.a.createElement($c.a,{total:r.amount,symbol:Po(r.currency),signed:!0})),content:c.a.createElement(RE,I()({},a,{transactionId:n,requestClose:l}))}):null};DE.propTypes={requestClose:V.a.func.isRequired,transactionId:V.a.string.isRequired};var PE=DE,zE=function(e){var t=Object(o.useState)(e),n=R()(t,2),a=n[0],r=n[1];return[a,function(){return r(!0)},function(){return r(!1)}]},qE=!y()("banks.transaction-actions.deactivated"),GE=function(e){var t=zE(!1),n=R()(t,3),a=n[0],r=n[1],o=n[2];return[r,o,a?c.a.createElement(PE,{requestClose:o,transactionId:e._id}):null]},HE=function(e){var t=e.transactions,n=e.beforeUpdates,a=e.afterUpdates,r=e.onError,i=zE(!1),l=R()(i,3),s=l[0],u=l[1],d=l[2],m=Object(o.useCallback)(function(){d(),n&&n()},[n,d]),f=s?c.a.createElement(yE,{beforeUpdates:m,afterUpdates:a,transactions:t,onCancel:d,onError:r}):null;return[u,d,f]},VE=function(e){return!function(e,t){for(var n=e;n.parentNode;)if((n=n.parentNode).classList&&n.classList.contains(t))return!0;return!1}(e.target,Du.a.TransactionRowMobile__actions)},UE=function(e){var t=e.transaction,n=e.toggleSelection,a=e.isSelectionModeActive,r=e.showTransactionModal,i=e.children,l=Object(o.useRef)(),s=t._id,u=Object(o.useCallback)(function(e){return e.preventDefault()},[]),d=Object(o.useCallback)(function(){a?n(t):s&&r()},[s,a,r,n,t]),m=Object(o.useCallback)(function(){s&&n(t)},[s,n,t]);return Object(o.useEffect)(function(){if(l&&l.current){var e=new Nl.a(l.current);return e.on("tap",function(e){VE(e)&&setTimeout(function(){d()},10)}),e.on("press",function(e){VE(e)&&m()}),function(){e&&e.destroy()}}},[m,d,r,n,t,t._id]),c.a.createElement("span",{ref:l,onClick:u},i)};UE.propTypes={transaction:V.a.object,toggleSelection:V.a.func,isSelectionModeActive:V.a.bool,showTransactionModal:V.a.func};var YE=c.a.memo(UE),QE=function(e){var t=e.isSelected;return fe().isSelectionModeActive?c.a.createElement(jt.b,{style:{marginLeft:"-1rem"}},c.a.createElement(Ca.a,{checked:t,readOnly:!0})):null},WE={marginLeft:"3.5rem"},KE=function(e){var t=e.transaction,n=e.filteringOnAccount,a=e.onRef,r=e.showRecurrence,i=e.isSelected,l=e.isSelectionModeActive,s=e.toggleSelection,u=e.hasDivider,m=Object(d.useI18n)().t,f=t.account.data,p={},h=GE(t),b=R()(h,3),g=b[0],v=b[2],E=Object(o.useMemo)(function(){return a?a.bind(null,t._id):null},[a,t]);y()("show-transactions-ids")&&(p.id=t._id),p.className=Se()(Du.a.TransactionRowMobile);var C=Object(Wa.c)(t),k=t.recurrence?t.recurrence.data:null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(YE,{transaction:t,toggleSelection:s,isSelectionModeActive:l,showTransactionModal:g},c.a.createElement(Fc.default,I()({ref:E},p,{className:Se()(st()({},Du.a["TransactionRow--selected"],i)),button:!!t._id}),c.a.createElement(jt.c,{className:"u-w-100"},c.a.createElement(QE,{isSelected:i}),c.a.createElement(jt.a,null,c.a.createElement(jt.c,{className:"u-w-100"},c.a.createElement(jt.b,{className:"u-mr-half",title:m("Data.subcategories.".concat(Object(fi.e)(Object(Wa.e)(t))))},c.a.createElement(yi,{categoryId:Object(Wa.e)(t)})),c.a.createElement(jt.a,{className:"u-mr-half"},c.a.createElement(Dc.default,{disableTypography:!0},c.a.createElement(Dn.default,{className:"u-ellipsis",variant:"body1"},Object(Wa.h)(t)),!n&&c.a.createElement(Ah,{account:f}),C?c.a.createElement(Th,{transaction:t}):null)),c.a.createElement(jt.b,{className:Du.a.TransactionRowMobileImg},c.a.createElement($c.a,{total:t.amount,symbol:Po(t.currency),coloredPositive:!0,signed:!0}),k&&r?c.a.createElement(Bh,{recurrence:k}):null)),c.a.createElement("div",{className:Se()("u-mb-half",Du.a.TransactionRowMobile__actions)},qE&&c.a.createElement(bf,{transaction:t,onlyDefault:!0,compact:!0,menuPosition:"right"}),c.a.createElement(Rh,{transaction:t,clickable:!0}))))),u&&c.a.createElement(Zl.a,{style:WE,variant:"inset"})),v)};KE.propTypes={transaction:V.a.object.isRequired,showRecurrence:V.a.bool,hasDivider:V.a.bool},KE.defaultProps={showRecurrence:!0};var JE=c.a.memo(KE),ZE=n("+MCZ"),XE=n("Nh9u"),$E=n("RsDB"),eC=function(e){var t=e.transactions,n=fe(),a=n.isSelectionModeActive,r=n.selected,i=n.emptyAndDeactivateSelection,l=Object(d.useI18n)().t,s=Object(o.useCallback)(function(){i()},[i]),u=HE({transactions:r,beforeUpdates:s,afterUpdates:function(){ke.a.success(l("Categorization.success",{smart_count:r.length}))},onError:function(){ke.a.error(l("Categorization.error"))}}),m=R()(u,3),f=m[0],p=m[2],b=function(e){var t=e.items,n=e.showTransactionCategoryModal,a=Object(h.b)().isDesktop,r=fe(),c=r.emptySelection,i=r.emptyAndDeactivateSelection,l=r.fillSelectionWith,s=Object(o.useCallback)(function(){return l(t)},[l,t]),u=Object(o.useCallback)(function(){a?i():c()},[i,c,a]);return Object(o.useMemo)(function(){return{categorize:{action:function(){return n()},displayCondition:function(e){return e.length>0},icon:XE.a},selectAll:{action:function(){return s()},displayCondition:function(e){return e.length!==t.length},icon:$E.a,disabled:function(){return!1}},unselectAll:{action:function(){return u()},displayCondition:function(e){return e.length===t.length},icon:$E.a}}},[s,t.length,n,u])}({items:t,showTransactionCategoryModal:f});return c.a.createElement(c.a.Fragment,null,a&&c.a.createElement(ZE.a,{actions:b,selected:r,hideSelectionBar:i}),p)};eC.propTypes={transactions:V.a.array};var tC=c.a.memo(eC),nC=Object(o.createContext)({mobileSectionDateFormat:"dddd D MMMM"}),aC={threshold:[0,1],margin:"-200px 0px 0px 0px"},rC={height:80},oC={height:100},cC=function(e){var t=e.initialVisible,n=Yt()(e,["initialVisible"]),a=Di(t,aC),r=R()(a,2),i=r[0],l=r[1],s=Object(d.useI18n)().f,u=Object(o.useContext)(nC).mobileSectionDateFormat,m=n.date,f=n.children;return l?c.a.createElement(c.a.Fragment,null,c.a.createElement(Qc.a,{ref:i},s(m,u)),f):c.a.createElement(c.a.Fragment,null,c.a.createElement(Qc.a,{ref:i},s(m,u)),c.a.createElement("div",{style:oC}))},iC=function(e){var t=e.initialVisible,n=Yt()(e,["initialVisible"]),a=Di(t),r=R()(a,2),o=r[0];return r[1]?c.a.createElement("tbody",I()({ref:o},n)):c.a.createElement("tbody",{ref:o,style:rC})},lC=function(e){return c.a.createElement("div",e)},sC=function(e){function t(e){var n;return Y()(this,t),n=tt()(this,at()(t).call(this,e)),st()(ot()(n),"state",{infiniteScrollTop:!1}),st()(ot()(n),"getScrollingElement",function(){var e=n.props.breakpoints.isDesktop;return Hs(e)}),n.topmost=new Vu(n.getScrollingElement),n.handleRefRow=n.handleRefRow.bind(ot()(n)),n.handleScroll=(Object(Qt.isIOSApp)()?xt.a:ye.a)(n.handleScroll.bind(ot()(n)),300,{leading:!1,trailing:!0}),n}return it()(t,e),W()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.updateTransactions(this.props.transactions)}},{key:"UNSAFE_componentWillUpdate",value:function(e){this.props.transactions!==e.transactions&&this.updateTransactions(e.transactions)}},{key:"componentWillUnmount",value:function(){(0,this.props.emptyAndDeactivateSelection)()}},{key:"updateTransactions",value:function(e){this.transactionsById=Zs()(e,"_id"),this.transactions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Da()(e,Wa.f).reverse()}(e)}},{key:"updateTopMostVisibleTransaction",value:function(){var e=this.topmost.getTopMostVisibleNodeId(),t=this.transactionsById[e];t&&this.props.onChangeTopMostTransaction&&this.props.onChangeTopMostTransaction(t)}},{key:"handleScroll",value:function(e){var t=this.props.onScroll;t&&t(e),this.updateTopMostVisibleTransaction()}},{key:"handleRefRow",value:function(e,t){var n=Us.a.findDOMNode(t);this.topmost.addNode(e,n)}},{key:"render",value:function(){var e=this.props,t=e.showTriggerErrors,n=e.filteringOnAccount,a=e.className,r=e.TransactionSections,o=e.onReachTop,i=e.onReachBottom,l=e.canFetchMore;return c.a.createElement(c.a.Fragment,null,c.a.createElement(tC,{transactions:this.transactions}),c.a.createElement(Hu,{manual:!1,canLoadAtTop:!1,canLoadAtBottom:l,onReachTop:o,onReachBottom:i,getScrollingElement:this.getScrollingElement,onScroll:this.handleScroll},t?c.a.createElement(Lu,null):null,c.a.createElement(r,{filteringOnAccount:n,className:a,transactions:this.transactions,onRowRef:this.handleRefRow})))}}]),t}(c.a.Component);sC.propTypes={showTriggerErrors:V.a.bool,TransactionSections:V.a.elementType},sC.defaultProps={showTriggerErrors:!0,TransactionSections:function(e){var t=e.filteringOnAccount,n=e.className,a=e.transactions,r=e.onRowRef,i=Object(h.b)(),l=i.isDesktop,s=i.isExtraLarge,u=fe(),d=u.isSelected,m=u.isSelectionModeActive,f=u.toggleSelection,p=Object(o.useMemo)(function(){return function(e){var t=Qs()(e,function(e){return Object(Wa.f)(e)});return Ks()(t)}(a)},[a]),b=l?iC:cC,g=l?tc:lC,v=l?Ph:JE;return c.a.createElement(g,{className:Se()(Du.a.TransactionTable,n)},p.map(function(e,n){var a=e[0],o=e[1];return c.a.createElement(b,{date:a,key:n,initialVisible:n<10},o.map(function(e,n){return c.a.createElement(v,{key:e._id,onRef:r,transaction:e,isExtraLarge:s,filteringOnAccount:t,isSelected:d(e),isSelectionModeActive:m,toggleSelection:f,hasDivider:o.length>1&&n!==o.length-1})}))}))}};var uC=function(e){var t=fe().emptyAndDeactivateSelection,n=Object(h.b)();return c.a.createElement(sC,I()({emptyAndDeactivateSelection:t,breakpoints:n},e))},dC=c.a.memo(function(e){var t=e.transactions,n=e.subcategoryName,a=Object(o.useMemo)(function(){var e=Object(Go.a)(n);return t?t.filter(function(t){return Object(cp.a)(t)===e}):[]},[n,t]);return c.a.createElement("div",{className:"js-scrolling-element"},c.a.createElement(uC,{showTriggerErrors:!1,onChangeTopMostTransaction:null,onScroll:null,transactions:a,canFetchMore:!1,filteringOnAccount:!0,manualLoadMore:!1,onReachBottom:null}))}),mC=function(e){var t=Object(Go.c)(e);return Object.values(t).map(function(e){var t=Object.values(e.subcategories).map(function(e){var t=e.transactions.reduce(function(e,t){return t.amount<0?e+t.amount:e},0),n=e.transactions.reduce(function(e,t){return t.amount>0?e+t.amount:e},0);return{id:e.id,name:e.name,amount:n+t,debit:t,credit:n,percentage:0,currency:e.transactions.length>0?Po(e.transactions[0].currency):"",transactionsNumber:e.transactions.length}}),n=e.transactions.reduce(function(e,t){return t.amount<0?e+t.amount:e},0),a=e.transactions.reduce(function(e,t){return t.amount>0?e+t.amount:e},0);return{id:e.id,name:e.name,color:e.color,amount:a+n,debit:n,credit:a,percentage:0,currency:e.transactions.length>0?Po(e.transactions[0].currency):"",transactionsNumber:e.transactions.length,subcategories:t}})},fC=(Object(cd.a)([Qa.i],mC),{add:!1,remove:!0,update:!0}),pC=function(e){return Za()({},e,{autoUpdate:fC})},hC=function(e){return function(t){var n=Object(f.useClient)(),a=Object(he.H)(),r=Object(f.useQuery)(D.n.query,D.n),l=Object(f.useQuery)(D.s.query,D.s),s=Object(f.useQuery)(D.A.query,D.A),u=function(){var e=Object(o.useContext)(Xe);if(!e)throw new Error("useSelectedTagsContext must be used within a SelectedTagsProvider");return e}(),d=R()(u,2),m=d[0],p=d[1],h=Object(i.useSelector)(Qa.j),b=Object(i.useSelector)(Qa.m),g=Object(i.useDispatch)(),v=vo({groups:l,accounts:r,filteringDoc:h,dateAttribute:"date"}),y=vo({groups:l,accounts:r,filteringDoc:h,dateAttribute:go.a}),E=Object(o.useMemo)(function(){return pC(b?Eo({baseConn:v,period:b,dateAttribute:"date"}):v)},[v,b]),C=Object(o.useMemo)(function(){return pC(b?Eo({baseConn:y,period:b,dateAttribute:go.a}):y)},[y,b]),k=xb(E.query,E),_=xb(C.query,C),w=wf(k,function(e,t){return!e||t.lastUpdate&&!t.hasMore}),O=wf(_,function(e,t){return!e||t.lastUpdate&&!t.hasMore}),x=Object(o.useMemo)(function(){return Object(Wa.b)({transactionsByDate:k.data,transactionsByApplicationDate:_.data})},[_.data,k.data]),S=Object(o.useMemo)(function(){return m.length>0?x.filter(function(e){return Object(Wa.l)(e).some(function(e){return m.some(function(t){return t._id===e._id})})}):x},[m,x]),j=Object(o.useMemo)(function(){return mC(S||[])},[S]);return c.a.createElement(e,I()({},t,{setSelectedTags:p,selectedTags:m,accounts:r,groups:l,settings:s,categories:j,transactions:w,transactionsByApplicationDate:O,filteringDoc:h,period:b,client:n,params:a,filteredTransactionsByAccount:x,dispatch:g,isFetching:Object(f.isQueryLoading)(k)||k.hasMore||Object(f.isQueryLoading)(_)||_.hasMore}))}},bC=function(e){function t(){var e,n;Y()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=tt()(this,(e=at()(t)).call.apply(e,[this].concat(r))),st()(ot()(n),"onWithIncomeToggle",function(e){var t=n.props.client,a=n.getSettings();a.showIncomeCategory=e,t.save(a)}),st()(ot()(n),"getSettings",function(){var e=n.props.settings;return Object(Et.c)(e)}),n}return it()(t,e),W()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.filteringDoc,n=e.dispatch;t&&Ma()(["professional_reimbursements","others_reimbursements","health_reimbursements"],t._id)&&n(Object(Qa.p)()),this.checkToChangeFilter(),this.trackPage()}},{key:"trackPage",value:function(){var e=this.props.params,t=e.categoryName,n=e.subcategoryName;S("analyse:".concat(t||"home").concat(n?":details":""))}},{key:"componentDidUpdate",value:function(e){var t=e.params,n=this.props.params;t.categoryName!==n.categoryName&&this.trackPage()}},{key:"checkToChangeFilter",value:function(){var e,t=this.props,n=t.categories,a=t.filteredTransactionsByAccount,r=t.dispatch;if((e=n)[0]&&isNaN(e[0].percentage)){var o=a;if(o&&o.length>0){var c=Object(Wa.f)(Ba()(o,Wa.f));r(Object(Qa.a)(c.slice(0,7)))}}}},{key:"render",value:function(){var e=this.props,t=e.categories,n=e.transactions,a=e.transactionsByApplicationDate,r=e.navigate,o=e.params,i=e.accounts,l=e.settings,s=e.isFetching,u=e.filteredTransactionsByAccount,d=e.setSelectedTags,m=e.selectedTags,p=La()([i,n,l,a],function(e){return Object(f.isQueryLoading)(e)&&!Object(f.hasQueryBeenLoaded)(e)}),h=this.getSettings().showIncomeCategory,b=h?t:t.filter(function(e){return"incomeCat"!==e.name}),g=o.categoryName,v=o.subcategoryName,y=b.find(function(e){return e.name===g}),E=Da()(b,function(e){return Math.abs(e.amount)}).reverse(),C=Boolean(i.data&&i.data.length>0),k=Uo(o);return c.a.createElement(c.a.Fragment,null,c.a.createElement(zt,{theme:"primary"}),c.a.createElement(Ts,{categoryName:g,subcategoryName:v,selectedCategory:y,withIncome:h,onWithIncomeToggle:this.onWithIncomeToggle,categories:E,isFetching:p,isFetchingNewData:s,hasAccount:C,chart:!k,setSelectedTags:d,selectedTags:m}),c.a.createElement(Ya,{delay:this.props.delayContent},C&&(p?c.a.createElement(Rn,{className:"u-pt-0"},c.a.createElement(Va,{loadingType:"categories"})):k?c.a.createElement(dC,{subcategoryName:o.subcategoryName,transactions:u}):c.a.createElement(Gs,{categories:E,selectedCategory:y,selectedCategoryName:g,selectCategory:function(e,t){return function(e,t,n){e(n?"/analysis/categories/".concat(t,"/").concat(n):t?"/analysis/categories/".concat(t):"/analysis/categories")}(r,e,t)},withIncome:h,filterWithInCome:this.filterWithInCome}))))}}]),t}(o.Component);bC.defaultProps={delayContent:0};var gC=hC(function(e){var t=e.children,n=Yt()(e,["children"]),a=Object(he.C)(),r=Object(he.H)();return c.a.createElement(bC,I()({navigate:a,params:r},n),t)}),vC=n("3ZVw"),yC=n.n(vC),EC=ae.a.mark(function e(t){var n;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=1;case 1:if(!(n<t.length)){e.next=7;break}return e.next=4,[t[n-1],t[n]];case 4:n++,e.next=1;break;case 7:case"end":return e.stop()}},e)}),CC=function(e){function t(e){var n;return Y()(this,t),(n=tt()(this,at()(t).call(this,e))).handleClick=n.handleClick.bind(ot()(n)),n.clicks=[],n}return it()(t,e),W()(t,[{key:"handleClick",value:function(){var e,t,n,a,r;if(this.clicks.push({date:Date.now()}),this.clicks=(e=this.clicks,t=3,n=e.length,a=Math.max(0,n-t),r=n,e.slice(a,r)),!(this.clicks.length<3)){var o=!0,c=!1,i=void 0;try{for(var l,s=EC(this.clicks)[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var u=R()(l.value,2),d=u[0];if(u[1].date-d.date>1e3)return}}catch(m){c=!0,i=m}finally{try{o||null==s.return||s.return()}finally{if(c)throw i}}ke.a.info("Debug flag activated"),y()("debug",!0)}}},{key:"render",value:function(){return c.a.createElement("div",{onClick:this.handleClick,className:yC.a["app-version"]},"Version ",this.props.version)}}]),t}(c.a.PureComponent);CC.propTypes={version:V.a.string.isRequired};var kC=n("MFCF"),_C=n.n(kC),wC=n("A52f"),OC=n("JrkS"),xC=["configuration","accounts","groups","tags"],SC=function(){var e=Object(h.b)().isMobile,t=Object(d.useI18n)().t,n=Object(he.z)(),a=Object(he.C)(),r=n.pathname.replace("/settings/","");-1===xC.indexOf(r)&&(r="configuration");var i=Object(o.useCallback)(function(e){return function(){return a(e)}},[a]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Rn,{className:e?"u-p-0":"u-pb-half"},c.a.createElement(nh,null,t("Settings.title"))),c.a.createElement(ic,{fixed:!0,theme:e?"inverted":"normal"},c.a.createElement(wC.a,{value:xC.indexOf(r)},xC.map(function(n,a){return c.a.createElement(OC.a,{disableRipple:!0,classes:{root:0!==a||e?0:"u-ml-2"},key:n,name:n,onClick:i("/settings/".concat(n)),label:t("Settings.".concat(n))})})),e?null:c.a.createElement(Zl.a,null)))},jC=function(e){var t=e.delayContent,n=Object(h.b)().isMobile;return c.a.createElement(c.a.Fragment,null,c.a.createElement(zt,{theme:"primary"}),c.a.createElement(SC,null),c.a.createElement(Ya,{delay:t},c.a.createElement(Rn,{className:_C.a.Settings__Content},c.a.createElement(Yl,{className:n?"u-mb-half ":"u-mt-1"}),c.a.createElement(he.d,null))),!1)};jC.defaultProps={delayContent:0};var TC=jC,AC=n("b5cD"),NC=n("DhNZ"),MC={width:16,height:16},IC=function(e){var t=e.account,n=e.onClick,a=e.secondary,r=e.isLoading,o=e.hasError;return c.a.createElement(Fc.default,{button:!0,divider:!0,onClick:n},c.a.createElement(Rc.a,null,c.a.createElement(xi,null,c.a.createElement(_i.a,{style:MC,konnectorSlug:t.cozyMetadata?t.cozyMetadata.createdByApp:null}))),c.a.createElement(Dc.default,{primary:Object(ti.c)(t),secondary:a}),o&&c.a.createElement(pt.default,{icon:wu.a,color:"var(--errorColor)",className:"u-mr-half","data-testid":"error-konn"}),r?c.a.createElement(Pa.a,{size:"large"}):c.a.createElement(pt.default,{icon:dr.default,className:"u-coolGrey"}))};IC.propTypes={account:V.a.object.isRequired,onClick:V.a.func.isRequired,secondary:V.a.oneOfType([V.a.string.isRequired,V.a.object.isRequired]),isLoading:V.a.bool,hasError:V.a.bool};var BC=IC,FC=f.models.utils,LC=function(e){return e.connection&&e.connection.raw?e.connection.raw._id:FC.getCreatedByApp(e)},RC=function(e){var t=e.accounts,n=void 0===t?[]:t,a=e.jobsInProgress,r=Object(d.useI18n)().t,i=Object(f.useClient)(),l=Object(f.useAppsInMaintenance)(i),s=Object(o.useState)([]),u=R()(s,2),m=u[0],p=u[1],h=F()(n).concat(function(e){return e.map(function(e){return{inProgress:!0,connection:{raw:{_id:e.account},data:e.account},connectionId:e.account,cozyMetadata:{createdByApp:e.konnector},institutionLabel:e.institutionLabel}})}(a)),b=Object.values(Qs()(h,function(e){return LC(e)})).map(function(e){return{accounts:e,connection:e[0].connection.data,connectionId:LC(e[0])}}),g=Object(o.useMemo)(function(){return l.map(function(e){return e.slug})},[l]),v=Object(f.useQuery)(D.r.query,D.r);Object(o.useEffect)(function(){var e,t=(null==v?void 0:null===(e=v.data)||void 0===e?void 0:e.filter(function(e){return"errored"===Ti()(e,"current_state.status")}).map(function(e){return Ti()(e,"message.account")}))||[];p(t)},[v.lastUpdate]);var y=Object(o.useState)(null),E=R()(y,2),C=E[0],k=E[1],_=Object(o.useCallback)(function(e,t,n){var a;return e||n?t?r("Settings.accounts-tab.import-in-progress"):g.includes(null==e?void 0:e.account_type)?r("Settings.accounts-tab.in-maintenance"):null==e?void 0:null===(a=e.auth)||void 0===a?void 0:a.identifier:c.a.createElement(c.a.Fragment,null,c.a.createElement(pt.default,{icon:NC.a,size:"8",className:"u-mr-half"}),r("Harvest.disconnected-account"))},[g,r]),w=function(e){return m.includes(null==e?void 0:e._id)};return c.a.createElement(Fn,{horizontal:!0,className:Yl.active?"u-mv-1":"u-mb-1"},c.a.createElement(Bc.default,null,b.map(function(e){var t,n=e.accounts,r=e.connection,o=e.connectionId,i=a.some(function(e){return e.account===o})||n[0].inProgress,l=null==n?void 0:null===(t=n[0])||void 0===t?void 0:t.inProgress;return c.a.createElement(BC,{key:n[0]._id,account:n[0],secondary:_(r,i,l),onClick:function(){if(!0!==l)return k({connection:r,connectionId:o})},isAnyJobLoading:i,hasError:w(r)})})),C?C.connection?c.a.createElement(Cu,{connectionId:C.connection._id,onDismiss:function(){return k(null)}}):c.a.createElement(AC.a,{onClose:function(){return k(null)},accounts:h.filter(function(e){return LC(e)===C.connectionId})}):null)},DC=Object(o.memo)(function(){var e=Object(d.useI18n)().t;T("parametres:comptes");var t=Object(f.useQuery)(D.n.query,D.n),n=le(),a=n.jobsInProgress,r=void 0===a?[]:a,o=n.hasJobsInProgress;if(Object(f.isQueryLoading)(t)&&!Object(f.hasQueryBeenLoaded)(t))return c.a.createElement(Va,null);var i=Da()(t.data,["institutionLabel","label"]),l=Qs()(i,function(e){return void 0===e.shared})[!0];return c.a.createElement(c.a.Fragment,null,l||o?c.a.createElement(RC,{accounts:l,jobsInProgress:r,t:e}):c.a.createElement("p",null,e("Accounts.no-accounts")),c.a.createElement(yc,null,c.a.createElement(Yc.default,{color:"primary"},c.a.createElement(pt.default,{icon:kc.a,className:"u-mr-half"})," ",e("Accounts.add-bank"))))}),PC=c.a.memo(function(e){var t=e.group,n=Object(d.useI18n)().t,a=Object(f.useClient)(),r=Object(he.C)(),i=Object(o.useCallback)(oe()(ae.a.mark(function e(){return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.destroy(t);case 3:k({name:"supprimer"}),r("/settings/groups"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Object(jn.c)(e.t0),ke.a.error(n("Groups.deletion-error"));case 11:case"end":return e.stop()}},e,null,[[0,7]])})),[t,r,a,n]);return c.a.createElement(ht.c,{className:"u-mt-1 u-ml-0",theme:"danger-outline",onClick:i,label:n("Groups.delete")})}),zC=function(e,t){if(!e)return{};var n={},a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done);a=!0){var l=c.value,s=t(l)||[],u=!0,d=!1,m=void 0;try{for(var f,p=s[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var h=f.value;n[h]=n[h]||[],n[h].push(l)}}catch(b){d=!0,m=b}finally{try{u||null==p.return||p.return()}finally{if(d)throw m}}}}catch(b){r=!0,o=b}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n},qC=n("0CcG"),GC=n.n(qC),HC=c.a.memo(function(e){var t=e.account,n=e.group,a=e.toggleAccount,r=e.groupsByAccountId,i=Object(d.useI18n)().t,l=Object(h.b)().isMobile,s=Object(o.useState)(!!n&&Boolean(n.accounts.existsById(t._id))),u=R()(s,2),m=u[0],f=u[1],p=Object(o.useCallback)((g=oe()(ae.a.mark(function e(r){var o,c;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.target.checked,c=Boolean(n.accounts.existsById(t._id)),f(o),e.prev=3,e.next=6,a(t._id,n,o);case 6:e.next=13;break;case 8:e.prev=8,e.t0=e.catch(3),ke.a.error(i("Groups.toggle-account-error")),console.warn("Error while ",e.t0),f(c);case 13:case"end":return e.stop()}},e,null,[[3,8]])})),function(e){return g.apply(this,arguments)}),[a,t,n,f,i]),b=Object(o.useMemo)(function(){return(r[t._id]||[]).filter(function(e){return e._id!==n._id})},[t._id,n._id,r]);var g;return c.a.createElement("tr",null,c.a.createElement("td",{className:GC.a.GrpStg__accntLabel},t.shortLabel||t.label),c.a.createElement("td",{className:GC.a.GrpStg__accntBank},Object(ti.c)(t)),c.a.createElement("td",{className:GC.a.GrpStg__accntNumber},t.number),l?null:c.a.createElement("td",{className:GC.a.GrpStg__accntGroups},b.map(function(e){return Object(hl.d)(e,i)}).join(", ")),c.a.createElement("td",{className:GC.a.GrpStg__accntToggle},n?c.a.createElement(Yo.a,{disableRipple:!0,color:"primary",id:t._id,checked:m,onChange:p}):c.a.createElement(Yo.a,{id:t._id,disabled:!0})))}),VC=c.a.memo(function(e){var t=Object(d.useI18n)().t,n=e.accounts,a=e.group,r=Object(f.useClient)(),i=Object(he.C)(),l=Object(h.b)().isMobile,s=Object(o.useCallback)((p=oe()(ae.a.mark(function e(t,n,a){var o,c,l;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.accounts,a?o.addById(t):o.removeById(t),e.next=4,r.save(n);case 4:c=e.sent,(l=null==c?void 0:c.data)&&!n.id&&i("/settings/groups/".concat(l.id)),k({name:"compte-".concat(a?"activer":"desactiver")});case 8:case"end":return e.stop()}},e)})),function(e,t,n){return p.apply(this,arguments)}),[r,i]),u=Object(f.useQuery)(D.s.query,D.s).data,m=Object(o.useMemo)(function(){return zC(u,hl.b)},[u]);var p;return n.length>0?c.a.createElement(ac,{className:GC.a.GrpStg__table},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:GC.a.GrpStg__accntLabel},t("Groups.label")),c.a.createElement("th",{className:GC.a.GrpStg__accntBank},t("Groups.bank")),c.a.createElement("th",{className:GC.a.GrpStg__accntNumber},t("Groups.account-number")),l?null:c.a.createElement("th",{className:GC.a.GrpStg__accntGroups},t("Groups.groups")),c.a.createElement("th",{className:GC.a.GrpStg__accntToggle},t("Groups.included")))),c.a.createElement("tbody",null,n&&Da()(n,["institutionLabel","label"]).map(function(e){return c.a.createElement(HC,{account:e,group:a,groupsByAccountId:m,toggleAccount:s,key:e._id})}))):c.a.createElement("div",null,c.a.createElement(Dn.default,{variant:"body1"},t("Groups.no-account")))}),UC=c.a.memo(function(e){var t=Object(o.useState)(!1),n=R()(t,2),a=n[0],r=n[1],i=Object(o.useState)(!1),l=R()(i,2),s=l[0],u=l[1],m=Object(f.useClient)(),p=Object(he.C)(),h=Object(o.useRef)(),b=Object(d.useI18n)().t,g=e.group,v=Object(o.useCallback)(oe()(ae.a.mark(function e(){var t,n,a;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),t=Object(hl.h)(g,h.current.value),e.prev=2,e.next=5,m.save(t);case 5:n=e.sent,(a=null==n?void 0:n.data)&&!t.id&&p("/settings/groups/".concat(a.id));case 8:return e.prev=8,u(!1),r(!1),k({name:"renommer"}),e.finish(8);case 13:case"end":return e.stop()}},e,null,[[2,,8,13]])})),[m,g,p]),y=Object(o.useCallback)(function(){r(!0)},[r]);return c.a.createElement("form",{className:GC.a.GrpStg__form,onSubmit:function(e){return e.preventDefault()}},c.a.createElement(jt.c,null,c.a.createElement(jt.b,null,a?c.a.createElement(ta.a,{ref:h,placeholder:b("Groups.name-placeholder"),autoFocus:!0,type:"text",defaultValue:Object(hl.d)(g,b)}):c.a.createElement(Dn.default,{variant:"body1"},Object(hl.d)(g,b))),c.a.createElement(jt.b,null,a?c.a.createElement(ht.c,{disabled:s,theme:"regular",onClick:v,label:b("Groups.save"),busy:s}):c.a.createElement(ht.c,{theme:"text",onClick:y,label:b("Groups.rename")}))))}),YC={clear:"left"},QC=c.a.memo(function(e){var t=e.group,n=Object(d.useI18n)().t;return Object(o.useEffect)(function(){t&&(t._id?S("parametres:groupes:detail"):S("parametres:groupes:nouveau-groupe"))},[t]),t?c.a.createElement(Rn,null,c.a.createElement("div",{className:"u-flex u-flex-items-center  u-mb-1"},c.a.createElement(zl,{to:"/settings/groups",arrow:!0}),c.a.createElement(nh,{className:"u-flex u-items-center"},Object(hl.d)(t,n))),c.a.createElement(Wo.a,{spacing:"s",style:YC},c.a.createElement("div",null,c.a.createElement(Dn.default,{variant:"h5"},n("Groups.label")),c.a.createElement(UC,{group:t})),c.a.createElement("div",null,c.a.createElement(Dn.default,{variant:"h5",gutterBottom:!0},n("Groups.accounts")),c.a.createElement(f.Query,{query:D.n.query,as:D.n.as},function(e){var n=e.data;return Object(f.isQueryLoading)(e)?c.a.createElement(Va,null):c.a.createElement(VC,{accounts:n,group:t})})),c.a.createElement(PC,{group:t}))):null}),WC=c.a.memo(function(e){var t=Object(he.H)().groupId,n=Object(f.useQuery)(Object(f.Q)(D.d).getById(t),{as:"io.cozy.bank.groups__".concat(t),singleDocData:!0});if(Object(f.isQueryLoading)(n))return c.a.createElement(c.a.Fragment,null,c.a.createElement(zt,{theme:"primary"}),c.a.createElement(Va,null));var a=n.data;return c.a.createElement(c.a.Fragment,null,c.a.createElement(zt,{theme:"primary"}),c.a.createElement(QC,I()({group:a},e)))}),KC=function(e,t){var n=e.makeNewDocument("io.cozy.bank.groups");return n.label=t("Groups.new-group"),n},JC=c.a.memo(function(e){var t=Object(d.useI18n)().t,n=Object(f.useClient)();return c.a.createElement(c.a.Fragment,null,c.a.createElement(zt,{theme:"primary"}),c.a.createElement(QC,I()({},e,{group:KC(n,t)})))}),ZC=function(e){var t=e.groups,n=Object(he.C)(),a=Object(d.useI18n)().t;return t.length?c.a.createElement(ac,{className:GC.a.GrpsStg__table},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:GC.a.GrpsStg__label},a("Groups.label")),c.a.createElement("th",{className:GC.a.GrpsStg__accounts},a("Groups.accounts")))),c.a.createElement("tbody",null,t.map(function(e){return c.a.createElement($o,{nav:!0,key:e._id,onClick:function(){return n("/settings/groups/".concat(e._id))}},c.a.createElement(ec,{main:!0,className:GC.a.GrpsStg__label},Object(hl.d)(e,a)),c.a.createElement(ec,{className:GC.a.GrpsStg__accounts},e.accounts.data.map(function(e){return Ti()(e,"shortLabel")||Ti()(e,"label")}).filter(Boolean).join(", ")))}))):c.a.createElement(Dn.default,{variant:"body1"},a("Groups.no-groups"))},XC=Object(f.queryConnect)({groups:D.s,accounts:D.n})(function(e){var t=Object(d.useI18n)().t,n=Object(he.C)(),a=Object(h.b)().isMobile;T("parametres:groupes");var r=e.groups,i=Object(o.useMemo)(function(){return Da()(r.data.filter(function(e){return e}),function(e){return Object(hl.d)(e,t)})},[r.data,t]);return Object(f.isQueryLoading)(r)&&!Object(f.hasQueryBeenLoaded)(r)?c.a.createElement(Va,null):c.a.createElement("div",{className:Yl.active?a?"u-mv-1":"":"u-mb-1"},c.a.createElement(ZC,{groups:i}),c.a.createElement("p",null,c.a.createElement(Yc.default,{color:"primary",theme:"text",onClick:function(){return n("/settings/groups/new")}},c.a.createElement(pt.default,{icon:kc.a,className:"u-mr-half"})," ",t("Groups.create"))))}),$C=n("ykoP"),ek=Object(Gc.a)(function(e){return{input:{borderRadius:"1.25rem",maxWidth:"none",height:"2.5rem",flex:"1",boxShadow:e.shadows[1],border:"0","&:hover, &:focus, &:active":{border:"0",boxShadow:e.shadows[6]},"& input":{maxWidth:"none",padding:".625rem 1rem",borderRadius:"1.25rem"}}}}),tk=function(e){var t=e.placeholder,n=e.setValue,a=ek(),r=Object(o.useMemo)(function(){return xt()(function(e){return n(e)},375)},[n]);return c.a.createElement(c.a.Fragment,null,c.a.createElement($C.a,{className:a.input,prepend:c.a.createElement(pt.default,{className:"u-pl-1",icon:ra.a,color:"var(--secondaryTextColor)"})},c.a.createElement(ta.a,{placeholder:t,onChange:function(e){return r(e.target.value)},onFocus:function(){S("parametres:labels:recherche-saisie")}})))};tk.propTypes={placeholder:V.a.string,setValue:V.a.func.isRequired};var nk=tk,ak=Object(Gc.a)({mobileInput:{width:"100%",maxWidth:"none",border:"0","&:hover, &:focus, &:active":{border:"0"}},desktopInput:{height:"2.5rem",borderRadius:"1.25rem",flex:"0"},mobileButton:{boxSizing:"border-box",padding:".625rem .5rem",lineHeight:"1.25rem",whiteSpace:"nowrap","& span, & p":{display:"inline"}},desktopButton:{boxSizing:"border-box",margin:"-.063rem",padding:".625rem 1rem",borderRadius:"1.25rem",lineHeight:"1.25rem",whiteSpace:"nowrap","& span, & p":{display:"inline"}}}),rk=function(e){var t=e.options,n=e.name,a=e.value,r=e.setValue,i=Object(h.b)().isMobile,l=ak(),s=Object(o.useState)(!1),u=R()(s,2),d=u[0],m=u[1],f=Object(o.useRef)();return c.a.createElement($C.a,{className:i?l.mobileInput:l.desktopInput},c.a.createElement(Kc.a,{className:i?l.mobileButton:l.desktopButton,variant:"caption",onClick:function(){k({name:"tri"}),m(!0)},ref:f},t[a]),d&&c.a.createElement(Xh.a,{className:l.menu,anchorElRef:f,autoclose:!0,onClose:function(){return m(!1)}},Object.entries(t).map(function(e){var t=R()(e,2),o=t[0],i=t[1];return c.a.createElement($h.a,{key:o,left:c.a.createElement(eb.a,{name:n,value:o,checked:o===a}),onClick:function(){return r(o)}},i)})))};rk.propTypes={options:V.a.objectOf(V.a.string),name:V.a.string.isRequired,value:V.a.string.isRequired,setValue:V.a.func.isRequired};var ok=rk,ck=Object(Gc.a)({desktopListItem:{paddingLeft:"2rem",paddingRight:"2rem"}}),ik=function(e){var t=e.tag,n=Object(h.b)().isMobile,a=ck(),r=Object(d.useI18n)().t,o=Object(he.C)();return c.a.createElement(Fc.default,{button:!0,onClick:function(){o("/tag/".concat(t._id))},className:n?null:a.desktopListItem},c.a.createElement(Rc.a,null,c.a.createElement(pt.default,{icon:os.a})),c.a.createElement(Dc.default,{primary:t.label,secondary:r("Tag.transactions",{smart_count:ms(t)})}),c.a.createElement(pt.default,{icon:dr.default,color:"var(--secondaryTextColor)"}))};ik.propTypes={tag:V.a.object.isRequired};var lk=ik,sk=Object(Gc.a)({desktopListItem:{paddingLeft:"2rem",paddingRight:"2rem"}}),uk=function(e){var t=e.setIsCreateModalOpened,n=Object(h.b)().isMobile,a=sk(),r=Object(d.useI18n)().t;return c.a.createElement(Fc.default,{button:!0,onClick:t,className:n?null:a.desktopListItem},c.a.createElement(Rc.a,null,c.a.createElement(pt.default,{icon:kc.a})),c.a.createElement(Dc.default,null,r("Tag.add-new-tag")))};uk.propTypes={setIsCreateModalOpened:V.a.func.isRequired};var dk=uk,mk=n("C9yA"),fk=n("YGJC"),pk=/[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+/g;function hk(e){return e.replace(pk,"")}var bk=new fk.a([],{findAllMatches:!0,threshold:.3,keys:["label"],getFn:function(e,t){return Object(mk.remove)(hk(fk.a.config.getFn(e,t)))}});var gk=Object(Gc.a)({list:{padding:".5rem 0"},desktopDivider:{marginLeft:"5rem"}}),vk=function(e){var t=e.tags,n=e.filter,a=e.sort,r=e.setIsCreateModalOpened,i=Object(h.b)().isMobile,l=gk(),s=a.split("-"),u=R()(s,2),d=u[0],m=u[1],f=function(e,t,n){return Df()(e,[t],[n])}(function(e,t){var n=Object(mk.remove)(hk(t));return 0===n.length?Array.from(e):(bk.setCollection(e),bk.search(n).map(function(e){return e.item}))}(t,n),d,m);return c.a.createElement(c.a.Fragment,null,i&&0!==f.length&&c.a.createElement(Zl.a,null),c.a.createElement(Bc.default,{className:l.list},f.map(function(e){return c.a.createElement(o.Fragment,{key:e._id},c.a.createElement(lk,{tag:e}),c.a.createElement(Zl.a,{variant:"inset",component:"li",className:i?null:l.desktopDivider}))}),c.a.createElement(dk,{setIsCreateModalOpened:r})),i&&c.a.createElement(Zl.a,null))};vk.propTypes={tags:V.a.array.isRequired,filter:V.a.string.isRequired,sort:V.a.string.isRequired,setIsCreateModalOpened:V.a.func.isRequired};var yk=vk,Ek=Object(Gc.a)({mobileBox:{display:"flex",flexDirection:"column",padding:".5rem",gap:".5rem"},desktopBox:{display:"flex",flexDirection:"row",margin:"2rem 2rem 1rem 2rem",gap:".625rem"}});yk.propTypes={tags:V.a.array.isRequired};var Ck=function(e){var t=e.tags,n=Object(h.b)().isMobile,a=Ek(),r=Object(d.useI18n)().t,i=Object(o.useState)(""),l=R()(i,2),s=l[0],u=l[1],m=Object(o.useState)("label-asc"),f=R()(m,2),p=f[0],b=f[1],g=Object(o.useState)(!1),v=R()(g,2),y=v[0],E=v[1],C=r("Tag.search-tag"),k={"label-asc":r("Tag.sortLabelAsc"),"label-desc":r("Tag.sortLabelDesc"),"transactions.count-desc":r("Tag.sortCountDesc"),"transactions.count-asc":r("Tag.sortCountAsc")};return c.a.createElement(Fn,{horizontal:!0,vertical:!0},c.a.createElement("div",{className:n?a.mobileBox:a.desktopBox},c.a.createElement(nk,{placeholder:C,setValue:u}),c.a.createElement(ok,{options:k,name:"sort",value:p,setValue:b})),c.a.createElement(yk,{tags:t,filter:s,sort:p,setIsCreateModalOpened:E}),y&&c.a.createElement(IE,{onClose:function(){return E(!1)}}))},kk=function(){var e,t=Object(d.useI18n)().t,n=Object(f.useQueryAll)(D.B.query,D.B),a="failed"===n.fetchStatus;return T("parametres:labels"),a?c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,t("Loading.error")),c.a.createElement("p",null,null===(e=n.lastError)||void 0===e?void 0:e.message)):Object(f.isQueryLoading)(n)||n.hasMore?c.a.createElement(Pa.a,{size:"xxlarge",className:"u-flex u-flex-justify-center u-mt-2 u-h-5"}):c.a.createElement(Ck,{tags:n.data})},_k=n("B7Jb"),wk=n.n(_k),Ok=function(e){var t=e.className,n=Yt()(e,["className"]);return c.a.createElement("div",I()({className:Se()(wk.a.ToggleRow__body,t)},n))},xk=function(e){var t=e.className,n=Yt()(e,["className"]);return c.a.createElement(Dn.default,I()({variant:"body2",color:"textSecondary",className:Se()(wk.a.ToggleRow__description,t)},n))},Sk=function(e){var t=e.enabled,n=e.description,a=e.onToggle;return c.a.createElement(Ok,null,c.a.createElement(xk,null,c.a.createElement("span",{dangerouslySetInnerHTML:{__html:n}})),c.a.createElement(Yo.a,{disableRipple:!0,className:"u-mh-half",checked:t,color:"primary",onClick:function(e){return e.stopPropagation()},onChange:function(){return a(!t)},"aria-label":n}))};Sk.propTypes={enabled:V.a.bool.isRequired,value:V.a.oneOfType([V.a.string,V.a.number]),title:V.a.string,description:V.a.string.isRequired,onChangeValue:V.a.func,name:V.a.string.isRequired,onToggle:V.a.func.isRequired,unit:V.a.string};var jk=Sk,Tk=function(e){return c.a.createElement(ht.c,I()({},e,{className:"u-m-0 u-w-100"}))},Ak=function(e){var t=e.onChoice,n=Object(d.useI18n)().t;return c.a.createElement("div",{className:Nt.a.Pin__FingerprintChoice},c.a.createElement("div",{className:Nt.a.Pin__FingerprintChoice__top},c.a.createElement(pt.default,{className:"u-mb-1-half",size:"72px",icon:pn}),c.a.createElement("h2",null,n("Pin.use-fingerprint.title")),c.a.createElement("p",null,n("Pin.use-fingerprint.description"))),c.a.createElement("div",{className:"u-flex-grow-0"},c.a.createElement(Tk,{theme:"secondary",label:n("Pin.use-fingerprint.yes"),onClick:t.bind(null,!0)}),c.a.createElement("br",null),c.a.createElement(Tk,{theme:"primary",label:n("Pin.use-fingerprint.no"),onClick:t.bind(null,!1)})))},Nk=function(e){function t(e){var n;return Y()(this,t),n=tt()(this,at()(t).call(this,e)),st()(ot()(n),"state",{pin1:null,error:null,value:"",saving:!1}),n.handleKeyboardChange=n.handleKeyboardChange.bind(ot()(n)),n.handleChooseFingerprint=n.handleChooseFingerprint.bind(ot()(n)),n}var n,a,r;return it()(t,e),W()(t,[{key:"componentDidMount",value:function(){document.addEventListener("back",this.props.onExit)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("back",this.props.onExit)}},{key:"savePin",value:(r=oe()(ae.a.mark(function e(t,n){var a,r;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.client,r=this.props.pinSetting.data,e.next=4,a.save(Za()({_type:D.j,_id:"pin"},r,{pin:t,fingerprint:n}));case 4:case"end":return e.stop()}},e,this)})),function(e,t){return r.apply(this,arguments)})},{key:"checkToSave",value:(a=oe()(ae.a.mark(function e(t){return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.state.pin1?this.state.pin1===t?this.setState({chosenPin:t}):this.setState({error:"different-pins",pin1:null,value:""}):this.setState({error:null,pin1:t,value:""});case 1:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"handleKeyboardChange",value:function(e){this.setState({value:e}),6===e.length&&this.checkToSave(e)}},{key:"handleChooseFingerprint",value:(n=oe()(ae.a.mark(function e(t){var n;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.t,e.prev=1,e.next=4,this.savePin(this.state.chosenPin,t);case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),ke.a.error(n("Pin.error-save")),e.t0;case 10:return e.prev=10,this.setState({saving:!1}),e.finish(10);case 13:ke.a.success(n("Pin.successfully-changed")),this.props.onSaved();case 15:case"end":return e.stop()}},e,this,[[1,6,10,13]])})),function(e){return n.apply(this,arguments)})},{key:"render",value:function(){var e=this.props.t;if(this.state.saving)return c.a.createElement(Gt,null,c.a.createElement(Pa.a,null));var t=c.a.createElement("h2",null,this.state.pin1?e("Pin.please-repeat-pin"):e("Pin.please-choose-pin")),n=this.state.error?c.a.createElement("div",{className:Nt.a.Pin__error},e("Pin.errors.".concat(this.state.error))):null;return c.a.createElement(Gt,null,this.state.chosenPin?c.a.createElement(Ak,{onChoice:this.handleChooseFingerprint}):c.a.createElement(rn,{leftButton:c.a.createElement(Kt,{isText:!0,onClick:this.props.onExit},e("General.back")),topMessage:t,bottomMessage:n,value:this.state.value,onChange:this.handleKeyboardChange}))}}]),t}(c.a.Component);Nk.propTypes={onSaved:V.a.func.isRequired};var Mk=ge()(Object(d.translate)(),f.withClient,Object(f.queryConnect)({pinSetting:un}))(Nk),Ik=function(e){function t(e){var n;return Y()(this,t),n=tt()(this,at()(t).call(this,e)),st()(ot()(n),"state",{togglingOn:!1,togglingOff:!1}),n.handleExit=n.handleExit.bind(ot()(n)),n.handlePinSaved=n.handlePinSaved.bind(ot()(n)),n.handleToggle=n.handleToggle.bind(ot()(n)),n.handlePinDeactivated=n.handlePinDeactivated.bind(ot()(n)),n.handleTogglingOffCancel=n.handleTogglingOffCancel.bind(ot()(n)),n}return it()(t,e),W()(t,[{key:"getPinDoc",value:function(){var e=this.props.pinSetting;return e&&e.data||null}},{key:"handleToggle",value:function(){var e=this.getPinDoc();e&&e.pin?this.setState({togglingOff:!0}):this.setState({togglingOn:!0})}},{key:"handleTogglingOffCancel",value:function(){this.setState({togglingOff:!1})}},{key:"handlePinSaved",value:function(){this.setState({togglingOn:!1})}},{key:"handlePinDeactivated",value:function(){var e=this.getPinDoc();e&&e.pin&&(this.props.client.save(Za()({},e,{pin:null})),this.setState({togglingOff:!1}))}},{key:"handleExit",value:function(){this.setState({togglingOn:!1})}},{key:"render",value:function(){var e=this.props,t=e.pinSetting,n=e.t,a=t.data;return c.a.createElement(c.a.Fragment,null,c.a.createElement(jk,{title:n("Pin.settings.toggle-title"),description:n("Pin.settings.toggle-description"),onToggle:this.handleToggle,enabled:!!a&&Boolean(a.pin),name:"pin-doc"}),this.state.togglingOn?c.a.createElement(Mk,{onSaved:this.handlePinSaved,onExit:this.handleExit}):null,this.state.togglingOff?c.a.createElement(_n,{onClickBackButton:this.handleTogglingOffCancel,leftButton:null,onSuccess:this.handlePinDeactivated}):null)}}]),t}(c.a.Component),Bk=(ge()(f.withClient,Object(d.translate)(),Object(f.queryConnect)({pinSetting:un}))(Ik),n("xOU5")),Fk=n.n(Bk),Lk=function(e){var t=e.children;return c.a.createElement(Dn.default,{variant:"h5",className:"u-mb-half"},t)},Rk=function(e){var t=e.children;return c.a.createElement(Dn.default,{variant:"body1",color:"textSecondary"},t)},Dk=function(e){return c.a.createElement(Dn.default,I()({variant:"h6",className:"u-mb-half"},e))},Pk=function(e){var t=e.title,n=e.description,a=e.children;return c.a.createElement("div",{className:Se()(Fk.a.Section,"u-stack-m")},t?c.a.createElement(Lk,null,t):null,n?c.a.createElement(Dn.default,{variant:"body1",color:"textSecondary"},n):null,a)},zk=function(e){var t=e.children,n=e.title,a=e.description,r=e.className;return c.a.createElement("div",{className:Se()(Fk.a.SubSection,r,"u-stack-s")},n?c.a.createElement(Dk,null,n):null,a?c.a.createElement(Rk,null,a):null,t)},qk=n("EdMa"),Gk=n("tCEp"),Hk=n.n(Gk),Vk=function(e){var t=e.currentIndex,n=e.steps;return c.a.createElement("div",{className:Hk.a.ProgressBackground},c.a.createElement(Ms,{color:"var(--primaryColor)",className:Hk.a.ProgressLine,value:Math.max((t+1)/n.length*100,1)}))},Uk=function(e){var t=e.currentIndex,n=e.children,a=e.onBack,r=e.showPercentage;return c.a.createElement(c.a.Fragment,null,r?c.a.createElement(Vk,{steps:n,currentIndex:t}):null,c.a.createElement(Wn.default,{variant:"inverted"},t>0?c.a.createElement(zl,{onClick:a}):null),c.a.createElement(ju.a,{animateHeight:!0,disabled:!0,index:t},c.a.Children.map(n,function(e,n){return c.a.cloneElement(e,{active:n===t})})))};Uk.propTypes={currentIndex:V.a.number.isRequired,onBack:V.a.func.isRequired,showPercentage:V.a.bool},Uk.defaultProps={showPercentage:!0};var Yk=Uk,Qk=function(e){var t=e.children,n=e.label;return c.a.createElement("div",null,n&&c.a.createElement(Rm.a,{className:"u-pv-0"},c.a.createElement(Dn.default,{variant:"h6",className:"u-mb-half"},n)),t)},Wk=function(e){var t=e.children;return c.a.createElement(Wo.a,{spacing:"m"},t)},Kk=function(e){var t=e.hasRadio,n=e.label,a=e.isSelected,r=e.onClick,o=e.icon,i=e.hasArrow,l=e.divider,s=Object($i.a)({size:"m"}).listItemProps,u=Object(h.b)().isMobile;return c.a.createElement(Fc.default,I()({},s,{button:!0,onClick:r,selected:a,divider:l}),o?c.a.createElement(Rc.a,null,o):null,c.a.createElement(Dc.default,{primary:n}),c.a.createElement(Lc.a,{className:"u-flex u-flex-row"},c.a.createElement("div",{className:u?"u-mr-1":"u-mr-2"},t?c.a.createElement(Wc.a,{defaultChecked:a,onClick:r,className:"u-mr-half"}):null,i?c.a.createElement(pt.default,{icon:dr.default,className:"u-coolGrey"}):null)))};Kk.propTypes={icon:V.a.node,divider:V.a.bool,hasRadio:V.a.bool,hasArrow:V.a.bool,label:V.a.node,isSelected:V.a.bool,onClick:V.a.func};var Jk=function(e){var t=e.onConfirm,n=e.title,a=e.description,r=e.primaryLabel,i=e.secondaryLabel,l=Object(d.useI18n)().t,s=Object(o.useState)(!1),u=R()(s,2),m=u[0],f=u[1],p=function(e){e.preventDefault(),f(!1)};return{requestOpen:function(e){e.preventDefault(),f(!0)},requestCancel:p,component:m?c.a.createElement(Jl.a,{open:!0,title:n,content:a,actions:c.a.createElement(c.a.Fragment,null,c.a.createElement(ht.c,{theme:"secondary",onClick:p,label:i||l("Confirmation.cancel")}),c.a.createElement(ht.c,{theme:"danger",label:r||l("Confirmation.ok"),onClick:t}))}):null}},Zk=function(e){var t=e.current,n=e.accounts,a=e.groups,r=e.onSelect,o=e.canSelectAll,i=e.filter,l=Object(d.useI18n)().t,s=n.data||[],u=a.data||[],m=i?s.filter(i):s,f=i?u.filter(i):u;return c.a.createElement(Wk,null,o?c.a.createElement(Qk,null,c.a.createElement(Bc.default,null,c.a.createElement(Kk,{label:l("AccountSwitch.all-accounts"),hasRadio:!0,isSelected:!t,onClick:function(){return r(null)}}))):null,m.length>0?c.a.createElement(Qk,{label:l("AccountSwitch.accounts")},c.a.createElement(Bc.default,null,m.map(function(e){return c.a.createElement(Kk,{divider:!0,icon:c.a.createElement(Si,{account:e}),key:e._id,isSelected:t&&t._id===e._id,hasRadio:!0,label:Object(ti.e)(e,l),onClick:function(){return r(e)}})}))):null,f.length>0?c.a.createElement(Qk,{label:l("AccountSwitch.groups")},c.a.createElement(Bc.default,null,f.map(function(e){return c.a.createElement(Kk,{divider:!0,key:e._id,isSelected:t&&t._id===e._id,hasRadio:!0,label:Object(hl.d)(e,l),onClick:function(){return r(e)}})}))):null)};Zk.propTypes={onSelect:V.a.func.isRequired},Zk.defaultProps={canSelectAll:!0};var Xk,$k=Zk,e_=Object(f.queryConnect)({accounts:D.n,groups:D.s})($k),t_=Object(i.connect)(function(e){return{groupsById:Object(ni.d)(e),accountsById:Object(ni.b)(e)}})(function(e){var t=e.groupsById,n=e.accountsById,a=e.doc,r=Object(d.useI18n)().t;return a._type==D.a?Object(ti.e)(n[a._id],r):a._type==D.d?Object(hl.d)(t[a._id],r):""}),n_=function(e){var t=e.label,n=e.value,a=e.onClick,r=e.chooserProps,o=Object(d.useI18n)().t,l=Object(i.useSelector)(ni.b);return c.a.createElement(Qk,{label:t},c.a.createElement(Bc.default,null,c.a.createElement(Kk,{icon:n&&n._type===D.a&&l[n._id]?c.a.createElement(Si,{key:n._id,account:l[n._id]}):null,label:n?c.a.createElement(t_,{doc:n}):r&&!r.canSelectAll?c.a.createElement("i",null,o("AccountGroupChoice.nothing-selected")):o("AccountGroupChoice.all-accounts"),onClick:a,hasArrow:!0})))},a_=function(e){var t=e.value,n=e.label,a=e.onClick,r=Object(d.useI18n)().t,o=Object(fi.e)(t.id),i=r("Data.".concat(t.isParent?"categories":"subcategories",".").concat(o));return c.a.createElement(Qk,{label:n},c.a.createElement(Bc.default,null,c.a.createElement(Kk,{icon:c.a.createElement(yi,{categoryId:t.id}),label:t.isParent?r("Settings.budget-category-alerts.edit.all-category",{categoryName:i}):i,onClick:a,hasArrow:!0})))},r_=function(e){var t=e.label,n=e.value,a=e.onChange,r=e.unit,o=e.unitKey,i=Object(d.useI18n)().t;return c.a.createElement(Qk,{label:t},c.a.createElement(Rm.a,{className:"u-pv-0"},c.a.createElement($C.a,{append:r||o?c.a.createElement($C.a.Unit,null,r||i(o)):void 0},c.a.createElement(ta.a,{type:"text",onChange:function(e){a(parseInt(e.target.value,10))},defaultValue:n}))))},o_=function(e){return c.a.createElement(r_,I()({unit:"€"},e))},c_=n("CnsS"),i_="category",l_="accountOrGroup",s_="account",u_="threshold",d_="number",m_={category:!0,accountOrGroup:!0,account:!0},f_={marginLeft:"-0.5rem",marginRight:"0.5rem"},p_={edge:"start",style:f_,className:"u-coolGrey"},h_=function(e){var t=e.onClick;return c.a.createElement(Rl,I()({},p_,{onClick:t,style:f_}))},b_=(Xk={},st()(Xk,i_,a_),st()(Xk,l_,n_),st()(Xk,s_,n_),st()(Xk,u_,o_),st()(Xk,d_,r_),Xk),g_=function(e){var t=e.choosing;return c.a.createElement(c.a.Fragment,null,t.type===i_?c.a.createElement(gE,I()({modal:!1,canSelectParent:!0,categoryId:t.value.id,categoryIsParent:t.value.isParent,onSelect:t.onSelect,onCancel:t.onCancel},t.chooserProps)):null,t.type===l_||t.type===s_?c.a.createElement(e_,I()({current:t.value,onSelect:t.onSelect,onCancel:t.onCancel},t.chooserProps)):null)},v_=function(e){var t=e.doc,n=e.fieldSpecs,a=e.fieldOrder,r=e.fieldLabels,o=e.onRequestChooseField,i=e.onChangeField,l=Object(d.useI18n)().t;return c.a.createElement(Wk,null,a.map(function(e){var a=n[e],s=b_[a.type],u=r[e],d=Object(c_.a)(a,"chooserProps",[t]),m=Object(c_.a)(a,"sectionProps",[t]),f=m_[a.type];return c.a.createElement(s,I()({key:e,label:l(u),value:a.getValue(t),onClick:f?function(){return o(e)}:void 0,onChange:f?void 0:function(t){i(e,t)}},m,{chooserProps:d}))}))},y_=function(e){var t=e.canBeRemoved,n=e.doc,a=e.onEdit,r=e.onRemove,o=e.removeModalTitle,i=e.removeModalDescription,l=e.removeButtonLabel,s=e.cancelButtonLabel,u=e.onDismiss,d=e.okButtonLabel,m=Object(h.b)().isMobile,f=O(),p=Jk({title:o,description:i,onConfirm:function(){r(n),u(),f.trackEvent({name:"supprimer"})}}),b=p.component,g=p.requestOpen,v=t&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ht.c,{theme:"danger-outline",label:l(e,n),onClick:g}),b);return c.a.createElement(qk.a,null,t&&!m?c.a.createElement(c.a.Fragment,null,v,c.a.createElement("div",{className:"u-media-grow"})):null,!t||t&&!m?c.a.createElement(ht.c,{theme:"secondary",onClick:function(){u(),f.trackEvent({name:"annuler"})},label:s(e,n)}):null,t&&m?v:null,c.a.createElement(ht.c,{onClick:function(){a(n),f.trackEvent({name:"ok"})},label:d(n)}))},E_=function(e){var t=e.choosing;return c.a.createElement("div",null,t?c.a.createElement(g_,{choosing:t}):null)},C_={maxHeight:48,boxSizing:"border-box"},k_=function(e){var t=Object(d.useI18n)().t,n=Object(h.b)().isMobile,a=e.fieldSpecs,r=e.fieldLabels,i=e.fieldOrder,l=e.initialDoc,s=e.modalTitle,u=e.okButtonLabel,m=e.cancelButtonLabel,f=e.removeButtonLabel,p=e.onEdit,b=e.onDismiss,g=e.onRemove,v=e.removeModalTitle,y=e.removeModalDescription,E=e.canBeRemoved,C=e.trackPageName,k=Object(o.useState)(l),_=R()(k,2),w=_[0],O=_[1],x=Object(o.useState)(null),S=R()(x,2),A=S[0],N=S[1];T(C);var M=function(){b.apply(this,arguments),setTimeout(function(){j()},100)},B=function(){N(null)},F=function(e,t){var n=(0,a[e].updater)(w,t);O(n)},L=Object($i.a)({size:"m",open:!0}),D=L.dialogProps,P=L.dialogTitleProps;return c.a.createElement(Zi.a,I()({},D,{onClose:M}),A?null:c.a.createElement(el.a,{onClick:M}),c.a.createElement(Xi.a,I()({},P,{className:"u-flex u-flex-row u-flex-items-center",style:n?C_:null}),A?c.a.createElement(h_,{onClick:function(){return N(null)}}):null,t(s)),c.a.createElement(Yk,{showPercentage:!1,currentIndex:A?1:0,onBack:function(){return N(null)}},c.a.createElement(v_,{doc:w,fieldOrder:i,fieldSpecs:a,fieldLabels:r,onRequestChooseField:function(e){var t=a[e];N({type:t.type,value:t.getValue(w),chooserProps:t.chooserProps,onSelect:function(t){N(null),F(e,t)},onCancel:B})},onChangeField:F}),c.a.createElement(E_,{choosing:A})),A?null:c.a.createElement(y_,{canBeRemoved:E,doc:w,onEdit:function(){p.apply(this,arguments),setTimeout(function(){j()},100)},onDismiss:M,onRemove:g,removeModalTitle:v,removeModalDescription:y,removeButtonLabel:f,cancelButtonLabel:m,okButtonLabel:u}))},__=function(e){return e.value},w_=function(e,t){return Za()({},e,{value:t})},O_=function(e){return e.accountOrGroup},x_=function(e,t){return Za()({},e,{accountOrGroup:Object(ha.b)(t)})},S_={modalTitle:"Notifications.editModal.title",fieldSpecs:{value:{type:d_,getValue:__,updater:w_,sectionProps:{unit:"€"}},accountOrGroup:{type:l_,getValue:O_,updater:x_}},fieldOrder:["value","accountOrGroup"],fieldLabels:{value:"Notifications.if-balance-lower.fieldLabels.value",accountOrGroup:"Notifications.if-balance-lower.fieldLabels.accountOrGroup"}},j_={modalTitle:"Notifications.editModal.title",fieldSpecs:{value:{type:d_,getValue:__,updater:w_,sectionProps:{unit:"€"}},accountOrGroup:{type:l_,getValue:O_,updater:x_}},fieldOrder:["value","accountOrGroup"],fieldLabels:{value:"Notifications.if-balance-greater.fieldLabels.value",accountOrGroup:"Notifications.if-balance-greater.fieldLabels.accountOrGroup"}},T_={modalTitle:"Notifications.editModal.title",fieldSpecs:{value:{type:d_,getValue:__,updater:w_,sectionProps:{unit:"€"}},accountOrGroup:{type:l_,getValue:O_,updater:x_}},fieldOrder:["value","accountOrGroup"],fieldLabels:{value:"Notifications.if-transaction-greater.fieldLabels.value",accountOrGroup:"Notifications.if-transaction-greater.fieldLabels.accountOrGroup"}},A_={modalTitle:"Notifications.editModal.title",fieldSpecs:{value:{type:d_,getValue:__,updater:w_,sectionProps:{unitKey:"Notifications.when-late-health-reimbursement.unit"}}},fieldOrder:["value"],fieldLabels:{value:"Notifications.when-late-health-reimbursement.fieldLabels.value"}},N_={modalTitle:"Settings.budget-category-alerts.edit.modal-title",fieldOrder:["accountOrGroup","category","maxThreshold"],fieldLabels:{accountOrGroup:"Settings.budget-category-alerts.edit.account-group-label",category:"Settings.budget-category-alerts.edit.category-label",maxThreshold:"Settings.budget-category-alerts.edit.threshold-label"},fieldSpecs:{accountOrGroup:{type:l_,getValue:function(e){return e.accountOrGroup},updater:function(e,t){return Za()({},e,{accountOrGroup:t?{_type:t._type,_id:t._id}:null})}},category:{type:i_,getValue:function(e){return{id:e.categoryId,isParent:e.categoryIsParent}},updater:function(e,t){return Za()({},e,{categoryIsParent:!!t.isParent,categoryId:t.id})}},maxThreshold:{type:u_,getValue:function(e){return e.maxThreshold},updater:function(e,t){return Za()({},e,{maxThreshold:parseInt(t)})}}}},M_=function(e){return e?Object(ha.b)(e):null},I_={modalTitle:"Notifications.editModal.title",fieldOrder:["creditCardAccount","checkingsAccount","value"],fieldLabels:{creditCardAccount:"Notifications.delayed-debit.fieldLabels.creditCardAccount",checkingsAccount:"Notifications.delayed-debit.fieldLabels.checkingsAccount",value:"Notifications.delayed-debit.fieldLabels.days"},fieldSpecs:{creditCardAccount:{type:s_,chooserProps:{canSelectAll:!1,filter:ti.l},getValue:function(e){return M_(e.creditCardAccount)},updater:function(e,t){return Za()({},e,{creditCardAccount:Object(ha.b)(t)})}},checkingsAccount:{type:s_,chooserProps:{canSelectAll:!1,filter:ti.k},getValue:function(e){return M_(e.checkingsAccount)},updater:function(e,t){return Za()({},e,{checkingsAccount:Object(ha.b)(t)})}},value:{sectionProps:{unitKey:"Notifications.delayed-debit.unit"},type:d_,getValue:function(e){return e.value},updater:function(e,t){return Za()({},e,{value:t})}}}},B_=function(e){var t=e.label,n=e.busy,a=e.onClick;return c.a.createElement(Yc.default,{color:"primary",className:"u-mt-half u-mb-0",size:"small",label:t,disabled:n,onClick:a},c.a.createElement(pt.default,{icon:kc.a,className:"u-mr-half"})," ",t)},F_=function(e,t,n){var a=n(t),r=e.findIndex(function(e){return n(e)===a});return-1!==r?[].concat(F()(e.slice(0,r)),[t],F()(e.slice(r+1))):[].concat(F()(e),[t])},L_=function(e){var t=e.list,n=e.onUpdate,a=e.onError,r=e.getId,c=e.getNextId,i=Object(o.useState)(t),l=R()(i,2),s=l[0],u=l[1],d=Object(o.useCallback)((b=oe()(ae.a.mark(function e(t){return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u(t),e.prev=1,e.next=4,n(t);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),u(s),a(e.t0);case 10:case"end":return e.stop()}},e,null,[[1,6]])})),function(e){return b.apply(this,arguments)}),[n,s,a]),m=Object(o.useCallback)((h=oe()(ae.a.mark(function e(t){var n;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t.id&&(t.id=c(s)),n=F_(s,t,r),e.next=4,d(n);case 4:case"end":return e.stop()}},e)})),function(e){return h.apply(this,arguments)}),[s,r,d,c]),f=(p=oe()(ae.a.mark(function e(t){var n,a;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r(t),a=s.filter(function(e){return r(e)!==n}),e.next=4,d(a);case 4:case"end":return e.stop()}},e)})),function(e){return p.apply(this,arguments)});var p;var h;var b;return[s,m,f]},R_=n("x5Q+"),D_=function(e){var t=e.rules,n=e.children,a=e.onUpdate,r=e.onError,i=e.addButtonLabelKey,l=e.ItemEditionModal,s=e.makeNewItem,u=e.trackPageName,m=Object(d.useI18n)().t,f=L_({list:t,onUpdate:a,onError:r,getId:R_.e,getNextId:R_.b}),p=R()(f,3),h=p[0],b=p[1],g=p[2],v=Object(o.useState)(!1),y=R()(v,2),E=y[0],C=y[1],_=Object(o.useState)(!1),w=R()(_,2),O=w[0],x=w[1],S=Object(o.useCallback)(function(){var e=oe()(ae.a.mark(function e(t){return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return C(!1),e.prev=1,x(!0),e.next=5,b(t);case 5:return e.prev=5,x(!1),e.finish(5);case 8:case"end":return e.stop()}},e,null,[[1,,5,8]])}));return function(t){return e.apply(this,arguments)}}(),[b]),j=Object(o.useCallback)(function(){C(!0),k({name:"".concat(N(u),"-creer_alerte")})},[u]);return c.a.createElement(c.a.Fragment,null,h.length>0?c.a.createElement(Wo.a,{spacing:"xs"},h?h.map(function(e,t){return n(e,t,b,g)}):null):null,E?c.a.createElement(l,{onDismiss:function(){return C(!1)},initialDoc:s(),onEdit:S,trackPageName:u}):null,c.a.createElement(B_,{label:m(i),busy:O,onClick:j}))};D_.propTypes={rules:V.a.array.isRequired,onUpdate:V.a.func.isRequired,onError:V.a.func.isRequired,addButtonLabelKey:V.a.string.isRequired,makeNewItem:V.a.func.isRequired,ItemEditionModal:V.a.elementType.isRequired};var P_=D_,z_=n("68AE"),q_=n.n(z_),G_=function(e){var t=e.enabled,n=e.className,a=Yt()(e,["enabled","className"]);return c.a.createElement(Yd.a,I()({},a,{className:Se()(q_.a.SettingCard,n,!t&&q_.a["SettingCard--disabled"],a.onClick&&q_.a["SettingCard--clickable"])}))};G_.defaultProps={enabled:!0};var H_=G_,V_={crossButton:{position:"absolute",top:"0.25rem",right:"0.25rem"}},U_=function(e){var t=e.onClick;return c.a.createElement(ea.a,{onClick:t,style:V_.crossButton,size:"medium"},c.a.createElement(pt.default,{color:"var(--coolGrey)",icon:ys.default,size:12}))},Y_=function(e){var t=e.onRemove,n=e.description,a=e.title,r=Jk({onConfirm:t,title:a,description:n}),o=r.component,i=r.requestOpen;return c.a.createElement(c.a.Fragment,null,c.a.createElement(U_,{onClick:i}),o)},Q_={margin:"-8px 0"},W_=function(e){var t=e.checked,n=e.onClick,a=e.onChange;return c.a.createElement(Yo.a,{disableRipple:!0,className:"u-mh-s",checked:t,color:"primary",onClick:n,onChange:a})},K_=function(e){var t=Object(d.useI18n)().t,n=e.onChangeDoc,a=e.onToggle,r=e.onRemove,i=e.removeModalTitle,l=e.removeModalDescription,s=e.editModalProps,u=e.shouldOpenOnToggle,m=e.doc,f=e.canBeRemoved,p=e.onRemoveDoc,h=e.trackPageName,b=m.enabled,g=Object(o.useState)(!1),v=R()(g,2),y=v[0],E=v[1],C=function(e){var t=[e],n=Object(c_.a)(e,"descriptionKey",t),a=Object(c_.a)(e,"descriptionProps",t)||e.doc;return e.t(n,a)}(Za()({},e,{t:t})),k=Object(o.useMemo)(function(){return s?function(){return E(!0)}:null},[E,s]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(H_,{enabled:b,onClick:k},c.a.createElement(jt.c,{className:"u-row-xs",align:"top"},c.a.createElement(jt.a,null,c.a.createElement("span",{dangerouslySetInnerHTML:{__html:Object(Et.i)(C)}})),a?c.a.createElement(jt.b,{style:Q_},c.a.createElement(W_,{checked:b,onClick:function(e){return e.stopPropagation()},onChange:function(){u&&u(e)?E(!0):a(!b)}})):null,r?c.a.createElement(Y_,{title:i,description:l,onRemove:r}):null)),y?c.a.createElement(k_,I()({},s,{canBeRemoved:f,onRemove:p,removeModalTitle:i,removeModalDescription:l,initialDoc:m,onEdit:function(e){n(e),E(!1)},onDismiss:function(){return E(!1)},okButtonLabel:function(){return t("EditionModal.ok")},cancelButtonLabel:function(){return t("EditionModal.cancel")},removeButtonLabel:function(){return t("EditionModal.remove")},trackPageName:h})):null)};K_.propTypes={doc:V.a.object.isRequired};var J_=Object(o.memo)(K_),Z_=function(e){var t=e.getRuleDescriptionProps,n=e.getRuleDescriptionKey,a=e.getNewRule,r=e.getInitialRules,o=e.spec,i=e.displayName,l=e.shouldOpenOnToggle,s=e.trackPageName,u=function(e){return function(t){var n=t.initialDoc,a=t.onDismiss,r=t.onEdit,o=t.trackPageName,i=Object(d.useI18n)().t;return c.a.createElement(k_,{modalTitle:e.modalTitle,fieldOrder:e.fieldOrder,fieldLabels:e.fieldLabels,fieldSpecs:e.fieldSpecs,initialDoc:n,onEdit:r,onDismiss:a,okButtonLabel:function(){return i("EditionModal.ok")},cancelButtonLabel:function(){return i("EditionModal.cancel")},trackPageName:o})}}(o),m=function(e){var r=Object(d.useI18n)().t,i=e.rules,m=e.getAccountOrGroupLabel,f=e.onChangeRules,p=e.ruleProps,h=Object(R_.a)(i);return c.a.createElement(P_,{rules:h,onUpdate:f,onError:function(e){console.warn("Could not save rule"),console.error(e),ke.a.error(r("Settings.rules.saving-error"))},addButtonLabelKey:"Settings.rules.create",makeNewItem:a,ItemEditionModal:u,trackPageName:s},function(e,a,i,u){return c.a.createElement(J_,{doc:e,key:a,onToggle:function(t){i(Za()({},e,{enabled:t})),k({name:"".concat(N(s),"-").concat(t?"on":"off")})},removeModalTitle:r("Settings.rules.remove-modal.title"),removeModalDescription:r("Settings.rules.remove-modal.desc"),onChangeDoc:i,onRemoveDoc:u,canBeRemoved:h.length>1,editModalProps:o,getAccountOrGroupLabel:m,descriptionKey:n,descriptionProps:t,shouldOpenOnToggle:l,ruleProps:p,trackPageName:s})})};return m.defaultProps={rules:r()},m.propTypes={rules:V.a.array.isRequired,onChangeRules:V.a.func.isRequired},m.displayName=i,m},X_=function(e){var t=(e.ruleProps.accounts.data||[]).find(ti.l);return t||null},$_=function(e){var t=e.doc,n=e.ruleProps.accountsById,a=t.creditCardAccount?n[t.creditCardAccount._id]:null,r=t.checkingsAccount?n[t.checkingsAccount._id]:null;return{docCreditCardAccount:a,creditCardAccount:a||X_(e),docCheckingsAccount:r,checkingsAccount:r||function(e){var t=X_(e);return t&&t.checkingsAccount?t.checkingsAccount.data:null}(e)}},ew={enabled:!0,value:3},tw=[{enabled:!1,value:3}],nw=Z_({displayName:"DelayedDebit",getInitialRules:function(){return tw},spec:I_,getNewRule:function(){return Za()({},ew)},getRuleDescriptionKey:function(){return"Notifications.delayed-debit.description"},getRuleDescriptionProps:function(e){var t=$_(e),n=t.docCreditCardAccount,a=t.docCheckingsAccount;return{creditCardLabel:n?Object(ti.e)(n,e.t):"...",checkingsLabel:a?Object(ti.e)(a,e.t):"...",value:e.doc.value}},shouldOpenOnToggle:function(e){var t=$_(e),n=t.creditCardAccount,a=t.checkingsAccount;return!n||!a},trackPageName:"parametres:configuration:alerte-paiement_differe"}),aw=function(e){var t=Object(f.useQuery)(D.n.query,D.n),n=Object(i.useSelector)(ni.b),a=Object(d.useI18n)().t,r=Object(o.useMemo)(function(){return{accounts:t,accountsById:n}},[t,n]);return Object(f.hasQueryBeenLoaded)(t)?c.a.createElement(nw,{rules:e.rules,onChangeRules:e.onChangeRules,t:a,ruleProps:r}):c.a.createElement(Pa.a,null)},rw=function(e){var t=e.initialDoc,n=e.onEdit,a=e.onDismiss,r=Object(d.useI18n)().t;T("parametres:configuration:alerte-budget");var o=N_.modalTitle;return c.a.createElement(k_,{initialDoc:t,onEdit:n,fieldSpecs:N_.fieldSpecs,fieldOrder:N_.fieldOrder,fieldLabels:N_.fieldLabels,onDismiss:a,okButtonLabel:function(e){return void 0!==e.id?r("Settings.budget-category-alerts.edit.update-ok"):r("Settings.budget-category-alerts.edit.create-ok")},cancelButtonLabel:function(){return r("Settings.budget-category-alerts.edit.cancel")},modalTitle:o})};rw.propTypes={initialDoc:V.a.object.isRequired,onEdit:V.a.func.isRequired,onDismiss:V.a.func.isRequired};var ow=rw,cw=V.a.shape({categoryId:V.a.string.isRequired,maxThreshold:V.a.number.isRequired}),iw=function(e){var t=e.alert;return c.a.createElement(c.a.Fragment,null,c.a.createElement("hr",null),"alert id: ",t.id,c.a.createElement("br",null),"last notification date: ",t.lastNotificationDate,c.a.createElement("br",null),"last notification amount: ",t.lastNotificationAmount,c.a.createElement("br",null),"category id: ",t.categoryId)},lw=function(e){var t=e.removeAlert,n=e.updateAlert,a=e.alert,r=e.getAccountOrGroupLabel,i=Object(d.useI18n)().t,l=Object(o.useState)(!1),s=R()(l,2),u=s[0],m=s[1],f=Object(o.useState)(!1),p=R()(f,2),h=p[0],b=p[1],g=Object(o.useCallback)(function(e){e.defaultPrevented||m(!0)},[m]),v=Object(o.useCallback)(function(){var e=oe()(ae.a.mark(function e(t){return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return m(null),b(!0),e.prev=2,e.next=5,n(t);case 5:return e.prev=5,b(!1),e.finish(5);case 8:case"end":return e.stop()}},e,null,[[2,,5,8]])}));return function(t){return e.apply(this,arguments)}}(),[n,m,b]),E=Object(o.useCallback)(function(){m(null),t(a)},[a,t]),C=i("Data.".concat(a.categoryIsParent?"categories":"subcategories",".").concat(Object(fi.e)(a.categoryId))),k=a.accountOrGroup?a.accountOrGroup._type===D.a?"Settings.budget-category-alerts.for-account":"Settings.budget-category-alerts.for-group":null;return c.a.createElement(c.a.Fragment,null,c.a.createElement(H_,{onClick:g},c.a.createElement("div",{className:"u-media u-media-top"},c.a.createElement("div",{className:"u-media-fixed u-mr-1"},c.a.createElement(yi,{categoryId:a.categoryId})),c.a.createElement("div",{className:"u-media-grow"},h?c.a.createElement(Pa.a,{size:"small"}):null,c.a.createElement("span",{dangerouslySetInnerHTML:{__html:Object(Et.i)(i("Settings.budget-category-alerts.budget-inferior-to",{threshold:a.maxThreshold}))}}),c.a.createElement("br",null),c.a.createElement("span",{dangerouslySetInnerHTML:{__html:Object(Et.i)(i("Settings.budget-category-alerts.for-category",{categoryName:C}))}}),c.a.createElement("br",null),a.accountOrGroup?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{dangerouslySetInnerHTML:{__html:Object(Et.i)(i(k,{accountOrGroupLabel:r(a.accountOrGroup)}))}})):i("Settings.budget-category-alerts.for-all-accounts"),y()("budget-alerts.debug")?c.a.createElement(iw,{alert:a}):null),c.a.createElement("div",{className:"u-media-fixed u-ml-1"},c.a.createElement(Y_,{title:i("Settings.rules.remove-modal.title"),description:i("Settings.rules.remove-modal.desc"),onRemove:E})))),u?c.a.createElement(ow,{onDismiss:function(){return m(null)},initialDoc:a,onEdit:v}):null)};lw.propTypes={alert:cw};var sw=Object(Et.j)("getAccountOrGroupLabel")(lw),uw=(z.a.namespace("category-alerts"),function(){return{categoryId:"400110",maxThreshold:100,accountOrGroup:null}}),dw=function(){var e=oe()(ae.a.mark(function e(t,n,a){var r;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Za()({},n,{categoryBudgetAlerts:a}),e.next=3,t.save(r);case 3:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),mw=function(){var e=Object(d.useI18n)().t,t=Object(f.useClient)(),n=Object(f.useQuery)(D.A.query,D.A),a=Object(Et.c)(n),r=Object(o.useCallback)(function(){return ke.a.error(e("Settings.rules.saving-error"))},[e]),i=Object(o.useCallback)(function(e){return dw(t,a,e)},[t,a]);return c.a.createElement(zk,{title:e("Settings.budget-category-alerts.pane-title"),description:e("Settings.budget-category-alerts.pane-description")},c.a.createElement(P_,{rules:a.categoryBudgetAlerts,onUpdate:i,onError:r,addButtonLabelKey:"Settings.rules.create",makeNewItem:uw,ItemEditionModal:ow,trackPageName:"alerte-budget"},function(e,t,n,a){return c.a.createElement("div",{key:t},c.a.createElement(sw,{updateAlert:n,removeAlert:a,alert:e}))}))},fw=[{id:0,value:30,accountOrGroup:null,enabled:!1}],pw={enabled:!0,value:100,accountOrGroup:null},hw=Z_({displayName:"BalanceLower",getInitialRules:function(){return fw},spec:S_,getNewRule:function(){return Za()({},pw)},getRuleDescriptionKey:function(e){return e.doc&&e.doc.accountOrGroup?"Notifications.if-balance-lower.descriptionWithAccountGroup":"Notifications.if-balance-lower.description"},getRuleDescriptionProps:function(e){return{accountOrGroupLabel:e.doc.accountOrGroup?e.getAccountOrGroupLabel(e.doc.accountOrGroup):null,value:e.doc.value}},trackPageName:"parametres:configuration:alerte-solde_bas"}),bw=[{id:0,value:1e3,accountOrGroup:null,enabled:!1}],gw={enabled:!0,value:1e3,accountOrGroup:null},vw=Z_({displayName:"BalanceGreater",getInitialRules:function(){return bw},spec:j_,getNewRule:function(){return Za()({},gw)},getRuleDescriptionKey:function(e){return e.doc&&e.doc.accountOrGroup?"Notifications.if-balance-greater.descriptionWithAccountGroup":"Notifications.if-balance-greater.description"},getRuleDescriptionProps:function(e){return{accountOrGroupLabel:e.doc.accountOrGroup?e.getAccountOrGroupLabel(e.doc.accountOrGroup):null,value:e.doc.value}},trackPageName:"parametres:configuration:alerte-solde_haut"}),yw=[{id:0,value:100,accountOrGroup:null,enabled:!1}],Ew={enabled:!0,value:100,accountOrGroup:null},Cw=Z_({displayName:"TransactionGreater",getInitialRules:function(){return yw},spec:T_,getNewRule:function(){return Za()({},Ew)},getRuleDescriptionKey:function(e){return e.doc&&e.doc.accountOrGroup?"Notifications.if-transaction-greater.descriptionWithAccountGroup":"Notifications.if-transaction-greater.description"},getRuleDescriptionProps:function(e){return{accountOrGroupLabel:e.doc.accountOrGroup?e.getAccountOrGroupLabel(e.doc.accountOrGroup):null,value:e.doc.value}},trackPageName:"parametres:configuration:alerte-mouvements"}),kw=n("KLom"),_w=function(){var e=Object(d.useI18n)().t;return c.a.createElement(jt.c,{align:"top"},c.a.createElement(jt.b,null,c.a.createElement(pt.default,{icon:kw.a,className:"u-mr-1"})),c.a.createElement(jt.a,null,c.a.createElement(Dn.default,{variant:"h5"},e("PersonalInfo.info.title")),c.a.createElement(Dn.default,{variant:"body1"},e("PersonalInfo.info.description"))))},ww=n("zipT"),Ow=n("jH4C"),xw=function(e){return Object(f.Q)(D.e).where(e).indexFields([e["cozyMetadata.createdByApp"]?"cozyMetadata.createdByApp":null,e.identifier?"identifier":null].filter(Boolean))},Sw={"contact.birthcity":function(e){return e},"contact.birthcountry":function(e){return e},"contact.nationalities":function(e){return e&&e.length>0}},jw=function(e){return{"cozyMetadata.createdByApp":e.appMetadata.slug,identifier:"regulatory-info"}},Tw=function(){var e=oe()(ae.a.mark(function e(t,n){var a,r;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.query(xw(n));case 3:return a=e.sent,r=a.data,e.abrupt("return",r.length>0?r[0]:null);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",null);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,n){return e.apply(this,arguments)}}(),Aw=function(e){var t=e.appMetadata.slug;return function(e){return Ti()(e,"cozyMetadata.createdByApp")==t}},Nw=function(){var e=oe()(ae.a.mark(function e(t,n){var a;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n.map(function(e){return Tw(t,e)}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Mw=function(){var e=oe()(ae.a.mark(function e(t,n,a){var r,o,c,i;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={_type:D.e,contact:bo()({},n.contact,a),identifier:"regulatory-info"},o=Za()({},n,r),e.next=4,t.save(o);case 4:return c=e.sent,i=c.data,e.abrupt("return",i);case 7:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),Iw=function(){var e=oe()(ae.a.mark(function e(t){var n,a,r,o,c,i,l,s,u,d,m;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,a=t.identity,r=t.isBankTrigger,e.next=3,n.query(D.r.query(),D.r);case 3:o=e.sent,c=o.data,i=Da()(c.filter(r).filter(function(e){return e.current_state.last_success}),function(e){return e.current_state.last_success}),s=i.length-1;case 7:if(!(s>=0)||l){e.next=17;break}return u=i[i.length-1],d=u.message.konnector,e.next=12,n.query(Object(f.Q)(D.g).getById("io.cozy.konnectors/".concat(d)));case 12:m=e.sent,l=m.data.attributes;case 14:s--,e.next=7;break;case 17:if(l){e.next=19;break}throw new Error("Could not find suitable konnector to update BI user profile. Reconnect a banking konnector for BI user update to work.");case 19:return e.next=21,Object(Ow.f)({konnector:l,client:n,userConfig:a.contact});case 21:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Bw={label:"Française",value:"FR"},Fw=function(e){return ww.map(function(t){return{label:t["".concat(e,"_nationality")]||t.en_nationality,value:t.alpha_2_code}}).sort(function(e,t){return e.label>t.label})},Lw=function(e){function t(e,n){var a;return Y()(this,t),(a=tt()(this,at()(t).call(this,e,n))).handleChangeField=a.handleChangeField.bind(ot()(a)),a.handleSave=a.handleSave.bind(ot()(a)),a.state={saving:!1,formData:{birthcity:"",birthcountry:"",nationality:Bw},identity:null},a.nationalityOptions=Fw(e.lang),a}var n,a;return it()(t,e),W()(t,[{key:"componentDidMount",value:function(){S("virements:informations"),this.loadIdentityAndFillForm()}},{key:"loadIdentityAndFillForm",value:(a=oe()(ae.a.mark(function e(){var t,n,a,r,o,c,i,l,s,u,d,m,f,p;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.client,a=t.sourceIdentitySelectors,!this.state.identity){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,c=a.map(function(e){return"function"==typeof e?e(n):e}),e.next=7,Nw(n,c);case 7:i=e.sent,r=i.find(Aw(n))||{},o=Td()(bo.a.apply(void 0,[{}].concat(F()(i))),["_id","_rev"])||{},e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),r={},o={};case 16:l=o.contact||{},s=l.birthcity,u=void 0===s?"":s,d=l.birthcountry,m=void 0===d?"":d,f=l.nationalities,p=f?{value:f[0]}:null,this.setState({identity:r,formData:{birthcity:u,birthcountry:m,nationality:this.nationalityOptions.find(function(e){return e.value===(p&&p.value)})||Bw}});case 19:case"end":return e.stop()}},e,this,[[3,12]])})),function(){return a.apply(this,arguments)})},{key:"handleChangeField",value:function(e,t){var n=Za()({},this.state.formData,st()({},e,t));this.setState({formData:n})}},{key:"handleSave",value:(n=oe()(ae.a.mark(function e(t){var n,a,r,o,c,i,l,s,u;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props,a=n.client,r=n.onSaveSuccessful,o=n.t,c=n.isBankTrigger,i=this.state,l=i.formData,s=i.identity,t&&t.preventDefault(),l.birthcity&&l.birthcountry&&l.nationality){e.next=8;break}return this.setState({validationError:!0}),e.abrupt("return");case 8:this.setState({validationError:!1});case 9:return this.setState({saving:!0}),e.prev=10,e.next=13,Mw(a,s,{birthcity:l.birthcity,birthcountry:l.birthcountry,nationalities:[l.nationality.value]});case 13:return u=e.sent,r&&r(u),ke.a.success(o("PersonalInfo.info-saved-successfully")),e.next=18,Iw({client:a,identity:u,isBankTrigger:c});case 18:k("sauver");case 19:return e.prev=19,this.setState({saving:!1}),e.finish(19);case 22:case"end":return e.stop()}},e,this,[[10,,19,22]])})),function(e){return n.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.props,n=t.t,a=t.onClose,r=this.state,o=r.saving,i=r.formData,l=r.validationError;return this.state.identity?c.a.createElement(db.a,{open:!0,onClose:a,title:n("PersonalInfo.modal-title"),content:c.a.createElement(Wo.a,{spacing:"xl"},c.a.createElement(Wo.a,{spacing:"s"},l?c.a.createElement(Dn.default,{variant:"body1",className:"u-mb-1 u-error"},n("PersonalInfo.validation-error")):null,c.a.createElement(mb.b,{value:i.birthcity,onChange:function(t){return e.handleChangeField("birthcity",t.target.value)},type:"text",name:"birthcity",label:n("PersonalInfo.birthcity"),placeholder:n("PersonalInfo.birthcity-placeholder"),className:"u-mh-0 u-mb-0 u-mt-0"}),c.a.createElement(mb.b,{value:i.birthcountry,onChange:function(t){return e.handleChangeField("birthcountry",t.target.value)},type:"text",name:"birthcountry",label:n("PersonalInfo.birthcountry"),placeholder:n("PersonalInfo.birthcountry-placeholder"),className:"u-mh-0 u-mb-0 u-mt-0"}),c.a.createElement(mb.b,{onChange:function(t){return e.handleChangeField("nationality",t)},value:i.nationality,type:"select",name:"nationality",options:this.nationalityOptions,label:n("PersonalInfo.nationality"),className:"u-mh-0 u-mb-0"})),c.a.createElement(_w,null)),actions:c.a.createElement(ht.c,{extension:"full",busy:o,disabled:o,onClick:this.handleSave,label:n("PersonalInfo.save-cta"),variant:"primary"})}):c.a.createElement(db.a,{open:!0,onClose:a,title:n("PersonalInfo.modal-title"),content:c.a.createElement(Va,null)})}}]),t}(c.a.Component);Lw.defaultProps={sourceIdentitySelectors:[function(e){return jw(e)}]};var Rw=ge()(Object(d.translate)(),f.withClient,Bu)(Lw),Dw=function(e){var t=e.children,n=y()("banks.transfers.need-personal-information"),a=Object(f.useClient)(),r=xw(jw(a)),i=Object(f.useQuery)(r,{as:"current-app-identity",fetchPolicy:function(e){return!e.lastError||Object(D.v)(e)}}),l=Object(he.C)(),s=Object(o.useCallback)(function(){l("/balances")},[l]);return Object(f.hasQueryBeenLoaded)(i)||Boolean(i.lastError)?function(e){return Object.entries(Sw).filter(function(t){var n=R()(t,2),a=n[0];return(0,n[1])(Ti()(e,a))}).length==Object.keys(Sw).length}(i.data&&i.data.length>0&&i.data[0])||!n?t:c.a.createElement(c.a.Fragment,null,t,c.a.createElement(Rw,{onClose:s})):c.a.createElement(Va,null)},Pw={"community.localModelOverride":"categorie_automatique"},zw=function(e){function t(e){var n;return Y()(this,t),n=tt()(this,at()(t).call(this,e)),st()(ot()(n),"saveDocument",function(){var e=oe()(ae.a.mark(function e(t){var a;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props.client,e.next=3,a.save(t);case 3:n.forceUpdate();case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),st()(ot()(n),"onToggle",function(e){return function(t){var a=n.props.settingsCollection,r=Object(Et.c)(a);Ob()(r,[].concat(F()(e.split(".")),["enabled"]),t),n.saveDocument(r),Pw[e]&&k({name:"".concat(Pw[e],"-").concat(t?"on":"off")})}}),st()(ot()(n),"onChangeDoc",function(e){return function(t){var a=n.props.settingsCollection,r=Object(Et.c)(a);Ob()(r,F()(e.split(".")),t),n.saveDocument(r)}}),n.state={showPersonalInfoDialog:!1},n.handleToggleAmountBlur=n.handleToggleAmountBlur.bind(ot()(n)),n.onToggleAmountCensoringInNotifications=n.onToggle("notifications.amountCensoring"),n.onChangeBalanceLower=n.onChangeDoc("notifications.balanceLower"),n.onChangeBalanceGreater=n.onChangeDoc("notifications.balanceGreater"),n.onChangeTransactionGreater=n.onChangeDoc("notifications.transactionGreater"),n.onChangeDelayedDebit=n.onChangeDoc("notifications.delayedDebit"),n.onChangeLateHealthReimbursement=n.onChangeDoc("notifications.lateHealthReimbursement"),n.onToggleDelayedDebit=n.onToggle("notifications.delayedDebit"),n.onToggleHealthBillLinked=n.onToggle("notifications.healthBillLinked"),n.onToggleLateHealthReimbursement=n.onToggle("notifications.lateHealthReimbursement"),n.onToggleLocalModelOverride=n.onToggle("community.localModelOverride"),n}return it()(t,e),W()(t,[{key:"componentDidMount",value:function(){S("parametres:configuration")}},{key:"handleToggleAmountBlur",value:function(e){y()("amount-blur",e),k({name:"masquer_elements-".concat(e?"on":"off")})}},{key:"render",value:function(){var e=this,n=this.props,a=n.t,r=n.settingsCollection;if(Object(f.isQueryLoading)(r)&&!Object(f.hasQueryBeenLoaded)(r))return c.a.createElement(Va,null);var o=Object(Et.c)(r);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Pk,{title:a("Notifications.title"),description:a("Notifications.description")},c.a.createElement(zk,{title:a("Notifications.if-balance-lower.settingTitle")},c.a.createElement(hw,{rules:o.notifications.balanceLower,getAccountOrGroupLabel:this.props.getAccountOrGroupLabel,onChangeRules:this.onChangeBalanceLower})),c.a.createElement(zk,{title:a("Notifications.if-balance-greater.settingTitle")},c.a.createElement(vw,{rules:o.notifications.balanceGreater,getAccountOrGroupLabel:this.props.getAccountOrGroupLabel,onChangeRules:this.onChangeBalanceGreater})),c.a.createElement(zk,{title:a("Notifications.if-transaction-greater.settingTitle")},c.a.createElement(Cw,{rules:o.notifications.transactionGreater,getAccountOrGroupLabel:this.props.getAccountOrGroupLabel,onChangeRules:this.onChangeTransactionGreater})),c.a.createElement(mw,null),c.a.createElement(zk,{title:a("Notifications.delayed-debit.settingTitle"),description:a("Notifications.delayed-debit.settingDescription")},c.a.createElement(aw,{onToggle:this.onToggleDelayedDebit,onChangeRules:this.onChangeDelayedDebit,rules:o.notifications.delayedDebit})),y()("banks.health-reimbursements.deactivated")?null:c.a.createElement(zk,{title:a("Notifications.health-section.title"),description:a("Notifications.health-section.description")},c.a.createElement("div",{className:"u-stack-xs"},c.a.createElement(J_,{title:a("Notifications.when-health-bill-linked.settingTitle"),descriptionKey:"Notifications.when-health-bill-linked.description",onToggle:this.onToggleHealthBillLinked,doc:o.notifications.healthBillLinked}),c.a.createElement(J_,{title:a("Notifications.when-late-health-reimbursement.settingTitle"),descriptionKey:"Notifications.when-late-health-reimbursement.description",onToggle:this.onToggleLateHealthReimbursement,onChangeDoc:this.onChangeLateHealthReimbursement,doc:o.notifications.lateHealthReimbursement,editModalProps:A_})))),c.a.createElement(Pk,{title:a("AdvancedFeaturesSettings.title")},null,c.a.createElement(zk,{title:a("Settings.security.title")},c.a.createElement(jk,{description:a("Settings.security.amount-blur.description"),onToggle:this.handleToggleAmountBlur,enabled:Boolean(y()("amount-blur")),name:"amountBlur"}),c.a.createElement(jk,{description:a("Settings.security.amount-in-notifications-blur.description"),onToggle:this.onToggleAmountCensoringInNotifications,enabled:o.notifications.amountCensoring.enabled,name:"amountInNotificationsBlur"})),c.a.createElement(zk,{title:a("AdvancedFeaturesSettings.automatic-categorization.title")},c.a.createElement(jk,{description:a("AdvancedFeaturesSettings.automatic-categorization.local-model-override.description"),onToggle:this.onToggleLocalModelOverride,enabled:o.community.localModelOverride.enabled,name:"localModelOverride"}))),y()("banks.transfers.need-personal-information")?c.a.createElement(Pk,{title:a("Settings.personal-info.title")},c.a.createElement(Pc.a,{label:a("Settings.personal-info.edit"),theme:"contained",onClick:function(){return e.setState({showPersonalInfoDialog:!0})}}),this.state.showPersonalInfoDialog?c.a.createElement(Rw,{onSaveSuccessful:function(){e.setState({showPersonalInfoDialog:!1})},onClose:function(){return e.setState({showPersonalInfoDialog:!1})}}):null):null,t.renderExtraItems())}}]),t}(c.a.Component);st()(zw,"renderExtraItems",function(){return null});var qw=ge()(f.withClient,Object(f.queryConnect)({settingsCollection:D.A}),Object(Et.j)("getAccountOrGroupLabel"),y.a.connect,Object(d.translate)())(zw),Gw=n("oJ5p"),Hw=n.n(Gw),Vw=function(e,t){return t.find(function(t){var n=Boolean(e.vendorAccountId&&e.vendorAccountId===t.vendorId),a=Boolean(t.iban&&t.iban===e.iban),r=Boolean(e.iban&&t.number&&e.iban.includes(t.number));return n||a||r})||null},Uw=function(){var e=oe()(ae.a.mark(function e(t,n,a){var r,o,c,i,l,s,u,d,m,f;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.collection(D.c),o=t.collection(D.h),c=t.collection(D.g),e.next=5,r.create({auth:a,temporary:!0});case 5:return i=e.sent,l=i.data,e.next=9,c.all();case 9:if(s=e.sent,u=s.data,d=u.find(function(e){return e._id==="".concat(D.g,"/").concat(n)})){e.next=14;break}throw new Error("Could not find suitable konnector for slug: ".concat(n));case 14:return e.next=16,o.add(d,st()({},l._id,{type:D.c,verbs:["GET","DELETE"],values:["".concat(D.c,".").concat(l._id)]}));case 16:return m=e.sent,f=m.data,e.abrupt("return",{account:l,permission:f,konnector:d});case 19:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),Yw=function(){var e=oe()(ae.a.mark(function e(t,n){var a,r,o,c,i,l,s,u,d;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.amount,r=n.recipientId,o=n.senderAccount,c=n.password,i=n.label,l=n.executionDate,s=o.cozyMetadata.createdByApp,e.next=4,Uw(t,s,{password:c});case 4:return u=e.sent,d=u.account,e.abrupt("return",t.stackClient.jobs.create("konnector",{mode:"transfer",konnector:s,recipientId:r,temporaryAccountId:d._id,amount:a,senderAccountId:o._id,label:i,executionDate:l}));case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Qw=n("pBFV"),Ww=n.n(Qw),Kw=function(){return c.a.createElement("img",{style:{maxHeight:"7.5rem"},className:"u-mb-1-half",src:Ww.a})},Jw=n("yJ30"),Zw=n.n(Jw),Xw=function(){return c.a.createElement("img",{style:{maxHeight:"7.5rem"},className:"u-mb-1-half",src:Zw.a})},$w=function(e){var t=e.title,n=e.description,a=e.onClickPrimaryButton,r=e.primaryLabel,o=e.Img;return c.a.createElement(Ku.a,{open:!0,onClose:a,title:c.a.createElement(Wo.a,{spacing:"m",className:"u-ta-center"},o,c.a.createElement(Dn.default,{variant:"h4"},t)),content:n,actions:c.a.createElement(ht.c,{extension:"full",className:"u-flex-grow-1",onClick:a,label:r})})},eO=c.a.memo(function(e){var t=e.onExit,n=Object(d.useI18n)().t;return T("virements:succes"),c.a.createElement($w,{title:n("Transfer.success.title"),Img:c.a.createElement(Kw,null),description:n("Transfer.success.description"),onClickPrimaryButton:t,primaryLabel:n("Transfer.exit")})}),tO={LOGIN_FAILED:"echec","VENDOR_DOWN.BANK_DOWN":"banque-indisponible"},nO=c.a.memo(function(e){var t=e.onExit,n=e.error,a=Object(d.useI18n)().t,r=function(e){return e.message&&e.message.includes("LOGIN_FAILED")}(n),o=tO[n.message]||"impossible";return T("virements:".concat(o)),c.a.createElement($w,{title:a("Transfer.error.title"),Img:c.a.createElement(Xw,null),description:a(r?"Transfer.error.description-login-failed":"Transfer.error.description"),onClickPrimaryButton:t,primaryLabel:a(r?"Transfer.retry":"Transfer.exit")})}),aO=n("0lXt"),rO=n.n(aO),oO=c.a.memo(function(e){var t,n=e.className,a=e.border,r=e.paper,o=Yt()(e,["className","border","paper"]);return c.a.createElement("div",I()({className:Se()((t={},st()(t,rO.a["List--bordered"],!0===a),st()(t,rO.a["List--papered"],!0===r),st()(t,rO.a["List--bordered-h"],"horizontal"===a),st()(t,rO.a["List--bordered-v"],"vertical"===a),t),n)},o))});oO.propTypes={border:V.a.oneOf([!0,"horizontal","vertical"]),paper:V.a.bool};var cO=c.a.memo(function(e){var t=e.className,n=e.onRef,a=Yt()(e,["className","onRef"]);return c.a.createElement("div",I()({ref:n,className:Se()(rO.a["c-list-row"],t)},a))}),iO=c.a.memo(function(e){var t=e.children,n=Object(h.b)().isMobile;return c.a.createElement(Dn.default,{variant:"h4",className:"u-mb-1 "+(n?"u-ta-center":"")},t)}),lO=c.a.memo(function(e){var t=e.category,n=e.onSelect,a=e.active,r=Object(d.useI18n)().t;return c.a.createElement(Rn,null,a&&c.a.createElement(nh,null,r("Transfer.category.page-title")),c.a.createElement(iO,null,r("Transfer.category.title")),c.a.createElement(Rn.Unpadded,{horizontal:!0},c.a.createElement(oO,{border:"horizontal"},c.a.createElement(cO,{onClick:n.bind(null,"internal")},c.a.createElement(qd.a,{label:r("Transfer.category.internal"),value:"internal",control:c.a.createElement(Wc.a,{readOnly:!0,name:"category",checked:"internal"==t})})),c.a.createElement(cO,{onClick:n.bind(null,"external")},c.a.createElement(qd.a,{label:r("Transfer.category.external"),value:"external",control:c.a.createElement(Wc.a,{readOnly:!0,name:"category",checked:"external"==t})})))))}),sO=c.a.memo(function(e){var t=e.beneficiary,n=e.onSelect;return c.a.createElement(cO,{className:"u-c-pointer",onClick:n.bind(null,t)},c.a.createElement(jt.c,{className:"u-w-100"},t.account?c.a.createElement(jt.b,{className:"u-mr-1"},c.a.createElement(Si,{key:t.account._id,account:t.account})):null,c.a.createElement(jt.a,null,c.a.createElement(Dn.default,{variant:"body1"},t.label),c.a.createElement(Dn.default,{variant:"caption",color:"textSecondary"},t.iban)),t.account?c.a.createElement(jt.b,{className:"u-ml-half"},c.a.createElement(Dn.default,{variant:"h6"},c.a.createElement($c.a,{symbol:"€",total:t.account.balance,coloredPositive:!0,coloredNegative:!0,coloredWarning:!0}))):null))}),uO=function(e){function t(e,n){var a;return Y()(this,t),(a=tt()(this,at()(t).call(this,e,n))).state={showAddBeneficiary:!1},a.handleShowAddBeneficiary=a.handleShowAddBeneficiary.bind(ot()(a)),a.handleCloseAddBeneficiary=a.handleCloseAddBeneficiary.bind(ot()(a)),a}return it()(t,e),W()(t,[{key:"handleShowAddBeneficiary",value:function(){this.setState({showAddBeneficiary:!0})}},{key:"handleCloseAddBeneficiary",value:function(){this.setState({showAddBeneficiary:!1})}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.beneficiaries,a=e.onSelect,r=e.active,o=e.category;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Rn,null,r&&c.a.createElement(nh,null,t("Transfer.beneficiary.page-title")),c.a.createElement(Dn.default,{variant:"h4",gutterBottom:!0},t("Transfer.beneficiary.title")),c.a.createElement(Fn,{horizontal:!0},c.a.createElement(oO,{border:"horizontal",className:"u-mt-1 u-mb-1"},n.map(function(e){return c.a.createElement(sO,{key:e._id,onSelect:a,beneficiary:e})}))),c.a.createElement("div",{className:"u-ta-center"},"internal"===o?c.a.createElement(Oc,{label:t("Transfer.no-bank.add-bank"),theme:"primary",className:"u-mt-0"}):c.a.createElement(ht.c,{onClick:this.handleShowAddBeneficiary,theme:"primary",label:t("Transfer.beneficiary.add-beneficiary")}))),this.state.showAddBeneficiary?c.a.createElement(db.a,{open:!0,title:t("Transfer.beneficiary.help-add-beneficiary-title"),content:t("Transfer.beneficiary.help-add-beneficiary"),onClose:this.handleCloseAddBeneficiary,actions:c.a.createElement(ht.c,{onClick:this.handleCloseAddBeneficiary,theme:"primary",label:t("Transfer.beneficiary.help-add-beneficiary-action")})}):null)}}]),t}(c.a.Component),dO=c.a.memo(Object(d.translate)()(uO)),mO=function(e){var t=e.account,n=e.onSelect;return c.a.createElement(cO,{className:"u-c-pointer",onClick:n.bind(null,t),key:t._id},c.a.createElement(jt.c,{className:"u-w-100"},c.a.createElement(jt.b,{className:"u-mr-1"},c.a.createElement(Si,{key:t._id,account:t})),c.a.createElement(jt.a,null,c.a.createElement(Dn.default,{variant:"body1"},t.shortLabel),c.a.createElement(Dn.default,{variant:"caption",color:"textSecondary"},t.iban)),c.a.createElement(jt.b,{className:"u-ml-half"},c.a.createElement(Dn.default,{variant:"h6"},c.a.createElement($c.a,{coloredWarning:!0,coloredNegative:!0,coloredPositive:!0,total:t.balance,symbol:"€"})))))},fO=function(e){function t(){return Y()(this,t),tt()(this,at()(t).apply(this,arguments))}return it()(t,e),W()(t,[{key:"render",value:function(){var e=this.props,t=e.accounts,n=e.onSelect,a=e.active,r=e.t;return c.a.createElement(Rn,null,a&&c.a.createElement(nh,null,r("Transfer.sender.page-title")),c.a.createElement(iO,null,r("Transfer.sender.title")),c.a.createElement(Rn.Unpadded,{horizontal:!0},c.a.createElement(oO,{border:"horizontal"},t.map(function(e){return c.a.createElement(mO,{key:e._id,account:e,onSelect:n})}))))}}]),t}(c.a.Component),pO=c.a.memo(Object(d.translate)()(fO)),hO=n("w7SU"),bO=n("qgF2"),gO=n.n(bO),vO=function(e){var t=e.children,n=e.className,a=Yt()(e,["children","className"]);return c.a.createElement(qt.a,{into:"body"},c.a.createElement("div",I()({className:Se()(gO.a.Bottom,n)},a),t))},yO={transition:"transform 0.5s ease"},EO={invisibleWrapper:{pointerEvents:"none"},visibleButton:Za()({},yO,{opacity:1,transform:"translateY(0px)"}),invisibleButton:Za()({},yO,{opacity:0,transform:"translateY(100px)"})},CO=c.a.memo(function(e){e.visible;var t=Yt()(e,["visible"]);return c.a.createElement(ht.c,I()({className:"u-mh-0 u-db",theme:"primary"},t))}),kO=c.a.memo(function(e){var t=e.visible,n=Yt()(e,["visible"]);return c.a.createElement(vO,{style:t?null:EO.invisibleWrapper},c.a.createElement(Rn,null,c.a.createElement(ht.c,I()({extension:"full",theme:"primary",style:t?EO.visibleButton:EO.invisibleButton},n))))});kO.defaultProps={visible:!0};var _O=function(e){return Object(h.b)().isMobile?c.a.createElement(kO,e):c.a.createElement(CO,e)},wO={"too-high":"erreur-montant_maximum","too-low":"erreur-montant_minimum","incorrect-number":"erreur-chiffres"},OO=function(e){function t(e,n){var a;return Y()(this,t),(a=tt()(this,at()(t).call(this,e,n))).state={validation:{ok:!0}},a.handleBlur=a.handleBlur.bind(ot()(a)),a}return it()(t,e),W()(t,[{key:"componentDidUpdate",value:function(e,t){this.checkToIncreaseSlideHeight(t)}},{key:"checkToIncreaseSlideHeight",value:function(e){Boolean(e.validation.error)!==Boolean(this.state.validation.error)&&this.context.swipeableViews.slideUpdateHeight()}},{key:"handleBlur",value:function(){this.validate()}},{key:"validate",value:function(){var e,t=""==(e=this.props.amount)?{ok:!0}:parseInt(e,10)>1e3?{error:"too-high",maximum:1e3}:parseInt(e,10)<5?{error:"too-low",minimum:5}:isNaN(parseInt(e,10))?{error:"incorrect-number",value:e}:{ok:!0};if(!t.ok){var n=wO[t.error];S(function(e){var t="virement:montant:".concat(n);return t!=e&&t})}this.setState({validation:t})}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.amount,a=e.onChange,r=e.onSelect,o=e.active,i=this.state.validation;return c.a.createElement(Rn,null,o&&c.a.createElement(nh,null,t("Transfer.amount.page-title")),c.a.createElement(iO,null,t("Transfer.amount.title")),c.a.createElement(hO.a,null,t("Transfer.amount.field-label"),c.a.createElement("br",null),c.a.createElement($C.a,{append:c.a.createElement($C.a.Unit,null,"€")},c.a.createElement(ta.a,{className:"u-mt-0",value:n,onChange:function(e){return a(e.target.value)},step:"any",onBlur:this.handleBlur,error:Boolean(i.error),placeholder:"10"}))),i.error?c.a.createElement("p",{className:"u-error"},t("Transfer.amount.errors.".concat(i.error),i)):null,c.a.createElement(_O,{disabled:""===n||!!i.error,label:t("Transfer.amount.confirm"),visible:o,onClick:r}))}}]),t}(c.a.PureComponent);OO.contextTypes={swipeableViews:V.a.object.isRequired};var xO,SO=c.a.memo(Object(d.translate)()(OO)),jO=n("5Z5u"),TO=n("irVv"),AO=n.n(TO),NO=function(e){var t=e.className,n=Yt()(e,["className"]);return c.a.createElement(ta.a,I()({},n,{className:Se()(AO.a.OptionalInput,t)}))},MO=c.a.memo(function(e){var t=e.amount,n=e.senderAccount,a=e.beneficiary,r=e.onConfirm,o=e.active,i=e.selectSlide,l=e.onChangeLabel,s=e.label,u=e.onChangeDate,m=e.date,f=Object(d.useI18n)().t;return t&&n&&a?c.a.createElement(Rn,null,o&&c.a.createElement(nh,null,f("Transfer.summary.page-title")),c.a.createElement("div",null,f("Transfer.summary.send")," ",c.a.createElement(jO.a,{className:"u-c-pointer u-mb-half",onClick:i.bind(null,"amount")},t,"€"),c.a.createElement("br",null),f("Transfer.summary.to")," ",c.a.createElement(jO.a,{className:"u-c-pointer u-mb-half",onClick:i.bind(null,"beneficiary")},a.label),c.a.createElement("br",null),f("Transfer.summary.from")," ",c.a.createElement(jO.a,{className:"u-c-pointer u-mb-half",onClick:i.bind(null,"sender")},c.a.createElement(Si,{key:n._id,size:"small",account:n})," ",n.label),c.a.createElement("br",null),f("Transfer.summary.on")," ",c.a.createElement(jO.a,{className:"u-c-pointer u-mb-half u-invisible-form-field"},c.a.createElement(ta.a,{type:"date",value:m,onChange:u,size:"tiny"})),c.a.createElement("br",null),c.a.createElement(jt.c,null,c.a.createElement(jt.b,{className:"u-mr-half"},f("Transfer.summary.for")),c.a.createElement(jt.a,null,c.a.createElement(NO,{className:"u-mb-half",value:s,onChange:l,placeholder:f("Transfer.summary.for-placeholder")}))),c.a.createElement(_O,{label:f("Transfer.summary.confirm"),visible:o,onClick:r}))):null}),IO=c.a.memo(function(e){var t=e.onChangePassword,n=e.onConfirm,a=e.active,r=e.password,o=e.senderAccount,i=Object(d.useI18n)().t;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Rn,null,a&&c.a.createElement(nh,null,i("Transfer.password.page-title")),c.a.createElement(Wo.a,{spacing:"xs"},c.a.createElement(iO,null,i("Transfer.password.title")),c.a.createElement("div",{className:"u-ta-center"},o?c.a.createElement(Si,{key:o._id,account:o,size:"large"}):null),c.a.createElement(mb.b,{type:"password",onChange:t,value:r,placeholder:i("Transfer.password.field-placeholder"),label:i("Transfer.password.field-label")}))),c.a.createElement(_O,{label:i("Transfer.password.confirm"),visible:a,onClick:n,disabled:""===r}))}),BO=function(e){return e.message&&e.message.includes("LOGIN_FAILED")},FO=n("MQHA"),LO=function(e){var t=e.children,n=Object(d.useI18n)().t;return y()("banks.transfers.forbidden")?c.a.createElement(Rn,{className:"u-stack-s u-ta-center"},c.a.createElement(Tn.a,{icon:FO.a,title:n("Transfer.user-blocked.title"),text:n("Transfer.user-blocked.description")})):c.a.createElement(Dw,null,t)},RO=["category","beneficiary","sender","amount","summary","password"],DO={category:"choix_virement",beneficiary:"choix_beneficiaire",sender:"choix_compte",summary:"resume",password:"securite",amount:"montant"},PO=function(e,t){return e.vendorAccountId==t.vendorId},zO=function(){var e=Object(d.useI18n)().t;return c.a.createElement(Rn,null,c.a.createElement(Wo.a,{spacing:"l"},c.a.createElement(nh,null,e("Transfer.no-recipients.title")),c.a.createElement(Dn.default,{className:"u-maw-7",variant:"body1"},e("Transfer.no-recipients.description")),c.a.createElement("ul",null,c.a.createElement("li",null,"Axa Banque"),c.a.createElement("li",null,"BNP Paribas"),c.a.createElement("li",null,"Boursorama"),c.a.createElement("li",null,"Banque Postale Particuliers"),c.a.createElement("li",null,"CIC"),c.a.createElement("li",null,"Crédit Agricole"),c.a.createElement("li",null,"Crédit Coopératif"),c.a.createElement("li",null,"Crédit Foncier"),c.a.createElement("li",null,"Crédit Mutuel"),c.a.createElement("li",null,"Fortuneo"),c.a.createElement("li",null,"Hello Bank"),c.a.createElement("li",null,"ING"),c.a.createElement("li",null,"LCL"),c.a.createElement("li",null,"Société Générale")),c.a.createElement(Oc,{extension:"full",label:e("Transfer.no-bank.add-bank"),theme:"primary",className:"u-mt-0"})))},qO=function(e){var t=e.isMobile,n=Object(d.useI18n)().t;return c.a.createElement(c.a.Fragment,null,c.a.createElement(ic,{theme:t?"inverted":"normal"},c.a.createElement(Rn,{className:"u-pv-half"},c.a.createElement(Yl,null))),c.a.createElement(Rn,null,c.a.createElement(nh,null,n("Transfer.page-title")),c.a.createElement(Dn.default,{variant:"body1",align:"center",className:"u-mt-3"},n("Transfer.no-bank.title")),c.a.createElement(Oc,{absolute:!0,extension:"full",label:n("Transfer.no-bank.add-bank"),theme:"primary",className:"u-mt-3"})))},GO=function(e){function t(e,n){var a;return Y()(this,t),(a=tt()(this,at()(t).call(this,e,n))).state=a.getInitialState(),a.handleGoBack=a.handleGoBack.bind(ot()(a)),a.handleChangeCategory=a.handleChangeCategory.bind(ot()(a)),a.handleSelectBeneficiary=a.handleSelectBeneficiary.bind(ot()(a)),a.handleChangeAmount=a.handleChangeAmount.bind(ot()(a)),a.handleSelectAmount=a.handleSelectAmount.bind(ot()(a)),a.handleSelectSender=a.handleSelectSender.bind(ot()(a)),a.handleSelectSlide=a.handleSelectSlide.bind(ot()(a)),a.handleConfirmSummary=a.handleConfirmSummary.bind(ot()(a)),a.handleChangePassword=a.handleChangePassword.bind(ot()(a)),a.handleChangeLabel=a.handleChangeLabel.bind(ot()(a)),a.handleChangeDate=a.handleChangeDate.bind(ot()(a)),a.handleConfirmAdditionalInfo=a.handleConfirmAdditionalInfo.bind(ot()(a)),a.handleConfirm=a.handleConfirm.bind(ot()(a)),a.handleModalDismiss=a.handleModalDismiss.bind(ot()(a)),a.handleJobChange=a.handleJobChange.bind(ot()(a)),a.handleExit=a.handleExit.bind(ot()(a)),a.handleReset=a.handleReset.bind(ot()(a)),a}var n;return it()(t,e),W()(t,[{key:"getInitialState",value:function(){return{category:null,transferState:y()("banks.transfers.mock-state"),senderAccount:null,senderAccounts:[],amount:"",password:"",label:"",date:(new Date).toISOString().slice(0,10),slide:0}}},{key:"handleConfirm",value:function(){this.transferMoney()}},{key:"followJob",value:function(e){var t=new Hw.a({client:this.props.client});this.unfollowJob=function(e,t,n,a,r){var o,c=function(){e.unsubscribe(t,n,a,o)};return o=function(e){return r(e,c)},e.subscribe(t,n,a,o),c}(t,"updated","io.cozy.jobs",e._id,this.handleJobChange)}},{key:"componentDidMount",value:function(){S("virement:".concat(DO.category))}},{key:"componentDidUpdate",value:function(e){this.ensureHasAllRecipients(),this.checkToUpdateSlideBasedOnRoute(e)}},{key:"ensureHasAllRecipients",value:function(){this.props.recipients.hasMore&&"loading"!==this.props.recipients.fetchStatus&&this.props.recipients.fetchMore()}},{key:"checkToUpdateSlideBasedOnRoute",value:function(e){if(this.props.navigate){var t=e.routeParams,n=this.props.routeParams;n.slideName!==t.slideName&&this.selectSlideByName(n.slideName)}}},{key:"handleJobChange",value:function(e,t){"done"===e.state?(this.setState({transferState:"success"}),t(),clearTimeout(this.successTimeout)):"errored"===e.state&&(this.setState({transferState:new Error(e.error)}),t(),clearTimeout(this.successTimeout))}},{key:"transferMoney",value:(n=oe()(ae.a.mark(function e(){var t,n,a,r,o,c,i,l,s,u,d=this;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.client,n=this.state,a=n.amount,r=n.beneficiary,o=n.senderAccount,c=n.password,i=n.label,l=n.date,this.setState({transferState:"sending"}),e.prev=3,s=r.recipients.find(function(e){return PO(e,o)}),e.next=7,Yw(t,{amount:a,recipientId:s._id,senderAccount:o,password:c,label:i,executionDate:l});case 7:u=e.sent,this.followJob(u),this.successTimeout=setTimeout(function(){d.setState({transferState:"success"})},3e4),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(3),console.error(e.t0),BO(e.t0)||Object(jn.c)(e.t0),this.setState({transferState:e.t0});case 17:case"end":return e.stop()}},e,this,[[3,12]])})),function(){return n.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){clearTimeout(this.successTimeout),this.unfollowJob&&this.unfollowJob()}},{key:"handleGoBack",value:function(){this.goToPrevious()}},{key:"goToPrevious",value:function(){this.setState({slide:Math.max(this.state.slide-1,0)})}},{key:"handleChangeCategory",value:function(e){this.setState({category:e}),this.selectSlideByName("beneficiary")}},{key:"handleSelectBeneficiary",value:function(e){var t=new Set(e.recipients.map(function(e){return e.vendorAccountId+""})),n=this.props.accounts.data.filter(function(e){return t.has(e.vendorId)});this.setState({beneficiary:e,senderAccounts:n,senderAccount:n[0]}),this.selectSlideByName("sender")}},{key:"handleChangeAmount",value:function(e){this.setState({amount:e})}},{key:"handleSelectSender",value:function(e){this.setState({senderAccount:e}),this.selectSlideByName("amount")}},{key:"handleSelectAmount",value:function(){this.selectSlideByName("summary")}},{key:"handleConfirmSummary",value:function(){this.selectSlideByName("password")}},{key:"handleConfirmAdditionalInfo",value:function(){this.selectSlideByName("category")}},{key:"handleChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleChangeLabel",value:function(e){this.setState({label:e.target.value})}},{key:"handleChangeDate",value:function(e){this.setState({date:e.target.value})}},{key:"handleSelectSlide",value:function(e){this.selectSlideByName(e)}},{key:"getStateUpdateForSlideName",value:function(e){var t=RO.findIndex(function(t){return t==e});return{slide:-1!==t?t:0}}},{key:"selectSlideByName",value:function(e){this.setState(this.getStateUpdateForSlideName(e)),S(function(t){return t!=="virement:".concat(DO[e])&&"virement:".concat(DO[e])})}},{key:"handleModalDismiss",value:function(){this.handleReset()}},{key:"handleReset",value:function(){this.setState(this.getInitialState()),clearTimeout(this.successTimeout)}},{key:"handleExit",value:function(){var e=this.state.transferState;BO(e)?(this.selectSlideByName("password"),this.setState({password:"",transferState:null})):this.props.navigate("/")}},{key:"render",value:function(){var e=this.props,t=e.recipients,n=e.accounts,a=e.myself,r=e.breakpoints.isMobile,o=this.state,i=o.category,l=o.beneficiary,s=o.senderAccount,u=o.senderAccounts,d=o.amount,m=o.transferState,p=o.password,h=o.label,b=o.date;if(Object(f.isQueryLoading)(t)&&!Object(f.hasQueryBeenLoaded)(t)||Object(f.isQueryLoading)(n)&&!Object(f.hasQueryBeenLoaded)(n)||"sending"===m||a&&Object(f.isQueryLoading)(a)&&!Object(f.hasQueryBeenLoaded)(a)&&!a.lastError)return c.a.createElement(Rn,null,c.a.createElement(Va,null));if(0===n.data.length)return c.a.createElement(qO,{isMobile:r});if(0===t.data.length)return c.a.createElement(zO,null);var g=function(e,t){return function(n){var a=!!Vw(n,t);return"internal"!==e||a?"external"!==e||!a||(console.warn("Recipient is external, but a corresponding account was found",n),!1):(console.warn("Recipient is internal, but no corresponding account was found",n),!1)}}(i,n.data),v=function(e,t){return Object.values(Qs()(e,function(e){return"internal"==e.category?e.label:e.iban})).map(function(e){var n={_id:e[0]._id,label:e[0].label,bankName:e[0].bankName,iban:e[0].iban,category:e[0].category,recipients:e};return n.account=Vw(n,t),n})}(t.data.filter(g),n.data),y="success"===m,E=m instanceof Error;return c.a.createElement(LO,null,m?c.a.createElement(c.a.Fragment,null,y&&c.a.createElement(eO,{onExit:this.handleExit}),E&&c.a.createElement(nO,{error:m,onExit:this.handleExit})):null,!(y||E)&&c.a.createElement(c.a.Fragment,null,c.a.createElement(ic,{theme:r?"inverted":"normal"},c.a.createElement(Rn,{className:"u-pv-half"},c.a.createElement(Yl,null))),c.a.createElement(Yk,{currentIndex:this.state.slide,onBack:this.handleGoBack},c.a.createElement(lO,{category:i,onSelect:this.handleChangeCategory}),c.a.createElement(dO,{category:i,beneficiary:l,onSelect:this.handleSelectBeneficiary,beneficiaries:v}),c.a.createElement(pO,{account:s,accounts:u,onSelect:this.handleSelectSender}),c.a.createElement(SO,{amount:d,onChange:this.handleChangeAmount,onSelect:this.handleSelectAmount}),c.a.createElement(MO,{onConfirm:this.handleConfirmSummary,amount:d,beneficiary:l,senderAccount:s,selectSlide:this.handleSelectSlide,onChangeLabel:this.handleChangeLabel,onChangeDate:this.handleChangeDate,label:h,date:b}),c.a.createElement(IO,{onChangePassword:this.handleChangePassword,onConfirm:this.handleConfirm,password:p,senderAccount:s}))))}}]),t}(c.a.Component),HO=fc.a,VO=ge()((xO="primary",function(e){return function(t){return c.a.createElement(c.a.Fragment,null,c.a.createElement(zt,{theme:xO}),c.a.createElement(e,t))}}),f.withClient,Object(St.a)(),Object(f.queryConnect)(HO({accounts:D.n,recipients:D.x})),Object(d.translate)()),UO=VO(function(e){var t=e.children,n=Yt()(e,["children"]),a=Object(he.C)();return c.a.createElement(GO,I()({navigate:a},n),t)}),YO=function(e){return e.date},QO=function(e){return parseFloat(e.score.toFixed(1),10)},WO=function(e){return e.item.date},KO={query:Object(f.Q)(D.l).where({_id:{$gt:null}}).indexFields(["date"]).sortBy([{date:"desc"}]).limitBy(1e3),as:"transactions-searchPage"},JO=n("SOfb"),ZO=n("yOUz"),XO=c.a.memo(function(e){var t=e.transaction,n=e.transactionCol,a=e.onFetchMore,r=Object(d.useI18n)(),o=r.t,i=r.f;return t?c.a.createElement("div",null,o("Search.since",{date:i(t.date,"D MMM YYYY")}),n.hasMore?c.a.createElement(JO.a,{title:o("Search.search-older-transactions")},c.a.createElement(ea.a,{disabled:Object(f.isQueryLoading)(n),onClick:a,size:"medium"},c.a.createElement(pt.default,{icon:ZO.a}))):null):null}),$O=c.a.memo(function(e){var t=e.title,n=e.image;return c.a.createElement("div",{className:"u-ta-center"},n,c.a.createElement(Dn.default,{variant:"h3",classes:{root:"u-mb-half"}},t))}),ex=c.a.memo(function(){var e=Object(d.useI18n)().t;return c.a.createElement(Dn.default,{align:"center",variant:"body1"},e("Search.suggestions"))}),tx=c.a.memo(function(e){var t=e.results,n=e.search,a=e.setSearch,r=e.searchSufficient,i=e.handleFetchMore,l=e.transactionCol,s=e.earliestTransaction,u=Object(h.b)().isMobile,m=Object(d.useI18n)().t,f=fe(),p=f.isSelectionModeActive,b=f.setIsSelectionModeActive,g=function(e){a(""),b(!1),e.focus()},v=Object(o.useCallback)(function(e){a(e.target.value),0===t.length&&b(!1)},[t.length,b,a]);return c.a.createElement(ic,{theme:"inverted",fixed:!0},u?c.a.createElement(c.a.Fragment,null,c.a.createElement(zl,{to:"/balances",arrow:!0}),c.a.createElement(Jn,null,c.a.createElement(la,{placeholder:m("Search.input-placeholder"),value:n,autofocus:!0,onChange:v,onReset:g}),t.length>0&&n.length>0&&c.a.createElement(Zv,{isSelectionModeActive:p,setIsSelectionModeActive:b}))):c.a.createElement(Rn,null,c.a.createElement(jt.c,null,c.a.createElement(jt.b,null,c.a.createElement(zl,{to:"/balances",arrow:!0})),c.a.createElement(jt.a,null,c.a.createElement(nh,{className:"u-lh-tiny"},r&&t.length?m("Search.title-results",{smart_count:t.length}):m("Search.title")),c.a.createElement(XO,{onFetchMore:i,transaction:s,transactionCol:l}))),c.a.createElement($n,null,c.a.createElement(la,{placeholder:m("Search.input-placeholder"),value:n,onChange:v,autofocus:!0,onReset:g}))),c.a.createElement(Zh,{isSubcategory:!1}))}),nx=n("4aFg"),ax=n.n(nx),rx=[],ox={mobileSectionDateFormat:"ddd D MMMM YYYY"},cx={maxWidth:"80%"},ix=function(){var e=Object(he.H)(),t=Object(d.useI18n)().t,n=Object(h.b)().isMobile,a=Object(o.useState)(e.search?decodeURIComponent(e.search):""),r=R()(a,2),i=r[0],l=r[1],s=Object(o.useState)([]),u=R()(s,2),m=u[0],p=u[1];T("recherche");var b=Object(f.useQuery)(KO.query,KO),g=b.data,v=void 0===g?rx:g,y=b.lastUpdate,E=Object(o.useMemo)(function(){return qb()(v,YO)},[v]),C=Object(o.useMemo)(function(){return new sE.a(v||[],{keys:["label"],ignoreLocation:!0,includeScore:!0,includeMatches:!0,minMatchCharLength:3})},[y]),k=i.length>2,_=Object(o.useMemo)(function(){return xt()(function(e){var t=function(e){return Df()(e,[QO,WO],["asc","desc"])}(C.search(e).filter(function(e){return e.score<.3})).map(function(e){return e.item});p(t.map(function(e){return e._id}))},200)},[C,p]),w=Object(o.useCallback)(function(){Object(f.isQueryLoading)(b)||b.fetchMore()},[b]);Object(o.useEffect)(function(){e.search&&_(e.search)},[]),Object(o.useEffect)(function(){y&&i&&_(i)},[y,_,i]);var O=Object(o.useMemo)(function(){var e=Zs()(v,function(e){return e._id});return m.map(function(t){return e[t]}).filter(Boolean)},[v,m]);return c.a.createElement("div",null,c.a.createElement(zt,{theme:"primary"}),c.a.createElement(tx,{results:O,search:i,setSearch:l,searchSufficient:k,handleFetchMore:w,transactionCol:b,earliestTransaction:E}),c.a.createElement(dc,{isFetching:"loading"===b.fetchStatus}),n&&c.a.createElement(Dn.default,{color:"textSecondary",className:"u-p-1"},c.a.createElement(XO,{onFetchMore:w,transaction:E,transactionCol:b})),(!k||!y)&&c.a.createElement(Rn,null,c.a.createElement($v.a,{className:"u-m-auto"},c.a.createElement($O,{image:c.a.createElement("img",{src:ax.a,width:"116px",className:"u-mt-1 u-mb-1"}),title:t("Search.type-a-search")}),c.a.createElement(ex,null))),c.a.createElement("div",{className:"js-scrolling-element"},k&&y&&(O.length>0?c.a.createElement(nC.Provider,{value:ox},c.a.createElement(uC,{transactions:O,showTriggerErrors:!1})):c.a.createElement(Tn.a,{className:"u-mt-large",title:t("Search.no-transactions-found",{search:i})},c.a.createElement(ht.c,{style:cx,theme:"secondary",label:t("Search.search-older-transactions"),onClick:w})))))},lx={categories:"analysis/categories",recurrence:"analysis/recurrence"},sx=function(e){return e.pathname.includes("categories")?"categories":"recurrence"},ux=["categories","recurrence"],dx=c.a.memo(function(){var e=Object(he.z)(),t=Object(he.C)(),n=Object(d.useI18n)().t;return c.a.createElement(ic,{fixed:!0,theme:"inverted"},c.a.createElement(wC.a,{value:ux.indexOf(sx(e))},ux.map(function(e){return c.a.createElement(OC.a,{disableRipple:!0,label:n("Nav.".concat(e)),key:e,name:e,onClick:function(){return t(lx[e])}})})))}),mx=function(){var e=Object(h.b)().isMobile;return c.a.createElement(c.a.Fragment,null,e?c.a.createElement(dx,null):null,c.a.createElement(he.d,null))},fx=(n("IujW"),function(e){function t(){var e,n;Y()(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=tt()(this,(e=at()(t)).call.apply(e,[this].concat(r))),st()(ot()(n),"state",{warnings:[]}),st()(ot()(n),"checkIfUserActionIsRequired",oe()(ae.a.mark(function e(){var t;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.client,e.prev=1,e.next=4,t.stackClient.fetchJSON("GET","/data/");case 4:0!==n.state.warnings.length&&n.setState({warnings:n.state.warnings}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),402===e.t0.status&&n.setState({warnings:e.t0.reason});case 11:case"end":return e.stop()}},e,null,[[1,8]])}))),st()(ot()(n),"onAccept",oe()(ae.a.mark(function e(){return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.acceptUpdatedTos();case 2:case"end":return e.stop()}},e)}))),st()(ot()(n),"acceptUpdatedTos",oe()(ae.a.mark(function e(){var t;return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.client,e.prev=1,e.next=4,t.stackClient.fetchJSON("PUT","/settings/instance/sign_tos");case 4:n.setState({warnings:n.state.warnings.filter(function(e){return"tos-updated"!==e.code})}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),ke.a.error("TOS.updated.error");case 10:case"end":return e.stop()}},e,null,[[1,7]])}))),st()(ot()(n),"disconnect",function(){n.props.client.logout()}),n}return it()(t,e),W()(t,[{key:"componentDidMount",value:function(){0}},{key:"componentWillUnmount",value:function(){0}},{key:"render",value:function(){var e=this.state.warnings;if(0===e.length)return c.a.createElement(he.d,null);e.find(function(e){return"tos-updated"===e.code});return c.a.createElement(he.d,null)}}]),t}(o.Component));st()(fx,"contextTypes",{store:V.a.object.isRequired,client:V.a.object.isRequired});var px=Object(f.withClient)(fx),hx=function(e){var t=e.children,n=Object(h.b)();return function(e,t,n){Object(o.useEffect)(function(){e&&void 0!==t&&(e.scrollTop=t),e&&void 0!==n&&(e.scrollLeft=n)},[])}(n.isMobile?document.scrollingElement||document.documentElement:document.querySelector('[role="main"]'),0),c.a.createElement(c.a.Fragment,null,t)},bx=Object(Xc.a)({card:{backgroundColor:"var(--headerInvertedBackgroundColorLight)",border:0}})(function(e){var t=e.classes,n=e.children;return c.a.createElement(Yd.b,{className:t.card},n)}),gx=c.a.memo(function(){var e=Object(d.useI18n)().t,t=Eb(),n=t.estimatedBalance,a=t.currency,r=t.transactions;return null===n?null:c.a.createElement(bx,null,c.a.createElement(jt.c,null,c.a.createElement(jt.a,null,c.a.createElement(Dn.default,{variant:"h6",color:"primary"},e("EstimatedBudget.30-day-balance")),c.a.createElement(Dn.default,{variant:"caption",color:"textSecondary"},e("EstimatedBudget.numberEstimatedTransactions",{smart_count:r.length}))),c.a.createElement(jt.b,null,c.a.createElement($c.a,{className:"u-ml-2",total:n,symbol:Po(a)}))))}),vx=n("gFSL"),yx=n.n(vx),Ex=c.a.memo(function(){var e=Object(h.b)().isMobile,t=Object(he.C)(),n=Object(d.useI18n)().t,a=Object(o.useCallback)(function(){t("/balances/details")},[t]);return c.a.createElement(ic,{theme:"inverted",fixed:!0,className:yx.a.Header},c.a.createElement(zt,{theme:"primary"}),c.a.createElement(Rn,null,e?c.a.createElement(c.a.Fragment,null,c.a.createElement(zl,{theme:"primary",onClick:a}),c.a.createElement("div",{className:Se()(yx.a["Title--mobile"])},c.a.createElement(Sl,{insideBar:!1})),c.a.createElement(gx,null)):c.a.createElement(jt.c,null,c.a.createElement(jt.b,null,c.a.createElement(zl,{arrow:!0,onClick:a,theme:"primary"})),c.a.createElement(jt.a,{className:"u-stack-xs"},c.a.createElement(Sl,{size:"normal"}),c.a.createElement("div",null,c.a.createElement(Dn.default,{color:"primary",variant:"h3"},n("EstimatedBudget.page-title")))),c.a.createElement(jt.b,null,c.a.createElement(gx,null))),c.a.createElement(Yl,{className:"u-mt-1"})))}),Cx=function(e){var t,n=e.emptyIcon,a=Eb(),r=Object(d.useI18n)().t,o=Object(h.b)(),i=o.isMobile,l=o.isTablet;return T("previsionnel"),c.a.createElement(c.a.Fragment,null,c.a.createElement(Ex,null),c.a.createElement("div",{className:Se()("js-scrolling-element",(t={},st()(t,yx.a["List--mobile"],i),st()(t,yx.a["List--tablet"],l),t))},Yl.active&&c.a.createElement("div",{className:"u-mt-2"}," "),a.isLoading?c.a.createElement(Rn,null,c.a.createElement(Va,null)):c.a.createElement(c.a.Fragment,null,a.transactions&&a.transactions.length>0&&c.a.createElement(uC,{transactions:a.transactions,showTriggerErrors:!1}),a.transactions&&0===a.transactions.length&&c.a.createElement("div",{className:i?"u-mh-half":""},c.a.createElement(Tn.a,{icon:n,title:r("EstimatedBudget.no-planned-transactions.title"),text:c.a.createElement(c.a.Fragment,null,"✨ ",r("EstimatedBudget.no-planned-transactions.text"))})))))};Cx.defaultProps={emptyIcon:"cozy"};var kx=Cx,_x=function(){var e=Object(he.C)(),t=Object(he.H)(),n=Object(i.useDispatch)(),a=Object(f.useQuery)(D.n.query,D.n),r=Object(f.useQuery)(D.s.query,D.s),l=Object(f.hasQueryBeenLoaded)(a),s=Object(f.hasQueryBeenLoaded)(r);return Object(o.useEffect)(function(){if(l&&s){var o=t.accountOrGroupId,c=a.data&&a.data.find(function(e){return e._id===o});if(c)return n(Object(Qa.d)({_type:D.a,_id:c._id})),void e("/balances/".concat(t.page));var i=r.data&&r.data.find(function(e){return e._id===o});if(i)return n(Object(Qa.d)({_type:D.d,_id:i._id})),void e("/balances/".concat(t.page));e("/balances")}},[l,s]),Object(f.hasQueryBeenLoaded)(a)&&Object(f.hasQueryBeenLoaded)(r)?null:c.a.createElement(Va,null)},wx=n("6o1n"),Ox=Object(Gc.a)({desktopBox:{padding:"1.75rem 2rem 1.25rem"},topBox:{display:"flex",flexDirection:"row",gap:".5rem"},mobileTopBox:{marginLeft:"2rem"},subBox:{flex:"1"},bottomBox:{display:"flex",margin:"1.25rem 0 .25rem 0",gap:".5rem"},mobileButton:{flex:"1"},desktopButton:{flex:"0 auto"},typography:{placeSelf:"center"}}),xx=function(e){var t=e.tag,n=e.amount,a=e.currency,r=e.setIsRenameModalOpened,o=e.setIsDeleteModalOpened,i=e.onClose,l=Object(h.b)().isMobile,s=Ox(),u=Object(d.useI18n)().t;return c.a.createElement("div",{className:l?null:s.desktopBox},c.a.createElement("div",{className:Se()(s.topBox,st()({},s.mobileTopBox,l))},l&&c.a.createElement(wx.a,{onClick:i}),c.a.createElement("div",{className:s.subBox},c.a.createElement(Dn.default,{variant:"h4"},t.label),c.a.createElement(Dn.default,{variant:"caption"},u("Tag.transactions",{smart_count:ms(t)}))),c.a.createElement(Dn.default,{variant:"h6",className:s.typography},c.a.createElement($c.a,{total:n,symbol:Po(a),coloredPositive:!0,signed:!0}))),c.a.createElement("div",{className:s.bottomBox},c.a.createElement(Pc.a,{className:l?s.mobileButton:s.desktopButton,variant:"secondary",startIcon:c.a.createElement(pt.default,{icon:ab.a}),label:u("Tag.renameModal.title"),onClick:function(){return r(!0)}}),c.a.createElement(Pc.a,{className:l?s.mobileButton:s.desktopButton,color:"error",variant:"secondary",startIcon:c.a.createElement(pt.default,{icon:ob.a}),label:u("Tag.deleteModal.title"),onClick:function(){return o(!0)}})))};xx.propTypes={tag:V.a.object.isRequired,amount:V.a.number.isRequired,currency:V.a.string.isRequired,setIsRenameModalOpened:V.a.func.isRequired,setIsDeleteModalOpened:V.a.func.isRequired,onClose:V.a.func.isRequired};var Sx=xx,jx=function(e){var t=e.tag,n=e.transactions,a=e.onClose,r=Object(f.useClient)(),i=Object(d.useI18n)().t,l=Object(he.C)(),s=Object(o.useReducer)(function(e){return!e},!1),u=R()(s,2),m=u[0],p=u[1];T("parametres:labels:supprimer-label-popin");var h=function(){var e=oe()(ae.a.mark(function e(){return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S("parametres:labels:supprimer-label-confirmation"),p(),e.next=4,Object(Wa.t)(r,t,n);case 4:l(-1),a();case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return c.a.createElement(Jl.a,{open:!0,onClose:a,title:i("Tag.deleteModal.title"),content:i("Tag.deleteModal.content",{smart_count:ms(t)}),actions:c.a.createElement(c.a.Fragment,null,c.a.createElement(Pc.a,{variant:"secondary",label:i("Tag.deleteModal.actions.cancel"),onClick:a}),c.a.createElement(Pc.a,{color:"error",label:i("Tag.deleteModal.actions.submit"),busy:m,onClick:h}))})};jx.propTypes={tag:V.a.object.isRequired,transactions:V.a.array.isRequired,onClose:V.a.func.isRequired};var Tx=jx,Ax=function(e){var t=e.tag,n=e.onClose,a=e.withLabel,r=Object(f.useClient)(),i=Object(d.useI18n)().t,l=Object(o.useState)(t.label),s=R()(l,2),u=s[0],m=s[1],p=Object(o.useReducer)(function(e){return!e},!1),h=R()(p,2),b=h[0],g=h[1];T("parametres:labels:renommer-label-saisie");var v=function(){var e=oe()(ae.a.mark(function e(){return ae.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S("parametres:labels:renommer-label-confirmation"),g(),e.next=4,r.save(Za()({},t,{label:u}));case 4:n();case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return c.a.createElement(Jl.a,{open:!0,onClose:n,title:i("Tag.renameModal.title"),content:c.a.createElement(c.a.Fragment,null,c.a.createElement(NE.a,I()({fullWidth:!0,margin:"normal"},a&&{label:i("Tag.renameModal.label")},{defaultValue:t.label,autoFocus:!0,variant:"outlined",inputProps:{maxLength:30},onChange:function(e){return m(e.target.value)}}))),actions:c.a.createElement(c.a.Fragment,null,c.a.createElement(Pc.a,{variant:"secondary",label:i("Tag.renameModal.actions.cancel"),onClick:n}),c.a.createElement(Pc.a,{label:i("Tag.renameModal.actions.submit"),busy:b,disabled:0===u.length,onClick:v}))})};Ax.defaultProps={withLabel:!0},Ax.propTypes={tag:V.a.object.isRequired,onClose:V.a.func.isRequired,withLabel:V.a.bool};var Nx=Ax,Mx=function(e){var t=e.tag,n=e.isRenameModalOpened,a=e.setIsRenameModalOpened,r=e.isDeleteModalOpened,o=e.setIsDeleteModalOpened,i=Object(d.useI18n)().t,l=Object(D.q)(t.transactions.data.map(function(e){return e._id})),s=Object(f.useQueryAll)(l.definition,l.options),u=null;return u=Object(f.isQueryLoading)(s)&&!Object(f.hasQueryBeenLoaded)(s)?c.a.createElement(Va,{loadingType:"movements"}):0===s.data.length?c.a.createElement(Rn,{className:"u-pt-0"},c.a.createElement(Dn.default,{variant:"body1"},i("Transactions.no-movements"))):c.a.createElement("div",{className:"js-scrolling-element"},c.a.createElement(uC,{transactions:s.data,canFetchMore:s.hasMore,filteringOnAccount:!1,manualLoadMore:Object(Qt.isMobileApp)()})),c.a.createElement(c.a.Fragment,null,u,n&&c.a.createElement(Nx,{tag:t,onClose:function(){return a(!1)}}),r&&c.a.createElement(Tx,{tag:t,transactions:s.data,onClose:function(){return o(!1)}}))};Mx.propTypes={tag:V.a.object.isRequired,isRenameModalOpened:V.a.bool.isRequired,setIsRenameModalOpened:V.a.func.isRequired,isDeleteModalOpened:V.a.bool.isRequired,setIsDeleteModalOpened:V.a.func.isRequired};var Ix=Mx,Bx=function(e){var t=e.tag,n=Object(h.b)().isMobile,a=Object(he.C)(),r=Object(o.useState)(!1),i=R()(r,2),l=i[0],s=i[1],u=Object(o.useState)(!1),d=R()(u,2),m=d[0],f=d[1],p=t.transactions.data.reduce(function(e,t){return e+t.amount},0),b=c.a.createElement(Sx,{tag:t,amount:p,currency:"EUR",setIsRenameModalOpened:s,setIsDeleteModalOpened:f,onClose:function(){a(-1)}}),g=c.a.createElement(Ix,{tag:t,isRenameModalOpened:l,setIsRenameModalOpened:s,isDeleteModalOpened:m,setIsDeleteModalOpened:f});return n?c.a.createElement(c.a.Fragment,null,c.a.createElement(db.a,{open:!0,size:"large",disableTitleAutoPadding:!0,disableGutters:!0,title:b,content:g})):c.a.createElement(c.a.Fragment,null,b,g)};Bx.propTypes={tag:V.a.object.isRequired};var Fx=Bx,Lx=function(){var e=Object(he.z)().pathname.split("/").pop(),t=Object(d.useI18n)().t;T("parametres:labels:labels-detail-operations");var n,a=Object(D.p)([e]),r=Object(f.useQueryAll)(a.definition,a.options);return"failed"===r.fetchStatus?c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,t("Loading.error")),c.a.createElement("p",null,null===(n=r.lastError)||void 0===n?void 0:n.message)):Object(f.isQueryLoading)(r)||r.hasMore?c.a.createElement(Pa.a,{size:"xxlarge",className:"u-flex u-flex-justify-center u-mt-2 u-h-5"}):0===r.data.length?null:c.a.createElement(Fx,{tag:r.data[0]})},Rx=function e(){return c.a.createElement(he.h,null,c.a.createElement(he.e,{element:c.a.createElement(px,null)},c.a.createElement(he.e,{path:"/",element:c.a.createElement(Aa,null)},Object(Qt.isWebApp)()&&c.a.createElement(he.e,{index:!0,element:c.a.createElement(he.c,{to:"balances",replace:!0})}),c.a.createElement(he.e,{path:"balances"},c.a.createElement(he.e,{index:!0,element:c.a.createElement(hx,null,c.a.createElement(Wv,null))}),c.a.createElement(he.e,{path:"details",element:c.a.createElement(hx,null,c.a.createElement(Py,null))}),c.a.createElement(he.e,{path:"future",element:c.a.createElement(hx,null,c.a.createElement(kx,null))}),c.a.createElement(he.e,{path:":accountOrGroupId/:page",element:c.a.createElement(_x,null)})),c.a.createElement(he.e,{path:"categories/*",element:c.a.createElement(he.c,{to:"../analysis/categories",replace:!0})}),c.a.createElement(he.e,{path:"recurrence/*",element:c.a.createElement(he.c,{to:"../analysis/recurrence",replace:!0})}),c.a.createElement(he.e,{path:"analysis",element:c.a.createElement(hx,null,c.a.createElement(mx,null))},c.a.createElement(he.e,{path:"categories"},c.a.createElement(he.e,{index:!0,element:c.a.createElement(hx,null,c.a.createElement(gC,null))}),c.a.createElement(he.e,{path:":categoryName",element:c.a.createElement(hx,null,c.a.createElement(gC,null))}),c.a.createElement(he.e,{path:":categoryName/:subcategoryName",element:c.a.createElement(hx,null,c.a.createElement(gC,null))})),c.a.createElement(he.e,{path:"recurrence"},c.a.createElement(he.e,{index:!0,element:c.a.createElement(hx,null,c.a.createElement(Sh,null))}),c.a.createElement(he.e,{path:":bundleId",element:c.a.createElement(hx,null,c.a.createElement(bb,null))}))),c.a.createElement(he.e,{path:"settings"},c.a.createElement(he.e,{element:c.a.createElement(hx,null,c.a.createElement(TC,null))},c.a.createElement(he.e,{index:!0,element:c.a.createElement(qw,null)}),c.a.createElement(he.e,{path:"accounts",element:c.a.createElement(DC,null)}),c.a.createElement(he.e,{path:"groups",element:c.a.createElement(XC,null)}),c.a.createElement(he.e,{path:"tags",element:c.a.createElement(kk,null)}),c.a.createElement(he.e,{path:"configuration",element:c.a.createElement(qw,null)})),c.a.createElement(he.e,{path:"groups/new",element:c.a.createElement(hx,null,c.a.createElement(JC,null))}),c.a.createElement(he.e,{path:"groups/:groupId",element:c.a.createElement(hx,null,c.a.createElement(WC,null))}),c.a.createElement(he.e,{path:"accounts/:accountId",element:c.a.createElement(he.c,{to:"../accounts",replace:!0})})),c.a.createElement(he.e,{path:"tag/:tagId",element:c.a.createElement(hx,null,c.a.createElement(Lx,null))}),c.a.createElement(he.e,{path:"transfers",element:c.a.createElement(hx,null,c.a.createElement(UO,null))}),c.a.createElement(he.e,{path:"search",element:c.a.createElement(hx,null,c.a.createElement(ix,null))}),c.a.createElement(he.e,{path:"search/:search",element:c.a.createElement(hx,null,c.a.createElement(ix,null))}),c.a.createElement(he.e,{path:"recurrencedebug",element:c.a.createElement(hx,null,c.a.createElement(Wp,null))}),e.renderExtraRoutes(),Object(Qt.isWebApp)()&&c.a.createElement(he.e,{path:"*",element:c.a.createElement(he.c,{to:"balances",replace:!0})}))))};Rx.renderExtraRoutes=function(){return null};var Dx=Rx,Px=function(e){return{onSuccess:function(){return ke.a.success(e("JobsContext.alerter-success"))},onError:function(){return ke.a.error(e("JobsContext.alerter-errored"))}}},zx=Object(b.a)({disableGlobal:!0,productionPrefix:"c"});t.default=function(e){var t=e.store,a=e.lang,r=e.client,p=y()("authentication")?n("qlGH").default:n("SOjZ").HashRouter,b=function(e){return n("/KVF")("./".concat(e))},v=Object(o.useMemo)(function(){return function(e,t){var n=Object(u.b)(e,t);return{t:n.t.bind(n)}}(a,b)},[a]).t;return c.a.createElement(l.WebviewIntentProvider,{setBarContext:Dt.a.setWebviewContext},c.a.createElement(h.a,null,c.a.createElement(w,null,c.a.createElement(i.Provider,{store:t},c.a.createElement(g.b,{generateClassName:zx},c.a.createElement(f.CozyProvider,{client:r},c.a.createElement(d.default,{lang:a,dictRequire:function(e){return n("/KVF")("./".concat(e))}},c.a.createElement(te,{client:r,options:Px(v)},c.a.createElement(de,{client:r},c.a.createElement(pe,null,c.a.createElement(hc,null,c.a.createElement(m.a,null,c.a.createElement(s.a,null,c.a.createElement(f.RealTimeQueries,{doctype:D.m}),c.a.createElement(f.RealTimeQueries,{doctype:D.a}),c.a.createElement(f.RealTimeQueries,{doctype:D.c}),c.a.createElement(f.RealTimeQueries,{doctype:D.l}),c.a.createElement(f.RealTimeQueries,{doctype:D.d}),c.a.createElement(p,null,c.a.createElement(Dx,null)))))))))))))))}},J0QW:function(e,t,n){"use strict";n.d(t,"c",function(){return m}),n.d(t,"f",function(){return f}),n.d(t,"e",function(){return p}),n.d(t,"d",function(){return b}),n.d(t,"b",function(){return g}),n.d(t,"g",function(){return v});var a=n("MVZn"),r=n.n(a),o=n("h2fu");n.d(t,"a",function(){return o.d});var c=n("drUz"),i=n("RlsE"),l=(n("Z5Ip"),o.b.get.bind(o.b)),s=function(e){return{id:e.id,name:e.name,color:e.color,transactions:[],subcategories:{}}},u=function(e){return{id:e,name:c[e],transactions:[]}},d=function(e){return null===Object(i.a)(e)},m=function(e){for(var t={},n=0,a=Object.keys(o.a);n<a.length;n++){var c=a[n],m=r()({name:c},o.a[c]);t[c]=s(m)}var f=!0,p=!1,h=void 0;try{for(var b,g=e[Symbol.iterator]();!(f=(b=g.next()).done);f=!0){var v=b.value;if(!d(v)){var y=Object(i.a)(v),E=l(y)||l("0");t.hasOwnProperty(E.name)||(t[E.name]=s(E));var C=t[E.name];C.subcategories.hasOwnProperty(y)||(C.subcategories[y]=u(y));var k=C.subcategories[y];C.transactions.push(v),k.transactions.push(v)}}}catch(_){p=!0,h=_}finally{try{f||null==g.return||g.return()}finally{if(p)throw h}}return t},f=function(e){return"400610"===Object(i.a)(e)&&e.amount<0},p=function(e){var t=Object(i.a)(e);return"400600"===t||"400610"===t||"400620"===t},h=function(e,t){return t.percentage!==e.percentage?t.percentage-e.percentage:e.amount-t.amount},b=function(e){var t=0;if(0!==e.length){var n=e.reduce(function(e,t){return e+Math.abs(t.amount)},0),a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done);a=!0){var l=c.value;l.percentage=Math.round(Math.abs(l.amount)/n*100);var s=l.subcategories.reduce(function(e,t){return e+Math.abs(t.amount)},0),u=!0,d=!1,m=void 0;try{for(var f,p=l.subcategories[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var b=f.value;b.percentage=0===s?100:Math.round(Math.abs(b.amount)/s*100)}}catch(g){d=!0,m=g}finally{try{u||null==p.return||p.return()}finally{if(d)throw m}}l.subcategories=l.subcategories.sort(h),t+=l.amount}}catch(g){r=!0,o=g}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}}return t},g=function(e){var t;return e.length>0&&(t=e[0].currency),t||(t="€"),t},v=function(e){return Object(i.a)(e)===Object(o.d)("professionalExpenses")&&e.amount<0}},JYM9:function(e,t,n){e.exports={"from-bottom":"from-bottom--mdhky",spin:"spin--BmaML",shake:"shake--2Y-ol"}},JvX5:function(e,t,n){e.exports={"bnk-chart":"bnk-chart--VML97"}},K4CQ:function(e,t,n){e.exports={"Error--buttons":"Error--buttons--UPjgw"}},LQnD:function(e,t,n){e.exports={NoAccount:"NoAccount--3L_DL",NoAccount_addButton:"NoAccount_addButton--2wZ2K",NoAccount_bottom:"NoAccount_bottom--1pZYT",NoAccount_chart:"NoAccount_chart--35u4W",NoAccount_timeline:"NoAccount_timeline--1V_uG"}},MFCF:function(e,t,n){e.exports={"Header--fixed":"Header--fixed--13jJK",HeaderColor_normal:"HeaderColor_normal--2Iyoo",HeaderColor_inverted:"HeaderColor_inverted--1A7aE","Header--paper":"Header--paper--nfeJG",Settings__Content:"Settings__Content--3HFT0"}},MFCw:function(e,t,n){e.exports={skeleton:"skeleton--2PUJv","skeleton--small":"skeleton--small--27esU","skeleton--medium":"skeleton--medium--2qGgo",loading:"loading--3D1VQ"}},MHBw:function(e,t){e.exports="/img/veepee-info.43d778410d97b8e73b4eb07bb4631d74.png"},N9UO:function(e,t,n){"use strict";n.d(t,"b",function(){return g}),n.d(t,"a",function(){return y});var a=n("o0o1"),r=n.n(a),o=n("RIqP"),c=n.n(o),i=n("MVZn"),l=n.n(i),s=n("lSNA"),u=n.n(s),d=n("yXPU"),m=n.n(d),f=n("SH7X"),p=n("snfs"),h=(n("mgfL"),n("T1IG")),b=n("QIiU"),g=function(){return!1},v=null,y=function(){var e=m()(r.a.mark(function e(){var t,a,o,i,s,d,m=arguments;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=m.length>0&&void 0!==m[0]?m[0]:{},!v){e.next=3;break}return e.abrupt("return",v);case 3:return a=new f.StackLink,e.next=6,Object(b.e)();case 6:return o=e.sent,v=[a],g()&&(i={doctypes:h.u,doctypesReplicationOptions:u()({},h.l,{warmupQueries:Object(b.d)()}),initialSync:!0},Object(p.isMobileApp)()&&Object(p.isIOSApp)()&&(i.pouch={plugins:[Object(b.b)(o)],options:{adapter:o,location:"default"}}),s=n("4ihG").default,d=new s(l()({},i,t.pouchLink)),v=[d].concat(c()(v))),e.abrupt("return",v);case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},Njho:function(e,t,n){e.exports={PercentageLine:"PercentageLine--1kjlr"}},OJmh:function(e,t,n){"use strict";n.d(t,"n",function(){return p});var a=n("cOGN");n.d(t,"o",function(){return a.a});var r=n("/TIM");n.d(t,"m",function(){return r.f}),n.d(t,"j",function(){return r.d});var o=n("8d86");n.d(t,"a",function(){return o.a}),n.d(t,"i",function(){return o.b});var c=n("q+nN");n.d(t,"d",function(){return c.a});var i=n("vBe5");n.d(t,"h",function(){return i.d}),n.d(t,"c",function(){return i.c});var l=n("+3eq");n.d(t,"f",function(){return l.c}),n.d(t,"g",function(){return l.d}),n.d(t,"e",function(){return l.b});var s=n("ziQ1");n.d(t,"k",function(){return s.a}),n.d(t,"l",function(){return s.b});var u=n("RhHs");n.d(t,"b",function(){return u.a});n("sQjb");var d=n("dME/"),m=n("wiFh"),f={fr:d,en:m},p=function(e){Object(a.b)(f[e]||f.en)}},"OP+2":function(e,t,n){e.exports={LineChart:"LineChart--1fuYI",LineChartSVG:"LineChartSVG--3_UIb"}},Ol9T:function(e,t,n){e.exports={AccountRow__figure:"AccountRow__figure--1ER2D","AccountRow--hasWarning":"AccountRow--hasWarning--3VsQb","AccountRow--hasAlert":"AccountRow--hasAlert--1p87l",AccountRow__updatedAtIcon:"AccountRow__updatedAtIcon--1vtIA",AccountRow__ownersIcon:"AccountRow__ownersIcon--18Eep","AccountRow--disabled":"AccountRow--disabled--37Xdu"}},PZtU:function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-telecom_f97395b3f8c78014b3a0e854277808f7",use:"icon-cat-telecom_f97395b3f8c78014b3a0e854277808f7-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-telecom_f97395b3f8c78014b3a0e854277808f7"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#FD7461" /><path fill="#FFFFFF" d="M16 13.8a2.2 2.2 0 1 1 0 4.41 2.2 2.2 0 0 1 0-4.42M16 7a9.01 9.01 0 0 0 0 18c2 0 3.9-.64 5.47-1.86l.16-.12-1.21-1.57-.16.11A7.02 7.02 0 1 1 23.01 16v.8a1.4 1.4 0 0 1-2.81 0v-.2h-.05c.03-.2.05-.4.05-.6v-3.4h-1.76A4.2 4.2 0 1 0 16 20.2a4.2 4.2 0 0 0 2.97-1.26A3.4 3.4 0 0 0 25 16.8V16c0-4.96-4.04-9-9-9" /></g></symbol>'});c.a.add(i);t.default=i},PfNA:function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-incomeCat_77e619713046ab5aa7fb21bfb0ce03ef",use:"icon-cat-incomeCat_77e619713046ab5aa7fb21bfb0ce03ef-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-incomeCat_77e619713046ab5aa7fb21bfb0ce03ef"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#35CE68" /><path fill="#FFFFFF" d="M8.5 17.13c.28 0 .5.22.5.5v7.5a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-7.5c0-.28.22-.5.5-.5h4zm19.35 4.14a.5.5 0 0 1-.13.8 110.91 110.91 0 0 0-5.97 3.22C19.7 26.46 18.72 27 17.57 27c-.96 0-2.04-.38-3.97-1.08-.98-.36-2.2-.8-3.76-1.32a.5.5 0 0 1-.34-.47v-5.5c0-.28.22-.5.5-.5h1.5c2.3 0 3.69 1.39 4.15 1.85.1.1.22.15.35.15h3c1.09 0 1.38.94 1.38 1.5 0 .4-.13.78-.36 1.05-.24.3-.59.45-1.02.45h-5a.5.5 0 0 0 0 1h5a2.3 2.3 0 0 0 1.8-.8 2.65 2.65 0 0 0 .53-2.18l3.01-1c1.33-.38 2.34-.05 3.51 1.12zM21 11.13a3.5 3.5 0 1 1 0-7.01 3.5 3.5 0 0 1 0 7zm-4.5 7a3.5 3.5 0 1 1 0-7.01 3.5 3.5 0 0 1 0 7zm-.5-4.5v2a.5.5 0 0 0 1 0v-2a.5.5 0 0 0-1 0zm4.5-7v2a.5.5 0 0 0 1 0v-2a.5.5 0 0 0-1 0z" /></g></symbol>'});c.a.add(i);t.default=i},Potm:function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-excludeFromBudgetCat_5eb42321911ef164d85b846f863a4ad0",use:"icon-cat-excludeFromBudgetCat_5eb42321911ef164d85b846f863a4ad0-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-excludeFromBudgetCat_5eb42321911ef164d85b846f863a4ad0"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#6984CE" /><path fill="#FFFFFF" fill-rule="nonzero" d="M24.75 13c.64-.04 1.2.45 1.25 1.09v9.82c-.05.64-.6 1.13-1.25 1.09H7.25c-.64.04-1.2-.45-1.25-1.09v-9.82c.05-.64.6-1.13 1.25-1.09h17.5zm0-1H7.25c-1.2-.04-2.2.9-2.25 2.09v9.82A2.18 2.18 0 0 0 7.25 26h17.5c1.2.04 2.2-.9 2.25-2.09v-9.82A2.18 2.18 0 0 0 24.75 12z" /><path fill="#FFFFFF" fill-rule="nonzero" d="M23.88 14H8.12a1 1 0 0 0-1.12.91v8.18a1 1 0 0 0 1.12.91h15.76a1 1 0 0 0 1.12-.91v-8.18a1 1 0 0 0-1.12-.91zM10 20a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm6 1.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5zm6-1.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z" /><path fill="#FFFFFF" d="M19.85 5.15a.5.5 0 0 0-.7.7L20.29 7H15.5a.5.5 0 1 0 0 1h4.79l-1.14 1.15a.5.5 0 0 0 .35.85c.13 0 .26-.05.35-.15l2-2a.48.48 0 0 0 0-.7l-2-2zM10 4.5c0 .13.05.26.15.35l2 2c.09.1.22.15.35.15a.5.5 0 0 0 .35-.85L11.71 5h4.79a.5.5 0 1 0 0-1h-4.79l1.14-1.15a.5.5 0 1 0-.7-.7l-2 2c-.1.1-.15.22-.15.35z" /></g></symbol>'});c.a.add(i);t.default=i},Q76G:function(e,t,n){e.exports={LoanDetailsRow:"LoanDetailsRow--zRz6A",LoanDetailsRow__value:"LoanDetailsRow__value--25aMk"}},QIiU:function(e,t,n){"use strict";n.d(t,"b",function(){return v}),n.d(t,"c",function(){return y}),n.d(t,"a",function(){return E}),n.d(t,"f",function(){return k}),n.d(t,"e",function(){return _}),n.d(t,"d",function(){return w});var a=n("o0o1"),r=n.n(a),o=n("yXPU"),c=n.n(o),i=n("O7iK"),l=n.n(i),s=n("oAJy"),u=n.n(s),d=n("4ihG"),m=n.n(d),f=n("SH7X"),p=n("snfs"),h=n("T1IG"),b=n("YaAl"),g=function(e,t){return{definition:function(){return Object(f.Q)(e).where(l()(t.map(function(e){return[e,{$gt:null}]}))).indexFields(t)},options:{as:"".concat(e,"-by-").concat(t.join("-"))}}},v=function(e){return"cordova-sqlite"===e?n("tinZ"):"idb"===e?n("Wh65"):n("nr6D").default},y=function(){return Object(p.isMobileApp)()&&Object(p.isIOSApp)()?"cordova-sqlite":"idb"},E=function(){var e=c()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.getItem("credentials");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),C=function(){var e=c()(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:return t=e.sent,e.abrupt("return",Boolean(t));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),k=function(){var e=c()(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:return t=e.sent,e.abrupt("return",t&&"indexeddb"!==m.a.getPouchAdapterName());case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),_=function(){var e=c()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:if(e.sent){e.next=5;break}return e.abrupt("return","indexeddb");case 5:return e.abrupt("return","indexeddb"===m.a.getPouchAdapterName()?m.a.getPouchAdapterName():y());case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),w=function(){return[g(h.l,["date"]),g(h.l,[b.a]),g(h.l,["account"]),g(h.l,["account","date"]),g(h.l,["account",b.a])]}},QYnG:function(e,t){e.exports="/img/veepee-info@2x.e00642b6164d2b110ebd6a14439fcda5.png"},RlsE:function(e,t,n){"use strict";var a=n("mgfL"),r=n.n(a),o=n("Le8U");t.a=function(e){var t=r()("local-model-override");return o.BankTransaction.getCategoryId(e,{localModelOverride:t})}},SM7l:function(e,t,n){"use strict";var a=n("pZg0"),r=n.n(a);t.a=r.a},SeDE:function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-goingOutEntertainment_bb77527c10a047f266276b65ef2b3fe1",use:"icon-cat-goingOutEntertainment_bb77527c10a047f266276b65ef2b3fe1-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-goingOutEntertainment_bb77527c10a047f266276b65ef2b3fe1"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#40DE8E" /><path fill="#FFFFFF" fill-rule="nonzero" d="M11 26v-2h4v-7L6 8h20l-9 9v7h4v2H11zM9 9l7 7v-1.5L10.5 9H9z" /></g></symbol>'});c.a.add(i);t.default=i},T1IG:function(e,t,n){"use strict";n.d(t,"a",function(){return N}),n.d(t,"d",function(){return M}),n.d(t,"l",function(){return I}),n.d(t,"j",function(){return B}),n.d(t,"m",function(){return F}),n.d(t,"f",function(){return L}),n.d(t,"g",function(){return R}),n.d(t,"c",function(){return D}),n.d(t,"h",function(){return P}),n.d(t,"b",function(){return z}),n.d(t,"i",function(){return q}),n.d(t,"e",function(){return G}),n.d(t,"k",function(){return H}),n.d(t,"u",function(){return V}),n.d(t,"z",function(){return K}),n.d(t,"v",function(){return J}),n.d(t,"n",function(){return X}),n.d(t,"s",function(){return $}),n.d(t,"w",function(){return ee}),n.d(t,"r",function(){return te}),n.d(t,"C",function(){return ne}),n.d(t,"t",function(){return ae}),n.d(t,"o",function(){return re}),n.d(t,"A",function(){return oe}),n.d(t,"x",function(){return ce}),n.d(t,"y",function(){return ie}),n.d(t,"B",function(){return le}),n.d(t,"p",function(){return se}),n.d(t,"q",function(){return ue});var a=n("o0o1"),r=n.n(a),o=n("yXPU"),c=n.n(o),i=n("iWIM"),l=n.n(i),s=n("MVZn"),u=n.n(s),d=n("J4zp"),m=n.n(d),f=n("lwsE"),p=n.n(f),h=n("W8MJ"),b=n.n(h),g=n("a1gu"),v=n.n(g),y=n("Nsbk"),E=n.n(y),C=n("7W2i"),k=n.n(C),_=n("O7iK"),w=n.n(_),O=n("SH7X"),x=n.n(O),S=n("iQJf"),j=n.n(S),T=n("cPJV"),A=n.n(T),N=(n("Z5Ip"),"io.cozy.bank.accounts"),M="io.cozy.bank.groups",I="io.cozy.bank.operations",B="io.cozy.bank.settings",F="io.cozy.triggers",L="io.cozy.jobs",R="io.cozy.konnectors",D="io.cozy.accounts",P="io.cozy.permissions",z="io.cozy.contacts",q="io.cozy.bank.recurrence",G="io.cozy.identities",H="io.cozy.tags",V=[N,M,I,B,"io.cozy.bills",z,H],U=function(e){function t(){return p()(this,t),v()(this,E()(t).apply(this,arguments))}return k()(t,e),b()(t,[{key:"data",get:function(){var e=this;return this.raw?this.raw.map(function(t){var n=t.split(":"),a=m()(n,2),r=a[0],o=a[1];return e.get(r,o)}):[]}}],[{key:"query",value:function(e,t,n){var a=e[n.name];if(!a||!a.length)return null;var r=a.indexOf(":")?a.map(function(e){return e.split(":")[1]}):a,o=w()(r.map(function(e){return[e,t.getDocumentFromState(n.doctype,e)]})),c=Object.keys(o).filter(function(e){return!o[e]});return c&&c.length?new O.QueryDefinition({doctype:n.doctype,ids:c}):Object.values(o)}}]),t}(O.HasManyInPlace),Y=function(e){function t(){return p()(this,t),v()(this,E()(t).apply(this,arguments))}return k()(t,e),b()(t,[{key:"raw",get:function(){return this.target[this.name]}},{key:"data",get:function(){var e=this;return(this.raw||[]).map(function(t){return t.billId?u()({},t,{bill:e.get("io.cozy.bills",t.billId.split(":")[1])}):t})}}],[{key:"query",value:function(e,t,n){var a=e[n.name];if(!a||!a.length)return null;var r=a.map(function(e){return e.billId&&e.billId.split(":")[1]}).filter(Boolean);return new O.QueryDefinition({doctype:n.doctype,ids:r})}}]),t}(O.HasManyInPlace),Q=function(e){function t(){return p()(this,t),v()(this,E()(t).apply(this,arguments))}var n,a;return k()(t,e),b()(t,[{key:"add",value:(a=c()(r.a.mark(function e(n){var a,o,c,i,s,u,d,m,f;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=Array.isArray(n)?n:[n],o=Array.isArray(this.target)?this.target:[this.target],c=!0,i=!1,s=void 0,e.prev=5,u=a[Symbol.iterator]();case 7:if(c=(d=u.next()).done){e.next=14;break}return f=d.value,e.next=11,null===(m=f.transactions)||void 0===m?void 0:m.add(o);case 11:c=!0,e.next=7;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(5),i=!0,s=e.t0;case 20:e.prev=20,e.prev=21,c||null==u.return||u.return();case 23:if(e.prev=23,!i){e.next=26;break}throw s;case 26:return e.finish(23);case 27:return e.finish(20);case 28:return e.abrupt("return",l()(E()(t.prototype),"add",this).call(this,a));case 29:case"end":return e.stop()}},e,this,[[5,16,20,28],[21,,23,27]])})),function(e){return a.apply(this,arguments)})},{key:"remove",value:(n=c()(r.a.mark(function e(n){var a,o,c,i,s,u,d,m,f;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=Array.isArray(n)?n:[n],o=Array.isArray(this.target)?this.target:[this.target],c=!0,i=!1,s=void 0,e.prev=5,u=a[Symbol.iterator]();case 7:if(c=(d=u.next()).done){e.next=14;break}return f=d.value,e.next=11,null===(m=f.transactions)||void 0===m?void 0:m.remove(o);case 11:c=!0,e.next=7;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(5),i=!0,s=e.t0;case 20:e.prev=20,e.prev=21,c||null==u.return||u.return();case 23:if(e.prev=23,!i){e.next=26;break}throw s;case 26:return e.finish(23);case 27:return e.finish(20);case 28:return e.abrupt("return",l()(E()(t.prototype),"remove",this).call(this,a));case 29:case"end":return e.stop()}},e,this,[[5,16,20,28],[21,,23,27]])})),function(e){return n.apply(this,arguments)})}]),t}(O.HasMany),W=function(e){function t(){return p()(this,t),v()(this,E()(t).apply(this,arguments))}var n,a;return k()(t,e),b()(t,[{key:"add",value:(a=c()(r.a.mark(function e(n){var a,o,c,i,s,u,d,m,f;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=Array.isArray(n)?n:[n],o=Array.isArray(this.target)?this.target:[this.target],c=!0,i=!1,s=void 0,e.prev=5,u=a[Symbol.iterator]();case 7:if(c=(d=u.next()).done){e.next=14;break}return f=d.value,e.next=11,null===(m=f.tags)||void 0===m?void 0:m.add(o);case 11:c=!0,e.next=7;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(5),i=!0,s=e.t0;case 20:e.prev=20,e.prev=21,c||null==u.return||u.return();case 23:if(e.prev=23,!i){e.next=26;break}throw s;case 26:return e.finish(23);case 27:return e.finish(20);case 28:return e.abrupt("return",l()(E()(t.prototype),"add",this).call(this,a));case 29:case"end":return e.stop()}},e,this,[[5,16,20,28],[21,,23,27]])})),function(e){return a.apply(this,arguments)})},{key:"remove",value:(n=c()(r.a.mark(function e(n){var a,o,c,i,s,u,d,m,f;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=Array.isArray(n)?n:[n],o=Array.isArray(this.target)?this.target:[this.target],c=!0,i=!1,s=void 0,e.prev=5,u=a[Symbol.iterator]();case 7:if(c=(d=u.next()).done){e.next=14;break}return f=d.value,e.next=11,null===(m=f.tags)||void 0===m?void 0:m.remove(o);case 11:c=!0,e.next=7;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(5),i=!0,s=e.t0;case 20:e.prev=20,e.prev=21,c||null==u.return||u.return();case 23:if(e.prev=23,!i){e.next=26;break}throw s;case 26:return e.finish(23);case 27:return e.finish(20);case 28:return e.abrupt("return",l()(E()(t.prototype),"remove",this).call(this,a));case 29:case"end":return e.stop()}},e,this,[[5,16,20,28],[21,,23,27]])})),function(e){return n.apply(this,arguments)})}]),t}(O.HasMany),K={transactions:{doctype:I,attributes:{},relationships:{account:{type:"belongs-to-in-place",doctype:N},recurrence:{type:"has-one",doctype:q},bills:{type:U,doctype:"io.cozy.bills"},reimbursements:{type:Y,doctype:"io.cozy.bills"},tags:{type:Q,doctype:H}}},bills:{doctype:"io.cozy.bills"},settings:{doctype:B,attributes:{},relationships:{}},bankAccounts:{doctype:N,attributes:{},relationships:{checkingsAccount:{type:"has-one",doctype:N},owners:{type:"has-many",doctype:z},connection:{type:"has-one",doctype:D}}},groups:{doctype:M,attributes:{},relationships:{accounts:{type:O.HasManyInPlace,doctype:N}}},triggers:{doctype:F,attributes:{},relationships:{}},apps:{doctype:"io.cozy.apps",attributes:{},relationships:{}},konnectors:{doctype:R,attributes:{},relationships:{}},tags:{doctype:H,relationships:{transactions:{type:W,doctype:I}}}},J=x.a.fetchPolicies.olderThan(3e4),Z=x.a.fetchPolicies.olderThan(1e8),X={query:function(){return Object(O.Q)(N).include(["owners","connection"])},as:"accounts",fetchPolicy:J},$={query:function(){return Object(O.Q)(M)},as:"groups",fetchPolicy:Z},ee={query:function(){return Object(O.Q)(R).where({available_version:{$exists:!0}})},fetchPolicy:Z,as:"outdatedKonnectors"},te={query:function(){return Object(O.Q)(F).where({worker:"konnector",type:"@cron"})},as:"io.cozy.triggers/konnector_cron",fetchPolicy:Z,hydrated:!1,singleDocData:!1},ne={query:function(){return Object(O.Q)(I).UNSAFE_noLimit().include(["bills","account","reimbursements","recurrence","tags"])},as:"transactions",fetchPolicy:J},ae=function(){var e=A()(j()(new Date,1),"YYYY-MM-DD");return{as:"home/transactions",fetchPolicy:Z,query:function(){return Object(O.Q)(I).limitBy(1e3).where({date:{$gt:e}}).sortBy([{date:"desc"}]).indexFields(["date"]).select(["_id","date","realisationDate","amount","account","currency","manualCategoryId","cozyCategoryId","cozyCategoryProba","localCategoryId","localCategoryProba","automaticCategoryId","label","reimbursementStatus","reimbursements"])}}},re={query:function(){return Object(O.Q)("io.cozy.apps")},as:"apps",fetchPolicy:Z},oe={query:function(){return Object(O.Q)(B)},as:"settings",fetchPolicy:J},ce={query:function(){return Object(O.Q)("io.cozy.bank.recipients")},as:"recipients",fetchPolicy:J},ie={query:function(){return Object(O.Q)(q).where({_id:{$gt:null},latestDate:{$gt:null}}).sortBy([{_id:"desc"},{latestDate:"desc"}])},as:"recurrence",fetchPolicy:J},le={query:function(){return Object(O.Q)(H).include(["transactions"])},as:"".concat(H,"/withTransactions"),fetchPolicy:J},se=function(e){return{definition:Object(O.Q)(H).getByIds(e).include(["transactions"]),options:{as:"".concat(H,"/").concat(JSON.stringify(e),"/withTransactions"),fetchPolicy:J}}},ue=function(e){return{definition:Object(O.Q)(I).getByIds(e).include(["tags"]),options:{as:"".concat(I,"/").concat(JSON.stringify(e),"/withTags"),fetchPolicy:J}}}},TBWg:function(e,t,n){e.exports={ReimbursementsIcon:"ReimbursementsIcon--C_iBo",ReimbursementsIcon__hourglass:"ReimbursementsIcon__hourglass--1R0zt"}},"TI+C":function(e,t,n){e.exports={BalanceHeader:"BalanceHeader--Pitoj",SearchIcon:"SearchIcon--3kuYE"}},Tcj5:function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-dailyLife_83e14c2e3960c6118b267c580542b1b6",use:"icon-cat-dailyLife_83e14c2e3960c6118b267c580542b1b6-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-dailyLife_83e14c2e3960c6118b267c580542b1b6"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#FD7461" /><path fill="#FFFFFF" d="M10 22a2 2 0 1 0 0 4 2 2 0 0 0 0-4m11 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m6.5-16h-2.56a1 1 0 0 0-1 .88l-.33 2.68a.5.5 0 0 1-.5.44H6a2 2 0 0 0-1.9 2.6l1.55 5A2 2 0 0 0 7.56 19H22a.5.5 0 0 1 0 1H8a.5.5 0 0 0 0 1h14c.8 0 1.46-.64 1.5-1.43v-.03l1.1-9.85.34-2.69h2.56a.5.5 0 0 0 0-1" /></g></symbol>'});c.a.add(i);t.default=i},Ttww:function(e,t){e.exports="/img/timeline_desktop_en.8ed0e7248216da5fb042e30314036a39.svg"},UeWT:function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-uncategorized_b80de38b264264d7fbf24dec42982bbb",use:"icon-cat-uncategorized_b80de38b264264d7fbf24dec42982bbb-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" id="icon-cat-uncategorized_b80de38b264264d7fbf24dec42982bbb"><g><circle cx="16" cy="16" r="16" style="fill-rule:evenodd;clip-rule:evenodd;fill:#95999D" /></g><circle cx="16" cy="22" r="1" style="fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF" /><path d="M16.6,19.4c0,0.3-0.3,0.6-0.6,0.6c-0.3,0-0.6-0.3-0.6-0.6v-2.5c0-0.3,0.3-0.6,0.6-0.6c1.7,0,3.1-1.4,3.1-3\n\tc0-1.7-1.4-3.1-3-3.1c-1.7,0-3.1,1.4-3.1,3c0,0,0,0,0,0c0,0.3-0.3,0.6-0.6,0.6c-0.3,0-0.6-0.3-0.6-0.6c0-2.4,1.9-4.3,4.3-4.3\n\tc2.4,0,4.3,1.9,4.3,4.3c0,2.1-1.6,3.9-3.7,4.2C16.6,17.5,16.6,19.4,16.6,19.4z" style="fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF" /><path d="M16,4C9.4,4,4,9.4,4,16s5.4,12,12,12s12-5.4,12-12S22.6,4,16,4z M16,26.5c-5.8,0-10.5-4.7-10.5-10.5\n\tS10.2,5.5,16,5.5S26.5,10.2,26.5,16S21.8,26.5,16,26.5z" style="fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF" /></symbol>'});c.a.add(i);t.default=i},UlNH:function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-schoolRestaurant_fc4c597783d224c93cb43d64a2b9f1cd",use:"icon-cat-schoolRestaurant_fc4c597783d224c93cb43d64a2b9f1cd-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-schoolRestaurant_fc4c597783d224c93cb43d64a2b9f1cd"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#1FA8F1" /><path fill="#FFFFFF" d="M14 7a1 1 0 0 0-1 1v3.5a2 2 0 0 1-1 1.72V8a1 1 0 0 0-2 0v5.22a2 2 0 0 1-1-1.72V8a1 1 0 0 0-2 0v3.5a4 4 0 0 0 3 3.87V24a1 1 0 0 0 2 0v-8.63a4 4 0 0 0 3-3.87V8a1 1 0 0 0-1-1m7.5-1c-1.8 0-3 1.4-3 3.5v2c0 1.68.77 2.9 2 3.34V24a1 1 0 0 0 2 0v-9.15A3.5 3.5 0 0 0 25 11.5v-2A3.5 3.5 0 0 0 21.5 6" /></g></symbol>'});c.a.add(i);t.default=i},Un6S:function(e,t,n){e.exports={"Header--fixed":"Header--fixed--3AlaC",HeaderColor_normal:"HeaderColor_normal--3oD_i",HeaderColor_inverted:"HeaderColor_inverted--2f6TG","Header--paper":"Header--paper--2GJ6m"}},Vgir:function(e,t,n){var a={"./timeline_desktop_en.svg":"Ttww","./timeline_desktop_fr.svg":"tQst","./timeline_mobile_en.svg":"n6J5","./timeline_mobile_fr.svg":"2mYB"};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id="Vgir"},YaAl:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a="applicationDate"},YcbG:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return s}),n.d(t,"b",function(){return u});var a=n("7dT6"),r=n("9pOX"),o=n("KIoR"),c=n.n(o),i=n("dukY"),l={en:a,fr:r},s=function(e){var t;var n=e||document.querySelector("[role=application]");return null!=n&&null!==(t=n.dataset)&&void 0!==t&&t.cozy?Object(i.a)(n).locale:"en"},u=function(e){var t=s(e),n=new c.a({lang:t,phrases:l[t]});return n.t.bind(n)};e.env.COZY_LOCALE,JSON.stringify({locale:"en"})}).call(this,n("8oxB"))},Z5Ip:function(e,t){},ZlFf:function(e,t,n){"use strict";n.r(t),n.d(t,"getClient",function(){return g});var a=n("o0o1"),r=n.n(a),o=n("yXPU"),c=n.n(o),i=n("SH7X"),l=n.n(i),s=n("mgfL"),u=n.n(s),d=n("T1IG"),m=n("N9UO"),f=n("SM7l"),p={slug:f.a.slug,version:f.a.version},h=n("dukY"),b=function(){var e=document.querySelector("[role=application]");if(!e)return"http://cozy.tools:8080";var t=Object(h.a)(e).domain,n=window.location.protocol;return"".concat(n,"//").concat(t)},g=function(){var e=c()(r.a.mark(function e(){var t,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u()("cozyURL")||b(),n=u()("cozyToken")||(a=void 0,(a=document.querySelector("[role=application]"))?Object(h.a)(a).token:""),e.t0=l.a,e.t1=p,e.t2=t,e.t3=n,e.t4=d.z,e.next=9,Object(m.a)();case 9:return e.t5=e.sent,e.t6={appMetadata:e.t1,uri:e.t2,token:e.t3,schema:e.t4,links:e.t5,store:!1},e.abrupt("return",new e.t0(e.t6));case 12:case"end":return e.stop()}var a},e)}));return function(){return e.apply(this,arguments)}}()},"ZrI/":function(e,t,n){e.exports={ContainerIntentSide:"ContainerIntentSide--2vqwb",IntentIframeContainer:"IntentIframeContainer--3P5cc",FakeInfos:"FakeInfos--3fUkf",FakeInfosLinkVendor:"FakeInfosLinkVendor--17Mg-",FakeInfosLinkDrive:"FakeInfosLinkDrive--1RDE0",FakeVeePeeHeader:"FakeVeePeeHeader--f8AfA"}},bF4N:function(e,t,n){e.exports={PercentageLine:"PercentageLine--30tKg","bnk-table-category":"bnk-table-category--1nS2Z","bnk-table-percentage":"bnk-table-percentage--11SqR","bnk-table-operation":"bnk-table-operation--YKWJx","bnk-table-amount":"bnk-table-amount--13N2g","bnk-table-total":"bnk-table-total--1PHBD","bnk-table-percentage-sign":"bnk-table-percentage-sign--2IuF1","bnk-table-amount-figure":"bnk-table-amount-figure--2HK88","bnk-table-amount-figure-total":"bnk-table-amount-figure-total--XFTt9","bnk-table-row":"bnk-table-row--3_fvB","bnk-table-row--uncollapsed":"bnk-table-row--uncollapsed--17Y4a","bnk-table-row-caption":"bnk-table-row-caption--20LQY","bnk-table-percentage-caption":"bnk-table-percentage-caption--nnMR0","bnk-table-category-category":"bnk-table-category-category--2hX0x","bnk-category-total-mobile":"bnk-category-total-mobile--2Kg7D","bnk-table-category-name-icon":"bnk-table-category-name-icon--1BNty"}},bT8i:function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-potentialTransfer_3e5b956fe3149c1ff87f505aa1fa5c17",use:"icon-cat-potentialTransfer_3e5b956fe3149c1ff87f505aa1fa5c17-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-potentialTransfer_3e5b956fe3149c1ff87f505aa1fa5c17"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#95999D" /><g fill="#FFFFFF" transform="translate(4 9)"><path d="M3.41 6H14.5a1 1 0 0 0 0-2H3.4l2.3-2.3A1 1 0 1 0 4.29.3l-4 4a1 1 0 0 0 0 1.4l4 4a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.4L3.4 6z" /><path d="M23.7 8.3l-4-4a1 1 0 1 0-1.4 1.4L20.57 8H9.5a1 1 0 1 0 0 2h11.08l-2.29 2.3a1 1 0 1 0 1.42 1.4l4-4a1 1 0 0 0 0-1.4" /></g></g></symbol>'});c.a.add(i);t.default=i},d66v:function(e,t,n){e.exports={"sharing-icon":"sharing-icon--1IwUl","sharing-icon--to":"sharing-icon--to--3JgBV","sharing-icon--from":"sharing-icon--from--2Kdao"}},d6uY:function(e,t,n){e.exports={Main:"Main--1_ywi"}},drUz:function(e){e.exports=JSON.parse('{"0":"uncategorized","100":"potentialTransfer","200":"check","300":"atm","200100":"incomeCat","200110":"activityIncome","200120":"replacementIncome","200130":"interests","200140":"dividends","200150":"donationsReceived","200160":"allocations","200170":"rentalIncome","200180":"additionalIncome","200190":"retirement","400100":"dailyLife","400110":"supermarket","400111":"tobaccoPress","400112":"shoppingECommerce","400120":"consumerLoan","400130":"dressing","400140":"pets","400150":"telecom","400160":"snaksAndworkMeals","400170":"charity","400180":"giftsOffered","400190":"personalCare","400200":"transportation","400205":"vehiculePurchase","400210":"vehiculeLoan","400220":"vehiculeRental","400230":"vehiculeInsurance","400240":"vehiculeMaintenance","400250":"vehiculeGas","400260":"privateParking","400270":"parkingAndToll","400280":"publicTransportation","400290":"taxi","400300":"services","400310":"post","400320":"legalCounsel","400330":"homeAssistance","400340":"bankFees","400350":"financialAdvisor","400400":"kids","400410":"kidsAllowance","400420":"schoolRestaurant","400430":"childCare","400440":"schoolInsurance","400450":"toysAndGifts","400460":"pensionPaid","400470":"kidsActivities","400500":"tax","400510":"incomeTax","400520":"socialTax","400530":"wealthTax","400540":"realEstateTax","400600":"health","400610":"healthExpenses","400620":"healthInsurance","400700":"activities","400710":"activityFees","400720":"activityEquipments","400730":"activityLessons","400740":"electronicsAndMultimedia","400750":"booksMoviesMusic","400760":"hobbyAndPassion","400800":"goingOutAndTravel","400810":"restaurantsAndBars","400820":"goingOutEntertainment","400830":"goingOutCulture","400840":"travel","400850":"journey","400900":"educationAndTraining","400910":"tuition","400920":"eduBooksAndSupplies","400930":"studentLoan","400940":"eduLessons","401000":"homeAndRealEstate","401010":"realEstateLoan","401020":"rent","401030":"homeCharges","401040":"homeInsurance","401050":"homeImprovement","401060":"homeHardware","401070":"water","401080":"power","600100":"excludeFromBudgetCat","600110":"internalTransfer","600120":"creditCardPayment","600130":"loanCredit","600140":"professionalExpenses","600150":"investmentBuySell","600160":"friendBorrowing","600170":"savings"}')},dukY:function(e,t,n){"use strict";t.a=function(e){return JSON.parse(e.dataset.cozy)}},e8lG:function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-homeInsurance_0dae74c9a3ad6a37d42a3a20b7019d33",use:"icon-cat-homeInsurance_0dae74c9a3ad6a37d42a3a20b7019d33-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-homeInsurance_0dae74c9a3ad6a37d42a3a20b7019d33"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#FF962F" /><g transform="translate(8 3)"><path fill="#FFFFFF" d="M12.5 10a.5.5 0 0 1 0-1h1a.5.5 0 0 1 0 1h-1zm0 3a.5.5 0 0 1 0-1h1a.5.5 0 0 1 0 1h-1zm0 3a.5.5 0 0 1 0-1h1a.5.5 0 0 1 0 1h-1zm0 3a.5.5 0 0 1 0-1h1a.5.5 0 0 1 0 1h-1zm-4-3h-5a.5.5 0 0 1 0-1h5a.5.5 0 0 1 0 1m-2 3h-3a.5.5 0 0 1 0-1h3a.5.5 0 0 1 0 1m9.65-17.85L14.5 2.79l-1.65-1.64a.5.5 0 0 0-.7 0L10.5 2.79 8.85 1.15a.5.5 0 0 0-.7 0L6.5 2.79 4.85 1.15a.5.5 0 0 0-.7 0L2.5 2.79.85 1.15A.5.5 0 0 0 0 1.5v23a.5.5 0 0 0 .85.36L2.5 23.2l1.65 1.64c.2.2.5.2.7 0L6.5 23.2l1.65 1.64c.2.2.5.2.7 0l1.65-1.64 1.65 1.64c.2.2.5.2.7 0l1.65-1.64 1.65 1.64a.5.5 0 0 0 .85-.35v-23a.5.5 0 0 0-.85-.35z" /><polygon fill="#FF962F" points="1 10 6 5 11 10 10 10 10 12.999 7 12.999 7 10 5 10 5 13 2 12.999 2 10" /></g></g></symbol>'});c.a.add(i);t.default=i},"eF/w":function(e,t,n){"use strict";n.d(t,"b",function(){return h}),n.d(t,"a",function(){return v}),n.d(t,"c",function(){return k});var a,r,o=n("lwsE"),c=n.n(o),i=n("MVZn"),l=n.n(i),s=n("NlKi"),u=n.n(s),d=n("5yeP"),m=n.n(d),f="([^.-]+)(-([^.]+))?.([^.]*.[^./:]*)",p=function(e){return e=y(e),e=E(e),e=C(e)},h=function(){return!0},b=function(e){var t={shouldSendCallback:!0,environment:"production",release:"1.51.0",allowSecretKey:!0,dataCallback:p,transport:function(t){var n=t.auth,a=t.data,r=l()({},n,{project:a.project,data:JSON.stringify(a)});e.stackClient.fetchJSON("POST","/remote/cc.cozycloud.errors",r).catch(t.onError).then(t.onSuccess)}};return t},g=function(e){a=function(e){var t=new RegExp("^(".concat("(https?):/{2}",")?(").concat(f,")"));if(e.match(t))return e.match(t)[7]}(e),r=function(e){var t=new RegExp("^(".concat("(https?):/{2}",")?(").concat(f,")"));if(e.match(t))return e.match(t)[4]}(e)},v=function(e){return m()("https://d18802c5412f4b8babe4aad094618d37@errors.cozycloud.cc/38",b(e))},y=function(e){if(e&&e.request&&e.request.url){var t=e.request.url.split("#",2);2===t.length&&(e.request.url="banks://index.html#"+t[1])}return e},E=function(e){if(e&&e.stacktrace&&e.stacktrace.frames&&e.stacktrace.frames.length>0){var t=new RegExp("/([a-z]+.js.*)");e.stacktrace.frames=e.stacktrace.frames.map(function(e){var n=e.filename.match(t);return n&&n.length>1&&(e.filename="banks://"+n[1]),e})}return e},C=function(e){if(e&&e.breadcrumbs&&e.breadcrumbs.values&&e.breadcrumbs.values.length>0){var t=function(e){var t=e.split("index.html");return t.length>1?"banks://index.html".concat(t[1]):e};return e.breadcrumbs.values=e.breadcrumbs.values.map(function(e){return e.data&&e.data.from&&(e.data.from=t(e.data.from)),e.data&&e.data.to&&(e.data.to=t(e.data.to)),e}),e}},k=function(e){return new Promise(function(t){u.a.captureException(e,{tags:{slug:r,domain:a}}),console.warn("Raven is recording exception"),console.error(e),t()})};(function e(t){var n;c()(this,e),g(t.stackClient.uri),h()&&(n=t,u.a.config("https://d18802c5412f4b8babe4aad094618d37@errors.cozycloud.cc/38",b(n)).install(),u.a.setTagsContext({instance:n.stackClient.uri,target:"browser"})),t.on("login",function(){g(t.stackClient.uri)})}).pluginName="sentry"},ebKs:function(e,t,n){e.exports={HeaderTitle:"HeaderTitle--3lGvo",HeaderTitle_balance:"HeaderTitle_balance--1RM-C",HeaderTitle_subtitle:"HeaderTitle_subtitle--3gbag"}},fvBA:function(e,t,n){var a={"./icon-cat-activities.svg":"uGsf","./icon-cat-atm.svg":"iDIO","./icon-cat-bankFees.svg":"Bwi5","./icon-cat-charity.svg":"8VJ5","./icon-cat-check.svg":"6MpJ","./icon-cat-consumerLoan.svg":"hIFK","./icon-cat-dailyLife.svg":"Tcj5","./icon-cat-dressing.svg":"EmiK","./icon-cat-educationAndTraining.svg":"+Riz","./icon-cat-excludeFromBudgetCat.svg":"Potm","./icon-cat-giftsOffered.svg":"tTmR","./icon-cat-goingOutAndTravel.svg":"pJw3","./icon-cat-goingOutCulture.svg":"p+c2","./icon-cat-goingOutEntertainment.svg":"SeDE","./icon-cat-health.svg":"AZ9U","./icon-cat-healthExpenses.svg":"6TKq","./icon-cat-homeAndRealEstate.svg":"zQJG","./icon-cat-homeCharges.svg":"6ly+","./icon-cat-homeImprovement.svg":"gcYZ","./icon-cat-homeInsurance.svg":"e8lG","./icon-cat-incomeCat.svg":"PfNA","./icon-cat-kids.svg":"C/RP","./icon-cat-kidsAllowance.svg":"usti","./icon-cat-personalCare.svg":"sTIb","./icon-cat-pets.svg":"4MBk","./icon-cat-post.svg":"qUJf","./icon-cat-potentialTransfer.svg":"bT8i","./icon-cat-power.svg":"uf+A","./icon-cat-restaurantsAndBars.svg":"mByF","./icon-cat-schoolRestaurant.svg":"UlNH","./icon-cat-services.svg":"GoL8","./icon-cat-shoppingECommerce.svg":"qT4P","./icon-cat-snaksAndworkMeals.svg":"635Q","./icon-cat-supermarket.svg":"h+Qp","./icon-cat-tax.svg":"pqgH","./icon-cat-telecom.svg":"PZtU","./icon-cat-tobaccoPress.svg":"Cn7x","./icon-cat-transportation.svg":"lpzy","./icon-cat-uncategorized.svg":"UeWT"};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id="fvBA"},gFSL:function(e,t,n){e.exports={Header:"Header--1Xhtd","List--mobile":"List--mobile--1t3CH","List--tablet":"List--tablet--2FzqS","Title--mobile":"Title--mobile--3L739"}},gcYZ:function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-homeImprovement_26b1f143971330b66e3952f5550e9eb5",use:"icon-cat-homeImprovement_26b1f143971330b66e3952f5550e9eb5-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-homeImprovement_26b1f143971330b66e3952f5550e9eb5"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#FF962F" /><path fill="#FFFFFF" d="M7 17.83c0 4.9 4.03 8.87 9 8.87 0-4.9-4.03-8.87-9-8.87m9-7.4c1.38 0 2.5 1.11 2.5 2.47a2.48 2.48 0 0 1-2.5 2.46c-1.38 0-2.5-1.1-2.5-2.46a2.48 2.48 0 0 1 2.5-2.47m-6.4 4.69a2.48 2.48 0 0 0 2.5 2.46c.53 0 1-.16 1.42-.43l-.02.19A2.48 2.48 0 0 0 16 19.8c1.38 0 2.5-1.1 2.5-2.46l-.02-.19c.4.27.89.43 1.42.43 1.38 0 2.5-1.1 2.5-2.46 0-.99-.59-1.82-1.43-2.22a2.45 2.45 0 0 0 1.43-2.22 2.48 2.48 0 0 0-2.5-2.46c-.53 0-1.01.16-1.42.43l.02-.18A2.48 2.48 0 0 0 16 6c-1.38 0-2.5 1.1-2.5 2.46l.02.19c-.4-.27-.89-.43-1.42-.43-1.38 0-2.5 1.1-2.5 2.46 0 .99.59 1.82 1.43 2.22a2.46 2.46 0 0 0-1.43 2.22M16 26.7c4.97 0 9-3.97 9-8.87-4.97 0-9 3.97-9 8.87" /></g></symbol>'});c.a.add(i);t.default=i},gh5H:function(e,t,n){e.exports={"TransactionModalRowIcon-reversed":"TransactionModalRowIcon-reversed--DJr1c",TransactionInfo:"TransactionInfo--21wct",TransactionInfoLabel:"TransactionInfoLabel--1csq2"}},gofQ:function(e,t,n){e.exports={content:"content--xiq3Y",header:"header--3i2Jm"}},"h+Qp":function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-supermarket_83e14c2e3960c6118b267c580542b1b6",use:"icon-cat-supermarket_83e14c2e3960c6118b267c580542b1b6-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-supermarket_83e14c2e3960c6118b267c580542b1b6"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#FD7461" /><path fill="#FFFFFF" d="M10 22a2 2 0 1 0 0 4 2 2 0 0 0 0-4m11 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m6.5-16h-2.56a1 1 0 0 0-1 .88l-.33 2.68a.5.5 0 0 1-.5.44H6a2 2 0 0 0-1.9 2.6l1.55 5A2 2 0 0 0 7.56 19H22a.5.5 0 0 1 0 1H8a.5.5 0 0 0 0 1h14c.8 0 1.46-.64 1.5-1.43v-.03l1.1-9.85.34-2.69h2.56a.5.5 0 0 0 0-1" /></g></symbol>'});c.a.add(i);t.default=i},h2fu:function(e,t,n){"use strict";n.d(t,"d",function(){return f}),n.d(t,"a",function(){return p}),n.d(t,"c",function(){return g}),n.d(t,"e",function(){return v}),n.d(t,"f",function(){return E}),n.d(t,"g",function(){return C});var a=n("44Ds"),r=n.n(a),o=n("drUz"),c=n("+oFf"),i=n.n(c),l=n("7jrE"),s=n.n(l),u=n("zlOS"),d=function(e){return i.a?s.a[e]:Object(u.a)(e)||s.a[e]},m={kids:d("azure"),dailyLife:d("melon"),educationAndTraining:d("blazeOrange"),health:d("pomegranate"),homeAndRealEstate:d("mango"),incomeCat:d("emerald"),activities:d("fuchsia"),excludeFromBudgetCat:d("darkPeriwinkle"),services:d("purpley"),tax:d("lightishPurple"),transportation:d("puertoRico"),goingOutAndTravel:d("weirdGreen"),uncategorized:d("coolGrey")},f=r()(function(e){return Object.keys(o).find(function(t){return o[t]===e})}),p={};for(var h in m){var b={};b.color=m[h],b.name=h,b.id=f(h),b.children={},p[h]=b}var g=function(){return p},v=function(e){if(null===e)return"awaiting";if(void 0===e)return o[0];var t=o[e];return void 0===t?o[0]:t},y=new Map(Object.keys(o).map(function(e){return[e,function(e){for(var t=parseInt(e,10),n=10,a=o[t];!p.hasOwnProperty(a);)a=o[t-=t%n],n*=10;return p[a]}(e)]})),E=function(e){var t=y.get(e);return t&&t.name},C=function(e,t){var n=y.get(t);return Boolean(n&&n.id==e)};Object.keys(o).forEach(function(e){var t=o[e],n=E(e);p[n]&&(p[n].children[e]={name:t,color:p[n].color,id:e})});t.b=y},hIFK:function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-consumerLoan_2bbccf355d8ce92b80d6efbef1294b6b",use:"icon-cat-consumerLoan_2bbccf355d8ce92b80d6efbef1294b6b-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-consumerLoan_2bbccf355d8ce92b80d6efbef1294b6b"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#FD7461" /><path fill="#FFFFFF" d="M10.52 17.73v-1.2h1.15l-.01-.52c0-.2 0-.42.03-.63h-1.17V14.2h1.4a4.38 4.38 0 0 1 4.26-3.2 4.2 4.2 0 0 1 3.65 1.82l-1.39.96c-.64-.82-1.26-1.26-2.3-1.26-1.07 0-1.9.65-2.31 1.68h3.22v1.18h-3.5c-.04.2-.04.4-.04.6 0 .2 0 .38.02.56h3.52v1.19H13.8c.42 1.09 1.28 1.75 2.44 1.75 1 0 1.6-.48 2.3-1.32l1.31.9A4.21 4.21 0 0 1 16.24 21a4.36 4.36 0 0 1-4.36-3.27h-1.36zM16 6a10.01 10.01 0 0 1 0 20c-4.47 0-8.26-2.95-9.54-7H8.6A8 8 0 0 0 24 16a8 8 0 0 0-8-8c-2.3 0-4.36.98-5.82 2.54.22.04.43.14.59.32a1 1 0 0 1-.13 1.4l-3 2.5A1 1 0 0 1 6 14v-4a.99.99 0 1 1 1.96-.2l.17.06A9.97 9.97 0 0 1 16 6z" /></g></symbol>'});c.a.add(i);t.default=i},iDIO:function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-atm_a91697bd66bea1fd5a71766fe8e240cf",use:"icon-cat-atm_a91697bd66bea1fd5a71766fe8e240cf-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-atm_a91697bd66bea1fd5a71766fe8e240cf"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#95999D" /><g fill="#FFFFFF" transform="translate(4 7)"><path d="M17.75 19.4V5.76a1.4 1.4 0 0 0-1.4-1.4h-.64V20.8h.64a1.4 1.4 0 0 0 1.4-1.4" /><path d="M19.93 7.27H20a1.8 1.8 0 0 0 1.82-1.82V4c0-1-.8-1.82-1.82-1.82H4C3 2.18 2.18 3 2.18 4v1.45c0 1 .82 1.82 1.82 1.82h.09v2.18H4a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4h16a4 4 0 0 1 4 4v1.45a4 4 0 0 1-4 4h-.07V7.27z" /><path d="M10.04 18.21a1.09 1.09 0 0 1-2.19 0v-1.08a1.09 1.09 0 0 1 2.19 0v1.08zM7.67 4.36c-.78 0-1.4.63-1.4 1.4V19.4c0 .77.62 1.4 1.4 1.4h5.86V4.36H7.67z" /></g></g></symbol>'});c.a.add(i);t.default=i},irVv:function(e,t,n){e.exports={OptionalInput:"OptionalInput--37jSI"}},iskF:function(e,t,n){e.exports={Select:"Select--1UqU3",Select__Icon:"Select__Icon--2n3lJ"}},ixex:function(e,t,n){e.exports={InputWrapper:"InputWrapper--r-Zkf",Icon:"Icon--37VGp",ResetIcon:"ResetIcon--1dL1n",SearchIcon:"SearchIcon--i3SUe"}},jaQ5:function(e,t,n){e.exports={"Header--fixed":"Header--fixed--1lN6g",HeaderColor_normal:"HeaderColor_normal--2DNMD",HeaderColor_inverted:"HeaderColor_inverted--20DxN","Header--paper":"Header--paper--2FDHN",Reimbursements:"Reimbursements--2knKG",Reimbursements__figure:"Reimbursements__figure--1ydgo",Reimbursements__transactionsList:"Reimbursements__transactionsList--2FDMs",Caption:"Caption--18J0v"}},k27I:function(e,t,n){e.exports={FakeCategoryIcon:"FakeCategoryIcon--oKsuw"}},kFXk:function(e,t,n){n("MEyw"),n("xM0x")},kGy0:function(e,t,n){var a={"./en.json":"8WAw","./fr.json":"H488","./nl_NL.json":"k3lE"};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id="kGy0"},ktli:function(e,t,n){e.exports={no_padding:"no_padding--1725g"}},lpzy:function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-transportation_3bab8be775b4e0bbdcdccb0cb565c033",use:"icon-cat-transportation_3bab8be775b4e0bbdcdccb0cb565c033-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-transportation_3bab8be775b4e0bbdcdccb0cb565c033"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#4DCEC5" /><path fill="#FFFFFF" d="M14.5 13h-.7l-.85 1.72a.5.5 0 0 1-.67.23.5.5 0 0 1-.23-.67l1-2a.5.5 0 0 1 .45-.28h1a.5.5 0 0 1 0 1m13 6a.5.5 0 0 1 0 1h-2.3a2.74 2.74 0 0 0-2.7-3.25A2.75 2.75 0 0 0 19.8 20h-8.6a2.74 2.74 0 0 0-2.7-3.25A2.75 2.75 0 0 0 5.8 20H4.5a.5.5 0 0 1-.5-.5V16c0-1.1.9-2 2-2h3.69l1.86-3.72A.5.5 0 0 1 12 10h9.5c.19 0 .36.1.45.28L23.8 14H25a2 2 0 0 1 2 2v3h.5zm-19-1.75a2.25 2.25 0 1 1 0 4.5 2.25 2.25 0 0 1 0-4.5zm14 0a2.25 2.25 0 1 1 0 4.5 2.25 2.25 0 0 1 0-4.5z" /></g></symbol>'});c.a.add(i);t.default=i},mByF:function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-restaurantsAndBars_a0bed47e0d9d9c52c8dfda102dcdac4d",use:"icon-cat-restaurantsAndBars_a0bed47e0d9d9c52c8dfda102dcdac4d-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-restaurantsAndBars_a0bed47e0d9d9c52c8dfda102dcdac4d"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#40DE8E" /><path fill="#FFFFFF" d="M23.5 19.4c-.01-6.3-1.08-13.46-2.74-15.04A1 1 0 0 0 19 5v22a1 1 0 1 0 2 0v-7h2.01a.5.5 0 0 0 .49-.6M16 4a1 1 0 0 0-1 1v4.5a2 2 0 0 1-1 1.72V5a1 1 0 1 0-2 0v6.22a2 2 0 0 1-1-1.72V5a1 1 0 1 0-2 0v4.5a4 4 0 0 0 3 3.87V27a1 1 0 1 0 2 0V13.37a4 4 0 0 0 3-3.87V5a1 1 0 0 0-1-1" /></g></symbol>'});c.a.add(i);t.default=i},n6J5:function(e,t){e.exports="/img/timeline_mobile_en.0f4ace6755128e27a825e031b0480a71.svg"},nDne:function(e,t,n){"use strict";n.d(t,"o",function(){return Y}),n.d(t,"e",function(){return J}),n.d(t,"m",function(){return Z}),n.d(t,"j",function(){return X}),n.d(t,"g",function(){return $}),n.d(t,"h",function(){return ee}),n.d(t,"n",function(){return ne}),n.d(t,"f",function(){return re}),n.d(t,"i",function(){return oe}),n.d(t,"k",function(){return ce}),n.d(t,"l",function(){return ie}),n.d(t,"a",function(){return le}),n.d(t,"p",function(){return se}),n.d(t,"d",function(){return ue}),n.d(t,"c",function(){return de});var a=n("MVZn"),r=n.n(a),o=n("ANjH"),c=n("G4qV"),i=n("9WoD"),l=n.n(i),s=n("cPJV"),u=n.n(s),d=n("yNUO"),m=n.n(d),f=n("Vggm"),p=n.n(f),h=n("oHY+"),b=n("T1IG"),g=n("J2m7"),v=n.n(g),y=n("QVEU"),E=n.n(y),C=(n("RBan"),n("xweI")),k=n.n(C),_=n("o0o1"),w=n.n(_),O=n("yXPU"),x=n.n(O),S=n("SH7X"),j=n.n(S),T=n("mwIZ"),A=n.n(T),N=n("7tbW"),M=n.n(N),I=n("67rm"),B=n("1SZb"),F=n("nM41"),L=n("YcbG"),R=function(e,t){return r()({},e,{accounts:e.accounts.filter(function(e){return e!==t.id})})},D=function(){var e=x()(w.a.mark(function e(t,n){var a,r,o,c,i;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.stackClient.collection(b.l),o=[];case 2:if(void 0!==r&&100!==r){e.next=14;break}return e.next=5,a.find({account:n._id});case 5:if(c=e.sent,i=c.data,!((r=i.length)>0)){e.next=12;break}return e.next=11,a.destroyAll(i);case 11:o.push.apply(o,i);case 12:e.next=2;break;case 14:return e.abrupt("return",o);case 15:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),P=function(){var e=x()(w.a.mark(function e(t,n){var a,r;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.query(Object(S.Q)(b.d));case 2:return a=e.sent.data,r=a.map(function(e){return R(e,n)}),e.next=6,t.saveAll(r);case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),z=function(){var e=x()(w.a.mark(function e(t,n,a){var r,o,c,i,l,s,u,d,m;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=M()(a.map(function(e){return A()(e,"relationships.recurrence.data._id")})).filter(Boolean),e.next=3,t.query(Object(S.Q)(b.i).getByIds(r));case 3:o=e.sent,c=o.data,i=!0,l=!1,s=void 0,e.prev=8,u=c[Symbol.iterator]();case 10:if(i=(d=u.next()).done){e.next=17;break}return m=d.value,e.next=14,Object(B.c)(t,m);case 14:i=!0,e.next=10;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(8),l=!0,s=e.t0;case 23:e.prev=23,e.prev=24,i||null==u.return||u.return();case 26:if(e.prev=26,!l){e.next=29;break}throw s;case 29:return e.finish(26);case 30:return e.finish(23);case 31:case"end":return e.stop()}},e,null,[[8,19,23,31],[24,,26,30]])}));return function(t,n,a){return e.apply(this,arguments)}}(),q=function(){var e=x()(w.a.mark(function e(t,n){var a,r,o;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(L.b)(),r=I.a.info(a("DeletingAccount.related-data.deleting"),{duration:1/0}),e.next=4,D(t,n);case 4:return o=e.sent,e.next=7,P(t,n);case 7:return e.next=9,z(t,n,o);case 9:return e.next=11,Object(F.a)(t);case 11:I.a.removeNotification(r),I.a.success(a("DeletingAccount.related-data.successfully-deleted"));case 13:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),G=function(){var e=x()(w.a.mark(function e(t,n){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t,n);case 2:return e.next=4,Object(F.a)(t);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}();window.onAccountDelete=q,j.a.registerHook(b.a,"before:destroy",q),j.a.registerHook(b.d,"before:destroy",G);var H=n("x2ws"),V=n("J0QW"),U=p.a.namespace("filters"),Y=function(e){return m()(e,4===e.length?"YYYY":"YYYY-MM")},Q=function(e){return e&&e.substr(0,7)},W=function(e){return e&&e.substr(0,4)},K=function(e){return e instanceof Date},J=function(e,t,n){var a,r=t.length;if("string"==typeof t){if(4===r){var o=W;a=function(e){return o(e)===t}}else if(7===r){var c=Q;a=function(e){return c(e)===t}}}else{if(2!==t.length||!K(t[0])||!K(t[1]))throw new Error("Invalid period: "+JSON.stringify(t));a=function(e){return l()(m()(e),t[0],t[1])}}var i=n||H.g;return e.filter(function(e){var t=i(e);return!!t&&a(t)})},Z=function(e){return e.filters&&e.filters.period},X=Object(c.a)([h.b,h.d,function(e){return e.filters&&e.filters.filteringDoc}],function(e,t,n){if(!n)return null;switch(n._type){case b.a:return e[n._id]||n;case b.d:return t[n._id]||n;default:return n}}),$=Object(c.a)([h.a,X,h.c],function(e,t,n){var a=e.map(function(e){return e._id});if(!t)return a;var r=t._type,o=t._id;if(r===b.a)return a.indexOf(o)>-1?[o]:a;if(r===b.d){var c=v()(n,{_id:o});if(!c)return a;var i=c.accounts.raw;return i||a}return Array.isArray(t)?t:(U("warn","The filtering doc '".concat(t,"' doesn't have any type.")),a)}),ee=Object(c.a)([$,h.a],function(e,t){var n=E()(e);return t.filter(function(e){return n[e._id]})}),te=function(e){return-new Date(Object(H.g)(e))},ne=Object(c.a)([h.f,$],function(e,t){var n=e;return t&&(n=function(e,t){return e.filter(function(e){return e&&-1!==t.indexOf(e.account.raw||e.account)})}(e,t)),k()(n,te)}),ae=function(e){var t=Object(H.c)(e);return t||Object(H.g)(e)},re=Object(c.a)([function(e,t){return t&&t.location.pathname}],function(e){if(e&&e.startsWith("/analysis/categories"))return ae}),oe=Object(c.a)([ne,Z,re],function(e,t,n){return J(e,t,n)}),ce=Object(c.a)([h.f],function(e){return e.filter(V.f)}),ie=Object(c.a)([ce,Z],function(e,t){return J(e,t)}),le=function(e){return{type:"FILTER_BY_PERIOD",period:e}},se=function(){return{type:"RESET_FILTER_BY_DOC"}},ue=function(e){return{type:"FILTER_BY_DOC",doc:e&&(e.length?e:Object(S.dehydrate)(e))}},de=function(e){return{type:"FILTER_BY_DOC",doc:e.map(function(e){return e._id})}},me=function(){return Q(u()(new Date))};t.b=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){return t.reduce(function(e,t){return t(e,n)},e)}}(Object(o.combineReducers)({period:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILTER_BY_PERIOD":return t.period;default:return e}},filteringDoc:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FILTER_BY_DOC":return t.doc||e;case"RESET_FILTER_BY_DOC":return null;default:return e}}}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.account;return"DESTROY_ACCOUNT"===n&&e.filteringDoc&&e.filteringDoc.id===a.id?r()({},e,{filteringDoc:null}):e})},nKAI:function(e,t,n){e.exports={WarningsModal:"WarningsModal--3z0fa",WarningsModal__title:"WarningsModal__title--1gJCH"}},nM41:function(e,t,n){"use strict";n.d(t,"b",function(){return D}),n.d(t,"h",function(){return P}),n.d(t,"c",function(){return z}),n.d(t,"g",function(){return q}),n.d(t,"e",function(){return G}),n.d(t,"f",function(){return H}),n.d(t,"d",function(){return V}),n.d(t,"j",function(){return U}),n.d(t,"i",function(){return Q}),n.d(t,"a",function(){return W});var a=n("MVZn"),r=n.n(a),o=n("lSNA"),c=n.n(o),i=n("RIqP"),l=n.n(i),s=n("o0o1"),u=n.n(s),d=n("yXPU"),m=n.n(d),f=n("FyPc"),p=n.n(f),h=n("6ajc"),b=n.n(h),g=n("bt/X"),v=n.n(g),y=n("mwIZ"),E=n.n(y),C=n("QkVN"),k=n.n(C),_=n("noZS"),w=n.n(_),O={_type:"io.cozy.bank.settings",_id:"configuration",id:"configuration",autogroups:{processedAccounts:[]},linkMyselfToAccounts:{processedAccounts:[]},notifications:{lastSeq:0,balanceLower:[{id:0,value:100,enabled:!1}],balanceGreater:[{id:0,value:1e3,enabled:!1}],transactionGreater:[{id:0,value:600,enabled:!0}],healthBillLinked:{enabled:!0},lateHealthReimbursement:{value:30,enabled:!1},delayedDebit:[{id:0,enabled:!1,value:2}],amountCensoring:{enabled:!1}},categoryBudgetAlerts:[],billsMatching:{billsLastSeq:"0",transactionsLastSeq:"0"},appSuggestions:{lastSeq:0},community:{localModelOverride:{enabled:!0}},categorization:{lastSeq:0},showIncomeCategory:!0},x=n("Vggm"),S=n.n(x),j=n("T1IG"),T=n("SH7X"),A=n("/MKj"),N=n("KGD5"),M=n("0hMs"),I=n("90fL"),B=n("buk/"),F=n("BJ98"),L=n.n(F),R=n("x5Q+"),D=(S.a.namespace("settings.helpers"),function(e){return k()({},O,e)}),P=function(e){return e.notifications||e.autogroups||e.linkMyselfToAccounts||e.categoryBudgetAlerts||e.billsMatching||e.appSuggestions},z=function(e){var t=e&&e.data&&e.data.find(P);return D(t)},q=function(e,t,n){var a,r,o,c=e.filter(function(e){return e.enabled}),i=function(e,t){var n={},a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done);a=!0){var l=c.value,s=t(l);if(s){var u=!0,d=!1,m=void 0;try{for(var f,p=s[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var h=f.value;n[h]=n[h]||[],n[h].push(l)}}catch(b){d=!0,m=b}finally{try{u||null==p.return||p.return()}finally{if(d)throw m}}}}}catch(b){r=!0,o=b}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(n,I.b),s=v()(c,R.c),u=v()(s[j.d],R.d),d=v()(s[j.a],R.d),m=s[void 0]||[],f={},h=!0,g=!1,y=void 0;try{for(var E,C=t[Symbol.iterator]();!(h=(E=C.next()).done);h=!0){var k=E.value,_=b()(i[k._id]||[],function(e){return u[e._id]}).filter(Boolean),w=d[k._id]||[];f[k._id]=(a=[].concat(l()(m),l()(w),l()(_)),r=R.f,o=void 0,(o=p()(a,r))?r(o):-1/0)}}catch(O){g=!0,y=O}finally{try{h||null==C.return||C.return()}finally{if(g)throw y}}return f},G=function(e,t){return E()(e,["notifications",t])},H=function(e,t){if(!e||0===e.length)return null;var n=e.find(P);return G(n,t)},V=function(e){var t=H(e,"lateHealthReimbursement");return t&&t.value||30},U=function(e){return L()(Object(B.translate)(),Object(A.connect)(function(t,n){return c()({},e,function(e){return function(e,t){if(!e)return null;switch(e._type){case j.a:return Object(M.e)(e,t);case j.d:return Object(I.d)(e,t);default:return""}}(Object(N.getDocumentFromState)(t,e._type,e._id),n.t)})}))},Y=/\*(.*?)\*/g,Q=function(e){return e.replace(Y,function(e){return"<b>"+e.slice(1,-1)+"</b>"})},W=function(){var e=m()(u.a.mark(function e(t){var n,a,o,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.queryAll(Object(T.Q)(j.a));case 2:return e.next=4,t.queryAll(Object(T.Q)(j.d));case 4:return e.next=6,t.queryAll(Object(T.Q)(j.j));case 6:if(n=e.sent,(a=z(n))._rev){e.next=11;break}return console.info("No need to update notification settings, settings have not been saved yet"),e.abrupt("return");case 11:return o=[],(c=r()({},a)).notifications=w()(a.notifications,function(e,n){var a=function(e){var a=e.accountOrGroup;if(!a)return e;var c=a._type,i=t.getDocumentFromState(c,a._id);return!i||i.deleted?(console.info("Disabling notification ".concat(n,":").concat(e.id," since ").concat(c," has been removed")),o.push(e),r()({},e,{accountOrGroup:null,enabled:!1})):e};return Array.isArray(e)?e.map(a):a(e)}),e.next=16,t.save(c);case 16:return e.abrupt("return",o);case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},"nTK/":function(e,t,n){e.exports={Pin__button:"Pin__button--6yJ_G","Pin__button--ios":"Pin__button--ios--3jIwo","Pin__button--text":"Pin__button--text--nSqeS",PinKeyboard:"PinKeyboard--iXKxc",PinKeyboard__top:"PinKeyboard__top--3x-OB",PinKeyboard__bottom:"PinKeyboard__bottom--1hCZZ",PinKeyboard__topMessage:"PinKeyboard__topMessage--3Tafo",PinKeyboard__keyboard:"PinKeyboard__keyboard--33riy",PinWrapper:"PinWrapper--2DEoN","PinWrapper--success":"PinWrapper--success--11nOc",Pin__dots:"Pin__dots--RUejx",Pin__dot:"Pin__dot--PFLL2",Pin__letters:"Pin__letters--2Z_QV",Pin__error:"Pin__error--rWyga",Pin__FingerprintChoice:"Pin__FingerprintChoice--3sm9w",Pin__FingerprintChoice__top:"Pin__FingerprintChoice__top--1rXu3",Pin__BackButton:"Pin__BackButton--2yAVX"}},ne8c:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return d});var a=n("MVZn"),r=n.n(a),o=n("SH7X"),c=n.n(o),i=n("T1IG"),l=c.a.fetchPolicies.olderThan(3e4),s=function(e){return Object(o.Q)(i.l).where({"relationships.recurrence.data._id":e._id})},u=function(e){return Object(o.Q)(i.l).where({"relationships.recurrence.data._id":{$in:e.map(function(e){return e._id})}})},d=function(e){var t=e.bundle;return{query:function(){var e=s(t);return e.indexFields(["relationships.recurrence.data._id","date"]).sortBy([{"relationships.recurrence.data._id":"desc"},{date:"desc"}]).where(r()({},e.selector,{date:{$gt:null}})).UNSAFE_noLimit().include(["bills","account","reimbursements","recurrence"])},as:"bundle-transactions-".concat(t._id),fetchPolicy:l}}},"oHY+":function(e,t,n){"use strict";n.d(t,"k",function(){return _}),n.d(t,"j",function(){return w}),n.d(t,"a",function(){return A}),n.d(t,"e",function(){return N}),n.d(t,"f",function(){return M}),n.d(t,"g",function(){return I}),n.d(t,"h",function(){return L}),n.d(t,"i",function(){return R}),n.d(t,"c",function(){return D}),n.d(t,"d",function(){return P}),n.d(t,"b",function(){return z});var a=n("RIqP"),r=n.n(a),o=n("MVZn"),c=n.n(o),i=n("QVEU"),l=n.n(i),s=n("Y+p1"),u=n.n(s),d=n("G4qV"),m=n("EsgF"),f=n("SH7X"),p=n("T1IG"),h=n("90fL"),b=n("0hMs"),g=n("nM41"),v=n("4u3R"),y=Object(d.b)(m.a,function(e,t){return e&&t&&e.lastUpdate===t.lastUpdate}),E=function(e){var t=Object(v.a)(),n=e.definition&&e.definition.doctype,a=t.hydrateDocuments(n,e.data);return c()({},e,{data:a})},C=function(e){return function(t){return Object(f.getQueryFromState)(t,e)}},k=function(e){return y([C(e)],E)},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.hydrated?k(e):C(e)},w=function(e,t){return y([_(e,t)],function(e){return e&&e.data||[]})},O=Object(d.a)(function(e){return c()({},e.cozy.documents[p.l])},function(e){var t=Object(v.a)(),n=Object.values(e||{});return t.hydrateDocuments(p.l,n)},{memoizeOptions:{equalityCheck:function(e,t){return u()(e,t)}}}),x=Object(d.a)(O,function(e){return e.filter(function(e){return!!e.label})}),S=w("groups",{hydrated:!0}),j=w("settings",{hydrated:!0}),T=Object(d.a)(j,function(e){return Object(g.b)(e.find(g.h))}),A=w("accounts"),N=w("recurrence",{hydrated:!0}),M=Object(d.a)(x,function(e){return e.filter(Boolean)}),I=Object(d.a)(M,function(e){return Object(b.a)(e)}),B=Object(d.a)([A,I],function(e,t){return[].concat(r()(e),r()(t))}),F=Object(d.a)(S,function(e){return e.filter(h.e)}),L=Object(d.a)([B,F],function(e,t){return 0===t.length?Object(h.a)(e,{virtual:!0}):Object(h.a)(e.filter(b.m),{virtual:!0})}),R=Object(d.a)([T,A,S],function(e,t,n){var a=Object(g.e)(e,"balanceLower");return Object(g.g)(a,t,n)}),D=Object(d.a)([S,L],function(e,t){return[].concat(r()(e),r()(t))}),P=Object(d.a)(D,function(e){return l()(e,"_id")}),z=Object(d.a)(A,function(e){return l()(e,"_id")})},of69:function(e,t,n){e.exports={AccountSwitch__Select:"AccountSwitch__Select--n3jEW"}},"p+c2":function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-goingOutCulture_e522b42f8813147947d731fdd1dc810d",use:"icon-cat-goingOutCulture_e522b42f8813147947d731fdd1dc810d-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-goingOutCulture_e522b42f8813147947d731fdd1dc810d"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#40DE8E" /><path fill="#FFFFFF" d="M25.58 14c.12.33.22.66.29 1H24v3h1.75l-.06.2-.47.8H23v-4h-5v3h2v1h-3v-4h-5v3h2v1h-3v-4H6.13c.07-.34.17-.67.29-1h19.16zm-.44-1H6.86A9.46 9.46 0 0 1 11 9V7h-1V5h12v2h-1v2a9.46 9.46 0 0 1 4.14 4zm-.51 7l-.6 1H7.97l-.59-1H9v-3H7v-1h3v4h5v-3h-2v-1h3v4h5v-3h-2v-1h3v4h2.63zm1.32-3H25v-1h1a5.74 5.74 0 0 1-.05 1zm-19.7 1H8v1H6.78l-.47-.8a6.39 6.39 0 0 1-.06-.2zm17.2 4l-2.95 5h-9l-2.95-5h14.9z" /></g></symbol>'});c.a.add(i);t.default=i},pBFV:function(e,t){e.exports="/img/transfer-done.952c792c91ee5a8b70e025e85bf4938a.jpg"},pJWm:function(e,t,n){e.exports={Table:"Table--3AiSN",inverted:"inverted--j7D79","Table-td-secondary":"Table-td-secondary--TOCs_",Table__Row:"Table__Row--H1Vty",Table__Cell:"Table__Cell--1n9w5","Table__Cell--main":"Table__Cell--main--33KD2","Table__Row--nav":"Table__Row--nav--1nFEU"}},pJw3:function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-goingOutAndTravel_66949170f61c593b0df6f13f63f9b758",use:"icon-cat-goingOutAndTravel_66949170f61c593b0df6f13f63f9b758-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-goingOutAndTravel_66949170f61c593b0df6f13f63f9b758"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#40DE8E" /><path fill="#FFFFFF" d="M9.64 10.25a.5.5 0 0 1 0-.92l3.7-1.53a.5.5 0 0 1 .38 0l5.17 2.14-4.88 2.12-4.37-1.8zm18.12-.3a2.5 2.5 0 0 1-1.36 3.26l-4.53 1.69-3.9 7.82a.5.5 0 0 1-.23.23l-4 2a.5.5 0 0 1-.7-.62l2.6-6.95-6.44 2.59a.5.5 0 0 1-.54-.12l-4.5-4.5a.5.5 0 0 1 .16-.81l3.5-1.5a.5.5 0 0 1 .42.01l2.79 1.4L24.48 8.6c1.28-.54 2.76.1 3.28 1.35z" /></g></symbol>'});c.a.add(i);t.default=i},pZg0:function(e,t){e.exports={name:"Banks",version:"1.51.0",name_prefix:"Cozy",slug:"banks",registry_namespace:"banks",icon:"icon-banks.svg",description:"The banking application for Cozy",category:"cozy",licence:"AGPL-3.0",source:"git://github.com/cozy/cozy-banks.git",type:"webapp",developer:{name:"Cozy Cloud",url:"https://cozy.io"},default_locale:"en",locales:{en:{short_description:"Cozy Banks is the personal financial management application available on Cozy.",long_description:"Cozy Banks is the all-in-one personal data banking application to manage and control your money\nAll Cozy Banks is free\n- Automatic categorisation of your transactions\n- Simple graph to balances follow-up (New)\n- Smart notifications (New)\n- Multi-bank synchronisation\n- Personal Financial Management\n- Unlimited historic\n- Privacy by design application: 100% control of your personal finances\n\nMAIN FEATURES FOR MORE CONTROL AND SERVICES\n- Detailed overview of your finances\nYour transactions are automatically categorised and even more as you can re-categorise if need be. In-depth understand of your finances with smart graphs\n- All your bank accounts in one place - even different banks\nUnlimited history for all your transactions.\nReal difference with your actuel bank application.\n\nCheck out the list of 25+ banks and account types available in your Cozy:\nAxa Banque, Banque Populaire, BforBank, BNP Paribas, Boursorama, Bred, Carrefour Banque, Caisse d’Epargne, Casden, CIC, Crédit Agricole, Crédit Coopératif, Crédit Maritime, Crédit Mutuel, Crédit du Nord & banques du groupe, Crédit Mutuel, Fortuneo, HelloBank!, HSBC, ING Direct, LCL, Monabanq, La Banque Postale, Société Générale, Société Marseillaise de Crédit\n- One-click follow up of your health expenses\nCheck out directly in one place all your health expenses and be notified in real-time once reimbursed\n- Smart notifications\nCozy Banks warns you when something important occurs on your bank accounts\n- Magic link between your bills and expenses\nCozy Banks imports and associates automatically your bills to your expenses.\nAWARDS\n- Award-Winning Innovation Grand Prix - Ville de Paris 2018\n- Best Secure Data Service - Disruptive Night - 2018\n- Finance Innovation Label - 2018\nSAFE AND SECURE\n- Encrypted storage, connections and credentials\n- Two-factor authentication\n- Hosting in France \n- User is king\n- Using technology of our provider Budget Insight\n- Open source\n- Decentralized model in opposition to the current GAFA model\n- Cozy Cloud is a French company\nMore information available on https://help.cozy.io/article/268-all-my-data-in-a-secure-place",changes:""},fr:{short_description:"Cozy Banks est l’application gratuite et sécurisée pour gérer votre argent et tous vos comptes bancaires.",long_description:"Avec Cozy Banks, vous pouvez facilement :\n- Regrouper tous vos comptes même issus de banques différentes\n- Catégoriser automatiquement vos dépenses : revenus, loisirs, santé, logement... avec la possibilité de re-catégoriser si nécessaire\n- Suivre l’évolution des soldes de vos différents comptes bancaires (Nouveauté)\n- Paramétrer vos alertes en temps réel en cas de risque de solde négatif ou entrée d’argent importante\n- Accéder à une vision d’ensemble de toutes vos dépenses\n- Accéder directement aux factures des services que vous avez payés grâce à l’importation automatique des données par les connecteurs\n- Suivre vos dépenses et remboursements de santé entre vos différents services et pour tous les membres de la famille\n\nNOS RÉCOMPENSES & PRIX\n- Lauréat Grand Prix de l’Innovation - Catégorie Moonshot 2040 - Ville de Paris - 2018\n- Lauréat d’Or “Sécurité des données” - Disruptive Night - 2018\n- Label Finance Innovation - 2018\n\nNOS ENGAGEMENTS & GARANTIES DE SÉCURITÉ\n- Chiffrement des données stockées, connexions et identifiants\n- Isolation des rôles côté serveur\n- Authentification en deux étapes\n- Hébergement en France\n- Utilisateur comme client-roi\n- Solution open-source\n- Modèle décentralisé en rupture avec le modèle économique actuel des GAFA\n- Cozy Banks est développé par Cozy Cloud, entreprise française dont les serveurs sont situés en France\n- Pour plus d'informations sur la sécurité : https://support.cozy.io/category/5-securite\n\nL'application Cozy Banks est connectée à plus de 100 institutions financières : Caisse d’Epargne, Crédit Agricole, Société Générale, Boursorama, Crédit Mutuel, La Banque Postale, LCL, Banque Populaire, HSBC, Axa Banque, Bred, CIC, BforBank, Hello Bank, Fortuneo Banque, ING Direct, Monabanq, Barclays, BNP Paribas...",changes:""}},langs:["en","fr"],screenshots:["screenshots/fr/screenshot1.png","screenshots/fr/screenshot2.png","screenshots/fr/screenshot3.png","screenshots/fr/screenshot4.png","screenshots/fr/screenshot5.png"],platforms:[{type:"ios",url:"https://itunes.apple.com/us/app/cozy-banks/id1349814380"},{type:"android",url:"https://play.google.com/store/apps/details?id=io.cozy.banks.mobile"}],editor:"Cozy",tags:["bank","banks","money","account"],routes:{"/":{folder:"/",index:"index.html",public:!1},"/public":{folder:"/public",public:!0}},services:{onOperationOrBillCreate:{type:"node",file:"onOperationOrBillCreate.js",trigger:"@event io.cozy.bills:CREATED",debounce:"75s"},categorization:{type:"node",file:"categorization.js",comment:"This service must be called programmatically from konnectors. See https://github.com/cozy/cozy-banks/blob/master/docs/services.md for more information."},recurrence:{type:"node",file:"recurrence.js",trigger:"@event io.cozy.bank.operations:CREATED,UPDATED",debounce:"1m"},autogroups:{type:"node",file:"autogroups.js",trigger:"@event io.cozy.bank.accounts:CREATED",debounce:"5s"},budgetAlerts:{type:"node",file:"budgetAlerts.js",comment:"Service is run inside onOperationOrBillCreate. The service described here is for diagnosis/debug."},linkMyselfToAccounts:{type:"node",file:"linkMyselfToAccounts.js",trigger:"@event io.cozy.bank.accounts:CREATED",debounce:"5s"},konnectorAlerts:{type:"node",file:"konnectorAlerts.js",trigger:"@event io.cozy.jobs:UPDATED:konnector:worker",debounce:"60s"}},notifications:{"balance-lower":{description:"Alert the user when his account balance is lower than a certain value",collapsible:!0,stateful:!1,multiple:!1,default_priority:"normal",templates:{}},"balance-greater":{description:"Alert the user when his account balance is greater than a certain value",collapsible:!0,stateful:!1,multiple:!1,default_priority:"normal",templates:{}},"health-bill-linked":{description:"Alert the user when a health bill has been linked to a health expense",collapsible:!1,stateful:!1,multiple:!1,default_priority:"normal",templates:{}},"transaction-greater":{description:"Alert the user when a transaction amount is greater than a certain value",collapsible:!1,stateful:!1,multiple:!1,default_priority:"normal",templates:{}},"late-health-reimbursement":{description:"Alert the user when a health reimbursement is late",collapsible:!1,stateful:!1,multiple:!1,default_priority:"normal",templates:{}},"delayed-debit":{description:"Alert the user when an account balance is going to be negative after delayed debit",collapsible:!1,stateful:!1,multiple:!1,default_priority:"normal",templates:{}},"budget-alerts":{description:"Alert the user when sum of expenses goes higher than defined in settings",collapsible:!1,stateful:!1,multiple:!1,default_priority:"normal",templates:{}},"konnector-alerts":{description:"Alert the user when a banking konnector fails",collapsible:!1,stateful:!1,multiple:!1,default_priority:"normal",templates:{}}},permissions:{"bank.groups":{description:"Manage groups of bank accounts",type:"io.cozy.bank.groups",verbs:["GET","POST","PUT","DELETE"]},"bank.accounts":{description:"Used to list your bank accounts",type:"io.cozy.bank.accounts",verbs:["GET","POST","PUT","DELETE"]},"bank.operations":{description:"Used to manage your bank operations",type:"io.cozy.bank.operations",verbs:["GET","POST","PUT","DELETE"]},"bank.settings":{description:"Used to manage your bank settings",type:"io.cozy.bank.settings",verbs:["GET","POST","PUT"]},"bank.recipients":{description:"Show recipients of transfers",type:"io.cozy.bank.recipients"},"bank.recurrence":{description:"Manage your recurring bundles your Cozy",type:"io.cozy.bank.recurrence",verbs:["GET","POST","PUT","DELETE"]},bills:{description:"Manage bills",type:"io.cozy.bills",verbs:["GET","POST","PUT","DELETE"]},notifications:{description:"Used to send notifications",type:"io.cozy.notifications",verbs:["POST"]},apps:{description:"Required by the cozy-bar to display the icons of the apps",type:"io.cozy.apps",verbs:["GET"]},triggers:{description:"Used to configure bank accounts",type:"io.cozy.triggers"},settings:{description:"Required by the cozy-bar to display Claudy and know which applications are coming soon",type:"io.cozy.settings",verbs:["GET"]},errorsreporting:{description:"Allow to report unexpected errors to the support team",type:"cc.cozycloud.errors",verbs:["POST"]},reporting:{description:"Allow to report unexpected errors to the support team",type:"cc.cozycloud.sentry",verbs:["POST"]},autocategorization:{description:"Allow to anonymously send categorized transactions",type:"cc.cozycloud.autocategorization",verbs:["POST"]},konnectors:{description:"Required to know if a konnector is waiting for a manual update",type:"io.cozy.konnectors",verbs:["GET"]},"apps.suggestions":{description:"Used to suggest which apps / connectors might be useful for the user",type:"io.cozy.apps.suggestions",verbs:["GET","POST","PUT"]},jobs:{description:"Used in services to start other services",type:"io.cozy.jobs"},accounts:{description:"Used to create a temporary account for transfers and to configure accounts",type:"io.cozy.accounts"},contacts:{description:"Used to link accounts to contacts",type:"io.cozy.contacts",verbs:["GET","PUT","POST"]},identities:{description:"Used to update the document storing information entered before a transfer",type:"io.cozy.identities",verbs:["GET","PUT","POST"]},tags:{description:"Used to link tags to bank operations",type:"io.cozy.tags",verbs:["GET","POST","PUT","DELETE"]}}}},pqgH:function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-tax_a0226c318268ebd7bbda99a7afb0a013",use:"icon-cat-tax_a0226c318268ebd7bbda99a7afb0a013-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-tax_a0226c318268ebd7bbda99a7afb0a013"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#B449E7" /><path fill="#FFFFFF" d="M27 25a.5.5 0 0 1 0 1H5a.5.5 0 0 1 0-1h22zm-2.5-11h2a.5.5 0 0 1 0 1v8a.5.5 0 0 1 0 1h-2V14zm-3 0h2v10h-2a.5.5 0 0 1 0-1v-8a.5.5 0 0 1 0-1zm-13 0h2a.5.5 0 0 1 0 1v8a.5.5 0 0 1 0 1h-2V14zm-3 0h2v10h-2a.5.5 0 0 1 0-1v-8a.5.5 0 0 1 0-1zm11 0h2a.5.5 0 0 1 0 1v8a.5.5 0 0 1 0 1h-2V14zm-3 0h2v10h-2a.5.5 0 0 1 0-1v-8a.5.5 0 0 1 0-1zM5 13a.5.5 0 0 1-.3-.9l11.02-9a.5.5 0 0 1 .62 0l10.97 9a.5.5 0 0 1-.3.9H5z" /></g></symbol>'});c.a.add(i);t.default=i},qT4P:function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-shoppingECommerce_11a3a44ee07c384f98e838aa2d58f567",use:"icon-cat-shoppingECommerce_11a3a44ee07c384f98e838aa2d58f567-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-shoppingECommerce_11a3a44ee07c384f98e838aa2d58f567"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#FD7461" /><path fill="#FFFFFF" d="M21 17a2 2 0 0 1-1-3.72V15a1 1 0 1 0 2 0v-1.72A2 2 0 0 1 21 17zm-10 0a2 2 0 0 1-1-3.72V15a1 1 0 1 0 2 0v-1.72A2 2 0 0 1 11 17zm1-6a4 4 0 0 1 8 0v1h-8v-1zm13.98 11.7l-1.44-9A2.05 2.05 0 0 0 22.5 12H22v-1a6 6 0 0 0-12 0v1h-.5c-1.02 0-1.89.72-2.04 1.7l-1.44 9c-.19 1.2.78 2.3 2.05 2.3h15.86c1.27 0 2.24-1.1 2.05-2.3z" /></g></symbol>'});c.a.add(i);t.default=i},qUJf:function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-post_5b05698ae8a903840f29f10d0e1ba477",use:"icon-cat-post_5b05698ae8a903840f29f10d0e1ba477-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" id="icon-cat-post_5b05698ae8a903840f29f10d0e1ba477"><defs><polygon id="icon-cat-post_5b05698ae8a903840f29f10d0e1ba477_a" points=".121 0 19.89 0 19.89 7.999 .121 7.999" /><polygon id="icon-cat-post_5b05698ae8a903840f29f10d0e1ba477_c" points="0 .483 20 .483 20 12 0 12" /></defs><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#7F6BEE" /><g transform="translate(6 9)"><mask id="icon-cat-post_5b05698ae8a903840f29f10d0e1ba477_b" fill="white"><use xlink:href="#icon-cat-post_5b05698ae8a903840f29f10d0e1ba477_a" /></mask><path fill="#FFFFFF" d="M11.14 7.7l8.75-6.33A2 2 0 0 0 18 0H2A2 2 0 0 0 .12 1.34L8.95 7.7c.58.4 1.57.4 2.19 0" mask="url(#icon-cat-post_5b05698ae8a903840f29f10d0e1ba477_b)" /><g transform="translate(0 2)"><mask id="icon-cat-post_5b05698ae8a903840f29f10d0e1ba477_d" fill="white"><use xlink:href="#icon-cat-post_5b05698ae8a903840f29f10d0e1ba477_c" /></mask><path fill="#FFFFFF" d="M11.7 6.53a3.1 3.1 0 0 1-1.66.47 3 3 0 0 1-1.67-.48L0 .48V10c0 1.1.9 2 2 2h16a2 2 0 0 0 2-2V.53l-8.3 6z" mask="url(#icon-cat-post_5b05698ae8a903840f29f10d0e1ba477_d)" /></g></g></g></symbol>'});c.a.add(i);t.default=i},qXZZ:function(e,t,n){"use strict";t.a=function(e){return new Promise(function(t){return setTimeout(t,e)})}},qgF2:function(e,t,n){e.exports={Bottom:"Bottom--3G61R"}},qlGH:function(e,t,n){"use strict";n.r(t);var a=n("o0o1"),r=n.n(a),o=n("yXPU"),c=n.n(o),i=n("lwsE"),l=n.n(i),s=n("W8MJ"),u=n.n(s),d=n("a1gu"),m=n.n(d),f=n("Nsbk"),p=n.n(f),h=n("PJYZ"),b=n.n(h),g=n("7W2i"),v=n.n(g),y=n("lSNA"),E=n.n(y),C=n("q1tI"),k=n.n(C),_=n("SH7X"),w=n("RMwM"),O=n("4ihG"),x=n.n(O),S=n("AHTZ"),j=n("qFRD"),T=n("V2U0"),A=n("c8ah"),N=n("buk/");var M=function(){var e=Object(N.useI18n)().t;return k.a.createElement(j.a,{open:!0,content:k.a.createElement("div",{className:"u-ta-center u-pt-3"},k.a.createElement(T.a,{size:"xxlarge"}),k.a.createElement(A.default,{variant:"body1"},e("LogoutModal.message")))})},I=n("e5eR"),B=n("KXWi"),F=k.a.memo(function(e){var t=e.handleMigrateModaleAnswer,n=Object(N.useI18n)().t,a=function(){t(!1)},o=(i=c()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t(!0);case 1:case"end":return e.stop()}},e)})),function(){return i.apply(this,arguments)});var i;return k.a.createElement(I.a,{open:!0,onClose:a,title:n("Migration.title"),content:n("Migration.content"),actions:k.a.createElement(k.a.Fragment,null,k.a.createElement(B.a,{theme:"primary",label:n("Migration.confirm"),onClick:o}),k.a.createElement(B.a,{theme:"secondary",label:n("Migration.cancel"),onClick:a}))})}),L=n("SM7l"),R=n("0mAb"),D=n("5a9I"),P=n.n(D),z=function(){var e=c()(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){var e=c()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.logout();case 3:return e.prev=3,t.emit("logout"),e.finish(3);case 6:case"end":return e.stop()}},e,null,[[0,,3,6]])}));return function(){return e.apply(this,arguments)}}(),e.next=3,R.a.init({appNamePrefix:"Cozy",appName:"Banks",appEditor:"Cozy",appSlug:"banks",cozyClient:t,cozyURL:t.uri,iconPath:P.a,lang:navigator&&navigator.language?navigator.language.slice(0,2):"en",replaceTitleOnMobile:!0,onLogOut:n});case 3:t.on("logout",function(){document.getElementById("coz-bar")&&(document.getElementById("coz-bar").remove(),document.body.setAttribute("style",""))});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),q=n("QIiU"),G=n("ybnb"),H=n.n(G),V=function(e){function t(){var e,n;l()(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=m()(this,(e=p()(t)).call.apply(e,[this].concat(o))),E()(b()(n),"state",{shouldDisplayMigrateDialog:!1}),E()(b()(n),"handleMigrateModaleAnswer",function(){var e=c()(r.a.mark(function e(t){var a,o,c,i,l,s,u,d;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.setState({shouldDisplayMigrateDialog:!1}),!t){e.next=15;break}return a=n.props.client,o=a.links.find(function(e){return e instanceof x.a}),e.next=6,Object(q.a)();case 6:return c=e.sent,i=c.uri,l=Object(q.c)(),s=Object(q.b)(l),u=Object(q.b)("indexeddb"),d=[s,u],e.next=14,o.migrateAdapter({fromAdapter:l,toAdapter:"indexeddb",url:i,plugins:d});case 14:window.location.reload();case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),n}var n;return v()(t,e),u()(t,[{key:"componentDidMount",value:(n=c()(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.f)();case 2:t=e.sent,this.setState({shouldDisplayMigrateDialog:t});case 4:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var e=this.props,t=e.children,n=e.client,a=this.state.shouldDisplayMigrateDialog;return k.a.createElement(k.a.Fragment,null,a&&k.a.createElement(F,{handleMigrateModaleAnswer:this.handleMigrateModaleAnswer}),k.a.createElement(w.a,{protocol:"cozybanks://",appIcon:H.a,appTitle:"Cozy Banks",appSlug:L.a.slug,universalLinkDomain:Object(S.b)(),onAuthenticated:function(){var e=c()(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.history.replace("/balances"),e.next=4,z(n);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),LogoutComponent:M},t))}}]),t}(k.a.Component);t.default=Object(_.withClient)(V)},r0xu:function(e,t,n){e.exports={PendingCategoryIcon:"PendingCategoryIcon--2J_Ih"}},rwLL:function(e,t,n){e.exports={Section:"Section--2obFg"}},s2q6:function(e,t,n){e.exports={KonnectorUpdateInfo:"KonnectorUpdateInfo--2s0z7"}},sTIb:function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-personalCare_f6b1e3040c5bdca89b605f367522b016",use:"icon-cat-personalCare_f6b1e3040c5bdca89b605f367522b016-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-personalCare_f6b1e3040c5bdca89b605f367522b016"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#FD7461" /><path fill="#FFFFFF" d="M24.14 23.18l-4.95-4.95 3.9-3.9a.5.5 0 0 0-.72-.7l-3.89 3.89-.7-.7 3.89-3.9a.5.5 0 0 0-.71-.7l-3.89 3.89-.7-.71 3.88-3.89a.5.5 0 0 0 0-.7.5.5 0 0 0-.7 0l-3.9 3.88-.7-.7 3.89-3.9a.5.5 0 0 0 0-.7.5.5 0 0 0-.7 0l-3.9 3.89-.7-.71 3.88-3.89a.5.5 0 0 0 0-.7.5.5 0 0 0-.7 0l-3.9 3.88-.7-.7 3.89-3.9a.5.5 0 0 0-.7-.7l-3.9 3.89-.7-.7 3.89-3.9a.5.5 0 0 0-.7-.7L10 9.03 8.94 10.1l-.35.35a2 2 0 0 0 0 2.83L21.3 26a2 2 0 1 0 2.83-2.83" /></g></symbol>'});c.a.add(i);t.default=i},tCEp:function(e,t,n){e.exports={ProgressLine:"ProgressLine--37sEz"}},tFCn:function(e,t,n){e.exports={"account-sharing-tooltip":"account-sharing-tooltip--1cDuW"}},tP7f:function(e,t,n){e.exports={"Header--fixed":"Header--fixed--2Ws28",HeaderColor_normal:"HeaderColor_normal--1Wksl",HeaderColor_inverted:"HeaderColor_inverted--3pqen","Header--paper":"Header--paper--2wlUK",TransactionPage__transactions:"TransactionPage__transactions--37GRS"}},tQst:function(e,t){e.exports="/img/timeline_desktop_fr.8a2f9796b9d34fdc21eec489d2f16db1.svg"},tTmR:function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-giftsOffered_37a9c257471e60d70796635ee252bfca",use:"icon-cat-giftsOffered_37a9c257471e60d70796635ee252bfca-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-giftsOffered_37a9c257471e60d70796635ee252bfca"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#FD7461" /><path fill="#FFFFFF" d="M18 10a1 1 0 1 1 2 0 1 1 0 0 1-2 0m-6 0a1 1 0 1 1 2 0 1 1 0 0 1-2 0m12 1a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1h-8v-4h-2v4H7a1 1 0 0 1-1-1v-1c0-1.1.9-2 2-2h2.17a3 3 0 0 1 5.26-2.76v-.01L16 9l.57-.77v.01A3 3 0 0 1 21.83 11H24zM7 23v-6h8v8H9a2 2 0 0 1-2-2zm10-4v-2h8v6a2 2 0 0 1-2 2h-6v-6z" /></g></symbol>'});c.a.add(i);t.default=i},uGsf:function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-activities_9348cc3058cff8988b7ef929c7a776c6",use:"icon-cat-activities_9348cc3058cff8988b7ef929c7a776c6-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-activities_9348cc3058cff8988b7ef929c7a776c6"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#FC4C83" /><path fill="#FFFFFF" d="M15.5 7a4.5 4.5 0 0 0-4.5 4.5.5.5 0 0 1-1 0A5.5 5.5 0 0 1 15.5 6a.5.5 0 0 1 0 1m7.5 5c0-4.64-3.15-8-7.5-8S8 7.36 8 12c0 2.73 2.18 5.54 6.32 8.16l-1.25 2.08a.5.5 0 0 0 .43.76H15v2.5a1.5 1.5 0 0 0 3 0 .5.5 0 0 1 1 0v2a.5.5 0 0 0 1 0v-2a1.5 1.5 0 0 0-3 0 .5.5 0 0 1-1 0V23h1.5a.5.5 0 0 0 .43-.76l-1.25-2.08C20.82 17.54 23 14.73 23 12" /></g></symbol>'});c.a.add(i);t.default=i},uah0:function(e,t,n){e.exports={Table:"Table--16x37",inverted:"inverted--1lpM2","Table-td-secondary":"Table-td-secondary--2fKAC",Table__Row:"Table__Row--3xTHv",Table__Cell:"Table__Cell--2LpTc","Table__Cell--main":"Table__Cell--main--18hAG","Table__Row--nav":"Table__Row--nav--1HTTH",ColumnSizeCheckbox:"ColumnSizeCheckbox--3tN_z",ColumnSizeDesc:"ColumnSizeDesc--279qr",ColumnSizeDate:"ColumnSizeDate--2L915",ColumnSizeAmount:"ColumnSizeAmount--2BYhe",ColumnSizeAction:"ColumnSizeAction--1jqKx",TransactionTable:"TransactionTable--lO-9I","bnk-transaction-mobile-action":"bnk-transaction-mobile-action--3HYrZ","bnk-op-caticon":"bnk-op-caticon--vZ5fG","bnk-op-actions":"bnk-op-actions--1NdNA",TransactionRow:"TransactionRow--DMD4U","TransactionRow--editable":"TransactionRow--editable--1VQYD","TransactionRow--selected":"TransactionRow--selected--GRI8E","bnk-table-desc--kids":"bnk-table-desc--kids--1iioX","bnk-table-desc--dailyLife":"bnk-table-desc--dailyLife--3EeqT","bnk-table-desc--educationAndTraining":"bnk-table-desc--educationAndTraining--3DZfF","bnk-table-desc--health":"bnk-table-desc--health--1tigU","bnk-table-desc--homeAndRealEstate":"bnk-table-desc--homeAndRealEstate--dFCgH","bnk-table-desc--incomeCat":"bnk-table-desc--incomeCat--3AQap","bnk-table-desc--activities":"bnk-table-desc--activities--1pj_f","bnk-table-desc--excludeFromBudgetCat":"bnk-table-desc--excludeFromBudgetCat--bgJvA","bnk-table-desc--services":"bnk-table-desc--services--8BAKy","bnk-table-desc--tax":"bnk-table-desc--tax--XFQBK","bnk-table-desc--transportation":"bnk-table-desc--transportation--1-hyn","bnk-table-desc--goingOutAndTravel":"bnk-table-desc--goingOutAndTravel--2ZOAA","bnk-table-desc--uncategorized":"bnk-table-desc--uncategorized--1-Mum","c-table-body":"c-table-body--2Jtyo","c-table-row":"c-table-row--22HNN","c-table-cell":"c-table-cell--3IUf6","bnk-table-desc":"bnk-table-desc--1LVEE",TransactionRowMobile:"TransactionRowMobile--CMg_S",TransactionRowMobile__actions:"TransactionRowMobile__actions--1OxLu",TransactionRowMobileImg:"TransactionRowMobileImg--2gKJ6",CategoryIconButton:"CategoryIconButton--3sG_O"}},"uf+A":function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-power_3248faa9b2b990960e1fede401f3f5d3",use:"icon-cat-power_3248faa9b2b990960e1fede401f3f5d3-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-power_3248faa9b2b990960e1fede401f3f5d3"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#FF962F" /><polygon fill="#FFFFFF" points="14.857 26 14.857 17.111 8 17.111 17.143 6 17.143 14.889 24 14.889" /></g></symbol>'});c.a.add(i);t.default=i},usti:function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-kidsAllowance_0b50db367c2ff6b496ba16a862032063",use:"icon-cat-kidsAllowance_0b50db367c2ff6b496ba16a862032063-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-kidsAllowance_0b50db367c2ff6b496ba16a862032063"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#1FA8F1" /><circle cx="16" cy="16" r="16" fill="#1FA8F1" /><path fill="#FFFFFF" d="M21.8 13.1a1 1 0 0 1-1.4.2 6.54 6.54 0 0 0-4.33-1.29c-.6 0-1.03-.4-1.07-.93a1 1 0 0 1 .93-1.06l.57-.02c1.83 0 3.64.6 5.1 1.7a1 1 0 0 1 .2 1.4M10 17a2 2 0 1 1 0-4 2 2 0 0 1 0 4m18.01-4a.99.99 0 0 0-.98.99c0 .42-.28.8-.68.93l-.44.1C25.33 10.79 21.12 7.5 16 7.5c-.73 0-1.47.07-2.22.22A4.01 4.01 0 0 0 8.5 6.54a.5.5 0 0 0 0 .86c.7.41 1.21 1.1 1.4 1.87a8.44 8.44 0 0 0-3.75 5.23H4.5a.5.5 0 0 0-.5.5v4c0 .28.22.5.5.5h2.39A9.13 9.13 0 0 0 11 23.35V26a1 1 0 0 0 2 0v-1.9a11.66 11.66 0 0 0 6 0V26a1 1 0 0 0 2 0v-2.67c2.66-1.32 4.53-3.64 4.9-6.35V17l.7-.11a2.96 2.96 0 0 0 2.4-2.9.99.99 0 0 0-.99-.99" /></g></symbol>'});c.a.add(i);t.default=i},"v+ad":function(e,t,n){e.exports={Card:"Card--28ExS"}},x2ws:function(e,t,n){"use strict";n.d(t,"h",function(){return I}),n.d(t,"g",function(){return B}),n.d(t,"f",function(){return F}),n.d(t,"r",function(){return L}),n.d(t,"k",function(){return D}),n.d(t,"q",function(){return P}),n.d(t,"a",function(){return z}),n.d(t,"d",function(){return q}),n.d(t,"o",function(){return G}),n.d(t,"i",function(){return H}),n.d(t,"j",function(){return V}),n.d(t,"s",function(){return U}),n.d(t,"p",function(){return Y}),n.d(t,"w",function(){return Q}),n.d(t,"z",function(){return W}),n.d(t,"c",function(){return J}),n.d(t,"x",function(){return Z}),n.d(t,"b",function(){return X}),n.d(t,"l",function(){return $}),n.d(t,"m",function(){return ee}),n.d(t,"n",function(){return te}),n.d(t,"u",function(){return ae}),n.d(t,"y",function(){return re}),n.d(t,"v",function(){return ce}),n.d(t,"t",function(){return le});var a=n("RIqP"),r=n.n(a),o=n("o0o1"),c=n.n(o),i=n("yXPU"),l=n.n(i),s=n("MVZn"),u=n.n(s),d=(n("J2m7"),n("mVx/"),n("mwIZ")),m=n.n(d),f=(n("D1y2"),n("a9jo")),p=n.n(f),h=n("mgfL"),b=n.n(h),g=n("yNUO"),v=n.n(g),y=n("O8cK"),E=n.n(y),C=n("J0QW"),k=n("1SZb"),_=n("6bKa"),w=n("RlsE");n.d(t,"e",function(){return w.a});var O=/\bPRLV SEPA RECU RCUR\b/,x=/\b\d{5,}\b/g,S=/\b[A-Z]*\d+[A-Z]*\b/g,j=/\b[A-Z\d]{15,}\b/g,T=/[-:++]/g,A=/\s+/g,N=b()("transactions.clean-label")?function(e){return e.replace(O," ").replace(x," ").replace(S,"").replace(T,"").replace(j,"").replace(A," ").trim()}:function(e){return e},M=/(?:^|\s)\S/g,I=function(e){return N(e.label.toLowerCase().replace(M,function(e){return e.toUpperCase()}))},B=function(e){return"CreditCard"===function(e){return m()(e,"account.data.type")}(e)&&e.realisationDate?e.realisationDate:e.date},F=function(e){var t=B(e);if(!t)throw new Error("Cannot get date on transaction ".concat(e.label));return t.slice(0,10)},L=function(e){return e.amount<0},R=function(e){return m()(e,"reimbursements.data")},D=function(e){return m()(e,"reimbursements.data",[]).map(function(e){return e.bill}).filter(Boolean)},P=function(e){var t=R(e);return!!t&&t.length>0},z={noReimbursement:"no-reimbursement",pending:"pending",reimbursed:"reimbursed",late:"late"},q=function(e){return m()(e,"bills.data",[]).filter(Boolean)},G=function(e){return q(e).length>0},H=function(e){if(!L(e))throw new Error("Can't get the reimbursed amount of a debit transaction");if(!P(e))return 0;var t=R(e);return p()(t,function(e){return e.amount})},V=function(e){return Object(C.f)(e)?function(e){return e.reimbursementStatus?e.reimbursementStatus:P(e)?z.reimbursed:z.pending}(e):Object(C.g)(e)?function(e){return e.reimbursementStatus||"pending"}(e):e.reimbursementStatus||"no-reimbursement"},U=function(e,t){if(!Object(C.f)(e))return!1;if(V(e)!==z.pending)return!1;var n=v()(F(e)),a=new Date;return E()(a,n)>t},Y=function(e){return V(e)===z.pending},Q=function(e,t){return u()({},e,{manualCategoryId:t.id})},W=function(){var e=l()(c.a.mark(function e(t,n,a){var r,o,i,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=m()(n,"relationships.recurrence.data"),o={_id:a._id,_type:a._type},n.recurrence.set(o),e.next=5,t.save(n);case 5:if(i=e.sent,l=i.data,!r||r._id===_.a){e.next=10;break}return e.next=10,Object(k.c)(t,r);case 10:return e.abrupt("return",l);case 11:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),K=function(e,t){return e&&t&&e.slice(0,7)==t.slice(0,7)},J=function(e){return K(e.applicationDate,e.date)?null:e.applicationDate},Z=function(){var e=l()(c.a.mark(function e(t,n,a){var r,o,i,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=B(n),o=a,K(r,a)&&(o=""),e.next=5,t.save(u()({},n,{applicationDate:o}));case 5:return i=e.sent,l=i.data,e.abrupt("return",l);case 8:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),X=function(e){var t=e.transactionsByDate,n=e.transactionsByApplicationDate;if(!t||!n)return[];var a=t.filter(function(e){return!e.applicationDate});return[].concat(r()(a),r()(n))},$=function(e){var t;return null===(t=e.tags)||void 0===t?void 0:t.data},ee=function(e){var t;return null===(t=e.tags)||void 0===t?void 0:t.data.map(function(e){return e._id})},te=function(e){var t;return(null===(t=$(e))||void 0===t?void 0:t.length)>=5},ne=function(){var e=l()(c.a.mark(function e(t,n){var a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(a=t.tags)||void 0===a?void 0:a.add(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),ae=function(){var e=l()(c.a.mark(function e(t,n){var a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(a=t.tags)||void 0===a?void 0:a.remove(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),re=function(){var e=l()(c.a.mark(function e(t){var n,a,r,o,i,l,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.client,a=t.transaction,r=t.tagsToRemove,o=t.tagsToAdd,!(r.length>0&&o.length>0)){e.next=11;break}return e.next=4,ae(a,r);case 4:return i=e.sent,l=i.data,s=n.hydrateDocument(l),e.next=9,ne(s,o);case 9:e.next=17;break;case 11:if(!(r.length>0)){e.next=14;break}return e.next=14,ae(a,r);case 14:if(!(o.length>0)){e.next=17;break}return e.next=17,ne(a,o);case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),oe=function(e,t){var n;return null===(n=$(e))||void 0===n?void 0:n.some(function(e){return t.some(function(t){return e._id===t._id})})},ce=function(){var e=l()(c.a.mark(function e(t,n,a){var r,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!oe(n,a)){e.next=10;break}return e.next=3,n.tags.remove(a);case 3:return r=e.sent,o=r.data,e.next=7,t.destroy(o);case 7:return e.abrupt("return",e.sent);case 10:return e.next=12,t.destroy(n);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),ie=function(e,t){var n;return null===(n=function(e){var t;return null===(t=e.transactions)||void 0===t?void 0:t.data}(e))||void 0===n?void 0:n.some(function(e){return t.some(function(t){return e._id===t._id})})},le=function(){var e=l()(c.a.mark(function e(t,n,a){var r,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!ie(n,a)){e.next=10;break}return e.next=3,n.transactions.remove(a);case 3:return r=e.sent,o=r.data,e.next=7,t.destroy(o);case 7:return e.abrupt("return",e.sent);case 10:return e.next=12,t.destroy(n);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}()},"x5Q+":function(e,t,n){"use strict";n.d(t,"f",function(){return i}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return u}),n.d(t,"e",function(){return d}),n.d(t,"b",function(){return m});var a=n("MVZn"),r=n.n(a),o=n("FyPc"),c=n.n(o),i=(n("T1IG"),function(e){return e.value}),l=function(e){return e.accountOrGroup?e.accountOrGroup._type:void 0},s=function(e){return e.accountOrGroup?e.accountOrGroup._id:void 0},u=function(e){return Array.isArray(e)?e:[r()({},e,{id:0})]},d=function(e){return e.id},m=function(e){return 0===e.length?0:d(c()(e,d))+1}},xOU5:function(e,t,n){e.exports={Section:"Section--qDsxd",SubSection:"SubSection--1XRL2"}},xaB5:function(e,t,n){e.exports={BarItem:"BarItem--1Q0X_"}},yJ30:function(e,t){e.exports="/img/transfer-error.81739cda73db9309b4f58bf975ee3856.jpg"},yYpB:function(e,t,n){e.exports={Balance__panelsContainer:"Balance__panelsContainer--2_2KA"}},ybnb:function(e,t){e.exports="/img/icon-banks.3b21dff3d03e7f0b319fb93b5c541784.jpg"},ymJZ:function(e,t,n){var a={"./en/index.js":"Us+F","./es/index.js":"/S0t","./fr/index.js":"LKA2"};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id="ymJZ"},ymXe:function(e,t,n){e.exports={container:"container--2Ia99",content:"content--3_uR5",top:"top--lzrUj",center:"center--2Paxy",bottom:"bottom--365Dr"}},zCkG:function(e,t,n){e.exports={Title:"Title--2I6Zf"}},zOsL:function(e,t,n){e.exports={CategoriesHeader:"CategoriesHeader--fIToZ",NoAccount:"NoAccount--39bHl",NoAccount_container:"NoAccount_container--J5Ppl",NoAccount_box:"NoAccount_box--1ZKSt",NoAccount_chart:"NoAccount_chart--3tX9R",SubcategoryChart:"SubcategoryChart--2Gu0p",NoAccount_empty:"NoAccount_empty--2pzhE",CategoriesHeader__Toggle:"CategoriesHeader__Toggle--cSV4-",normal:"normal--2Ma-d",inverted:"inverted--oUHKE"}},zQJG:function(e,t,n){"use strict";n.r(t);var a=n("4BeY"),r=n.n(a),o=n("IaFt"),c=n.n(o),i=new r.a({id:"icon-cat-homeAndRealEstate_099ca3fde696da023fa2e9abab5249a9",use:"icon-cat-homeAndRealEstate_099ca3fde696da023fa2e9abab5249a9-usage",viewBox:"0 0 32 32",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" id="icon-cat-homeAndRealEstate_099ca3fde696da023fa2e9abab5249a9"><g fill="none" fill-rule="evenodd"><circle cx="16" cy="16" r="16" fill="#FF962F" /><path fill="#FFFFFF" d="M7 14.62l9-9 9 9V26h-7v-7h-4v7H7V14.62zm20.86.04a.5.5 0 0 1 0 .7h-.01a.5.5 0 0 1-.7 0L16 4.2 4.85 15.35a.5.5 0 0 1-.71-.01.5.5 0 0 1 0-.7l11.5-11.5c.2-.19.52-.19.71 0l11.5 11.5.01.02z" /></g></symbol>'});c.a.add(i);t.default=i},zipT:function(e){e.exports=JSON.parse('[{"alpha_2_code":"AF","en_nationality":"Afghan","fr_nationality":"Afghane"},{"alpha_2_code":"AX","en_nationality":"Åland Island"},{"alpha_2_code":"AL","en_nationality":"Albanian","fr_nationality":"Albanaise"},{"alpha_2_code":"DZ","en_nationality":"Algerian","fr_nationality":"Algerienne"},{"alpha_2_code":"AS","en_nationality":"American Samoan"},{"alpha_2_code":"AD","en_nationality":"Andorran","fr_nationality":"Andorrane"},{"alpha_2_code":"AO","en_nationality":"Angolan","fr_nationality":"Angolaise"},{"alpha_2_code":"AI","en_nationality":"Anguillan"},{"alpha_2_code":"AQ","en_nationality":"Antarctic"},{"alpha_2_code":"AG","en_nationality":"Antiguan or Barbudan","fr_nationality":"Antiguaise et barbudienne"},{"alpha_2_code":"AR","en_nationality":"Argentine","fr_nationality":"Argentine"},{"alpha_2_code":"AM","en_nationality":"Armenian","fr_nationality":"Armenienne"},{"alpha_2_code":"AW","en_nationality":"Aruban"},{"alpha_2_code":"AU","en_nationality":"Australian","fr_nationality":"Australienne"},{"alpha_2_code":"AT","en_nationality":"Austrian","fr_nationality":"Autrichienne"},{"alpha_2_code":"AZ","en_nationality":"Azerbaijani, Azeri","fr_nationality":"Azerbaïdjanaise"},{"alpha_2_code":"BS","en_nationality":"Bahamian","fr_nationality":"Bahamienne"},{"alpha_2_code":"BH","en_nationality":"Bahraini","fr_nationality":"Bahreinienne"},{"alpha_2_code":"BD","en_nationality":"Bangladeshi","fr_nationality":"Bangladaise"},{"alpha_2_code":"BB","en_nationality":"Barbadian","fr_nationality":"Barbadienne"},{"alpha_2_code":"BY","en_nationality":"Belarusian","fr_nationality":"Bielorusse"},{"alpha_2_code":"BE","en_nationality":"Belgian","fr_nationality":"Belge"},{"alpha_2_code":"BZ","en_nationality":"Belizean","fr_nationality":"Belizienne"},{"alpha_2_code":"BJ","en_nationality":"Beninese, Beninois","fr_nationality":"Beninoise"},{"alpha_2_code":"BM","en_nationality":"Bermudian, Bermudan"},{"alpha_2_code":"BT","en_nationality":"Bhutanese","fr_nationality":"Bhoutanaise"},{"alpha_2_code":"BO","en_nationality":"Bolivian","fr_nationality":"Bolivienne"},{"alpha_2_code":"BQ","en_nationality":"Bonaire"},{"alpha_2_code":"BA","en_nationality":"Bosnian or Herzegovinian","fr_nationality":"Bosnienne"},{"alpha_2_code":"BW","en_nationality":"Motswana, Botswanan","fr_nationality":"Botswanaise"},{"alpha_2_code":"BV","en_nationality":"Bouvet Island"},{"alpha_2_code":"BR","en_nationality":"Brazilian","fr_nationality":"Bresilienne"},{"alpha_2_code":"IO","en_nationality":"BIOT"},{"alpha_2_code":"BN","en_nationality":"Bruneian","fr_nationality":"Bruneienne"},{"alpha_2_code":"BG","en_nationality":"Bulgarian","fr_nationality":"Bulgare"},{"alpha_2_code":"BF","en_nationality":"Burkinabé","fr_nationality":"Burkinabe"},{"alpha_2_code":"BI","en_nationality":"Burundian","fr_nationality":"Burundaise"},{"alpha_2_code":"CV","en_nationality":"Cabo Verdean","fr_nationality":"Cap-verdienne"},{"alpha_2_code":"KH","en_nationality":"Cambodian","fr_nationality":"Cambodgienne"},{"alpha_2_code":"CM","en_nationality":"Cameroonian","fr_nationality":"Camerounaise"},{"alpha_2_code":"CA","en_nationality":"Canadian","fr_nationality":"Canadienne"},{"alpha_2_code":"KY","en_nationality":"Caymanian"},{"alpha_2_code":"CF","en_nationality":"Central African","fr_nationality":"Centrafricaine"},{"alpha_2_code":"TD","en_nationality":"Chadian","fr_nationality":"Tchadienne"},{"alpha_2_code":"CL","en_nationality":"Chilean","fr_nationality":"Chilienne"},{"alpha_2_code":"CN","en_nationality":"Chinese","fr_nationality":"Chinoise"},{"alpha_2_code":"CX","en_nationality":"Christmas Island"},{"alpha_2_code":"CC","en_nationality":"Cocos Island"},{"alpha_2_code":"CO","en_nationality":"Colombian","fr_nationality":"Colombienne"},{"alpha_2_code":"KM","en_nationality":"Comoran, Comorian","fr_nationality":"Comorienne"},{"alpha_2_code":"CG","en_nationality":"Congolese","fr_nationality":"Congolaise"},{"alpha_2_code":"CD","en_nationality":"Congolese"},{"alpha_2_code":"CK","en_nationality":"Cook Island"},{"alpha_2_code":"CR","en_nationality":"Costa Rican","fr_nationality":"Costaricaine"},{"alpha_2_code":"CI","en_nationality":"Ivorian","fr_nationality":"Ivoirienne"},{"alpha_2_code":"HR","en_nationality":"Croatian","fr_nationality":"Croate"},{"alpha_2_code":"CU","en_nationality":"Cuban","fr_nationality":"Cubaine"},{"alpha_2_code":"CW","en_nationality":"Curaçaoan","fr_nationality":"Curaçaoane"},{"alpha_2_code":"CY","en_nationality":"Cypriot","fr_nationality":"Chypriote"},{"alpha_2_code":"CZ","en_nationality":"Czech","fr_nationality":"Tcheque"},{"alpha_2_code":"DK","en_nationality":"Danish","fr_nationality":"Danoise"},{"alpha_2_code":"DJ","en_nationality":"Djiboutian","fr_nationality":"Djiboutienne"},{"alpha_2_code":"DM","en_nationality":"Dominican","fr_nationality":"Dominiquaise"},{"alpha_2_code":"DO","en_nationality":"Dominican","fr_nationality":"Dominicaine"},{"alpha_2_code":"EC","en_nationality":"Ecuadorian","fr_nationality":"Equatorienne"},{"alpha_2_code":"EG","en_nationality":"Egyptian","fr_nationality":"Egyptienne"},{"alpha_2_code":"SV","en_nationality":"Salvadoran","fr_nationality":"Salvadorienne"},{"alpha_2_code":"GQ","en_nationality":"Equatorial Guinean, Equatoguinean","fr_nationality":"Equato-guineenne"},{"alpha_2_code":"ER","en_nationality":"Eritrean","fr_nationality":"Erythreenne"},{"alpha_2_code":"EE","en_nationality":"Estonian","fr_nationality":"Estonienne"},{"alpha_2_code":"ET","en_nationality":"Ethiopian","fr_nationality":"Ethiopienne"},{"alpha_2_code":"FK","en_nationality":"Falkland Island"},{"alpha_2_code":"FO","en_nationality":"Faroese"},{"alpha_2_code":"FJ","en_nationality":"Fijian","fr_nationality":"Fidjienne"},{"alpha_2_code":"FI","en_nationality":"Finnish","fr_nationality":"Finlandaise"},{"alpha_2_code":"FR","en_nationality":"French","fr_nationality":"Française"},{"alpha_2_code":"GF","en_nationality":"French Guianese"},{"alpha_2_code":"PF","en_nationality":"French Polynesian"},{"alpha_2_code":"TF","en_nationality":"French Southern Territories"},{"alpha_2_code":"GA","en_nationality":"Gabonese","fr_nationality":"Gabonaise"},{"alpha_2_code":"GM","en_nationality":"Gambian","fr_nationality":"Gambienne"},{"alpha_2_code":"GE","en_nationality":"Georgian","fr_nationality":"Georgienne"},{"alpha_2_code":"DE","en_nationality":"German","fr_nationality":"Allemande"},{"alpha_2_code":"GH","en_nationality":"Ghanaian","fr_nationality":"Ghaneenne"},{"alpha_2_code":"GI","en_nationality":"Gibraltar"},{"alpha_2_code":"GR","en_nationality":"Greek, Hellenic","fr_nationality":"Hellenique"},{"alpha_2_code":"GL","en_nationality":"Greenlandic"},{"alpha_2_code":"GD","en_nationality":"Grenadian","fr_nationality":"Grenadienne"},{"alpha_2_code":"GP","en_nationality":"Guadeloupe"},{"alpha_2_code":"GU","en_nationality":"Guamanian, Guambat"},{"alpha_2_code":"GT","en_nationality":"Guatemalan","fr_nationality":"Guatemalteque"},{"alpha_2_code":"GG","en_nationality":"Channel Island"},{"alpha_2_code":"GN","en_nationality":"Guinean","fr_nationality":"Guineenne"},{"alpha_2_code":"GW","en_nationality":"Bissau-Guinean","fr_nationality":"Bissau-Guinéenne"},{"alpha_2_code":"GY","en_nationality":"Guyanese","fr_nationality":"Guyanienne"},{"alpha_2_code":"HT","en_nationality":"Haitian","fr_nationality":"Haïtienne"},{"alpha_2_code":"HM","en_nationality":"Heard Island or McDonald Islands"},{"alpha_2_code":"VA","en_nationality":"Vatican","fr_nationality":"Vaticane"},{"alpha_2_code":"HN","en_nationality":"Honduran","fr_nationality":"Hondurienne"},{"alpha_2_code":"HK","en_nationality":"Hong Kong, Hong Kongese"},{"alpha_2_code":"HU","en_nationality":"Hungarian, Magyar","fr_nationality":"Hongroise"},{"alpha_2_code":"IS","en_nationality":"Icelandic","fr_nationality":"Islandaise"},{"alpha_2_code":"IN","en_nationality":"Indian","fr_nationality":"Indienne"},{"alpha_2_code":"ID","en_nationality":"Indonesian","fr_nationality":"Indonesienne"},{"alpha_2_code":"IR","en_nationality":"Iranian, Persian"},{"alpha_2_code":"IQ","en_nationality":"Iraqi","fr_nationality":"Irakienne"},{"alpha_2_code":"IE","en_nationality":"Irish","fr_nationality":"Irlandaise"},{"alpha_2_code":"IM","en_nationality":"Manx"},{"alpha_2_code":"IL","en_nationality":"Israeli","fr_nationality":"Israélienne"},{"alpha_2_code":"IT","en_nationality":"Italian","fr_nationality":"Italienne"},{"alpha_2_code":"JM","en_nationality":"Jamaican","fr_nationality":"Jamaïcaine"},{"alpha_2_code":"JP","en_nationality":"Japanese","fr_nationality":"Japonaise"},{"alpha_2_code":"JE","en_nationality":"Channel Island"},{"alpha_2_code":"JO","en_nationality":"Jordanian","fr_nationality":"Jordanienne"},{"alpha_2_code":"KZ","en_nationality":"Kazakhstani, Kazakh","fr_nationality":"Kazakhstanaise"},{"alpha_2_code":"KE","en_nationality":"Kenyan","fr_nationality":"Kenyane"},{"alpha_2_code":"KI","en_nationality":"I-Kiribati","fr_nationality":"Kiribatienne"},{"alpha_2_code":"KP","en_nationality":"North Korean","fr_nationality":"Nord-coréenne"},{"alpha_2_code":"KR","en_nationality":"South Korean","fr_nationality":"Sud-coréenne"},{"alpha_2_code":"KW","en_nationality":"Kuwaiti","fr_nationality":"Koweitienne"},{"alpha_2_code":"KG","en_nationality":"Kyrgyzstani, Kyrgyz, Kirgiz, Kirghiz","fr_nationality":"Kirghize"},{"alpha_2_code":"LA","en_nationality":"Lao, Laotian","fr_nationality":"Laotienne"},{"alpha_2_code":"LV","en_nationality":"Latvian","fr_nationality":"Lettone"},{"alpha_2_code":"LB","en_nationality":"Lebanese","fr_nationality":"Libanaise"},{"alpha_2_code":"LS","en_nationality":"Basotho","fr_nationality":"Lesothane"},{"alpha_2_code":"LR","en_nationality":"Liberian","fr_nationality":"Liberienne"},{"alpha_2_code":"LY","en_nationality":"Libyan","fr_nationality":"Libyenne"},{"alpha_2_code":"LI","en_nationality":"Liechtenstein","fr_nationality":"Liechtensteinoise"},{"alpha_2_code":"LT","en_nationality":"Lithuanian","fr_nationality":"Lituanienne"},{"alpha_2_code":"LU","en_nationality":"Luxembourg, Luxembourgish","fr_nationality":"Luxembourgeoise"},{"alpha_2_code":"MO","en_nationality":"Macanese, Chinese"},{"alpha_2_code":"MK","en_nationality":"Macedonian","fr_nationality":"Macedonienne"},{"alpha_2_code":"MG","en_nationality":"Malagasy","fr_nationality":"Malgache"},{"alpha_2_code":"MW","en_nationality":"Malawian","fr_nationality":"Malawienne"},{"alpha_2_code":"MY","en_nationality":"Malaysian","fr_nationality":"Malaisienne"},{"alpha_2_code":"MV","en_nationality":"Maldivian","fr_nationality":"Maldivienne"},{"alpha_2_code":"ML","en_nationality":"Malian, Malinese","fr_nationality":"Malienne"},{"alpha_2_code":"MT","en_nationality":"Maltese","fr_nationality":"Maltaise"},{"alpha_2_code":"MH","en_nationality":"Marshallese","fr_nationality":"Marshallaise"},{"alpha_2_code":"MQ","en_nationality":"Martiniquais, Martinican"},{"alpha_2_code":"MR","en_nationality":"Mauritanian","fr_nationality":"Mauritanienne"},{"alpha_2_code":"MU","en_nationality":"Mauritian","fr_nationality":"Mauricienne"},{"alpha_2_code":"YT","en_nationality":"Mahoran"},{"alpha_2_code":"MX","en_nationality":"Mexican","fr_nationality":"Mexicaine"},{"alpha_2_code":"FM","en_nationality":"Micronesian","fr_nationality":"Micronesienne"},{"alpha_2_code":"MD","en_nationality":"Moldovan","fr_nationality":"Moldave"},{"alpha_2_code":"MC","en_nationality":"Monégasque, Monacan","fr_nationality":"Monegasque"},{"alpha_2_code":"MN","en_nationality":"Mongolian","fr_nationality":"Mongole"},{"alpha_2_code":"ME","en_nationality":"Montenegrin","fr_nationality":"Montenegrine"},{"alpha_2_code":"MS","en_nationality":"Montserratian"},{"alpha_2_code":"MA","en_nationality":"Moroccan","fr_nationality":"Marocaine"},{"alpha_2_code":"MZ","en_nationality":"Mozambican","fr_nationality":"Mozambicaine"},{"alpha_2_code":"MM","en_nationality":"Burmese","fr_nationality":"Birmane"},{"alpha_2_code":"NA","en_nationality":"Namibian","fr_nationality":"Namibienne"},{"alpha_2_code":"NR","en_nationality":"Nauruan","fr_nationality":"Nauruane"},{"alpha_2_code":"NP","en_nationality":"Nepali, Nepalese","fr_nationality":"Nepalaise"},{"alpha_2_code":"NL","en_nationality":"Dutch, Netherlandic","fr_nationality":"Neerlandaise"},{"alpha_2_code":"NC","en_nationality":"New Caledonian"},{"alpha_2_code":"NZ","en_nationality":"New Zealand, NZ","fr_nationality":"Neo-zelandaise"},{"alpha_2_code":"NI","en_nationality":"Nicaraguan","fr_nationality":"Nicaraguayenne"},{"alpha_2_code":"NE","en_nationality":"Nigerien","fr_nationality":"Nigerienne"},{"alpha_2_code":"NG","en_nationality":"Nigerian","fr_nationality":"Nigeriane"},{"alpha_2_code":"NU","en_nationality":"Niuean"},{"alpha_2_code":"NF","en_nationality":"Norfolk Island"},{"alpha_2_code":"MP","en_nationality":"Northern Marianan"},{"alpha_2_code":"NO","en_nationality":"Norwegian","fr_nationality":"Norvegienne"},{"alpha_2_code":"OM","en_nationality":"Omani","fr_nationality":"Omanaise"},{"alpha_2_code":"PK","en_nationality":"Pakistani","fr_nationality":"Pakistanaise"},{"alpha_2_code":"PW","en_nationality":"Palauan","fr_nationality":"Palau"},{"alpha_2_code":"PS","en_nationality":"Palestinian","fr_nationality":"Palestinienne"},{"alpha_2_code":"PA","en_nationality":"Panamanian","fr_nationality":"Panameenne"},{"alpha_2_code":"PG","en_nationality":"Papua New Guinean, Papuan","fr_nationality":"Papouane-neoguineenne"},{"alpha_2_code":"PY","en_nationality":"Paraguayan","fr_nationality":"Paraguayenne"},{"alpha_2_code":"PE","en_nationality":"Peruvian","fr_nationality":"Peruvienne"},{"alpha_2_code":"PH","en_nationality":"Philippine, Filipino","fr_nationality":"Philippine"},{"alpha_2_code":"PN","en_nationality":"Pitcairn Island"},{"alpha_2_code":"PL","en_nationality":"Polish","fr_nationality":"Polonaise"},{"alpha_2_code":"PT","en_nationality":"Portuguese","fr_nationality":"Portugaise"},{"alpha_2_code":"PR","en_nationality":"Puerto Rican","fr_nationality":"Portoricaine"},{"alpha_2_code":"QA","en_nationality":"Qatari","fr_nationality":"Qatarienne"},{"alpha_2_code":"RE","en_nationality":"Réunionese, Réunionnais"},{"alpha_2_code":"RO","en_nationality":"Romanian","fr_nationality":"Roumaine"},{"alpha_2_code":"RU","en_nationality":"Russian","fr_nationality":"Russe"},{"alpha_2_code":"RW","en_nationality":"Rwandan","fr_nationality":"Rwandaise"},{"alpha_2_code":"BL","en_nationality":"Barthélemois"},{"alpha_2_code":"SH","en_nationality":"Saint Helenian"},{"alpha_2_code":"KN","en_nationality":"Kittitian or Nevisian","fr_nationality":"Kittitienne-et-nevicienne"},{"alpha_2_code":"LC","en_nationality":"Saint Lucian","fr_nationality":"Saint-Lucienne"},{"alpha_2_code":"MF","en_nationality":"Saint-Martinoise"},{"alpha_2_code":"PM","en_nationality":"Saint-Pierrais or Miquelonnais"},{"alpha_2_code":"VC","en_nationality":"Saint Vincentian, Vincentian","fr_nationality":"Saint-Vincentaise-et-Grenadine"},{"alpha_2_code":"WS","en_nationality":"Samoan","fr_nationality":"Samoane"},{"alpha_2_code":"SM","en_nationality":"Sammarinese","fr_nationality":"Saint-Marinaise"},{"alpha_2_code":"ST","en_nationality":"São Toméan","fr_nationality":"Santomeenne"},{"alpha_2_code":"SA","en_nationality":"Saudi, Saudi Arabian","fr_nationality":"Saoudienne"},{"alpha_2_code":"SN","en_nationality":"Senegalese","fr_nationality":"Senegalaise"},{"alpha_2_code":"RS","en_nationality":"Serbian","fr_nationality":"Serbe"},{"alpha_2_code":"SC","en_nationality":"Seychellois","fr_nationality":"Seychelloise"},{"alpha_2_code":"SL","en_nationality":"Sierra Leonean","fr_nationality":"Sierra-leonaise"},{"alpha_2_code":"SG","en_nationality":"Singaporean","fr_nationality":"Singapourienne"},{"alpha_2_code":"SX","en_nationality":"Sint Maarten","fr_nationality":"Saint-Martinoise"},{"alpha_2_code":"SK","en_nationality":"Slovak","fr_nationality":"Slovaque"},{"alpha_2_code":"SI","en_nationality":"Slovenian, Slovene","fr_nationality":"Slovene"},{"alpha_2_code":"SB","en_nationality":"Solomon Island","fr_nationality":"Salomonaise"},{"alpha_2_code":"SO","en_nationality":"Somali, Somalian","fr_nationality":"Somalienne"},{"alpha_2_code":"ZA","en_nationality":"South African","fr_nationality":"Sud-africaine"},{"alpha_2_code":"GS","en_nationality":"South Georgia or South Sandwich Islands"},{"alpha_2_code":"SS","en_nationality":"South Sudanese","fr_nationality":"Sud-Soudanaise"},{"alpha_2_code":"ES","en_nationality":"Spanish","fr_nationality":"Espagnole"},{"alpha_2_code":"LK","en_nationality":"Sri Lankan","fr_nationality":"Sri-lankaise"},{"alpha_2_code":"SD","en_nationality":"Sudanese","fr_nationality":"Soudanaise"},{"alpha_2_code":"SR","en_nationality":"Surinamese","fr_nationality":"Surinamaise"},{"alpha_2_code":"SJ","en_nationality":"Svalbard"},{"alpha_2_code":"SZ","en_nationality":"Swazi","fr_nationality":"Swazie"},{"alpha_2_code":"SE","en_nationality":"Swedish","fr_nationality":"Suédoise"},{"alpha_2_code":"CH","en_nationality":"Swiss","fr_nationality":"Suisse"},{"alpha_2_code":"SY","en_nationality":"Syrian","fr_nationality":"Syrienne"},{"alpha_2_code":"TW","en_nationality":"Chinese, Taiwanese","fr_nationality":"Taiwanaise"},{"alpha_2_code":"TJ","en_nationality":"Tajikistani","fr_nationality":"Tadjike"},{"alpha_2_code":"TZ","en_nationality":"Tanzanian","fr_nationality":"Tanzanienne"},{"alpha_2_code":"TH","en_nationality":"Thai","fr_nationality":"Thaïlandaise"},{"alpha_2_code":"TL","en_nationality":"Timorese","fr_nationality":"Est-timoraise"},{"alpha_2_code":"TG","en_nationality":"Togolese","fr_nationality":"Togolaise"},{"alpha_2_code":"TK","en_nationality":"Tokelauan"},{"alpha_2_code":"TO","en_nationality":"Tongan","fr_nationality":"Tonguienne"},{"alpha_2_code":"TT","en_nationality":"Trinidadian or Tobagonian","fr_nationality":"Trinidadienne"},{"alpha_2_code":"TN","en_nationality":"Tunisian","fr_nationality":"Tunisienne"},{"alpha_2_code":"TR","en_nationality":"Turkish","fr_nationality":"Turque"},{"alpha_2_code":"TM","en_nationality":"Turkmen","fr_nationality":"Turkmene"},{"alpha_2_code":"TC","en_nationality":"Turks and Caicos Island"},{"alpha_2_code":"TV","en_nationality":"Tuvaluan","fr_nationality":"Tuvaluane"},{"alpha_2_code":"UG","en_nationality":"Ugandan","fr_nationality":"Ougandaise"},{"alpha_2_code":"UA","en_nationality":"Ukrainian","fr_nationality":"Ukrainienne"},{"alpha_2_code":"AE","en_nationality":"Emirati, Emirian, Emiri","fr_nationality":"Emirienne"},{"alpha_2_code":"GB","en_nationality":"British, UK"},{"alpha_2_code":"UM","en_nationality":"American"},{"alpha_2_code":"US","en_nationality":"American","fr_nationality":"Americaine"},{"alpha_2_code":"UY","en_nationality":"Uruguayan","fr_nationality":"Uruguayenne"},{"alpha_2_code":"UZ","en_nationality":"Uzbekistani, Uzbek","fr_nationality":"Ouzbeke"},{"alpha_2_code":"VU","en_nationality":"Ni-Vanuatu, Vanuatuan","fr_nationality":"Vanuatuane"},{"alpha_2_code":"VE","en_nationality":"Venezuelan","fr_nationality":"Venezuelienne"},{"alpha_2_code":"VN","en_nationality":"Vietnamese","fr_nationality":"Vietnamienne"},{"alpha_2_code":"VG","en_nationality":"British Virgin Island"},{"alpha_2_code":"VI","en_nationality":"U.S. Virgin Island"},{"alpha_2_code":"WF","en_nationality":"Wallis and Futuna, Wallisian or Futunan"},{"alpha_2_code":"EH","en_nationality":"Sahrawi, Sahrawian, Sahraouian"},{"alpha_2_code":"YE","en_nationality":"Yemeni","fr_nationality":"Yemenite"},{"alpha_2_code":"ZM","en_nationality":"Zambian","fr_nationality":"Zambienne"},{"alpha_2_code":"ZW","en_nationality":"Zimbabwean","fr_nationality":"Zimbabweenne"}]')}});